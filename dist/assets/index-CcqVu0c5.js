var iB=Object.defineProperty;var aB=(t,e,n)=>e in t?iB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fa=(t,e,n)=>aB(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PD={exports:{}},i0={},CD={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=Symbol.for("react.element"),oB=Symbol.for("react.portal"),sB=Symbol.for("react.fragment"),lB=Symbol.for("react.strict_mode"),uB=Symbol.for("react.profiler"),cB=Symbol.for("react.provider"),fB=Symbol.for("react.context"),dB=Symbol.for("react.forward_ref"),hB=Symbol.for("react.suspense"),pB=Symbol.for("react.memo"),mB=Symbol.for("react.lazy"),xP=Symbol.iterator;function gB(t){return t===null||typeof t!="object"?null:(t=xP&&t[xP]||t["@@iterator"],typeof t=="function"?t:null)}var OD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kD=Object.assign,ID={};function Mf(t,e,n){this.props=t,this.context=e,this.refs=ID,this.updater=n||OD}Mf.prototype.isReactComponent={};Mf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jD(){}jD.prototype=Mf.prototype;function NS(t,e,n){this.props=t,this.context=e,this.refs=ID,this.updater=n||OD}var DS=NS.prototype=new jD;DS.constructor=NS;kD(DS,Mf.prototype);DS.isPureReactComponent=!0;var wP=Array.isArray,ND=Object.prototype.hasOwnProperty,MS={current:null},DD={key:!0,ref:!0,__self:!0,__source:!0};function MD(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)ND.call(e,r)&&!DD.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Kp,type:t,key:a,ref:o,props:i,_owner:MS.current}}function yB(t,e){return{$$typeof:Kp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function RS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kp}function vB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _P=/\/+/g;function zb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vB(""+t.key):e.toString(36)}function Mg(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kp:case oB:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zb(o,0):r,wP(i)?(n="",t!=null&&(n=t.replace(_P,"$&/")+"/"),Mg(i,e,n,"",function(u){return u})):i!=null&&(RS(i)&&(i=yB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_P,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",wP(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+zb(a,s);o+=Mg(a,e,n,l,i)}else if(l=gB(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+zb(a,s++),o+=Mg(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qm(t,e,n){if(t==null)return t;var r=[],i=0;return Mg(t,r,"","",function(a){return e.call(n,a,i++)}),r}function bB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},Rg={transition:null},xB={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Rg,ReactCurrentOwner:MS};function RD(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:qm,forEach:function(t,e,n){qm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qm(t,function(){e++}),e},toArray:function(t){return qm(t,function(e){return e})||[]},only:function(t){if(!RS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=Mf;mt.Fragment=sB;mt.Profiler=uB;mt.PureComponent=NS;mt.StrictMode=lB;mt.Suspense=hB;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xB;mt.act=RD;mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kD({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=MS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)ND.call(e,l)&&!DD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Kp,type:t.type,key:i,ref:a,props:r,_owner:o}};mt.createContext=function(t){return t={$$typeof:fB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cB,_context:t},t.Consumer=t};mt.createElement=MD;mt.createFactory=function(t){var e=MD.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:dB,render:t}};mt.isValidElement=RS;mt.lazy=function(t){return{$$typeof:mB,_payload:{_status:-1,_result:t},_init:bB}};mt.memo=function(t,e){return{$$typeof:pB,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=Rg.transition;Rg.transition={};try{t()}finally{Rg.transition=e}};mt.unstable_act=RD;mt.useCallback=function(t,e){return Vr.current.useCallback(t,e)};mt.useContext=function(t){return Vr.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};mt.useEffect=function(t,e){return Vr.current.useEffect(t,e)};mt.useId=function(){return Vr.current.useId()};mt.useImperativeHandle=function(t,e,n){return Vr.current.useImperativeHandle(t,e,n)};mt.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return Vr.current.useMemo(t,e)};mt.useReducer=function(t,e,n){return Vr.current.useReducer(t,e,n)};mt.useRef=function(t){return Vr.current.useRef(t)};mt.useState=function(t){return Vr.current.useState(t)};mt.useSyncExternalStore=function(t,e,n){return Vr.current.useSyncExternalStore(t,e,n)};mt.useTransition=function(){return Vr.current.useTransition()};mt.version="18.3.1";CD.exports=mt;var V=CD.exports;const U=Vt(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wB=V,_B=Symbol.for("react.element"),SB=Symbol.for("react.fragment"),EB=Object.prototype.hasOwnProperty,AB=wB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TB={key:!0,ref:!0,__self:!0,__source:!0};function $D(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EB.call(e,r)&&!TB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_B,type:t,key:a,ref:o,props:i,_owner:AB.current}}i0.Fragment=SB;i0.jsx=$D;i0.jsxs=$D;PD.exports=i0;var d=PD.exports,xw={},LD={exports:{}},Ei={},VD={exports:{}},FD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,re){var me=Y.length;Y.push(re);e:for(;0<me;){var Ae=me-1>>>1,be=Y[Ae];if(0<i(be,re))Y[Ae]=re,Y[me]=be,me=Ae;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],me=Y.pop();if(me!==re){Y[0]=me;e:for(var Ae=0,be=Y.length,je=be>>>1;Ae<je;){var We=2*(Ae+1)-1,at=Y[We],tt=We+1,le=Y[tt];if(0>i(at,me))tt<be&&0>i(le,at)?(Y[Ae]=le,Y[tt]=me,Ae=tt):(Y[Ae]=at,Y[We]=me,Ae=We);else if(tt<be&&0>i(le,me))Y[Ae]=le,Y[tt]=me,Ae=tt;else break e}}return re}function i(Y,re){var me=Y.sortIndex-re.sortIndex;return me!==0?me:Y.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,g=!1,b=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=Y)r(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(u)}}function I(Y){if(v=!1,A(Y),!b)if(n(l)!==null)b=!0,ce(S);else{var re=n(u);re!==null&&de(I,re.startTime-Y)}}function S(Y,re){b=!1,v&&(v=!1,w(T),T=-1),g=!0;var me=h;try{for(A(re),f=n(l);f!==null&&(!(f.expirationTime>re)||Y&&!D());){var Ae=f.callback;if(typeof Ae=="function"){f.callback=null,h=f.priorityLevel;var be=Ae(f.expirationTime<=re);re=t.unstable_now(),typeof be=="function"?f.callback=be:f===n(l)&&r(l),A(re)}else r(l);f=n(l)}if(f!==null)var je=!0;else{var We=n(u);We!==null&&de(I,We.startTime-re),je=!1}return je}finally{f=null,h=me,g=!1}}var C=!1,E=null,T=-1,j=5,R=-1;function D(){return!(t.unstable_now()-R<j)}function $(){if(E!==null){var Y=t.unstable_now();R=Y;var re=!0;try{re=E(!0,Y)}finally{re?L():(C=!1,E=null)}}else C=!1}var L;if(typeof _=="function")L=function(){_($)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ae=ne.port2;ne.port1.onmessage=$,L=function(){ae.postMessage(null)}}else L=function(){x($,0)};function ce(Y){E=Y,C||(C=!0,L())}function de(Y,re){T=x(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,ce(S))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var re=3;break;default:re=h}var me=h;h=re;try{return Y()}finally{h=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=h;h=Y;try{return re()}finally{h=me}},t.unstable_scheduleCallback=function(Y,re,me){var Ae=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ae+me:Ae):me=Ae,Y){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=me+be,Y={id:c++,callback:re,priorityLevel:Y,startTime:me,expirationTime:be,sortIndex:-1},me>Ae?(Y.sortIndex=me,e(u,Y),n(l)===null&&Y===n(u)&&(v?(w(T),T=-1):v=!0,de(I,me-Ae))):(Y.sortIndex=be,e(l,Y),b||g||(b=!0,ce(S))),Y},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Y){var re=h;return function(){var me=h;h=re;try{return Y.apply(this,arguments)}finally{h=me}}}})(FD);VD.exports=FD;var PB=VD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CB=V,wi=PB;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zD=new Set,kh={};function _u(t,e){Bc(t,e),Bc(t+"Capture",e)}function Bc(t,e){for(kh[t]=e,t=0;t<e.length;t++)zD.add(e[t])}var zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ww=Object.prototype.hasOwnProperty,OB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SP={},EP={};function kB(t){return ww.call(EP,t)?!0:ww.call(SP,t)?!1:OB.test(t)?EP[t]=!0:(SP[t]=!0,!1)}function IB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jB(t,e,n,r){if(e===null||typeof e>"u"||IB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fr(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new Fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new Fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new Fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new Fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new Fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new Fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new Fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new Fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new Fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $S=/[\-:]([a-z])/g;function LS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($S,LS);cr[e]=new Fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($S,LS);cr[e]=new Fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($S,LS);cr[e]=new Fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new Fr(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new Fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function VS(t,e,n,r){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jB(e,n,i,r)&&(n=null),r||i===null?kB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=CB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Km=Symbol.for("react.element"),lc=Symbol.for("react.portal"),uc=Symbol.for("react.fragment"),FS=Symbol.for("react.strict_mode"),_w=Symbol.for("react.profiler"),BD=Symbol.for("react.provider"),UD=Symbol.for("react.context"),zS=Symbol.for("react.forward_ref"),Sw=Symbol.for("react.suspense"),Ew=Symbol.for("react.suspense_list"),BS=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),WD=Symbol.for("react.offscreen"),AP=Symbol.iterator;function _d(t){return t===null||typeof t!="object"?null:(t=AP&&t[AP]||t["@@iterator"],typeof t=="function"?t:null)}var hn=Object.assign,Bb;function Wd(t){if(Bb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bb=e&&e[1]||""}return`
`+Bb+t}var Ub=!1;function Wb(t,e){if(!t||Ub)return"";Ub=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Ub=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wd(t):""}function NB(t){switch(t.tag){case 5:return Wd(t.type);case 16:return Wd("Lazy");case 13:return Wd("Suspense");case 19:return Wd("SuspenseList");case 0:case 2:case 15:return t=Wb(t.type,!1),t;case 11:return t=Wb(t.type.render,!1),t;case 1:return t=Wb(t.type,!0),t;default:return""}}function Aw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uc:return"Fragment";case lc:return"Portal";case _w:return"Profiler";case FS:return"StrictMode";case Sw:return"Suspense";case Ew:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UD:return(t.displayName||"Context")+".Consumer";case BD:return(t._context.displayName||"Context")+".Provider";case zS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BS:return e=t.displayName||null,e!==null?e:Aw(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return Aw(t(e))}catch{}}return null}function DB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Aw(e);case 8:return e===FS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MB(t){var e=qD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hm(t){t._valueTracker||(t._valueTracker=MB(t))}function KD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function iy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tw(t,e){var n=e.checked;return hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function TP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HD(t,e){e=e.checked,e!=null&&VS(t,"checked",e,!1)}function Pw(t,e){HD(t,e);var n=Ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cw(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cw(t,e,n){(e!=="number"||iy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qd=Array.isArray;function Cc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ow(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ee(92));if(qd(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function GD(t,e){var n=Ks(e.value),r=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function OP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gm,XD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gm=Gm||document.createElement("div"),Gm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ih(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ah={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RB=["Webkit","ms","Moz","O"];Object.keys(ah).forEach(function(t){RB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ah[e]=ah[t]})});function QD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ah.hasOwnProperty(t)&&ah[t]?(""+e).trim():e+"px"}function JD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $B=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iw(t,e){if(e){if($B[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function jw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nw=null;function US(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dw=null,Oc=null,kc=null;function kP(t){if(t=Yp(t)){if(typeof Dw!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=u0(e),Dw(t.stateNode,t.type,e))}}function ZD(t){Oc?kc?kc.push(t):kc=[t]:Oc=t}function eM(){if(Oc){var t=Oc,e=kc;if(kc=Oc=null,kP(t),e)for(t=0;t<e.length;t++)kP(e[t])}}function tM(t,e){return t(e)}function nM(){}var qb=!1;function rM(t,e,n){if(qb)return t(e,n);qb=!0;try{return tM(t,e,n)}finally{qb=!1,(Oc!==null||kc!==null)&&(nM(),eM())}}function jh(t,e){var n=t.stateNode;if(n===null)return null;var r=u0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ee(231,e,typeof n));return n}var Mw=!1;if(zo)try{var Sd={};Object.defineProperty(Sd,"passive",{get:function(){Mw=!0}}),window.addEventListener("test",Sd,Sd),window.removeEventListener("test",Sd,Sd)}catch{Mw=!1}function LB(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var oh=!1,ay=null,oy=!1,Rw=null,VB={onError:function(t){oh=!0,ay=t}};function FB(t,e,n,r,i,a,o,s,l){oh=!1,ay=null,LB.apply(VB,arguments)}function zB(t,e,n,r,i,a,o,s,l){if(FB.apply(this,arguments),oh){if(oh){var u=ay;oh=!1,ay=null}else throw Error(Ee(198));oy||(oy=!0,Rw=u)}}function Su(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IP(t){if(Su(t)!==t)throw Error(Ee(188))}function BB(t){var e=t.alternate;if(!e){if(e=Su(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return IP(i),t;if(a===r)return IP(i),e;a=a.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?t:e}function aM(t){return t=BB(t),t!==null?oM(t):null}function oM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oM(t);if(e!==null)return e;t=t.sibling}return null}var sM=wi.unstable_scheduleCallback,jP=wi.unstable_cancelCallback,UB=wi.unstable_shouldYield,WB=wi.unstable_requestPaint,En=wi.unstable_now,qB=wi.unstable_getCurrentPriorityLevel,WS=wi.unstable_ImmediatePriority,lM=wi.unstable_UserBlockingPriority,sy=wi.unstable_NormalPriority,KB=wi.unstable_LowPriority,uM=wi.unstable_IdlePriority,a0=null,Ga=null;function HB(t){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(a0,t,void 0,(t.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:XB,GB=Math.log,YB=Math.LN2;function XB(t){return t>>>=0,t===0?32:31-(GB(t)/YB|0)|0}var Ym=64,Xm=4194304;function Kd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ly(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Kd(s):(a&=o,a!==0&&(r=Kd(a)))}else o=n&~i,o!==0?r=Kd(o):a!==0&&(r=Kd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Aa(e),i=1<<n,r|=t[n],e&=~i;return r}function QB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Aa(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=QB(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function $w(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cM(){var t=Ym;return Ym<<=1,!(Ym&4194240)&&(Ym=64),t}function Kb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Aa(e),t[e]=n}function ZB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Aa(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function qS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Aa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dt=0;function fM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dM,KS,hM,pM,mM,Lw=!1,Qm=[],Is=null,js=null,Ns=null,Nh=new Map,Dh=new Map,Ss=[],e6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NP(t,e){switch(t){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Nh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(e.pointerId)}}function Ed(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Yp(e),e!==null&&KS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function t6(t,e,n,r,i){switch(e){case"focusin":return Is=Ed(Is,t,e,n,r,i),!0;case"dragenter":return js=Ed(js,t,e,n,r,i),!0;case"mouseover":return Ns=Ed(Ns,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nh.set(a,Ed(Nh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dh.set(a,Ed(Dh.get(a)||null,t,e,n,r,i)),!0}return!1}function gM(t){var e=Ul(t.target);if(e!==null){var n=Su(e);if(n!==null){if(e=n.tag,e===13){if(e=iM(n),e!==null){t.blockedOn=e,mM(t.priority,function(){hM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $g(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nw=r,n.target.dispatchEvent(r),Nw=null}else return e=Yp(n),e!==null&&KS(e),t.blockedOn=n,!1;e.shift()}return!0}function DP(t,e,n){$g(t)&&n.delete(e)}function n6(){Lw=!1,Is!==null&&$g(Is)&&(Is=null),js!==null&&$g(js)&&(js=null),Ns!==null&&$g(Ns)&&(Ns=null),Nh.forEach(DP),Dh.forEach(DP)}function Ad(t,e){t.blockedOn===e&&(t.blockedOn=null,Lw||(Lw=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,n6)))}function Mh(t){function e(i){return Ad(i,t)}if(0<Qm.length){Ad(Qm[0],t);for(var n=1;n<Qm.length;n++){var r=Qm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Is!==null&&Ad(Is,t),js!==null&&Ad(js,t),Ns!==null&&Ad(Ns,t),Nh.forEach(e),Dh.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)gM(n),n.blockedOn===null&&Ss.shift()}var Ic=ts.ReactCurrentBatchConfig,uy=!0;function r6(t,e,n,r){var i=Dt,a=Ic.transition;Ic.transition=null;try{Dt=1,HS(t,e,n,r)}finally{Dt=i,Ic.transition=a}}function i6(t,e,n,r){var i=Dt,a=Ic.transition;Ic.transition=null;try{Dt=4,HS(t,e,n,r)}finally{Dt=i,Ic.transition=a}}function HS(t,e,n,r){if(uy){var i=Vw(t,e,n,r);if(i===null)nx(t,e,r,cy,n),NP(t,r);else if(t6(i,t,e,n,r))r.stopPropagation();else if(NP(t,r),e&4&&-1<e6.indexOf(t)){for(;i!==null;){var a=Yp(i);if(a!==null&&dM(a),a=Vw(t,e,n,r),a===null&&nx(t,e,r,cy,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else nx(t,e,r,null,n)}}var cy=null;function Vw(t,e,n,r){if(cy=null,t=US(r),t=Ul(t),t!==null)if(e=Su(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cy=t,null}function yM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qB()){case WS:return 1;case lM:return 4;case sy:case KB:return 16;case uM:return 536870912;default:return 16}default:return 16}}var Ts=null,GS=null,Lg=null;function vM(){if(Lg)return Lg;var t,e=GS,n=e.length,r,i="value"in Ts?Ts.value:Ts.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Lg=i.slice(t,1<r?1-r:void 0)}function Vg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jm(){return!0}function MP(){return!1}function Ai(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jm:MP,this.isPropagationStopped=MP,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jm)},persist:function(){},isPersistent:Jm}),e}var Rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},YS=Ai(Rf),Gp=hn({},Rf,{view:0,detail:0}),a6=Ai(Gp),Hb,Gb,Td,o0=hn({},Gp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:XS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Td&&(Td&&t.type==="mousemove"?(Hb=t.screenX-Td.screenX,Gb=t.screenY-Td.screenY):Gb=Hb=0,Td=t),Hb)},movementY:function(t){return"movementY"in t?t.movementY:Gb}}),RP=Ai(o0),o6=hn({},o0,{dataTransfer:0}),s6=Ai(o6),l6=hn({},Gp,{relatedTarget:0}),Yb=Ai(l6),u6=hn({},Rf,{animationName:0,elapsedTime:0,pseudoElement:0}),c6=Ai(u6),f6=hn({},Rf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d6=Ai(f6),h6=hn({},Rf,{data:0}),$P=Ai(h6),p6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=g6[t])?!!e[t]:!1}function XS(){return y6}var v6=hn({},Gp,{key:function(t){if(t.key){var e=p6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:XS,charCode:function(t){return t.type==="keypress"?Vg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b6=Ai(v6),x6=hn({},o0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LP=Ai(x6),w6=hn({},Gp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:XS}),_6=Ai(w6),S6=hn({},Rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),E6=Ai(S6),A6=hn({},o0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T6=Ai(A6),P6=[9,13,27,32],QS=zo&&"CompositionEvent"in window,sh=null;zo&&"documentMode"in document&&(sh=document.documentMode);var C6=zo&&"TextEvent"in window&&!sh,bM=zo&&(!QS||sh&&8<sh&&11>=sh),VP=" ",FP=!1;function xM(t,e){switch(t){case"keyup":return P6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cc=!1;function O6(t,e){switch(t){case"compositionend":return wM(e);case"keypress":return e.which!==32?null:(FP=!0,VP);case"textInput":return t=e.data,t===VP&&FP?null:t;default:return null}}function k6(t,e){if(cc)return t==="compositionend"||!QS&&xM(t,e)?(t=vM(),Lg=GS=Ts=null,cc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bM&&e.locale!=="ko"?null:e.data;default:return null}}var I6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!I6[t.type]:e==="textarea"}function _M(t,e,n,r){ZD(r),e=fy(e,"onChange"),0<e.length&&(n=new YS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lh=null,Rh=null;function j6(t){NM(t,0)}function s0(t){var e=hc(t);if(KD(e))return t}function N6(t,e){if(t==="change")return e}var SM=!1;if(zo){var Xb;if(zo){var Qb="oninput"in document;if(!Qb){var BP=document.createElement("div");BP.setAttribute("oninput","return;"),Qb=typeof BP.oninput=="function"}Xb=Qb}else Xb=!1;SM=Xb&&(!document.documentMode||9<document.documentMode)}function UP(){lh&&(lh.detachEvent("onpropertychange",EM),Rh=lh=null)}function EM(t){if(t.propertyName==="value"&&s0(Rh)){var e=[];_M(e,Rh,t,US(t)),rM(j6,e)}}function D6(t,e,n){t==="focusin"?(UP(),lh=e,Rh=n,lh.attachEvent("onpropertychange",EM)):t==="focusout"&&UP()}function M6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s0(Rh)}function R6(t,e){if(t==="click")return s0(e)}function $6(t,e){if(t==="input"||t==="change")return s0(e)}function L6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pa=typeof Object.is=="function"?Object.is:L6;function $h(t,e){if(Pa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ww.call(e,i)||!Pa(t[i],e[i]))return!1}return!0}function WP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qP(t,e){var n=WP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WP(n)}}function AM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TM(){for(var t=window,e=iy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=iy(t.document)}return e}function JS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V6(t){var e=TM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AM(n.ownerDocument.documentElement,n)){if(r!==null&&JS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=qP(n,a);var o=qP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F6=zo&&"documentMode"in document&&11>=document.documentMode,fc=null,Fw=null,uh=null,zw=!1;function KP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zw||fc==null||fc!==iy(r)||(r=fc,"selectionStart"in r&&JS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uh&&$h(uh,r)||(uh=r,r=fy(Fw,"onSelect"),0<r.length&&(e=new YS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fc)))}function Zm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dc={animationend:Zm("Animation","AnimationEnd"),animationiteration:Zm("Animation","AnimationIteration"),animationstart:Zm("Animation","AnimationStart"),transitionend:Zm("Transition","TransitionEnd")},Jb={},PM={};zo&&(PM=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function l0(t){if(Jb[t])return Jb[t];if(!dc[t])return t;var e=dc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PM)return Jb[t]=e[n];return t}var CM=l0("animationend"),OM=l0("animationiteration"),kM=l0("animationstart"),IM=l0("transitionend"),jM=new Map,HP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(t,e){jM.set(t,e),_u(e,[t])}for(var Zb=0;Zb<HP.length;Zb++){var ex=HP[Zb],z6=ex.toLowerCase(),B6=ex[0].toUpperCase()+ex.slice(1);tl(z6,"on"+B6)}tl(CM,"onAnimationEnd");tl(OM,"onAnimationIteration");tl(kM,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(IM,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);_u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_u("onBeforeInput",["compositionend","keypress","textInput","paste"]);_u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hd));function GP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zB(r,e,void 0,t),t.currentTarget=null}function NM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;GP(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;GP(i,s,u),a=l}}}if(oy)throw t=Rw,oy=!1,Rw=null,t}function Zt(t,e){var n=e[Kw];n===void 0&&(n=e[Kw]=new Set);var r=t+"__bubble";n.has(r)||(DM(e,t,2,!1),n.add(r))}function tx(t,e,n){var r=0;e&&(r|=4),DM(n,t,r,e)}var eg="_reactListening"+Math.random().toString(36).slice(2);function Lh(t){if(!t[eg]){t[eg]=!0,zD.forEach(function(n){n!=="selectionchange"&&(U6.has(n)||tx(n,!1,t),tx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eg]||(e[eg]=!0,tx("selectionchange",!1,e))}}function DM(t,e,n,r){switch(yM(e)){case 1:var i=r6;break;case 4:i=i6;break;default:i=HS}n=i.bind(null,e,n,t),i=void 0,!Mw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nx(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ul(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}rM(function(){var u=a,c=US(n),f=[];e:{var h=jM.get(t);if(h!==void 0){var g=YS,b=t;switch(t){case"keypress":if(Vg(n)===0)break e;case"keydown":case"keyup":g=b6;break;case"focusin":b="focus",g=Yb;break;case"focusout":b="blur",g=Yb;break;case"beforeblur":case"afterblur":g=Yb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=RP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=s6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_6;break;case CM:case OM:case kM:g=c6;break;case IM:g=E6;break;case"scroll":g=a6;break;case"wheel":g=T6;break;case"copy":case"cut":case"paste":g=d6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=LP}var v=(e&4)!==0,x=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,A;_!==null;){A=_;var I=A.stateNode;if(A.tag===5&&I!==null&&(A=I,w!==null&&(I=jh(_,w),I!=null&&v.push(Vh(_,I,A)))),x)break;_=_.return}0<v.length&&(h=new g(h,b,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Nw&&(b=n.relatedTarget||n.fromElement)&&(Ul(b)||b[Bo]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?Ul(b):null,b!==null&&(x=Su(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(v=RP,I="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=LP,I="onPointerLeave",w="onPointerEnter",_="pointer"),x=g==null?h:hc(g),A=b==null?h:hc(b),h=new v(I,_+"leave",g,n,c),h.target=x,h.relatedTarget=A,I=null,Ul(c)===u&&(v=new v(w,_+"enter",b,n,c),v.target=A,v.relatedTarget=x,I=v),x=I,g&&b)t:{for(v=g,w=b,_=0,A=v;A;A=Qu(A))_++;for(A=0,I=w;I;I=Qu(I))A++;for(;0<_-A;)v=Qu(v),_--;for(;0<A-_;)w=Qu(w),A--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=Qu(v),w=Qu(w)}v=null}else v=null;g!==null&&YP(f,h,g,v,!1),b!==null&&x!==null&&YP(f,x,b,v,!0)}}e:{if(h=u?hc(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=N6;else if(zP(h))if(SM)S=$6;else{S=M6;var C=D6}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=R6);if(S&&(S=S(t,u))){_M(f,S,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Cw(h,"number",h.value)}switch(C=u?hc(u):window,t){case"focusin":(zP(C)||C.contentEditable==="true")&&(fc=C,Fw=u,uh=null);break;case"focusout":uh=Fw=fc=null;break;case"mousedown":zw=!0;break;case"contextmenu":case"mouseup":case"dragend":zw=!1,KP(f,n,c);break;case"selectionchange":if(F6)break;case"keydown":case"keyup":KP(f,n,c)}var E;if(QS)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else cc?xM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(bM&&n.locale!=="ko"&&(cc||T!=="onCompositionStart"?T==="onCompositionEnd"&&cc&&(E=vM()):(Ts=c,GS="value"in Ts?Ts.value:Ts.textContent,cc=!0)),C=fy(u,T),0<C.length&&(T=new $P(T,t,null,n,c),f.push({event:T,listeners:C}),E?T.data=E:(E=wM(n),E!==null&&(T.data=E)))),(E=C6?O6(t,n):k6(t,n))&&(u=fy(u,"onBeforeInput"),0<u.length&&(c=new $P("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}NM(f,e)})}function Vh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=jh(t,n),a!=null&&r.unshift(Vh(t,a,i)),a=jh(t,e),a!=null&&r.push(Vh(t,a,i))),t=t.return}return r}function Qu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YP(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=jh(n,a),l!=null&&o.unshift(Vh(n,l,s))):i||(l=jh(n,a),l!=null&&o.push(Vh(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var W6=/\r\n?/g,q6=/\u0000|\uFFFD/g;function XP(t){return(typeof t=="string"?t:""+t).replace(W6,`
`).replace(q6,"")}function tg(t,e,n){if(e=XP(e),XP(t)!==e&&n)throw Error(Ee(425))}function dy(){}var Bw=null,Uw=null;function Ww(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qw=typeof setTimeout=="function"?setTimeout:void 0,K6=typeof clearTimeout=="function"?clearTimeout:void 0,QP=typeof Promise=="function"?Promise:void 0,H6=typeof queueMicrotask=="function"?queueMicrotask:typeof QP<"u"?function(t){return QP.resolve(null).then(t).catch(G6)}:qw;function G6(t){setTimeout(function(){throw t})}function rx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mh(e)}function Ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function JP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $f=Math.random().toString(36).slice(2),Ua="__reactFiber$"+$f,Fh="__reactProps$"+$f,Bo="__reactContainer$"+$f,Kw="__reactEvents$"+$f,Y6="__reactListeners$"+$f,X6="__reactHandles$"+$f;function Ul(t){var e=t[Ua];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bo]||n[Ua]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JP(t);t!==null;){if(n=t[Ua])return n;t=JP(t)}return e}t=n,n=t.parentNode}return null}function Yp(t){return t=t[Ua]||t[Bo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function u0(t){return t[Fh]||null}var Hw=[],pc=-1;function nl(t){return{current:t}}function rn(t){0>pc||(t.current=Hw[pc],Hw[pc]=null,pc--)}function Xt(t,e){pc++,Hw[pc]=t.current,t.current=e}var Hs={},Cr=nl(Hs),Zr=nl(!1),uu=Hs;function Uc(t,e){var n=t.type.contextTypes;if(!n)return Hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ei(t){return t=t.childContextTypes,t!=null}function hy(){rn(Zr),rn(Cr)}function ZP(t,e,n){if(Cr.current!==Hs)throw Error(Ee(168));Xt(Cr,e),Xt(Zr,n)}function MM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ee(108,DB(t)||"Unknown",i));return hn({},n,r)}function py(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hs,uu=Cr.current,Xt(Cr,t),Xt(Zr,Zr.current),!0}function e2(t,e,n){var r=t.stateNode;if(!r)throw Error(Ee(169));n?(t=MM(t,e,uu),r.__reactInternalMemoizedMergedChildContext=t,rn(Zr),rn(Cr),Xt(Cr,t)):rn(Zr),Xt(Zr,n)}var Ao=null,c0=!1,ix=!1;function RM(t){Ao===null?Ao=[t]:Ao.push(t)}function Q6(t){c0=!0,RM(t)}function rl(){if(!ix&&Ao!==null){ix=!0;var t=0,e=Dt;try{var n=Ao;for(Dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ao=null,c0=!1}catch(i){throw Ao!==null&&(Ao=Ao.slice(t+1)),sM(WS,rl),i}finally{Dt=e,ix=!1}}return null}var mc=[],gc=0,my=null,gy=0,Fi=[],zi=0,cu=null,To=1,Po="";function Dl(t,e){mc[gc++]=gy,mc[gc++]=my,my=t,gy=e}function $M(t,e,n){Fi[zi++]=To,Fi[zi++]=Po,Fi[zi++]=cu,cu=t;var r=To;t=Po;var i=32-Aa(r)-1;r&=~(1<<i),n+=1;var a=32-Aa(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,To=1<<32-Aa(e)+i|n<<i|r,Po=a+t}else To=1<<a|n<<i|r,Po=t}function ZS(t){t.return!==null&&(Dl(t,1),$M(t,1,0))}function eE(t){for(;t===my;)my=mc[--gc],mc[gc]=null,gy=mc[--gc],mc[gc]=null;for(;t===cu;)cu=Fi[--zi],Fi[zi]=null,Po=Fi[--zi],Fi[zi]=null,To=Fi[--zi],Fi[zi]=null}var yi=null,mi=null,an=!1,ba=null;function LM(t,e){var n=Ui(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function t2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yi=t,mi=Ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yi=t,mi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cu!==null?{id:To,overflow:Po}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ui(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yi=t,mi=null,!0):!1;default:return!1}}function Gw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yw(t){if(an){var e=mi;if(e){var n=e;if(!t2(t,e)){if(Gw(t))throw Error(Ee(418));e=Ds(n.nextSibling);var r=yi;e&&t2(t,e)?LM(r,n):(t.flags=t.flags&-4097|2,an=!1,yi=t)}}else{if(Gw(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,an=!1,yi=t}}}function n2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yi=t}function ng(t){if(t!==yi)return!1;if(!an)return n2(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ww(t.type,t.memoizedProps)),e&&(e=mi)){if(Gw(t))throw VM(),Error(Ee(418));for(;e;)LM(t,e),e=Ds(e.nextSibling)}if(n2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mi=Ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mi=null}}else mi=yi?Ds(t.stateNode.nextSibling):null;return!0}function VM(){for(var t=mi;t;)t=Ds(t.nextSibling)}function Wc(){mi=yi=null,an=!1}function tE(t){ba===null?ba=[t]:ba.push(t)}var J6=ts.ReactCurrentBatchConfig;function Pd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,t))}return t}function rg(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function r2(t){var e=t._init;return e(t._payload)}function FM(t){function e(w,_){if(t){var A=w.deletions;A===null?(w.deletions=[_],w.flags|=16):A.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Ls(w,_),w.index=0,w.sibling=null,w}function a(w,_,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<_?(w.flags|=2,_):A):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,_,A,I){return _===null||_.tag!==6?(_=fx(A,w.mode,I),_.return=w,_):(_=i(_,A),_.return=w,_)}function l(w,_,A,I){var S=A.type;return S===uc?c(w,_,A.props.children,I,A.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xs&&r2(S)===_.type)?(I=i(_,A.props),I.ref=Pd(w,_,A),I.return=w,I):(I=Kg(A.type,A.key,A.props,null,w.mode,I),I.ref=Pd(w,_,A),I.return=w,I)}function u(w,_,A,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=dx(A,w.mode,I),_.return=w,_):(_=i(_,A.children||[]),_.return=w,_)}function c(w,_,A,I,S){return _===null||_.tag!==7?(_=nu(A,w.mode,I,S),_.return=w,_):(_=i(_,A),_.return=w,_)}function f(w,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=fx(""+_,w.mode,A),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Km:return A=Kg(_.type,_.key,_.props,null,w.mode,A),A.ref=Pd(w,null,_),A.return=w,A;case lc:return _=dx(_,w.mode,A),_.return=w,_;case xs:var I=_._init;return f(w,I(_._payload),A)}if(qd(_)||_d(_))return _=nu(_,w.mode,A,null),_.return=w,_;rg(w,_)}return null}function h(w,_,A,I){var S=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return S!==null?null:s(w,_,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Km:return A.key===S?l(w,_,A,I):null;case lc:return A.key===S?u(w,_,A,I):null;case xs:return S=A._init,h(w,_,S(A._payload),I)}if(qd(A)||_d(A))return S!==null?null:c(w,_,A,I,null);rg(w,A)}return null}function g(w,_,A,I,S){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(A)||null,s(_,w,""+I,S);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Km:return w=w.get(I.key===null?A:I.key)||null,l(_,w,I,S);case lc:return w=w.get(I.key===null?A:I.key)||null,u(_,w,I,S);case xs:var C=I._init;return g(w,_,A,C(I._payload),S)}if(qd(I)||_d(I))return w=w.get(A)||null,c(_,w,I,S,null);rg(_,I)}return null}function b(w,_,A,I){for(var S=null,C=null,E=_,T=_=0,j=null;E!==null&&T<A.length;T++){E.index>T?(j=E,E=null):j=E.sibling;var R=h(w,E,A[T],I);if(R===null){E===null&&(E=j);break}t&&E&&R.alternate===null&&e(w,E),_=a(R,_,T),C===null?S=R:C.sibling=R,C=R,E=j}if(T===A.length)return n(w,E),an&&Dl(w,T),S;if(E===null){for(;T<A.length;T++)E=f(w,A[T],I),E!==null&&(_=a(E,_,T),C===null?S=E:C.sibling=E,C=E);return an&&Dl(w,T),S}for(E=r(w,E);T<A.length;T++)j=g(E,w,T,A[T],I),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?T:j.key),_=a(j,_,T),C===null?S=j:C.sibling=j,C=j);return t&&E.forEach(function(D){return e(w,D)}),an&&Dl(w,T),S}function v(w,_,A,I){var S=_d(A);if(typeof S!="function")throw Error(Ee(150));if(A=S.call(A),A==null)throw Error(Ee(151));for(var C=S=null,E=_,T=_=0,j=null,R=A.next();E!==null&&!R.done;T++,R=A.next()){E.index>T?(j=E,E=null):j=E.sibling;var D=h(w,E,R.value,I);if(D===null){E===null&&(E=j);break}t&&E&&D.alternate===null&&e(w,E),_=a(D,_,T),C===null?S=D:C.sibling=D,C=D,E=j}if(R.done)return n(w,E),an&&Dl(w,T),S;if(E===null){for(;!R.done;T++,R=A.next())R=f(w,R.value,I),R!==null&&(_=a(R,_,T),C===null?S=R:C.sibling=R,C=R);return an&&Dl(w,T),S}for(E=r(w,E);!R.done;T++,R=A.next())R=g(E,w,T,R.value,I),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?T:R.key),_=a(R,_,T),C===null?S=R:C.sibling=R,C=R);return t&&E.forEach(function($){return e(w,$)}),an&&Dl(w,T),S}function x(w,_,A,I){if(typeof A=="object"&&A!==null&&A.type===uc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Km:e:{for(var S=A.key,C=_;C!==null;){if(C.key===S){if(S=A.type,S===uc){if(C.tag===7){n(w,C.sibling),_=i(C,A.props.children),_.return=w,w=_;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xs&&r2(S)===C.type){n(w,C.sibling),_=i(C,A.props),_.ref=Pd(w,C,A),_.return=w,w=_;break e}n(w,C);break}else e(w,C);C=C.sibling}A.type===uc?(_=nu(A.props.children,w.mode,I,A.key),_.return=w,w=_):(I=Kg(A.type,A.key,A.props,null,w.mode,I),I.ref=Pd(w,_,A),I.return=w,w=I)}return o(w);case lc:e:{for(C=A.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(w,_.sibling),_=i(_,A.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=dx(A,w.mode,I),_.return=w,w=_}return o(w);case xs:return C=A._init,x(w,_,C(A._payload),I)}if(qd(A))return b(w,_,A,I);if(_d(A))return v(w,_,A,I);rg(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,A),_.return=w,w=_):(n(w,_),_=fx(A,w.mode,I),_.return=w,w=_),o(w)):n(w,_)}return x}var qc=FM(!0),zM=FM(!1),yy=nl(null),vy=null,yc=null,nE=null;function rE(){nE=yc=vy=null}function iE(t){var e=yy.current;rn(yy),t._currentValue=e}function Xw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jc(t,e){vy=t,nE=yc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qr=!0),t.firstContext=null)}function Gi(t){var e=t._currentValue;if(nE!==t)if(t={context:t,memoizedValue:e,next:null},yc===null){if(vy===null)throw Error(Ee(308));yc=t,vy.dependencies={lanes:0,firstContext:t}}else yc=yc.next=t;return e}var Wl=null;function aE(t){Wl===null?Wl=[t]:Wl.push(t)}function BM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,aE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Uo(t,r)}function Uo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function oE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Uo(t,n)}return i=r.interleaved,i===null?(e.next=e,aE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Uo(t,n)}function Fg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qS(t,n)}}function i2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function by(t,e,n,r){var i=t.updateQueue;ws=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=t,v=s;switch(h=e,g=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(g,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,h=typeof b=="function"?b.call(g,f,h):b,h==null)break e;f=hn({},f,h);break e;case 2:ws=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);du|=o,t.lanes=o,t.memoizedState=f}}function a2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ee(191,i));i.call(r)}}}var Xp={},Ya=nl(Xp),zh=nl(Xp),Bh=nl(Xp);function ql(t){if(t===Xp)throw Error(Ee(174));return t}function sE(t,e){switch(Xt(Bh,e),Xt(zh,t),Xt(Ya,Xp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kw(e,t)}rn(Ya),Xt(Ya,e)}function Kc(){rn(Ya),rn(zh),rn(Bh)}function WM(t){ql(Bh.current);var e=ql(Ya.current),n=kw(e,t.type);e!==n&&(Xt(zh,t),Xt(Ya,n))}function lE(t){zh.current===t&&(rn(Ya),rn(zh))}var fn=nl(0);function xy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ax=[];function uE(){for(var t=0;t<ax.length;t++)ax[t]._workInProgressVersionPrimary=null;ax.length=0}var zg=ts.ReactCurrentDispatcher,ox=ts.ReactCurrentBatchConfig,fu=0,dn=null,Vn=null,Yn=null,wy=!1,ch=!1,Uh=0,Z6=0;function mr(){throw Error(Ee(321))}function cE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pa(t[n],e[n]))return!1;return!0}function fE(t,e,n,r,i,a){if(fu=a,dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zg.current=t===null||t.memoizedState===null?r8:i8,t=n(r,i),ch){a=0;do{if(ch=!1,Uh=0,25<=a)throw Error(Ee(301));a+=1,Yn=Vn=null,e.updateQueue=null,zg.current=a8,t=n(r,i)}while(ch)}if(zg.current=_y,e=Vn!==null&&Vn.next!==null,fu=0,Yn=Vn=dn=null,wy=!1,e)throw Error(Ee(300));return t}function dE(){var t=Uh!==0;return Uh=0,t}function Fa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?dn.memoizedState=Yn=t:Yn=Yn.next=t,Yn}function Yi(){if(Vn===null){var t=dn.alternate;t=t!==null?t.memoizedState:null}else t=Vn.next;var e=Yn===null?dn.memoizedState:Yn.next;if(e!==null)Yn=e,Vn=t;else{if(t===null)throw Error(Ee(310));Vn=t,t={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Yn===null?dn.memoizedState=Yn=t:Yn=Yn.next=t}return Yn}function Wh(t,e){return typeof e=="function"?e(t):e}function sx(t){var e=Yi(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var r=Vn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((fu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,dn.lanes|=c,du|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Pa(r,e.memoizedState)||(Qr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,dn.lanes|=a,du|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lx(t){var e=Yi(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Pa(a,e.memoizedState)||(Qr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function qM(){}function KM(t,e){var n=dn,r=Yi(),i=e(),a=!Pa(r.memoizedState,i);if(a&&(r.memoizedState=i,Qr=!0),r=r.queue,hE(YM.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Yn!==null&&Yn.memoizedState.tag&1){if(n.flags|=2048,qh(9,GM.bind(null,n,r,i,e),void 0,null),Xn===null)throw Error(Ee(349));fu&30||HM(n,e,i)}return i}function HM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GM(t,e,n,r){e.value=n,e.getSnapshot=r,XM(e)&&QM(t)}function YM(t,e,n){return n(function(){XM(e)&&QM(t)})}function XM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pa(t,n)}catch{return!0}}function QM(t){var e=Uo(t,1);e!==null&&Ta(e,t,1,-1)}function o2(t){var e=Fa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wh,lastRenderedState:t},e.queue=t,t=t.dispatch=n8.bind(null,dn,t),[e.memoizedState,t]}function qh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JM(){return Yi().memoizedState}function Bg(t,e,n,r){var i=Fa();dn.flags|=t,i.memoizedState=qh(1|e,n,void 0,r===void 0?null:r)}function f0(t,e,n,r){var i=Yi();r=r===void 0?null:r;var a=void 0;if(Vn!==null){var o=Vn.memoizedState;if(a=o.destroy,r!==null&&cE(r,o.deps)){i.memoizedState=qh(e,n,a,r);return}}dn.flags|=t,i.memoizedState=qh(1|e,n,a,r)}function s2(t,e){return Bg(8390656,8,t,e)}function hE(t,e){return f0(2048,8,t,e)}function ZM(t,e){return f0(4,2,t,e)}function eR(t,e){return f0(4,4,t,e)}function tR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nR(t,e,n){return n=n!=null?n.concat([t]):null,f0(4,4,tR.bind(null,e,t),n)}function pE(){}function rR(t,e){var n=Yi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iR(t,e){var n=Yi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aR(t,e,n){return fu&21?(Pa(n,e)||(n=cM(),dn.lanes|=n,du|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qr=!0),t.memoizedState=n)}function e8(t,e){var n=Dt;Dt=n!==0&&4>n?n:4,t(!0);var r=ox.transition;ox.transition={};try{t(!1),e()}finally{Dt=n,ox.transition=r}}function oR(){return Yi().memoizedState}function t8(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sR(t))lR(e,n);else if(n=BM(t,e,n,r),n!==null){var i=Rr();Ta(n,t,r,i),uR(n,e,r)}}function n8(t,e,n){var r=$s(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sR(t))lR(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Pa(s,o)){var l=e.interleaved;l===null?(i.next=i,aE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=BM(t,e,i,r),n!==null&&(i=Rr(),Ta(n,t,r,i),uR(n,e,r))}}function sR(t){var e=t.alternate;return t===dn||e!==null&&e===dn}function lR(t,e){ch=wy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qS(t,n)}}var _y={readContext:Gi,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},r8={readContext:Gi,useCallback:function(t,e){return Fa().memoizedState=[t,e===void 0?null:e],t},useContext:Gi,useEffect:s2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bg(4194308,4,tR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bg(4,2,t,e)},useMemo:function(t,e){var n=Fa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=t8.bind(null,dn,t),[r.memoizedState,t]},useRef:function(t){var e=Fa();return t={current:t},e.memoizedState=t},useState:o2,useDebugValue:pE,useDeferredValue:function(t){return Fa().memoizedState=t},useTransition:function(){var t=o2(!1),e=t[0];return t=e8.bind(null,t[1]),Fa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dn,i=Fa();if(an){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=e(),Xn===null)throw Error(Ee(349));fu&30||HM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,s2(YM.bind(null,r,a,t),[t]),r.flags|=2048,qh(9,GM.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Fa(),e=Xn.identifierPrefix;if(an){var n=Po,r=To;n=(r&~(1<<32-Aa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i8={readContext:Gi,useCallback:rR,useContext:Gi,useEffect:hE,useImperativeHandle:nR,useInsertionEffect:ZM,useLayoutEffect:eR,useMemo:iR,useReducer:sx,useRef:JM,useState:function(){return sx(Wh)},useDebugValue:pE,useDeferredValue:function(t){var e=Yi();return aR(e,Vn.memoizedState,t)},useTransition:function(){var t=sx(Wh)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:qM,useSyncExternalStore:KM,useId:oR,unstable_isNewReconciler:!1},a8={readContext:Gi,useCallback:rR,useContext:Gi,useEffect:hE,useImperativeHandle:nR,useInsertionEffect:ZM,useLayoutEffect:eR,useMemo:iR,useReducer:lx,useRef:JM,useState:function(){return lx(Wh)},useDebugValue:pE,useDeferredValue:function(t){var e=Yi();return Vn===null?e.memoizedState=t:aR(e,Vn.memoizedState,t)},useTransition:function(){var t=lx(Wh)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:qM,useSyncExternalStore:KM,useId:oR,unstable_isNewReconciler:!1};function ma(t,e){if(t&&t.defaultProps){e=hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var d0={isMounted:function(t){return(t=t._reactInternals)?Su(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rr(),i=$s(t),a=Mo(r,i);a.payload=e,n!=null&&(a.callback=n),e=Ms(t,a,i),e!==null&&(Ta(e,t,i,r),Fg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rr(),i=$s(t),a=Mo(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ms(t,a,i),e!==null&&(Ta(e,t,i,r),Fg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rr(),r=$s(t),i=Mo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ms(t,i,r),e!==null&&(Ta(e,t,r,n),Fg(e,t,r))}};function l2(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!$h(n,r)||!$h(i,a):!0}function cR(t,e,n){var r=!1,i=Hs,a=e.contextType;return typeof a=="object"&&a!==null?a=Gi(a):(i=ei(e)?uu:Cr.current,r=e.contextTypes,a=(r=r!=null)?Uc(t,i):Hs),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=d0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function u2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&d0.enqueueReplaceState(e,e.state,null)}function Jw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},oE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Gi(a):(a=ei(e)?uu:Cr.current,i.context=Uc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Qw(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&d0.enqueueReplaceState(i,i.state,null),by(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hc(t,e){try{var n="",r=e;do n+=NB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ux(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o8=typeof WeakMap=="function"?WeakMap:Map;function fR(t,e,n){n=Mo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ey||(Ey=!0,u1=r),Zw(t,e)},n}function dR(t,e,n){n=Mo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zw(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zw(t,e),typeof r!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function c2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new o8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=x8.bind(null,t,e,n),e.then(t,t))}function f2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mo(-1,1),e.tag=2,Ms(n,e,1))),n.lanes|=1),t)}var s8=ts.ReactCurrentOwner,Qr=!1;function Nr(t,e,n,r){e.child=t===null?zM(e,null,n,r):qc(e,t.child,n,r)}function h2(t,e,n,r,i){n=n.render;var a=e.ref;return jc(e,i),r=fE(t,e,n,r,a,i),n=dE(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wo(t,e,i)):(an&&n&&ZS(e),e.flags|=1,Nr(t,e,r,i),e.child)}function p2(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!_E(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,hR(t,e,a,r,i)):(t=Kg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:$h,n(o,r)&&t.ref===e.ref)return Wo(t,e,i)}return e.flags|=1,t=Ls(a,r),t.ref=e.ref,t.return=e,e.child=t}function hR(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if($h(a,r)&&t.ref===e.ref)if(Qr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Qr=!0);else return e.lanes=t.lanes,Wo(t,e,i)}return e1(t,e,n,r,i)}function pR(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(bc,fi),fi|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xt(bc,fi),fi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Xt(bc,fi),fi|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Xt(bc,fi),fi|=r;return Nr(t,e,i,n),e.child}function mR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function e1(t,e,n,r,i){var a=ei(n)?uu:Cr.current;return a=Uc(e,a),jc(e,i),n=fE(t,e,n,r,a,i),r=dE(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wo(t,e,i)):(an&&r&&ZS(e),e.flags|=1,Nr(t,e,n,i),e.child)}function m2(t,e,n,r,i){if(ei(n)){var a=!0;py(e)}else a=!1;if(jc(e,i),e.stateNode===null)Ug(t,e),cR(e,n,r),Jw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gi(u):(u=ei(n)?uu:Cr.current,u=Uc(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&u2(e,o,r,u),ws=!1;var h=e.memoizedState;o.state=h,by(e,r,o,i),l=e.memoizedState,s!==r||h!==l||Zr.current||ws?(typeof c=="function"&&(Qw(e,n,c,r),l=e.memoizedState),(s=ws||l2(e,n,s,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,UM(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:ma(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gi(l):(l=ei(n)?uu:Cr.current,l=Uc(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&u2(e,o,r,l),ws=!1,h=e.memoizedState,o.state=h,by(e,r,o,i);var b=e.memoizedState;s!==f||h!==b||Zr.current||ws?(typeof g=="function"&&(Qw(e,n,g,r),b=e.memoizedState),(u=ws||l2(e,n,u,r,h,b,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return t1(t,e,n,r,a,i)}function t1(t,e,n,r,i,a){mR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&e2(e,n,!1),Wo(t,e,a);r=e.stateNode,s8.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qc(e,t.child,null,a),e.child=qc(e,null,s,a)):Nr(t,e,s,a),e.memoizedState=r.state,i&&e2(e,n,!0),e.child}function gR(t){var e=t.stateNode;e.pendingContext?ZP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZP(t,e.context,!1),sE(t,e.containerInfo)}function g2(t,e,n,r,i){return Wc(),tE(i),e.flags|=256,Nr(t,e,n,r),e.child}var n1={dehydrated:null,treeContext:null,retryLane:0};function r1(t){return{baseLanes:t,cachePool:null,transitions:null}}function yR(t,e,n){var r=e.pendingProps,i=fn.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xt(fn,i&1),t===null)return Yw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=m0(o,r,0,null),t=nu(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=r1(n),e.memoizedState=n1,t):mE(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return l8(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ls(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ls(s,a):(a=nu(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?r1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=n1,r}return a=t.child,t=a.sibling,r=Ls(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mE(t,e){return e=m0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ig(t,e,n,r){return r!==null&&tE(r),qc(e,t.child,null,n),t=mE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l8(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=ux(Error(Ee(422))),ig(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=m0({mode:"visible",children:r.children},i,0,null),a=nu(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&qc(e,t.child,null,o),e.child.memoizedState=r1(o),e.memoizedState=n1,a);if(!(e.mode&1))return ig(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Ee(419)),r=ux(a,r,void 0),ig(t,e,o,r)}if(s=(o&t.childLanes)!==0,Qr||s){if(r=Xn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Uo(t,i),Ta(r,t,i,-1))}return wE(),r=ux(Error(Ee(421))),ig(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w8.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,mi=Ds(i.nextSibling),yi=e,an=!0,ba=null,t!==null&&(Fi[zi++]=To,Fi[zi++]=Po,Fi[zi++]=cu,To=t.id,Po=t.overflow,cu=e),e=mE(e,r.children),e.flags|=4096,e)}function y2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xw(t.return,e,n)}function cx(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function vR(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Nr(t,e,r.children,n),r=fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y2(t,n,e);else if(t.tag===19)y2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xt(fn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cx(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cx(e,!0,n,null,a);break;case"together":cx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ug(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),du|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,n=Ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u8(t,e,n){switch(e.tag){case 3:gR(e),Wc();break;case 5:WM(e);break;case 1:ei(e.type)&&py(e);break;case 4:sE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xt(yy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xt(fn,fn.current&1),e.flags|=128,null):n&e.child.childLanes?yR(t,e,n):(Xt(fn,fn.current&1),t=Wo(t,e,n),t!==null?t.sibling:null);Xt(fn,fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(fn,fn.current),r)break;return null;case 22:case 23:return e.lanes=0,pR(t,e,n)}return Wo(t,e,n)}var bR,i1,xR,wR;bR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i1=function(){};xR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ql(Ya.current);var a=null;switch(n){case"input":i=Tw(t,i),r=Tw(t,r),a=[];break;case"select":i=hn({},i,{value:void 0}),r=hn({},r,{value:void 0}),a=[];break;case"textarea":i=Ow(t,i),r=Ow(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dy)}Iw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Zt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};wR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cd(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function c8(t,e,n){var r=e.pendingProps;switch(eE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(e),null;case 1:return ei(e.type)&&hy(),gr(e),null;case 3:return r=e.stateNode,Kc(),rn(Zr),rn(Cr),uE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ng(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ba!==null&&(d1(ba),ba=null))),i1(t,e),gr(e),null;case 5:lE(e);var i=ql(Bh.current);if(n=e.type,t!==null&&e.stateNode!=null)xR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ee(166));return gr(e),null}if(t=ql(Ya.current),ng(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ua]=e,r[Fh]=a,t=(e.mode&1)!==0,n){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<Hd.length;i++)Zt(Hd[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":TP(r,a),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Zt("invalid",r);break;case"textarea":CP(r,a),Zt("invalid",r)}Iw(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&tg(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&tg(r.textContent,s,t),i=["children",""+s]):kh.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Zt("scroll",r)}switch(n){case"input":Hm(r),PP(r,a,!0);break;case"textarea":Hm(r),OP(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=dy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ua]=e,t[Fh]=r,bR(t,e,!1,!1),e.stateNode=t;e:{switch(o=jw(n,r),n){case"dialog":Zt("cancel",t),Zt("close",t),i=r;break;case"iframe":case"object":case"embed":Zt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hd.length;i++)Zt(Hd[i],t);i=r;break;case"source":Zt("error",t),i=r;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),i=r;break;case"details":Zt("toggle",t),i=r;break;case"input":TP(t,r),i=Tw(t,r),Zt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=hn({},r,{value:void 0}),Zt("invalid",t);break;case"textarea":CP(t,r),i=Ow(t,r),Zt("invalid",t);break;default:i=r}Iw(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?JD(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XD(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ih(t,l):typeof l=="number"&&Ih(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(kh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Zt("scroll",t):l!=null&&VS(t,a,l,o))}switch(n){case"input":Hm(t),PP(t,r,!1);break;case"textarea":Hm(t),OP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ks(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Cc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Cc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gr(e),null;case 6:if(t&&e.stateNode!=null)wR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ee(166));if(n=ql(Bh.current),ql(Ya.current),ng(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ua]=e,(a=r.nodeValue!==n)&&(t=yi,t!==null))switch(t.tag){case 3:tg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ua]=e,e.stateNode=r}return gr(e),null;case 13:if(rn(fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&mi!==null&&e.mode&1&&!(e.flags&128))VM(),Wc(),e.flags|=98560,a=!1;else if(a=ng(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Ee(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ee(317));a[Ua]=e}else Wc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gr(e),a=!1}else ba!==null&&(d1(ba),ba=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fn.current&1?Fn===0&&(Fn=3):wE())),e.updateQueue!==null&&(e.flags|=4),gr(e),null);case 4:return Kc(),i1(t,e),t===null&&Lh(e.stateNode.containerInfo),gr(e),null;case 10:return iE(e.type._context),gr(e),null;case 17:return ei(e.type)&&hy(),gr(e),null;case 19:if(rn(fn),a=e.memoizedState,a===null)return gr(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Cd(a,!1);else{if(Fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xy(t),o!==null){for(e.flags|=128,Cd(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xt(fn,fn.current&1|2),e.child}t=t.sibling}a.tail!==null&&En()>Gc&&(e.flags|=128,r=!0,Cd(a,!1),e.lanes=4194304)}else{if(!r)if(t=xy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!an)return gr(e),null}else 2*En()-a.renderingStartTime>Gc&&n!==1073741824&&(e.flags|=128,r=!0,Cd(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=En(),e.sibling=null,n=fn.current,Xt(fn,r?n&1|2:n&1),e):(gr(e),null);case 22:case 23:return xE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fi&1073741824&&(gr(e),e.subtreeFlags&6&&(e.flags|=8192)):gr(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function f8(t,e){switch(eE(e),e.tag){case 1:return ei(e.type)&&hy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kc(),rn(Zr),rn(Cr),uE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lE(e),null;case 13:if(rn(fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));Wc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rn(fn),null;case 4:return Kc(),null;case 10:return iE(e.type._context),null;case 22:case 23:return xE(),null;case 24:return null;default:return null}}var ag=!1,_r=!1,d8=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function vc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(t,e,r)}else n.current=null}function a1(t,e,n){try{n()}catch(r){yn(t,e,r)}}var v2=!1;function h8(t,e){if(Bw=uy,t=TM(),JS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uw={focusedElem:t,selectionRange:n},uy=!1,Fe=e;Fe!==null;)if(e=Fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Fe=t;else for(;Fe!==null;){e=Fe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,x=b.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:ma(e.type,v),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(I){yn(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Fe=t;break}Fe=e.return}return b=v2,v2=!1,b}function fh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&a1(e,n,a)}i=i.next}while(i!==r)}}function h0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _R(t){var e=t.alternate;e!==null&&(t.alternate=null,_R(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ua],delete e[Fh],delete e[Kw],delete e[Y6],delete e[X6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SR(t){return t.tag===5||t.tag===3||t.tag===4}function b2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function s1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dy));else if(r!==4&&(t=t.child,t!==null))for(s1(t,e,n),t=t.sibling;t!==null;)s1(t,e,n),t=t.sibling}function l1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l1(t,e,n),t=t.sibling;t!==null;)l1(t,e,n),t=t.sibling}var nr=null,ga=!1;function ms(t,e,n){for(n=n.child;n!==null;)ER(t,e,n),n=n.sibling}function ER(t,e,n){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(a0,n)}catch{}switch(n.tag){case 5:_r||vc(n,e);case 6:var r=nr,i=ga;nr=null,ms(t,e,n),nr=r,ga=i,nr!==null&&(ga?(t=nr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nr.removeChild(n.stateNode));break;case 18:nr!==null&&(ga?(t=nr,n=n.stateNode,t.nodeType===8?rx(t.parentNode,n):t.nodeType===1&&rx(t,n),Mh(t)):rx(nr,n.stateNode));break;case 4:r=nr,i=ga,nr=n.stateNode.containerInfo,ga=!0,ms(t,e,n),nr=r,ga=i;break;case 0:case 11:case 14:case 15:if(!_r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&a1(n,e,o),i=i.next}while(i!==r)}ms(t,e,n);break;case 1:if(!_r&&(vc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){yn(n,e,s)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(_r=(r=_r)||n.memoizedState!==null,ms(t,e,n),_r=r):ms(t,e,n);break;default:ms(t,e,n)}}function x2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d8),e.forEach(function(r){var i=_8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function da(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:nr=s.stateNode,ga=!1;break e;case 3:nr=s.stateNode.containerInfo,ga=!0;break e;case 4:nr=s.stateNode.containerInfo,ga=!0;break e}s=s.return}if(nr===null)throw Error(Ee(160));ER(a,o,i),nr=null,ga=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AR(e,t),e=e.sibling}function AR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(da(e,t),Va(t),r&4){try{fh(3,t,t.return),h0(3,t)}catch(v){yn(t,t.return,v)}try{fh(5,t,t.return)}catch(v){yn(t,t.return,v)}}break;case 1:da(e,t),Va(t),r&512&&n!==null&&vc(n,n.return);break;case 5:if(da(e,t),Va(t),r&512&&n!==null&&vc(n,n.return),t.flags&32){var i=t.stateNode;try{Ih(i,"")}catch(v){yn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&HD(i,a),jw(s,o);var u=jw(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?JD(i,f):c==="dangerouslySetInnerHTML"?XD(i,f):c==="children"?Ih(i,f):VS(i,c,f,u)}switch(s){case"input":Pw(i,a);break;case"textarea":GD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Cc(i,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?Cc(i,!!a.multiple,a.defaultValue,!0):Cc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fh]=a}catch(v){yn(t,t.return,v)}}break;case 6:if(da(e,t),Va(t),r&4){if(t.stateNode===null)throw Error(Ee(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){yn(t,t.return,v)}}break;case 3:if(da(e,t),Va(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mh(e.containerInfo)}catch(v){yn(t,t.return,v)}break;case 4:da(e,t),Va(t);break;case 13:da(e,t),Va(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(vE=En())),r&4&&x2(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(_r=(u=_r)||c,da(e,t),_r=u):da(e,t),Va(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Fe=t,c=t.child;c!==null;){for(f=Fe=c;Fe!==null;){switch(h=Fe,g=h.child,h.tag){case 0:case 11:case 14:case 15:fh(4,h,h.return);break;case 1:vc(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){yn(r,n,v)}}break;case 5:vc(h,h.return);break;case 22:if(h.memoizedState!==null){_2(f);continue}}g!==null?(g.return=h,Fe=g):_2(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=QD("display",o))}catch(v){yn(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){yn(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:da(e,t),Va(t),r&4&&x2(t);break;case 21:break;default:da(e,t),Va(t)}}function Va(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SR(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ih(i,""),r.flags&=-33);var a=b2(t);l1(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=b2(t);s1(t,s,o);break;default:throw Error(Ee(161))}}catch(l){yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p8(t,e,n){Fe=t,TR(t)}function TR(t,e,n){for(var r=(t.mode&1)!==0;Fe!==null;){var i=Fe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ag;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||_r;s=ag;var u=_r;if(ag=o,(_r=l)&&!u)for(Fe=i;Fe!==null;)o=Fe,l=o.child,o.tag===22&&o.memoizedState!==null?S2(i):l!==null?(l.return=o,Fe=l):S2(i);for(;a!==null;)Fe=a,TR(a),a=a.sibling;Fe=i,ag=s,_r=u}w2(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Fe=a):w2(t)}}function w2(t){for(;Fe!==null;){var e=Fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_r||h0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_r)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ma(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&a2(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}a2(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Mh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}_r||e.flags&512&&o1(e)}catch(h){yn(e,e.return,h)}}if(e===t){Fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Fe=n;break}Fe=e.return}}function _2(t){for(;Fe!==null;){var e=Fe;if(e===t){Fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Fe=n;break}Fe=e.return}}function S2(t){for(;Fe!==null;){var e=Fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{h0(4,e)}catch(l){yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yn(e,i,l)}}var a=e.return;try{o1(e)}catch(l){yn(e,a,l)}break;case 5:var o=e.return;try{o1(e)}catch(l){yn(e,o,l)}}}catch(l){yn(e,e.return,l)}if(e===t){Fe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Fe=s;break}Fe=e.return}}var m8=Math.ceil,Sy=ts.ReactCurrentDispatcher,gE=ts.ReactCurrentOwner,qi=ts.ReactCurrentBatchConfig,At=0,Xn=null,jn=null,ur=0,fi=0,bc=nl(0),Fn=0,Kh=null,du=0,p0=0,yE=0,dh=null,Gr=null,vE=0,Gc=1/0,Eo=null,Ey=!1,u1=null,Rs=null,og=!1,Ps=null,Ay=0,hh=0,c1=null,Wg=-1,qg=0;function Rr(){return At&6?En():Wg!==-1?Wg:Wg=En()}function $s(t){return t.mode&1?At&2&&ur!==0?ur&-ur:J6.transition!==null?(qg===0&&(qg=cM()),qg):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:yM(t.type)),t):1}function Ta(t,e,n,r){if(50<hh)throw hh=0,c1=null,Error(Ee(185));Hp(t,n,r),(!(At&2)||t!==Xn)&&(t===Xn&&(!(At&2)&&(p0|=n),Fn===4&&Es(t,ur)),ti(t,r),n===1&&At===0&&!(e.mode&1)&&(Gc=En()+500,c0&&rl()))}function ti(t,e){var n=t.callbackNode;JB(t,e);var r=ly(t,t===Xn?ur:0);if(r===0)n!==null&&jP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jP(n),e===1)t.tag===0?Q6(E2.bind(null,t)):RM(E2.bind(null,t)),H6(function(){!(At&6)&&rl()}),n=null;else{switch(fM(r)){case 1:n=WS;break;case 4:n=lM;break;case 16:n=sy;break;case 536870912:n=uM;break;default:n=sy}n=DR(n,PR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PR(t,e){if(Wg=-1,qg=0,At&6)throw Error(Ee(327));var n=t.callbackNode;if(Nc()&&t.callbackNode!==n)return null;var r=ly(t,t===Xn?ur:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ty(t,r);else{e=r;var i=At;At|=2;var a=OR();(Xn!==t||ur!==e)&&(Eo=null,Gc=En()+500,tu(t,e));do try{v8();break}catch(s){CR(t,s)}while(!0);rE(),Sy.current=a,At=i,jn!==null?e=0:(Xn=null,ur=0,e=Fn)}if(e!==0){if(e===2&&(i=$w(t),i!==0&&(r=i,e=f1(t,i))),e===1)throw n=Kh,tu(t,0),Es(t,r),ti(t,En()),n;if(e===6)Es(t,r);else{if(i=t.current.alternate,!(r&30)&&!g8(i)&&(e=Ty(t,r),e===2&&(a=$w(t),a!==0&&(r=a,e=f1(t,a))),e===1))throw n=Kh,tu(t,0),Es(t,r),ti(t,En()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ee(345));case 2:Ml(t,Gr,Eo);break;case 3:if(Es(t,r),(r&130023424)===r&&(e=vE+500-En(),10<e)){if(ly(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qw(Ml.bind(null,t,Gr,Eo),e);break}Ml(t,Gr,Eo);break;case 4:if(Es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Aa(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=En()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m8(r/1960))-r,10<r){t.timeoutHandle=qw(Ml.bind(null,t,Gr,Eo),r);break}Ml(t,Gr,Eo);break;case 5:Ml(t,Gr,Eo);break;default:throw Error(Ee(329))}}}return ti(t,En()),t.callbackNode===n?PR.bind(null,t):null}function f1(t,e){var n=dh;return t.current.memoizedState.isDehydrated&&(tu(t,e).flags|=256),t=Ty(t,e),t!==2&&(e=Gr,Gr=n,e!==null&&d1(e)),t}function d1(t){Gr===null?Gr=t:Gr.push.apply(Gr,t)}function g8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Pa(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Es(t,e){for(e&=~yE,e&=~p0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Aa(e),r=1<<n;t[n]=-1,e&=~r}}function E2(t){if(At&6)throw Error(Ee(327));Nc();var e=ly(t,0);if(!(e&1))return ti(t,En()),null;var n=Ty(t,e);if(t.tag!==0&&n===2){var r=$w(t);r!==0&&(e=r,n=f1(t,r))}if(n===1)throw n=Kh,tu(t,0),Es(t,e),ti(t,En()),n;if(n===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ml(t,Gr,Eo),ti(t,En()),null}function bE(t,e){var n=At;At|=1;try{return t(e)}finally{At=n,At===0&&(Gc=En()+500,c0&&rl())}}function hu(t){Ps!==null&&Ps.tag===0&&!(At&6)&&Nc();var e=At;At|=1;var n=qi.transition,r=Dt;try{if(qi.transition=null,Dt=1,t)return t()}finally{Dt=r,qi.transition=n,At=e,!(At&6)&&rl()}}function xE(){fi=bc.current,rn(bc)}function tu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K6(n)),jn!==null)for(n=jn.return;n!==null;){var r=n;switch(eE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hy();break;case 3:Kc(),rn(Zr),rn(Cr),uE();break;case 5:lE(r);break;case 4:Kc();break;case 13:rn(fn);break;case 19:rn(fn);break;case 10:iE(r.type._context);break;case 22:case 23:xE()}n=n.return}if(Xn=t,jn=t=Ls(t.current,null),ur=fi=e,Fn=0,Kh=null,yE=p0=du=0,Gr=dh=null,Wl!==null){for(e=0;e<Wl.length;e++)if(n=Wl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Wl=null}return t}function CR(t,e){do{var n=jn;try{if(rE(),zg.current=_y,wy){for(var r=dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wy=!1}if(fu=0,Yn=Vn=dn=null,ch=!1,Uh=0,gE.current=null,n===null||n.return===null){Fn=1,Kh=e,jn=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=ur,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=f2(o);if(g!==null){g.flags&=-257,d2(g,o,s,a,e),g.mode&1&&c2(a,u,e),e=g,l=u;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){c2(a,u,e),wE();break e}l=Error(Ee(426))}}else if(an&&s.mode&1){var x=f2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),d2(x,o,s,a,e),tE(Hc(l,s));break e}}a=l=Hc(l,s),Fn!==4&&(Fn=2),dh===null?dh=[a]:dh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=fR(a,l,e);i2(a,w);break e;case 1:s=l;var _=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Rs===null||!Rs.has(A)))){a.flags|=65536,e&=-e,a.lanes|=e;var I=dR(a,s,e);i2(a,I);break e}}a=a.return}while(a!==null)}IR(n)}catch(S){e=S,jn===n&&n!==null&&(jn=n=n.return);continue}break}while(!0)}function OR(){var t=Sy.current;return Sy.current=_y,t===null?_y:t}function wE(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Xn===null||!(du&268435455)&&!(p0&268435455)||Es(Xn,ur)}function Ty(t,e){var n=At;At|=2;var r=OR();(Xn!==t||ur!==e)&&(Eo=null,tu(t,e));do try{y8();break}catch(i){CR(t,i)}while(!0);if(rE(),At=n,Sy.current=r,jn!==null)throw Error(Ee(261));return Xn=null,ur=0,Fn}function y8(){for(;jn!==null;)kR(jn)}function v8(){for(;jn!==null&&!UB();)kR(jn)}function kR(t){var e=NR(t.alternate,t,fi);t.memoizedProps=t.pendingProps,e===null?IR(t):jn=e,gE.current=null}function IR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=f8(n,e),n!==null){n.flags&=32767,jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fn=6,jn=null;return}}else if(n=c8(n,e,fi),n!==null){jn=n;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=t}while(e!==null);Fn===0&&(Fn=5)}function Ml(t,e,n){var r=Dt,i=qi.transition;try{qi.transition=null,Dt=1,b8(t,e,n,r)}finally{qi.transition=i,Dt=r}return null}function b8(t,e,n,r){do Nc();while(Ps!==null);if(At&6)throw Error(Ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(ZB(t,a),t===Xn&&(jn=Xn=null,ur=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||og||(og=!0,DR(sy,function(){return Nc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=qi.transition,qi.transition=null;var o=Dt;Dt=1;var s=At;At|=4,gE.current=null,h8(t,n),AR(n,t),V6(Uw),uy=!!Bw,Uw=Bw=null,t.current=n,p8(n),WB(),At=s,Dt=o,qi.transition=a}else t.current=n;if(og&&(og=!1,Ps=t,Ay=i),a=t.pendingLanes,a===0&&(Rs=null),HB(n.stateNode),ti(t,En()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ey)throw Ey=!1,t=u1,u1=null,t;return Ay&1&&t.tag!==0&&Nc(),a=t.pendingLanes,a&1?t===c1?hh++:(hh=0,c1=t):hh=0,rl(),null}function Nc(){if(Ps!==null){var t=fM(Ay),e=qi.transition,n=Dt;try{if(qi.transition=null,Dt=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,Ay=0,At&6)throw Error(Ee(331));var i=At;for(At|=4,Fe=t.current;Fe!==null;){var a=Fe,o=a.child;if(Fe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Fe=u;Fe!==null;){var c=Fe;switch(c.tag){case 0:case 11:case 15:fh(8,c,a)}var f=c.child;if(f!==null)f.return=c,Fe=f;else for(;Fe!==null;){c=Fe;var h=c.sibling,g=c.return;if(_R(c),c===u){Fe=null;break}if(h!==null){h.return=g,Fe=h;break}Fe=g}}}var b=a.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Fe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Fe=o;else e:for(;Fe!==null;){if(a=Fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fh(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Fe=w;break e}Fe=a.return}}var _=t.current;for(Fe=_;Fe!==null;){o=Fe;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Fe=A;else e:for(o=_;Fe!==null;){if(s=Fe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:h0(9,s)}}catch(S){yn(s,s.return,S)}if(s===o){Fe=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,Fe=I;break e}Fe=s.return}}if(At=i,rl(),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(a0,t)}catch{}r=!0}return r}finally{Dt=n,qi.transition=e}}return!1}function A2(t,e,n){e=Hc(n,e),e=fR(t,e,1),t=Ms(t,e,1),e=Rr(),t!==null&&(Hp(t,1,e),ti(t,e))}function yn(t,e,n){if(t.tag===3)A2(t,t,n);else for(;e!==null;){if(e.tag===3){A2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rs===null||!Rs.has(r))){t=Hc(n,t),t=dR(e,t,1),e=Ms(e,t,1),t=Rr(),e!==null&&(Hp(e,1,t),ti(e,t));break}}e=e.return}}function x8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(ur&n)===n&&(Fn===4||Fn===3&&(ur&130023424)===ur&&500>En()-vE?tu(t,0):yE|=n),ti(t,e)}function jR(t,e){e===0&&(t.mode&1?(e=Xm,Xm<<=1,!(Xm&130023424)&&(Xm=4194304)):e=1);var n=Rr();t=Uo(t,e),t!==null&&(Hp(t,e,n),ti(t,n))}function w8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jR(t,n)}function _8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(e),jR(t,n)}var NR;NR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zr.current)Qr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qr=!1,u8(t,e,n);Qr=!!(t.flags&131072)}else Qr=!1,an&&e.flags&1048576&&$M(e,gy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ug(t,e),t=e.pendingProps;var i=Uc(e,Cr.current);jc(e,n),i=fE(null,e,r,t,i,n);var a=dE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ei(r)?(a=!0,py(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oE(e),i.updater=d0,e.stateNode=i,i._reactInternals=e,Jw(e,r,t,n),e=t1(null,e,r,!0,a,n)):(e.tag=0,an&&a&&ZS(e),Nr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ug(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E8(r),t=ma(r,t),i){case 0:e=e1(null,e,r,t,n);break e;case 1:e=m2(null,e,r,t,n);break e;case 11:e=h2(null,e,r,t,n);break e;case 14:e=p2(null,e,r,ma(r.type,t),n);break e}throw Error(Ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ma(r,i),e1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ma(r,i),m2(t,e,r,i,n);case 3:e:{if(gR(e),t===null)throw Error(Ee(387));r=e.pendingProps,a=e.memoizedState,i=a.element,UM(t,e),by(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Hc(Error(Ee(423)),e),e=g2(t,e,r,n,i);break e}else if(r!==i){i=Hc(Error(Ee(424)),e),e=g2(t,e,r,n,i);break e}else for(mi=Ds(e.stateNode.containerInfo.firstChild),yi=e,an=!0,ba=null,n=zM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wc(),r===i){e=Wo(t,e,n);break e}Nr(t,e,r,n)}e=e.child}return e;case 5:return WM(e),t===null&&Yw(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ww(r,i)?o=null:a!==null&&Ww(r,a)&&(e.flags|=32),mR(t,e),Nr(t,e,o,n),e.child;case 6:return t===null&&Yw(e),null;case 13:return yR(t,e,n);case 4:return sE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qc(e,null,r,n):Nr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ma(r,i),h2(t,e,r,i,n);case 7:return Nr(t,e,e.pendingProps,n),e.child;case 8:return Nr(t,e,e.pendingProps.children,n),e.child;case 12:return Nr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Xt(yy,r._currentValue),r._currentValue=o,a!==null)if(Pa(a.value,o)){if(a.children===i.children&&!Zr.current){e=Wo(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Mo(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Xw(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ee(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Xw(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Nr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jc(e,n),i=Gi(i),r=r(i),e.flags|=1,Nr(t,e,r,n),e.child;case 14:return r=e.type,i=ma(r,e.pendingProps),i=ma(r.type,i),p2(t,e,r,i,n);case 15:return hR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ma(r,i),Ug(t,e),e.tag=1,ei(r)?(t=!0,py(e)):t=!1,jc(e,n),cR(e,r,i),Jw(e,r,i,n),t1(null,e,r,!0,t,n);case 19:return vR(t,e,n);case 22:return pR(t,e,n)}throw Error(Ee(156,e.tag))};function DR(t,e){return sM(t,e)}function S8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(t,e,n,r){return new S8(t,e,n,r)}function _E(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E8(t){if(typeof t=="function")return _E(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zS)return 11;if(t===BS)return 14}return 2}function Ls(t,e){var n=t.alternate;return n===null?(n=Ui(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kg(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")_E(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uc:return nu(n.children,i,a,e);case FS:o=8,i|=8;break;case _w:return t=Ui(12,n,e,i|2),t.elementType=_w,t.lanes=a,t;case Sw:return t=Ui(13,n,e,i),t.elementType=Sw,t.lanes=a,t;case Ew:return t=Ui(19,n,e,i),t.elementType=Ew,t.lanes=a,t;case WD:return m0(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BD:o=10;break e;case UD:o=9;break e;case zS:o=11;break e;case BS:o=14;break e;case xs:o=16,r=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=Ui(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function nu(t,e,n,r){return t=Ui(7,t,r,e),t.lanes=n,t}function m0(t,e,n,r){return t=Ui(22,t,r,e),t.elementType=WD,t.lanes=n,t.stateNode={isHidden:!1},t}function fx(t,e,n){return t=Ui(6,t,null,e),t.lanes=n,t}function dx(t,e,n){return e=Ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function A8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kb(0),this.expirationTimes=Kb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function SE(t,e,n,r,i,a,o,s,l){return t=new A8(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ui(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oE(a),t}function T8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MR(t){if(!t)return Hs;t=t._reactInternals;e:{if(Su(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ei(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var n=t.type;if(ei(n))return MM(t,n,e)}return e}function RR(t,e,n,r,i,a,o,s,l){return t=SE(n,r,!0,t,i,a,o,s,l),t.context=MR(null),n=t.current,r=Rr(),i=$s(n),a=Mo(r,i),a.callback=e??null,Ms(n,a,i),t.current.lanes=i,Hp(t,i,r),ti(t,r),t}function g0(t,e,n,r){var i=e.current,a=Rr(),o=$s(i);return n=MR(n),e.context===null?e.context=n:e.pendingContext=n,e=Mo(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ms(i,e,o),t!==null&&(Ta(t,i,o,a),Fg(t,i,o)),o}function Py(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function EE(t,e){T2(t,e),(t=t.alternate)&&T2(t,e)}function P8(){return null}var $R=typeof reportError=="function"?reportError:function(t){console.error(t)};function AE(t){this._internalRoot=t}y0.prototype.render=AE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));g0(t,e,null,null)};y0.prototype.unmount=AE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hu(function(){g0(null,t,null,null)}),e[Bo]=null}};function y0(t){this._internalRoot=t}y0.prototype.unstable_scheduleHydration=function(t){if(t){var e=pM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&gM(t)}};function TE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function v0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function P2(){}function C8(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Py(o);a.call(u)}}var o=RR(e,r,t,0,null,!1,!1,"",P2);return t._reactRootContainer=o,t[Bo]=o.current,Lh(t.nodeType===8?t.parentNode:t),hu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Py(l);s.call(u)}}var l=SE(t,0,!1,null,null,!1,!1,"",P2);return t._reactRootContainer=l,t[Bo]=l.current,Lh(t.nodeType===8?t.parentNode:t),hu(function(){g0(e,l,n,r)}),l}function b0(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Py(o);s.call(l)}}g0(e,o,t,i)}else o=C8(n,e,t,i,r);return Py(o)}dM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kd(e.pendingLanes);n!==0&&(qS(e,n|1),ti(e,En()),!(At&6)&&(Gc=En()+500,rl()))}break;case 13:hu(function(){var r=Uo(t,1);if(r!==null){var i=Rr();Ta(r,t,1,i)}}),EE(t,1)}};KS=function(t){if(t.tag===13){var e=Uo(t,134217728);if(e!==null){var n=Rr();Ta(e,t,134217728,n)}EE(t,134217728)}};hM=function(t){if(t.tag===13){var e=$s(t),n=Uo(t,e);if(n!==null){var r=Rr();Ta(n,t,e,r)}EE(t,e)}};pM=function(){return Dt};mM=function(t,e){var n=Dt;try{return Dt=t,e()}finally{Dt=n}};Dw=function(t,e,n){switch(e){case"input":if(Pw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=u0(r);if(!i)throw Error(Ee(90));KD(r),Pw(r,i)}}}break;case"textarea":GD(t,n);break;case"select":e=n.value,e!=null&&Cc(t,!!n.multiple,e,!1)}};tM=bE;nM=hu;var O8={usingClientEntryPoint:!1,Events:[Yp,hc,u0,ZD,eM,bE]},Od={findFiberByHostInstance:Ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k8={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aM(t),t===null?null:t.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||P8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sg.isDisabled&&sg.supportsFiber)try{a0=sg.inject(k8),Ga=sg}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O8;Ei.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TE(e))throw Error(Ee(200));return T8(t,e,null,n)};Ei.createRoot=function(t,e){if(!TE(t))throw Error(Ee(299));var n=!1,r="",i=$R;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=SE(t,1,!1,null,null,n,!1,r,i),t[Bo]=e.current,Lh(t.nodeType===8?t.parentNode:t),new AE(e)};Ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=aM(e),t=t===null?null:t.stateNode,t};Ei.flushSync=function(t){return hu(t)};Ei.hydrate=function(t,e,n){if(!v0(e))throw Error(Ee(200));return b0(null,t,e,!0,n)};Ei.hydrateRoot=function(t,e,n){if(!TE(t))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=$R;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RR(e,null,t,1,n??null,i,!1,a,o),t[Bo]=e.current,Lh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new y0(e)};Ei.render=function(t,e,n){if(!v0(e))throw Error(Ee(200));return b0(null,t,e,!1,n)};Ei.unmountComponentAtNode=function(t){if(!v0(t))throw Error(Ee(40));return t._reactRootContainer?(hu(function(){b0(null,null,t,!1,function(){t._reactRootContainer=null,t[Bo]=null})}),!0):!1};Ei.unstable_batchedUpdates=bE;Ei.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!v0(n))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return b0(t,e,n,!1,r)};Ei.version="18.3.1-next-f1338f8080-20240426";function LR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LR)}catch(t){console.error(t)}}LR(),LD.exports=Ei;var I8=LD.exports,C2=I8;xw.createRoot=C2.createRoot,xw.hydrateRoot=C2.hydrateRoot;const j8=()=>{};var O2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},FR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[c],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new D8;const h=a<<2|s>>4;if(r.push(h),u!==64){const g=s<<4&240|u>>2;if(r.push(g),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M8=function(t){const e=VR(t);return FR.encodeByteArray(e,!0)},Cy=function(t){return M8(t).replace(/\./g,"")},zR=function(t){try{return FR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=()=>R8().__FIREBASE_DEFAULTS__,L8=()=>{if(typeof process>"u"||typeof O2>"u")return;const t=O2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zR(t[1]);return e&&JSON.parse(e)},x0=()=>{try{return j8()||$8()||L8()||V8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F8=t=>{var e,n;return(n=(e=x0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},z8=t=>{const e=F8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BR=()=>{var t;return(t=x0())==null?void 0:t.config},B8=t=>{var e;return(e=x0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W8(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cy(JSON.stringify(n)),Cy(JSON.stringify(o)),""].join(".")}const ph={};function K8(){const t={prod:[],emulator:[]};for(const e of Object.keys(ph))ph[e]?t.emulator.push(e):t.prod.push(e);return t}function H8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let k2=!1;function G8(t,e){if(typeof window>"u"||typeof document>"u"||!Qp(window.location.host)||ph[t]===e||ph[t]||k2)return;ph[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=K8().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{k2=!0,o()},h}function c(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=H8(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const A=h.element;s(A),c(x,v);const I=u();l(_,w),A.append(_,b,x,I),document.body.appendChild(A)}a?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function X8(){var e;const t=(e=x0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eU(){const t=ni();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tU(){return!X8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nU(){try{return typeof indexedDB=="object"}catch{return!1}}function rU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="FirebaseError";class ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iU,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jp.prototype.create)}}class Jp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?aU(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ns(i,s,r)}}function aU(t,e){return t.replace(oU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oU=/\{\$([^}]+)}/g;function Hh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(I2(a)&&I2(o)){if(!Hh(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Yd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sU(t,e){const n=new lU(t,e);return n.subscribe.bind(n)}class lU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hx),i.error===void 0&&(i.error=hx),i.complete===void 0&&(i.complete=hx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){return t&&t._delegate?t._delegate:t}class pu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new U8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dU(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fU(t){return t===Rl?void 0:t}function dU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const pU={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},mU=gt.INFO,gU={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},yU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class PE{constructor(e){this.name=e,this._logLevel=mU,this._logHandler=yU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const vU=(t,e)=>e.some(n=>t instanceof n);let j2,N2;function bU(){return j2||(j2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xU(){return N2||(N2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WR=new WeakMap,h1=new WeakMap,qR=new WeakMap,px=new WeakMap,CE=new WeakMap;function wU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WR.set(n,t)}).catch(()=>{}),CE.set(e,t),e}function _U(t){if(h1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});h1.set(t,e)}let p1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return h1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SU(t){p1=t(p1)}function EU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mx(this),e,...n);return qR.set(r,e.sort?e.sort():[e]),Vs(r)}:xU().includes(t)?function(...e){return t.apply(mx(this),e),Vs(WR.get(this))}:function(...e){return Vs(t.apply(mx(this),e))}}function AU(t){return typeof t=="function"?EU(t):(t instanceof IDBTransaction&&_U(t),vU(t,bU())?new Proxy(t,p1):t)}function Vs(t){if(t instanceof IDBRequest)return wU(t);if(px.has(t))return px.get(t);const e=AU(t);return e!==t&&(px.set(t,e),CE.set(e,t)),e}const mx=t=>CE.get(t);function TU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vs(o.result),l.oldVersion,l.newVersion,Vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const PU=["get","getKey","getAll","getAllKeys","count"],CU=["put","add","delete","clear"],gx=new Map;function D2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gx.get(e))return gx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PU.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return gx.set(e,a),a}SU(t=>({...t,get:(e,n,r)=>D2(e,n)||t.get(e,n,r),has:(e,n)=>!!D2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const m1="@firebase/app",M2="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new PE("@firebase/app"),IU="@firebase/app-compat",jU="@firebase/analytics-compat",NU="@firebase/analytics",DU="@firebase/app-check-compat",MU="@firebase/app-check",RU="@firebase/auth",$U="@firebase/auth-compat",LU="@firebase/database",VU="@firebase/data-connect",FU="@firebase/database-compat",zU="@firebase/functions",BU="@firebase/functions-compat",UU="@firebase/installations",WU="@firebase/installations-compat",qU="@firebase/messaging",KU="@firebase/messaging-compat",HU="@firebase/performance",GU="@firebase/performance-compat",YU="@firebase/remote-config",XU="@firebase/remote-config-compat",QU="@firebase/storage",JU="@firebase/storage-compat",ZU="@firebase/firestore",e9="@firebase/ai",t9="@firebase/firestore-compat",n9="firebase",r9="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="[DEFAULT]",i9={[m1]:"fire-core",[IU]:"fire-core-compat",[NU]:"fire-analytics",[jU]:"fire-analytics-compat",[MU]:"fire-app-check",[DU]:"fire-app-check-compat",[RU]:"fire-auth",[$U]:"fire-auth-compat",[LU]:"fire-rtdb",[VU]:"fire-data-connect",[FU]:"fire-rtdb-compat",[zU]:"fire-fn",[BU]:"fire-fn-compat",[UU]:"fire-iid",[WU]:"fire-iid-compat",[qU]:"fire-fcm",[KU]:"fire-fcm-compat",[HU]:"fire-perf",[GU]:"fire-perf-compat",[YU]:"fire-rc",[XU]:"fire-rc-compat",[QU]:"fire-gcs",[JU]:"fire-gcs-compat",[ZU]:"fire-fst",[t9]:"fire-fst-compat",[e9]:"fire-vertex","fire-js":"fire-js",[n9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map,a9=new Map,y1=new Map;function R2(t,e){try{t.container.addComponent(e)}catch(n){qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yc(t){const e=t.name;if(y1.has(e))return qo.debug(`There were multiple attempts to register component ${e}.`),!1;y1.set(e,t);for(const n of Oy.values())R2(n,t);for(const n of a9.values())R2(n,t);return!0}function KR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Jp("app","Firebase",o9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=r9;function HR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:g1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fs.create("bad-app-name",{appName:String(i)});if(n||(n=BR()),!n)throw Fs.create("no-options");const a=Oy.get(i);if(a){if(Hh(n,a.options)&&Hh(r,a.config))return a;throw Fs.create("duplicate-app",{appName:i})}const o=new hU(i);for(const l of y1.values())o.addComponent(l);const s=new s9(n,r,o);return Oy.set(i,s),s}function l9(t=g1){const e=Oy.get(t);if(!e&&t===g1&&BR())return HR();if(!e)throw Fs.create("no-app",{appName:t});return e}function zs(t,e,n){let r=i9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qo.warn(o.join(" "));return}Yc(new pu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="firebase-heartbeat-database",c9=1,Gh="firebase-heartbeat-store";let yx=null;function GR(){return yx||(yx=TU(u9,c9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fs.create("idb-open",{originalErrorMessage:t.message})})),yx}async function f9(t){try{const n=(await GR()).transaction(Gh),r=await n.objectStore(Gh).get(YR(t));return await n.done,r}catch(e){if(e instanceof ns)qo.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qo.warn(n.message)}}}async function $2(t,e){try{const r=(await GR()).transaction(Gh,"readwrite");await r.objectStore(Gh).put(e,YR(t)),await r.done}catch(n){if(n instanceof ns)qo.warn(n.message);else{const r=Fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qo.warn(r.message)}}}function YR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=1024,h9=30;class p9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=L2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>h9){const o=y9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L2(),{heartbeatsToSend:r,unsentEntries:i}=m9(this._heartbeatsCache.heartbeats),a=Cy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return qo.warn(n),""}}}function L2(){return new Date().toISOString().substring(0,10)}function m9(t,e=d9){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),V2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nU()?rU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V2(t){return Cy(JSON.stringify({version:2,heartbeats:t})).length}function y9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){Yc(new pu("platform-logger",e=>new OU(e),"PRIVATE")),Yc(new pu("heartbeat",e=>new p9(e),"PRIVATE")),zs(m1,M2,t),zs(m1,M2,"esm2020"),zs("fire-js","")}v9("");function XR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b9=XR,QR=new Jp("auth","Firebase",XR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new PE("@firebase/auth");function x9(t,...e){ky.logLevel<=gt.WARN&&ky.warn(`Auth (${w0}): ${t}`,...e)}function Hg(t,...e){ky.logLevel<=gt.ERROR&&ky.error(`Auth (${w0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,...e){throw kE(t,...e)}function OE(t,...e){return kE(t,...e)}function JR(t,e,n){const r={...b9(),[e]:n};return new Jp("auth","Firebase",r).create(e,{appName:t.name})}function ru(t){return JR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QR.create(t,...e)}function Et(t,e,...n){if(!t)throw kE(e,...n)}function Co(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hg(e),new Error(e)}function Iy(t,e){t||Co(e)}function w9(){return F2()==="http:"||F2()==="https:"}function F2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w9()||J8()||"connection"in navigator)?navigator.onLine:!0}function S9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Iy(n>e,"Short delay should be less than long delay!"),this.isMobile=Y8()||Z8()}get(){return _9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t,e){Iy(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P9=new Zp(3e4,6e4);function Eu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Au(t,e,n,r,i={}){return e$(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=UR({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return Q8()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Qp(t.emulatorConfig.host)&&(u.credentials="include"),ZR.fetch()(await t$(t,t.config.apiHost,n,s),u)})}async function e$(t,e,n){t._canInitEmulator=!1;const r={...A9,...e};try{const i=new O9(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw lg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw lg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw lg(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JR(t,c,u);Xc(t,c)}}catch(i){if(i instanceof ns)throw i;Xc(t,"network-request-failed",{message:String(i)})}}async function _0(t,e,n,r,i={}){const a=await Au(t,e,n,r,i);return"mfaPendingCredential"in a&&Xc(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function t$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?E9(t.config,i):`${t.config.apiScheme}://${i}`;return T9.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function C9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(OE(this.auth,"network-request-failed")),P9.get())})}}function lg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=OE(t,e,r);return i.customData._tokenResponse=n,i}function z2(t){return t!==void 0&&t.enterprise!==void 0}class k9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return C9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I9(t,e){return Au(t,"GET","/v2/recaptchaConfig",Eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t,e){return Au(t,"POST","/v1/accounts:delete",e)}async function jy(t,e){return Au(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N9(t,e=!1){const n=Qn(t),r=await n.getIdToken(e),i=n$(r);Et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:mh(vx(i.auth_time)),issuedAtTime:mh(vx(i.iat)),expirationTime:mh(vx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vx(t){return Number(t)*1e3}function n$(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hg("JWT malformed, contained fewer than 3 sections"),null;try{const i=zR(n);return i?JSON.parse(i):(Hg("Failed to decode base64 JWT payload"),null)}catch(i){return Hg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function B2(t){const e=n$(t);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ns&&D9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function D9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(t){var f;const e=t.auth,n=await t.getIdToken(),r=await v1(t,jy(e,{idToken:n}));Et(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?r$(i.providerUserInfo):[],o=$9(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new b1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function R9(t){const e=Qn(t);await Ny(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function r$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t,e){const n=await e$(t,{},async()=>{const r=UR({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await t$(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Qp(t.emulatorConfig.host)&&(l.credentials="include"),ZR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V9(t,e){return Au(t,"POST","/v2/accounts:revokeToken",Eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const n=B2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await L9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Dc;return r&&(Et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Et(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Et(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dc,this.toJSON())}_performRefresh(){return Co("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){Et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _a{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new M9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new b1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await v1(this,this.stsTokenManager.getToken(this.auth,e));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N9(this,e)}reload(){return R9(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _a({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ny(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wa(this.auth.app))return Promise.reject(ru(this.auth));const e=await this.getIdToken();return await v1(this,j9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:b,stsTokenManager:v}=n;Et(f&&v,e,"internal-error");const x=Dc.fromJSON(this.name,v);Et(typeof f=="string",e,"internal-error"),gs(r,e.name),gs(i,e.name),Et(typeof h=="boolean",e,"internal-error"),Et(typeof g=="boolean",e,"internal-error"),gs(a,e.name),gs(o,e.name),gs(s,e.name),gs(l,e.name),gs(u,e.name),gs(c,e.name);const w=new _a({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:x,createdAt:u,lastLoginAt:c});return b&&Array.isArray(b)&&(w.providerData=b.map(_=>({..._}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dc;i.updateFromServerResponse(n);const a=new _a({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ny(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Et(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?r$(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Dc;s.updateFromIdToken(r);const l=new _a({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new b1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Map;function Kl(t){Iy(t instanceof Function,"Expected a class definition");let e=U2.get(t);return e?(Iy(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i$.type="NONE";const W2=i$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t,e,n){return`firebase:${t}:${e}:${n}`}class Mc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=bx(this.userKey,i.apiKey,a),this.fullPersistenceKey=bx("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jy(this.auth,{idToken:e}).catch(()=>{});return n?_a._fromGetAccountInfoResponse(this.auth,n,e):null}return _a._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mc(Kl(W2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Kl(W2);const o=bx(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){let f;if(typeof c=="string"){const h=await jy(e,{idToken:c}).catch(()=>{});if(!h)break;f=await _a._fromGetAccountInfoResponse(e,h,c)}else f=_a._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Mc(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Mc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s$(e))return"Blackberry";if(l$(e))return"Webos";if(z9(e))return"Safari";if((e.includes("chrome/")||B9(e))&&!e.includes("edge/"))return"Chrome";if(o$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function F9(t=ni()){return/firefox\//i.test(t)}function z9(t=ni()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B9(t=ni()){return/crios\//i.test(t)}function a$(t=ni()){return/iemobile/i.test(t)}function o$(t=ni()){return/android/i.test(t)}function s$(t=ni()){return/blackberry/i.test(t)}function l$(t=ni()){return/webos/i.test(t)}function U9(t=ni()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W9(){return eU()&&document.documentMode===10}function q9(t=ni()){return U9(t)||o$(t)||l$(t)||s$(t)||/windows phone/i.test(t)||a$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t,e=[]){let n;switch(t){case"Browser":n=q2(ni());break;case"Worker":n=`${q2(ni())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${w0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(t,e={}){return Au(t,"GET","/v2/passwordPolicy",Eu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=6;class Y9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??G9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K2(this),this.idTokenSubscription=new K2(this),this.beforeStateQueue=new K9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kl(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Mc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jy(this,{idToken:e}),r=await _a._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Wa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ny(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wa(this.app))return Promise.reject(ru(this));const n=e?Qn(e):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wa(this.app)?Promise.reject(ru(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wa(this.app)?Promise.reject(ru(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H9(this),n=new Y9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await V9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kl(e)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Mc.create(this,[Kl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Wa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&x9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function em(t){return Qn(t)}class K2{constructor(e){this.auth=e,this.observer=null,this.addObserver=sU(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q9(t){IE=t}function J9(t){return IE.loadJS(t)}function Z9(){return IE.recaptchaEnterpriseScript}class eW{constructor(){this.enterprise=new tW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nW="recaptcha-enterprise",c$="NO_RECAPTCHA";class rW{constructor(e){this.type=nW,this.auth=em(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{I9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new k9(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;z2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(c$)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eW().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&z2(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Z9();l.length!==0&&(l+=s),J9(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function H2(t,e,n,r=!1,i=!1){const a=new rW(t);let o;if(i)o=c$;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function x1(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await H2(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await H2(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t,e){const n=KR(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Hh(a,e??{}))return i;Xc(i,"already-initialized")}return n.initialize({options:e})}function aW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Co("not implemented")}_getIdTokenResponse(e){return Co("not implemented")}_linkToIdToken(e,n){return Co("not implemented")}_getReauthenticationResolver(e){return Co("not implemented")}}async function sW(t,e){return Au(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lW(t,e){return _0(t,"POST","/v1/accounts:signInWithPassword",Eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uW(t,e){return _0(t,"POST","/v1/accounts:signInWithEmailLink",Eu(t,e))}async function cW(t,e){return _0(t,"POST","/v1/accounts:signInWithEmailLink",Eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends oW{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return x1(e,n,"signInWithPassword",lW);case"emailLink":return uW(e,{email:this._email,oobCode:this._password});default:Xc(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return x1(e,r,"signUpPassword",sW);case"emailLink":return cW(e,{idToken:n,email:this._email,oobCode:this._password});default:Xc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dW(t){const e=Gd(Yd(t)).link,n=e?Gd(Yd(e)).deep_link_id:null,r=Gd(Yd(t)).deep_link_id;return(r?Gd(Yd(r)).link:null)||r||n||e||t}class jE{constructor(e){const n=Gd(Yd(e)),r=n.apiKey??null,i=n.oobCode??null,a=fW(n.mode??null);Et(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dW(e);try{return new jE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this.providerId=Lf.PROVIDER_ID}static credential(e,n){return Yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jE.parseLink(n);return Et(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}Lf.PROVIDER_ID="password";Lf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e){return _0(t,"POST","/v1/accounts:signUp",Eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await _a._fromIdTokenResponse(e,r,i),o=G2(r);return new Xh({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=G2(r);return new Xh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function G2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends ns{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dy(e,n,r,i)}}function pW(t,e,n,r){return n._getIdTokenResponse(t).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Dy._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e,n=!1){if(Wa(t.app))return Promise.reject(ru(t));const r="signIn",i=await pW(t,r,e),a=await Xh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function gW(t,e){return mW(em(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f$(t){const e=em(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yW(t,e,n){if(Wa(t.app))return Promise.reject(ru(t));const r=em(t),o=await x1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&f$(t),l}),s=await Xh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function vW(t,e,n){return Wa(t.app)?Promise.reject(ru(t)):gW(Qn(t),Lf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&f$(t),r})}function bW(t,e,n,r){return Qn(t).onAuthStateChanged(e,n,r)}const Y2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Y2,"1"),this.storage.removeItem(Y2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=1e3,wW=10;class h$ extends d${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);W9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h$.type="LOCAL";const _W=h$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW extends d${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SW.type="SESSION";new Zp(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zp(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zp(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zp(5e3,15e3);var X2="@firebase/auth",Q2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TW(t){Yc(new pu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u$(t)},u=new X9(r,i,a,l);return aW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yc(new pu("auth-internal",e=>{const n=em(e.getProvider("auth").getImmediate());return(r=>new EW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(X2,Q2,AW(t)),zs(X2,Q2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=5*60;B8("authIdTokenMaxAge");function CW(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Q9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=OE("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",CW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TW("Browser");var OW="firebase",kW="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(OW,kW,"app");var J2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,p$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function j(){}j.prototype=T.prototype,E.F=T.prototype,E.prototype=new j,E.prototype.constructor=E,E.D=function(R,D,$){for(var L=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)L[ne-2]=arguments[ne];return T.prototype[D].apply(R,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,j){j||(j=0);const R=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)R[D]=T.charCodeAt(j++)|T.charCodeAt(j++)<<8|T.charCodeAt(j++)<<16|T.charCodeAt(j++)<<24;else for(D=0;D<16;++D)R[D]=T[j++]|T[j++]<<8|T[j++]<<16|T[j++]<<24;T=E.g[0],j=E.g[1],D=E.g[2];let $=E.g[3],L;L=T+($^j&(D^$))+R[0]+3614090360&4294967295,T=j+(L<<7&4294967295|L>>>25),L=$+(D^T&(j^D))+R[1]+3905402710&4294967295,$=T+(L<<12&4294967295|L>>>20),L=D+(j^$&(T^j))+R[2]+606105819&4294967295,D=$+(L<<17&4294967295|L>>>15),L=j+(T^D&($^T))+R[3]+3250441966&4294967295,j=D+(L<<22&4294967295|L>>>10),L=T+($^j&(D^$))+R[4]+4118548399&4294967295,T=j+(L<<7&4294967295|L>>>25),L=$+(D^T&(j^D))+R[5]+1200080426&4294967295,$=T+(L<<12&4294967295|L>>>20),L=D+(j^$&(T^j))+R[6]+2821735955&4294967295,D=$+(L<<17&4294967295|L>>>15),L=j+(T^D&($^T))+R[7]+4249261313&4294967295,j=D+(L<<22&4294967295|L>>>10),L=T+($^j&(D^$))+R[8]+1770035416&4294967295,T=j+(L<<7&4294967295|L>>>25),L=$+(D^T&(j^D))+R[9]+2336552879&4294967295,$=T+(L<<12&4294967295|L>>>20),L=D+(j^$&(T^j))+R[10]+4294925233&4294967295,D=$+(L<<17&4294967295|L>>>15),L=j+(T^D&($^T))+R[11]+2304563134&4294967295,j=D+(L<<22&4294967295|L>>>10),L=T+($^j&(D^$))+R[12]+1804603682&4294967295,T=j+(L<<7&4294967295|L>>>25),L=$+(D^T&(j^D))+R[13]+4254626195&4294967295,$=T+(L<<12&4294967295|L>>>20),L=D+(j^$&(T^j))+R[14]+2792965006&4294967295,D=$+(L<<17&4294967295|L>>>15),L=j+(T^D&($^T))+R[15]+1236535329&4294967295,j=D+(L<<22&4294967295|L>>>10),L=T+(D^$&(j^D))+R[1]+4129170786&4294967295,T=j+(L<<5&4294967295|L>>>27),L=$+(j^D&(T^j))+R[6]+3225465664&4294967295,$=T+(L<<9&4294967295|L>>>23),L=D+(T^j&($^T))+R[11]+643717713&4294967295,D=$+(L<<14&4294967295|L>>>18),L=j+($^T&(D^$))+R[0]+3921069994&4294967295,j=D+(L<<20&4294967295|L>>>12),L=T+(D^$&(j^D))+R[5]+3593408605&4294967295,T=j+(L<<5&4294967295|L>>>27),L=$+(j^D&(T^j))+R[10]+38016083&4294967295,$=T+(L<<9&4294967295|L>>>23),L=D+(T^j&($^T))+R[15]+3634488961&4294967295,D=$+(L<<14&4294967295|L>>>18),L=j+($^T&(D^$))+R[4]+3889429448&4294967295,j=D+(L<<20&4294967295|L>>>12),L=T+(D^$&(j^D))+R[9]+568446438&4294967295,T=j+(L<<5&4294967295|L>>>27),L=$+(j^D&(T^j))+R[14]+3275163606&4294967295,$=T+(L<<9&4294967295|L>>>23),L=D+(T^j&($^T))+R[3]+4107603335&4294967295,D=$+(L<<14&4294967295|L>>>18),L=j+($^T&(D^$))+R[8]+1163531501&4294967295,j=D+(L<<20&4294967295|L>>>12),L=T+(D^$&(j^D))+R[13]+2850285829&4294967295,T=j+(L<<5&4294967295|L>>>27),L=$+(j^D&(T^j))+R[2]+4243563512&4294967295,$=T+(L<<9&4294967295|L>>>23),L=D+(T^j&($^T))+R[7]+1735328473&4294967295,D=$+(L<<14&4294967295|L>>>18),L=j+($^T&(D^$))+R[12]+2368359562&4294967295,j=D+(L<<20&4294967295|L>>>12),L=T+(j^D^$)+R[5]+4294588738&4294967295,T=j+(L<<4&4294967295|L>>>28),L=$+(T^j^D)+R[8]+2272392833&4294967295,$=T+(L<<11&4294967295|L>>>21),L=D+($^T^j)+R[11]+1839030562&4294967295,D=$+(L<<16&4294967295|L>>>16),L=j+(D^$^T)+R[14]+4259657740&4294967295,j=D+(L<<23&4294967295|L>>>9),L=T+(j^D^$)+R[1]+2763975236&4294967295,T=j+(L<<4&4294967295|L>>>28),L=$+(T^j^D)+R[4]+1272893353&4294967295,$=T+(L<<11&4294967295|L>>>21),L=D+($^T^j)+R[7]+4139469664&4294967295,D=$+(L<<16&4294967295|L>>>16),L=j+(D^$^T)+R[10]+3200236656&4294967295,j=D+(L<<23&4294967295|L>>>9),L=T+(j^D^$)+R[13]+681279174&4294967295,T=j+(L<<4&4294967295|L>>>28),L=$+(T^j^D)+R[0]+3936430074&4294967295,$=T+(L<<11&4294967295|L>>>21),L=D+($^T^j)+R[3]+3572445317&4294967295,D=$+(L<<16&4294967295|L>>>16),L=j+(D^$^T)+R[6]+76029189&4294967295,j=D+(L<<23&4294967295|L>>>9),L=T+(j^D^$)+R[9]+3654602809&4294967295,T=j+(L<<4&4294967295|L>>>28),L=$+(T^j^D)+R[12]+3873151461&4294967295,$=T+(L<<11&4294967295|L>>>21),L=D+($^T^j)+R[15]+530742520&4294967295,D=$+(L<<16&4294967295|L>>>16),L=j+(D^$^T)+R[2]+3299628645&4294967295,j=D+(L<<23&4294967295|L>>>9),L=T+(D^(j|~$))+R[0]+4096336452&4294967295,T=j+(L<<6&4294967295|L>>>26),L=$+(j^(T|~D))+R[7]+1126891415&4294967295,$=T+(L<<10&4294967295|L>>>22),L=D+(T^($|~j))+R[14]+2878612391&4294967295,D=$+(L<<15&4294967295|L>>>17),L=j+($^(D|~T))+R[5]+4237533241&4294967295,j=D+(L<<21&4294967295|L>>>11),L=T+(D^(j|~$))+R[12]+1700485571&4294967295,T=j+(L<<6&4294967295|L>>>26),L=$+(j^(T|~D))+R[3]+2399980690&4294967295,$=T+(L<<10&4294967295|L>>>22),L=D+(T^($|~j))+R[10]+4293915773&4294967295,D=$+(L<<15&4294967295|L>>>17),L=j+($^(D|~T))+R[1]+2240044497&4294967295,j=D+(L<<21&4294967295|L>>>11),L=T+(D^(j|~$))+R[8]+1873313359&4294967295,T=j+(L<<6&4294967295|L>>>26),L=$+(j^(T|~D))+R[15]+4264355552&4294967295,$=T+(L<<10&4294967295|L>>>22),L=D+(T^($|~j))+R[6]+2734768916&4294967295,D=$+(L<<15&4294967295|L>>>17),L=j+($^(D|~T))+R[13]+1309151649&4294967295,j=D+(L<<21&4294967295|L>>>11),L=T+(D^(j|~$))+R[4]+4149444226&4294967295,T=j+(L<<6&4294967295|L>>>26),L=$+(j^(T|~D))+R[11]+3174756917&4294967295,$=T+(L<<10&4294967295|L>>>22),L=D+(T^($|~j))+R[2]+718787259&4294967295,D=$+(L<<15&4294967295|L>>>17),L=j+($^(D|~T))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(D+(L<<21&4294967295|L>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+$&4294967295}r.prototype.v=function(E,T){T===void 0&&(T=E.length);const j=T-this.blockSize,R=this.C;let D=this.h,$=0;for(;$<T;){if(D==0)for(;$<=j;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<T;)if(R[D++]=E.charCodeAt($++),D==this.blockSize){i(this,R),D=0;break}}else for(;$<T;)if(R[D++]=E[$++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=T},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;T=this.o*8;for(var j=E.length-8;j<E.length;++j)E[j]=T&255,T/=256;for(this.v(E),E=Array(16),T=0,j=0;j<4;++j)for(let R=0;R<32;R+=8)E[T++]=this.g[j]>>>R&255;return E};function a(E,T){var j=s;return Object.prototype.hasOwnProperty.call(j,E)?j[E]:j[E]=T(E)}function o(E,T){this.h=T;const j=[];let R=!0;for(let D=E.length-1;D>=0;D--){const $=E[D]|0;R&&$==T||(j[D]=$,R=!1)}this.g=j}var s={};function l(E){return-128<=E&&E<128?a(E,function(T){return new o([T|0],T<0?-1:0)}):new o([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return x(u(-E));const T=[];let j=1;for(let R=0;E>=j;R++)T[R]=E/j|0,j*=4294967296;return new o(T,0)}function c(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return x(c(E.substring(1),T));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=u(Math.pow(T,8));let R=f;for(let $=0;$<E.length;$+=8){var D=Math.min(8,E.length-$);const L=parseInt(E.substring($,$+D),T);D<8?(D=u(Math.pow(T,D)),R=R.j(D).add(u(L))):(R=R.j(j),R=R.add(u(L)))}return R}var f=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();let E=0,T=1;for(let j=0;j<this.g.length;j++){const R=this.i(j);E+=(R>=0?R:4294967296+R)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(v(this))return"-"+x(this).toString(E);const T=u(Math.pow(E,6));var j=this;let R="";for(;;){const D=I(j,T).g;j=w(j,D.j(T));let $=((j.g.length>0?j.g[0]:j.h)>>>0).toString(E);if(j=D,b(j))return $+R;for(;$.length<6;)$="0"+$;R=$+R}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(let T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function v(E){return E.h==-1}t.l=function(E){return E=w(this,E),v(E)?-1:b(E)?0:1};function x(E){const T=E.g.length,j=[];for(let R=0;R<T;R++)j[R]=~E.g[R];return new o(j,~E.h).add(h)}t.abs=function(){return v(this)?x(this):this},t.add=function(E){const T=Math.max(this.g.length,E.g.length),j=[];let R=0;for(let D=0;D<=T;D++){let $=R+(this.i(D)&65535)+(E.i(D)&65535),L=($>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);R=L>>>16,$&=65535,L&=65535,j[D]=L<<16|$}return new o(j,j[j.length-1]&-2147483648?-1:0)};function w(E,T){return E.add(x(T))}t.j=function(E){if(b(this)||b(E))return f;if(v(this))return v(E)?x(this).j(x(E)):x(x(this).j(E));if(v(E))return x(this.j(x(E)));if(this.l(g)<0&&E.l(g)<0)return u(this.m()*E.m());const T=this.g.length+E.g.length,j=[];for(var R=0;R<2*T;R++)j[R]=0;for(R=0;R<this.g.length;R++)for(let D=0;D<E.g.length;D++){const $=this.i(R)>>>16,L=this.i(R)&65535,ne=E.i(D)>>>16,ae=E.i(D)&65535;j[2*R+2*D]+=L*ae,_(j,2*R+2*D),j[2*R+2*D+1]+=$*ae,_(j,2*R+2*D+1),j[2*R+2*D+1]+=L*ne,_(j,2*R+2*D+1),j[2*R+2*D+2]+=$*ne,_(j,2*R+2*D+2)}for(E=0;E<T;E++)j[E]=j[2*E+1]<<16|j[2*E];for(E=T;E<2*T;E++)j[E]=0;return new o(j,0)};function _(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function A(E,T){this.g=E,this.h=T}function I(E,T){if(b(T))throw Error("division by zero");if(b(E))return new A(f,f);if(v(E))return T=I(x(E),T),new A(x(T.g),x(T.h));if(v(T))return T=I(E,x(T)),new A(x(T.g),T.h);if(E.g.length>30){if(v(E)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var j=h,R=T;R.l(E)<=0;)j=S(j),R=S(R);var D=C(j,1),$=C(R,1);for(R=C(R,2),j=C(j,2);!b(R);){var L=$.add(R);L.l(E)<=0&&(D=D.add(j),$=L),R=C(R,1),j=C(j,1)}return T=w(E,D.j(T)),new A(D,T)}for(D=f;E.l(T)>=0;){for(j=Math.max(1,Math.floor(E.m()/T.m())),R=Math.ceil(Math.log(j)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),$=u(j),L=$.j(T);v(L)||L.l(E)>0;)j-=R,$=u(j),L=$.j(T);b($)&&($=h),D=D.add($),E=w(E,L)}return new A(D,E)}t.B=function(E){return I(this,E).h},t.and=function(E){const T=Math.max(this.g.length,E.g.length),j=[];for(let R=0;R<T;R++)j[R]=this.i(R)&E.i(R);return new o(j,this.h&E.h)},t.or=function(E){const T=Math.max(this.g.length,E.g.length),j=[];for(let R=0;R<T;R++)j[R]=this.i(R)|E.i(R);return new o(j,this.h|E.h)},t.xor=function(E){const T=Math.max(this.g.length,E.g.length),j=[];for(let R=0;R<T;R++)j[R]=this.i(R)^E.i(R);return new o(j,this.h^E.h)};function S(E){const T=E.g.length+1,j=[];for(let R=0;R<T;R++)j[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(j,E.h)}function C(E,T){const j=T>>5;T%=32;const R=E.g.length-j,D=[];for(let $=0;$<R;$++)D[$]=T>0?E.i($+j)>>>T|E.i($+j+1)<<32-T:E.i($+j);return new o(D,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,p$=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Bs=o}).apply(typeof J2<"u"?J2:typeof self<"u"?self:typeof window<"u"?window:{});var ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m$,Xd,g$,Gg,w1,y$,v$,b$;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ug=="object"&&ug];for(var O=0;O<p.length;++O){var N=p[O];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(p,O){if(O)e:{var N=r;p=p.split(".");for(var z=0;z<p.length-1;z++){var oe=p[z];if(!(oe in N))break e;N=N[oe]}p=p[p.length-1],z=N[p],O=O(z),O!=z&&O!=null&&e(N,p,{configurable:!0,writable:!0,value:O})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(O){var N=[],z;for(z in O)Object.prototype.hasOwnProperty.call(O,z)&&N.push([z,O[z]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(p){var O=typeof p;return O=="object"&&p!=null||O=="function"}function l(p,O,N){return p.call.apply(p.bind,arguments)}function u(p,O,N){return u=l,u.apply(null,arguments)}function c(p,O){var N=Array.prototype.slice.call(arguments,1);return function(){var z=N.slice();return z.push.apply(z,arguments),p.apply(this,z)}}function f(p,O){function N(){}N.prototype=O.prototype,p.Z=O.prototype,p.prototype=new N,p.prototype.constructor=p,p.Ob=function(z,oe,ue){for(var Oe=Array(arguments.length-2),st=2;st<arguments.length;st++)Oe[st-2]=arguments[st];return O.prototype[oe].apply(z,Oe)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function g(p){const O=p.length;if(O>0){const N=Array(O);for(let z=0;z<O;z++)N[z]=p[z];return N}return[]}function b(p,O){for(let z=1;z<arguments.length;z++){const oe=arguments[z];var N=typeof oe;if(N=N!="object"?N:oe?Array.isArray(oe)?"array":N:"null",N=="array"||N=="object"&&typeof oe.length=="number"){N=p.length||0;const ue=oe.length||0;p.length=N+ue;for(let Oe=0;Oe<ue;Oe++)p[N+Oe]=oe[Oe]}else p.push(oe)}}class v{constructor(O,N){this.i=O,this.j=N,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function x(p){o.setTimeout(()=>{throw p},0)}function w(){var p=E;let O=null;return p.g&&(O=p.g,p.g=p.g.next,p.g||(p.h=null),O.next=null),O}class _{constructor(){this.h=this.g=null}add(O,N){const z=A.get();z.set(O,N),this.h?this.h.next=z:this.g=z,this.h=z}}var A=new v(()=>new I,p=>p.reset());class I{constructor(){this.next=this.g=this.h=null}set(O,N){this.h=O,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let S,C=!1,E=new _,T=()=>{const p=Promise.resolve(void 0);S=()=>{p.then(j)}};function j(){for(var p;p=w();){try{p.h.call(p.g)}catch(N){x(N)}var O=A;O.j(p),O.h<100&&(O.h++,p.next=O.g,O.g=p)}C=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(p,O){this.type=p,this.g=this.target=O,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,O=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};o.addEventListener("test",N,O),o.removeEventListener("test",N,O)}catch{}return p}();function L(p){return/^[\s\xa0]*$/.test(p)}function ne(p,O){D.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,O)}f(ne,D),ne.prototype.init=function(p,O){const N=this.type=p.type,z=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=O,O=p.relatedTarget,O||(N=="mouseover"?O=p.fromElement:N=="mouseout"&&(O=p.toElement)),this.relatedTarget=O,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),ce=0;function de(p,O,N,z,oe){this.listener=p,this.proxy=null,this.src=O,this.type=N,this.capture=!!z,this.ha=oe,this.key=++ce,this.da=this.fa=!1}function Y(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function re(p,O,N){for(const z in p)O.call(N,p[z],z,p)}function me(p,O){for(const N in p)O.call(void 0,p[N],N,p)}function Ae(p){const O={};for(const N in p)O[N]=p[N];return O}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(p,O){let N,z;for(let oe=1;oe<arguments.length;oe++){z=arguments[oe];for(N in z)p[N]=z[N];for(let ue=0;ue<be.length;ue++)N=be[ue],Object.prototype.hasOwnProperty.call(z,N)&&(p[N]=z[N])}}function We(p){this.src=p,this.g={},this.h=0}We.prototype.add=function(p,O,N,z,oe){const ue=p.toString();p=this.g[ue],p||(p=this.g[ue]=[],this.h++);const Oe=tt(p,O,z,oe);return Oe>-1?(O=p[Oe],N||(O.fa=!1)):(O=new de(O,this.src,ue,!!z,oe),O.fa=N,p.push(O)),O};function at(p,O){const N=O.type;if(N in p.g){var z=p.g[N],oe=Array.prototype.indexOf.call(z,O,void 0),ue;(ue=oe>=0)&&Array.prototype.splice.call(z,oe,1),ue&&(Y(O),p.g[N].length==0&&(delete p.g[N],p.h--))}}function tt(p,O,N,z){for(let oe=0;oe<p.length;++oe){const ue=p[oe];if(!ue.da&&ue.listener==O&&ue.capture==!!N&&ue.ha==z)return oe}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Se={};function X(p,O,N,z,oe){if(Array.isArray(O)){for(let ue=0;ue<O.length;ue++)X(p,O[ue],N,z,oe);return null}return N=Zn(N),p&&p[ae]?p.J(O,N,s(z)?!!z.capture:!1,oe):Ie(p,O,N,!1,z,oe)}function Ie(p,O,N,z,oe,ue){if(!O)throw Error("Invalid event type");const Oe=s(oe)?!!oe.capture:!!oe;let st=ft(p);if(st||(p[le]=st=new We(p)),N=st.add(O,N,z,Oe,ue),N.proxy)return N;if(z=De(),N.proxy=z,z.src=p,z.listener=N,p.addEventListener)$||(oe=Oe),oe===void 0&&(oe=!1),p.addEventListener(O.toString(),z,oe);else if(p.attachEvent)p.attachEvent(we(O.toString()),z);else if(p.addListener&&p.removeListener)p.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return N}function De(){function p(N){return O.call(p.src,p.listener,N)}const O=ot;return p}function se(p,O,N,z,oe){if(Array.isArray(O))for(var ue=0;ue<O.length;ue++)se(p,O[ue],N,z,oe);else z=s(z)?!!z.capture:!!z,N=Zn(N),p&&p[ae]?(p=p.i,ue=String(O).toString(),ue in p.g&&(O=p.g[ue],N=tt(O,N,z,oe),N>-1&&(Y(O[N]),Array.prototype.splice.call(O,N,1),O.length==0&&(delete p.g[ue],p.h--)))):p&&(p=ft(p))&&(O=p.g[O.toString()],p=-1,O&&(p=tt(O,N,z,oe)),(N=p>-1?O[p]:null)&&Ke(N))}function Ke(p){if(typeof p!="number"&&p&&!p.da){var O=p.src;if(O&&O[ae])at(O.i,p);else{var N=p.type,z=p.proxy;O.removeEventListener?O.removeEventListener(N,z,p.capture):O.detachEvent?O.detachEvent(we(N),z):O.addListener&&O.removeListener&&O.removeListener(z),(N=ft(O))?(at(N,p),N.h==0&&(N.src=null,O[le]=null)):Y(p)}}}function we(p){return p in Se?Se[p]:Se[p]="on"+p}function ot(p,O){if(p.da)p=!0;else{O=new ne(O,this);const N=p.listener,z=p.ha||p.src;p.fa&&Ke(p),p=N.call(z,O)}return p}function ft(p){return p=p[le],p instanceof We?p:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zn(p){return typeof p=="function"?p:(p[Kt]||(p[Kt]=function(O){return p.handleEvent(O)}),p[Kt])}function It(){R.call(this),this.i=new We(this),this.M=this,this.G=null}f(It,R),It.prototype[ae]=!0,It.prototype.removeEventListener=function(p,O,N,z){se(this,p,O,N,z)};function Rt(p,O){var N,z=p.G;if(z)for(N=[];z;z=z.G)N.push(z);if(p=p.M,z=O.type||O,typeof O=="string")O=new D(O,p);else if(O instanceof D)O.target=O.target||p;else{var oe=O;O=new D(z,p),je(O,oe)}oe=!0;let ue,Oe;if(N)for(Oe=N.length-1;Oe>=0;Oe--)ue=O.g=N[Oe],oe=nt(ue,z,!0,O)&&oe;if(ue=O.g=p,oe=nt(ue,z,!0,O)&&oe,oe=nt(ue,z,!1,O)&&oe,N)for(Oe=0;Oe<N.length;Oe++)ue=O.g=N[Oe],oe=nt(ue,z,!1,O)&&oe}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var p=this.i;for(const O in p.g){const N=p.g[O];for(let z=0;z<N.length;z++)Y(N[z]);delete p.g[O],p.h--}}this.G=null},It.prototype.J=function(p,O,N,z){return this.i.add(String(p),O,!1,N,z)},It.prototype.K=function(p,O,N,z){return this.i.add(String(p),O,!0,N,z)};function nt(p,O,N,z){if(O=p.i.g[String(O)],!O)return!0;O=O.concat();let oe=!0;for(let ue=0;ue<O.length;++ue){const Oe=O[ue];if(Oe&&!Oe.da&&Oe.capture==N){const st=Oe.listener,ln=Oe.ha||Oe.src;Oe.fa&&at(p.i,Oe),oe=st.call(ln,z)!==!1&&oe}}return oe&&!z.defaultPrevented}function Ft(p,O){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:o.setTimeout(p,O||0)}function An(p){p.g=Ft(()=>{p.g=null,p.i&&(p.i=!1,An(p))},p.l);const O=p.h;p.h=null,p.m.apply(null,O)}class ii extends R{constructor(O,N){super(),this.m=O,this.l=N,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:An(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(p){R.call(this),this.h=p,this.g={}}f(qn,R);var Ti=[];function Pi(p){re(p.g,function(O,N){this.g.hasOwnProperty(N)&&Ke(O)},p),p.g={}}qn.prototype.N=function(){qn.Z.N.call(this),Pi(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fo=o.JSON.stringify,ho=o.JSON.parse,ml=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function po(){}function Ci(){}var Oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mo(){D.call(this,"d")}f(mo,D);function zr(){D.call(this,"c")}f(zr,D);var Le={},ka=null;function Or(){return ka=ka||new It}Le.Ia="serverreachability";function Qe(p){D.call(this,Le.Ia,p)}f(Qe,D);function xe(p){const O=Or();Rt(O,new Qe(O))}Le.STAT_EVENT="statevent";function Ye(p,O){D.call(this,Le.STAT_EVENT,p),this.stat=O}f(Ye,D);function Je(p){const O=Or();Rt(O,new Ye(O,p))}Le.Ja="timingevent";function Tn(p,O){D.call(this,Le.Ja,p),this.size=O}f(Tn,D);function dt(p,O){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},O)}function ea(){this.g=!0}ea.prototype.ua=function(){this.g=!1};function ld(p,O,N,z,oe,ue){p.info(function(){if(p.g)if(ue){var Oe="",st=ue.split("&");for(let Tt=0;Tt<st.length;Tt++){var ln=st[Tt].split("=");if(ln.length>1){const Cn=ln[0];ln=ln[1];const Kr=Cn.split("_");Oe=Kr.length>=2&&Kr[1]=="type"?Oe+(Cn+"="+ln+"&"):Oe+(Cn+"=redacted&")}}}else Oe=null;else Oe=ue;return"XMLHTTP REQ ("+z+") [attempt "+oe+"]: "+O+`
`+N+`
`+Oe})}function ud(p,O,N,z,oe,ue,Oe){p.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+oe+"]: "+O+`
`+N+`
`+ue+" "+Oe})}function er(p,O,N,z){p.info(function(){return"XMLHTTP TEXT ("+O+"): "+cd(p,N)+(z?" "+z:"")})}function ki(p,O){p.info(function(){return"TIMEOUT: "+O})}ea.prototype.info=function(){};function cd(p,O){if(!p.g)return O;if(!O)return null;try{const ue=JSON.parse(O);if(ue){for(p=0;p<ue.length;p++)if(Array.isArray(ue[p])){var N=ue[p];if(!(N.length<2)){var z=N[1];if(Array.isArray(z)&&!(z.length<1)){var oe=z[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let Oe=1;Oe<z.length;Oe++)z[Oe]=""}}}}return fo(ue)}catch{return O}}var go={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xn;function fd(){}f(fd,po),fd.prototype.g=function(){return new XMLHttpRequest},xn=new fd;function Ia(p){return encodeURIComponent(String(p))}function Mu(p){var O=1;p=p.split(":");const N=[];for(;O>0&&p.length;)N.push(p.shift()),O--;return p.length&&N.push(p.join(":")),N}function ai(p,O,N,z){this.j=p,this.i=O,this.l=N,this.S=z||1,this.V=new qn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Om}function Om(){this.i=null,this.g="",this.h=!1}var ta={},ja={};function Ii(p,O,N){p.M=1,p.A=Da(si(O)),p.u=N,p.R=!0,gl(p,null)}function gl(p,O){p.F=Date.now(),ji(p),p.B=si(p.A);var N=p.B,z=p.S;Array.isArray(z)||(z=[String(z)]),Mm(N.i,"t",z),p.C=0,N=p.j.L,p.h=new Om,p.g=ds(p.j,N?O:null,!p.u),p.P>0&&(p.O=new ii(u(p.Y,p,p.g),p.P)),O=p.V,N=p.g,z=p.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(Ti[0]=oe.toString()),oe=Ti);for(let ue=0;ue<oe.length;ue++){const Oe=X(N,oe[ue],z||O.handleEvent,!1,O.h||O);if(!Oe)break;O.g[Oe.key]=Oe}O=p.J?Ae(p.J):{},p.u?(p.v||(p.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,O)):(p.v="GET",p.g.ea(p.B,p.v,null,O)),xe(),ld(p.i,p.v,p.B,p.l,p.S,p.u)}ai.prototype.ba=function(p){p=p.target;const O=this.O;O&&qr(p)==3?O.j():this.Y(p)},ai.prototype.Y=function(p){try{if(p==this.g)e:{const st=qr(this.g),ln=this.g.ya(),Tt=this.g.ca();if(!(st<3)&&(st!=3||this.g&&(this.h.h||this.g.la()||Vm(this.g)))){this.K||st!=4||ln==7||(ln==8||Tt<=0?xe(3):xe(2)),yl(this);var O=this.g.ca();this.X=O;var N=Mb(this);if(this.o=O==200,ud(this.i,this.v,this.B,this.l,this.S,st,O),this.o){if(this.U&&!this.L){t:{if(this.g){var z,oe=this.g;if((z=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(z)){var ue=z;break t}}ue=null}if(p=ue)er(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,p);else{this.o=!1,this.m=3,Je(12),kr(this),Bt(this);break e}}if(this.R){p=!0;let Cn;for(;!this.K&&this.C<N.length;)if(Cn=km(this,N),Cn==ja){st==4&&(this.m=4,Je(14),p=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==ta){this.m=4,Je(15),er(this.i,this.l,N,"[Invalid Chunk]"),p=!1;break}else er(this.i,this.l,Cn,null),oi(this,Cn);if(na(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||N.length!=0||this.h.h||(this.m=1,Je(16),p=!1),this.o=this.o&&p,!p)er(this.i,this.l,N,"[Invalid Chunked Response]"),kr(this),Bt(this);else if(N.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Wu(Oe),Oe.P=!0,Je(11))}}else er(this.i,this.l,N,null),oi(this,N);st==4&&kr(this),this.o&&!this.K&&(st==4?qu(this.j,this):(this.o=!1,ji(this)))}else Rb(this.g),O==400&&N.indexOf("Unknown SID")>0?(this.m=3,Je(12)):(this.m=0,Je(13)),kr(this),Bt(this)}}}catch{}finally{}};function Mb(p){if(!na(p))return p.g.la();const O=Vm(p.g);if(O==="")return"";let N="";const z=O.length,oe=qr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return kr(p),Bt(p),"";p.h.i=new o.TextDecoder}for(let ue=0;ue<z;ue++)p.h.h=!0,N+=p.h.i.decode(O[ue],{stream:!(oe&&ue==z-1)});return O.length=0,p.h.g+=N,p.C=0,p.h.g}function na(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function km(p,O){var N=p.C,z=O.indexOf(`
`,N);return z==-1?ja:(N=Number(O.substring(N,z)),isNaN(N)?ta:(z+=1,z+N>O.length?ja:(O=O.slice(z,z+N),p.C=z+N,O)))}ai.prototype.cancel=function(){this.K=!0,kr(this)};function ji(p){p.T=Date.now()+p.H,dd(p,p.H)}function dd(p,O){if(p.D!=null)throw Error("WatchDog timer not null");p.D=dt(u(p.aa,p),O)}function yl(p){p.D&&(o.clearTimeout(p.D),p.D=null)}ai.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ki(this.i,this.B),this.M!=2&&(xe(),Je(17)),kr(this),this.m=2,Bt(this)):dd(this,this.T-p)};function Bt(p){p.j.I==0||p.K||qu(p.j,p)}function kr(p){yl(p);var O=p.O;O&&typeof O.dispose=="function"&&O.dispose(),p.O=null,Pi(p.V),p.g&&(O=p.g,p.g=null,O.abort(),O.dispose())}function oi(p,O){try{var N=p.j;if(N.I!=0&&(N.g==p||bl(N.h,p))){if(!p.L&&bl(N.h,p)&&N.I==3){try{var z=N.Ba.g.parse(O)}catch{z=null}if(Array.isArray(z)&&z.length==3){var oe=z;if(oe[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<p.F)oa(N),zu(N);else break e;fs(N),Je(18)}}else N.xa=oe[1],0<N.xa-N.K&&oe[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=dt(u(N.Va,N),6e3));Ru(N.h)<=1&&N.ta&&(N.ta=void 0)}else sa(N,11)}else if((p.L||N.g==p)&&oa(N),!L(O))for(oe=N.Ba.g.parse(O),O=0;O<oe.length;O++){let Tt=oe[O];const Cn=Tt[0];if(!(Cn<=N.K))if(N.K=Cn,Tt=Tt[1],N.I==2)if(Tt[0]=="c"){N.M=Tt[1],N.ba=Tt[2];const Kr=Tt[3];Kr!=null&&(N.ka=Kr,N.j.info("VER="+N.ka));const ua=Tt[4];ua!=null&&(N.za=ua,N.j.info("SVER="+N.za));const La=Tt[5];La!=null&&typeof La=="number"&&La>0&&(z=1.5*La,N.O=z,N.j.info("backChannelRequestTimeoutMs_="+z)),z=N;const ca=p.g;if(ca){const Gu=ca.g?ca.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var ue=z.h;ue.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(ra(ue,ue.h),ue.h=null))}if(z.G){const Yu=ca.g?ca.g.getResponseHeader("X-HTTP-Session-Id"):null;Yu&&(z.wa=Yu,Ct(z.J,z.G,Yu))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-p.F,N.j.info("Handshake RTT: "+N.T+"ms")),z=N;var Oe=p;if(z.na=Rn(z,z.L?z.ba:null,z.W),Oe.L){hd(z.h,Oe);var st=Oe,ln=z.O;ln&&(st.H=ln),st.D&&(yl(st),ji(st)),z.g=Oe}else Tl(z);N.i.length>0&&Bu(N)}else Tt[0]!="stop"&&Tt[0]!="close"||sa(N,7);else N.I==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?sa(N,7):El(N):Tt[0]!="noop"&&N.l&&N.l.qa(Tt),N.A=0)}}xe(4)}catch{}}var Im=class{constructor(p,O){this.g=p,this.map=O}};function yo(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ru(p){return p.h?1:p.g?p.g.size:0}function bl(p,O){return p.h?p.h==O:p.g?p.g.has(O):!1}function ra(p,O){p.g?p.g.add(O):p.h=O}function hd(p,O){p.h&&p.h==O?p.h=null:p.g&&p.g.has(O)&&p.g.delete(O)}yo.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function xl(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let O=p.i;for(const N of p.g.values())O=O.concat(N.G);return O}return g(p.i)}var pd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pt(p,O){if(p){p=p.split("&");for(let N=0;N<p.length;N++){const z=p[N].indexOf("=");let oe,ue=null;z>=0?(oe=p[N].substring(0,z),ue=p[N].substring(z+1)):oe=p[N],O(oe,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function ia(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;p instanceof ia?(this.l=p.l,Na(this,p.j),this.o=p.o,this.g=p.g,os(this,p.u),this.h=p.h,jt(this,dr(p.i)),this.m=p.m):p&&(O=String(p).match(pd))?(this.l=!1,Na(this,O[1]||"",!0),this.o=Ni(O[2]||""),this.g=Ni(O[3]||"",!0),os(this,O[4]),this.h=Ni(O[5]||"",!0),jt(this,O[6]||"",!0),this.m=Ni(O[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}ia.prototype.toString=function(){const p=[];var O=this.j;O&&p.push(vo(O,wl,!0),":");var N=this.g;return(N||O=="file")&&(p.push("//"),(O=this.o)&&p.push(vo(O,wl,!0),"@"),p.push(Ia(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&p.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(vo(N,N.charAt(0)=="/"?$u:jm,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",vo(N,_l)),p.join("")},ia.prototype.resolve=function(p){const O=si(this);let N=!!p.j;N?Na(O,p.j):N=!!p.o,N?O.o=p.o:N=!!p.g,N?O.g=p.g:N=p.u!=null;var z=p.h;if(N)os(O,p.u);else if(N=!!p.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var oe=O.h.lastIndexOf("/");oe!=-1&&(z=O.h.slice(0,oe+1)+z)}if(oe=z,oe==".."||oe==".")z="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){z=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const ue=[];for(let Oe=0;Oe<oe.length;){const st=oe[Oe++];st=="."?z&&Oe==oe.length&&ue.push(""):st==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),z&&Oe==oe.length&&ue.push("")):(ue.push(st),z=!0)}z=ue.join("/")}else z=oe}return N?O.h=z:N=p.i.toString()!=="",N?jt(O,dr(p.i)):N=!!p.m,N&&(O.m=p.m),O};function si(p){return new ia(p)}function Na(p,O,N){p.j=N?Ni(O,!0):O,p.j&&(p.j=p.j.replace(/:$/,""))}function os(p,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);p.u=O}else p.u=null}function jt(p,O,N){O instanceof ss?(p.i=O,Lu(p.i,p.l)):(N||(O=vo(O,Nm)),p.i=new ss(O,p.l))}function Ct(p,O,N){p.i.set(O,N)}function Da(p){return Ct(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ni(p,O){return p?O?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function vo(p,O,N){return typeof p=="string"?(p=encodeURI(p).replace(O,md),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function md(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var wl=/[#\/\?@]/g,jm=/[#\?:]/g,$u=/[#\?]/g,Nm=/[#\?@]/g,_l=/#/g;function ss(p,O){this.h=this.g=null,this.i=p||null,this.j=!!O}function bo(p){p.g||(p.g=new Map,p.h=0,p.i&&pt(p.i,function(O,N){p.add(decodeURIComponent(O.replace(/\+/g," ")),N)}))}t=ss.prototype,t.add=function(p,O){bo(this),this.i=null,p=li(this,p);let N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(O),this.h+=1,this};function bt(p,O){bo(p),O=li(p,O),p.g.has(O)&&(p.i=null,p.h-=p.g.get(O).length,p.g.delete(O))}function gd(p,O){return bo(p),O=li(p,O),p.g.has(O)}t.forEach=function(p,O){bo(this),this.g.forEach(function(N,z){N.forEach(function(oe){p.call(O,oe,z,this)},this)},this)};function Dm(p,O){bo(p);let N=[];if(typeof O=="string")gd(p,O)&&(N=N.concat(p.g.get(li(p,O))));else for(p=Array.from(p.g.values()),O=0;O<p.length;O++)N=N.concat(p[O]);return N}t.set=function(p,O){return bo(this),this.i=null,p=li(this,p),gd(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[O]),this.h+=1,this},t.get=function(p,O){return p?(p=Dm(this,p),p.length>0?String(p[0]):O):O};function Mm(p,O,N){bt(p,O),N.length>0&&(p.i=null,p.g.set(li(p,O),g(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],O=Array.from(this.g.keys());for(let z=0;z<O.length;z++){var N=O[z];const oe=Ia(N);N=Dm(this,N);for(let ue=0;ue<N.length;ue++){let Oe=oe;N[ue]!==""&&(Oe+="="+Ia(N[ue])),p.push(Oe)}}return this.i=p.join("&")};function dr(p){const O=new ss;return O.i=p.i,p.g&&(O.g=new Map(p.g),O.h=p.h),O}function li(p,O){return O=String(O),p.j&&(O=O.toLowerCase()),O}function Lu(p,O){O&&!p.j&&(bo(p),p.i=null,p.g.forEach(function(N,z){const oe=z.toLowerCase();z!=oe&&(bt(this,z),Mm(this,oe,N))},p)),p.j=O}function Ma(p,O){const N=new ea;if(o.Image){const z=new Image;z.onload=c(aa,N,"TestLoadImage: loaded",!0,O,z),z.onerror=c(aa,N,"TestLoadImage: error",!1,O,z),z.onabort=c(aa,N,"TestLoadImage: abort",!1,O,z),z.ontimeout=c(aa,N,"TestLoadImage: timeout",!1,O,z),o.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=p}else O(!1)}function Rm(p,O){const N=new ea,z=new AbortController,oe=setTimeout(()=>{z.abort(),aa(N,"TestPingServer: timeout",!1,O)},1e4);fetch(p,{signal:z.signal}).then(ue=>{clearTimeout(oe),ue.ok?aa(N,"TestPingServer: ok",!0,O):aa(N,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(oe),aa(N,"TestPingServer: error",!1,O)})}function aa(p,O,N,z,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),z(N)}catch{}}function Pn(){this.g=new ml}function Br(p){this.i=p.Sb||null,this.h=p.ab||!1}f(Br,po),Br.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(p,O){It.call(this),this.H=p,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ra,It),t=Ra.prototype,t.open=function(p,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=O,this.readyState=1,Ur(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(O.body=p),(this.H||o).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ls(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ls(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var O=p.value?p.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!p.done}))&&(this.response=this.responseText+=O)}p.done?xo(this):Ur(this),this.readyState==3&&ls(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,xo(this))},t.Na=function(p){this.g&&(this.response=p,xo(this))},t.ga=function(){this.g&&xo(this)};function xo(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ur(p)}t.setRequestHeader=function(p,O){this.A.append(p,O)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],O=this.h.entries();for(var N=O.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=O.next();return p.join(`\r
`)};function Ur(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function $m(p){let O="";return re(p,function(N,z){O+=z,O+=":",O+=N,O+=`\r
`}),O}function Wr(p,O,N){e:{for(z in N){var z=!1;break e}z=!0}z||(N=$m(N),typeof p=="string"?N!=null&&Ia(N):Ct(p,O,N))}function Ht(p){It.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ht,It);var Lm=/^https?$/i,yd=["POST","PUT"];t=Ht.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,O,N,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);O=O?O.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xn.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(O,String(p),!0),this.B=!1}catch(ue){us(this,ue);return}if(p=N||"",N=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var oe in z)N.set(oe,z[oe]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ue of z.keys())N.set(ue,z.get(ue));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(N.keys()).find(ue=>ue.toLowerCase()=="content-type"),oe=o.FormData&&p instanceof o.FormData,!(Array.prototype.indexOf.call(yd,O,void 0)>=0)||z||oe||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Oe]of N)this.g.setRequestHeader(ue,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ue){us(this,ue)}};function us(p,O){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=O,p.o=5,Vu(p),Fu(p)}function Vu(p){p.A||(p.A=!0,Rt(p,"complete"),Rt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Rt(this,"complete"),Rt(this,"abort"),Fu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fu(this,!0)),Ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vd(this):this.Xa())},t.Xa=function(){vd(this)};function vd(p){if(p.h&&typeof a<"u"){if(p.v&&qr(p)==4)setTimeout(p.Ca.bind(p),0);else if(Rt(p,"readystatechange"),qr(p)==4){p.h=!1;try{const ue=p.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var N;if(!(N=O)){var z;if(z=ue===0){let Oe=String(p.D).match(pd)[1]||null;!Oe&&o.self&&o.self.location&&(Oe=o.self.location.protocol.slice(0,-1)),z=!Lm.test(Oe?Oe.toLowerCase():"")}N=z}if(N)Rt(p,"complete"),Rt(p,"success");else{p.o=6;try{var oe=qr(p)>2?p.g.statusText:""}catch{oe=""}p.l=oe+" ["+p.ca()+"]",Vu(p)}}finally{Fu(p)}}}}function Fu(p,O){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const N=p.g;p.g=null,O||Rt(p,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qr(p){return p.g?p.g.readyState:0}t.ca=function(){try{return qr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var O=this.g.responseText;return p&&O.indexOf(p)==0&&(O=O.substring(p.length)),ho(O)}};function Vm(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Rb(p){const O={};p=(p.g&&qr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<p.length;z++){if(L(p[z]))continue;var N=Mu(p[z]);const oe=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ue=O[oe]||[];O[oe]=ue,ue.push(N)}me(O,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(p,O,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||O}function Sl(p){this.za=0,this.i=[],this.j=new ea,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,p),this.Za=$a("retryDelaySeedMs",1e4,p),this.Ta=$a("forwardChannelMaxRetries",2,p),this.va=$a("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(p&&p.concurrentRequestLimit),this.Ba=new Pn,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Sl.prototype,t.ka=8,t.I=1,t.connect=function(p,O,N,z){Je(0),this.W=p,this.H=O||{},N&&z!==void 0&&(this.H.OSID=N,this.H.OAID=z),this.F=this.X,this.J=Rn(this,null,this.W),Bu(this)};function El(p){if(Fm(p),p.I==3){var O=p.V++,N=si(p.J);if(Ct(N,"SID",p.M),Ct(N,"RID",O),Ct(N,"TYPE","terminate"),cs(p,N),O=new ai(p,p.j,O),O.M=2,O.A=Da(si(N)),N=!1,o.navigator&&o.navigator.sendBeacon)try{N=o.navigator.sendBeacon(O.A.toString(),"")}catch{}!N&&o.Image&&(new Image().src=O.A,N=!0),N||(O.g=ds(O.j,null),O.g.ea(O.A)),O.F=Date.now(),ji(O)}Hu(p)}function zu(p){p.g&&(Wu(p),p.g.cancel(),p.g=null)}function Fm(p){zu(p),p.v&&(o.clearTimeout(p.v),p.v=null),oa(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&o.clearTimeout(p.m),p.m=null)}function Bu(p){if(!vl(p.h)&&!p.m){p.m=!0;var O=p.Ea;S||T(),C||(S(),C=!0),E.add(O,p),p.D=0}}function bd(p,O){return Ru(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=O.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=dt(u(p.Ea,p,O),Ku(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const oe=new ai(this,this.j,p);let ue=this.o;if(this.U&&(ue?(ue=Ae(ue),je(ue,this.U)):ue=this.U),this.u!==null||this.R||(oe.J=ue,ue=null),this.S)e:{for(var O=0,N=0;N<this.i.length;N++){t:{var z=this.i[N];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(O+=z,O>4096){O=N;break e}if(O===4096||N===this.i.length-1){O=N+1;break e}}O=1e3}else O=1e3;O=Al(this,oe,O),N=si(this.J),Ct(N,"RID",p),Ct(N,"CVER",22),this.G&&Ct(N,"X-HTTP-Session-Id",this.G),cs(this,N),ue&&(this.R?O="headers="+Ia($m(ue))+"&"+O:this.u&&Wr(N,this.u,ue)),ra(this.h,oe),this.Ra&&Ct(N,"TYPE","init"),this.S?(Ct(N,"$req",O),Ct(N,"SID","null"),oe.U=!0,Ii(oe,N,null)):Ii(oe,N,O),this.I=2}}else this.I==3&&(p?Uu(this,p):this.i.length==0||vl(this.h)||Uu(this))};function Uu(p,O){var N;O?N=O.l:N=p.V++;const z=si(p.J);Ct(z,"SID",p.M),Ct(z,"RID",N),Ct(z,"AID",p.K),cs(p,z),p.u&&p.o&&Wr(z,p.u,p.o),N=new ai(p,p.j,N,p.D+1),p.u===null&&(N.J=p.o),O&&(p.i=O.G.concat(p.i)),O=Al(p,N,1e3),N.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ra(p.h,N),Ii(N,z,O)}function cs(p,O){p.H&&re(p.H,function(N,z){Ct(O,z,N)}),p.l&&re({},function(N,z){Ct(O,z,N)})}function Al(p,O,N){N=Math.min(p.i.length,N);const z=p.l?u(p.l.Ka,p.l,p):null;e:{var oe=p.i;let st=-1;for(;;){const ln=["count="+N];st==-1?N>0?(st=oe[0].g,ln.push("ofs="+st)):st=0:ln.push("ofs="+st);let Tt=!0;for(let Cn=0;Cn<N;Cn++){var ue=oe[Cn].g;const Kr=oe[Cn].map;if(ue-=st,ue<0)st=Math.max(0,oe[Cn].g-100),Tt=!1;else try{ue="req"+ue+"_"||"";try{var Oe=Kr instanceof Map?Kr:Object.entries(Kr);for(const[ua,La]of Oe){let ca=La;s(La)&&(ca=fo(La)),ln.push(ue+ua+"="+encodeURIComponent(ca))}}catch(ua){throw ln.push(ue+"type="+encodeURIComponent("_badmap")),ua}}catch{z&&z(Kr)}}if(Tt){Oe=ln.join("&");break e}}Oe=void 0}return p=p.i.splice(0,N),O.G=p,Oe}function Tl(p){if(!p.g&&!p.v){p.Y=1;var O=p.Da;S||T(),C||(S(),C=!0),E.add(O,p),p.A=0}}function fs(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=dt(u(p.Da,p),Ku(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,zm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=dt(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Je(10),zu(this),zm(this))};function Wu(p){p.B!=null&&(o.clearTimeout(p.B),p.B=null)}function zm(p){p.g=new ai(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var O=si(p.na);Ct(O,"RID","rpc"),Ct(O,"SID",p.M),Ct(O,"AID",p.K),Ct(O,"CI",p.F?"0":"1"),!p.F&&p.ia&&Ct(O,"TO",p.ia),Ct(O,"TYPE","xmlhttp"),cs(p,O),p.u&&p.o&&Wr(O,p.u,p.o),p.O&&(p.g.H=p.O);var N=p.g;p=p.ba,N.M=1,N.A=Da(si(O)),N.u=null,N.R=!0,gl(N,p)}t.Va=function(){this.C!=null&&(this.C=null,zu(this),fs(this),Je(19))};function oa(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function qu(p,O){var N=null;if(p.g==O){oa(p),Wu(p),p.g=null;var z=2}else if(bl(p.h,O))N=O.G,hd(p.h,O),z=1;else return;if(p.I!=0){if(O.o)if(z==1){N=O.u?O.u.length:0,O=Date.now()-O.F;var oe=p.D;z=Or(),Rt(z,new Tn(z,N)),Bu(p)}else Tl(p);else if(oe=O.m,oe==3||oe==0&&O.X>0||!(z==1&&bd(p,O)||z==2&&fs(p)))switch(N&&N.length>0&&(O=p.h,O.i=O.i.concat(N)),oe){case 1:sa(p,5);break;case 4:sa(p,10);break;case 3:sa(p,6);break;default:sa(p,2)}}}function Ku(p,O){let N=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(N*=2),N*O}function sa(p,O){if(p.j.info("Error code "+O),O==2){var N=u(p.bb,p),z=p.Ua;const oe=!z;z=new ia(z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Na(z,"https"),Da(z),oe?Ma(z.toString(),N):Rm(z.toString(),N)}else Je(2);p.I=0,p.l&&p.l.pa(O),Hu(p),Fm(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function Hu(p){if(p.I=0,p.ja=[],p.l){const O=xl(p.h);(O.length!=0||p.i.length!=0)&&(b(p.ja,O),b(p.ja,p.i),p.h.i.length=0,g(p.i),p.i.length=0),p.l.oa()}}function Rn(p,O,N){var z=N instanceof ia?si(N):new ia(N);if(z.g!="")O&&(z.g=O+"."+z.g),os(z,z.u);else{var oe=o.location;z=oe.protocol,O=O?O+"."+oe.hostname:oe.hostname,oe=+oe.port;const ue=new ia(null);z&&Na(ue,z),O&&(ue.g=O),oe&&os(ue,oe),N&&(ue.h=N),z=ue}return N=p.G,O=p.wa,N&&O&&Ct(z,N,O),Ct(z,"VER",p.ka),cs(p,z),z}function ds(p,O,N){if(O&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=p.Aa&&!p.ma?new Ht(new Br({ab:N})):new Ht(p.ma),O.Fa(p.L),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hs(){}t=hs.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pl(){}Pl.prototype.g=function(p,O){return new Kn(p,O)};function Kn(p,O){It.call(this),this.g=new Sl(O),this.l=p,this.h=O&&O.messageUrlParams||null,p=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(p?p["X-WebChannel-Content-Type"]=O.messageContentType:p={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(p?p["X-WebChannel-Client-Profile"]=O.sa:p={"X-WebChannel-Client-Profile":O.sa}),this.g.U=p,(p=O&&O.Qb)&&!L(p)&&(this.g.u=p),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!L(O)&&(this.g.G=O,p=this.h,p!==null&&O in p&&(p=this.h,O in p&&delete p[O])),this.j=new la(this)}f(Kn,It),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){El(this.g)},Kn.prototype.o=function(p){var O=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.v&&(N={},N.__data__=fo(p),p=N);O.i.push(new Im(O.Ya++,p)),O.I==3&&Bu(O)},Kn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,Kn.Z.N.call(this)};function xd(p){mo.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var O=p.__sm__;if(O){e:{for(const N in O){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,O=O!==null&&p in O?O[p]:void 0),this.data=O}else this.data=p}f(xd,mo);function wd(){zr.call(this),this.status=1}f(wd,zr);function la(p){this.g=p}f(la,hs),la.prototype.ra=function(){Rt(this.g,"a")},la.prototype.qa=function(p){Rt(this.g,new xd(p))},la.prototype.pa=function(p){Rt(this.g,new wd)},la.prototype.oa=function(){Rt(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,b$=function(){return new Pl},v$=function(){return Or()},y$=Le,w1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},go.NO_ERROR=0,go.TIMEOUT=8,go.HTTP_ERROR=6,Gg=go,zt.COMPLETE="complete",g$=zt,Ci.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",It.prototype.listen=It.prototype.J,Xd=Ci,Ht.prototype.listenOnce=Ht.prototype.K,Ht.prototype.getLastError=Ht.prototype.Ha,Ht.prototype.getLastErrorCode=Ht.prototype.ya,Ht.prototype.getStatus=Ht.prototype.ca,Ht.prototype.getResponseJson=Ht.prototype.La,Ht.prototype.getResponseText=Ht.prototype.la,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Fa,m$=Ht}).apply(typeof ug<"u"?ug:typeof self<"u"?self:typeof window<"u"?window:{});const Z2="@firebase/firestore",eC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new PE("@firebase/firestore");function rc(){return mu.logLevel}function Ve(t,...e){if(mu.logLevel<=gt.DEBUG){const n=e.map(NE);mu.debug(`Firestore (${Vf}): ${t}`,...n)}}function Ko(t,...e){if(mu.logLevel<=gt.ERROR){const n=e.map(NE);mu.error(`Firestore (${Vf}): ${t}`,...n)}}function Qc(t,...e){if(mu.logLevel<=gt.WARN){const n=e.map(NE);mu.warn(`Firestore (${Vf}): ${t}`,...n)}}function NE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,x$(t,r,n)}function x$(t,e,n){let r=`FIRESTORE (${Vf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ko(r),new Error(r)}function kt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||x$(e,i,r)}function it(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wr.UNAUTHENTICATED))}shutdown(){}}class jW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NW{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Us,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Us)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new w$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new wr(e)}}class DW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new DW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$W(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function yt(t,e){return t<e?-1:t>e?1:0}function _1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return xx(i)===xx(a)?yt(i,a):xx(i)?1:-1}return yt(t.length,e.length)}const LW=55296,VW=57343;function xx(t){const e=t.charCodeAt(0);return e>=LW&&e<=VW}function Jc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="__name__";class Ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ba.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return yt(e.length,n.length)}static compareSegments(e,n){const r=Ba.isNumericId(e),i=Ba.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ba.extractNumericId(e).compare(Ba.extractNumericId(n)):_1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class Yt extends Ba{construct(e,n,r){return new Yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Yt(n)}static emptyPath(){return new Yt([])}}const FW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends Ba{construct(e,n,r){return new or(e,n,r)}static isValidIdentifier(e){return FW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nC}static keyField(){return new or([nC])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new $e(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new $e(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $e(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new $e(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(n)}static emptyPath(){return new or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Yt.fromString(e))}static fromName(e){return new qe(Yt.fromString(e).popFirst(5))}static empty(){return new qe(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e,n){if(!n)throw new $e(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zW(t,e,n,r){if(e===!0&&r===!0)throw new $e(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rC(t){if(!qe.isDocumentKey(t))throw new $e(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iC(t){if(qe.isDocumentKey(t))throw new $e(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function S$(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function S0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe(12329,{type:typeof t})}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=S0(t);throw new $e(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function tm(t,e){if(!S$(t))throw new $e(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new $e(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=-62135596800,oC=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*oC);return new nn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aC)throw new $e(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oC}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tm(e,nn._jsonSchema))return new nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nn._jsonSchemaVersion="firestore/timestamp/1.0",nn._jsonSchema={type:Dn("string",nn._jsonSchemaVersion),seconds:Dn("number"),nanoseconds:Dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new nn(0,0))}static max(){return new et(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=-1;function BW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new Gs(i,qe.empty(),e)}function UW(t){return new Gs(t.readTime,t.key,Qh)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(et.min(),qe.empty(),Qh)}static max(){return new Gs(et.max(),qe.empty(),Qh)}}function WW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==qW)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ve((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function HW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}E0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=-1;function A0(t){return t==null}function My(t){return t===0&&1/t==-1/0}function GW(t){return typeof t=="number"&&Number.isInteger(t)&&!My(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$="";function YW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sC(e)),e=XW(t.get(n),e);return sC(e)}function XW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case E$:n+="";break;default:n+=a}}return n}function sC(t){return t+E$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cg(this.root,e,this.comparator,!1)}getReverseIterator(){return new cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cg(this.root,e,this.comparator,!0)}}class cg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ir.RED,this.left=i??ir.EMPTY,this.right=a??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ir(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uC(this.data.getIterator())}getIteratorFrom(e){return new uC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class uC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new gi([])}unionWith(e){let n=new Bn(or.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new T$("Invalid base64 string: "+a):a}}(e);return new fr(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const QW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(kt(!!t,39018),typeof t=="string"){let e=0;const n=QW.exec(t);if(kt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?fr.fromBase64String(t):fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="server_timestamp",C$="__type__",O$="__previous_value__",k$="__local_write_time__";function RE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[C$])==null?void 0:r.stringValue)===P$}function T0(t){const e=t.mapValue.fields[O$];return RE(e)?T0(e):e}function Jh(t){const e=Ys(t.mapValue.fields[k$].timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n,r,i,a,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Ry="(default)";class Zh{constructor(e,n){this.projectId=e,this.database=n||Ry}static empty(){return new Zh("","")}get isDefaultDatabase(){return this.database===Ry}isEqual(e){return e instanceof Zh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="__type__",ZW="__max__",fg={mapValue:{}},j$="__vector__",$y="value";function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RE(t)?4:t7(t)?9007199254740991:e7(t)?10:11:Xe(28295,{value:t})}function io(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jh(t).isEqual(Jh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ys(i.timestampValue),s=Ys(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Xs(i.bytesValue).isEqual(Xs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Sn(i.geoPointValue.latitude)===Sn(a.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Sn(i.integerValue)===Sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Sn(i.doubleValue),s=Sn(a.doubleValue);return o===s?My(o)===My(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Jc(t.arrayValue.values||[],e.arrayValue.values||[],io);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(lC(o)!==lC(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!io(o[l],s[l])))return!1;return!0}(t,e);default:return Xe(52216,{left:t})}}function ep(t,e){return(t.values||[]).find(n=>io(n,e))!==void 0}function Zc(t,e){if(t===e)return 0;const n=Qs(t),r=Qs(e);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Sn(a.integerValue||a.doubleValue),l=Sn(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return cC(t.timestampValue,e.timestampValue);case 4:return cC(Jh(t),Jh(e));case 5:return _1(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Xs(a),l=Xs(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=yt(s[u],l[u]);if(c!==0)return c}return yt(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=yt(Sn(a.latitude),Sn(o.latitude));return s!==0?s:yt(Sn(a.longitude),Sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fC(t.arrayValue,e.arrayValue);case 10:return function(a,o){var h,g,b,v;const s=a.fields||{},l=o.fields||{},u=(h=s[$y])==null?void 0:h.arrayValue,c=(g=l[$y])==null?void 0:g.arrayValue,f=yt(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((v=c==null?void 0:c.values)==null?void 0:v.length)||0);return f!==0?f:fC(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===fg.mapValue&&o===fg.mapValue)return 0;if(a===fg.mapValue)return 1;if(o===fg.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=_1(l[f],c[f]);if(h!==0)return h;const g=Zc(s[l[f]],u[c[f]]);if(g!==0)return g}return yt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function cC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const n=Ys(t),r=Ys(e),i=yt(n.seconds,r.seconds);return i!==0?i:yt(n.nanos,r.nanos)}function fC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Zc(n[i],r[i]);if(a)return a}return yt(n.length,r.length)}function ef(t){return S1(t)}function S1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=S1(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${S1(n.fields[o])}`;return i+"}"}(t.mapValue):Xe(61005,{value:t})}function Yg(t){switch(Qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=T0(t);return e?16+Yg(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Yg(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return il(r.fields,(a,o)=>{i+=a.length+Yg(o)}),i}(t.mapValue);default:throw Xe(13486,{value:t})}}function dC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E1(t){return!!t&&"integerValue"in t}function $E(t){return!!t&&"arrayValue"in t}function hC(t){return!!t&&"nullValue"in t}function pC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xg(t){return!!t&&"mapValue"in t}function e7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[I$])==null?void 0:r.stringValue)===j$}function gh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return il(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gh(t.arrayValue.values[n]);return e}return{...t}}function t7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(n)}setAll(e){let n=or.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=gh(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Xg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return io(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){il(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Xr(gh(this.value))}}function N$(t){const e=[];return il(t.fields,(n,r)=>{const i=new or([n]);if(Xg(r)){const a=N$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new gi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Sr(e,0,et.min(),et.min(),et.min(),Xr.empty(),0)}static newFoundDocument(e,n,r,i){return new Sr(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Sr(e,2,n,et.min(),et.min(),Xr.empty(),0)}static newUnknownDocument(e,n){return new Sr(e,3,n,et.min(),et.min(),Xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.position=e,this.inclusive=n}}function mC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=qe.comparator(qe.fromName(o.referenceValue),n.key):r=Zc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function gC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!io(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n="asc"){this.field=e,this.dir=n}}function n7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${}class Nn extends D${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i7(e,n,r):n==="array-contains"?new s7(e,r):n==="in"?new l7(e,r):n==="not-in"?new u7(e,r):n==="array-contains-any"?new c7(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a7(e,r):new o7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zc(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(Zc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ca extends D${constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ca(e,n)}matches(e){return M$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M$(t){return t.op==="and"}function R$(t){return r7(t)&&M$(t)}function r7(t){for(const e of t.filters)if(e instanceof Ca)return!1;return!0}function A1(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+ef(t.value);if(R$(t))return t.filters.map(e=>A1(e)).join(",");{const e=t.filters.map(n=>A1(n)).join(",");return`${t.op}(${e})`}}function $$(t,e){return t instanceof Nn?function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&io(r.value,i.value)}(t,e):t instanceof Ca?function(r,i){return i instanceof Ca&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&$$(o,i.filters[s]),!0):!1}(t,e):void Xe(19439)}function L$(t){return t instanceof Nn?function(n){return`${n.field.canonicalString()} ${n.op} ${ef(n.value)}`}(t):t instanceof Ca?function(n){return n.op.toString()+" {"+n.getFilters().map(L$).join(" ,")+"}"}(t):"Filter"}class i7 extends Nn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class a7 extends Nn{constructor(e,n){super(e,"in",n),this.keys=V$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o7 extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=V$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V$(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class s7 extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $E(n)&&ep(n.arrayValue,this.value)}}class l7 extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ep(this.value.arrayValue,n)}}class u7 extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ep(this.value.arrayValue,n)}}class c7 extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$E(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ep(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function yC(t,e=null,n=[],r=[],i=null,a=null,o=null){return new f7(t,e,n,r,i,a,o)}function LE(t){const e=it(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>A1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),A0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ef(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ef(r)).join(",")),e.Te=n}return e.Te}function VE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gC(t.startAt,e.startAt)&&gC(t.endAt,e.endAt)}function T1(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d7(t,e,n,r,i,a,o,s){return new nm(t,e,n,r,i,a,o,s)}function P0(t){return new nm(t)}function vC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F$(t){return t.collectionGroup!==null}function yh(t){const e=it(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Bn(or.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Vy(a,r))}),n.has(or.keyField().canonicalString())||e.Ie.push(new Vy(or.keyField(),r))}return e.Ie}function Xa(t){const e=it(t);return e.Ee||(e.Ee=h7(e,yh(t))),e.Ee}function h7(t,e){if(t.limitType==="F")return yC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Vy(i.field,a)});const n=t.endAt?new Ly(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ly(t.startAt.position,t.startAt.inclusive):null;return yC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function P1(t,e){const n=t.filters.concat([e]);return new nm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function C1(t,e,n){return new nm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function C0(t,e){return VE(Xa(t),Xa(e))&&t.limitType===e.limitType}function z$(t){return`${LE(Xa(t))}|lt:${t.limitType}`}function ic(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>L$(i)).join(", ")}]`),A0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ef(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ef(i)).join(",")),`Target(${r})`}(Xa(t))}; limitType=${t.limitType})`}function O0(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):qe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of yh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=mC(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,yh(r),i)||r.endAt&&!function(o,s,l){const u=mC(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,yh(r),i))}(t,e)}function p7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B$(t){return(e,n)=>{let r=!1;for(const i of yh(t)){const a=m7(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function m7(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Zc(l,u):Xe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return A$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=new pn(qe.comparator);function Ho(){return g7}const U$=new pn(qe.comparator);function Qd(...t){let e=U$;for(const n of t)e=e.insert(n.key,n);return e}function W$(t){let e=U$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hl(){return vh()}function q$(){return vh()}function vh(){return new Tu(t=>t.toString(),(t,e)=>t.isEqual(e))}const y7=new pn(qe.comparator),v7=new Bn(qe.comparator);function vt(...t){let e=v7;for(const n of t)e=e.add(n);return e}const b7=new Bn(yt);function x7(){return b7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:My(e)?"-0":e}}function K$(t){return{integerValue:""+t}}function w7(t,e){return GW(e)?K$(e):FE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this._=void 0}}function _7(t,e,n){return t instanceof Fy?function(i,a){const o={fields:{[C$]:{stringValue:P$},[k$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&RE(a)&&(a=T0(a)),a&&(o.fields[O$]=a),{mapValue:o}}(n,e):t instanceof tp?G$(t,e):t instanceof np?Y$(t,e):function(i,a){const o=H$(i,a),s=bC(o)+bC(i.Ae);return E1(o)&&E1(i.Ae)?K$(s):FE(i.serializer,s)}(t,e)}function S7(t,e,n){return t instanceof tp?G$(t,e):t instanceof np?Y$(t,e):n}function H$(t,e){return t instanceof zy?function(r){return E1(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Fy extends k0{}class tp extends k0{constructor(e){super(),this.elements=e}}function G$(t,e){const n=X$(e);for(const r of t.elements)n.some(i=>io(i,r))||n.push(r);return{arrayValue:{values:n}}}class np extends k0{constructor(e){super(),this.elements=e}}function Y$(t,e){let n=X$(e);for(const r of t.elements)n=n.filter(i=>!io(i,r));return{arrayValue:{values:n}}}class zy extends k0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bC(t){return Sn(t.integerValue||t.doubleValue)}function X$(t){return $E(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tp&&i instanceof tp||r instanceof np&&i instanceof np?Jc(r.elements,i.elements,io):r instanceof zy&&i instanceof zy?io(r.Ae,i.Ae):r instanceof Fy&&i instanceof Fy}(t.transform,e.transform)}class A7{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class I0{}function Q$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j0(t.key,$r.none()):new rm(t.key,t.data,$r.none());{const n=t.data,r=Xr.empty();let i=new Bn(or.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new al(t.key,r,new gi(i.toArray()),$r.none())}}function T7(t,e,n){t instanceof rm?function(i,a,o){const s=i.value.clone(),l=wC(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof al?function(i,a,o){if(!Qg(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=wC(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(J$(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bh(t,e,n,r){return t instanceof rm?function(a,o,s,l){if(!Qg(a.precondition,o))return s;const u=a.value.clone(),c=_C(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof al?function(a,o,s,l){if(!Qg(a.precondition,o))return s;const u=_C(a.fieldTransforms,l,o),c=o.data;return c.setAll(J$(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return Qg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function P7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=H$(r.transform,i||null);a!=null&&(n===null&&(n=Xr.empty()),n.set(r.field,a))}return n||null}function xC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jc(r,i,(a,o)=>E7(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rm extends I0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class al extends I0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function J$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wC(t,e,n){const r=new Map;kt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,S7(o,s,n[i]))}return r}function _C(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,_7(a,o,e))}return r}class j0 extends I0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C7 extends I0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&T7(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=q$();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=Q$(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vt())}isEqual(e){return this.batchId===e.batchId&&Jc(this.mutations,e.mutations,(n,r)=>xC(n,r))&&Jc(this.baseMutations,e.baseMutations,(n,r)=>xC(n,r))}}class zE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return y7}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new zE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,_t;function j7(t){switch(t){case ye.OK:return Xe(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Xe(15467,{code:t})}}function Z$(t){if(t===void 0)return Ko("GRPC error has no .code"),ye.UNKNOWN;switch(t){case On.OK:return ye.OK;case On.CANCELLED:return ye.CANCELLED;case On.UNKNOWN:return ye.UNKNOWN;case On.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case On.INTERNAL:return ye.INTERNAL;case On.UNAVAILABLE:return ye.UNAVAILABLE;case On.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case On.NOT_FOUND:return ye.NOT_FOUND;case On.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case On.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case On.ABORTED:return ye.ABORTED;case On.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case On.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case On.DATA_LOSS:return ye.DATA_LOSS;default:return Xe(39323,{code:t})}}(_t=On||(On={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=new Bs([4294967295,4294967295],0);function SC(t){const e=N7().encode(t),n=new p$;return n.update(e),new Uint8Array(n.digest())}function EC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,a],0)]}class BE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jd(`Invalid padding: ${n}`);if(r<0)throw new Jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Bs.fromNumber(r)));return i.compare(D7)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=SC(e),[r,i]=EC(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new BE(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const n=SC(e),[r,i]=EC(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,im.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new N0(et.min(),i,new pn(yt),Ho(),vt())}}class im{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new im(r,n,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class e4{constructor(e,n){this.targetId=e,this.Ce=n}}class t4{constructor(e,n,r=fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AC{constructor(){this.ve=0,this.Fe=TC(),this.Me=fr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe(38017,{changeType:a})}}),new im(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=TC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ho(),this.Je=dg(),this.He=dg(),this.Ye=new pn(yt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(T1(a))if(r===0){const o=new qe(a.path);this.et(n,o,Sr.newNoDocument(o,et.min()))}else kt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Xs(r).toUint8Array()}catch(l){if(l instanceof T$)return Qc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new BE(o,i,a)}catch(l){return Qc(l instanceof Jd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&T1(s.target)){const l=new qe(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Sr.newNoDocument(l,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let r=vt();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new N0(e,n,this.Ye,this.je,r);return this.je=Ho(),this.Je=dg(),this.He=dg(),this.Ye=new pn(yt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new AC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bn(yt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bn(yt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dg(){return new pn(qe.comparator)}function TC(){return new pn(qe.comparator)}const R7={asc:"ASCENDING",desc:"DESCENDING"},$7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L7={and:"AND",or:"OR"};class V7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function O1(t,e){return t.useProto3Json||A0(e)?e:{value:e}}function By(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function F7(t,e){return By(t,e.toTimestamp())}function Qa(t){return kt(!!t,49232),et.fromTimestamp(function(n){const r=Ys(n);return new nn(r.seconds,r.nanos)}(t))}function UE(t,e){return k1(t,e).canonicalString()}function k1(t,e){const n=function(i){return new Yt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function r4(t){const e=Yt.fromString(t);return kt(l4(e),10190,{key:e.toString()}),e}function I1(t,e){return UE(t.databaseId,e.path)}function wx(t,e){const n=r4(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(a4(n))}function i4(t,e){return UE(t.databaseId,e)}function z7(t){const e=r4(t);return e.length===4?Yt.emptyPath():a4(e)}function j1(t){return new Yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a4(t){return kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PC(t,e,n){return{name:I1(t,e),fields:n.value.mapValue.fields}}function B7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Xe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(kt(c===void 0||typeof c=="string",58123),fr.fromBase64String(c||"")):(kt(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),fr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?ye.UNKNOWN:Z$(u.code);return new $e(c,u.message||"")}(o);n=new t4(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wx(t,r.document.name),a=Qa(r.document.updateTime),o=r.document.createTime?Qa(r.document.createTime):et.min(),s=new Xr({mapValue:{fields:r.document.fields}}),l=Sr.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wx(t,r.document),a=r.readTime?Qa(r.readTime):et.min(),o=Sr.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Jg([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wx(t,r.document),a=r.removedTargetIds||[];n=new Jg([],a,i,null)}else{if(!("filter"in e))return Xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new I7(i,a),s=r.targetId;n=new e4(s,o)}}return n}function U7(t,e){let n;if(e instanceof rm)n={update:PC(t,e.key,e.value)};else if(e instanceof j0)n={delete:I1(t,e.key)};else if(e instanceof al)n={update:PC(t,e.key,e.data),updateMask:J7(e.fieldMask)};else{if(!(e instanceof C7))return Xe(16599,{Vt:e.type});n={verify:I1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Fy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof tp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof np)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof zy)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw Xe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:F7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe(27497)}(t,e.precondition)),n}function W7(t,e){return t&&t.length>0?(kt(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Qa(i.updateTime):Qa(a);return o.isEqual(et.min())&&(o=Qa(a)),new A7(o,i.transformResults||[])}(n,e))):[]}function q7(t,e){return{documents:[i4(t,e.path)]}}function K7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=i4(t,i);const a=function(u){if(u.length!==0)return s4(Ca.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:ac(h.field),direction:Y7(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=O1(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function H7(t){let e=z7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const h=o4(f);return h instanceof Ca&&R$(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(b){return new Vy(oc(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,A0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Ly(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new Ly(g,h)}(n.endAt)),d7(e,i,o,a,s,"F",l,u)}function G7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oc(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oc(n.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=oc(n.unaryFilter.field);return Nn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oc(n.unaryFilter.field);return Nn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Nn.create(oc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ca.create(n.compositeFilter.filters.map(r=>o4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}}(n.compositeFilter.op))}(t):Xe(30097,{filter:t})}function Y7(t){return R7[t]}function X7(t){return $7[t]}function Q7(t){return L7[t]}function ac(t){return{fieldPath:t.canonicalString()}}function oc(t){return or.fromServerFormat(t.fieldPath)}function s4(t){return t instanceof Nn?function(n){if(n.op==="=="){if(pC(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NAN"}};if(hC(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pC(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NOT_NAN"}};if(hC(n.value))return{unaryFilter:{field:ac(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ac(n.field),op:X7(n.op),value:n.value}}}(t):t instanceof Ca?function(n){const r=n.getFilters().map(i=>s4(i));return r.length===1?r[0]:{compositeFilter:{op:Q7(n.op),filters:r}}}(t):Xe(54877,{filter:t})}function J7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,i,a=et.min(),o=et.min(),s=fr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e){this.yt=e}}function eq(t){const e=H7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?C1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.Cn=new nq}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Gs.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class nq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bn(Yt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u4=41943040;class Hr{static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(u4,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tf(0)}static cr(){return new tf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="LruGarbageCollector",rq=1048576;function kC([t,e],[n,r]){const i=yt(t,n);return i===0?yt(e,r):i}class iq{constructor(e){this.Ir=e,this.buffer=new Bn(kC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(OC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zf(n)?Ve(OC,"Ignoring IndexedDB error during garbage collection: ",n):await Ff(n)}await this.Vr(3e5)})}}class oq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(E0.ce);const r=new iq(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(CC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),rc()<=gt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function sq(t,e){return new oq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this.changes=new Tu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bh(r.mutation,i,gi.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,vt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=vt()){const i=Hl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Qd();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,vt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Ho();const o=vh(),s=function(){return vh()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof al)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),bh(c.mutation,u,c.mutation.getFieldMask(),nn.now())):o.set(u.key,gi.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>s.set(u,new uq(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=vh();let i=new pn((o,s)=>o-s),a=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||gi.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||vt()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=q$();c.forEach(h=>{if(!a.has(h)){const g=Q$(n.get(h),r.get(h));g!==null&&f.set(h,g),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return qe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ve.resolve(Hl());let s=Qh,l=a;return o.next(u=>ve.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?ve.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,vt())).next(c=>({batchId:s,changes:W$(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=Qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Qd();return this.indexManager.getCollectionParents(e,a).next(s=>ve.forEach(s,l=>{const u=function(f,h){return new nm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Sr.newInvalidDocument(c)))});let s=Qd();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&bh(c.mutation,u,gi.empty(),nn.now()),O0(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qa(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:eq(i.bundledQuery),readTime:Qa(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this.overlays=new pn(qe.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hl();return ve.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Hl(),a=n.length+1,o=new qe(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new pn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=Hl(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Hl(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return ve.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new k7(n,r));let a=this.qr.get(n);a===void 0&&(a=vt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(){this.sessionToken=fr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.Qr=new Bn(Hn.$r),this.Ur=new Bn(Hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Hn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new qe(new Yt([])),r=new Hn(n,e),i=new Hn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new qe(new Yt([])),r=new Hn(n,e),i=new Hn(n,e+1);let a=vt();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return qe.comparator(e.key,n.key)||yt(e.Yr,n.Yr)}static Kr(e,n){return yt(e.Yr,n.Yr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(Hn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new O7(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Hn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?ME:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(yt);return n.forEach(i=>{const a=new Hn(i,0),o=new Hn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{r=r.add(s.Yr)})}),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;qe.isDocumentKey(a)||(a=a.child(""));const o=new Hn(new qe(a),0);let s=new Bn(yt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),ve.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,i=>{const a=new Hn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Hn(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e){this.ri=e,this.docs=function(){return new pn(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Sr.newInvalidDocument(n))}getEntries(e,n){let r=Ho();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Sr.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ho();const o=n.path,s=new qe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WW(UW(c),r)<=0||(i.has(c.key)||O0(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return ve.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Xe(9500)}ii(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gq(this)}getSize(e){return ve.resolve(this.size)}}class gq extends lq{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.persistence=e,this.si=new Tu(n=>LE(n),VE),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new WE,this.targetCount=0,this.ai=tf.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ve.waitFor(a).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n){this.ui={},this.overlays={},this.ci=new E0(0),this.li=!1,this.li=!0,this.hi=new hq,this.referenceDelegate=e(this),this.Pi=new yq(this),this.indexManager=new tq,this.remoteDocumentCache=function(i){return new mq(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Z7(n),this.Ii=new fq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new pq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new vq(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return ve.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class vq extends KW{constructor(e){super(),this.currentSequenceNumber=e}}class qE{constructor(e){this.persistence=e,this.Ri=new WE,this.Vi=null}static mi(e){return new qE(e)}get fi(){if(this.Vi)return this.Vi;throw Xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,r=>{const i=qe.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,et.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uy{constructor(e,n){this.persistence=e,this.pi=new Tu(r=>YW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=sq(this,n)}static mi(e,n){return new Uy(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ve.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?ve.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(s=>{s||(r++,a.removeEntry(o,et.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yg(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=vt(),i=vt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new KE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return tU()?8:HW(ni())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new bq;return this.Ss(e,n,o).next(s=>{if(a.result=s,this.Vs)return this.bs(e,n,o,s.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(rc()<=gt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",ic(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(rc()<=gt.DEBUG&&Ve("QueryEngine","Query:",ic(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(rc()<=gt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",ic(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xa(n))):ve.resolve())}ys(e,n){if(vC(n))return ve.resolve(null);let r=Xa(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=C1(n,null,"F"),r=Xa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=vt(...a);return this.ps.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,o,l.readTime)?this.ys(e,C1(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return vC(n)||i.isEqual(et.min())?ve.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?ve.resolve(null):(rc()<=gt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(n)),this.vs(e,o,n,BW(i,Qh)).next(s=>s))})}Ds(e,n){let r=new Bn(B$(e));return n.forEach((i,a)=>{O0(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return rc()<=gt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",ic(n)),this.ps.getDocumentsMatchingQuery(e,n,Gs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="LocalStore",wq=3e8;class _q{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new pn(yt),this.xs=new Tu(a=>LE(a),VE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cq(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Sq(t,e,n,r){return new _q(t,e,n,r)}async function f4(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=vt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function Eq(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let g=ve.resolve();return h.forEach(b=>{g=g.next(()=>c.getEntry(l,b)).next(v=>{const x=u.docVersions.get(b);kt(x!==null,48541),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),g.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=vt();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function d4(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Aq(t,e){const n=it(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Pi.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(a,c.addedDocuments,f)));let g=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(fr.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(f,g),function(v,x,w){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=wq?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,g,c)&&s.push(n.Pi.updateTargetData(a,g))});let l=Ho(),u=vt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(Tq(a,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(et.min())){const c=n.Pi.getLastRemoteSnapshotVersion(a).next(f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return ve.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function Tq(t,e,n){let r=vt(),i=vt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Ho();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(et.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):Ve(HE,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function Pq(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ME),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cq(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,ve.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function N1(t,e,n){const r=it(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zf(o))throw o;Ve(HE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function IC(t,e,n){const r=it(t);let i=et.min(),a=vt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=it(l),h=f.xs.get(c);return h!==void 0?ve.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(r,o,Xa(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:et.min(),n?a:vt())).next(s=>(Oq(r,p7(e),s),{documents:s,Qs:a})))}function Oq(t,e,n){let r=t.Os.get(e)||et.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class jC{constructor(){this.activeTargetIds=x7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kq{constructor(){this.Mo=new jC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="ConnectivityMonitor";class DC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(NC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(NC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg=null;function D1(){return hg===null?hg=function(){return 268435456+Math.round(2147483648*Math.random())}():hg++,"0x"+hg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="RestConnection",jq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ry?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=D1(),s=this.zo(e,n.toUriEncodedString());Ve(_x,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),c=Qp(u);return this.Jo(e,s,l,r,c).then(f=>(Ve(_x,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Qc(_x,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",r),f})}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=jq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="WebChannelConnection";class Mq extends Nq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=D1();return new Promise((s,l)=>{const u=new m$;u.setWithCredentials(!0),u.listenOnce(g$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gg.NO_ERROR:const f=u.getResponseJson();Ve(yr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Gg.TIMEOUT:Ve(yr,`RPC '${e}' ${o} timed out`),l(new $e(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Gg.HTTP_ERROR:const h=u.getStatus();if(Ve(yr,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(_)>=0?_:ye.UNKNOWN}(b.status);l(new $e(v,b.message))}else l(new $e(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new $e(ye.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ve(yr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Ve(yr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=D1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=b$(),s=v$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");Ve(yr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);this.I_(f);let h=!1,g=!1;const b=new Dq({Yo:x=>{g?Ve(yr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(Ve(yr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ve(yr,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Zo:()=>f.close()}),v=(x,w,_)=>{x.listen(w,A=>{try{_(A)}catch(I){setTimeout(()=>{throw I},0)}})};return v(f,Xd.EventType.OPEN,()=>{g||(Ve(yr,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),v(f,Xd.EventType.CLOSE,()=>{g||(g=!0,Ve(yr,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(f))}),v(f,Xd.EventType.ERROR,x=>{g||(g=!0,Qc(yr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),b.a_(new $e(ye.UNAVAILABLE,"The operation could not be completed")))}),v(f,Xd.EventType.MESSAGE,x=>{var w;if(!g){const _=x.data[0];kt(!!_,16349);const A=_,I=(A==null?void 0:A.error)||((w=A[0])==null?void 0:w.error);if(I){Ve(yr,`RPC '${e}' stream ${i} received error:`,I);const S=I.status;let C=function(j){const R=On[j];if(R!==void 0)return Z$(R)}(S),E=I.message;C===void 0&&(C=ye.INTERNAL,E="Unknown error status: "+S+" with message "+I.message),g=!0,b.a_(new $e(C,E)),f.close()}else Ve(yr,`RPC '${e}' stream ${i} received:`,_),b.u_(_)}}),v(s,y$.STAT_EVENT,x=>{x.stat===w1.PROXY?Ve(yr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===w1.NOPROXY&&Ve(yr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){return new V7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="PersistentStream";class p4{constructor(e,n,r,i,a,o,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(Ko(n.toString()),Ko("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $e(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ve(MC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ve(MC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rq extends p4{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B7(this.serializer,e),r=function(a){if(!("targetChange"in a))return et.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?et.min():o.readTime?Qa(o.readTime):et.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=j1(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=T1(l)?{documents:q7(a,l)}:{query:K7(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=n4(a,o.resumeToken);const u=O1(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(et.min())>0){s.readTime=By(a,o.snapshotVersion.toTimestamp());const u=O1(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=G7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=j1(this.serializer),n.removeTarget=e,this.q_(n)}}class $q extends p4{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=W7(e.writeResults,e.commitTime),r=Qa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=j1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>U7(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{}class Vq extends Lq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $e(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,k1(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(ye.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(e,k1(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(ye.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Fq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ko(n),this.aa=!1):Ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="RemoteStore";class zq{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Pu(this)&&(Ve(gu,"Restarting streams for network reachability change."),await async function(l){const u=it(l);u.Ea.add(4),await am(u),u.Ra.set("Unknown"),u.Ea.delete(4),await M0(u)}(this))})}),this.Ra=new Fq(r,i)}}async function M0(t){if(Pu(t))for(const e of t.da)await e(!0)}async function am(t){for(const e of t.da)await e(!1)}function m4(t,e){const n=it(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),QE(n)?XE(n):Bf(n).O_()&&YE(n,e))}function GE(t,e){const n=it(t),r=Bf(n);n.Ia.delete(e),r.O_()&&g4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pu(n)&&n.Ra.set("Unknown"))}function YE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bf(t).Y_(e)}function g4(t,e){t.Va.Ue(e),Bf(t).Z_(e)}function XE(t){t.Va=new M7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bf(t).start(),t.Ra.ua()}function QE(t){return Pu(t)&&!Bf(t).x_()&&t.Ia.size>0}function Pu(t){return it(t).Ea.size===0}function y4(t){t.Va=void 0}async function Bq(t){t.Ra.set("Online")}async function Uq(t){t.Ia.forEach((e,n)=>{YE(t,e)})}async function Wq(t,e){y4(t),QE(t)?(t.Ra.ha(e),XE(t)):t.Ra.set("Unknown")}async function qq(t,e,n){if(t.Ra.set("Online"),e instanceof t4&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){Ve(gu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wy(t,r)}else if(e instanceof Jg?t.Va.Ze(e):e instanceof e4?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const r=await d4(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(fr.EMPTY_BYTE_STRING,c.snapshotVersion)),g4(a,l);const f=new Cs(c.target,l,u,c.sequenceNumber);YE(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){Ve(gu,"Failed to raise snapshot:",r),await Wy(t,r)}}async function Wy(t,e,n){if(!zf(e))throw e;t.Ea.add(1),await am(t),t.Ra.set("Offline"),n||(n=()=>d4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve(gu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await M0(t)})}function v4(t,e){return e().catch(n=>Wy(t,n,e))}async function R0(t){const e=it(t),n=Js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ME;for(;Kq(e);)try{const i=await Pq(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Hq(e,i)}catch(i){await Wy(e,i)}b4(e)&&x4(e)}function Kq(t){return Pu(t)&&t.Ta.length<10}function Hq(t,e){t.Ta.push(e);const n=Js(t);n.O_()&&n.X_&&n.ea(e.mutations)}function b4(t){return Pu(t)&&!Js(t).x_()&&t.Ta.length>0}function x4(t){Js(t).start()}async function Gq(t){Js(t).ra()}async function Yq(t){const e=Js(t);for(const n of t.Ta)e.ea(n.mutations)}async function Xq(t,e,n){const r=t.Ta.shift(),i=zE.from(r,e,n);await v4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await R0(t)}async function Qq(t,e){e&&Js(t).X_&&await async function(r,i){if(function(o){return j7(o)&&o!==ye.ABORTED}(i.code)){const a=r.Ta.shift();Js(r).B_(),await v4(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await R0(r)}}(t,e),b4(t)&&x4(t)}async function RC(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),Ve(gu,"RemoteStore received new credentials");const r=Pu(n);n.Ea.add(3),await am(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await M0(n)}async function Jq(t,e){const n=it(t);e?(n.Ea.delete(2),await M0(n)):e||(n.Ea.add(2),await am(n),n.Ra.set("Unknown"))}function Bf(t){return t.ma||(t.ma=function(n,r,i){const a=it(n);return a.sa(),new Rq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Bq.bind(null,t),t_:Uq.bind(null,t),r_:Wq.bind(null,t),H_:qq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),QE(t)?XE(t):t.Ra.set("Unknown")):(await t.ma.stop(),y4(t))})),t.ma}function Js(t){return t.fa||(t.fa=function(n,r,i){const a=it(n);return a.sa(),new $q(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gq.bind(null,t),r_:Qq.bind(null,t),ta:Yq.bind(null,t),na:Xq.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await R0(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(gu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new JE(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZE(t,e){if(Ko("AsyncQueue",`${e}: ${t}`),zf(t))return new $e(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{static emptySet(e){return new Rc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Qd(),this.sortedSet=new pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.ga=new pn(qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class nf{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new nf(e,n,Rc.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&C0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class eK{constructor(){this.queries=LC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=it(n),a=i.queries;i.queries=LC(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new $e(ye.ABORTED,"Firestore shutting down"))}}function LC(){return new Tu(t=>z$(t),C0)}async function w4(t,e){const n=it(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Zq,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=ZE(o,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&eA(n)}async function _4(t,e){const n=it(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tK(t,e){const n=it(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(r=!0);o.wa=i}}r&&eA(n)}function nK(t,e,n){const r=it(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function eA(t){t.Ca.forEach(e=>{e.next()})}var M1,VC;(VC=M1||(M1={})).Ma="default",VC.Cache="cache";class S4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==M1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.key=e}}class A4{constructor(e){this.key=e}}class rK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=B$(e),this.tu=new Rc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $C,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),g=O0(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;h&&g?h.data.isEqual(g.data)?b!==v&&(r.track({type:3,doc:g}),x=!0):this.su(h,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(s=!0)):!h&&g?(r.track({type:0,doc:g}),x=!0):h&&!g&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(s=!0)),x&&(g?(o=o.add(g),a=v?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Cs:s,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,f)=>function(g,b){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Rt:x})}};return v(g)-v(b)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new nf(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $C,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new A4(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new E4(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=vt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tA="SyncEngine";class iK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aK{constructor(e){this.key=e,this.hu=!1}}class oK{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Tu(s=>z$(s),C0),this.Iu=new Map,this.Eu=new Set,this.du=new pn(qe.comparator),this.Au=new Map,this.Ru=new WE,this.Vu={},this.mu=new Map,this.fu=tf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sK(t,e,n=!0){const r=I4(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await T4(r,e,n,!0),i}async function lK(t,e){const n=I4(t);await T4(n,e,!0,!1)}async function T4(t,e,n,r){const i=await Cq(t.localStore,Xa(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await uK(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&m4(t.remoteStore,i),s}async function uK(t,e,n,r,i){t.pu=(f,h,g)=>async function(v,x,w,_){let A=x.view.ru(w);A.Cs&&(A=await IC(v.localStore,x.query,!1).then(({documents:E})=>x.view.ru(E,A)));const I=_&&_.targetChanges.get(x.targetId),S=_&&_.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(A,v.isPrimaryClient,I,S);return zC(v,x.targetId,C.au),C.snapshot}(t,f,h,g);const a=await IC(t.localStore,e,!0),o=new rK(e,a.Qs),s=o.ru(a.documents),l=im.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);zC(t,n,u.au);const c=new iK(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function cK(t,e,n){const r=it(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!C0(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await N1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&GE(r.remoteStore,i.targetId),R1(r,i.targetId)}).catch(Ff)):(R1(r,i.targetId),await N1(r.localStore,i.targetId,!0))}async function fK(t,e){const n=it(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),GE(n.remoteStore,r.targetId))}async function dK(t,e,n){const r=bK(t);try{const i=await function(o,s){const l=it(o),u=nn.now(),c=s.reduce((g,b)=>g.add(b.key),vt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Ho(),v=vt();return l.Ns.getEntries(g,c).next(x=>{b=x,b.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(x=>{f=x;const w=[];for(const _ of s){const A=P7(_,f.get(_.key).overlayedDocument);A!=null&&w.push(new al(_.key,A,N$(A.value.mapValue),$r.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,w,s)}).next(x=>{h=x;const w=x.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,x.batchId,w)})}).then(()=>({batchId:h.batchId,changes:W$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new pn(yt)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await om(r,i.changes),await R0(r.remoteStore)}catch(i){const a=ZE(i,"Failed to persist write");n.reject(a)}}async function P4(t,e){const n=it(t);try{const r=await Aq(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?kt(o.hu,14607):i.removedDocuments.size>0&&(kt(o.hu,42227),o.hu=!1))}),await om(n,r,e)}catch(r){await Ff(r)}}function FC(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=it(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(s)&&(u=!0)}),u&&eA(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hK(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new pn(qe.comparator);o=o.insert(a,Sr.newNoDocument(a,et.min()));const s=vt().add(a),l=new N0(et.min(),new Map,new pn(yt),o,s);await P4(r,l),r.du=r.du.remove(a),r.Au.delete(e),nA(r)}else await N1(r.localStore,e,!1).then(()=>R1(r,e,n)).catch(Ff)}async function pK(t,e){const n=it(t),r=e.batch.batchId;try{const i=await Eq(n.localStore,e);O4(n,r,null),C4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await om(n,i)}catch(i){await Ff(i)}}async function mK(t,e,n){const r=it(t);try{const i=await function(o,s){const l=it(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(kt(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);O4(r,e,n),C4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await om(r,i)}catch(i){await Ff(i)}}function C4(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function O4(t,e,n){const r=it(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function R1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||k4(t,r)})}function k4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(GE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),nA(t))}function zC(t,e,n){for(const r of n)r instanceof E4?(t.Ru.addReference(r.key,e),gK(t,r)):r instanceof A4?(Ve(tA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||k4(t,r.key)):Xe(19791,{wu:r})}function gK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ve(tA,"New document in limbo: "+n),t.Eu.add(r),nA(t))}function nA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(Yt.fromString(e)),r=t.fu.next();t.Au.set(r,new aK(n)),t.du=t.du.insert(n,r),m4(t.remoteStore,new Cs(Xa(P0(n.path)),r,"TargetPurposeLimboResolution",E0.ce))}}async function om(t,e,n){const r=it(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=KE.As(l.targetId,u);a.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const c=it(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ve.forEach(u,h=>ve.forEach(h.Es,g=>c.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>ve.forEach(h.ds,g=>c.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!zf(f))throw f;Ve(HE,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=c.Ms.get(h),b=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(b);c.Ms=c.Ms.insert(h,v)}}}(r.localStore,a))}async function yK(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){Ve(tA,"User change. New user:",e.toKey());const r=await f4(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new $e(ye.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await om(n,r.Ls)}}function vK(t,e){const n=it(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let i=vt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function I4(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hK.bind(null,e),e.Pu.H_=tK.bind(null,e.eventManager),e.Pu.yu=nK.bind(null,e.eventManager),e}function bK(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mK.bind(null,e),e}class qy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=D0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Sq(this.persistence,new xq,e.initialUser,this.serializer)}Cu(e){return new c4(qE.mi,this.serializer)}Du(e){return new kq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qy.provider={build:()=>new qy};class xK extends qy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){kt(this.persistence.referenceDelegate instanceof Uy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new c4(r=>Uy.mi(r,n),this.serializer)}}class $1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yK.bind(null,this.syncEngine),await Jq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eK}()}createDatastore(e){const n=D0(e.databaseInfo.databaseId),r=function(a){return new Mq(a)}(e.databaseInfo);return function(a,o,s,l){return new Vq(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new zq(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>FC(this.syncEngine,n,0),function(){return DC.v()?new DC:new Iq}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const f=new oK(i,a,o,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=it(i);Ve(gu,"RemoteStore shutting down."),a.Ea.add(5),await am(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}$1.provider={build:()=>new $1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ko("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class wK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wr.UNAUTHENTICATED,this.clientId=DE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{Ve(Zs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ve(Zs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ZE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ex(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await f4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function BC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _K(t);Ve(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RC(e.remoteStore,i)),t._onlineComponents=e}async function _K(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(Zs,"Using user provided OfflineComponentProvider");try{await Ex(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Qc("Error using user provided cache. Falling back to memory cache: "+n),await Ex(t,new qy)}}else Ve(Zs,"Using default OfflineComponentProvider"),await Ex(t,new xK(void 0));return t._offlineComponents}async function N4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(Zs,"Using user provided OnlineComponentProvider"),await BC(t,t._uninitializedComponentsProvider._online)):(Ve(Zs,"Using default OnlineComponentProvider"),await BC(t,new $1))),t._onlineComponents}function SK(t){return N4(t).then(e=>e.syncEngine)}async function L1(t){const e=await N4(t),n=e.eventManager;return n.onListen=sK.bind(null,e.syncEngine),n.onUnlisten=cK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fK.bind(null,e.syncEngine),n}function EK(t,e,n={}){const r=new Us;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new j4({next:h=>{c.Nu(),o.enqueueAndForget(()=>_4(a,f));const g=h.docs.has(s);!g&&h.fromCache?u.reject(new $e(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new $e(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new S4(P0(s.path),c,{includeMetadataChanges:!0,qa:!0});return w4(a,f)}(await L1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firestore.googleapis.com",WC=!0;class qC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M4,this.ssl=WC}else this.host=e.host,this.ssl=e.ssl??WC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rq)throw new $e(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D4(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $e(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $e(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $e(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IW;switch(r.type){case"firstParty":return new MW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=UC.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),UC.delete(n),r.terminate())}(this),Promise.resolve()}}function AK(t,e,n,r={}){var u;t=vi(t,$0);const i=Qp(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(W8(`https://${s}`),G8("Firestore",!0)),a.host!==M4&&a.host!==s&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:r};if(!Hh(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=wr.MOCK_USER;else{c=q8(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new $e(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new wr(h)}t._authCredentials=new jW(new w$(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uf(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}toJSON(){return{type:bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tm(n,bn._jsonSchema))return new bn(e,r||null,new qe(Yt.fromString(n.referencePath)))}}bn._jsonSchemaVersion="firestore/documentReference/1.0",bn._jsonSchema={type:Dn("string",bn._jsonSchemaVersion),referencePath:Dn("string")};class Ws extends Uf{constructor(e,n,r){super(e,n,P0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new qe(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function So(t,e,...n){if(t=Qn(t),_$("collection","path",e),t instanceof $0){const r=Yt.fromString(e,...n);return iC(r),new Ws(t,null,r)}{if(!(t instanceof bn||t instanceof Ws))throw new $e(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...n));return iC(r),new Ws(t.firestore,null,r)}}function jr(t,e,...n){if(t=Qn(t),arguments.length===1&&(e=DE.newId()),_$("doc","path",e),t instanceof $0){const r=Yt.fromString(e,...n);return rC(r),new bn(t,null,new qe(r))}{if(!(t instanceof bn||t instanceof Ws))throw new $e(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...n));return rC(r),new bn(t.firestore,t instanceof Ws?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="AsyncQueue";class HC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h4(this,"async_queue_retry"),this._c=()=>{const r=Sx();r&&Ve(KC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zf(e))throw e;Ve(KC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ko("INTERNAL UNHANDLED ERROR: ",GC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=JE.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Xe(47125,{Pc:GC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Go extends $0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HC(e),this._firestoreClient=void 0,await e}}}function TK(t,e){const n=typeof t=="object"?t:l9(),r=typeof t=="string"?t:Ry,i=KR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=z8("firestore");a&&AK(i,...a)}return i}function L0(t){if(t._terminated)throw new $e(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PK(t),t._firestoreClient}function PK(t){var r,i,a;const e=t._freezeSettings(),n=function(s,l,u,c){return new JW(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,D4(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bi(fr.fromBase64String(e))}catch(n){throw new $e(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bi(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tm(e,Bi._jsonSchema))return Bi.fromBase64String(e.bytes)}}Bi._jsonSchemaVersion="firestore/bytes/1.0",Bi._jsonSchema={type:Dn("string",Bi._jsonSchemaVersion),bytes:Dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ja._jsonSchemaVersion}}static fromJSON(e){if(tm(e,Ja._jsonSchema))return new Ja(e.latitude,e.longitude)}}Ja._jsonSchemaVersion="firestore/geoPoint/1.0",Ja._jsonSchema={type:Dn("string",Ja._jsonSchemaVersion),latitude:Dn("number"),longitude:Dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tm(e,Za._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Za(e.vectorValues);throw new $e(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Za._jsonSchemaVersion="firestore/vectorValue/1.0",Za._jsonSchema={type:Dn("string",Za._jsonSchemaVersion),vectorValues:Dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=/^__.*__$/;class OK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new al(e,this.data,this.fieldMask,n,this.fieldTransforms):new rm(e,this.data,n,this.fieldTransforms)}}class R4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new al(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{Ac:t})}}class iA{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new iA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ky(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($4(this.Ac)&&CK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||D0(e)}Cc(e,n,r,i=!1){return new iA({Ac:e,methodName:n,Dc:r,path:or.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lm(t){const e=t._freezeSettings(),n=D0(t._databaseId);return new kK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aA(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);oA("Data must be an object, but it was:",o,r);const s=F4(r,o);let l,u;if(a.merge)l=new gi(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=V1(e,f,n);if(!o.contains(h))throw new $e(ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);B4(c,h)||c.push(h)}l=new gi(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new OK(new Xr(s),l,u)}class V0 extends rA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof V0}}function L4(t,e,n,r){const i=t.Cc(1,e,n);oA("Data must be an object, but it was:",i,r);const a=[],o=Xr.empty();il(r,(l,u)=>{const c=sA(e,l,n);u=Qn(u);const f=i.yc(c);if(u instanceof V0)a.push(c);else{const h=um(u,f);h!=null&&(a.push(c),o.set(c,h))}});const s=new gi(a);return new R4(o,s,i.fieldTransforms)}function V4(t,e,n,r,i,a){const o=t.Cc(1,e,n),s=[V1(e,r,n)],l=[i];if(a.length%2!=0)throw new $e(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(V1(e,a[h])),l.push(a[h+1]);const u=[],c=Xr.empty();for(let h=s.length-1;h>=0;--h)if(!B4(u,s[h])){const g=s[h];let b=l[h];b=Qn(b);const v=o.yc(g);if(b instanceof V0)u.push(g);else{const x=um(b,v);x!=null&&(u.push(g),c.set(g,x))}}const f=new gi(u);return new R4(c,f,o.fieldTransforms)}function IK(t,e,n,r=!1){return um(n,t.Cc(r?4:3,e))}function um(t,e){if(z4(t=Qn(t)))return oA("Unsupported field value:",e,t),F4(t,e);if(t instanceof rA)return function(r,i){if(!$4(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=um(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Qn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=nn.fromDate(r);return{timestampValue:By(i.serializer,a)}}if(r instanceof nn){const a=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:By(i.serializer,a)}}if(r instanceof Ja)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bi)return{bytesValue:n4(i.serializer,r._byteString)};if(r instanceof bn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:UE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Za)return function(o,s){return{mapValue:{fields:{[I$]:{stringValue:j$},[$y]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return FE(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${S0(r)}`)}(t,e)}function F4(t,e){const n={};return A$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):il(t,(r,i)=>{const a=um(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function z4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof Ja||t instanceof Bi||t instanceof bn||t instanceof rA||t instanceof Za)}function oA(t,e,n){if(!z4(n)||!S$(n)){const r=S0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function V1(t,e,n){if((e=Qn(e))instanceof sm)return e._internalPath;if(typeof e=="string")return sA(t,e);throw Ky("Field path arguments must be of type string or ",t,!1,void 0,n)}const jK=new RegExp("[~\\*/\\[\\]]");function sA(t,e,n){if(e.search(jK)>=0)throw Ky(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw Ky(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ky(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $e(ye.INVALID_ARGUMENT,s+t+l)}function B4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NK extends U4{data(){return super.data()}}function lA(t,e){return typeof e=="string"?sA(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uA{}class MK extends uA{}function RK(t,e,...n){let r=[];e instanceof uA&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof cA).length,s=a.filter(l=>l instanceof F0).length;if(o>1||o>0&&s>0)throw new $e(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class F0 extends MK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new F0(e,n,r)}_apply(e){const n=this._parse(e);return W4(e._query,n),new Uf(e.firestore,e.converter,P1(e._query,n))}_parse(e){const n=lm(e.firestore);return function(a,o,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $e(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){QC(f,c);const b=[];for(const v of f)b.push(XC(l,a,v));h={arrayValue:{values:b}}}else h=XC(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||QC(f,c),h=IK(s,o,f,c==="in"||c==="not-in");return Nn.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $K(t,e,n){const r=e,i=lA("where",t);return F0._create(i,r,n)}class cA extends uA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ca.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)W4(o,l),o=P1(o,l)}(e._query,n),new Uf(e.firestore,e.converter,P1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function XC(t,e,n){if(typeof(n=Qn(n))=="string"){if(n==="")throw new $e(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F$(e)&&n.indexOf("/")!==-1)throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Yt.fromString(n));if(!qe.isDocumentKey(r))throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dC(t,new qe(r))}if(n instanceof bn)return dC(t,n._key);throw new $e(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${S0(n)}.`)}function QC(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W4(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $e(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LK{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return il(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[$y].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>Sn(o.doubleValue));return new Za(n)}convertGeoPoint(e){return new Ja(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=T0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jh(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Yt.fromString(e);kt(l4(r),9688,{name:e});const i=new Zh(r.get(1),r.get(3)),a=new qe(r.popFirst(5));return i.isEqual(n)||Ko(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Zd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iu extends U4{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=iu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}iu._jsonSchemaVersion="firestore/documentSnapshot/1.0",iu._jsonSchema={type:Dn("string",iu._jsonSchemaVersion),bundleSource:Dn("string","DocumentSnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class Zg extends iu{data(e={}){return super.data(e)}}class $c{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zg(this._firestore,this._userDataWriter,r.key,r,new Zd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Zg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Zd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Zg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Zd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:VK(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$c._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=DE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(t){t=vi(t,bn);const e=vi(t.firestore,Go);return EK(L0(e),t._key).then(n=>K4(e,t,n))}$c._jsonSchemaVersion="firestore/querySnapshot/1.0",$c._jsonSchema={type:Dn("string",$c._jsonSchemaVersion),bundleSource:Dn("string","QuerySnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class q4 extends LK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function Ax(t,e,n){t=vi(t,bn);const r=vi(t.firestore,Go),i=fA(t.converter,e,n);return cm(r,[aA(lm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$r.none())])}function pg(t,e,n,...r){t=vi(t,bn);const i=vi(t.firestore,Go),a=lm(i);let o;return o=typeof(e=Qn(e))=="string"||e instanceof sm?V4(a,"updateDoc",t._key,e,n,r):L4(a,"updateDoc",t._key,e),cm(i,[o.toMutation(t._key,$r.exists(!0))])}function JC(t){return cm(vi(t.firestore,Go),[new j0(t._key,$r.none())])}function kd(t,e){const n=vi(t.firestore,Go),r=jr(t),i=fA(t.converter,e);return cm(n,[aA(lm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function zK(t,...e){var l,u,c;t=Qn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||YC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(YC(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(c=f.complete)==null?void 0:c.bind(f)}let a,o,s;if(t instanceof bn)o=vi(t.firestore,Go),s=P0(t._key.path),a={next:f=>{e[r]&&e[r](K4(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=vi(t,Uf);o=vi(f.firestore,Go),s=f._query;const h=new q4(o);a={next:g=>{e[r]&&e[r](new $c(o,h,f,g))},error:e[r+1],complete:e[r+2]},DK(t._query)}return function(h,g,b,v){const x=new j4(v),w=new S4(g,x,b);return h.asyncQueue.enqueueAndForget(async()=>w4(await L1(h),w)),()=>{x.Nu(),h.asyncQueue.enqueueAndForget(async()=>_4(await L1(h),w))}}(L0(o),s,i,a)}function cm(t,e){return function(r,i){const a=new Us;return r.asyncQueue.enqueueAndForget(async()=>dK(await SK(r),i,a)),a.promise}(L0(t),e)}function K4(t,e,n){const r=n.docs.get(e._key),i=new q4(t);return new iu(t,i,e._key,r,new Zd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lm(e)}set(e,n,r){this._verifyNotCommitted();const i=Tx(e,this._firestore),a=fA(i.converter,n,r),o=aA(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,$r.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Tx(e,this._firestore);let o;return o=typeof(n=Qn(n))=="string"||n instanceof sm?V4(this._dataReader,"WriteBatch.update",a._key,n,r,i):L4(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,$r.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Tx(e,this._firestore);return this._mutations=this._mutations.concat(new j0(n._key,$r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tx(t,e){if((t=Qn(t)).firestore!==e)throw new $e(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){return L0(t=vi(t,Go)),new BK(t,e=>cm(t,e))}(function(e,n=!0){(function(i){Vf=i})(w0),Yc(new pu("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Go(new NW(r.getProvider("auth-internal")),new RW(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $e(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zh(u.options.projectId,c)}(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),zs(Z2,eC,e),zs(Z2,eC,"esm2020")})();const UK={apiKey:"AIzaSyCq3MZURc1tNUbpK7BDzKZKQoh8C3twzmA",authDomain:"lactokeeper.firebaseapp.com",projectId:"lactokeeper",storageBucket:"https://www.google.com/search?q=lactokeeper.appspot.com",messagingSenderId:"437430613715",appId:"1:437430613715:web:b4e56c7a0698c719ae8626"},H4=HR(UK),rp=iW(H4,{persistence:_W}),un=TK(H4),G4=V.createContext({currentUser:null,isLoading:!0}),Y4=()=>V.useContext(G4),WK=({children:t})=>{const[e,n]=V.useState(null),[r,i]=V.useState(!0);V.useEffect(()=>bW(rp,s=>{n(s),i(!1)}),[]);const a={currentUser:e,isLoading:r};return r?d.jsx("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center",children:d.jsx("p",{className:"text-white text-xl",children:"Cargando LactoKeeper..."})}):d.jsx(G4.Provider,{value:a,children:t})};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X4=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>V.createElement("svg",{ref:l,...KK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:X4("lucide",i),...s},[...o.map(([u,c])=>V.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=V.forwardRef(({className:r,...i},a)=>V.createElement(HK,{ref:a,iconNode:e,className:X4(`lucide-${qK(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Be("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=Be("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=Be("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Be("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=Be("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Be("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Be("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Be("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Be("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Be("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Be("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Be("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Be("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Be("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Be("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Be("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Be("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Be("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Be("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Be("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Be("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Be("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Be("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Be("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Be("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Be("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Be("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=Be("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Be("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=Be("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),EH=()=>{const[t,e]=V.useState(!0),[n,r]=V.useState(""),[i,a]=V.useState(""),[o,s]=V.useState(null),[l,u]=V.useState(!1),c=h=>{switch(h.code){case"auth/invalid-email":return"El formato del correo electrnico no es vlido.";case"auth/user-not-found":case"auth/wrong-password":return"Correo electrnico o contrasea incorrectos.";case"auth/email-already-in-use":return"Este correo electrnico ya est registrado.";case"auth/weak-password":return"La contrasea debe tener al menos 6 caracteres.";default:return"Ocurri un error. Por favor, intenta de nuevo."}},f=async h=>{h.preventDefault(),s(null),u(!0);try{t?await vW(rp,n,i):await yW(rp,n,i)}catch(g){s(c(g))}finally{u(!1)}};return d.jsx("div",{className:"bg-gray-900 min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:d.jsxs("div",{className:"w-full max-w-sm",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[d.jsx(fm,{className:"w-10 h-10 text-indigo-400"}),d.jsx("h1",{className:"text-4xl font-bold text-white",children:"LactoKeeper"})]}),d.jsx("p",{className:"text-zinc-400",children:"Tu gestin de rebao, en la nube."})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-6 border border-brand-border",children:[d.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full mb-6",children:[d.jsx("button",{onClick:()=>e(!0),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"bg-zinc-700 text-white":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Iniciar Sesin"}),d.jsx("button",{onClick:()=>e(!1),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"text-zinc-400 hover:bg-zinc-800/50":"bg-zinc-700 text-white"}`,children:"Registrarse"})]}),d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[d.jsx("input",{type:"email",value:n,onChange:h=>r(h.target.value),placeholder:"Correo electrnico",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),d.jsx("input",{type:"password",value:i,onChange:h=>a(h.target.value),placeholder:"Contrasea",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),o&&d.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-red-300",children:[d.jsx(lo,{size:18}),d.jsx("span",{children:o})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-brand-amber text-black font-bold py-3 rounded-xl transition-colors hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Procesando...":t?"Iniciar Sesin":"Crear Cuenta"})]})]})]})})};var lL={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sc,function(){var n=function(m,y){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,k){P.__proto__=k}||function(P,k){for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(P[M]=k[M])})(m,y)},r=function(){return(r=Object.assign||function(m){for(var y,P=1,k=arguments.length;P<k;P++)for(var M in y=arguments[P])Object.prototype.hasOwnProperty.call(y,M)&&(m[M]=y[M]);return m}).apply(this,arguments)};function i(m,y,P){for(var k,M=0,F=y.length;M<F;M++)!k&&M in y||((k=k||Array.prototype.slice.call(y,0,M))[M]=y[M]);return m.concat(k||Array.prototype.slice.call(y))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:sc,o=Object.keys,s=Array.isArray;function l(m,y){return typeof y!="object"||o(y).forEach(function(P){m[P]=y[P]}),m}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var u=Object.getPrototypeOf,c={}.hasOwnProperty;function f(m,y){return c.call(m,y)}function h(m,y){typeof y=="function"&&(y=y(u(m))),(typeof Reflect>"u"?o:Reflect.ownKeys)(y).forEach(function(P){b(m,P,y[P])})}var g=Object.defineProperty;function b(m,y,P,k){g(m,y,l(P&&f(P,"get")&&typeof P.get=="function"?{get:P.get,set:P.set,configurable:!0}:{value:P,configurable:!0,writable:!0},k))}function v(m){return{from:function(y){return m.prototype=Object.create(y.prototype),b(m.prototype,"constructor",m),{extend:h.bind(null,m.prototype)}}}}var x=Object.getOwnPropertyDescriptor,w=[].slice;function _(m,y,P){return w.call(m,y,P)}function A(m,y){return y(m)}function I(m){if(!m)throw new Error("Assertion Failed")}function S(m){a.setImmediate?setImmediate(m):setTimeout(m,0)}function C(m,y){if(typeof y=="string"&&f(m,y))return m[y];if(!y)return m;if(typeof y!="string"){for(var P=[],k=0,M=y.length;k<M;++k){var F=C(m,y[k]);P.push(F)}return P}var B=y.indexOf(".");if(B!==-1){var W=m[y.substr(0,B)];return W==null?void 0:C(W,y.substr(B+1))}}function E(m,y,P){if(m&&y!==void 0&&!("isFrozen"in Object&&Object.isFrozen(m)))if(typeof y!="string"&&"length"in y){I(typeof P!="string"&&"length"in P);for(var k=0,M=y.length;k<M;++k)E(m,y[k],P[k])}else{var F,B,W=y.indexOf(".");W!==-1?(F=y.substr(0,W),(B=y.substr(W+1))===""?P===void 0?s(m)&&!isNaN(parseInt(F))?m.splice(F,1):delete m[F]:m[F]=P:E(W=!(W=m[F])||!f(m,F)?m[F]={}:W,B,P)):P===void 0?s(m)&&!isNaN(parseInt(y))?m.splice(y,1):delete m[y]:m[y]=P}}function T(m){var y,P={};for(y in m)f(m,y)&&(P[y]=m[y]);return P}var j=[].concat;function R(m){return j.apply([],m)}var Ti="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(R([8,16,32,64].map(function(m){return["Int","Uint","Float"].map(function(y){return y+m+"Array"})}))).filter(function(m){return a[m]}),D=new Set(Ti.map(function(m){return a[m]})),$=null;function L(m){return $=new WeakMap,m=function y(P){if(!P||typeof P!="object")return P;var k=$.get(P);if(k)return k;if(s(P)){k=[],$.set(P,k);for(var M=0,F=P.length;M<F;++M)k.push(y(P[M]))}else if(D.has(P.constructor))k=P;else{var B,W=u(P);for(B in k=W===Object.prototype?{}:Object.create(W),$.set(P,k),P)f(P,B)&&(k[B]=y(P[B]))}return k}(m),$=null,m}var ne={}.toString;function ae(m){return ne.call(m).slice(8,-1)}var ce=typeof Symbol<"u"?Symbol.iterator:"@@iterator",de=typeof ce=="symbol"?function(m){var y;return m!=null&&(y=m[ce])&&y.apply(m)}:function(){return null};function Y(m,y){return y=m.indexOf(y),0<=y&&m.splice(y,1),0<=y}var re={};function me(m){var y,P,k,M;if(arguments.length===1){if(s(m))return m.slice();if(this===re&&typeof m=="string")return[m];if(M=de(m)){for(P=[];!(k=M.next()).done;)P.push(k.value);return P}if(m==null)return[m];if(typeof(y=m.length)!="number")return[m];for(P=new Array(y);y--;)P[y]=m[y];return P}for(y=arguments.length,P=new Array(y);y--;)P[y]=arguments[y];return P}var Ae=typeof Symbol<"u"?function(m){return m[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Di=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(qn),be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function je(m,y){this.name=m,this.message=y}function We(m,y){return m+". Errors: "+Object.keys(y).map(function(P){return y[P].toString()}).filter(function(P,k,M){return M.indexOf(P)===k}).join(`
`)}function at(m,y,P,k){this.failures=y,this.failedKeys=k,this.successCount=P,this.message=We(m,y)}function tt(m,y){this.name="BulkError",this.failures=Object.keys(y).map(function(P){return y[P]}),this.failuresByPos=y,this.message=We(m,this.failures)}v(je).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(at).from(je),v(tt).from(je);var le=Di.reduce(function(m,y){return m[y]=y+"Error",m},{}),Se=je,X=Di.reduce(function(m,y){var P=y+"Error";function k(M,F){this.name=P,M?typeof M=="string"?(this.message="".concat(M).concat(F?`
 `+F:""),this.inner=F||null):typeof M=="object"&&(this.message="".concat(M.name," ").concat(M.message),this.inner=M):(this.message=be[y]||P,this.inner=null)}return v(k).from(Se),m[y]=k,m},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var Ie=qn.reduce(function(m,y){return m[y+"Error"]=X[y],m},{}),De=Di.reduce(function(m,y){return["Syntax","Type","Range"].indexOf(y)===-1&&(m[y+"Error"]=X[y]),m},{});function se(){}function Ke(m){return m}function we(m,y){return m==null||m===Ke?y:function(P){return y(m(P))}}function ot(m,y){return function(){m.apply(this,arguments),y.apply(this,arguments)}}function ft(m,y){return m===se?y:function(){var P=m.apply(this,arguments);P!==void 0&&(arguments[0]=P);var k=this.onsuccess,M=this.onerror;this.onsuccess=null,this.onerror=null;var F=y.apply(this,arguments);return k&&(this.onsuccess=this.onsuccess?ot(k,this.onsuccess):k),M&&(this.onerror=this.onerror?ot(M,this.onerror):M),F!==void 0?F:P}}function Kt(m,y){return m===se?y:function(){m.apply(this,arguments);var P=this.onsuccess,k=this.onerror;this.onsuccess=this.onerror=null,y.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?ot(P,this.onsuccess):P),k&&(this.onerror=this.onerror?ot(k,this.onerror):k)}}function Zn(m,y){return m===se?y:function(P){var k=m.apply(this,arguments);l(P,k);var M=this.onsuccess,F=this.onerror;return this.onsuccess=null,this.onerror=null,P=y.apply(this,arguments),M&&(this.onsuccess=this.onsuccess?ot(M,this.onsuccess):M),F&&(this.onerror=this.onerror?ot(F,this.onerror):F),k===void 0?P===void 0?void 0:P:l(k,P)}}function It(m,y){return m===se?y:function(){return y.apply(this,arguments)!==!1&&m.apply(this,arguments)}}function Rt(m,y){return m===se?y:function(){var P=m.apply(this,arguments);if(P&&typeof P.then=="function"){for(var k=this,M=arguments.length,F=new Array(M);M--;)F[M]=arguments[M];return P.then(function(){return y.apply(k,F)})}return y.apply(this,arguments)}}De.ModifyError=at,De.DexieError=je,De.BulkError=tt;var nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ft(m){nt=m}var An={},ii=100,Ti=typeof Promise>"u"?[]:function(){var m=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[m,u(m),m];var y=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[y,u(y),m]}(),qn=Ti[0],Di=Ti[1],Ti=Ti[2],Di=Di&&Di.then,Pi=qn&&qn.constructor,fo=!!Ti,ho=function(m,y){ka.push([m,y]),po&&(queueMicrotask(ud),po=!1)},ml=!0,po=!0,Ci=[],Oi=[],mo=Ke,zr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:se,pgp:!1,env:{},finalize:se},Le=zr,ka=[],Or=0,Qe=[];function xe(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var y=this._PSD=Le;if(typeof m!="function"){if(m!==An)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Tn(this,this._value))}this._state=null,this._value=null,++y.ref,function P(k,M){try{M(function(F){if(k._state===null){if(F===k)throw new TypeError("A promise cannot be resolved with itself.");var B=k._lib&&er();F&&typeof F.then=="function"?P(k,function(W,K){F instanceof xe?F._then(W,K):F.then(W,K)}):(k._state=!0,k._value=F,dt(k)),B&&ki()}},Tn.bind(null,k))}catch(F){Tn(k,F)}}(this,m)}var Ye={get:function(){var m=Le,y=ai;function P(k,M){var F=this,B=!m.global&&(m!==Le||y!==ai),W=B&&!Ii(),K=new xe(function(G,J){ea(F,new Je(dd(k,m,B,W),dd(M,m,B,W),G,J,m))});return this._consoleTask&&(K._consoleTask=this._consoleTask),K}return P.prototype=An,P},set:function(m){b(this,"then",m&&m.prototype===An?Ye:{get:function(){return m},set:Ye.set})}};function Je(m,y,P,k,M){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof y=="function"?y:null,this.resolve=P,this.reject=k,this.psd=M}function Tn(m,y){var P,k;Oi.push(y),m._state===null&&(P=m._lib&&er(),y=mo(y),m._state=!1,m._value=y,k=m,Ci.some(function(M){return M._value===k._value})||Ci.push(k),dt(m),P&&ki())}function dt(m){var y=m._listeners;m._listeners=[];for(var P=0,k=y.length;P<k;++P)ea(m,y[P]);var M=m._PSD;--M.ref||M.finalize(),Or===0&&(++Or,ho(function(){--Or==0&&cd()},[]))}function ea(m,y){if(m._state!==null){var P=m._state?y.onFulfilled:y.onRejected;if(P===null)return(m._state?y.resolve:y.reject)(m._value);++y.psd.ref,++Or,ho(ld,[P,m,y])}else m._listeners.push(y)}function ld(m,y,P){try{var k,M=y._value;!y._state&&Oi.length&&(Oi=[]),k=nt&&y._consoleTask?y._consoleTask.run(function(){return m(M)}):m(M),y._state||Oi.indexOf(M)!==-1||function(F){for(var B=Ci.length;B;)if(Ci[--B]._value===F._value)return Ci.splice(B,1)}(y),P.resolve(k)}catch(F){P.reject(F)}finally{--Or==0&&cd(),--P.psd.ref||P.psd.finalize()}}function ud(){ji(zr,function(){er()&&ki()})}function er(){var m=ml;return po=ml=!1,m}function ki(){var m,y,P;do for(;0<ka.length;)for(m=ka,ka=[],P=m.length,y=0;y<P;++y){var k=m[y];k[0].apply(null,k[1])}while(0<ka.length);po=ml=!0}function cd(){var m=Ci;Ci=[],m.forEach(function(k){k._PSD.onunhandled.call(null,k._value,k)});for(var y=Qe.slice(0),P=y.length;P;)y[--P]()}function go(m){return new xe(An,!1,m)}function zt(m,y){var P=Le;return function(){var k=er(),M=Le;try{return na(P,!0),m.apply(this,arguments)}catch(F){y&&y(F)}finally{na(M,!1),k&&ki()}}}h(xe.prototype,{then:Ye,_then:function(m,y){ea(this,new Je(null,null,m,y,Le))},catch:function(m){if(arguments.length===1)return this.then(null,m);var y=m,P=arguments[1];return typeof y=="function"?this.then(null,function(k){return(k instanceof y?P:go)(k)}):this.then(null,function(k){return(k&&k.name===y?P:go)(k)})},finally:function(m){return this.then(function(y){return xe.resolve(m()).then(function(){return y})},function(y){return xe.resolve(m()).then(function(){return go(y)})})},timeout:function(m,y){var P=this;return m<1/0?new xe(function(k,M){var F=setTimeout(function(){return M(new X.Timeout(y))},m);P.then(k,M).finally(clearTimeout.bind(null,F))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(xe.prototype,Symbol.toStringTag,"Dexie.Promise"),zr.env=km(),h(xe,{all:function(){var m=me.apply(null,arguments).map(gl);return new xe(function(y,P){m.length===0&&y([]);var k=m.length;m.forEach(function(M,F){return xe.resolve(M).then(function(B){m[F]=B,--k||y(m)},P)})})},resolve:function(m){return m instanceof xe?m:m&&typeof m.then=="function"?new xe(function(y,P){m.then(y,P)}):new xe(An,!0,m)},reject:go,race:function(){var m=me.apply(null,arguments).map(gl);return new xe(function(y,P){m.map(function(k){return xe.resolve(k).then(y,P)})})},PSD:{get:function(){return Le},set:function(m){return Le=m}},totalEchoes:{get:function(){return ai}},newPSD:ta,usePSD:ji,scheduler:{get:function(){return ho},set:function(m){ho=m}},rejectionMapper:{get:function(){return mo},set:function(m){mo=m}},follow:function(m,y){return new xe(function(P,k){return ta(function(M,F){var B=Le;B.unhandleds=[],B.onunhandled=F,B.finalize=ot(function(){var W,K=this;W=function(){K.unhandleds.length===0?M():F(K.unhandleds[0])},Qe.push(function G(){W(),Qe.splice(Qe.indexOf(G),1)}),++Or,ho(function(){--Or==0&&cd()},[])},B.finalize),m()},y,P,k)})}}),Pi&&(Pi.allSettled&&b(xe,"allSettled",function(){var m=me.apply(null,arguments).map(gl);return new xe(function(y){m.length===0&&y([]);var P=m.length,k=new Array(P);m.forEach(function(M,F){return xe.resolve(M).then(function(B){return k[F]={status:"fulfilled",value:B}},function(B){return k[F]={status:"rejected",reason:B}}).then(function(){return--P||y(k)})})})}),Pi.any&&typeof AggregateError<"u"&&b(xe,"any",function(){var m=me.apply(null,arguments).map(gl);return new xe(function(y,P){m.length===0&&P(new AggregateError([]));var k=m.length,M=new Array(k);m.forEach(function(F,B){return xe.resolve(F).then(function(W){return y(W)},function(W){M[B]=W,--k||P(new AggregateError(M))})})})}),Pi.withResolvers&&(xe.withResolvers=Pi.withResolvers));var xn={awaits:0,echoes:0,id:0},fd=0,Ia=[],Mu=0,ai=0,Om=0;function ta(m,y,P,k){var M=Le,F=Object.create(M);return F.parent=M,F.ref=0,F.global=!1,F.id=++Om,zr.env,F.env=fo?{Promise:xe,PromiseProp:{value:xe,configurable:!0,writable:!0},all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject}:{},y&&l(F,y),++M.ref,F.finalize=function(){--this.parent.ref||this.parent.finalize()},k=ji(F,m,P,k),F.ref===0&&F.finalize(),k}function ja(){return xn.id||(xn.id=++fd),++xn.awaits,xn.echoes+=ii,xn.id}function Ii(){return!!xn.awaits&&(--xn.awaits==0&&(xn.id=0),xn.echoes=xn.awaits*ii,!0)}function gl(m){return xn.echoes&&m&&m.constructor===Pi?(ja(),m.then(function(y){return Ii(),y},function(y){return Ii(),Bt(y)})):m}function Mb(){var m=Ia[Ia.length-1];Ia.pop(),na(m,!1)}function na(m,y){var P,k=Le;(y?!xn.echoes||Mu++&&m===Le:!Mu||--Mu&&m===Le)||queueMicrotask(y?(function(M){++ai,xn.echoes&&--xn.echoes!=0||(xn.echoes=xn.awaits=xn.id=0),Ia.push(Le),na(M,!0)}).bind(null,m):Mb),m!==Le&&(Le=m,k===zr&&(zr.env=km()),fo&&(P=zr.env.Promise,y=m.env,(k.global||m.global)&&(Object.defineProperty(a,"Promise",y.PromiseProp),P.all=y.all,P.race=y.race,P.resolve=y.resolve,P.reject=y.reject,y.allSettled&&(P.allSettled=y.allSettled),y.any&&(P.any=y.any))))}function km(){var m=a.Promise;return fo?{Promise:m,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:m.all,race:m.race,allSettled:m.allSettled,any:m.any,resolve:m.resolve,reject:m.reject}:{}}function ji(m,y,P,k,M){var F=Le;try{return na(m,!0),y(P,k,M)}finally{na(F,!1)}}function dd(m,y,P,k){return typeof m!="function"?m:function(){var M=Le;P&&ja(),na(y,!0);try{return m.apply(this,arguments)}finally{na(M,!1),k&&queueMicrotask(Ii)}}}function yl(m){Promise===Pi&&xn.echoes===0?Mu===0?m():enqueueNativeMicroTask(m):setTimeout(m,0)}(""+Di).indexOf("[native code]")===-1&&(ja=Ii=se);var Bt=xe.reject,kr="",oi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Im="String expected.",yo=[],vl="__dbnames",Ru="readonly",bl="readwrite";function ra(m,y){return m?y?function(){return m.apply(this,arguments)&&y.apply(this,arguments)}:m:y}var hd={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xl(m){return typeof m!="string"||/\./.test(m)?function(y){return y}:function(y){return y[m]===void 0&&m in y&&delete(y=L(y))[m],y}}function pd(){throw X.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function pt(m,y){try{var P=ia(m),k=ia(y);if(P!==k)return P==="Array"?1:k==="Array"?-1:P==="binary"?1:k==="binary"?-1:P==="string"?1:k==="string"?-1:P==="Date"?1:k!=="Date"?NaN:-1;switch(P){case"number":case"Date":case"string":return y<m?1:m<y?-1:0;case"binary":return function(M,F){for(var B=M.length,W=F.length,K=B<W?B:W,G=0;G<K;++G)if(M[G]!==F[G])return M[G]<F[G]?-1:1;return B===W?0:B<W?-1:1}(si(m),si(y));case"Array":return function(M,F){for(var B=M.length,W=F.length,K=B<W?B:W,G=0;G<K;++G){var J=pt(M[G],F[G]);if(J!==0)return J}return B===W?0:B<W?-1:1}(m,y)}}catch{}return NaN}function ia(m){var y=typeof m;return y!="object"?y:ArrayBuffer.isView(m)?"binary":(m=ae(m),m==="ArrayBuffer"?"binary":m)}function si(m){return m instanceof Uint8Array?m:ArrayBuffer.isView(m)?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):new Uint8Array(m)}function Na(m,y,P){var k=m.schema.yProps;return k?(y&&0<P.numFailures&&(y=y.filter(function(M,F){return!P.failures[F]})),Promise.all(k.map(function(M){return M=M.updatesTable,y?m.db.table(M).where("k").anyOf(y).delete():m.db.table(M).clear()})).then(function(){return P})):P}var os=(jt.prototype._trans=function(m,y,P){var k=this._tx||Le.trans,M=this.name,F=nt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(m==="readonly"?"read":"write"," ").concat(this.name));function B(G,J,q){if(!q.schema[M])throw new X.NotFound("Table "+M+" not part of transaction");return y(q.idbtrans,q)}var W=er();try{var K=k&&k.db._novip===this.db._novip?k===Le.trans?k._promise(m,B,P):ta(function(){return k._promise(m,B,P)},{trans:k,transless:Le.transless||Le}):function G(J,q,te,H){if(J.idbdb&&(J._state.openComplete||Le.letThrough||J._vip)){var Q=J._createTransaction(q,te,J._dbSchema);try{Q.create(),J._state.PR1398_maxLoop=3}catch(ee){return ee.name===le.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return G(J,q,te,H)})):Bt(ee)}return Q._promise(q,function(ee,Z){return ta(function(){return Le.trans=Q,H(ee,Z,Q)})}).then(function(ee){if(q==="readwrite")try{Q.idbtrans.commit()}catch{}return q==="readonly"?ee:Q._completion.then(function(){return ee})})}if(J._state.openComplete)return Bt(new X.DatabaseClosed(J._state.dbOpenError));if(!J._state.isBeingOpened){if(!J._state.autoOpen)return Bt(new X.DatabaseClosed);J.open().catch(se)}return J._state.dbReadyPromise.then(function(){return G(J,q,te,H)})}(this.db,m,[this.name],B);return F&&(K._consoleTask=F,K=K.catch(function(G){return console.trace(G),Bt(G)})),K}finally{W&&ki()}},jt.prototype.get=function(m,y){var P=this;return m&&m.constructor===Object?this.where(m).first(y):m==null?Bt(new X.Type("Invalid argument to Table.get()")):this._trans("readonly",function(k){return P.core.get({trans:k,key:m}).then(function(M){return P.hook.reading.fire(M)})}).then(y)},jt.prototype.where=function(m){if(typeof m=="string")return new this.db.WhereClause(this,m);if(s(m))return new this.db.WhereClause(this,"[".concat(m.join("+"),"]"));var y=o(m);if(y.length===1)return this.where(y[0]).equals(m[y[0]]);var P=this.schema.indexes.concat(this.schema.primKey).filter(function(W){if(W.compound&&y.every(function(G){return 0<=W.keyPath.indexOf(G)})){for(var K=0;K<y.length;++K)if(y.indexOf(W.keyPath[K])===-1)return!1;return!0}return!1}).sort(function(W,K){return W.keyPath.length-K.keyPath.length})[0];if(P&&this.db._maxKey!==kr){var F=P.keyPath.slice(0,y.length);return this.where(F).equals(F.map(function(K){return m[K]}))}!P&&nt&&console.warn("The query ".concat(JSON.stringify(m)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(y.join("+"),"]"));var k=this.schema.idxByName;function M(W,K){return pt(W,K)===0}var B=y.reduce(function(q,K){var G=q[0],J=q[1],q=k[K],te=m[K];return[G||q,G||!q?ra(J,q&&q.multi?function(H){return H=C(H,K),s(H)&&H.some(function(Q){return M(te,Q)})}:function(H){return M(te,C(H,K))}):J]},[null,null]),F=B[0],B=B[1];return F?this.where(F.name).equals(m[F.keyPath]).filter(B):P?this.filter(B):this.where(y).equals("")},jt.prototype.filter=function(m){return this.toCollection().and(m)},jt.prototype.count=function(m){return this.toCollection().count(m)},jt.prototype.offset=function(m){return this.toCollection().offset(m)},jt.prototype.limit=function(m){return this.toCollection().limit(m)},jt.prototype.each=function(m){return this.toCollection().each(m)},jt.prototype.toArray=function(m){return this.toCollection().toArray(m)},jt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},jt.prototype.orderBy=function(m){return new this.db.Collection(new this.db.WhereClause(this,s(m)?"[".concat(m.join("+"),"]"):m))},jt.prototype.reverse=function(){return this.toCollection().reverse()},jt.prototype.mapToClass=function(m){var y,P=this.db,k=this.name;function M(){return y!==null&&y.apply(this,arguments)||this}(this.schema.mappedClass=m).prototype instanceof pd&&(function(K,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function J(){this.constructor=K}n(K,G),K.prototype=G===null?Object.create(G):(J.prototype=G.prototype,new J)}(M,y=m),Object.defineProperty(M.prototype,"db",{get:function(){return P},enumerable:!1,configurable:!0}),M.prototype.table=function(){return k},m=M);for(var F=new Set,B=m.prototype;B;B=u(B))Object.getOwnPropertyNames(B).forEach(function(K){return F.add(K)});function W(K){if(!K)return K;var G,J=Object.create(m.prototype);for(G in K)if(!F.has(G))try{J[G]=K[G]}catch{}return J}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=W,this.hook("reading",W),m},jt.prototype.defineClass=function(){return this.mapToClass(function(m){l(this,m)})},jt.prototype.add=function(m,y){var P=this,k=this.schema.primKey,M=k.auto,F=k.keyPath,B=m;return F&&M&&(B=xl(F)(m)),this._trans("readwrite",function(W){return P.core.mutate({trans:W,type:"add",keys:y!=null?[y]:null,values:[B]})}).then(function(W){return W.numFailures?xe.reject(W.failures[0]):W.lastResult}).then(function(W){if(F)try{E(m,F,W)}catch{}return W})},jt.prototype.update=function(m,y){return typeof m!="object"||s(m)?this.where(":id").equals(m).modify(y):(m=C(m,this.schema.primKey.keyPath),m===void 0?Bt(new X.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(m).modify(y))},jt.prototype.put=function(m,y){var P=this,k=this.schema.primKey,M=k.auto,F=k.keyPath,B=m;return F&&M&&(B=xl(F)(m)),this._trans("readwrite",function(W){return P.core.mutate({trans:W,type:"put",values:[B],keys:y!=null?[y]:null})}).then(function(W){return W.numFailures?xe.reject(W.failures[0]):W.lastResult}).then(function(W){if(F)try{E(m,F,W)}catch{}return W})},jt.prototype.delete=function(m){var y=this;return this._trans("readwrite",function(P){return y.core.mutate({trans:P,type:"delete",keys:[m]}).then(function(k){return Na(y,[m],k)}).then(function(k){return k.numFailures?xe.reject(k.failures[0]):void 0})})},jt.prototype.clear=function(){var m=this;return this._trans("readwrite",function(y){return m.core.mutate({trans:y,type:"deleteRange",range:hd}).then(function(P){return Na(m,null,P)})}).then(function(y){return y.numFailures?xe.reject(y.failures[0]):void 0})},jt.prototype.bulkGet=function(m){var y=this;return this._trans("readonly",function(P){return y.core.getMany({keys:m,trans:P}).then(function(k){return k.map(function(M){return y.hook.reading.fire(M)})})})},jt.prototype.bulkAdd=function(m,y,P){var k=this,M=Array.isArray(y)?y:void 0,F=(P=P||(M?void 0:y))?P.allKeys:void 0;return this._trans("readwrite",function(B){var G=k.schema.primKey,W=G.auto,G=G.keyPath;if(G&&M)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(M&&M.length!==m.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var K=m.length,G=G&&W?m.map(xl(G)):m;return k.core.mutate({trans:B,type:"add",keys:M,values:G,wantResults:F}).then(function(Q){var q=Q.numFailures,te=Q.results,H=Q.lastResult,Q=Q.failures;if(q===0)return F?te:H;throw new tt("".concat(k.name,".bulkAdd(): ").concat(q," of ").concat(K," operations failed"),Q)})})},jt.prototype.bulkPut=function(m,y,P){var k=this,M=Array.isArray(y)?y:void 0,F=(P=P||(M?void 0:y))?P.allKeys:void 0;return this._trans("readwrite",function(B){var G=k.schema.primKey,W=G.auto,G=G.keyPath;if(G&&M)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(M&&M.length!==m.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var K=m.length,G=G&&W?m.map(xl(G)):m;return k.core.mutate({trans:B,type:"put",keys:M,values:G,wantResults:F}).then(function(Q){var q=Q.numFailures,te=Q.results,H=Q.lastResult,Q=Q.failures;if(q===0)return F?te:H;throw new tt("".concat(k.name,".bulkPut(): ").concat(q," of ").concat(K," operations failed"),Q)})})},jt.prototype.bulkUpdate=function(m){var y=this,P=this.core,k=m.map(function(B){return B.key}),M=m.map(function(B){return B.changes}),F=[];return this._trans("readwrite",function(B){return P.getMany({trans:B,keys:k,cache:"clone"}).then(function(W){var K=[],G=[];m.forEach(function(q,te){var H=q.key,Q=q.changes,ee=W[te];if(ee){for(var Z=0,ie=Object.keys(Q);Z<ie.length;Z++){var fe=ie[Z],he=Q[fe];if(fe===y.schema.primKey.keyPath){if(pt(he,H)!==0)throw new X.Constraint("Cannot update primary key in bulkUpdate()")}else E(ee,fe,he)}F.push(te),K.push(H),G.push(ee)}});var J=K.length;return P.mutate({trans:B,type:"put",keys:K,values:G,updates:{keys:k,changeSpecs:M}}).then(function(q){var te=q.numFailures,H=q.failures;if(te===0)return J;for(var Q=0,ee=Object.keys(H);Q<ee.length;Q++){var Z,ie=ee[Q],fe=F[Number(ie)];fe!=null&&(Z=H[ie],delete H[ie],H[fe]=Z)}throw new tt("".concat(y.name,".bulkUpdate(): ").concat(te," of ").concat(J," operations failed"),H)})})})},jt.prototype.bulkDelete=function(m){var y=this,P=m.length;return this._trans("readwrite",function(k){return y.core.mutate({trans:k,type:"delete",keys:m}).then(function(M){return Na(y,m,M)})}).then(function(B){var M=B.numFailures,F=B.lastResult,B=B.failures;if(M===0)return F;throw new tt("".concat(y.name,".bulkDelete(): ").concat(M," of ").concat(P," operations failed"),B)})},jt);function jt(){}function Ct(m){function y(B,W){if(W){for(var K=arguments.length,G=new Array(K-1);--K;)G[K-1]=arguments[K];return P[B].subscribe.apply(null,G),m}if(typeof B=="string")return P[B]}var P={};y.addEventType=F;for(var k=1,M=arguments.length;k<M;++k)F(arguments[k]);return y;function F(B,W,K){if(typeof B!="object"){var G;W=W||It;var J={subscribers:[],fire:K=K||se,subscribe:function(q){J.subscribers.indexOf(q)===-1&&(J.subscribers.push(q),J.fire=W(J.fire,q))},unsubscribe:function(q){J.subscribers=J.subscribers.filter(function(te){return te!==q}),J.fire=J.subscribers.reduce(W,K)}};return P[B]=y[B]=J}o(G=B).forEach(function(q){var te=G[q];if(s(te))F(q,G[q][0],G[q][1]);else{if(te!=="asap")throw new X.InvalidArgument("Invalid event config");var H=F(q,Ke,function(){for(var Q=arguments.length,ee=new Array(Q);Q--;)ee[Q]=arguments[Q];H.subscribers.forEach(function(Z){S(function(){Z.apply(null,ee)})})})}})}}function Da(m,y){return v(y).from({prototype:m}),y}function Ni(m,y){return!(m.filter||m.algorithm||m.or)&&(y?m.justLimit:!m.replayFilter)}function vo(m,y){m.filter=ra(m.filter,y)}function md(m,y,P){var k=m.replayFilter;m.replayFilter=k?function(){return ra(k(),y())}:y,m.justLimit=P&&!k}function wl(m,y){if(m.isPrimKey)return y.primaryKey;var P=y.getIndexByKeyPath(m.index);if(!P)throw new X.Schema("KeyPath "+m.index+" on object store "+y.name+" is not indexed");return P}function jm(m,y,P){var k=wl(m,y.schema);return y.openCursor({trans:P,values:!m.keysOnly,reverse:m.dir==="prev",unique:!!m.unique,query:{index:k,range:m.range}})}function $u(m,y,P,k){var M=m.replayFilter?ra(m.filter,m.replayFilter()):m.filter;if(m.or){var F={},B=function(W,K,G){var J,q;M&&!M(K,G,function(te){return K.stop(te)},function(te){return K.fail(te)})||((q=""+(J=K.primaryKey))=="[object ArrayBuffer]"&&(q=""+new Uint8Array(J)),f(F,q)||(F[q]=!0,y(W,K,G)))};return Promise.all([m.or._iterate(B,P),Nm(jm(m,k,P),m.algorithm,B,!m.keysOnly&&m.valueMapper)])}return Nm(jm(m,k,P),ra(m.algorithm,M),y,!m.keysOnly&&m.valueMapper)}function Nm(m,y,P,k){var M=zt(k?function(F,B,W){return P(k(F),B,W)}:P);return m.then(function(F){if(F)return F.start(function(){var B=function(){return F.continue()};y&&!y(F,function(W){return B=W},function(W){F.stop(W),B=se},function(W){F.fail(W),B=se})||M(F.value,F,function(W){return B=W}),B()})})}var _l=(ss.prototype.execute=function(m){var y=this["@@propmod"];if(y.add!==void 0){var P=y.add;if(s(P))return i(i([],s(m)?m:[],!0),P).sort();if(typeof P=="number")return(Number(m)||0)+P;if(typeof P=="bigint")try{return BigInt(m)+P}catch{return BigInt(0)+P}throw new TypeError("Invalid term ".concat(P))}if(y.remove!==void 0){var k=y.remove;if(s(k))return s(m)?m.filter(function(M){return!k.includes(M)}).sort():[];if(typeof k=="number")return Number(m)-k;if(typeof k=="bigint")try{return BigInt(m)-k}catch{return BigInt(0)-k}throw new TypeError("Invalid subtrahend ".concat(k))}return P=(P=y.replacePrefix)===null||P===void 0?void 0:P[0],P&&typeof m=="string"&&m.startsWith(P)?y.replacePrefix[1]+m.substring(P.length):m},ss);function ss(m){this["@@propmod"]=m}var bo=(bt.prototype._read=function(m,y){var P=this._ctx;return P.error?P.table._trans(null,Bt.bind(null,P.error)):P.table._trans("readonly",m).then(y)},bt.prototype._write=function(m){var y=this._ctx;return y.error?y.table._trans(null,Bt.bind(null,y.error)):y.table._trans("readwrite",m,"locked")},bt.prototype._addAlgorithm=function(m){var y=this._ctx;y.algorithm=ra(y.algorithm,m)},bt.prototype._iterate=function(m,y){return $u(this._ctx,m,y,this._ctx.table.core)},bt.prototype.clone=function(m){var y=Object.create(this.constructor.prototype),P=Object.create(this._ctx);return m&&l(P,m),y._ctx=P,y},bt.prototype.raw=function(){return this._ctx.valueMapper=null,this},bt.prototype.each=function(m){var y=this._ctx;return this._read(function(P){return $u(y,m,P,y.table.core)})},bt.prototype.count=function(m){var y=this;return this._read(function(P){var k=y._ctx,M=k.table.core;if(Ni(k,!0))return M.count({trans:P,query:{index:wl(k,M.schema),range:k.range}}).then(function(B){return Math.min(B,k.limit)});var F=0;return $u(k,function(){return++F,!1},P,M).then(function(){return F})}).then(m)},bt.prototype.sortBy=function(m,y){var P=m.split(".").reverse(),k=P[0],M=P.length-1;function F(K,G){return G?F(K[P[G]],G-1):K[k]}var B=this._ctx.dir==="next"?1:-1;function W(K,G){return pt(F(K,M),F(G,M))*B}return this.toArray(function(K){return K.sort(W)}).then(y)},bt.prototype.toArray=function(m){var y=this;return this._read(function(P){var k=y._ctx;if(k.dir==="next"&&Ni(k,!0)&&0<k.limit){var M=k.valueMapper,F=wl(k,k.table.core.schema);return k.table.core.query({trans:P,limit:k.limit,values:!0,query:{index:F,range:k.range}}).then(function(W){return W=W.result,M?W.map(M):W})}var B=[];return $u(k,function(W){return B.push(W)},P,k.table.core).then(function(){return B})},m)},bt.prototype.offset=function(m){var y=this._ctx;return m<=0||(y.offset+=m,Ni(y)?md(y,function(){var P=m;return function(k,M){return P===0||(P===1?--P:M(function(){k.advance(P),P=0}),!1)}}):md(y,function(){var P=m;return function(){return--P<0}})),this},bt.prototype.limit=function(m){return this._ctx.limit=Math.min(this._ctx.limit,m),md(this._ctx,function(){var y=m;return function(P,k,M){return--y<=0&&k(M),0<=y}},!0),this},bt.prototype.until=function(m,y){return vo(this._ctx,function(P,k,M){return!m(P.value)||(k(M),y)}),this},bt.prototype.first=function(m){return this.limit(1).toArray(function(y){return y[0]}).then(m)},bt.prototype.last=function(m){return this.reverse().first(m)},bt.prototype.filter=function(m){var y;return vo(this._ctx,function(P){return m(P.value)}),(y=this._ctx).isMatch=ra(y.isMatch,m),this},bt.prototype.and=function(m){return this.filter(m)},bt.prototype.or=function(m){return new this.db.WhereClause(this._ctx.table,m,this)},bt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},bt.prototype.desc=function(){return this.reverse()},bt.prototype.eachKey=function(m){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(P,k){m(k.key,k)})},bt.prototype.eachUniqueKey=function(m){return this._ctx.unique="unique",this.eachKey(m)},bt.prototype.eachPrimaryKey=function(m){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(P,k){m(k.primaryKey,k)})},bt.prototype.keys=function(m){var y=this._ctx;y.keysOnly=!y.isMatch;var P=[];return this.each(function(k,M){P.push(M.key)}).then(function(){return P}).then(m)},bt.prototype.primaryKeys=function(m){var y=this._ctx;if(y.dir==="next"&&Ni(y,!0)&&0<y.limit)return this._read(function(k){var M=wl(y,y.table.core.schema);return y.table.core.query({trans:k,values:!1,limit:y.limit,query:{index:M,range:y.range}})}).then(function(k){return k.result}).then(m);y.keysOnly=!y.isMatch;var P=[];return this.each(function(k,M){P.push(M.primaryKey)}).then(function(){return P}).then(m)},bt.prototype.uniqueKeys=function(m){return this._ctx.unique="unique",this.keys(m)},bt.prototype.firstKey=function(m){return this.limit(1).keys(function(y){return y[0]}).then(m)},bt.prototype.lastKey=function(m){return this.reverse().firstKey(m)},bt.prototype.distinct=function(){var m=this._ctx,m=m.index&&m.table.schema.idxByName[m.index];if(!m||!m.multi)return this;var y={};return vo(this._ctx,function(M){var k=M.primaryKey.toString(),M=f(y,k);return y[k]=!0,!M}),this},bt.prototype.modify=function(m){var y=this,P=this._ctx;return this._write(function(k){var M,F,B;B=typeof m=="function"?m:(M=o(m),F=M.length,function(ie){for(var fe=!1,he=0;he<F;++he){var pe=M[he],_e=m[pe],ke=C(ie,pe);_e instanceof _l?(E(ie,pe,_e.execute(ke)),fe=!0):ke!==_e&&(E(ie,pe,_e),fe=!0)}return fe});var W=P.table.core,q=W.schema.primaryKey,K=q.outbound,G=q.extractKey,J=200,q=y.db._options.modifyChunkSize;q&&(J=typeof q=="object"?q[W.name]||q["*"]||200:q);function te(ie,pe){var he=pe.failures,pe=pe.numFailures;Q+=ie-pe;for(var _e=0,ke=o(he);_e<ke.length;_e++){var Te=ke[_e];H.push(he[Te])}}var H=[],Q=0,ee=[],Z=m===gd;return y.clone().primaryKeys().then(function(ie){function fe(pe){var _e=Math.min(J,ie.length-pe),ke=ie.slice(pe,pe+_e);return(Z?Promise.resolve([]):W.getMany({trans:k,keys:ke,cache:"immutable"})).then(function(Te){var Pe=[],Me=[],Ne=K?[]:null,Re=Z?ke:[];if(!Z)for(var lt=0;lt<_e;++lt){var wt=Te[lt],rt={value:L(wt),primKey:ie[pe+lt]};B.call(rt,rt.value,rt)!==!1&&(rt.value==null?Re.push(ie[pe+lt]):K||pt(G(wt),G(rt.value))===0?(Me.push(rt.value),K&&Ne.push(ie[pe+lt])):(Re.push(ie[pe+lt]),Pe.push(rt.value)))}return Promise.resolve(0<Pe.length&&W.mutate({trans:k,type:"add",values:Pe}).then(function(mn){for(var Ze in mn.failures)Re.splice(parseInt(Ze),1);te(Pe.length,mn)})).then(function(){return(0<Me.length||he&&typeof m=="object")&&W.mutate({trans:k,type:"put",keys:Ne,values:Me,criteria:he,changeSpec:typeof m!="function"&&m,isAdditionalChunk:0<pe}).then(function(mn){return te(Me.length,mn)})}).then(function(){return(0<Re.length||he&&Z)&&W.mutate({trans:k,type:"delete",keys:Re,criteria:he,isAdditionalChunk:0<pe}).then(function(mn){return Na(P.table,Re,mn)}).then(function(mn){return te(Re.length,mn)})}).then(function(){return ie.length>pe+_e&&fe(pe+J)})})}var he=Ni(P)&&P.limit===1/0&&(typeof m!="function"||Z)&&{index:P.index,range:P.range};return fe(0).then(function(){if(0<H.length)throw new at("Error modifying one or more objects",H,Q,ee);return ie.length})})})},bt.prototype.delete=function(){var m=this._ctx,y=m.range;return!Ni(m)||m.table.schema.yProps||!m.isPrimKey&&y.type!==3?this.modify(gd):this._write(function(P){var k=m.table.core.schema.primaryKey,M=y;return m.table.core.count({trans:P,query:{index:k,range:M}}).then(function(F){return m.table.core.mutate({trans:P,type:"deleteRange",range:M}).then(function(K){var W=K.failures,K=K.numFailures;if(K)throw new at("Could not delete some values",Object.keys(W).map(function(G){return W[G]}),F-K);return F-K})})})},bt);function bt(){}var gd=function(m,y){return y.value=null};function Dm(m,y){return m<y?-1:m===y?0:1}function Mm(m,y){return y<m?-1:m===y?0:1}function dr(m,y,P){return m=m instanceof aa?new m.Collection(m):m,m._ctx.error=new(P||TypeError)(y),m}function li(m){return new m.Collection(m,function(){return Rm("")}).limit(0)}function Lu(m,y,P,k){var M,F,B,W,K,G,J,q=P.length;if(!P.every(function(Q){return typeof Q=="string"}))return dr(m,Im);function te(Q){M=Q==="next"?function(Z){return Z.toUpperCase()}:function(Z){return Z.toLowerCase()},F=Q==="next"?function(Z){return Z.toLowerCase()}:function(Z){return Z.toUpperCase()},B=Q==="next"?Dm:Mm;var ee=P.map(function(Z){return{lower:F(Z),upper:M(Z)}}).sort(function(Z,ie){return B(Z.lower,ie.lower)});W=ee.map(function(Z){return Z.upper}),K=ee.map(function(Z){return Z.lower}),J=(G=Q)==="next"?"":k}te("next"),m=new m.Collection(m,function(){return Ma(W[0],K[q-1]+k)}),m._ondirectionchange=function(Q){te(Q)};var H=0;return m._addAlgorithm(function(Q,ee,Z){var ie=Q.key;if(typeof ie!="string")return!1;var fe=F(ie);if(y(fe,K,H))return!0;for(var he=null,pe=H;pe<q;++pe){var _e=function(ke,Te,Pe,Me,Ne,Re){for(var lt=Math.min(ke.length,Me.length),wt=-1,rt=0;rt<lt;++rt){var mn=Te[rt];if(mn!==Me[rt])return Ne(ke[rt],Pe[rt])<0?ke.substr(0,rt)+Pe[rt]+Pe.substr(rt+1):Ne(ke[rt],Me[rt])<0?ke.substr(0,rt)+Me[rt]+Pe.substr(rt+1):0<=wt?ke.substr(0,wt)+Te[wt]+Pe.substr(wt+1):null;Ne(ke[rt],mn)<0&&(wt=rt)}return lt<Me.length&&Re==="next"?ke+Pe.substr(ke.length):lt<ke.length&&Re==="prev"?ke.substr(0,Pe.length):wt<0?null:ke.substr(0,wt)+Me[wt]+Pe.substr(wt+1)}(ie,fe,W[pe],K[pe],B,G);_e===null&&he===null?H=pe+1:(he===null||0<B(he,_e))&&(he=_e)}return ee(he!==null?function(){Q.continue(he+J)}:Z),!1}),m}function Ma(m,y,P,k){return{type:2,lower:m,upper:y,lowerOpen:P,upperOpen:k}}function Rm(m){return{type:1,lower:m,upper:m}}var aa=(Object.defineProperty(Pn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pn.prototype.between=function(m,y,P,k){P=P!==!1,k=k===!0;try{return 0<this._cmp(m,y)||this._cmp(m,y)===0&&(P||k)&&(!P||!k)?li(this):new this.Collection(this,function(){return Ma(m,y,!P,!k)})}catch{return dr(this,oi)}},Pn.prototype.equals=function(m){return m==null?dr(this,oi):new this.Collection(this,function(){return Rm(m)})},Pn.prototype.above=function(m){return m==null?dr(this,oi):new this.Collection(this,function(){return Ma(m,void 0,!0)})},Pn.prototype.aboveOrEqual=function(m){return m==null?dr(this,oi):new this.Collection(this,function(){return Ma(m,void 0,!1)})},Pn.prototype.below=function(m){return m==null?dr(this,oi):new this.Collection(this,function(){return Ma(void 0,m,!1,!0)})},Pn.prototype.belowOrEqual=function(m){return m==null?dr(this,oi):new this.Collection(this,function(){return Ma(void 0,m)})},Pn.prototype.startsWith=function(m){return typeof m!="string"?dr(this,Im):this.between(m,m+kr,!0,!0)},Pn.prototype.startsWithIgnoreCase=function(m){return m===""?this.startsWith(m):Lu(this,function(y,P){return y.indexOf(P[0])===0},[m],kr)},Pn.prototype.equalsIgnoreCase=function(m){return Lu(this,function(y,P){return y===P[0]},[m],"")},Pn.prototype.anyOfIgnoreCase=function(){var m=me.apply(re,arguments);return m.length===0?li(this):Lu(this,function(y,P){return P.indexOf(y)!==-1},m,"")},Pn.prototype.startsWithAnyOfIgnoreCase=function(){var m=me.apply(re,arguments);return m.length===0?li(this):Lu(this,function(y,P){return P.some(function(k){return y.indexOf(k)===0})},m,kr)},Pn.prototype.anyOf=function(){var m=this,y=me.apply(re,arguments),P=this._cmp;try{y.sort(P)}catch{return dr(this,oi)}if(y.length===0)return li(this);var k=new this.Collection(this,function(){return Ma(y[0],y[y.length-1])});k._ondirectionchange=function(F){P=F==="next"?m._ascending:m._descending,y.sort(P)};var M=0;return k._addAlgorithm(function(F,B,W){for(var K=F.key;0<P(K,y[M]);)if(++M===y.length)return B(W),!1;return P(K,y[M])===0||(B(function(){F.continue(y[M])}),!1)}),k},Pn.prototype.notEqual=function(m){return this.inAnyRange([[-1/0,m],[m,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pn.prototype.noneOf=function(){var m=me.apply(re,arguments);if(m.length===0)return new this.Collection(this);try{m.sort(this._ascending)}catch{return dr(this,oi)}var y=m.reduce(function(P,k){return P?P.concat([[P[P.length-1][1],k]]):[[-1/0,k]]},null);return y.push([m[m.length-1],this.db._maxKey]),this.inAnyRange(y,{includeLowers:!1,includeUppers:!1})},Pn.prototype.inAnyRange=function(ie,y){var P=this,k=this._cmp,M=this._ascending,F=this._descending,B=this._min,W=this._max;if(ie.length===0)return li(this);if(!ie.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&M(fe[0],fe[1])<=0}))return dr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);var K=!y||y.includeLowers!==!1,G=y&&y.includeUppers===!0,J,q=M;function te(fe,he){return q(fe[0],he[0])}try{(J=ie.reduce(function(fe,he){for(var pe=0,_e=fe.length;pe<_e;++pe){var ke=fe[pe];if(k(he[0],ke[1])<0&&0<k(he[1],ke[0])){ke[0]=B(ke[0],he[0]),ke[1]=W(ke[1],he[1]);break}}return pe===_e&&fe.push(he),fe},[])).sort(te)}catch{return dr(this,oi)}var H=0,Q=G?function(fe){return 0<M(fe,J[H][1])}:function(fe){return 0<=M(fe,J[H][1])},ee=K?function(fe){return 0<F(fe,J[H][0])}:function(fe){return 0<=F(fe,J[H][0])},Z=Q,ie=new this.Collection(this,function(){return Ma(J[0][0],J[J.length-1][1],!K,!G)});return ie._ondirectionchange=function(fe){q=fe==="next"?(Z=Q,M):(Z=ee,F),J.sort(te)},ie._addAlgorithm(function(fe,he,pe){for(var _e,ke=fe.key;Z(ke);)if(++H===J.length)return he(pe),!1;return!Q(_e=ke)&&!ee(_e)||(P._cmp(ke,J[H][1])===0||P._cmp(ke,J[H][0])===0||he(function(){q===M?fe.continue(J[H][0]):fe.continue(J[H][1])}),!1)}),ie},Pn.prototype.startsWithAnyOf=function(){var m=me.apply(re,arguments);return m.every(function(y){return typeof y=="string"})?m.length===0?li(this):this.inAnyRange(m.map(function(y){return[y,y+kr]})):dr(this,"startsWithAnyOf() only works with strings")},Pn);function Pn(){}function Br(m){return zt(function(y){return Ra(y),m(y.target.error),!1})}function Ra(m){m.stopPropagation&&m.stopPropagation(),m.preventDefault&&m.preventDefault()}var ls="storagemutated",xo="x-storagemutated-1",Ur=Ct(null,ls),$m=(Wr.prototype._lock=function(){return I(!Le.global),++this._reculock,this._reculock!==1||Le.global||(Le.lockOwnerFor=this),this},Wr.prototype._unlock=function(){if(I(!Le.global),--this._reculock==0)for(Le.global||(Le.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var m=this._blockedFuncs.shift();try{ji(m[1],m[0])}catch{}}return this},Wr.prototype._locked=function(){return this._reculock&&Le.lockOwnerFor!==this},Wr.prototype.create=function(m){var y=this;if(!this.mode)return this;var P=this.db.idbdb,k=this.db._state.dbOpenError;if(I(!this.idbtrans),!m&&!P)switch(k&&k.name){case"DatabaseClosedError":throw new X.DatabaseClosed(k);case"MissingAPIError":throw new X.MissingAPI(k.message,k);default:throw new X.OpenFailed(k)}if(!this.active)throw new X.TransactionInactive;return I(this._completion._state===null),(m=this.idbtrans=m||(this.db.core||P).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=zt(function(M){Ra(M),y._reject(m.error)}),m.onabort=zt(function(M){Ra(M),y.active&&y._reject(new X.Abort(m.error)),y.active=!1,y.on("abort").fire(M)}),m.oncomplete=zt(function(){y.active=!1,y._resolve(),"mutatedParts"in m&&Ur.storagemutated.fire(m.mutatedParts)}),this},Wr.prototype._promise=function(m,y,P){var k=this;if(m==="readwrite"&&this.mode!=="readwrite")return Bt(new X.ReadOnly("Transaction is readonly"));if(!this.active)return Bt(new X.TransactionInactive);if(this._locked())return new xe(function(F,B){k._blockedFuncs.push([function(){k._promise(m,y,P).then(F,B)},Le])});if(P)return ta(function(){var F=new xe(function(B,W){k._lock();var K=y(B,W,k);K&&K.then&&K.then(B,W)});return F.finally(function(){return k._unlock()}),F._lib=!0,F});var M=new xe(function(F,B){var W=y(F,B,k);W&&W.then&&W.then(F,B)});return M._lib=!0,M},Wr.prototype._root=function(){return this.parent?this.parent._root():this},Wr.prototype.waitFor=function(m){var y,P=this._root(),k=xe.resolve(m);P._waitingFor?P._waitingFor=P._waitingFor.then(function(){return k}):(P._waitingFor=k,P._waitingQueue=[],y=P.idbtrans.objectStore(P.storeNames[0]),function F(){for(++P._spinCount;P._waitingQueue.length;)P._waitingQueue.shift()();P._waitingFor&&(y.get(-1/0).onsuccess=F)}());var M=P._waitingFor;return new xe(function(F,B){k.then(function(W){return P._waitingQueue.push(zt(F.bind(null,W)))},function(W){return P._waitingQueue.push(zt(B.bind(null,W)))}).finally(function(){P._waitingFor===M&&(P._waitingFor=null)})})},Wr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))},Wr.prototype.table=function(m){var y=this._memoizedTables||(this._memoizedTables={});if(f(y,m))return y[m];var P=this.schema[m];if(!P)throw new X.NotFound("Table "+m+" not part of transaction");return P=new this.db.Table(m,P,this),P.core=this.db.core.table(m),y[m]=P},Wr);function Wr(){}function Ht(m,y,P,k,M,F,B,W){return{name:m,keyPath:y,unique:P,multi:k,auto:M,compound:F,src:(P&&!B?"&":"")+(k?"*":"")+(M?"++":"")+Lm(y),type:W}}function Lm(m){return typeof m=="string"?m:m?"["+[].join.call(m,"+")+"]":""}function yd(m,y,P){return{name:m,primKey:y,indexes:P,mappedClass:null,idxByName:(k=function(M){return[M.name,M]},P.reduce(function(M,F,B){return B=k(F,B),B&&(M[B[0]]=B[1]),M},{}))};var k}var us=function(m){try{return m.only([[]]),us=function(){return[[]]},[[]]}catch{return us=function(){return kr},kr}};function Vu(m){return m==null?function(){}:typeof m=="string"?(y=m).split(".").length===1?function(P){return P[y]}:function(P){return C(P,y)}:function(P){return C(P,m)};var y}function vd(m){return[].slice.call(m)}var Fu=0;function qr(m){return m==null?":id":typeof m=="string"?m:"[".concat(m.join("+"),"]")}function Vm(m,y,K){function k(Z){if(Z.type===3)return null;if(Z.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var H=Z.lower,Q=Z.upper,ee=Z.lowerOpen,Z=Z.upperOpen;return H===void 0?Q===void 0?null:y.upperBound(Q,!!Z):Q===void 0?y.lowerBound(H,!!ee):y.bound(H,Q,!!ee,!!Z)}function M(te){var H,Q=te.name;return{name:Q,schema:te,mutate:function(ee){var Z=ee.trans,ie=ee.type,fe=ee.keys,he=ee.values,pe=ee.range;return new Promise(function(_e,ke){_e=zt(_e);var Te=Z.objectStore(Q),Pe=Te.keyPath==null,Me=ie==="put"||ie==="add";if(!Me&&ie!=="delete"&&ie!=="deleteRange")throw new Error("Invalid operation type: "+ie);var Ne,Re=(fe||he||{length:1}).length;if(fe&&he&&fe.length!==he.length)throw new Error("Given keys array must have same length as given values array.");if(Re===0)return _e({numFailures:0,failures:{},results:[],lastResult:void 0});function lt(Ir){++mn,Ra(Ir)}var wt=[],rt=[],mn=0;if(ie==="deleteRange"){if(pe.type===4)return _e({numFailures:mn,failures:rt,results:[],lastResult:void 0});pe.type===3?wt.push(Ne=Te.clear()):wt.push(Ne=Te.delete(k(pe)))}else{var Pe=Me?Pe?[he,fe]:[he,null]:[fe,null],Ze=Pe[0],hr=Pe[1];if(Me)for(var pr=0;pr<Re;++pr)wt.push(Ne=hr&&hr[pr]!==void 0?Te[ie](Ze[pr],hr[pr]):Te[ie](Ze[pr])),Ne.onerror=lt;else for(pr=0;pr<Re;++pr)wt.push(Ne=Te[ie](Ze[pr])),Ne.onerror=lt}function Wm(Ir){Ir=Ir.target.result,wt.forEach(function(Ol,Fb){return Ol.error!=null&&(rt[Fb]=Ol.error)}),_e({numFailures:mn,failures:rt,results:ie==="delete"?fe:wt.map(function(Ol){return Ol.result}),lastResult:Ir})}Ne.onerror=function(Ir){lt(Ir),Wm(Ir)},Ne.onsuccess=Wm})},getMany:function(ee){var Z=ee.trans,ie=ee.keys;return new Promise(function(fe,he){fe=zt(fe);for(var pe,_e=Z.objectStore(Q),ke=ie.length,Te=new Array(ke),Pe=0,Me=0,Ne=function(wt){wt=wt.target,Te[wt._pos]=wt.result,++Me===Pe&&fe(Te)},Re=Br(he),lt=0;lt<ke;++lt)ie[lt]!=null&&((pe=_e.get(ie[lt]))._pos=lt,pe.onsuccess=Ne,pe.onerror=Re,++Pe);Pe===0&&fe(Te)})},get:function(ee){var Z=ee.trans,ie=ee.key;return new Promise(function(fe,he){fe=zt(fe);var pe=Z.objectStore(Q).get(ie);pe.onsuccess=function(_e){return fe(_e.target.result)},pe.onerror=Br(he)})},query:(H=G,function(ee){return new Promise(function(Z,ie){Z=zt(Z);var fe,he,pe,Pe=ee.trans,_e=ee.values,ke=ee.limit,Ne=ee.query,Te=ke===1/0?void 0:ke,Me=Ne.index,Ne=Ne.range,Pe=Pe.objectStore(Q),Me=Me.isPrimaryKey?Pe:Pe.index(Me.name),Ne=k(Ne);if(ke===0)return Z({result:[]});H?((Te=_e?Me.getAll(Ne,Te):Me.getAllKeys(Ne,Te)).onsuccess=function(Re){return Z({result:Re.target.result})},Te.onerror=Br(ie)):(fe=0,he=!_e&&"openKeyCursor"in Me?Me.openKeyCursor(Ne):Me.openCursor(Ne),pe=[],he.onsuccess=function(Re){var lt=he.result;return lt?(pe.push(_e?lt.value:lt.primaryKey),++fe===ke?Z({result:pe}):void lt.continue()):Z({result:pe})},he.onerror=Br(ie))})}),openCursor:function(ee){var Z=ee.trans,ie=ee.values,fe=ee.query,he=ee.reverse,pe=ee.unique;return new Promise(function(_e,ke){_e=zt(_e);var Me=fe.index,Te=fe.range,Pe=Z.objectStore(Q),Pe=Me.isPrimaryKey?Pe:Pe.index(Me.name),Me=he?pe?"prevunique":"prev":pe?"nextunique":"next",Ne=!ie&&"openKeyCursor"in Pe?Pe.openKeyCursor(k(Te),Me):Pe.openCursor(k(Te),Me);Ne.onerror=Br(ke),Ne.onsuccess=zt(function(Re){var lt,wt,rt,mn,Ze=Ne.result;Ze?(Ze.___id=++Fu,Ze.done=!1,lt=Ze.continue.bind(Ze),wt=(wt=Ze.continuePrimaryKey)&&wt.bind(Ze),rt=Ze.advance.bind(Ze),mn=function(){throw new Error("Cursor not stopped")},Ze.trans=Z,Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=function(){throw new Error("Cursor not started")},Ze.fail=zt(ke),Ze.next=function(){var hr=this,pr=1;return this.start(function(){return pr--?hr.continue():hr.stop()}).then(function(){return hr})},Ze.start=function(hr){function pr(){if(Ne.result)try{hr()}catch(Ir){Ze.fail(Ir)}else Ze.done=!0,Ze.start=function(){throw new Error("Cursor behind last entry")},Ze.stop()}var Wm=new Promise(function(Ir,Ol){Ir=zt(Ir),Ne.onerror=Br(Ol),Ze.fail=Ol,Ze.stop=function(Fb){Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=mn,Ir(Fb)}});return Ne.onsuccess=zt(function(Ir){Ne.onsuccess=pr,pr()}),Ze.continue=lt,Ze.continuePrimaryKey=wt,Ze.advance=rt,pr(),Wm},_e(Ze)):_e(null)},ke)})},count:function(ee){var Z=ee.query,ie=ee.trans,fe=Z.index,he=Z.range;return new Promise(function(pe,_e){var ke=ie.objectStore(Q),Te=fe.isPrimaryKey?ke:ke.index(fe.name),ke=k(he),Te=ke?Te.count(ke):Te.count();Te.onsuccess=zt(function(Pe){return pe(Pe.target.result)}),Te.onerror=Br(_e)})}}}var F,B,W,J=(B=K,W=vd((F=m).objectStoreNames),{schema:{name:F.name,tables:W.map(function(te){return B.objectStore(te)}).map(function(te){var H=te.keyPath,Z=te.autoIncrement,Q=s(H),ee={},Z={name:te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:H==null,compound:Q,keyPath:H,autoIncrement:Z,unique:!0,extractKey:Vu(H)},indexes:vd(te.indexNames).map(function(ie){return te.index(ie)}).map(function(pe){var fe=pe.name,he=pe.unique,_e=pe.multiEntry,pe=pe.keyPath,_e={name:fe,compound:s(pe),keyPath:pe,unique:he,multiEntry:_e,extractKey:Vu(pe)};return ee[qr(pe)]=_e}),getIndexByKeyPath:function(ie){return ee[qr(ie)]}};return ee[":id"]=Z.primaryKey,H!=null&&(ee[qr(H)]=Z.primaryKey),Z})},hasGetAll:0<W.length&&"getAll"in B.objectStore(W[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),K=J.schema,G=J.hasGetAll,J=K.tables.map(M),q={};return J.forEach(function(te){return q[te.name]=te}),{stack:"dbcore",transaction:m.transaction.bind(m),table:function(te){if(!q[te])throw new Error("Table '".concat(te,"' not found"));return q[te]},MIN_KEY:-1/0,MAX_KEY:us(y),schema:K}}function Rb(m,y,P,k){var M=P.IDBKeyRange;return P.indexedDB,{dbcore:(k=Vm(y,M,k),m.dbcore.reduce(function(F,B){return B=B.create,r(r({},F),B(F))},k))}}function $a(m,k){var P=k.db,k=Rb(m._middlewares,P,m._deps,k);m.core=k.dbcore,m.tables.forEach(function(M){var F=M.name;m.core.schema.tables.some(function(B){return B.name===F})&&(M.core=m.core.table(F),m[F]instanceof m.Table&&(m[F].core=M.core))})}function Sl(m,y,P,k){P.forEach(function(M){var F=k[M];y.forEach(function(B){var W=function K(G,J){return x(G,J)||(G=u(G))&&K(G,J)}(B,M);(!W||"value"in W&&W.value===void 0)&&(B===m.Transaction.prototype||B instanceof m.Transaction?b(B,M,{get:function(){return this.table(M)},set:function(K){g(this,M,{value:K,writable:!0,configurable:!0,enumerable:!0})}}):B[M]=new m.Table(M,F))})})}function El(m,y){y.forEach(function(P){for(var k in P)P[k]instanceof m.Table&&delete P[k]})}function zu(m,y){return m._cfg.version-y._cfg.version}function Fm(m,y,P,k){var M=m._dbSchema;P.objectStoreNames.contains("$meta")&&!M.$meta&&(M.$meta=yd("$meta",Wu("")[0],[]),m._storeNames.push("$meta"));var F=m._createTransaction("readwrite",m._storeNames,M);F.create(P),F._completion.catch(k);var B=F._reject.bind(F),W=Le.transless||Le;ta(function(){return Le.trans=F,Le.transless=W,y!==0?($a(m,P),G=y,((K=F).storeNames.includes("$meta")?K.table("$meta").get("version").then(function(J){return J??G}):xe.resolve(G)).then(function(J){return te=J,H=F,Q=P,ee=[],J=(q=m)._versions,Z=q._dbSchema=Tl(0,q.idbdb,Q),(J=J.filter(function(ie){return ie._cfg.version>=te})).length!==0?(J.forEach(function(ie){ee.push(function(){var fe=Z,he=ie._cfg.dbschema;fs(q,fe,Q),fs(q,he,Q),Z=q._dbSchema=he;var pe=bd(fe,he);pe.add.forEach(function(Me){Uu(Q,Me[0],Me[1].primKey,Me[1].indexes)}),pe.change.forEach(function(Me){if(Me.recreate)throw new X.Upgrade("Not yet support for changing primary key");var Ne=Q.objectStore(Me.name);Me.add.forEach(function(Re){return Al(Ne,Re)}),Me.change.forEach(function(Re){Ne.deleteIndex(Re.name),Al(Ne,Re)}),Me.del.forEach(function(Re){return Ne.deleteIndex(Re)})});var _e=ie._cfg.contentUpgrade;if(_e&&ie._cfg.version>te){$a(q,Q),H._memoizedTables={};var ke=T(he);pe.del.forEach(function(Me){ke[Me]=fe[Me]}),El(q,[q.Transaction.prototype]),Sl(q,[q.Transaction.prototype],o(ke),ke),H.schema=ke;var Te,Pe=Ae(_e);return Pe&&ja(),pe=xe.follow(function(){var Me;(Te=_e(H))&&Pe&&(Me=Ii.bind(null,null),Te.then(Me,Me))}),Te&&typeof Te.then=="function"?xe.resolve(Te):pe.then(function(){return Te})}}),ee.push(function(fe){var he,pe,_e=ie._cfg.dbschema;he=_e,pe=fe,[].slice.call(pe.db.objectStoreNames).forEach(function(ke){return he[ke]==null&&pe.db.deleteObjectStore(ke)}),El(q,[q.Transaction.prototype]),Sl(q,[q.Transaction.prototype],q._storeNames,q._dbSchema),H.schema=q._dbSchema}),ee.push(function(fe){q.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(q.idbdb.version/10)===ie._cfg.version?(q.idbdb.deleteObjectStore("$meta"),delete q._dbSchema.$meta,q._storeNames=q._storeNames.filter(function(he){return he!=="$meta"})):fe.objectStore("$meta").put(ie._cfg.version,"version"))})}),function ie(){return ee.length?xe.resolve(ee.shift()(H.idbtrans)).then(ie):xe.resolve()}().then(function(){cs(Z,Q)})):xe.resolve();var q,te,H,Q,ee,Z}).catch(B)):(o(M).forEach(function(J){Uu(P,J,M[J].primKey,M[J].indexes)}),$a(m,P),void xe.follow(function(){return m.on.populate.fire(F)}).catch(B));var K,G})}function Bu(m,y){cs(m._dbSchema,y),y.db.version%10!=0||y.objectStoreNames.contains("$meta")||y.db.createObjectStore("$meta").add(Math.ceil(y.db.version/10-1),"version");var P=Tl(0,m.idbdb,y);fs(m,m._dbSchema,y);for(var k=0,M=bd(P,m._dbSchema).change;k<M.length;k++){var F=function(B){if(B.change.length||B.recreate)return console.warn("Unable to patch indexes of table ".concat(B.name," because it has changes on the type of index or primary key.")),{value:void 0};var W=y.objectStore(B.name);B.add.forEach(function(K){nt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(B.name,".").concat(K.src)),Al(W,K)})}(M[k]);if(typeof F=="object")return F.value}}function bd(m,y){var P,k={del:[],add:[],change:[]};for(P in m)y[P]||k.del.push(P);for(P in y){var M=m[P],F=y[P];if(M){var B={name:P,def:F,recreate:!1,del:[],add:[],change:[]};if(""+(M.primKey.keyPath||"")!=""+(F.primKey.keyPath||"")||M.primKey.auto!==F.primKey.auto)B.recreate=!0,k.change.push(B);else{var W=M.idxByName,K=F.idxByName,G=void 0;for(G in W)K[G]||B.del.push(G);for(G in K){var J=W[G],q=K[G];J?J.src!==q.src&&B.change.push(q):B.add.push(q)}(0<B.del.length||0<B.add.length||0<B.change.length)&&k.change.push(B)}}else k.add.push([P,F])}return k}function Uu(m,y,P,k){var M=m.db.createObjectStore(y,P.keyPath?{keyPath:P.keyPath,autoIncrement:P.auto}:{autoIncrement:P.auto});return k.forEach(function(F){return Al(M,F)}),M}function cs(m,y){o(m).forEach(function(P){y.db.objectStoreNames.contains(P)||(nt&&console.debug("Dexie: Creating missing table",P),Uu(y,P,m[P].primKey,m[P].indexes))})}function Al(m,y){m.createIndex(y.name,y.keyPath,{unique:y.unique,multiEntry:y.multi})}function Tl(m,y,P){var k={};return _(y.objectStoreNames,0).forEach(function(M){for(var F=P.objectStore(M),B=Ht(Lm(G=F.keyPath),G||"",!0,!1,!!F.autoIncrement,G&&typeof G!="string",!0),W=[],K=0;K<F.indexNames.length;++K){var J=F.index(F.indexNames[K]),G=J.keyPath,J=Ht(J.name,G,!!J.unique,!!J.multiEntry,!1,G&&typeof G!="string",!1);W.push(J)}k[M]=yd(M,B,W)}),k}function fs(m,y,P){for(var k=P.db.objectStoreNames,M=0;M<k.length;++M){var F=k[M],B=P.objectStore(F);m._hasGetAll="getAll"in B;for(var W=0;W<B.indexNames.length;++W){var K=B.indexNames[W],G=B.index(K).keyPath,J=typeof G=="string"?G:"["+_(G).join("+")+"]";!y[F]||(G=y[F].idxByName[J])&&(G.name=K,delete y[F].idxByName[J],y[F].idxByName[K]=G)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(m._hasGetAll=!1)}function Wu(m){return m.split(",").map(function(y,P){var F=y.split(":"),k=(M=F[1])===null||M===void 0?void 0:M.trim(),M=(y=F[0].trim()).replace(/([&*]|\+\+)/g,""),F=/^\[/.test(M)?M.match(/^\[(.*)\]$/)[1].split("+"):M;return Ht(M,F||null,/\&/.test(y),/\*/.test(y),/\+\+/.test(y),s(F),P===0,k)})}var zm=(oa.prototype._createTableSchema=yd,oa.prototype._parseIndexSyntax=Wu,oa.prototype._parseStoresSpec=function(m,y){var P=this;o(m).forEach(function(k){if(m[k]!==null){var M=P._parseIndexSyntax(m[k]),F=M.shift();if(!F)throw new X.Schema("Invalid schema for table "+k+": "+m[k]);if(F.unique=!0,F.multi)throw new X.Schema("Primary key cannot be multiEntry*");M.forEach(function(B){if(B.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!B.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")}),M=P._createTableSchema(k,F,M),y[k]=M}})},oa.prototype.stores=function(P){var y=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,P):P;var P=y._versions,k={},M={};return P.forEach(function(F){l(k,F._cfg.storesSource),M=F._cfg.dbschema={},F._parseStoresSpec(k,M)}),y._dbSchema=M,El(y,[y._allTables,y,y.Transaction.prototype]),Sl(y,[y._allTables,y,y.Transaction.prototype,this._cfg.tables],o(M),M),y._storeNames=o(M),this},oa.prototype.upgrade=function(m){return this._cfg.contentUpgrade=Rt(this._cfg.contentUpgrade||se,m),this},oa);function oa(){}function qu(m,y){var P=m._dbNamesDB;return P||(P=m._dbNamesDB=new wo(vl,{addons:[],indexedDB:m,IDBKeyRange:y})).version(1).stores({dbnames:"name"}),P.table("dbnames")}function Ku(m){return m&&typeof m.databases=="function"}function sa(m){return ta(function(){return Le.letThrough=!0,m()})}function Hu(m){return!("from"in m)}var Rn=function(m,y){if(!this){var P=new Rn;return m&&"d"in m&&l(P,m),P}l(this,arguments.length?{d:1,from:m,to:1<arguments.length?y:m}:{d:0})};function ds(m,y,P){var k=pt(y,P);if(!isNaN(k)){if(0<k)throw RangeError();if(Hu(m))return l(m,{from:y,to:P,d:1});var M=m.l,k=m.r;if(pt(P,m.from)<0)return M?ds(M,y,P):m.l={from:y,to:P,d:1,l:null,r:null},xd(m);if(0<pt(y,m.to))return k?ds(k,y,P):m.r={from:y,to:P,d:1,l:null,r:null},xd(m);pt(y,m.from)<0&&(m.from=y,m.l=null,m.d=k?k.d+1:1),0<pt(P,m.to)&&(m.to=P,m.r=null,m.d=m.l?m.l.d+1:1),P=!m.r,M&&!m.l&&hs(m,M),k&&P&&hs(m,k)}}function hs(m,y){Hu(y)||function P(k,K){var F=K.from,B=K.to,W=K.l,K=K.r;ds(k,F,B),W&&P(k,W),K&&P(k,K)}(m,y)}function Pl(m,y){var P=Kn(y),k=P.next();if(k.done)return!1;for(var M=k.value,F=Kn(m),B=F.next(M.from),W=B.value;!k.done&&!B.done;){if(pt(W.from,M.to)<=0&&0<=pt(W.to,M.from))return!0;pt(M.from,W.from)<0?M=(k=P.next(W.from)).value:W=(B=F.next(M.from)).value}return!1}function Kn(m){var y=Hu(m)?null:{s:0,n:m};return{next:function(P){for(var k=0<arguments.length;y;)switch(y.s){case 0:if(y.s=1,k)for(;y.n.l&&pt(P,y.n.from)<0;)y={up:y,n:y.n.l,s:1};else for(;y.n.l;)y={up:y,n:y.n.l,s:1};case 1:if(y.s=2,!k||pt(P,y.n.to)<=0)return{value:y.n,done:!1};case 2:if(y.n.r){y.s=3,y={up:y,n:y.n.r,s:0};continue}case 3:y=y.up}return{done:!0}}}}function xd(m){var y,P,k=(((y=m.r)===null||y===void 0?void 0:y.d)||0)-(((P=m.l)===null||P===void 0?void 0:P.d)||0),M=1<k?"r":k<-1?"l":"";M&&(y=M=="r"?"l":"r",P=r({},m),k=m[M],m.from=k.from,m.to=k.to,m[M]=k[M],P[M]=k[y],(m[y]=P).d=wd(P)),m.d=wd(m)}function wd(P){var y=P.r,P=P.l;return(y?P?Math.max(y.d,P.d):y.d:P?P.d:0)+1}function la(m,y){return o(y).forEach(function(P){m[P]?hs(m[P],y[P]):m[P]=function k(M){var F,B,W={};for(F in M)f(M,F)&&(B=M[F],W[F]=!B||typeof B!="object"||D.has(B.constructor)?B:k(B));return W}(y[P])}),m}function p(m,y){return m.all||y.all||Object.keys(m).some(function(P){return y[P]&&Pl(y[P],m[P])})}h(Rn.prototype,((Di={add:function(m){return hs(this,m),this},addKey:function(m){return ds(this,m,m),this},addKeys:function(m){var y=this;return m.forEach(function(P){return ds(y,P,P)}),this},hasKey:function(m){var y=Kn(this).next(m).value;return y&&pt(y.from,m)<=0&&0<=pt(y.to,m)}})[ce]=function(){return Kn(this)},Di));var O={},N={},z=!1;function oe(m){la(N,m),z||(z=!0,setTimeout(function(){z=!1,ue(N,!(N={}))},0))}function ue(m,y){y===void 0&&(y=!1);var P=new Set;if(m.all)for(var k=0,M=Object.values(O);k<M.length;k++)Oe(B=M[k],m,P,y);else for(var F in m){var B,W=/^idb\:\/\/(.*)\/(.*)\//.exec(F);W&&(F=W[1],W=W[2],(B=O["idb://".concat(F,"/").concat(W)])&&Oe(B,m,P,y))}P.forEach(function(K){return K()})}function Oe(m,y,P,k){for(var M=[],F=0,B=Object.entries(m.queries.query);F<B.length;F++){for(var W=B[F],K=W[0],G=[],J=0,q=W[1];J<q.length;J++){var te=q[J];p(y,te.obsSet)?te.subscribers.forEach(function(Z){return P.add(Z)}):k&&G.push(te)}k&&M.push([K,G])}if(k)for(var H=0,Q=M;H<Q.length;H++){var ee=Q[H],K=ee[0],G=ee[1];m.queries.query[K]=G}}function st(m){var y=m._state,P=m._deps.indexedDB;if(y.isBeingOpened||m.idbdb)return y.dbReadyPromise.then(function(){return y.dbOpenError?Bt(y.dbOpenError):m});y.isBeingOpened=!0,y.dbOpenError=null,y.openComplete=!1;var k=y.openCanceller,M=Math.round(10*m.verno),F=!1;function B(){if(y.openCanceller!==k)throw new X.DatabaseClosed("db.open() was cancelled")}function W(){return new xe(function(te,H){if(B(),!P)throw new X.MissingAPI;var Q=m.name,ee=y.autoSchema||!M?P.open(Q):P.open(Q,M);if(!ee)throw new X.MissingAPI;ee.onerror=Br(H),ee.onblocked=zt(m._fireOnBlocked),ee.onupgradeneeded=zt(function(Z){var ie;J=ee.transaction,y.autoSchema&&!m._options.allowEmptyDB?(ee.onerror=Ra,J.abort(),ee.result.close(),(ie=P.deleteDatabase(Q)).onsuccess=ie.onerror=zt(function(){H(new X.NoSuchDatabase("Database ".concat(Q," doesnt exist")))})):(J.onerror=Br(H),Z=Z.oldVersion>Math.pow(2,62)?0:Z.oldVersion,q=Z<1,m.idbdb=ee.result,F&&Bu(m,J),Fm(m,Z/10,J,H))},H),ee.onsuccess=zt(function(){J=null;var Z,ie,fe,he,pe,_e=m.idbdb=ee.result,ke=_(_e.objectStoreNames);if(0<ke.length)try{var Te=_e.transaction((he=ke).length===1?he[0]:he,"readonly");if(y.autoSchema)ie=_e,fe=Te,(Z=m).verno=ie.version/10,fe=Z._dbSchema=Tl(0,ie,fe),Z._storeNames=_(ie.objectStoreNames,0),Sl(Z,[Z._allTables],o(fe),fe);else if(fs(m,m._dbSchema,Te),((pe=bd(Tl(0,(pe=m).idbdb,Te),pe._dbSchema)).add.length||pe.change.some(function(Pe){return Pe.add.length||Pe.change.length}))&&!F)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),_e.close(),M=_e.version+1,F=!0,te(W());$a(m,Te)}catch{}yo.push(m),_e.onversionchange=zt(function(Pe){y.vcFired=!0,m.on("versionchange").fire(Pe)}),_e.onclose=zt(function(Pe){m.on("close").fire(Pe)}),q&&(pe=m._deps,Te=Q,_e=pe.indexedDB,pe=pe.IDBKeyRange,Ku(_e)||Te===vl||qu(_e,pe).put({name:Te}).catch(se)),te()},H)}).catch(function(te){switch(te==null?void 0:te.name){case"UnknownError":if(0<y.PR1398_maxLoop)return y.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),W();break;case"VersionError":if(0<M)return M=0,W()}return xe.reject(te)})}var K,G=y.dbReadyResolve,J=null,q=!1;return xe.race([k,(typeof navigator>"u"?xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(te){function H(){return indexedDB.databases().finally(te)}K=setInterval(H,100),H()}).finally(function(){return clearInterval(K)}):Promise.resolve()).then(W)]).then(function(){return B(),y.onReadyBeingFired=[],xe.resolve(sa(function(){return m.on.ready.fire(m.vip)})).then(function te(){if(0<y.onReadyBeingFired.length){var H=y.onReadyBeingFired.reduce(Rt,se);return y.onReadyBeingFired=[],xe.resolve(sa(function(){return H(m.vip)})).then(te)}})}).finally(function(){y.openCanceller===k&&(y.onReadyBeingFired=null,y.isBeingOpened=!1)}).catch(function(te){y.dbOpenError=te;try{J&&J.abort()}catch{}return k===y.openCanceller&&m._close(),Bt(te)}).finally(function(){y.openComplete=!0,G()}).then(function(){var te;return q&&(te={},m.tables.forEach(function(H){H.schema.indexes.forEach(function(Q){Q.name&&(te["idb://".concat(m.name,"/").concat(H.name,"/").concat(Q.name)]=new Rn(-1/0,[[[]]]))}),te["idb://".concat(m.name,"/").concat(H.name,"/")]=te["idb://".concat(m.name,"/").concat(H.name,"/:dels")]=new Rn(-1/0,[[[]]])}),Ur(ls).fire(te),ue(te,!0)),m})}function ln(m){function y(F){return m.next(F)}var P=M(y),k=M(function(F){return m.throw(F)});function M(F){return function(K){var W=F(K),K=W.value;return W.done?K:K&&typeof K.then=="function"?K.then(P,k):s(K)?Promise.all(K).then(P,k):P(K)}}return M(y)()}function Tt(m,y,P){for(var k=s(m)?m.slice():[m],M=0;M<P;++M)k.push(y);return k}var Cn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(m){return r(r({},m),{table:function(y){var P=m.table(y),k=P.schema,M={},F=[];function B(q,te,H){var Q=qr(q),ee=M[Q]=M[Q]||[],Z=q==null?0:typeof q=="string"?1:q.length,ie=0<te,ie=r(r({},H),{name:ie?"".concat(Q,"(virtual-from:").concat(H.name,")"):H.name,lowLevelIndex:H,isVirtual:ie,keyTail:te,keyLength:Z,extractKey:Vu(q),unique:!ie&&H.unique});return ee.push(ie),ie.isPrimaryKey||F.push(ie),1<Z&&B(Z===2?q[0]:q.slice(0,Z-1),te+1,H),ee.sort(function(fe,he){return fe.keyTail-he.keyTail}),ie}y=B(k.primaryKey.keyPath,0,k.primaryKey),M[":id"]=[y];for(var W=0,K=k.indexes;W<K.length;W++){var G=K[W];B(G.keyPath,0,G)}function J(q){var te,H=q.query.index;return H.isVirtual?r(r({},q),{query:{index:H.lowLevelIndex,range:(te=q.query.range,H=H.keyTail,{type:te.type===1?2:te.type,lower:Tt(te.lower,te.lowerOpen?m.MAX_KEY:m.MIN_KEY,H),lowerOpen:!0,upper:Tt(te.upper,te.upperOpen?m.MIN_KEY:m.MAX_KEY,H),upperOpen:!0})}}):q}return r(r({},P),{schema:r(r({},k),{primaryKey:y,indexes:F,getIndexByKeyPath:function(q){return(q=M[qr(q)])&&q[0]}}),count:function(q){return P.count(J(q))},query:function(q){return P.query(J(q))},openCursor:function(q){var te=q.query.index,H=te.keyTail,Q=te.isVirtual,ee=te.keyLength;return Q?P.openCursor(J(q)).then(function(ie){return ie&&Z(ie)}):P.openCursor(q);function Z(ie){return Object.create(ie,{continue:{value:function(fe){fe!=null?ie.continue(Tt(fe,q.reverse?m.MAX_KEY:m.MIN_KEY,H)):q.unique?ie.continue(ie.key.slice(0,ee).concat(q.reverse?m.MIN_KEY:m.MAX_KEY,H)):ie.continue()}},continuePrimaryKey:{value:function(fe,he){ie.continuePrimaryKey(Tt(fe,m.MAX_KEY,H),he)}},primaryKey:{get:function(){return ie.primaryKey}},key:{get:function(){var fe=ie.key;return ee===1?fe[0]:fe.slice(0,ee)}},value:{get:function(){return ie.value}}})}}})}})}};function Kr(m,y,P,k){return P=P||{},k=k||"",o(m).forEach(function(M){var F,B,W;f(y,M)?(F=m[M],B=y[M],typeof F=="object"&&typeof B=="object"&&F&&B?(W=ae(F))!==ae(B)?P[k+M]=y[M]:W==="Object"?Kr(F,B,P,k+M+"."):F!==B&&(P[k+M]=y[M]):F!==B&&(P[k+M]=y[M])):P[k+M]=void 0}),o(y).forEach(function(M){f(m,M)||(P[k+M]=y[M])}),P}function ua(m,y){return y.type==="delete"?y.keys:y.keys||y.values.map(m.extractKey)}var La={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(m){return r(r({},m),{table:function(y){var P=m.table(y),k=P.schema.primaryKey;return r(r({},P),{mutate:function(M){var F=Le.trans,B=F.table(y).hook,W=B.deleting,K=B.creating,G=B.updating;switch(M.type){case"add":if(K.fire===se)break;return F._promise("readwrite",function(){return J(M)},!0);case"put":if(K.fire===se&&G.fire===se)break;return F._promise("readwrite",function(){return J(M)},!0);case"delete":if(W.fire===se)break;return F._promise("readwrite",function(){return J(M)},!0);case"deleteRange":if(W.fire===se)break;return F._promise("readwrite",function(){return function q(te,H,Q){return P.query({trans:te,values:!1,query:{index:k,range:H},limit:Q}).then(function(ee){var Z=ee.result;return J({type:"delete",keys:Z,trans:te}).then(function(ie){return 0<ie.numFailures?Promise.reject(ie.failures[0]):Z.length<Q?{failures:[],numFailures:0,lastResult:void 0}:q(te,r(r({},H),{lower:Z[Z.length-1],lowerOpen:!0}),Q)})})}(M.trans,M.range,1e4)},!0)}return P.mutate(M);function J(q){var te,H,Q,ee=Le.trans,Z=q.keys||ua(k,q);if(!Z)throw new Error("Keys missing");return(q=q.type==="add"||q.type==="put"?r(r({},q),{keys:Z}):r({},q)).type!=="delete"&&(q.values=i([],q.values)),q.keys&&(q.keys=i([],q.keys)),te=P,Q=Z,((H=q).type==="add"?Promise.resolve([]):te.getMany({trans:H.trans,keys:Q,cache:"immutable"})).then(function(ie){var fe=Z.map(function(he,pe){var _e,ke,Te,Pe=ie[pe],Me={onerror:null,onsuccess:null};return q.type==="delete"?W.fire.call(Me,he,Pe,ee):q.type==="add"||Pe===void 0?(_e=K.fire.call(Me,he,q.values[pe],ee),he==null&&_e!=null&&(q.keys[pe]=he=_e,k.outbound||E(q.values[pe],k.keyPath,he))):(_e=Kr(Pe,q.values[pe]),(ke=G.fire.call(Me,_e,he,Pe,ee))&&(Te=q.values[pe],Object.keys(ke).forEach(function(Ne){f(Te,Ne)?Te[Ne]=ke[Ne]:E(Te,Ne,ke[Ne])}))),Me});return P.mutate(q).then(function(he){for(var pe=he.failures,_e=he.results,ke=he.numFailures,he=he.lastResult,Te=0;Te<Z.length;++Te){var Pe=(_e||Z)[Te],Me=fe[Te];Pe==null?Me.onerror&&Me.onerror(pe[Te]):Me.onsuccess&&Me.onsuccess(q.type==="put"&&ie[Te]?q.values[Te]:Pe)}return{failures:pe,results:_e,numFailures:ke,lastResult:he}}).catch(function(he){return fe.forEach(function(pe){return pe.onerror&&pe.onerror(he)}),Promise.reject(he)})})}}})}})}};function ca(m,y,P){try{if(!y||y.keys.length<m.length)return null;for(var k=[],M=0,F=0;M<y.keys.length&&F<m.length;++M)pt(y.keys[M],m[F])===0&&(k.push(P?L(y.values[M]):y.values[M]),++F);return k.length===m.length?k:null}catch{return null}}var Gu={stack:"dbcore",level:-1,create:function(m){return{table:function(y){var P=m.table(y);return r(r({},P),{getMany:function(k){if(!k.cache)return P.getMany(k);var M=ca(k.keys,k.trans._cache,k.cache==="clone");return M?xe.resolve(M):P.getMany(k).then(function(F){return k.trans._cache={keys:k.keys,values:k.cache==="clone"?L(F):F},F})},mutate:function(k){return k.type!=="add"&&(k.trans._cache=null),P.mutate(k)}})}}}};function Yu(m,y){return m.trans.mode==="readonly"&&!!m.subscr&&!m.trans.explicit&&m.trans.db._options.cache!=="disabled"&&!y.schema.primaryKey.outbound}function pP(m,y){switch(m){case"query":return y.values&&!y.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Zz={stack:"dbcore",level:0,name:"Observability",create:function(m){var y=m.schema.name,P=new Rn(m.MIN_KEY,m.MAX_KEY);return r(r({},m),{transaction:function(k,M,F){if(Le.subscr&&M!=="readonly")throw new X.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Le.querier));return m.transaction(k,M,F)},table:function(k){var M=m.table(k),F=M.schema,B=F.primaryKey,q=F.indexes,W=B.extractKey,K=B.outbound,G=B.autoIncrement&&q.filter(function(H){return H.compound&&H.keyPath.includes(B.keyPath)}),J=r(r({},M),{mutate:function(H){function Q(Ne){return Ne="idb://".concat(y,"/").concat(k,"/").concat(Ne),he[Ne]||(he[Ne]=new Rn)}var ee,Z,ie,fe=H.trans,he=H.mutatedParts||(H.mutatedParts={}),pe=Q(""),_e=Q(":dels"),ke=H.type,Me=H.type==="deleteRange"?[H.range]:H.type==="delete"?[H.keys]:H.values.length<50?[ua(B,H).filter(function(Ne){return Ne}),H.values]:[],Te=Me[0],Pe=Me[1],Me=H.trans._cache;return s(Te)?(pe.addKeys(Te),(Me=ke==="delete"||Te.length===Pe.length?ca(Te,Me):null)||_e.addKeys(Te),(Me||Pe)&&(ee=Q,Z=Me,ie=Pe,F.indexes.forEach(function(Ne){var Re=ee(Ne.name||"");function lt(rt){return rt!=null?Ne.extractKey(rt):null}function wt(rt){return Ne.multiEntry&&s(rt)?rt.forEach(function(mn){return Re.addKey(mn)}):Re.addKey(rt)}(Z||ie).forEach(function(rt,hr){var Ze=Z&&lt(Z[hr]),hr=ie&&lt(ie[hr]);pt(Ze,hr)!==0&&(Ze!=null&&wt(Ze),hr!=null&&wt(hr))})}))):Te?(Pe={from:(Pe=Te.lower)!==null&&Pe!==void 0?Pe:m.MIN_KEY,to:(Pe=Te.upper)!==null&&Pe!==void 0?Pe:m.MAX_KEY},_e.add(Pe),pe.add(Pe)):(pe.add(P),_e.add(P),F.indexes.forEach(function(Ne){return Q(Ne.name).add(P)})),M.mutate(H).then(function(Ne){return!Te||H.type!=="add"&&H.type!=="put"||(pe.addKeys(Ne.results),G&&G.forEach(function(Re){for(var lt=H.values.map(function(Ze){return Re.extractKey(Ze)}),wt=Re.keyPath.findIndex(function(Ze){return Ze===B.keyPath}),rt=0,mn=Ne.results.length;rt<mn;++rt)lt[rt][wt]=Ne.results[rt];Q(Re.name).addKeys(lt)})),fe.mutatedParts=la(fe.mutatedParts||{},he),Ne})}}),q=function(Q){var ee=Q.query,Q=ee.index,ee=ee.range;return[Q,new Rn((Q=ee.lower)!==null&&Q!==void 0?Q:m.MIN_KEY,(ee=ee.upper)!==null&&ee!==void 0?ee:m.MAX_KEY)]},te={get:function(H){return[B,new Rn(H.key)]},getMany:function(H){return[B,new Rn().addKeys(H.keys)]},count:q,query:q,openCursor:q};return o(te).forEach(function(H){J[H]=function(Q){var ee=Le.subscr,Z=!!ee,ie=Yu(Le,M)&&pP(H,Q)?Q.obsSet={}:ee;if(Z){var fe=function(Pe){return Pe="idb://".concat(y,"/").concat(k,"/").concat(Pe),ie[Pe]||(ie[Pe]=new Rn)},he=fe(""),pe=fe(":dels"),ee=te[H](Q),Z=ee[0],ee=ee[1];if((H==="query"&&Z.isPrimaryKey&&!Q.values?pe:fe(Z.name||"")).add(ee),!Z.isPrimaryKey){if(H!=="count"){var _e=H==="query"&&K&&Q.values&&M.query(r(r({},Q),{values:!1}));return M[H].apply(this,arguments).then(function(Pe){if(H==="query"){if(K&&Q.values)return _e.then(function(lt){return lt=lt.result,he.addKeys(lt),Pe});var Me=Q.values?Pe.result.map(W):Pe.result;(Q.values?he:pe).addKeys(Me)}else if(H==="openCursor"){var Ne=Pe,Re=Q.values;return Ne&&Object.create(Ne,{key:{get:function(){return pe.addKey(Ne.primaryKey),Ne.key}},primaryKey:{get:function(){var lt=Ne.primaryKey;return pe.addKey(lt),lt}},value:{get:function(){return Re&&he.addKey(Ne.primaryKey),Ne.value}}})}return Pe})}pe.add(P)}}return M[H].apply(this,arguments)}}),J}})}};function mP(m,y,P){if(P.numFailures===0)return y;if(y.type==="deleteRange")return null;var k=y.keys?y.keys.length:"values"in y&&y.values?y.values.length:1;return P.numFailures===k?null:(y=r({},y),s(y.keys)&&(y.keys=y.keys.filter(function(M,F){return!(F in P.failures)})),"values"in y&&s(y.values)&&(y.values=y.values.filter(function(M,F){return!(F in P.failures)})),y)}function $b(m,y){return P=m,((k=y).lower===void 0||(k.lowerOpen?0<pt(P,k.lower):0<=pt(P,k.lower)))&&(m=m,(y=y).upper===void 0||(y.upperOpen?pt(m,y.upper)<0:pt(m,y.upper)<=0));var P,k}function gP(m,y,te,k,M,F){if(!te||te.length===0)return m;var B=y.query.index,W=B.multiEntry,K=y.query.range,G=k.schema.primaryKey.extractKey,J=B.extractKey,q=(B.lowLevelIndex||B).extractKey,te=te.reduce(function(H,Q){var ee=H,Z=[];if(Q.type==="add"||Q.type==="put")for(var ie=new Rn,fe=Q.values.length-1;0<=fe;--fe){var he,pe=Q.values[fe],_e=G(pe);ie.hasKey(_e)||(he=J(pe),(W&&s(he)?he.some(function(Ne){return $b(Ne,K)}):$b(he,K))&&(ie.addKey(_e),Z.push(pe)))}switch(Q.type){case"add":var ke=new Rn().addKeys(y.values?H.map(function(Re){return G(Re)}):H),ee=H.concat(y.values?Z.filter(function(Re){return Re=G(Re),!ke.hasKey(Re)&&(ke.addKey(Re),!0)}):Z.map(function(Re){return G(Re)}).filter(function(Re){return!ke.hasKey(Re)&&(ke.addKey(Re),!0)}));break;case"put":var Te=new Rn().addKeys(Q.values.map(function(Re){return G(Re)}));ee=H.filter(function(Re){return!Te.hasKey(y.values?G(Re):Re)}).concat(y.values?Z:Z.map(function(Re){return G(Re)}));break;case"delete":var Pe=new Rn().addKeys(Q.keys);ee=H.filter(function(Re){return!Pe.hasKey(y.values?G(Re):Re)});break;case"deleteRange":var Me=Q.range;ee=H.filter(function(Re){return!$b(G(Re),Me)})}return ee},m);return te===m?m:(te.sort(function(H,Q){return pt(q(H),q(Q))||pt(G(H),G(Q))}),y.limit&&y.limit<1/0&&(te.length>y.limit?te.length=y.limit:m.length===y.limit&&te.length<y.limit&&(M.dirty=!0)),F?Object.freeze(te):te)}function yP(m,y){return pt(m.lower,y.lower)===0&&pt(m.upper,y.upper)===0&&!!m.lowerOpen==!!y.lowerOpen&&!!m.upperOpen==!!y.upperOpen}function eB(m,y){return function(P,k,M,F){if(P===void 0)return k!==void 0?-1:0;if(k===void 0)return 1;if((k=pt(P,k))===0){if(M&&F)return 0;if(M)return 1;if(F)return-1}return k}(m.lower,y.lower,m.lowerOpen,y.lowerOpen)<=0&&0<=function(P,k,M,F){if(P===void 0)return k!==void 0?1:0;if(k===void 0)return-1;if((k=pt(P,k))===0){if(M&&F)return 0;if(M)return-1;if(F)return 1}return k}(m.upper,y.upper,m.upperOpen,y.upperOpen)}function tB(m,y,P,k){m.subscribers.add(P),k.addEventListener("abort",function(){var M,F;m.subscribers.delete(P),m.subscribers.size===0&&(M=m,F=y,setTimeout(function(){M.subscribers.size===0&&Y(F,M)},3e3))})}var nB={stack:"dbcore",level:0,name:"Cache",create:function(m){var y=m.schema.name;return r(r({},m),{transaction:function(P,k,M){var F,B,W=m.transaction(P,k,M);return k==="readwrite"&&(B=(F=new AbortController).signal,M=function(K){return function(){if(F.abort(),k==="readwrite"){for(var G=new Set,J=0,q=P;J<q.length;J++){var te=q[J],H=O["idb://".concat(y,"/").concat(te)];if(H){var Q=m.table(te),ee=H.optimisticOps.filter(function(Re){return Re.trans===W});if(W._explicit&&K&&W.mutatedParts)for(var Z=0,ie=Object.values(H.queries.query);Z<ie.length;Z++)for(var fe=0,he=(ke=ie[Z]).slice();fe<he.length;fe++)p((Te=he[fe]).obsSet,W.mutatedParts)&&(Y(ke,Te),Te.subscribers.forEach(function(Re){return G.add(Re)}));else if(0<ee.length){H.optimisticOps=H.optimisticOps.filter(function(Re){return Re.trans!==W});for(var pe=0,_e=Object.values(H.queries.query);pe<_e.length;pe++)for(var ke,Te,Pe,Me=0,Ne=(ke=_e[pe]).slice();Me<Ne.length;Me++)(Te=Ne[Me]).res!=null&&W.mutatedParts&&(K&&!Te.dirty?(Pe=Object.isFrozen(Te.res),Pe=gP(Te.res,Te.req,ee,Q,Te,Pe),Te.dirty?(Y(ke,Te),Te.subscribers.forEach(function(Re){return G.add(Re)})):Pe!==Te.res&&(Te.res=Pe,Te.promise=xe.resolve({result:Pe}))):(Te.dirty&&Y(ke,Te),Te.subscribers.forEach(function(Re){return G.add(Re)})))}}}G.forEach(function(Re){return Re()})}}},W.addEventListener("abort",M(!1),{signal:B}),W.addEventListener("error",M(!1),{signal:B}),W.addEventListener("complete",M(!0),{signal:B})),W},table:function(P){var k=m.table(P),M=k.schema.primaryKey;return r(r({},k),{mutate:function(F){var B=Le.trans;if(M.outbound||B.db._options.cache==="disabled"||B.explicit||B.idbtrans.mode!=="readwrite")return k.mutate(F);var W=O["idb://".concat(y,"/").concat(P)];return W?(B=k.mutate(F),F.type!=="add"&&F.type!=="put"||!(50<=F.values.length||ua(M,F).some(function(K){return K==null}))?(W.optimisticOps.push(F),F.mutatedParts&&oe(F.mutatedParts),B.then(function(K){0<K.numFailures&&(Y(W.optimisticOps,F),(K=mP(0,F,K))&&W.optimisticOps.push(K),F.mutatedParts&&oe(F.mutatedParts))}),B.catch(function(){Y(W.optimisticOps,F),F.mutatedParts&&oe(F.mutatedParts)})):B.then(function(K){var G=mP(0,r(r({},F),{values:F.values.map(function(J,q){var te;return K.failures[q]?J:(J=(te=M.keyPath)!==null&&te!==void 0&&te.includes(".")?L(J):r({},J),E(J,M.keyPath,K.results[q]),J)})}),K);W.optimisticOps.push(G),queueMicrotask(function(){return F.mutatedParts&&oe(F.mutatedParts)})}),B):k.mutate(F)},query:function(F){if(!Yu(Le,k)||!pP("query",F))return k.query(F);var B=((G=Le.trans)===null||G===void 0?void 0:G.db._options.cache)==="immutable",q=Le,W=q.requery,K=q.signal,G=function(Q,ee,Z,ie){var fe=O["idb://".concat(Q,"/").concat(ee)];if(!fe)return[];if(!(ee=fe.queries[Z]))return[null,!1,fe,null];var he=ee[(ie.query?ie.query.index.name:null)||""];if(!he)return[null,!1,fe,null];switch(Z){case"query":var pe=he.find(function(_e){return _e.req.limit===ie.limit&&_e.req.values===ie.values&&yP(_e.req.query.range,ie.query.range)});return pe?[pe,!0,fe,he]:[he.find(function(_e){return("limit"in _e.req?_e.req.limit:1/0)>=ie.limit&&(!ie.values||_e.req.values)&&eB(_e.req.query.range,ie.query.range)}),!1,fe,he];case"count":return pe=he.find(function(_e){return yP(_e.req.query.range,ie.query.range)}),[pe,!!pe,fe,he]}}(y,P,"query",F),J=G[0],q=G[1],te=G[2],H=G[3];return J&&q?J.obsSet=F.obsSet:(q=k.query(F).then(function(Q){var ee=Q.result;if(J&&(J.res=ee),B){for(var Z=0,ie=ee.length;Z<ie;++Z)Object.freeze(ee[Z]);Object.freeze(ee)}else Q.result=L(ee);return Q}).catch(function(Q){return H&&J&&Y(H,J),Promise.reject(Q)}),J={obsSet:F.obsSet,promise:q,subscribers:new Set,type:"query",req:F,dirty:!1},H?H.push(J):(H=[J],(te=te||(O["idb://".concat(y,"/").concat(P)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[F.query.index.name||""]=H)),tB(J,H,W,K),J.promise.then(function(Q){return{result:gP(Q.result,F,te==null?void 0:te.optimisticOps,k,J,B)}})}})}})}};function Bm(m,y){return new Proxy(m,{get:function(P,k,M){return k==="db"?y:Reflect.get(P,k,M)}})}var wo=(wn.prototype.version=function(m){if(isNaN(m)||m<.1)throw new X.Type("Given version is not a positive number");if(m=Math.round(10*m)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,m);var y=this._versions,P=y.filter(function(k){return k._cfg.version===m})[0];return P||(P=new this.Version(m),y.push(P),y.sort(zu),P.stores({}),this._state.autoSchema=!1,P)},wn.prototype._whenReady=function(m){var y=this;return this.idbdb&&(this._state.openComplete||Le.letThrough||this._vip)?m():new xe(function(P,k){if(y._state.openComplete)return k(new X.DatabaseClosed(y._state.dbOpenError));if(!y._state.isBeingOpened){if(!y._state.autoOpen)return void k(new X.DatabaseClosed);y.open().catch(se)}y._state.dbReadyPromise.then(P,k)}).then(m)},wn.prototype.use=function(m){var y=m.stack,P=m.create,k=m.level,M=m.name;return M&&this.unuse({stack:y,name:M}),m=this._middlewares[y]||(this._middlewares[y]=[]),m.push({stack:y,create:P,level:k??10,name:M}),m.sort(function(F,B){return F.level-B.level}),this},wn.prototype.unuse=function(m){var y=m.stack,P=m.name,k=m.create;return y&&this._middlewares[y]&&(this._middlewares[y]=this._middlewares[y].filter(function(M){return k?M.create!==k:!!P&&M.name!==P})),this},wn.prototype.open=function(){var m=this;return ji(zr,function(){return st(m)})},wn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var m=this._state,y=yo.indexOf(this);if(0<=y&&yo.splice(y,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}m.isBeingOpened||(m.dbReadyPromise=new xe(function(P){m.dbReadyResolve=P}),m.openCanceller=new xe(function(P,k){m.cancelOpen=k}))},wn.prototype.close=function(P){var y=(P===void 0?{disableAutoOpen:!0}:P).disableAutoOpen,P=this._state;y?(P.isBeingOpened&&P.cancelOpen(new X.DatabaseClosed),this._close(),P.autoOpen=!1,P.dbOpenError=new X.DatabaseClosed):(this._close(),P.autoOpen=this._options.autoOpen||P.isBeingOpened,P.openComplete=!1,P.dbOpenError=null)},wn.prototype.delete=function(m){var y=this;m===void 0&&(m={disableAutoOpen:!0});var P=0<arguments.length&&typeof arguments[0]!="object",k=this._state;return new xe(function(M,F){function B(){y.close(m);var W=y._deps.indexedDB.deleteDatabase(y.name);W.onsuccess=zt(function(){var K,G,J;K=y._deps,G=y.name,J=K.indexedDB,K=K.IDBKeyRange,Ku(J)||G===vl||qu(J,K).delete(G).catch(se),M()}),W.onerror=Br(F),W.onblocked=y._fireOnBlocked}if(P)throw new X.InvalidArgument("Invalid closeOptions argument to db.delete()");k.isBeingOpened?k.dbReadyPromise.then(B):B()})},wn.prototype.backendDB=function(){return this.idbdb},wn.prototype.isOpen=function(){return this.idbdb!==null},wn.prototype.hasBeenClosed=function(){var m=this._state.dbOpenError;return m&&m.name==="DatabaseClosed"},wn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},wn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(wn.prototype,"tables",{get:function(){var m=this;return o(this._allTables).map(function(y){return m._allTables[y]})},enumerable:!1,configurable:!0}),wn.prototype.transaction=function(){var m=(function(y,P,k){var M=arguments.length;if(M<2)throw new X.InvalidArgument("Too few arguments");for(var F=new Array(M-1);--M;)F[M-1]=arguments[M];return k=F.pop(),[y,R(F),k]}).apply(this,arguments);return this._transaction.apply(this,m)},wn.prototype._transaction=function(m,y,P){var k=this,M=Le.trans;M&&M.db===this&&m.indexOf("!")===-1||(M=null);var F,B,W=m.indexOf("?")!==-1;m=m.replace("!","").replace("?","");try{if(B=y.map(function(G){if(G=G instanceof k.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),m=="r"||m===Ru)F=Ru;else{if(m!="rw"&&m!=bl)throw new X.InvalidArgument("Invalid transaction mode: "+m);F=bl}if(M){if(M.mode===Ru&&F===bl){if(!W)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");M=null}M&&B.forEach(function(G){if(M&&M.storeNames.indexOf(G)===-1){if(!W)throw new X.SubTransaction("Table "+G+" not included in parent transaction.");M=null}}),W&&M&&!M.active&&(M=null)}}catch(G){return M?M._promise(null,function(J,q){q(G)}):Bt(G)}var K=(function G(J,q,te,H,Q){return xe.resolve().then(function(){var ee=Le.transless||Le,Z=J._createTransaction(q,te,J._dbSchema,H);if(Z.explicit=!0,ee={trans:Z,transless:ee},H)Z.idbtrans=H.idbtrans;else try{Z.create(),Z.idbtrans._explicit=!0,J._state.PR1398_maxLoop=3}catch(he){return he.name===le.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return G(J,q,te,null,Q)})):Bt(he)}var ie,fe=Ae(Q);return fe&&ja(),ee=xe.follow(function(){var he;(ie=Q.call(Z,Z))&&(fe?(he=Ii.bind(null,null),ie.then(he,he)):typeof ie.next=="function"&&typeof ie.throw=="function"&&(ie=ln(ie)))},ee),(ie&&typeof ie.then=="function"?xe.resolve(ie).then(function(he){return Z.active?he:Bt(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ee.then(function(){return ie})).then(function(he){return H&&Z._resolve(),Z._completion.then(function(){return he})}).catch(function(he){return Z._reject(he),Bt(he)})})}).bind(null,this,F,B,M,P);return M?M._promise(F,K,"lock"):Le.trans?ji(Le.transless,function(){return k._whenReady(K)}):this._whenReady(K)},wn.prototype.table=function(m){if(!f(this._allTables,m))throw new X.InvalidTable("Table ".concat(m," does not exist"));return this._allTables[m]},wn);function wn(m,y){var P=this;this._middlewares={},this.verno=0;var k=wn.dependencies;this._options=y=r({addons:wn.addons,autoOpen:!0,indexedDB:k.indexedDB,IDBKeyRange:k.IDBKeyRange,cache:"cloned"},y),this._deps={indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange},k=y.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var M,F,B,W,K,G={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:se,dbReadyPromise:null,cancelOpen:se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:y.autoOpen};G.dbReadyPromise=new xe(function(q){G.dbReadyResolve=q}),G.openCanceller=new xe(function(q,te){G.cancelOpen=te}),this._state=G,this.name=m,this.on=Ct(this,"populate","blocked","versionchange","close",{ready:[Rt,se]}),this.once=function(q,te){var H=function(){for(var Q=[],ee=0;ee<arguments.length;ee++)Q[ee]=arguments[ee];P.on(q).unsubscribe(H),te.apply(P,Q)};return P.on(q,H)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(q){return function(te,H){wn.vip(function(){var Q,ee=P._state;ee.openComplete?(ee.dbOpenError||xe.resolve().then(te),H&&q(te)):ee.onReadyBeingFired?(ee.onReadyBeingFired.push(te),H&&q(te)):(q(te),Q=P,H||q(function Z(){Q.on.ready.unsubscribe(te),Q.on.ready.unsubscribe(Z)}))})}}),this.Collection=(M=this,Da(bo.prototype,function(ie,Z){this.db=M;var H=hd,Q=null;if(Z)try{H=Z()}catch(fe){Q=fe}var ee=ie._ctx,Z=ee.table,ie=Z.hook.reading.fire;this._ctx={table:Z,index:ee.index,isPrimKey:!ee.index||Z.schema.primKey.keyPath&&ee.index===Z.schema.primKey.name,range:H,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Q,or:ee.or,valueMapper:ie!==Ke?ie:null}})),this.Table=(F=this,Da(os.prototype,function(q,te,H){this.db=F,this._tx=H,this.name=q,this.schema=te,this.hook=F._allTables[q]?F._allTables[q].hook:Ct(null,{creating:[ft,se],reading:[we,Ke],updating:[Zn,se],deleting:[Kt,se]})})),this.Transaction=(B=this,Da($m.prototype,function(q,te,H,Q,ee){var Z=this;q!=="readonly"&&te.forEach(function(ie){ie=(ie=H[ie])===null||ie===void 0?void 0:ie.yProps,ie&&(te=te.concat(ie.map(function(fe){return fe.updatesTable})))}),this.db=B,this.mode=q,this.storeNames=te,this.schema=H,this.chromeTransactionDurability=Q,this.idbtrans=null,this.on=Ct(this,"complete","error","abort"),this.parent=ee||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xe(function(ie,fe){Z._resolve=ie,Z._reject=fe}),this._completion.then(function(){Z.active=!1,Z.on.complete.fire()},function(ie){var fe=Z.active;return Z.active=!1,Z.on.error.fire(ie),Z.parent?Z.parent._reject(ie):fe&&Z.idbtrans&&Z.idbtrans.abort(),Bt(ie)})})),this.Version=(W=this,Da(zm.prototype,function(q){this.db=W,this._cfg={version:q,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(K=this,Da(aa.prototype,function(q,te,H){if(this.db=K,this._ctx={table:q,index:te===":id"?null:te,or:H},this._cmp=this._ascending=pt,this._descending=function(Q,ee){return pt(ee,Q)},this._max=function(Q,ee){return 0<pt(Q,ee)?Q:ee},this._min=function(Q,ee){return pt(Q,ee)<0?Q:ee},this._IDBKeyRange=K._deps.IDBKeyRange,!this._IDBKeyRange)throw new X.MissingAPI})),this.on("versionchange",function(q){0<q.newVersion?console.warn("Another connection wants to upgrade database '".concat(P.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(P.name,"'. Closing db now to resume the delete request.")),P.close({disableAutoOpen:!1})}),this.on("blocked",function(q){!q.newVersion||q.newVersion<q.oldVersion?console.warn("Dexie.delete('".concat(P.name,"') was blocked")):console.warn("Upgrade '".concat(P.name,"' blocked by other connection holding version ").concat(q.oldVersion/10))}),this._maxKey=us(y.IDBKeyRange),this._createTransaction=function(q,te,H,Q){return new P.Transaction(q,te,H,P._options.chromeTransactionDurability,Q)},this._fireOnBlocked=function(q){P.on("blocked").fire(q),yo.filter(function(te){return te.name===P.name&&te!==P&&!te._state.vcFired}).map(function(te){return te.on("versionchange").fire(q)})},this.use(Gu),this.use(nB),this.use(Zz),this.use(Cn),this.use(La);var J=new Proxy(this,{get:function(q,te,H){if(te==="_vip")return!0;if(te==="table")return function(ee){return Bm(P.table(ee),J)};var Q=Reflect.get(q,te,H);return Q instanceof os?Bm(Q,J):te==="tables"?Q.map(function(ee){return Bm(ee,J)}):te==="_createTransaction"?function(){return Bm(Q.apply(this,arguments),J)}:Q}});this.vip=J,k.forEach(function(q){return q(P)})}var Um,Di=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",rB=(Lb.prototype.subscribe=function(m,y,P){return this._subscribe(m&&typeof m!="function"?m:{next:m,error:y,complete:P})},Lb.prototype[Di]=function(){return this},Lb);function Lb(m){this._subscribe=m}try{Um={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Um={indexedDB:null,IDBKeyRange:null}}function vP(m){var y,P=!1,k=new rB(function(M){var F=Ae(m),B,W=!1,K={},G={},J={get closed(){return W},unsubscribe:function(){W||(W=!0,B&&B.abort(),q&&Ur.storagemutated.unsubscribe(H))}};M.start&&M.start(J);var q=!1,te=function(){return yl(Q)},H=function(ee){la(K,ee),p(G,K)&&te()},Q=function(){var ee,Z,ie;!W&&Um.indexedDB&&(K={},ee={},B&&B.abort(),B=new AbortController,ie=function(fe){var he=er();try{F&&ja();var pe=ta(m,fe);return pe=F?pe.finally(Ii):pe}finally{he&&ki()}}(Z={subscr:ee,signal:B.signal,requery:te,querier:m,trans:null}),Promise.resolve(ie).then(function(fe){P=!0,y=fe,W||Z.signal.aborted||(K={},function(he){for(var pe in he)if(f(he,pe))return;return 1}(G=ee)||q||(Ur(ls,H),q=!0),yl(function(){return!W&&M.next&&M.next(fe)}))},function(fe){P=!1,["DatabaseClosedError","AbortError"].includes(fe==null?void 0:fe.name)||W||yl(function(){W||M.error&&M.error(fe)})}))};return setTimeout(te,0),J});return k.hasValue=function(){return P},k.getValue=function(){return y},k}var Cl=wo;function Vb(m){var y=ps;try{ps=!0,Ur.storagemutated.fire(m),ue(m,!0)}finally{ps=y}}h(Cl,r(r({},De),{delete:function(m){return new Cl(m,{addons:[]}).delete()},exists:function(m){return new Cl(m,{addons:[]}).open().then(function(y){return y.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(m){try{return y=Cl.dependencies,P=y.indexedDB,y=y.IDBKeyRange,(Ku(P)?Promise.resolve(P.databases()).then(function(k){return k.map(function(M){return M.name}).filter(function(M){return M!==vl})}):qu(P,y).toCollection().primaryKeys()).then(m)}catch{return Bt(new X.MissingAPI)}var y,P},defineClass:function(){return function(m){l(this,m)}},ignoreTransaction:function(m){return Le.trans?ji(Le.transless,m):m()},vip:sa,async:function(m){return function(){try{var y=ln(m.apply(this,arguments));return y&&typeof y.then=="function"?y:xe.resolve(y)}catch(P){return Bt(P)}}},spawn:function(m,y,P){try{var k=ln(m.apply(P,y||[]));return k&&typeof k.then=="function"?k:xe.resolve(k)}catch(M){return Bt(M)}},currentTransaction:{get:function(){return Le.trans||null}},waitFor:function(m,y){return y=xe.resolve(typeof m=="function"?Cl.ignoreTransaction(m):m).timeout(y||6e4),Le.trans?Le.trans.waitFor(y):y},Promise:xe,debug:{get:function(){return nt},set:function(m){Ft(m)}},derive:v,extend:l,props:h,override:A,Events:Ct,on:Ur,liveQuery:vP,extendObservabilitySet:la,getByKeyPath:C,setByKeyPath:E,delByKeyPath:function(m,y){typeof y=="string"?E(m,y,void 0):"length"in y&&[].map.call(y,function(P){E(m,P,void 0)})},shallowClone:T,deepClone:L,getObjectDiff:Kr,cmp:pt,asap:S,minKey:-1/0,addons:[],connections:yo,errnames:le,dependencies:Um,cache:O,semVer:"4.2.0",version:"4.2.0".split(".").map(function(m){return parseInt(m)}).reduce(function(m,y,P){return m+y/Math.pow(10,2*P)})})),Cl.maxKey=us(Cl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ur(ls,function(m){ps||(m=new CustomEvent(xo,{detail:m}),ps=!0,dispatchEvent(m),ps=!1)}),addEventListener(xo,function(m){m=m.detail,ps||Vb(m)}));var Xu,ps=!1,bP=function(){};return typeof BroadcastChannel<"u"&&((bP=function(){(Xu=new BroadcastChannel(xo)).onmessage=function(m){return m.data&&Vb(m.data)}})(),typeof Xu.unref=="function"&&Xu.unref(),Ur(ls,function(m){ps||Xu.postMessage(m)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(m){if(!wo.disableBfCache&&m.persisted){nt&&console.debug("Dexie: handling persisted pagehide"),Xu!=null&&Xu.close();for(var y=0,P=yo;y<P.length;y++)P[y].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(m){!wo.disableBfCache&&m.persisted&&(nt&&console.debug("Dexie: handling persisted pageshow"),bP(),Vb({all:new Rn(-1/0,[[]])}))})),xe.rejectionMapper=function(m,y){return!m||m instanceof je||m instanceof TypeError||m instanceof SyntaxError||!m.name||!Ie[m.name]?m:(y=new Ie[m.name](y||m.message,m),"stack"in m&&b(y,"stack",{get:function(){return this.inner.stack}}),y)},Ft(nt),r(wo,Object.freeze({__proto__:null,Dexie:wo,liveQuery:vP,Entity:pd,cmp:pt,PropModification:_l,replacePrefix:function(m,y){return new _l({replacePrefix:[m,y]})},add:function(m){return new _l({add:m})},remove:function(m){return new _l({remove:m})},default:wo,RangeSet:Rn,mergeRanges:hs,rangesOverlap:Pl}),{default:wo}),wo})})(lL);var AH=lL.exports;const z1=Vt(AH),ZC=Symbol.for("Dexie"),Gy=globalThis[ZC]||(globalThis[ZC]=z1);if(z1.semVer!==Gy.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${z1.semVer} and ${Gy.semVer}`);const{liveQuery:A2e,mergeRanges:T2e,rangesOverlap:P2e,RangeSet:C2e,cmp:O2e,Entity:k2e,PropModification:I2e,replacePrefix:j2e,add:N2e,remove:D2e,DexieYProvider:M2e}=Gy;class TH extends Gy{constructor(){super("LactoKeeperDB_v6");fa(this,"animals");fa(this,"fathers");fa(this,"parturitions");fa(this,"weighings");fa(this,"lots");fa(this,"origins");fa(this,"breedingGroups");fa(this,"serviceRecords");fa(this,"events");fa(this,"feedingPlans");this.version(1).stores({animals:"&id, motherId, fatherId, status, lifecycleStage, location, isReference, reproductiveStatus, breedingGroupId",fathers:"&id",parturitions:"&id, goatId, sireId, status",weighings:"&id, goatId, date",lots:"&id, name",origins:"&id, name",breedingGroups:"&id, sireId, status",serviceRecords:"++id, breedingGroupId, femaleId, serviceDate",events:"++id, animalId, date, type, lotName",feedingPlans:"++id, lotName"})}}const St=new TH,uL=V.createContext({animals:[],fathers:[],weighings:[],parturitions:[],lots:[],origins:[],breedingGroups:[],serviceRecords:[],events:[],feedingPlans:[],isLoading:!0,addAnimal:async()=>{},updateAnimal:async()=>{},startDryingProcess:async()=>{},setLactationAsDry:async()=>{},addLot:async()=>{},deleteLot:async()=>{},addOrigin:async()=>{},deleteOrigin:async()=>{},addBreedingGroup:async()=>"",updateBreedingGroup:async()=>{},addServiceRecord:async()=>{},addFeedingPlan:async()=>{},addBatchEvent:async()=>{},addWeighing:async()=>{},addParturition:async()=>{},fetchData:async()=>{},addFather:async()=>{}}),qt=()=>V.useContext(uL),PH=({children:t})=>{const{currentUser:e}=Y4(),[n,r]=V.useState([]),[i,a]=V.useState([]),[o,s]=V.useState([]),[l,u]=V.useState([]),[c,f]=V.useState([]),[h,g]=V.useState([]),[b,v]=V.useState([]),[x,w]=V.useState([]),[_,A]=V.useState([]),[I,S]=V.useState([]),[C,E]=V.useState(!0),T=V.useCallback(async()=>{try{const[le,Se,X,Ie,De,se,Ke,we,ot,ft]=await Promise.all([St.animals.toArray(),St.fathers.toArray(),St.weighings.toArray(),St.parturitions.toArray(),St.lots.toArray(),St.origins.toArray(),St.breedingGroups.toArray(),St.serviceRecords.toArray(),St.events.toArray(),St.feedingPlans.toArray()]);r(le),a(Se),s(X),u(Ie),f(De),g(se),v(Ke),w(we),A(ot),S(ft)}catch(le){console.error("Error al cargar datos locales:",le)}finally{E(!1)}},[]);V.useEffect(()=>{if(!e){E(!1),Promise.all([St.animals.clear(),St.fathers.clear(),St.weighings.clear(),St.parturitions.clear(),St.lots.clear(),St.origins.clear(),St.breedingGroups.clear(),St.serviceRecords.clear(),St.events.clear(),St.feedingPlans.clear()]).then(()=>{r([]),a([]),s([]),u([]),f([]),g([]),v([]),w([]),A([]),S([])});return}let le=[];return(async()=>{try{St.isOpen()||await St.open();const X=De=>RK(So(un,De),$K("userId","==",e.uid)),Ie=(De,se)=>{const Ke=zK(X(De),async we=>{const ot=we.docs.map(ft=>({...ft.data(),id:ft.id}));await se.bulkPut(ot),T()},we=>console.error(`Error sincronizando ${De}:`,we));le.push(Ke)};Ie("animals",St.animals),Ie("fathers",St.fathers),Ie("parturitions",St.parturitions),Ie("weighings",St.weighings),Ie("lots",St.lots),Ie("origins",St.origins),Ie("breedingGroups",St.breedingGroups),Ie("serviceRecords",St.serviceRecords),Ie("events",St.events),Ie("feedingPlans",St.feedingPlans)}catch(X){console.error("Fallo al abrir o sincronizar la base de datos local:",X)}})(),()=>{le.forEach(X=>X())}},[e,T]);const j=async le=>{if(!e)throw new Error("Usuario no autenticado");await kd(So(un,"events"),{...le,userId:e.uid})},R=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=jr(un,"animals",le.id);await Ax(Se,{...le,userId:e.uid})},D=async(le,Se)=>{if(!e)throw new Error("Usuario no autenticado");const X=jr(un,"animals",le),Ie=await FK(X);if(!Ie.exists())throw new Error("El animal no existe.");const De=Ie.data(),se=new Date().toISOString().split("T")[0];if(Se.location&&Se.location!==De.location&&await j({animalId:le,date:se,type:"Movimiento",details:`Movido del lote '${De.location||"N/A"}' al lote '${Se.location}'`}),Se.status&&Se.status!==De.status){let Ke=`Estado cambiado de '${De.status}' a '${Se.status}'`;Se.status==="Venta"&&Se.salePrice&&(Ke=`Vendido por $${Se.salePrice}`),Se.status==="Muerte"&&Se.deathReason&&(Ke=`Muerte. Causa: ${Se.deathReason}`),await j({animalId:le,date:se,type:"Cambio de Estado",details:Ke})}await pg(X,Se)},$=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=jr(un,"parturitions",le);await pg(Se,{status:"en-secado",dryingStartDate:new Date().toISOString().split("T")[0]})},L=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=jr(un,"parturitions",le);await pg(Se,{status:"seca"})},ne=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=le.toUpperCase().replace(/\s+/g,"_"),X=jr(un,"lots",Se);await Ax(X,{name:le,userId:e.uid})},ae=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=jr(un,"lots",le);await JC(Se)},ce=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=le.toUpperCase().replace(/\s+/g,"_"),X=jr(un,"origins",Se);await Ax(X,{name:le,userId:e.uid})},de=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=jr(un,"origins",le);await JC(Se)},Y=async(le,Se)=>{if(!e)throw new Error("Usuario no autenticado");await kd(So(un,le),{...Se,userId:e.uid})},re=async le=>Y("weighings",le),me=async le=>Y("fathers",le),Ae=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=F1(un),X=le.motherId.toUpperCase(),Ie=jr(un,"animals",X);Se.set(Ie,{id:X,sex:"Hembra",status:"Activo",birthDate:"N/A",userId:e.uid},{merge:!0});const De=jr(So(un,"parturitions"));Se.set(De,{goatId:X,parturitionDate:le.parturitionDate,sireId:le.sireId,offspringCount:le.offspring.length,parturitionType:le.parturitionType,status:"activa",userId:e.uid}),le.offspring.forEach(se=>{const Ke=se.id.toUpperCase(),we=jr(un,"animals",Ke);Se.set(we,{id:Ke,sex:se.sex,status:se.sex==="Macho"?"Descartado":"Activo",birthDate:le.parturitionDate,motherId:X,fatherId:le.sireId,birthWeight:parseFloat(se.birthWeight),userId:e.uid},{merge:!0})}),await Se.commit()},be=async le=>{if(!e)throw new Error("Usuario no autenticado");return(await kd(So(un,"breedingGroups"),{...le,userId:e.uid})).id},je=async(le,Se)=>{if(!e)throw new Error("Usuario no autenticado");const X=jr(un,"breedingGroups",le);await pg(X,Se)},We=async le=>{if(!e)throw new Error("Usuario no autenticado");await kd(So(un,"serviceRecords"),{...le,userId:e.uid})},at=async le=>{if(!e)throw new Error("Usuario no autenticado");const Se=n.filter(De=>De.location===le.lotName);if(Se.length===0){console.warn(`No se encontraron animales en el lote "${le.lotName}" para registrar el evento.`);return}const X=F1(un),Ie=So(un,"events");Se.forEach(De=>{const se=jr(Ie),Ke={animalId:De.id,date:le.date,type:le.type,details:le.details,lotName:le.lotName,notes:`Evento aplicado a todo el lote: ${le.lotName}`};X.set(se,{...Ke,userId:e.uid})}),await X.commit()},tt=async le=>{if(!e)throw new Error("Usuario no autenticado");await kd(So(un,"feedingPlans"),{...le,userId:e.uid})};return d.jsx(uL.Provider,{value:{animals:n,fathers:i,weighings:o,parturitions:l,lots:c,origins:h,breedingGroups:b,serviceRecords:x,events:_,feedingPlans:I,isLoading:C,addAnimal:R,updateAnimal:D,startDryingProcess:$,setLactationAsDry:L,addLot:ne,deleteLot:ae,addOrigin:ce,deleteOrigin:de,addBreedingGroup:be,updateBreedingGroup:je,addServiceRecord:We,addFeedingPlan:tt,addBatchEvent:at,addWeighing:re,addParturition:Ae,fetchData:T,addFather:me},children:t})},Ut=({isOpen:t,onClose:e,title:n,children:r,size:i="default"})=>{if(!t)return null;const a=i==="large"?"max-w-xl":"max-w-md";return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-50 animate-fade-in",onClick:e,children:d.jsxs("div",{className:`bg-zinc-900/50 border border-zinc-700/80 rounded-2xl shadow-2xl w-full m-4 text-white transform transition-all animate-slide-up ${a}`,onClick:o=>o.stopPropagation(),children:[d.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-zinc-800/80",children:[d.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:n}),d.jsx("button",{onClick:e,className:"p-1 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-700/50 transition-colors",children:d.jsx(dm,{size:20})})]}),d.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:r})]})})},eO=t=>{if(!t||t==="N/A")return 0;const e=new Date,n=new Date(t);let r=(e.getFullYear()-n.getFullYear())*12;return r-=n.getMonth(),r+=e.getMonth(),e.getDate()<n.getDate()&&r--,r<=0?0:r},B1=({isOpen:t,onClose:e,onSelect:n,animals:r,title:i,filterSex:a,minAgeMonths:o,maxAgeMonths:s})=>{const[l,u]=V.useState(""),[c,f]=V.useState("Activo"),h=V.useMemo(()=>r.filter(b=>!(a&&b.sex!==a)).filter(b=>{const v=b.isReference||!1;return c==="Referencia"?v:!v}).filter(b=>{const v=eO(b.birthDate);return!(o&&v<o||s&&v>s)}).filter(b=>l?b.id.toLowerCase().includes(l.toLowerCase()):!0),[r,l,c,a,o,s]),g=b=>{n(b),u("")};return d.jsx(Ut,{isOpen:t,onClose:e,title:i,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(rf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),d.jsx("input",{type:"search",placeholder:"Buscar por ID...",value:l,onChange:b=>u(b.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-amber"})]}),d.jsx("button",{onClick:()=>alert("Prximamente: Aadir nuevo animal de genealoga"),className:"p-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl","aria-label":"Aadir nuevo animal",children:d.jsx(Yo,{size:24})})]}),d.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[d.jsx("button",{onClick:()=>f("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${c==="Activo"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"Animales Activos"}),d.jsx("button",{onClick:()=>f("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${c==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"De Referencia"})]}),d.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:h.length>0?h.map(b=>d.jsxs("button",{onClick:()=>g(b.id),className:"w-full text-left p-3 bg-zinc-800/50 hover:bg-zinc-700 rounded-lg",children:[d.jsx("p",{className:"font-bold text-white",children:b.id}),d.jsxs("p",{className:"text-xs text-zinc-400",children:["Edad: ",eO(b.birthDate)," meses"]})]},b.id)):d.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No se encontraron animales con estos filtros."})})]})})};function CH(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const Px={},eh={};function Gl(t,e){try{const r=(Px[t]||(Px[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return r in eh?eh[r]:tO(r,r.split(":"))}catch{if(t in eh)return eh[t];const n=t==null?void 0:t.match(OH);return n?tO(t,n.slice(1)):NaN}}const OH=/([+-]\d\d):?(\d\d)?/;function tO(t,e){const n=+(e[0]||0),r=+(e[1]||0),i=+(e[2]||0)/60;return eh[t]=n*60+r>0?n*60+r+i:n*60-r-i}class qa extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Gl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),cL(this),U1(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new qa(...n,e):new qa(Date.now(),e)}withTimeZone(e){return new qa(+this,e)}getTimezoneOffset(){const e=-Gl(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),U1(this),+this}[Symbol.for("constructDateFrom")](e){return new qa(+new Date(e),this.timeZone)}}const nO=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!nO.test(t))return;const e=t.replace(nO,"$1UTC");qa.prototype[e]&&(t.startsWith("get")?qa.prototype[t]=function(){return this.internal[e]()}:(qa.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),kH(this),+this},qa.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),U1(this),+this}))});function U1(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Gl(t.timeZone,t)*60))}function kH(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),cL(t)}function cL(t){const e=Gl(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+t).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),o=i-a,s=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&s&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const l=i-n;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);const u=new Date(+t);u.setUTCSeconds(0);const c=i>0?u.getSeconds():(u.getSeconds()-60)%60,f=Math.round(-(Gl(t.timeZone,t)*60))%60;(f||c)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+f+c));const h=Gl(t.timeZone,t),g=h>0?Math.floor(h):Math.ceil(h),v=-new Date(+t).getTimezoneOffset()-g,x=g!==n,w=v-l;if(x&&w){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+w);const _=Gl(t.timeZone,t),A=_>0?Math.floor(_):Math.ceil(_),I=g-A;I&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+I))}}class xr extends qa{static tz(e,...n){return n.length?new xr(...n,e):new xr(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${CH(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new xr(+this,e)}[Symbol.for("constructDateFrom")](e){return new xr(+new Date(e),this.timeZone)}}const fL=6048e5,IH=864e5,rO=Symbol.for("constructDateFrom");function Un(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&rO in t?t[rO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Lt(t,e){return Un(e||t,t)}function dL(t,e,n){const r=Lt(t,n==null?void 0:n.in);return isNaN(e)?Un(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function hL(t,e,n){const r=Lt(t,n==null?void 0:n.in);if(isNaN(e))return Un(t,NaN);if(!e)return r;const i=r.getDate(),a=Un(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let jH={};function hm(){return jH}function af(t,e){var s,l,u,c;const n=hm(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Lt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ap(t,e){return af(t,{...e,weekStartsOn:1})}function pL(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Un(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=ap(i),o=Un(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=ap(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function iO(t){const e=Lt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function qf(t,...e){const n=Un.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function op(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function mL(t,e,n){const[r,i]=qf(n==null?void 0:n.in,t,e),a=op(r),o=op(i),s=+a-iO(a),l=+o-iO(o);return Math.round((s-l)/IH)}function NH(t,e){const n=pL(t,e),r=Un(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ap(r)}function DH(t,e,n){return dL(t,e*7,n)}function MH(t,e,n){return hL(t,e*12,n)}function RH(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Un.bind(null,i));const a=Lt(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),Un(r,n||NaN)}function $H(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Un.bind(null,i));const a=Lt(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),Un(r,n||NaN)}function LH(t,e,n){const[r,i]=qf(n==null?void 0:n.in,t,e);return+op(r)==+op(i)}function gL(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function VH(t){return!(!gL(t)&&typeof t!="number"||isNaN(+Lt(t)))}function FH(t,e,n){const[r,i]=qf(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function zH(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function BH(t,e){const[n,r]=qf(t,e.start,e.end);return{start:n,end:r}}function UH(t,e){const{start:n,end:r}=BH(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let s=1;const l=[];for(;+o<=a;)l.push(Un(n,o)),o.setMonth(o.getMonth()+s);return i?l.reverse():l}function WH(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function qH(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function yL(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function vL(t,e){var s,l,u,c;const n=hm(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Lt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function KH(t,e){return vL(t,{...e,weekStartsOn:1})}const HH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GH=(t,e,n)=>{let r;const i=HH[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const YH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JH={date:Cx({formats:YH,defaultWidth:"full"}),time:Cx({formats:XH,defaultWidth:"full"}),dateTime:Cx({formats:QH,defaultWidth:"full"})},ZH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eG=(t,e,n,r)=>ZH[t];function Id(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const tG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sG=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lG={ordinalNumber:sG,era:Id({values:tG,defaultWidth:"wide"}),quarter:Id({values:nG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Id({values:rG,defaultWidth:"wide"}),day:Id({values:iG,defaultWidth:"wide"}),dayPeriod:Id({values:aG,defaultWidth:"wide",formattingValues:oG,defaultFormattingWidth:"wide"})};function jd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?cG(s,f=>f.test(o)):uG(s,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function uG(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function cG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fG(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const dG=/^(\d+)(th|st|nd|rd)?/i,hG=/\d+/i,pG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mG={any:[/^b/i,/^(a|c)/i]},gG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yG={any:[/1/i,/2/i,/3/i,/4/i]},vG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_G={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EG={ordinalNumber:fG({matchPattern:dG,parsePattern:hG,valueCallback:t=>parseInt(t,10)}),era:jd({matchPatterns:pG,defaultMatchWidth:"wide",parsePatterns:mG,defaultParseWidth:"any"}),quarter:jd({matchPatterns:gG,defaultMatchWidth:"wide",parsePatterns:yG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jd({matchPatterns:vG,defaultMatchWidth:"wide",parsePatterns:bG,defaultParseWidth:"any"}),day:jd({matchPatterns:xG,defaultMatchWidth:"wide",parsePatterns:wG,defaultParseWidth:"any"}),dayPeriod:jd({matchPatterns:_G,defaultMatchWidth:"any",parsePatterns:SG,defaultParseWidth:"any"})},xA={code:"en-US",formatDistance:GH,formatLong:JH,formatRelative:eG,localize:lG,match:EG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AG(t,e){const n=Lt(t,e==null?void 0:e.in);return mL(n,yL(n))+1}function bL(t,e){const n=Lt(t,e==null?void 0:e.in),r=+ap(n)-+NH(n);return Math.round(r/fL)+1}function xL(t,e){var c,f,h,g;const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear(),i=hm(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(h=i.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=Un((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=af(o,e),l=Un((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=af(l,e);return+n>=+s?r+1:+n>=+u?r:r-1}function TG(t,e){var s,l,u,c;const n=hm(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=xL(t,e),a=Un((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),af(a,e)}function wL(t,e){const n=Lt(t,e==null?void 0:e.in),r=+af(n,e)-+TG(n,e);return Math.round(r/fL)+1}function Nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ys={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,e.length)}},Ju={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ys.y(t,e)},Y:function(t,e,n,r){const i=xL(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Nt(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Nt(a,e.length)},R:function(t,e){const n=pL(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ys.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=wL(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},I:function(t,e,n){const r=bL(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ys.d(t,e)},D:function(t,e,n){const r=AG(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Nt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Nt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ju.noon:r===0?i=Ju.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ju.evening:r>=12?i=Ju.afternoon:r>=4?i=Ju.morning:i=Ju.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ys.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ys.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ys.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ys.s(t,e)},S:function(t,e){return ys.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return sO(r);case"XXXX":case"XX":return $l(r);case"XXXXX":case"XXX":default:return $l(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return sO(r);case"xxxx":case"xx":return $l(r);case"xxxxx":case"xxx":default:return $l(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+oO(r,":");case"OOOO":default:return"GMT"+$l(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+oO(r,":");case"zzzz":default:return"GMT"+$l(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Nt(r,e.length)},T:function(t,e,n){return Nt(+t,e.length)}};function oO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Nt(a,2)}function sO(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):$l(t,e)}function $l(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Nt(Math.trunc(r/60),2),a=Nt(r%60,2);return n+i+e+a}const lO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_L=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},PG=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return lO(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",lO(r,e)).replace("{{time}}",_L(i,e))},CG={p:_L,P:PG},OG=/^D+$/,kG=/^Y+$/,IG=["D","DD","YY","YYYY"];function jG(t){return OG.test(t)}function NG(t){return kG.test(t)}function DG(t,e,n){const r=MG(t,e,n);if(console.warn(r),IG.includes(t))throw new RangeError(r)}function MG(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$G=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LG=/^'([^]*?)'?$/,VG=/''/g,FG=/[a-zA-Z]/;function zG(t,e,n){var c,f,h,g,b,v,x,w;const r=hm(),i=(n==null?void 0:n.locale)??r.locale??xA,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,s=Lt(t,n==null?void 0:n.in);if(!VH(s))throw new RangeError("Invalid time value");let l=e.match($G).map(_=>{const A=_[0];if(A==="p"||A==="P"){const I=CG[A];return I(_,i.formatLong)}return _}).join("").match(RG).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const A=_[0];if(A==="'")return{isToken:!1,value:BG(_)};if(aO[A])return{isToken:!0,value:_};if(A.match(FG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const A=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&NG(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jG(A))&&DG(A,e,String(t));const I=aO[A[0]];return I(s,A,i.localize,u)}).join("")}function BG(t){const e=t.match(LG);return e?e[1].replace(VG,"'"):t}function UG(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),a=Un(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function WG(t,e){return Lt(t,e==null?void 0:e.in).getMonth()}function qG(t,e){return Lt(t,e==null?void 0:e.in).getFullYear()}function KG(t,e){return+Lt(t)>+Lt(e)}function HG(t,e){return+Lt(t)<+Lt(e)}function GG(t,e,n){const[r,i]=qf(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function YG(t,e,n){const[r,i]=qf(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function XG(t,e,n){const r=Lt(t,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),o=Un(t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const s=UG(o);return r.setMonth(e,Math.min(a,s)),r}function QG(t,e,n){const r=Lt(t,n==null?void 0:n.in);return isNaN(+r)?Un(t,NaN):(r.setFullYear(e),r)}const uO=5,JG=4;function ZG(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,i=e.addDays(t,-r+1),a=e.addDays(i,uO*7-1);return e.getMonth(t)===e.getMonth(a)?uO:JG}function SL(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function eY(t,e){const n=SL(t,e),r=ZG(t,e);return e.addDays(n,r*7-1)}class _i{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?xr.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,a)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,i,a):this.options.timeZone?new xr(r,i,a,this.options.timeZone):new Date(r,i,a)},this.addDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,i):dL(r,i)},this.addMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,i):hL(r,i)},this.addWeeks=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,i):DH(r,i)},this.addYears=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,i):MH(r,i)},this.differenceInCalendarDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):mL(r,i)},this.differenceInCalendarMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):FH(r,i)},this.eachMonthOfInterval=r=>{var i;return(i=this.overrides)!=null&&i.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):UH(r)},this.endOfBroadcastWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):eY(r,this)},this.endOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfISOWeek?this.overrides.endOfISOWeek(r):KH(r)},this.endOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.endOfMonth?this.overrides.endOfMonth(r):zH(r)},this.endOfWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,i):vL(r,this.options)},this.endOfYear=r=>{var i;return(i=this.overrides)!=null&&i.endOfYear?this.overrides.endOfYear(r):qH(r)},this.format=(r,i,a)=>{var s;const o=(s=this.overrides)!=null&&s.format?this.overrides.format(r,i,this.options):zG(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.getISOWeek?this.overrides.getISOWeek(r):bL(r)},this.getMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(r,this.options):WG(r,this.options)},this.getYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(r,this.options):qG(r,this.options)},this.getWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):wL(r,this.options)},this.isAfter=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,i):KG(r,i)},this.isBefore=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,i):HG(r,i)},this.isDate=r=>{var i;return(i=this.overrides)!=null&&i.isDate?this.overrides.isDate(r):gL(r)},this.isSameDay=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,i):LH(r,i)},this.isSameMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,i):GG(r,i)},this.isSameYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,i):YG(r,i)},this.max=r=>{var i;return(i=this.overrides)!=null&&i.max?this.overrides.max(r):RH(r)},this.min=r=>{var i;return(i=this.overrides)!=null&&i.min?this.overrides.min(r):$H(r)},this.setMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,i):XG(r,i)},this.setYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,i):QG(r,i)},this.startOfBroadcastWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):SL(r,this)},this.startOfDay=r=>{var i;return(i=this.overrides)!=null&&i.startOfDay?this.overrides.startOfDay(r):op(r)},this.startOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfISOWeek?this.overrides.startOfISOWeek(r):ap(r)},this.startOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.startOfMonth?this.overrides.startOfMonth(r):WH(r)},this.startOfWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):af(r,this.options)},this.startOfYear=r=>{var i;return(i=this.overrides)!=null&&i.startOfYear?this.overrides.startOfYear(r):yL(r)},this.options={locale:xA,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var n;const e=(n=this.options.locale)==null?void 0:n.code;return e&&_i.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:r,numerals:i}=this.options,a=n==null?void 0:n.code;if(a&&_i.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(e)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,o)}}_i.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const uo=new _i;class EL{constructor(e,n,r=uo){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class tY{constructor(e,n){this.date=e,this.weeks=n}}class nY{constructor(e,n){this.days=n,this.weekNumber=e}}function rY(t){return U.createElement("button",{...t})}function iY(t){return U.createElement("span",{...t})}function aY(t){const{size:e=24,orientation:n="left",className:r}=t;return U.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&U.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&U.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&U.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&U.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function oY(t){const{day:e,modifiers:n,...r}=t;return U.createElement("td",{...r})}function sY(t){const{day:e,modifiers:n,...r}=t,i=U.useRef(null);return U.useEffect(()=>{var a;n.focused&&((a=i.current)==null||a.focus())},[n.focused]),U.createElement("button",{ref:i,...r})}var Ue;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Ue||(Ue={}));var cn;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(cn||(cn={}));var Sa;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Sa||(Sa={}));var di;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(di||(di={}));function lY(t){const{options:e,className:n,components:r,classNames:i,...a}=t,o=[i[Ue.Dropdown],n].join(" "),s=e==null?void 0:e.find(({value:l})=>l===a.value);return U.createElement("span",{"data-disabled":a.disabled,className:i[Ue.DropdownRoot]},U.createElement(r.Select,{className:o,...a},e==null?void 0:e.map(({value:l,label:u,disabled:c})=>U.createElement(r.Option,{key:l,value:l,disabled:c},u))),U.createElement("span",{className:i[Ue.CaptionLabel],"aria-hidden":!0},s==null?void 0:s.label,U.createElement(r.Chevron,{orientation:"down",size:18,className:i[Ue.Chevron]})))}function uY(t){return U.createElement("div",{...t})}function cY(t){return U.createElement("div",{...t})}function fY(t){const{calendarMonth:e,displayIndex:n,...r}=t;return U.createElement("div",{...r},t.children)}function dY(t){const{calendarMonth:e,displayIndex:n,...r}=t;return U.createElement("div",{...r})}function hY(t){return U.createElement("table",{...t})}function pY(t){return U.createElement("div",{...t})}const AL=V.createContext(void 0);function pm(){const t=V.useContext(AL);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function mY(t){const{components:e}=pm();return U.createElement(e.Dropdown,{...t})}function gY(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:i,...a}=t,{components:o,classNames:s,labels:{labelPrevious:l,labelNext:u}}=pm(),c=V.useCallback(h=>{i&&(n==null||n(h))},[i,n]),f=V.useCallback(h=>{r&&(e==null||e(h))},[r,e]);return U.createElement("nav",{...a},U.createElement(o.PreviousMonthButton,{type:"button",className:s[Ue.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:f},U.createElement(o.Chevron,{disabled:r?void 0:!0,className:s[Ue.Chevron],orientation:"left"})),U.createElement(o.NextMonthButton,{type:"button",className:s[Ue.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":u(i),onClick:c},U.createElement(o.Chevron,{disabled:i?void 0:!0,orientation:"right",className:s[Ue.Chevron]})))}function yY(t){const{components:e}=pm();return U.createElement(e.Button,{...t})}function vY(t){return U.createElement("option",{...t})}function bY(t){const{components:e}=pm();return U.createElement(e.Button,{...t})}function xY(t){const{rootRef:e,...n}=t;return U.createElement("div",{...n,ref:e})}function wY(t){return U.createElement("select",{...t})}function _Y(t){const{week:e,...n}=t;return U.createElement("tr",{...n})}function SY(t){return U.createElement("th",{...t})}function EY(t){return U.createElement("thead",{"aria-hidden":!0},U.createElement("tr",{...t}))}function AY(t){const{week:e,...n}=t;return U.createElement("th",{...n})}function TY(t){return U.createElement("th",{...t})}function PY(t){return U.createElement("tbody",{...t})}function CY(t){const{components:e}=pm();return U.createElement(e.Dropdown,{...t})}const OY=Object.freeze(Object.defineProperty({__proto__:null,Button:rY,CaptionLabel:iY,Chevron:aY,Day:oY,DayButton:sY,Dropdown:lY,DropdownNav:uY,Footer:cY,Month:fY,MonthCaption:dY,MonthGrid:hY,Months:pY,MonthsDropdown:mY,Nav:gY,NextMonthButton:yY,Option:vY,PreviousMonthButton:bY,Root:xY,Select:wY,Week:_Y,WeekNumber:AY,WeekNumberHeader:TY,Weekday:SY,Weekdays:EY,Weeks:PY,YearsDropdown:CY},Symbol.toStringTag,{value:"Module"}));function Oo(t,e,n=!1,r=uo){let{from:i,to:a}=t;const{differenceInCalendarDays:o,isSameDay:s}=r;return i&&a?(o(a,i)<0&&([i,a]=[a,i]),o(e,i)>=(n?1:0)&&o(a,e)>=(n?1:0)):!n&&a?s(a,e):!n&&i?s(i,e):!1}function TL(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function wA(t){return!!(t&&typeof t=="object"&&"from"in t)}function PL(t){return!!(t&&typeof t=="object"&&"after"in t)}function CL(t){return!!(t&&typeof t=="object"&&"before"in t)}function OL(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function kL(t,e){return Array.isArray(t)&&t.every(e.isDate)}function ko(t,e,n=uo){const r=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:a,isAfter:o}=n;return r.some(s=>{if(typeof s=="boolean")return s;if(n.isDate(s))return i(t,s);if(kL(s,n))return s.includes(t);if(wA(s))return Oo(s,t,!1,n);if(OL(s))return Array.isArray(s.dayOfWeek)?s.dayOfWeek.includes(t.getDay()):s.dayOfWeek===t.getDay();if(TL(s)){const l=a(s.before,t),u=a(s.after,t),c=l>0,f=u<0;return o(s.before,s.after)?f&&c:c||f}return PL(s)?a(t,s.after)>0:CL(s)?a(s.before,t)>0:typeof s=="function"?s(t):!1})}function kY(t,e,n,r,i){const{disabled:a,hidden:o,modifiers:s,showOutsideDays:l,broadcastCalendar:u,today:c}=e,{isSameDay:f,isSameMonth:h,startOfMonth:g,isBefore:b,endOfMonth:v,isAfter:x}=i,w=n&&g(n),_=r&&v(r),A={[cn.focused]:[],[cn.outside]:[],[cn.disabled]:[],[cn.hidden]:[],[cn.today]:[]},I={};for(const S of t){const{date:C,displayMonth:E}=S,T=!!(E&&!h(C,E)),j=!!(w&&b(C,w)),R=!!(_&&x(C,_)),D=!!(a&&ko(C,a,i)),$=!!(o&&ko(C,o,i))||j||R||!u&&!l&&T||u&&l===!1&&T,L=f(C,c??i.today());T&&A.outside.push(S),D&&A.disabled.push(S),$&&A.hidden.push(S),L&&A.today.push(S),s&&Object.keys(s).forEach(ne=>{const ae=s==null?void 0:s[ne];ae&&ko(C,ae,i)&&(I[ne]?I[ne].push(S):I[ne]=[S])})}return S=>{const C={[cn.focused]:!1,[cn.disabled]:!1,[cn.hidden]:!1,[cn.outside]:!1,[cn.today]:!1},E={};for(const T in A){const j=A[T];C[T]=j.some(R=>R===S)}for(const T in I)E[T]=I[T].some(j=>j===S);return{...C,...E}}}function IY(t,e,n={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[a])=>(n[a]?i.push(n[a]):e[cn[a]]?i.push(e[cn[a]]):e[Sa[a]]&&i.push(e[Sa[a]]),i),[e[Ue.Day]])}function jY(t){return{...OY,...t}}function NY(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function DY(){const t={};for(const e in Ue)t[Ue[e]]=`rdp-${Ue[e]}`;for(const e in cn)t[cn[e]]=`rdp-${cn[e]}`;for(const e in Sa)t[Sa[e]]=`rdp-${Sa[e]}`;for(const e in di)t[di[e]]=`rdp-${di[e]}`;return t}function IL(t,e,n){return(n??new _i(e)).formatMonthYear(t)}const MY=IL;function RY(t,e,n){return(n??new _i(e)).format(t,"d")}function $Y(t,e=uo){return e.format(t,"LLLL")}function LY(t,e,n){return(n??new _i(e)).format(t,"cccccc")}function VY(t,e=uo){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function FY(){return""}function jL(t,e=uo){return e.format(t,"yyyy")}const zY=jL,BY=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:IL,formatDay:RY,formatMonthCaption:MY,formatMonthDropdown:$Y,formatWeekNumber:VY,formatWeekNumberHeader:FY,formatWeekdayName:LY,formatYearCaption:zY,formatYearDropdown:jL},Symbol.toStringTag,{value:"Module"}));function UY(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...BY,...t}}function WY(t,e,n,r,i){const{startOfMonth:a,startOfYear:o,endOfYear:s,eachMonthOfInterval:l,getMonth:u}=i;return l({start:o(t),end:s(t)}).map(h=>{const g=r.formatMonthDropdown(h,i),b=u(h),v=e&&h<a(e)||n&&h>a(n)||!1;return{value:b,label:g,disabled:v}})}function qY(t,e={},n={}){let r={...e==null?void 0:e[Ue.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function KY(t,e,n){const r=t.today(),i=e?t.startOfISOWeek(r):t.startOfWeek(r),a=[];for(let o=0;o<7;o++){const s=t.addDays(i,o);a.push(s)}return a}function HY(t,e,n,r,i=!1){if(!t||!e)return;const{startOfYear:a,endOfYear:o,addYears:s,getYear:l,isBefore:u,isSameYear:c}=r,f=a(t),h=o(e),g=[];let b=f;for(;u(b,h)||c(b,h);)g.push(b),b=s(b,1);return i&&g.reverse(),g.map(v=>{const x=n.formatYearDropdown(v,r);return{value:l(v),label:x,disabled:!1}})}function NL(t,e,n,r){let i=(r??new _i(n)).format(t,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const GY=NL;function DL(t,e,n){return(n??new _i(e)).formatMonthYear(t)}const YY=DL;function XY(t,e,n,r){let i=(r??new _i(n)).format(t,"PPPP");return e!=null&&e.today&&(i=`Today, ${i}`),i}function QY(t){return"Choose the Month"}function JY(){return""}function ZY(t){return"Go to the Next Month"}function eX(t){return"Go to the Previous Month"}function tX(t,e,n){return(n??new _i(e)).format(t,"cccc")}function nX(t,e){return`Week ${t}`}function rX(t){return"Week Number"}function iX(t){return"Choose the Year"}const aX=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:YY,labelDay:GY,labelDayButton:NL,labelGrid:DL,labelGridcell:XY,labelMonthDropdown:QY,labelNav:JY,labelNext:ZY,labelPrevious:eX,labelWeekNumber:nX,labelWeekNumberHeader:rX,labelWeekday:tX,labelYearDropdown:iX},Symbol.toStringTag,{value:"Module"})),mm=t=>t instanceof HTMLElement?t:null,Ox=t=>[...t.querySelectorAll("[data-animated-month]")??[]],oX=t=>mm(t.querySelector("[data-animated-month]")),kx=t=>mm(t.querySelector("[data-animated-caption]")),Ix=t=>mm(t.querySelector("[data-animated-weeks]")),sX=t=>mm(t.querySelector("[data-animated-nav]")),lX=t=>mm(t.querySelector("[data-animated-weekdays]"));function uX(t,e,{classNames:n,months:r,focused:i,dateLib:a}){const o=V.useRef(null),s=V.useRef(r),l=V.useRef(!1);V.useLayoutEffect(()=>{const u=s.current;if(s.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const c=a.isSameMonth(r[0].date,u[0].date),f=a.isAfter(r[0].date,u[0].date),h=f?n[di.caption_after_enter]:n[di.caption_before_enter],g=f?n[di.weeks_after_enter]:n[di.weeks_before_enter],b=o.current,v=t.current.cloneNode(!0);if(v instanceof HTMLElement?(Ox(v).forEach(A=>{if(!(A instanceof HTMLElement))return;const I=oX(A);I&&A.contains(I)&&A.removeChild(I);const S=kx(A);S&&S.classList.remove(h);const C=Ix(A);C&&C.classList.remove(g)}),o.current=v):o.current=null,l.current||c||i)return;const x=b instanceof HTMLElement?Ox(b):[],w=Ox(t.current);if(w!=null&&w.every(_=>_ instanceof HTMLElement)&&x&&x.every(_=>_ instanceof HTMLElement)){l.current=!0,t.current.style.isolation="isolate";const _=sX(t.current);_&&(_.style.zIndex="1"),w.forEach((A,I)=>{const S=x[I];if(!S)return;A.style.position="relative",A.style.overflow="hidden";const C=kx(A);C&&C.classList.add(h);const E=Ix(A);E&&E.classList.add(g);const T=()=>{l.current=!1,t.current&&(t.current.style.isolation=""),_&&(_.style.zIndex=""),C&&C.classList.remove(h),E&&E.classList.remove(g),A.style.position="",A.style.overflow="",A.contains(S)&&A.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const j=lX(S);j&&(j.style.opacity="0");const R=kx(S);R&&(R.classList.add(f?n[di.caption_before_exit]:n[di.caption_after_exit]),R.addEventListener("animationend",T));const D=Ix(S);D&&D.classList.add(f?n[di.weeks_before_exit]:n[di.weeks_after_exit]),A.insertBefore(S,A.firstChild)})}})}function cX(t,e,n,r){const i=t[0],a=t[t.length-1],{ISOWeek:o,fixedWeeks:s,broadcastCalendar:l}=n??{},{addDays:u,differenceInCalendarDays:c,differenceInCalendarMonths:f,endOfBroadcastWeek:h,endOfISOWeek:g,endOfMonth:b,endOfWeek:v,isAfter:x,startOfBroadcastWeek:w,startOfISOWeek:_,startOfWeek:A}=r,I=l?w(i,r):o?_(i):A(i),S=l?h(a):o?g(b(a)):v(b(a)),C=c(S,I),E=f(a,i)+1,T=[];for(let D=0;D<=C;D++){const $=u(I,D);if(e&&x($,e))break;T.push($)}const R=(l?35:42)*E;if(s&&T.length<R){const D=R-T.length;for(let $=0;$<D;$++){const L=u(T[T.length-1],1);T.push(L)}}return T}function fX(t){const e=[];return t.reduce((n,r)=>{const i=r.weeks.reduce((a,o)=>a.concat(o.days.slice()),e.slice());return n.concat(i.slice())},e.slice())}function dX(t,e,n,r){const{numberOfMonths:i=1}=n,a=[];for(let o=0;o<i;o++){const s=r.addMonths(t,o);if(e&&s>e)break;a.push(s)}return a}function cO(t,e,n,r){const{month:i,defaultMonth:a,today:o=r.today(),numberOfMonths:s=1}=t;let l=i||a||o;const{differenceInCalendarMonths:u,addMonths:c,startOfMonth:f}=r;if(n&&u(n,l)<s-1){const h=-1*(s-1);l=c(n,h)}return e&&u(l,e)<0&&(l=e),f(l)}function hX(t,e,n,r){const{addDays:i,endOfBroadcastWeek:a,endOfISOWeek:o,endOfMonth:s,endOfWeek:l,getISOWeek:u,getWeek:c,startOfBroadcastWeek:f,startOfISOWeek:h,startOfWeek:g}=r,b=t.reduce((v,x)=>{const w=n.broadcastCalendar?f(x,r):n.ISOWeek?h(x):g(x),_=n.broadcastCalendar?a(x):n.ISOWeek?o(s(x)):l(s(x)),A=e.filter(E=>E>=w&&E<=_),I=n.broadcastCalendar?35:42;if(n.fixedWeeks&&A.length<I){const E=e.filter(T=>{const j=I-A.length;return T>_&&T<=i(_,j)});A.push(...E)}const S=A.reduce((E,T)=>{const j=n.ISOWeek?u(T):c(T),R=E.find($=>$.weekNumber===j),D=new EL(T,x,r);return R?R.days.push(D):E.push(new nY(j,[D])),E},[]),C=new tY(x,S);return v.push(C),v},[]);return n.reverseMonths?b.reverse():b}function pX(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:i,startOfDay:a,startOfMonth:o,endOfMonth:s,addYears:l,endOfYear:u,newDate:c,today:f}=e,{fromYear:h,toYear:g,fromMonth:b,toMonth:v}=t;!n&&b&&(n=b),!n&&h&&(n=e.newDate(h,0,1)),!r&&v&&(r=v),!r&&g&&(r=c(g,11,31));const x=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):h?n=c(h,0,1):!n&&x&&(n=i(l(t.today??f(),-100))),r?r=s(r):g?r=c(g,11,31):!r&&x&&(r=u(t.today??f())),[n&&a(n),r&&a(r)]}function mX(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a=1}=n,{startOfMonth:o,addMonths:s,differenceInCalendarMonths:l}=r,u=i?a:1,c=o(t);if(!e)return s(c,u);if(!(l(e,t)<a))return s(c,u)}function gX(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a}=n,{startOfMonth:o,addMonths:s,differenceInCalendarMonths:l}=r,u=i?a??1:1,c=o(t);if(!e)return s(c,-u);if(!(l(c,e)<=0))return s(c,-u)}function yX(t){const e=[];return t.reduce((n,r)=>n.concat(r.weeks.slice()),e.slice())}function z0(t,e){const[n,r]=V.useState(t);return[e===void 0?n:e,r]}function vX(t,e){const[n,r]=pX(t,e),{startOfMonth:i,endOfMonth:a}=e,o=cO(t,n,r,e),[s,l]=z0(o,t.month?o:void 0);V.useEffect(()=>{const C=cO(t,n,r,e);l(C)},[t.timeZone]);const u=dX(s,r,t,e),c=cX(u,t.endMonth?a(t.endMonth):void 0,t,e),f=hX(u,c,t,e),h=yX(f),g=fX(f),b=gX(s,n,t,e),v=mX(s,r,t,e),{disableNavigation:x,onMonthChange:w}=t,_=C=>h.some(E=>E.days.some(T=>T.isEqualTo(C))),A=C=>{if(x)return;let E=i(C);n&&E<i(n)&&(E=i(n)),r&&E>i(r)&&(E=i(r)),l(E),w==null||w(E)};return{months:f,weeks:h,days:g,navStart:n,navEnd:r,previousMonth:b,nextMonth:v,goToMonth:A,goToDay:C=>{_(C)||A(C.date)}}}var za;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(za||(za={}));function fO(t){return!t[cn.disabled]&&!t[cn.hidden]&&!t[cn.outside]}function bX(t,e,n,r){let i,a=-1;for(const o of t){const s=e(o);fO(s)&&(s[cn.focused]&&a<za.FocusedModifier?(i=o,a=za.FocusedModifier):r!=null&&r.isEqualTo(o)&&a<za.LastFocused?(i=o,a=za.LastFocused):n(o.date)&&a<za.Selected?(i=o,a=za.Selected):s[cn.today]&&a<za.Today&&(i=o,a=za.Today))}return i||(i=t.find(o=>fO(e(o)))),i}function xX(t,e,n,r,i,a,o){const{ISOWeek:s,broadcastCalendar:l}=a,{addDays:u,addMonths:c,addWeeks:f,addYears:h,endOfBroadcastWeek:g,endOfISOWeek:b,endOfWeek:v,max:x,min:w,startOfBroadcastWeek:_,startOfISOWeek:A,startOfWeek:I}=o;let C={day:u,week:f,month:c,year:h,startOfWeek:E=>l?_(E,o):s?A(E):I(E),endOfWeek:E=>l?g(E):s?b(E):v(E)}[t](n,e==="after"?1:-1);return e==="before"&&r?C=x([r,C]):e==="after"&&i&&(C=w([i,C])),C}function ML(t,e,n,r,i,a,o,s=0){if(s>365)return;const l=xX(t,e,n.date,r,i,a,o),u=!!(a.disabled&&ko(l,a.disabled,o)),c=!!(a.hidden&&ko(l,a.hidden,o)),f=l,h=new EL(l,f,o);return!u&&!c?h:ML(t,e,h,r,i,a,o,s+1)}function wX(t,e,n,r,i){const{autoFocus:a}=t,[o,s]=V.useState(),l=bX(e.days,n,r||(()=>!1),o),[u,c]=V.useState(a?l:void 0);return{isFocusTarget:v=>!!(l!=null&&l.isEqualTo(v)),setFocused:c,focused:u,blur:()=>{s(u),c(void 0)},moveFocus:(v,x)=>{if(!u)return;const w=ML(v,x,u,e.navStart,e.navEnd,t,i);w&&(e.goToDay(w),c(w))}}}function _X(t,e){const{selected:n,required:r,onSelect:i}=t,[a,o]=z0(n,i?n:void 0),s=i?n:a,{isSameDay:l}=e,u=g=>(s==null?void 0:s.some(b=>l(b,g)))??!1,{min:c,max:f}=t;return{selected:s,select:(g,b,v)=>{let x=[...s??[]];if(u(g)){if((s==null?void 0:s.length)===c||r&&(s==null?void 0:s.length)===1)return;x=s==null?void 0:s.filter(w=>!l(w,g))}else(s==null?void 0:s.length)===f?x=[g]:x=[...x,g];return i||o(x),i==null||i(x,g,b,v),x},isSelected:u}}function SX(t,e,n=0,r=0,i=!1,a=uo){const{from:o,to:s}=e||{},{isSameDay:l,isAfter:u,isBefore:c}=a;let f;if(!o&&!s)f={from:t,to:n>0?void 0:t};else if(o&&!s)l(o,t)?n===0?f={from:o,to:t}:i?f={from:o,to:void 0}:f=void 0:c(t,o)?f={from:t,to:o}:f={from:o,to:t};else if(o&&s)if(l(o,t)&&l(s,t))i?f={from:o,to:s}:f=void 0;else if(l(o,t))f={from:o,to:n>0?void 0:t};else if(l(s,t))f={from:t,to:n>0?void 0:t};else if(c(t,o))f={from:t,to:s};else if(u(t,o))f={from:o,to:t};else if(u(t,s))f={from:o,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const h=a.differenceInCalendarDays(f.to,f.from);r>0&&h>r?f={from:t,to:void 0}:n>1&&h<n&&(f={from:t,to:void 0})}return f}function EX(t,e,n=uo){const r=Array.isArray(e)?e:[e];let i=t.from;const a=n.differenceInCalendarDays(t.to,t.from),o=Math.min(a,6);for(let s=0;s<=o;s++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function dO(t,e,n=uo){return Oo(t,e.from,!1,n)||Oo(t,e.to,!1,n)||Oo(e,t.from,!1,n)||Oo(e,t.to,!1,n)}function AX(t,e,n=uo){const r=Array.isArray(e)?e:[e];if(r.filter(s=>typeof s!="function").some(s=>typeof s=="boolean"?s:n.isDate(s)?Oo(t,s,!1,n):kL(s,n)?s.some(l=>Oo(t,l,!1,n)):wA(s)?s.from&&s.to?dO(t,{from:s.from,to:s.to},n):!1:OL(s)?EX(t,s.dayOfWeek,n):TL(s)?n.isAfter(s.before,s.after)?dO(t,{from:n.addDays(s.after,1),to:n.addDays(s.before,-1)},n):ko(t.from,s,n)||ko(t.to,s,n):PL(s)||CL(s)?ko(t.from,s,n)||ko(t.to,s,n):!1))return!0;const o=r.filter(s=>typeof s=="function");if(o.length){let s=t.from;const l=n.differenceInCalendarDays(t.to,t.from);for(let u=0;u<=l;u++){if(o.some(c=>c(s)))return!0;s=n.addDays(s,1)}}return!1}function TX(t,e){const{disabled:n,excludeDisabled:r,selected:i,required:a,onSelect:o}=t,[s,l]=z0(i,o?i:void 0),u=o?i:s;return{selected:u,select:(h,g,b)=>{const{min:v,max:x}=t,w=h?SX(h,u,v,x,a,e):void 0;return r&&n&&(w!=null&&w.from)&&w.to&&AX({from:w.from,to:w.to},n,e)&&(w.from=h,w.to=void 0),o||l(w),o==null||o(w,h,g,b),w},isSelected:h=>u&&Oo(u,h,!1,e)}}function PX(t,e){const{selected:n,required:r,onSelect:i}=t,[a,o]=z0(n,i?n:void 0),s=i?n:a,{isSameDay:l}=e;return{selected:s,select:(f,h,g)=>{let b=f;return!r&&s&&s&&l(f,s)&&(b=void 0),i||o(b),i==null||i(b,f,h,g),b},isSelected:f=>s?l(s,f):!1}}function CX(t,e){const n=PX(t,e),r=_X(t,e),i=TX(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function RL(t){var Or;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new xr(e.today,e.timeZone)),e.month&&(e.month=new xr(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new xr(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new xr(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new xr(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new xr(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Or=e.selected)==null?void 0:Or.map(Qe=>new xr(Qe,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new xr(e.selected.from,e.timeZone):void 0,to:e.selected.to?new xr(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:i,dateLib:a,locale:o,classNames:s}=V.useMemo(()=>{const Qe={...xA,...e.locale};return{dateLib:new _i({locale:Qe,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:jY(e.components),formatters:UY(e.formatters),labels:{...aX,...e.labels},locale:Qe,classNames:{...DY(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:u,navLayout:c,numberOfMonths:f=1,onDayBlur:h,onDayClick:g,onDayFocus:b,onDayKeyDown:v,onDayMouseEnter:x,onDayMouseLeave:w,onNextClick:_,onPrevClick:A,showWeekNumber:I,styles:S}=e,{formatCaption:C,formatDay:E,formatMonthDropdown:T,formatWeekNumber:j,formatWeekNumberHeader:R,formatWeekdayName:D,formatYearDropdown:$}=r,L=vX(e,a),{days:ne,months:ae,navStart:ce,navEnd:de,previousMonth:Y,nextMonth:re,goToMonth:me}=L,Ae=kY(ne,e,ce,de,a),{isSelected:be,select:je,selected:We}=CX(e,a)??{},{blur:at,focused:tt,isFocusTarget:le,moveFocus:Se,setFocused:X}=wX(e,L,Ae,be??(()=>!1),a),{labelDayButton:Ie,labelGridcell:De,labelGrid:se,labelMonthDropdown:Ke,labelNav:we,labelPrevious:ot,labelNext:ft,labelWeekday:Kt,labelWeekNumber:Zn,labelWeekNumberHeader:It,labelYearDropdown:Rt}=i,nt=V.useMemo(()=>KY(a,e.ISOWeek),[a,e.ISOWeek]),Ft=u!==void 0||g!==void 0,An=V.useCallback(()=>{Y&&(me(Y),A==null||A(Y))},[Y,me,A]),ii=V.useCallback(()=>{re&&(me(re),_==null||_(re))},[me,re,_]),qn=V.useCallback((Qe,xe)=>Ye=>{Ye.preventDefault(),Ye.stopPropagation(),X(Qe),je==null||je(Qe.date,xe,Ye),g==null||g(Qe.date,xe,Ye)},[je,g,X]),Ti=V.useCallback((Qe,xe)=>Ye=>{X(Qe),b==null||b(Qe.date,xe,Ye)},[b,X]),Pi=V.useCallback((Qe,xe)=>Ye=>{at(),h==null||h(Qe.date,xe,Ye)},[at,h]),fo=V.useCallback((Qe,xe)=>Ye=>{const Je={ArrowLeft:[Ye.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Ye.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Ye.shiftKey?"year":"week","after"],ArrowUp:[Ye.shiftKey?"year":"week","before"],PageUp:[Ye.shiftKey?"year":"month","before"],PageDown:[Ye.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Je[Ye.key]){Ye.preventDefault(),Ye.stopPropagation();const[Tn,dt]=Je[Ye.key];Se(Tn,dt)}v==null||v(Qe.date,xe,Ye)},[Se,v,e.dir]),ho=V.useCallback((Qe,xe)=>Ye=>{x==null||x(Qe.date,xe,Ye)},[x]),ml=V.useCallback((Qe,xe)=>Ye=>{w==null||w(Qe.date,xe,Ye)},[w]),po=V.useCallback(Qe=>xe=>{const Ye=Number(xe.target.value),Je=a.setMonth(a.startOfMonth(Qe),Ye);me(Je)},[a,me]),Ci=V.useCallback(Qe=>xe=>{const Ye=Number(xe.target.value),Je=a.setYear(a.startOfMonth(Qe),Ye);me(Je)},[a,me]),{className:Oi,style:mo}=V.useMemo(()=>({className:[s[Ue.Root],e.className].filter(Boolean).join(" "),style:{...S==null?void 0:S[Ue.Root],...e.style}}),[s,e.className,e.style,S]),zr=NY(e),Le=V.useRef(null);uX(Le,!!e.animate,{classNames:s,months:ae,focused:tt,dateLib:a});const ka={dayPickerProps:e,selected:We,select:je,isSelected:be,months:ae,nextMonth:re,previousMonth:Y,goToMonth:me,getModifiers:Ae,components:n,classNames:s,styles:S,labels:i,formatters:r};return U.createElement(AL.Provider,{value:ka},U.createElement(n.Root,{rootRef:e.animate?Le:void 0,className:Oi,style:mo,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...zr},U.createElement(n.Months,{className:s[Ue.Months],style:S==null?void 0:S[Ue.Months]},!e.hideNavigation&&!c&&U.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:s[Ue.Nav],style:S==null?void 0:S[Ue.Nav],"aria-label":we(),onPreviousClick:An,onNextClick:ii,previousMonth:Y,nextMonth:re}),ae.map((Qe,xe)=>U.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:s[Ue.Month],style:S==null?void 0:S[Ue.Month],key:xe,displayIndex:xe,calendarMonth:Qe},c==="around"&&!e.hideNavigation&&xe===0&&U.createElement(n.PreviousMonthButton,{type:"button",className:s[Ue.PreviousMonthButton],tabIndex:Y?void 0:-1,"aria-disabled":Y?void 0:!0,"aria-label":ot(Y),onClick:An,"data-animated-button":e.animate?"true":void 0},U.createElement(n.Chevron,{disabled:Y?void 0:!0,className:s[Ue.Chevron],orientation:e.dir==="rtl"?"right":"left"})),U.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:s[Ue.MonthCaption],style:S==null?void 0:S[Ue.MonthCaption],calendarMonth:Qe,displayIndex:xe},l!=null&&l.startsWith("dropdown")?U.createElement(n.DropdownNav,{className:s[Ue.Dropdowns],style:S==null?void 0:S[Ue.Dropdowns]},(()=>{const Ye=l==="dropdown"||l==="dropdown-months"?U.createElement(n.MonthsDropdown,{key:"month",className:s[Ue.MonthsDropdown],"aria-label":Ke(),classNames:s,components:n,disabled:!!e.disableNavigation,onChange:po(Qe.date),options:WY(Qe.date,ce,de,r,a),style:S==null?void 0:S[Ue.Dropdown],value:a.getMonth(Qe.date)}):U.createElement("span",{key:"month"},T(Qe.date,a)),Je=l==="dropdown"||l==="dropdown-years"?U.createElement(n.YearsDropdown,{key:"year",className:s[Ue.YearsDropdown],"aria-label":Rt(a.options),classNames:s,components:n,disabled:!!e.disableNavigation,onChange:Ci(Qe.date),options:HY(ce,de,r,a,!!e.reverseYears),style:S==null?void 0:S[Ue.Dropdown],value:a.getYear(Qe.date)}):U.createElement("span",{key:"year"},$(Qe.date,a));return a.getMonthYearOrder()==="year-first"?[Je,Ye]:[Ye,Je]})(),U.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(Qe.date,a.options,a))):U.createElement(n.CaptionLabel,{className:s[Ue.CaptionLabel],role:"status","aria-live":"polite"},C(Qe.date,a.options,a))),c==="around"&&!e.hideNavigation&&xe===f-1&&U.createElement(n.NextMonthButton,{type:"button",className:s[Ue.NextMonthButton],tabIndex:re?void 0:-1,"aria-disabled":re?void 0:!0,"aria-label":ft(re),onClick:ii,"data-animated-button":e.animate?"true":void 0},U.createElement(n.Chevron,{disabled:re?void 0:!0,className:s[Ue.Chevron],orientation:e.dir==="rtl"?"left":"right"})),xe===f-1&&c==="after"&&!e.hideNavigation&&U.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:s[Ue.Nav],style:S==null?void 0:S[Ue.Nav],"aria-label":we(),onPreviousClick:An,onNextClick:ii,previousMonth:Y,nextMonth:re}),U.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":se(Qe.date,a.options,a)||void 0,className:s[Ue.MonthGrid],style:S==null?void 0:S[Ue.MonthGrid]},!e.hideWeekdays&&U.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:s[Ue.Weekdays],style:S==null?void 0:S[Ue.Weekdays]},I&&U.createElement(n.WeekNumberHeader,{"aria-label":It(a.options),className:s[Ue.WeekNumberHeader],style:S==null?void 0:S[Ue.WeekNumberHeader],scope:"col"},R()),nt.map(Ye=>U.createElement(n.Weekday,{"aria-label":Kt(Ye,a.options,a),className:s[Ue.Weekday],key:String(Ye),style:S==null?void 0:S[Ue.Weekday],scope:"col"},D(Ye,a.options,a)))),U.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:s[Ue.Weeks],style:S==null?void 0:S[Ue.Weeks]},Qe.weeks.map(Ye=>U.createElement(n.Week,{className:s[Ue.Week],key:Ye.weekNumber,style:S==null?void 0:S[Ue.Week],week:Ye},I&&U.createElement(n.WeekNumber,{week:Ye,style:S==null?void 0:S[Ue.WeekNumber],"aria-label":Zn(Ye.weekNumber,{locale:o}),className:s[Ue.WeekNumber],scope:"row",role:"rowheader"},j(Ye.weekNumber,a)),Ye.days.map(Je=>{const{date:Tn}=Je,dt=Ae(Je);if(dt[cn.focused]=!dt.hidden&&!!(tt!=null&&tt.isEqualTo(Je)),dt[Sa.selected]=(be==null?void 0:be(Tn))||dt.selected,wA(We)){const{from:er,to:ki}=We;dt[Sa.range_start]=!!(er&&ki&&a.isSameDay(Tn,er)),dt[Sa.range_end]=!!(er&&ki&&a.isSameDay(Tn,ki)),dt[Sa.range_middle]=Oo(We,Tn,!0,a)}const ea=qY(dt,S,e.modifiersStyles),ld=IY(dt,s,e.modifiersClassNames),ud=!Ft&&!dt.hidden?De(Tn,dt,a.options,a):void 0;return U.createElement(n.Day,{key:`${a.format(Tn,"yyyy-MM-dd")}_${a.format(Je.displayMonth,"yyyy-MM")}`,day:Je,modifiers:dt,className:ld.join(" "),style:ea,role:"gridcell","aria-selected":dt.selected||void 0,"aria-label":ud,"data-day":a.format(Tn,"yyyy-MM-dd"),"data-month":Je.outside?a.format(Tn,"yyyy-MM"):void 0,"data-selected":dt.selected||void 0,"data-disabled":dt.disabled||void 0,"data-hidden":dt.hidden||void 0,"data-outside":Je.outside||void 0,"data-focused":dt.focused||void 0,"data-today":dt.today||void 0},!dt.hidden&&Ft?U.createElement(n.DayButton,{className:s[Ue.DayButton],style:S==null?void 0:S[Ue.DayButton],type:"button",day:Je,modifiers:dt,disabled:dt.disabled||void 0,tabIndex:le(Je)?0:-1,"aria-label":Ie(Tn,dt,a.options,a),onClick:qn(Je,dt),onBlur:Pi(Je,dt),onFocus:Ti(Je,dt),onKeyDown:fo(Je,dt),onMouseEnter:ho(Je,dt),onMouseLeave:ml(Je,dt)},E(Tn,a.options,a)):!dt.hidden&&E(Je.date,a.options,a))})))))))),e.footer&&U.createElement(n.Footer,{className:s[Ue.Footer],style:S==null?void 0:S[Ue.Footer],role:"status","aria-live":"polite"},e.footer)))}const _A=({isOpen:t,onClose:e})=>{const{addLot:n}=qt(),[r,i]=V.useState(""),[a,o]=V.useState(""),s=async()=>{if(r.trim()===""){o("El nombre del lote no puede estar vaco.");return}try{await n(r),i(""),o(""),e()}catch(u){o("No se pudo guardar el lote."),console.error(u)}},l=()=>{i(""),o(""),e()};return d.jsx(Ut,{isOpen:t,onClose:l,title:"Crear Nuevo Lote",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicacin o lote en tu finca."}),d.jsx("div",{children:d.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"Ej: Cabritonas Servicio",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-amber focus:ring-0"})}),a&&d.jsx("p",{className:"text-sm text-red-400",children:a}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[d.jsx("button",{onClick:l,className:"px-4 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500",children:"Cancelar"}),d.jsx("button",{onClick:s,className:"px-4 py-2 bg-brand-amber text-black font-bold rounded-lg hover:bg-yellow-500",children:"Guardar Lote"})]})]})})},$L=({isOpen:t,onClose:e})=>{const{addOrigin:n}=qt(),[r,i]=V.useState(""),[a,o]=V.useState(""),s=async()=>{if(r.trim()===""){o("El nombre del origen no puede estar vaco.");return}try{await n(r),i(""),o(""),e()}catch(u){o("No se pudo guardar el origen."),console.error(u)}},l=()=>{i(""),o(""),e()};return d.jsx(Ut,{isOpen:t,onClose:l,title:"Crear Nuevo Origen",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la ganadera o finca de origen."}),d.jsx("div",{children:d.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"Ej: Agropecuaria La Bendicin",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-amber focus:ring-0"})}),a&&d.jsx("p",{className:"text-sm text-red-400",children:a}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[d.jsx("button",{onClick:l,className:"px-4 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500",children:"Cancelar"}),d.jsx("button",{onClick:s,className:"px-4 py-2 bg-brand-amber text-black font-bold rounded-lg hover:bg-yellow-500",children:"Guardar Origen"})]})]})})},OX=[{name:"Alpina",acronym:"A"},{name:"Saanen",acronym:"S"},{name:"Canaria",acronym:"AGC"},{name:"Anglo Nubian",acronym:"AN"},{name:"Toggenburger",acronym:"T"},{name:"Criolla",acronym:"C"}],kX={Hembra:["Cabrita","Cabritona","Cabra Primpara","Cabra Multpara"],Macho:["Cabrito","Cabriton","Macho Cabro"]},IX=({step:t})=>d.jsx("div",{className:"flex items-center gap-2 px-4",children:[1,2,3].map(e=>d.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e<=t?"bg-brand-amber":"bg-zinc-700"}`,style:{width:`${100/3}%`}},e))}),jX=`
  .rdp { --rdp-cell-size: 40px; --rdp-accent-color: #FBBF24; --rdp-background-color: #3a3a3c; --rdp-accent-color-dark: #FBBF24; --rdp-background-color-dark: #3a3a3c; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-outline-selected: 3px solid var(--rdp-accent-color); --rdp-border-radius: 6px; color: #FFF; margin: 1em; }
  .rdp-caption_label, .rdp-nav_button { color: #FBBF24; }
  .rdp-caption_dropdowns { color: #000; }
  .rdp-head_cell { color: #8e8e93; }
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
`,LL=({onSaveSuccess:t,onCancel:e})=>{const{animals:n,lots:r,origins:i,addAnimal:a}=qt(),[o,s]=V.useState(1),[l,u]=V.useState(!1),[c,f]=V.useState(!1),[h,g]=V.useState(!1),[b,v]=V.useState(!1),[x,w]=V.useState(!1),[_,A]=V.useState(""),[I,S]=V.useState(""),[C,E]=V.useState(""),[T,j]=V.useState(""),[R,D]=V.useState(""),[$,L]=V.useState(""),[ne,ae]=V.useState(""),[ce,de]=V.useState("Finca Masparrito"),[Y,re]=V.useState(""),[me,Ae]=V.useState(""),[be,je]=V.useState(""),[We,at]=V.useState(""),[tt,le]=V.useState(!1),[Se,X]=V.useState(""),[Ie,De]=V.useState(null),se=we=>{if(we){const ot=we.getFullYear(),ft=(we.getMonth()+1).toString().padStart(2,"0"),Kt=we.getDate().toString().padStart(2,"0");S(`${ot}-${ft}-${Kt}`)}u(!1)},Ke=async we=>{if(we.preventDefault(),De(null),!_||!I||!C){De({type:"error",text:"Los campos del Paso 1 (ID, Fecha de Nacimiento y Sexo) son obligatorios."}),s(1);return}const ot={id:_.toUpperCase(),sex:C,birthDate:I,status:"Activo",lifecycleStage:We||(C==="Hembra"?"Cabrita":"Cabrito"),location:be||"N/A",origin:ce,birthWeight:Y?parseFloat(Y):void 0,parturitionType:me,fatherId:T,motherId:R,race:$,racialComposition:ne,isReference:tt,observations:Se,reproductiveStatus:"No Aplica"};try{await a(ot),De({type:"success",text:`Animal ${_} agregado con xito.`}),setTimeout(()=>{t()},1500)}catch(ft){De({type:"error",text:"No se pudo guardar el animal."}),console.error("Error al guardar animal:",ft)}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-6",children:[d.jsx(IX,{step:o}),d.jsxs("form",{onSubmit:Ke,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 sm:p-6 border border-brand-border space-y-6",children:[o===1&&d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"Identidad del Animal"}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"animalId",className:"block text-sm font-medium text-zinc-400 mb-1",children:"ID (*)"}),d.jsx("input",{autoFocus:!0,id:"animalId",type:"text",value:_,onChange:we=>A(we.target.value.toUpperCase()),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha Nacimiento (*)"}),d.jsxs("button",{type:"button",onClick:()=>u(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[d.jsx("span",{className:I?"text-white":"text-zinc-500",children:I?new Date(I+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Seleccionar fecha..."}),d.jsx(mA,{className:"text-zinc-400",size:20})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Sexo (*)"}),d.jsxs("select",{id:"sex",value:C,onChange:we=>{E(we.target.value),at("")},className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione..."}),d.jsx("option",{value:"Hembra",children:"Hembra"}),d.jsx("option",{value:"Macho",children:"Macho"})]})]})]}),o===2&&d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"Genealoga y Raza"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Madre"}),d.jsxs("button",{type:"button",onClick:()=>f(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[d.jsx("span",{className:R?"text-white":"text-zinc-500",children:R||"Seleccionar..."}),d.jsx(rf,{className:"text-zinc-400",size:20})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Padre (Reproductor)"}),d.jsxs("button",{type:"button",onClick:()=>g(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[d.jsx("span",{className:T?"text-white":"text-zinc-500",children:T||"Seleccionar..."}),d.jsx(rf,{className:"text-zinc-400",size:20})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"race",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Raza (si es puro)"}),d.jsxs("select",{id:"race",value:$,onChange:we=>L(we.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",children:[d.jsx("option",{value:"",children:"Mestizo / No aplica"}),OX.map(we=>d.jsx("option",{value:we.name,children:we.name},we.name))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"racialComposition",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Composicin Racial (mestizo)"}),d.jsx("input",{id:"racialComposition",type:"text",placeholder:"Ej: 50%A / 50%S",value:ne,onChange:we=>ae(we.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]})]}),o===3&&d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"Manejo y Detalles"}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Ubicacin / Lote"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{id:"location",value:be,onChange:we=>je(we.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",children:[d.jsx("option",{value:"",children:"Seleccione..."}),r.map(we=>d.jsx("option",{value:we.name,children:we.name},we.id))]}),d.jsx("button",{type:"button",onClick:()=>v(!0),className:"p-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl",children:d.jsx(Yo,{size:24})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"origin",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Origen"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{id:"origin",value:ce,onChange:we=>de(we.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",children:[d.jsx("option",{value:"Finca Masparrito",children:"Finca Masparrito"}),i.map(we=>d.jsx("option",{value:we.name,children:we.name},we.id))]}),d.jsx("button",{type:"button",onClick:()=>w(!0),className:"p-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl",children:d.jsx(Yo,{size:24})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lifecycleStage",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Estado de Crecimiento"}),d.jsxs("select",{id:"lifecycleStage",value:We,onChange:we=>at(we.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",disabled:!C,children:[d.jsx("option",{value:"",children:"Seleccione..."}),C&&kX[C].map(we=>d.jsx("option",{value:we,children:we},we))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"birthWeight",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Peso al nacer (Kg)"}),d.jsx("input",{id:"birthWeight",type:"number",step:"0.1",placeholder:"Ej: 4.3",value:Y,onChange:we=>re(we.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"parturitionType",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Tipo de Parto (origen)"}),d.jsxs("select",{id:"parturitionType",value:me,onChange:we=>Ae(we.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",children:[d.jsx("option",{value:"",children:"Seleccione..."}),d.jsx("option",{children:"Simple"}),d.jsx("option",{children:"Doble"}),d.jsx("option",{children:"Triple"})]})]}),d.jsxs("div",{className:"flex items-center gap-3 bg-zinc-800/80 p-3 rounded-xl",children:[d.jsx("input",{id:"isReference",type:"checkbox",checked:tt,onChange:we=>le(we.target.checked),className:"h-5 w-5 rounded text-brand-amber focus:ring-brand-amber"}),d.jsx("label",{htmlFor:"isReference",className:"text-lg text-zinc-300",children:"Es un animal de Referencia?"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"observations",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Observaciones"}),d.jsx("textarea",{id:"observations",value:Se,onChange:we=>X(we.target.value),rows:3,className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-zinc-700",children:[d.jsxs("button",{type:"button",onClick:()=>e?e():s(o-1),disabled:o===1&&!e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-3 px-6 rounded-lg disabled:opacity-40 flex items-center gap-2",children:[d.jsx(Q4,{size:18})," ",o>1?"Anterior":"Cancelar"]}),o<3&&d.jsxs("button",{type:"button",onClick:()=>s(o+1),className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2",children:[" Siguiente ",d.jsx(eH,{size:18})," "]}),o===3&&d.jsx("button",{type:"submit",className:"bg-brand-amber hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg",children:" Agregar Animal "})]}),Ie&&d.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${Ie.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[" ",Ie.type==="success"?d.jsx(sl,{size:18}):d.jsx(lo,{size:18})," ",d.jsx("span",{children:Ie.text})," "]})]})]}),d.jsxs(Ut,{isOpen:l,onClose:()=>u(!1),title:"Seleccionar Fecha de Nacimiento",children:[d.jsx("style",{children:jX}),d.jsx("div",{className:"flex justify-center",children:d.jsx(RL,{mode:"single",selected:I?new Date(I+"T00:00:00"):void 0,onSelect:se,captionLayout:"dropdown",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear(),showOutsideDays:!0})})]}),d.jsx(B1,{isOpen:c,onClose:()=>f(!1),onSelect:we=>{D(we),f(!1)},animals:n,title:"Seleccionar Madre",filterSex:"Hembra"}),d.jsx(B1,{isOpen:h,onClose:()=>g(!1),onSelect:we=>{j(we),g(!1)},animals:n,title:"Seleccionar Reproductor",filterSex:"Macho"}),d.jsx(_A,{isOpen:b,onClose:()=>v(!1)}),d.jsx($L,{isOpen:x,onClose:()=>w(!1)})]})},NX=({isOpen:t,onClose:e})=>{const{addBreedingGroup:n,animals:r}=qt(),[i,a]=V.useState(""),[o,s]=V.useState(""),[l,u]=V.useState(new Date().toISOString().split("T")[0]),[c,f]=V.useState("45"),[h,g]=V.useState(!1),[b,v]=V.useState(!1),[x,w]=V.useState(""),_=async()=>{if(!i||!o||!l||!c){w("Todos los campos son obligatorios.");return}try{const S=new Date(l+"T00:00:00");S.setDate(S.getDate()+parseInt(c,10));const C=S.toISOString().split("T")[0];await n({name:i,sireId:o,startDate:l,endDate:C,status:"Activo"}),A()}catch(S){w("No se pudo guardar el lote de monta."),console.error(S)}},A=()=>{a(""),s(""),u(new Date().toISOString().split("T")[0]),f("45"),w(""),e()},I=V.useMemo(()=>{const S=r.find(C=>C.id===o);return S?`${o} (${S.race||"Mestizo"})`:o},[o,r]);return d.jsxs(d.Fragment,{children:[d.jsx(Ut,{isOpen:t,onClose:A,title:"Activar Nuevo Lote de Monta",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Lote de Monta"}),d.jsx("input",{type:"text",value:i,onChange:S=>a(S.target.value),placeholder:"Ej: Monta Otoo 2025",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Reproductor"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>g(!0),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[d.jsx("span",{className:o?"text-white":"text-zinc-500",children:I||"Seleccionar..."}),d.jsx(rf,{className:"text-zinc-400",size:20})]}),d.jsx("button",{type:"button",onClick:()=>v(!0),className:"flex-shrink-0 p-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl",children:d.jsx(so,{size:24})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),d.jsx("input",{type:"date",value:l,onChange:S=>u(S.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Duracin (das)"}),d.jsx("input",{type:"number",value:c,onChange:S=>f(S.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]})]}),x&&d.jsx("p",{className:"text-sm text-red-400",children:x}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[d.jsx("button",{onClick:A,className:"px-4 py-2 bg-zinc-600 rounded-lg",children:"Cancelar"}),d.jsx("button",{onClick:_,className:"px-4 py-2 bg-brand-amber text-black font-bold rounded-lg",children:"Guardar"})]})]})}),d.jsx(B1,{isOpen:h,onClose:()=>g(!1),onSelect:S=>{s(S),g(!1)},animals:r,title:"Seleccionar Reproductor",filterSex:"Macho"}),d.jsx(Ut,{isOpen:b,onClose:()=>v(!1),title:"Registrar Nuevo Reproductor",children:d.jsx(LL,{onSaveSuccess:()=>{v(!1)},onCancel:()=>v(!1)})})]})},DX=152,MX=21,RX=DX+MX,$X=()=>{const{breedingGroups:t,serviceRecords:e,parturitions:n,animals:r,updateAnimal:i}=qt(),a=V.useMemo(()=>{const o=new Date;o.setHours(0,0,0,0);const s=t.filter(f=>f.status==="Activo"),l=[],u=new Set,c=[];for(const f of s){const h=new Date(f.startDate),g=new Set(e.filter(v=>v.breedingGroupId===f.id).map(v=>v.femaleId));if(g.size===0)continue;let b=!0;for(const v of g){if(n.some(_=>_.goatId===v&&new Date(_.parturitionDate)>=h))continue;b=!1;const w=e.filter(_=>_.femaleId===v&&_.breedingGroupId===f.id).sort((_,A)=>new Date(A.serviceDate).getTime()-new Date(_.serviceDate).getTime())[0];if(w){const _=new Date(w.serviceDate);_.setDate(_.getDate()+RX),o>_&&(u.add(f.id),c.push({femaleId:v,groupId:f.id}))}}b&&l.push(f)}return{concludedGroups:l,groupsWithAlerts:u,femalesToFlag:c}},[t,e,n]);return V.useEffect(()=>{a.femalesToFlag.length>0&&console.log("Detectadas hembras con posible fallo reproductivo:",a.femalesToFlag)},[a.femalesToFlag,r,i]),{concludedGroups:a.concludedGroups,groupsWithAlerts:a.groupsWithAlerts}},VL=V.createContext({});function Cu(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const SA=V.createContext(null),EA=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LX(t=!0){const e=V.useContext(SA);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=V.useId();V.useEffect(()=>{t&&i(a)},[t]);const o=V.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const AA=typeof window<"u",TA=AA?V.useLayoutEffect:V.useEffect,bi=t=>t;let FL=bi;function PA(t){let e;return()=>(e===void 0&&(e=t()),e)}const of=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ro=t=>t*1e3,$o=t=>t/1e3,VX={useManualTiming:!1};function FX(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(u){a.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const g=f&&r?e:n;return c&&a.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(s),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const mg=["read","resolveKeyframes","update","preRender","render","postRender"],zX=40;function zL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=mg.reduce((w,_)=>(w[_]=FX(a),w),{}),{read:s,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:h}=o,g=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,zX),1),i.timestamp=w,i.isProcessing=!0,s.process(i),l.process(i),u.process(i),c.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},b=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:mg.reduce((w,_)=>{const A=o[_];return w[_]=(I,S=!1,C=!1)=>(n||b(),A.schedule(I,S,C)),w},{}),cancel:w=>{for(let _=0;_<mg.length;_++)o[mg[_]].cancel(w)},state:i,steps:o}}const{schedule:Jt,cancel:Xo,state:rr,steps:jx}=zL(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0),BL=V.createContext({strict:!1}),hO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sf={};for(const t in hO)sf[t]={isEnabled:e=>hO[t].some(n=>!!e[n])};function BX(t){for(const e in t)sf[e]={...sf[e],...t[e]}}const UX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UX.has(t)}let UL=t=>!Yy(t);function WX(t){t&&(UL=e=>e.startsWith("on")?!Yy(e):t(e))}try{WX(require("@emotion/is-prop-valid").default)}catch{}function qX(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UL(i)||n===!0&&Yy(i)||!e&&!Yy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function KX(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const B0=V.createContext({});function sp(t){return typeof t=="string"||Array.isArray(t)}function U0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const CA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],OA=["initial",...CA];function W0(t){return U0(t.animate)||OA.some(e=>sp(t[e]))}function WL(t){return!!(W0(t)||t.variants)}function HX(t,e){if(W0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sp(n)?n:void 0,animate:sp(r)?r:void 0}}return t.inherit!==!1?e:{}}function GX(t){const{initial:e,animate:n}=HX(t,V.useContext(B0));return V.useMemo(()=>({initial:e,animate:n}),[pO(e),pO(n)])}function pO(t){return Array.isArray(t)?t.join(" "):t}const YX=Symbol.for("motionComponentSymbol");function xc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function XX(t,e,n){return V.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):xc(n)&&(n.current=r))},[e])}const kA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QX="framerAppearId",qL="data-"+kA(QX),{schedule:IA}=zL(queueMicrotask,!1),KL=V.createContext({});function JX(t,e,n,r,i){var a,o;const{visualElement:s}=V.useContext(B0),l=V.useContext(BL),u=V.useContext(SA),c=V.useContext(EA).reducedMotion,f=V.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const h=f.current,g=V.useContext(KL);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&ZX(f.current,n,i,g);const b=V.useRef(!1);V.useInsertionEffect(()=>{h&&b.current&&h.update(n,u)});const v=n[qL],x=V.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return TA(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),IA.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),V.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,v)}),x.current=!1))}),h}function ZX(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:HL(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&xc(s),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function HL(t){if(t)return t.options.allowProjection!==!1?t.projection:HL(t.parent)}function eQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,o;t&&BX(t);function s(u,c){let f;const h={...V.useContext(EA),...u,layoutId:tQ(u)},{isStatic:g}=h,b=GX(u),v=r(u,g);if(!g&&AA){nQ();const x=rQ(h);f=x.MeasureLayout,b.visualElement=JX(i,v,h,e,x.ProjectionNode)}return d.jsxs(B0.Provider,{value:b,children:[f&&b.visualElement?d.jsx(f,{visualElement:b.visualElement,...h}):null,n(i,u,XX(v,b.visualElement,c),v,g,b.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const l=V.forwardRef(s);return l[YX]=i,l}function tQ({layoutId:t}){const e=V.useContext(VL).id;return e&&t!==void 0?e+"-"+t:t}function nQ(t,e){V.useContext(BL).strict}function rQ(t){const{drag:e,layout:n}=sf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const iQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jA(t){return typeof t!="string"||t.includes("-")?!1:!!(iQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function mO(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function NA(t,e,n,r){if(typeof e=="function"){const[i,a]=mO(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=mO(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const W1=t=>Array.isArray(t),aQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),oQ=t=>W1(t)?t[t.length-1]||0:t,sr=t=>!!(t&&t.getVelocity);function ey(t){const e=sr(t)?t.get():t;return aQ(e)?e.toValue():e}function sQ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const o={latestValues:lQ(r,i,a,t),renderState:e()};return n&&(o.onMount=s=>n({props:r,current:s,...o}),o.onUpdate=s=>n(s)),o}const GL=t=>(e,n)=>{const r=V.useContext(B0),i=V.useContext(SA),a=()=>sQ(t,e,r,i);return n?a():Cu(a)};function lQ(t,e,n,r){const i={},a=r(t,{});for(const h in a)i[h]=ey(a[h]);let{initial:o,animate:s}=t;const l=W0(t),u=WL(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?s:o;if(f&&typeof f!="boolean"&&!U0(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const b=NA(t,h[g]);if(b){const{transitionEnd:v,transition:x,...w}=b;for(const _ in w){let A=w[_];if(Array.isArray(A)){const I=c?A.length-1:0;A=A[I]}A!==null&&(i[_]=A)}for(const _ in v)i[_]=v[_]}}}return i}const Kf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ou=new Set(Kf),YL=t=>e=>typeof e=="string"&&e.startsWith(t),XL=YL("--"),uQ=YL("var(--"),DA=t=>uQ(t)?cQ.test(t.split("/*")[0].trim()):!1,cQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,QL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qo=(t,e,n)=>n>e?e:n<t?t:n,Hf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lp={...Hf,transform:t=>Qo(0,1,t)},gg={...Hf,default:1},gm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vs=gm("deg"),eo=gm("%"),Ge=gm("px"),fQ=gm("vh"),dQ=gm("vw"),gO={...eo,parse:t=>eo.parse(t)/100,transform:t=>eo.transform(t*100)},hQ={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge},pQ={rotate:vs,rotateX:vs,rotateY:vs,rotateZ:vs,scale:gg,scaleX:gg,scaleY:gg,scaleZ:gg,skew:vs,skewX:vs,skewY:vs,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:lp,originX:gO,originY:gO,originZ:Ge},yO={...Hf,transform:Math.round},MA={...hQ,...pQ,zIndex:yO,size:Ge,fillOpacity:lp,strokeOpacity:lp,numOctaves:yO},mQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gQ=Kf.length;function yQ(t,e,n){let r="",i=!0;for(let a=0;a<gQ;a++){const o=Kf[a],s=t[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const u=QL(s,MA[o]);if(!l){i=!1;const c=mQ[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function RA(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,s=!1;for(const l in e){const u=e[l];if(Ou.has(l)){o=!0;continue}else if(XL(l)){i[l]=u;continue}else{const c=QL(u,MA[l]);l.startsWith("origin")?(s=!0,a[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=yQ(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;r.transformOrigin=`${l} ${u} ${c}`}}const vQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},bQ={offset:"strokeDashoffset",array:"strokeDasharray"};function xQ(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?vQ:bQ;t[a.offset]=Ge.transform(-r);const o=Ge.transform(e),s=Ge.transform(n);t[a.array]=`${o} ${s}`}function vO(t,e,n){return typeof t=="string"?t:Ge.transform(e+n*t)}function wQ(t,e,n){const r=vO(e,t.x,t.width),i=vO(n,t.y,t.height);return`${r} ${i}`}function $A(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},c,f){if(RA(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g,dimensions:b}=t;h.transform&&(b&&(g.transform=h.transform),delete h.transform),b&&(i!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=wQ(b,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&xQ(h,o,s,l,!1)}const LA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),JL=()=>({...LA(),attrs:{}}),VA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZL(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const eV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tV(t,e,n,r){ZL(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(eV.has(i)?i:kA(i),e.attrs[i])}const Xy={};function _Q(t){Object.assign(Xy,t)}function nV(t,{layout:e,layoutId:n}){return Ou.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Xy[t]||t==="opacity")}function FA(t,e,n){var r;const{style:i}=t,a={};for(const o in i)(sr(i[o])||e.style&&sr(e.style[o])||nV(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function rV(t,e,n){const r=FA(t,e,n);for(const i in t)if(sr(t[i])||sr(e[i])){const a=Kf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function SQ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const bO=["x","y","width","height","cx","cy","r"],EQ={useVisualState:GL({scrapeMotionValuesFromProps:rV,createRenderState:JL,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const s in i)if(Ou.has(s)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let s=0;s<bO.length;s++){const l=bO[s];t[l]!==e[l]&&(o=!0)}o&&Jt.read(()=>{SQ(n,r),Jt.render(()=>{$A(r,i,VA(n.tagName),t.transformTemplate),tV(n,r)})})}})},AQ={useVisualState:GL({scrapeMotionValuesFromProps:FA,createRenderState:LA})};function iV(t,e,n){for(const r in e)!sr(e[r])&&!nV(r,n)&&(t[r]=e[r])}function TQ({transformTemplate:t},e){return V.useMemo(()=>{const n=LA();return RA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function PQ(t,e){const n=t.style||{},r={};return iV(r,n,t),Object.assign(r,TQ(t,e)),r}function CQ(t,e){const n={},r=PQ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function OQ(t,e,n,r){const i=V.useMemo(()=>{const a=JL();return $A(a,e,VA(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};iV(a,t.style,t),i.style={...a,...i.style}}return i}function kQ(t=!1){return(n,r,i,{latestValues:a},o)=>{const l=(jA(n)?OQ:CQ)(r,a,o,n),u=qX(r,typeof n=="string",t),c=n!==V.Fragment?{...u,...l,ref:i}:{},{children:f}=r,h=V.useMemo(()=>sr(f)?f.get():f,[f]);return V.createElement(n,{...c,children:h})}}function IQ(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...jA(r)?EQ:AQ,preloadedFeatures:t,useRender:kQ(i),createVisualElement:e,Component:r};return eQ(o)}}function aV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function q0(t,e,n){const r=t.getProps();return NA(r,e,n!==void 0?n:r.custom,t)}const jQ=PA(()=>window.ScrollTimeline!==void 0);class NQ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(jQ()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class DQ extends NQ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function zA(t,e){return t?t[e]||t.default||t:void 0}const q1=2e4;function oV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<q1;)e+=n,r=t.next(e);return e>=q1?1/0:e}function BA(t){return typeof t=="function"}function xO(t,e){t.timeline=e,t.onfinish=null}const UA=t=>Array.isArray(t)&&typeof t[0]=="number",MQ={linearEasing:void 0};function RQ(t,e){const n=PA(t);return()=>{var r;return(r=MQ[e])!==null&&r!==void 0?r:n()}}const Qy=RQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sV=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(of(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function lV(t){return!!(typeof t=="function"&&Qy()||!t||typeof t=="string"&&(t in K1||Qy())||UA(t)||Array.isArray(t)&&t.every(lV))}const th=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,K1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:th([0,.65,.55,1]),circOut:th([.55,0,1,.45]),backIn:th([.31,.01,.66,-.59]),backOut:th([.33,1.53,.69,.99])};function uV(t,e){if(t)return typeof t=="function"&&Qy()?sV(t,e):UA(t)?th(t):Array.isArray(t)?t.map(n=>uV(n,e)||K1.easeOut):K1[t]}const pa={x:!1,y:!1};function cV(){return pa.x||pa.y}function $Q(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function fV(t,e){const n=$Q(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function wO(t){return e=>{e.pointerType==="touch"||cV()||t(e)}}function LQ(t,e,n={}){const[r,i,a]=fV(t,n),o=wO(s=>{const{target:l}=s,u=e(s);if(typeof u!="function"||!l)return;const c=wO(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const dV=(t,e)=>e?t===e?!0:dV(t,e.parentElement):!1,WA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,VQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FQ(t){return VQ.has(t.tagName)||t.tabIndex!==-1}const nh=new WeakSet;function _O(t){return e=>{e.key==="Enter"&&t(e)}}function Nx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zQ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=_O(()=>{if(nh.has(n))return;Nx(n,"down");const i=_O(()=>{Nx(n,"up")}),a=()=>Nx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function SO(t){return WA(t)&&!cV()}function BQ(t,e,n={}){const[r,i,a]=fV(t,n),o=s=>{const l=s.currentTarget;if(!SO(s)||nh.has(l))return;nh.add(l);const u=e(s),c=(g,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!SO(g)||!nh.has(l))&&(nh.delete(l),typeof u=="function"&&u(g,{success:b}))},f=g=>{c(g,n.useGlobalTarget||dV(l,g.target))},h=g=>{c(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(s=>{!FQ(s)&&s.getAttribute("tabindex")===null&&(s.tabIndex=0),(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),s.addEventListener("focus",u=>zQ(u,i),i)}),a}function UQ(t){return t==="x"||t==="y"?pa[t]?null:(pa[t]=!0,()=>{pa[t]=!1}):pa.x||pa.y?null:(pa.x=pa.y=!0,()=>{pa.x=pa.y=!1})}const hV=new Set(["width","height","top","left","right","bottom",...Kf]);let ty;function WQ(){ty=void 0}const to={now:()=>(ty===void 0&&to.set(rr.isProcessing||VX.useManualTiming?rr.timestamp:performance.now()),ty),set:t=>{ty=t,queueMicrotask(WQ)}};function qA(t,e){t.indexOf(e)===-1&&t.push(e)}function KA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function qQ([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[a]=t.splice(e,1);t.splice(i,0,a)}return t}class HA{constructor(){this.subscriptions=[]}add(e){return qA(this.subscriptions,e),()=>KA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pV(t,e){return e?t*(1e3/e):0}const EO=30,KQ=t=>!isNaN(parseFloat(t)),xh={current:void 0};class HQ{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=to.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=to.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new HA);const r=this.events[e].add(n);return e==="change"?()=>{r(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return xh.current&&xh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=to.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,EO);return pV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lf(t,e){return new HQ(t,e)}function GQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lf(n))}function GA(t,e){const n=q0(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const s=oQ(a[o]);GQ(t,o,s)}}function YQ(t){return!!(sr(t)&&t.add)}function H1(t,e){const n=t.getValue("willChange");if(YQ(n))return n.add(e)}function mV(t){return t.props[qL]}const gV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XQ=1e-7,QQ=12;function JQ(t,e,n,r,i){let a,o,s=0;do o=e+(n-e)/2,a=gV(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>XQ&&++s<QQ);return o}function ym(t,e,n,r){if(t===e&&n===r)return bi;const i=a=>JQ(a,0,1,t,n);return a=>a===0||a===1?a:gV(i(a),e,r)}const yV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vV=t=>e=>1-t(1-e),bV=ym(.33,1.53,.69,.99),YA=vV(bV),xV=yV(YA),wV=t=>(t*=2)<1?.5*YA(t):.5*(2-Math.pow(2,-10*(t-1))),XA=t=>1-Math.sin(Math.acos(t)),_V=vV(XA),SV=yV(XA),EV=t=>/^0[^.\s]+$/u.test(t);function ZQ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EV(t):!0}const wh=t=>Math.round(t*1e5)/1e5,QA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eJ(t){return t==null}const tJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,JA=(t,e)=>n=>!!(typeof n=="string"&&tJ.test(n)&&n.startsWith(t)||e&&!eJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),AV=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(QA);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},nJ=t=>Qo(0,255,t),Dx={...Hf,transform:t=>Math.round(nJ(t))},Yl={test:JA("rgb","red"),parse:AV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dx.transform(t)+", "+Dx.transform(e)+", "+Dx.transform(n)+", "+wh(lp.transform(r))+")"};function rJ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const G1={test:JA("#"),parse:rJ,transform:Yl.transform},wc={test:JA("hsl","hue"),parse:AV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+eo.transform(wh(e))+", "+eo.transform(wh(n))+", "+wh(lp.transform(r))+")"},vr={test:t=>Yl.test(t)||G1.test(t)||wc.test(t),parse:t=>Yl.test(t)?Yl.parse(t):wc.test(t)?wc.parse(t):G1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yl.transform(t):wc.transform(t)},iJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(QA))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(iJ))===null||n===void 0?void 0:n.length)||0)>0}const TV="number",PV="color",oJ="var",sJ="var(",AO="${}",lJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function up(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=e.replace(lJ,l=>(vr.test(l)?(r.color.push(a),i.push(PV),n.push(vr.parse(l))):l.startsWith(sJ)?(r.var.push(a),i.push(oJ),n.push(l)):(r.number.push(a),i.push(TV),n.push(parseFloat(l))),++a,AO)).split(AO);return{values:n,split:s,indexes:r,types:i}}function CV(t){return up(t).values}function OV(t){const{split:e,types:n}=up(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const s=n[o];s===TV?a+=wh(i[o]):s===PV?a+=vr.transform(i[o]):a+=i[o]}return a}}const uJ=t=>typeof t=="number"?0:t;function cJ(t){const e=CV(t);return OV(t)(e.map(uJ))}const el={test:aJ,parse:CV,createTransformer:OV,getAnimatableNone:cJ},fJ=new Set(["brightness","contrast","saturate","opacity"]);function dJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(QA)||[];if(!r)return t;const i=n.replace(r,"");let a=fJ.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const hJ=/\b([a-z-]*)\(.*?\)/gu,Y1={...el,getAnimatableNone:t=>{const e=t.match(hJ);return e?e.map(dJ).join(" "):t}},pJ={...MA,color:vr,backgroundColor:vr,outlineColor:vr,fill:vr,stroke:vr,borderColor:vr,borderTopColor:vr,borderRightColor:vr,borderBottomColor:vr,borderLeftColor:vr,filter:Y1,WebkitFilter:Y1},ZA=t=>pJ[t];function kV(t,e){let n=ZA(t);return n!==Y1&&(n=el),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mJ=new Set(["auto","none","0"]);function gJ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!mJ.has(a)&&up(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=kV(n,i)}const TO=t=>t===Hf||t===Ge,PO=(t,e)=>parseFloat(t.split(", ")[e]),CO=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return PO(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?PO(a[1],t):0}},yJ=new Set(["x","y","z"]),vJ=Kf.filter(t=>!yJ.has(t));function bJ(t){const e=[];return vJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const uf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:CO(4,13),y:CO(5,14)};uf.translateX=uf.x;uf.translateY=uf.y;const au=new Set;let X1=!1,Q1=!1;function IV(){if(Q1){const t=Array.from(au).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=bJ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var s;(s=r.getValue(a))===null||s===void 0||s.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Q1=!1,X1=!1,au.forEach(t=>t.complete()),au.clear()}function jV(){au.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Q1=!0)})}function xJ(){jV(),IV()}class eT{constructor(e,n,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(au.add(this),X1||(X1=!0,Jt.read(jV),Jt.resolveKeyframes(IV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),au.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,au.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const NV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _J(t){const e=wJ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function DV(t,e,n=1){const[r,i]=_J(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return NV(o)?parseFloat(o):o}return DA(i)?DV(i,e,n+1):i}const MV=t=>e=>e.test(t),SJ={test:t=>t==="auto",parse:t=>t},RV=[Hf,Ge,eo,vs,dQ,fQ,SJ],OO=t=>RV.find(MV(t));class $V extends eT{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),DA(u))){const c=DV(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hV.has(r)||e.length!==2)return;const[i,a]=e,o=OO(i),s=OO(a);if(o!==s)if(TO(o)&&TO(s))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)ZQ(e[i])&&r.push(i);r.length&&gJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uf[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,s=i[o];i[o]=uf[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const kO=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(el.test(t)||t==="0")&&!t.startsWith("url("));function EJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function AJ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=kO(i,e),s=kO(a,e);return!o||!s?!1:EJ(t)||(n==="spring"||BA(n))&&r}const TJ=t=>t!==null;function K0(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(TJ),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const PJ=40;class LV{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=to.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>PJ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&xJ(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=to.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:s,onUpdate:l,isGenerator:u}=this.options;if(!u&&!AJ(e,r,i,a))if(o)this.options.duration=0;else{l&&l(K0(e,this.options,n)),s&&s(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const on=(t,e,n)=>t+(e-t)*n;function Mx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=Mx(l,s,t+1/3),a=Mx(l,s,t),o=Mx(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Jy(t,e){return n=>n>0?e:t}const Rx=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},OJ=[G1,Yl,wc],kJ=t=>OJ.find(e=>e.test(t));function IO(t){const e=kJ(t);if(!e)return!1;let n=e.parse(t);return e===wc&&(n=CJ(n)),n}const jO=(t,e)=>{const n=IO(t),r=IO(e);if(!n||!r)return Jy(t,e);const i={...n};return a=>(i.red=Rx(n.red,r.red,a),i.green=Rx(n.green,r.green,a),i.blue=Rx(n.blue,r.blue,a),i.alpha=on(n.alpha,r.alpha,a),Yl.transform(i))},IJ=(t,e)=>n=>e(t(n)),vm=(...t)=>t.reduce(IJ),J1=new Set(["none","hidden"]);function jJ(t,e){return J1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function NJ(t,e){return n=>on(t,e,n)}function tT(t){return typeof t=="number"?NJ:typeof t=="string"?DA(t)?Jy:vr.test(t)?jO:RJ:Array.isArray(t)?VV:typeof t=="object"?vr.test(t)?jO:DJ:Jy}function VV(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>tT(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function DJ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=tT(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function MJ(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],s=t.indexes[o][i[o]],l=(n=t.values[s])!==null&&n!==void 0?n:0;r[a]=l,i[o]++}return r}const RJ=(t,e)=>{const n=el.createTransformer(e),r=up(t),i=up(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?J1.has(t)&&!i.values.length||J1.has(e)&&!r.values.length?jJ(t,e):vm(VV(MJ(r,i),i.values),n):Jy(t,e)};function FV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?on(t,e,n):tT(t)(t,e)}const $J=5;function zV(t,e,n){const r=Math.max(e-$J,0);return pV(n-t(r),e-r)}const gn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$x=.001;function LJ({duration:t=gn.duration,bounce:e=gn.bounce,velocity:n=gn.velocity,mass:r=gn.mass}){let i,a,o=1-e;o=Qo(gn.minDamping,gn.maxDamping,o),t=Qo(gn.minDuration,gn.maxDuration,$o(t)),o<1?(i=u=>{const c=u*o,f=c*t,h=c-n,g=Z1(u,o),b=Math.exp(-f);return $x-h/g*b},a=u=>{const f=u*o*t,h=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,b=Math.exp(-f),v=Z1(Math.pow(u,2),o);return(-i(u)+$x>0?-1:1)*((h-g)*b)/v}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-$x+c*f},a=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const s=5/t,l=FJ(i,a,s);if(t=Ro(t),isNaN(l))return{stiffness:gn.stiffness,damping:gn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const VJ=12;function FJ(t,e,n){let r=n;for(let i=1;i<VJ;i++)r=r-t(r)/e(r);return r}function Z1(t,e){return t*Math.sqrt(1-e*e)}const zJ=["duration","bounce"],BJ=["stiffness","damping","mass"];function NO(t,e){return e.some(n=>t[n]!==void 0)}function UJ(t){let e={velocity:gn.velocity,stiffness:gn.stiffness,damping:gn.damping,mass:gn.mass,isResolvedFromDuration:!1,...t};if(!NO(t,BJ)&&NO(t,zJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Qo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:gn.mass,stiffness:i,damping:a}}else{const n=LJ(t);e={...e,...n,mass:gn.mass},e.isResolvedFromDuration=!0}return e}function BV(t=gn.visualDuration,e=gn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:g}=UJ({...n,velocity:-$o(n.velocity||0)}),b=h||0,v=u/(2*Math.sqrt(l*c)),x=o-a,w=$o(Math.sqrt(l/c)),_=Math.abs(x)<5;r||(r=_?gn.restSpeed.granular:gn.restSpeed.default),i||(i=_?gn.restDelta.granular:gn.restDelta.default);let A;if(v<1){const S=Z1(w,v);A=C=>{const E=Math.exp(-v*w*C);return o-E*((b+v*w*x)/S*Math.sin(S*C)+x*Math.cos(S*C))}}else if(v===1)A=S=>o-Math.exp(-w*S)*(x+(b+w*x)*S);else{const S=w*Math.sqrt(v*v-1);A=C=>{const E=Math.exp(-v*w*C),T=Math.min(S*C,300);return o-E*((b+v*w*x)*Math.sinh(T)+S*x*Math.cosh(T))/S}}const I={calculatedDuration:g&&f||null,next:S=>{const C=A(S);if(g)s.done=S>=f;else{let E=0;v<1&&(E=S===0?Ro(b):zV(A,S,C));const T=Math.abs(E)<=r,j=Math.abs(o-C)<=i;s.done=T&&j}return s.value=s.done?o:C,s},toString:()=>{const S=Math.min(oV(I),q1),C=sV(E=>I.next(S*E).value,S,30);return S+"ms "+C}};return I}function DO({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],h={done:!1,value:f},g=T=>s!==void 0&&T<s||l!==void 0&&T>l,b=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let v=n*e;const x=f+v,w=o===void 0?x:o(x);w!==x&&(v=w-f);const _=T=>-v*Math.exp(-T/r),A=T=>w+_(T),I=T=>{const j=_(T),R=A(T);h.done=Math.abs(j)<=u,h.value=h.done?w:R};let S,C;const E=T=>{g(h.value)&&(S=T,C=BV({keyframes:[h.value,b(h.value)],velocity:zV(A,T,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:T=>{let j=!1;return!C&&S===void 0&&(j=!0,I(T),E(T)),S!==void 0&&T>=S?C.next(T-S):(!j&&I(T),h)}}}const WJ=ym(.42,0,1,1),qJ=ym(0,0,.58,1),UV=ym(.42,0,.58,1),KJ=t=>Array.isArray(t)&&typeof t[0]!="number",HJ={linear:bi,easeIn:WJ,easeInOut:UV,easeOut:qJ,circIn:XA,circInOut:SV,circOut:_V,backIn:YA,backInOut:xV,backOut:bV,anticipate:wV},MO=t=>{if(UA(t)){FL(t.length===4);const[e,n,r,i]=t;return ym(e,n,r,i)}else if(typeof t=="string")return HJ[t];return t};function GJ(t,e,n){const r=[],i=n||FV,a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||bi:e;s=vm(l,s)}r.push(s)}return r}function WV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(FL(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=GJ(e,r,i),l=s.length,u=c=>{if(o&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const h=of(t[f],t[f+1],c);return s[f](h)};return n?c=>u(Qo(t[0],t[a-1],c)):u}function YJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=of(0,e,r);t.push(on(n,1,i))}}function XJ(t){const e=[0];return YJ(e,t.length-1),e}function QJ(t,e){return t.map(n=>n*e)}function JJ(t,e){return t.map(()=>e||UV).splice(0,t.length-1)}function Zy({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=KJ(r)?r.map(MO):MO(r),a={done:!1,value:e[0]},o=QJ(n&&n.length===e.length?n:XJ(e),t),s=WV(o,e,{ease:Array.isArray(i)?i:JJ(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}const ZJ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Jt.update(e,!0),stop:()=>Xo(e),now:()=>rr.isProcessing?rr.timestamp:to.now()}},eZ={decay:DO,inertia:DO,tween:Zy,keyframes:Zy,spring:BV},tZ=t=>t/100;class nT extends LV{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||eT,s=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(a,s,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,s=BA(n)?n:eZ[n]||Zy;let l,u;s!==Zy&&typeof e[0]!="number"&&(l=vm(tZ,FV(e[0],e[1])),e=[0,100]);const c=s({...this.options,keyframes:e});a==="mirror"&&(u=s({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=oV(c));const{calculatedDuration:f}=c,h=f+i,g=h*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:g,repeatType:b,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-h*(this.speed>=0?1:-1),_=this.speed>=0?w<0:w>c;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let A=this.currentTime,I=a;if(g){const T=Math.min(this.currentTime,c)/f;let j=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&j--,j=Math.min(j,g+1),!!(j%2)&&(b==="reverse"?(R=1-R,v&&(R-=v/f)):b==="mirror"&&(I=o)),A=Qo(0,1,R)*f}const S=_?{done:!1,value:l[0]}:I.next(A);s&&(S.value=s(S.value));let{done:C}=S;!_&&u!==null&&(C=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&i!==void 0&&(S.value=K0(l,this.options,i)),x&&x(S.value),E&&this.finish(),S}get duration(){const{resolved:e}=this;return e?$o(e.calculatedDuration):0}get time(){return $o(this.currentTime)}set time(e){e=Ro(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$o(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ZJ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nZ=new Set(["opacity","clipPath","filter","transform"]);function rZ(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=uV(s,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const iZ=PA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ev=10,aZ=2e4;function oZ(t){return BA(t.type)||t.type==="spring"||!lV(t.ease)}function sZ(t,e){const n=new nT({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<aZ;)r=n.sample(a),i.push(r.value),a+=ev;return{times:void 0,keyframes:i,duration:a-ev,ease:"linear"}}const qV={anticipate:wV,backInOut:xV,circInOut:SV};function lZ(t){return t in qV}class RO extends LV{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new $V(a,(o,s)=>this.onKeyframesResolved(o,s),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:o,motionValue:s,name:l,startTime:u}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof a=="string"&&Qy()&&lZ(a)&&(a=qV[a]),oZ(this.options)){const{onComplete:f,onUpdate:h,motionValue:g,element:b,...v}=this.options,x=sZ(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,a=x.ease,o="keyframes"}const c=rZ(s.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(xO(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;s.set(K0(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return $o(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return $o(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ro(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return bi;const{animation:r}=n;xO(r,e)}return bi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:o,times:s}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:h,...g}=this.options,b=new nT({...g,keyframes:r,duration:i,type:a,ease:o,times:s,isGenerator:!0}),v=Ro(this.time);u.setWithVelocity(b.sample(v-ev).value,b.sample(v).value,ev)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:s}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return iZ()&&r&&nZ.has(r)&&!l&&!u&&!i&&a!=="mirror"&&o!==0&&s!=="inertia"}}const uZ={type:"spring",stiffness:500,damping:25,restSpeed:10},cZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fZ={type:"keyframes",duration:.8},dZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hZ=(t,{keyframes:e})=>e.length>2?fZ:Ou.has(t)?t.startsWith("scale")?cZ(e[1]):uZ:dZ;function pZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const rT=(t,e,n,r={},i,a)=>o=>{const s=zA(r,t)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ro(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-u,onUpdate:h=>{e.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:a?void 0:i};pZ(s)||(c={...c,...hZ(t,c)}),c.duration&&(c.duration=Ro(c.duration)),c.repeatDelay&&(c.repeatDelay=Ro(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const h=K0(c.keyframes,s);if(h!==void 0)return Jt.update(()=>{c.onUpdate(h),c.onComplete()}),new DQ([])}return!a&&RO.supports(c)?new RO(c):new nT(c)};function mZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function KV(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:s,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(a=t.latestValues[f])!==null&&a!==void 0?a:null),g=l[f];if(g===void 0||c&&mZ(c,f))continue;const b={delay:n,...zA(o||{},f)};let v=!1;if(window.MotionHandoffAnimation){const w=mV(t);if(w){const _=window.MotionHandoffAnimation(w,f,Jt);_!==null&&(b.startTime=_,v=!0)}}H1(t,f),h.start(rT(f,h,g,t.shouldReduceMotion&&hV.has(f)?{type:!1}:b,t,v));const x=h.animation;x&&u.push(x)}return s&&Promise.all(u).then(()=>{Jt.update(()=>{s&&GA(t,s)})}),u}function e_(t,e,n={}){var r;const i=q0(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(KV(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=a;return gZ(t,e,c+u,f,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,c]=l==="beforeChildren"?[o,s]:[s,o];return u().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function gZ(t,e,n=0,r=0,i=1,a){const o=[],s=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(t.variantChildren).sort(yZ).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(e_(u,e,{...a,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function yZ(t,e){return t.sortNodePosition(e)}function HV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>e_(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=e_(t,e,n);else{const i=typeof e=="function"?q0(t,e,n.custom):e;r=Promise.all(KV(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const vZ=OA.length;function GV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?GV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vZ;n++){const r=OA[n],i=t.props[r];(sp(i)||i===!1)&&(e[r]=i)}return e}const bZ=[...CA].reverse(),xZ=CA.length;function wZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>HV(t,n,r)))}function _Z(t){let e=wZ(t),n=$O(),r=!0;const i=l=>(u,c)=>{var f;const h=q0(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:g,transitionEnd:b,...v}=h;u={...u,...v,...b}}return u};function a(l){e=l(t)}function o(l){const{props:u}=t,c=GV(t.parent)||{},f=[],h=new Set;let g={},b=1/0;for(let x=0;x<xZ;x++){const w=bZ[x],_=n[w],A=u[w]!==void 0?u[w]:c[w],I=sp(A),S=w===l?_.isActive:null;S===!1&&(b=x);let C=A===c[w]&&A!==u[w]&&I;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...g},!_.isActive&&S===null||!A&&!_.prevProp||U0(A)||typeof A=="boolean")continue;const E=SZ(_.prevProp,A);let T=E||w===l&&_.isActive&&!C&&I||x>b&&I,j=!1;const R=Array.isArray(A)?A:[A];let D=R.reduce(i(w),{});S===!1&&(D={});const{prevResolvedValues:$={}}=_,L={...$,...D},ne=de=>{T=!0,h.has(de)&&(j=!0,h.delete(de)),_.needsAnimating[de]=!0;const Y=t.getValue(de);Y&&(Y.liveStyle=!1)};for(const de in L){const Y=D[de],re=$[de];if(g.hasOwnProperty(de))continue;let me=!1;W1(Y)&&W1(re)?me=!aV(Y,re):me=Y!==re,me?Y!=null?ne(de):h.add(de):Y!==void 0&&h.has(de)?ne(de):_.protectedKeys[de]=!0}_.prevProp=A,_.prevResolvedValues=D,_.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(C&&E)||j)&&f.push(...R.map(de=>({animation:de,options:{type:w}})))}if(h.size){const x={};h.forEach(w=>{const _=t.getBaseTarget(w),A=t.getValue(w);A&&(A.liveStyle=!0),x[w]=_??null}),f.push({animation:x})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function s(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=$O(),r=!0}}}function SZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aV(e,t):!1}function kl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $O(){return{animate:kl(!0),whileInView:kl(),whileHover:kl(),whileTap:kl(),whileDrag:kl(),whileFocus:kl(),exit:kl()}}class ll{constructor(e){this.isMounted=!1,this.node=e}update(){}}class EZ extends ll{constructor(e){super(e),e.animationState||(e.animationState=_Z(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();U0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let AZ=0;class TZ extends ll{constructor(){super(...arguments),this.id=AZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PZ={animation:{Feature:EZ},exit:{Feature:TZ}};function cp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function bm(t){return{point:{x:t.pageX,y:t.pageY}}}const CZ=t=>e=>WA(e)&&t(e,bm(e));function _h(t,e,n,r){return cp(t,e,CZ(n),r)}const LO=(t,e)=>Math.abs(t-e);function OZ(t,e){const n=LO(t.x,e.x),r=LO(t.y,e.y);return Math.sqrt(n**2+r**2)}class YV{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Vx(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=OZ(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:b}=f,{timestamp:v}=rr;this.history.push({...b,timestamp:v});const{onStart:x,onMove:w}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Lx(h,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Vx(f.type==="pointercancel"?this.lastMoveEventInfo:Lx(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,x),b&&b(f,x)},!WA(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=bm(e),s=Lx(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=rr;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Vx(s,this.history)),this.removeListeners=vm(_h(this.contextWindow,"pointermove",this.handlePointerMove),_h(this.contextWindow,"pointerup",this.handlePointerUp),_h(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xo(this.updatePoint)}}function Lx(t,e){return e?{point:e(t.point)}:t}function VO(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vx({point:t},e){return{point:t,delta:VO(t,XV(e)),offset:VO(t,kZ(e)),velocity:IZ(e,.1)}}function kZ(t){return t[0]}function XV(t){return t[t.length-1]}function IZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=XV(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ro(e)));)n--;if(!r)return{x:0,y:0};const a=$o(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const QV=1e-4,jZ=1-QV,NZ=1+QV,JV=.01,DZ=0-JV,MZ=0+JV;function Si(t){return t.max-t.min}function RZ(t,e,n){return Math.abs(t-e)<=n}function FO(t,e,n,r=.5){t.origin=r,t.originPoint=on(e.min,e.max,t.origin),t.scale=Si(n)/Si(e),t.translate=on(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jZ&&t.scale<=NZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=DZ&&t.translate<=MZ||isNaN(t.translate))&&(t.translate=0)}function Sh(t,e,n,r){FO(t.x,e.x,n.x,r?r.originX:void 0),FO(t.y,e.y,n.y,r?r.originY:void 0)}function zO(t,e,n){t.min=n.min+e.min,t.max=t.min+Si(e)}function $Z(t,e,n){zO(t.x,e.x,n.x),zO(t.y,e.y,n.y)}function BO(t,e,n){t.min=e.min-n.min,t.max=t.min+Si(e)}function Eh(t,e,n){BO(t.x,e.x,n.x),BO(t.y,e.y,n.y)}function LZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?on(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?on(n,t,r.max):Math.min(t,n)),t}function UO(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VZ(t,{top:e,left:n,bottom:r,right:i}){return{x:UO(t.x,n,i),y:UO(t.y,e,r)}}function WO(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function FZ(t,e){return{x:WO(t.x,e.x),y:WO(t.y,e.y)}}function zZ(t,e){let n=.5;const r=Si(t),i=Si(e);return i>r?n=of(e.min,e.max-r,t.min):r>i&&(n=of(t.min,t.max-i,e.min)),Qo(0,1,n)}function BZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const t_=.35;function UZ(t=t_){return t===!1?t=0:t===!0&&(t=t_),{x:qO(t,"left","right"),y:qO(t,"top","bottom")}}function qO(t,e,n){return{min:KO(t,e),max:KO(t,n)}}function KO(t,e){return typeof t=="number"?t:t[e]||0}const HO=()=>({translate:0,scale:1,origin:0,originPoint:0}),_c=()=>({x:HO(),y:HO()}),GO=()=>({min:0,max:0}),_n=()=>({x:GO(),y:GO()});function Vi(t){return[t("x"),t("y")]}function ZV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function WZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fx(t){return t===void 0||t===1}function n_({scale:t,scaleX:e,scaleY:n}){return!Fx(t)||!Fx(e)||!Fx(n)}function Ll(t){return n_(t)||e5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function e5(t){return YO(t.x)||YO(t.y)}function YO(t){return t&&t!=="0%"}function tv(t,e,n){const r=t-n,i=e*r;return n+i}function XO(t,e,n,r,i){return i!==void 0&&(t=tv(t,i,r)),tv(t,n,r)+e}function r_(t,e=0,n=1,r,i){t.min=XO(t.min,e,n,r,i),t.max=XO(t.max,e,n,r,i)}function t5(t,{x:e,y:n}){r_(t.x,e.translate,e.scale,e.originPoint),r_(t.y,n.translate,n.scale,n.originPoint)}const QO=.999999999999,JO=1.0000000000001;function KZ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ec(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,t5(t,o)),r&&Ll(a.latestValues)&&Ec(t,a.latestValues))}e.x<JO&&e.x>QO&&(e.x=1),e.y<JO&&e.y>QO&&(e.y=1)}function Sc(t,e){t.min=t.min+e,t.max=t.max+e}function ZO(t,e,n,r,i=.5){const a=on(t.min,t.max,i);r_(t,e,n,a,r)}function Ec(t,e){ZO(t.x,e.x,e.scaleX,e.scale,e.originX),ZO(t.y,e.y,e.scaleY,e.scale,e.originY)}function n5(t,e){return ZV(qZ(t.getBoundingClientRect(),e))}function HZ(t,e,n){const r=n5(t,n),{scroll:i}=e;return i&&(Sc(r.x,i.offset.x),Sc(r.y,i.offset.y)),r}const r5=({current:t})=>t?t.ownerDocument.defaultView:null,GZ=new WeakMap;class YZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bm(c).point)},a=(c,f)=>{const{drag:h,dragPropagation:g,onDragStart:b}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UQ(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(x=>{let w=this.getAxisMotionValue(x).get()||0;if(eo.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const A=_.layout.layoutBox[x];A&&(w=Si(A)*(parseFloat(w)/100))}}this.originPoint[x]=w}),b&&Jt.postRender(()=>b(c,f)),H1(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:b,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(g&&this.currentDirection===null){this.currentDirection=XZ(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(c,f)},s=(c,f)=>this.stop(c,f),l=()=>Vi(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new YV(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:r5(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Jt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!yg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=LZ(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&xc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=VZ(i.layoutBox,n):this.constraints=!1,this.elastic=UZ(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=BZ(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=HZ(r,i.root,this.visualElement.getTransformPagePoint());let o=FZ(i.layout.layoutBox,a);if(n){const s=n(WZ(o));this.hasMutatedConstraints=!!s,s&&(o=ZV(s))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Vi(c=>{if(!yg(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(c,b)});return Promise.all(u).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return H1(this.visualElement,e),r.start(rT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vi(n=>{const{drag:r}=this.getProps();if(!yg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];a.set(e[n]-on(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vi(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=zZ({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vi(o=>{if(!yg(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(on(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;GZ.set(this.visualElement,this);const e=this.visualElement.current,n=_h(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();xc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Jt.read(r);const o=cp(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vi(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=t_,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function yg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QZ extends ll{constructor(e){super(e),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new YZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const ek=t=>(e,n)=>{t&&Jt.postRender(()=>t(e,n))};class JZ extends ll{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(e){this.session=new YV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ek(e),onStart:ek(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Jt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=_h(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ny={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ge.test(t))t=parseFloat(t);else return t;const n=tk(t,e.target.x),r=tk(t,e.target.y);return`${n}% ${r}%`}},ZZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=el.parse(t);if(i.length>5)return r;const a=el.createTransformer(t),o=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const u=on(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class eee extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;_Q(tee),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ny.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Jt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),IA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i5(t){const[e,n]=LX(),r=V.useContext(VL);return d.jsx(eee,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(KL),isPresent:e,safeToRemove:n})}const tee={borderRadius:{...Nd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nd,borderTopRightRadius:Nd,borderBottomLeftRadius:Nd,borderBottomRightRadius:Nd,boxShadow:ZZ};function nee(t,e,n){const r=sr(t)?t:lf(t);return r.start(rT("",r,e,n)),r.animation}function ree(t){return t instanceof SVGElement&&t.tagName!=="svg"}const iee=(t,e)=>t.depth-e.depth;class aee{constructor(){this.children=[],this.isDirty=!1}add(e){qA(this.children,e),this.isDirty=!0}remove(e){KA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iee),this.isDirty=!1,this.children.forEach(e)}}function oee(t,e){const n=to.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Xo(r),t(a-e))};return Jt.read(r,!0),()=>Xo(r)}const a5=["TopLeft","TopRight","BottomLeft","BottomRight"],see=a5.length,nk=t=>typeof t=="string"?parseFloat(t):t,rk=t=>typeof t=="number"||Ge.test(t);function lee(t,e,n,r,i,a){i?(t.opacity=on(0,n.opacity!==void 0?n.opacity:1,uee(r)),t.opacityExit=on(e.opacity!==void 0?e.opacity:1,0,cee(r))):a&&(t.opacity=on(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<see;o++){const s=`border${a5[o]}Radius`;let l=ik(e,s),u=ik(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||rk(l)===rk(u)?(t[s]=Math.max(on(nk(l),nk(u),r),0),(eo.test(u)||eo.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||n.rotate)&&(t.rotate=on(e.rotate||0,n.rotate||0,r))}function ik(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uee=o5(0,.5,_V),cee=o5(.5,.95,bi);function o5(t,e,n){return r=>r<t?0:r>e?1:n(of(t,e,r))}function ak(t,e){t.min=e.min,t.max=e.max}function Mi(t,e){ak(t.x,e.x),ak(t.y,e.y)}function ok(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sk(t,e,n,r,i){return t-=e,t=tv(t,1/n,r),i!==void 0&&(t=tv(t,1/i,r)),t}function fee(t,e=0,n=1,r=.5,i,a=t,o=t){if(eo.test(e)&&(e=parseFloat(e),e=on(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=on(a.min,a.max,r);t===a&&(s-=e),t.min=sk(t.min,e,n,s,i),t.max=sk(t.max,e,n,s,i)}function lk(t,e,[n,r,i],a,o){fee(t,e[n],e[r],e[i],e.scale,a,o)}const dee=["x","scaleX","originX"],hee=["y","scaleY","originY"];function uk(t,e,n,r){lk(t.x,e,dee,n?n.x:void 0,r?r.x:void 0),lk(t.y,e,hee,n?n.y:void 0,r?r.y:void 0)}function ck(t){return t.translate===0&&t.scale===1}function s5(t){return ck(t.x)&&ck(t.y)}function fk(t,e){return t.min===e.min&&t.max===e.max}function pee(t,e){return fk(t.x,e.x)&&fk(t.y,e.y)}function dk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function l5(t,e){return dk(t.x,e.x)&&dk(t.y,e.y)}function hk(t){return Si(t.x)/Si(t.y)}function pk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mee{constructor(){this.members=[]}add(e){qA(this.members,e),e.scheduleRender()}remove(e){if(KA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gee(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:g,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),g&&(r+=`skewX(${g}deg) `),b&&(r+=`skewY(${b}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const Vl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},rh=typeof window<"u"&&window.MotionDebug!==void 0,zx=["","X","Y","Z"],yee={visibility:"hidden"},mk=1e3;let vee=0;function Bx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function u5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&u5(r)}function c5({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=vee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rh&&(Vl.totalNodes=Vl.resolvedTargetDeltas=Vl.recalculatedProjection=0),this.nodes.forEach(wee),this.nodes.forEach(Tee),this.nodes.forEach(Pee),this.nodes.forEach(_ee),rh&&window.MotionDebug.record(Vl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new aee)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new HA),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ree(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=oee(h,250),ny.hasAnimatedSinceResize&&(ny.hasAnimatedSinceResize=!1,this.nodes.forEach(yk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||jee,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=c.getProps(),_=!this.targetLayout||!l5(this.targetLayout,b)||g,A=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,A);const I={...zA(v,"layout"),onPlay:x,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else h||yk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Cee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&u5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gk);return}this.isUpdating||this.nodes.forEach(Eee),this.isUpdating=!1,this.nodes.forEach(Aee),this.nodes.forEach(bee),this.nodes.forEach(xee),this.clearAllSnapshots();const s=to.now();rr.delta=Qo(0,1e3/60,s-rr.timestamp),rr.timestamp=s,rr.isProcessing=!0,jx.update.process(rr),jx.preRender.process(rr),jx.render.process(rr),rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(See),this.sharedNodes.forEach(Oee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!s5(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(s||Ll(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),Nee(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:s}=this.options;if(!s)return _n();const l=s.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Dee))){const{scroll:c}=this.root;c&&(Sc(l.x,c.offset.x),Sc(l.y,c.offset.y))}return l}removeElementScroll(o){var s;const l=_n();if(Mi(l,o),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Mi(l,o),Sc(l.x,f.offset.x),Sc(l.y,f.offset.y))}return l}applyTransform(o,s=!1){const l=_n();Mi(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ec(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ll(c.latestValues)&&Ec(l,c.latestValues)}return Ll(this.latestValues)&&Ec(l,this.latestValues),l}removeTransform(o){const s=_n();Mi(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ll(u.latestValues))continue;n_(u.latestValues)&&u.updateSnapshot();const c=_n(),f=u.measurePageBox();Mi(c,f),uk(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ll(this.latestValues)&&uk(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=rr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Eh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$Z(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mi(this.target,this.layout.layoutBox),t5(this.target,this.targetDelta)):Mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Eh(this.relativeTargetOrigin,this.target,g.target),Mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rh&&Vl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||n_(this.parent.latestValues)||e5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===rr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Mi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;KZ(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=_n());const{target:b}=s;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ok(this.prevProjectionDelta.x,this.projectionDelta.x),ok(this.prevProjectionDelta.y,this.projectionDelta.y)),Sh(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!pk(this.projectionDelta.x,this.prevProjectionDelta.x)||!pk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),rh&&Vl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_c(),this.projectionDelta=_c(),this.projectionDeltaWithTransform=_c()}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=_c();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=_n(),g=l?l.source:void 0,b=this.layout?this.layout.source:void 0,v=g!==b,x=this.getStack(),w=!x||x.members.length<=1,_=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(Iee));this.animationProgress=0;let A;this.mixTargetDelta=I=>{const S=I/1e3;vk(f.x,o.x,S),vk(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kee(this.relativeTarget,this.relativeTargetOrigin,h,S),A&&pee(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=_n()),Mi(A,this.relativeTarget)),v&&(this.animationValues=c,lee(c,u,this.latestValues,S,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{ny.hasAnimatedSinceResize=!0,this.currentAnimation=nee(0,mk,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:c}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&f5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||_n();const f=Si(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Si(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Mi(s,l),Ec(s,c),Sh(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mee),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const u={};l.z&&Bx("z",o,u,this.animationValues);for(let c=0;c<zx.length;c++)Bx(`rotate${zx[c]}`,o,u,this.animationValues),Bx(`skew${zx[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yee;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ey(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ey(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ll(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=gee(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:g,y:b}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Xy){if(h[v]===void 0)continue;const{correct:x,applyTo:w}=Xy[v],_=u.transform==="none"?h[v]:x(h[v],f);if(w){const A=w.length;for(let I=0;I<A;I++)u[w[I]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=f===this?ey(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(gk),this.root.sharedNodes.clear()}}}function bee(t){t.updateLayout()}function xee(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?Vi(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],g=Si(h);h.min=r[f].min,h.max=h.min+g}):f5(a,n.layoutBox,r)&&Vi(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],g=Si(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const s=_c();Sh(s,r,n.layoutBox);const l=_c();o?Sh(l,t.applyTransform(i,!0),n.measuredBox):Sh(l,r,n.layoutBox);const u=!s5(s);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const b=_n();Eh(b,n.layoutBox,h.layoutBox);const v=_n();Eh(v,r,g.layoutBox),l5(b,v)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function wee(t){rh&&Vl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _ee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function See(t){t.clearSnapshot()}function gk(t){t.clearMeasurements()}function Eee(t){t.isLayoutDirty=!1}function Aee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Tee(t){t.resolveTargetDelta()}function Pee(t){t.calcProjection()}function Cee(t){t.resetSkewAndRotation()}function Oee(t){t.removeLeadSnapshot()}function vk(t,e,n){t.translate=on(e.translate,0,n),t.scale=on(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bk(t,e,n,r){t.min=on(e.min,n.min,r),t.max=on(e.max,n.max,r)}function kee(t,e,n,r){bk(t.x,e.x,n.x,r),bk(t.y,e.y,n.y,r)}function Iee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jee={duration:.45,ease:[.4,0,.1,1]},xk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),wk=xk("applewebkit/")&&!xk("chrome/")?Math.round:bi;function _k(t){t.min=wk(t.min),t.max=wk(t.max)}function Nee(t){_k(t.x),_k(t.y)}function f5(t,e,n){return t==="position"||t==="preserve-aspect"&&!RZ(hk(e),hk(n),.2)}function Dee(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Mee=c5({attachResizeListener:(t,e)=>cp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ux={current:void 0},d5=c5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ux.current){const t=new Mee({});t.mount(window),t.setOptions({layoutScroll:!0}),Ux.current=t}return Ux.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ree={pan:{Feature:JZ},drag:{Feature:QZ,ProjectionNode:d5,MeasureLayout:i5}};function Sk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Jt.postRender(()=>a(e,bm(e)))}class $ee extends ll{mount(){const{current:e}=this.node;e&&(this.unmount=LQ(e,n=>(Sk(this.node,n,"Start"),r=>Sk(this.node,r,"End"))))}unmount(){}}class Lee extends ll{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vm(cp(this.node.current,"focus",()=>this.onFocus()),cp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ek(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Jt.postRender(()=>a(e,bm(e)))}class Vee extends ll{mount(){const{current:e}=this.node;e&&(this.unmount=BQ(e,n=>(Ek(this.node,n,"Start"),(r,{success:i})=>Ek(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const i_=new WeakMap,Wx=new WeakMap,Fee=t=>{const e=i_.get(t.target);e&&e(t)},zee=t=>{t.forEach(Fee)};function Bee({root:t,...e}){const n=t||document;Wx.has(n)||Wx.set(n,{});const r=Wx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(zee,{root:t,...e})),r[i]}function Uee(t,e,n){const r=Bee(e);return i_.set(t,n),r.observe(t),()=>{i_.delete(t),r.unobserve(t)}}const Wee={some:0,all:1};class qee extends ll{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Wee[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return Uee(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Kee(e,n))&&this.startObserver()}unmount(){}}function Kee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Hee={inView:{Feature:qee},tap:{Feature:Vee},focus:{Feature:Lee},hover:{Feature:$ee}},Gee={layout:{ProjectionNode:d5,MeasureLayout:i5}},a_={current:null},h5={current:!1};function Yee(){if(h5.current=!0,!!AA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>a_.current=t.matches;t.addListener(e),e()}else a_.current=!1}const Xee=[...RV,vr,el],Qee=t=>Xee.find(MV(t)),Ak=new WeakMap;function Jee(t,e,n){for(const r in e){const i=e[r],a=n[r];if(sr(i))t.addValue(r,i);else if(sr(a))t.addValue(r,lf(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,lf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Tk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=to.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Jt.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=W0(n),this.isVariantNode=WL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in h){const b=h[g];l[g]!==void 0&&sr(b)&&b.set(l[g],!1)}}mount(e){this.current=e,Ak.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),h5.current||Yee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:a_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ak.delete(this.current),this.projection&&this.projection.unmount(),Xo(this.notifyUpdate),Xo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ou.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sf){const n=sf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Tk.length;r++){const i=Tk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Jee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=lf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(NV(i)||EV(i))?i=parseFloat(i):!Qee(i)&&el.test(n)&&(i=kV(e,n)),this.setBaseTarget(e,sr(i)?i.get():i)),sr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=NA(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new HA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class p5 extends Zee{constructor(){super(...arguments),this.KeyframeResolver=$V}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ete(t){return window.getComputedStyle(t)}class tte extends p5{constructor(){super(...arguments),this.type="html",this.renderInstance=ZL}readValueFromInstance(e,n){if(Ou.has(n)){const r=ZA(n);return r&&r.default||0}else{const r=ete(e),i=(XL(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return n5(e,n)}build(e,n,r){RA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return FA(e,n,r)}}class nte extends p5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_n}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ou.has(n)){const r=ZA(n);return r&&r.default||0}return n=eV.has(n)?n:kA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return rV(e,n,r)}build(e,n,r){$A(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){tV(e,n,r,i)}mount(e){this.isSVGTag=VA(e.tagName),super.mount(e)}}const rte=(t,e)=>jA(t)?new nte(e):new tte(e,{allowProjection:t!==V.Fragment}),ite=IQ({...PZ,...Hee,...Ree,...Gee},rte),iT=KX(ite);function m5(t){const e=Cu(()=>lf(t)),{isStatic:n}=V.useContext(EA);if(n){const[,r]=V.useState(t);V.useEffect(()=>e.on("change",r),[])}return e}function g5(t,e){const n=m5(e()),r=()=>n.set(e());return r(),TA(()=>{const i=()=>Jt.preRender(r,!1,!0),a=t.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Xo(r)}}),n}const ate=t=>t&&typeof t=="object"&&t.mix,ote=t=>ate(t)?t.mix:void 0;function ste(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],o=t[3+n],s=WV(i,a,{mixer:ote(a[0]),...o});return e?s(r):s}function lte(t){xh.current=[],t();const e=g5(xh.current,t);return xh.current=void 0,e}function ute(t,e,n,r){if(typeof t=="function")return lte(t);const i=typeof e=="function"?e:ste(e,n,r);return Array.isArray(t)?Pk(t,i):Pk([t],([a])=>i(a))}function Pk(t,e){const n=Cu(()=>[]);return g5(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function cte(t){t.values.forEach(e=>e.stop())}function o_(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&GA(t,i),t.variantChildren&&t.variantChildren.forEach(a=>{o_(a,e)})})}function fte(t,e){if(Array.isArray(e))return o_(t,e);if(typeof e=="string")return o_(t,[e]);GA(t,e)}function dte(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(a=>{i.push(HV(a,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{fte(r,n)})},stop(){t.forEach(n=>{cte(n)})},mount(){return()=>{e.stop()}}};return e}function hte(){const t=Cu(dte);return TA(t.mount,[]),t}const pte=hte;class mte{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const gte=()=>new mte;function yte(){return Cu(gte)}const y5=V.createContext(null);function vte(t,e,n,r){if(!r)return t;const i=t.findIndex(c=>c.value===e);if(i===-1)return t;const a=r>0?1:-1,o=t[i+a];if(!o)return t;const s=t[i],l=o.layout,u=on(l.min,l.max,.5);return a===1&&s.layout.max+n>u||a===-1&&s.layout.min+n<u?qQ(t,i,i+a):t}function bte({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...a},o){const s=Cu(()=>iT[e]),l=[],u=V.useRef(!1),c={axis:n,registerItem:(f,h)=>{const g=l.findIndex(b=>f===b.value);g!==-1?l[g].layout=h[n]:l.push({value:f,layout:h[n]}),l.sort(_te)},updateOrder:(f,h,g)=>{if(u.current)return;const b=vte(l,f,h,g);l!==b&&(u.current=!0,r(b.map(wte).filter(v=>i.indexOf(v)!==-1)))}};return V.useEffect(()=>{u.current=!1}),d.jsx(s,{...a,ref:o,ignoreStrict:!0,children:d.jsx(y5.Provider,{value:c,children:t})})}const xte=V.forwardRef(bte);function wte(t){return t.value}function _te(t,e){return t.layout.min-e.layout.min}function Ck(t,e=0){return sr(t)?t:m5(e)}function Ste({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:a=!0,...o},s){const l=Cu(()=>iT[r]),u=V.useContext(y5),c={x:Ck(e.x),y:Ck(e.y)},f=ute([c.x,c.y],([v,x])=>v||x?1:"unset"),{axis:h,registerItem:g,updateOrder:b}=u;return d.jsx(l,{drag:h,...o,dragSnapToOrigin:!0,style:{...e,x:c.x,y:c.y,zIndex:f},layout:a,onDrag:(v,x)=>{const{velocity:w}=x;w[h]&&b(n,c[h].get(),w[h]),i&&i(v,x)},onLayoutMeasure:v=>g(n,v),ref:s,ignoreStrict:!0,children:t})}const Ete=V.forwardRef(Ste),Ate=({isOpen:t,onClose:e,title:n,actions:r})=>t?d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-end sm:items-center z-50 animate-fade-in",onClick:e,children:d.jsxs("div",{className:"w-full max-w-sm bg-ios-modal-bg rounded-t-2xl sm:rounded-2xl shadow-2xl text-white animate-slide-up",onClick:i=>i.stopPropagation(),children:[d.jsx("header",{className:"text-center p-4 border-b border-white/10",children:d.jsx("h2",{className:"text-base font-semibold text-brand-light-gray",children:n})}),d.jsx("div",{className:"p-2",children:r.map((i,a)=>d.jsxs("button",{onClick:()=>{i.onClick(),e()},className:`w-full flex items-center p-3 text-left rounded-lg transition-colors hover:bg-white/10 ${i.color||"text-white"}`,children:[d.jsx(i.icon,{size:22,className:"mr-4"}),d.jsx("span",{className:"text-lg font-medium",children:i.label})]},a))}),d.jsx("div",{className:"p-2 mt-2",children:d.jsx("button",{onClick:e,className:"w-full bg-zinc-700/80 p-3 text-lg font-bold text-white rounded-xl hover:bg-zinc-600/80",children:"Cancelar"})})]})}):null,Tte=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?d.jsx(Ut,{isOpen:t,onClose:e,title:r,children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("p",{className:"text-zinc-300",children:i}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),d.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Confirmar"})]})]})}):null,Pte=({lotName:t,count:e,dragControls:n})=>d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center",children:[d.jsx("div",{className:"p-2 cursor-grab touch-none",onPointerDown:r=>n.start(r),children:d.jsx(nH,{className:"text-zinc-500"})}),d.jsxs("div",{className:"flex-grow ml-2",children:[d.jsx("p",{className:"font-bold text-lg text-white",children:t}),d.jsxs("p",{className:"text-sm text-zinc-400",children:[e," ",e===1?"animal":"animales"]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"bg-blue-600/80 text-white font-bold text-lg rounded-lg px-3 py-1",children:e}),d.jsx(ol,{className:"text-zinc-600"})]})]}),Cte=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i})=>{const a=pte(),o=t.count>0,s=t.name!=="Sin Asignar",l=(o?70:0)+(s?70:0),u=-l/2,c=(f,h)=>{h.offset.x<u?a.start({x:-l}):a.start({x:0})};return d.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[d.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0",children:[o&&d.jsx("button",{onPointerDown:f=>{f.stopPropagation(),a.start({x:0}),e()},className:"h-full w-[70px] flex items-center justify-center bg-brand-orange text-white",children:d.jsx(iL,{size:22})}),s&&d.jsx("button",{onPointerDown:f=>{f.stopPropagation(),a.start({x:0}),n()},className:"h-full w-[70px] flex items-center justify-center bg-brand-red text-white",children:d.jsx(sL,{size:22})})]}),d.jsx(iT.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:c,onClick:r,animate:a,transition:{type:"spring",stiffness:300,damping:30},className:"relative bg-gray-900 w-full z-10",children:d.jsx(Pte,{lotName:t.name,count:t.count,dragControls:i})})]})},Ote=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=yte();return d.jsx(Ete,{value:t,dragListener:!1,dragControls:i,children:d.jsx(Cte,{lot:t,dragControls:i,onClick:()=>e({name:"lot-detail",lotName:t.name}),onEdit:()=>n(t),onDelete:()=>r(t)})},t.id)},Ok=({group:t,animalCount:e,hasAlert:n,onClick:r})=>{const i=n?"border-red-500/80 ring-2 ring-red-500/60 shadow-lg shadow-red-900/50":"border-brand-border";return d.jsxs("button",{onClick:r,className:`w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border flex justify-between items-center hover:border-brand-amber transition-all ${i}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[t.name,n&&d.jsx(lo,{className:"text-red-400",size:16})]}),d.jsxs("p",{className:"text-sm text-zinc-400",children:["Semental: ",t.sireId," | ",e," ",e===1?"hembra":"hembras"]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${t.status==="Activo"?"bg-green-500/80 text-white":"bg-zinc-600 text-zinc-300"}`,children:t.status}),d.jsx(ol,{className:"text-zinc-600"})]})]})},kte=({navigateTo:t})=>{const{animals:e,lots:n,deleteLot:r}=qt(),[i,a]=V.useState(!1),[o,s]=V.useState(null),[l,u]=V.useState(null),c=V.useMemo(()=>{const v=e.reduce((w,_)=>{const A=_.location||"Sin Asignar";return w[A]=(w[A]||0)+1,w},{}),x=new Set([...n.map(w=>w.name),...Object.keys(v)]);return Array.from(x).map(w=>({id:w,name:w,count:v[w]||0})).sort((w,_)=>_.count-w.count)},[e,n]),[f,h]=V.useState(c);V.useEffect(()=>{h(c)},[c]);const g=[{label:"Mover Animales",icon:tL,onClick:()=>t({name:"lot-detail",lotName:(o==null?void 0:o.name)||""})},{label:"Convertir en Lote de Monta",icon:ip,onClick:()=>alert(`Convertir ${o==null?void 0:o.name} en Lote de Monta`)},{label:"Asignar Alimentacin",icon:J4,onClick:()=>t({name:"feeding-plan",lotName:(o==null?void 0:o.name)||""})},{label:"Asignar Tratamiento",icon:oL,onClick:()=>t({name:"batch-treatment",lotName:(o==null?void 0:o.name)||""})}],b=()=>{if(!l)return;const v=n.find(x=>x.name===l.name);v&&r(v.id)};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-fade-in",children:d.jsx(xte,{axis:"y",values:f,onReorder:h,className:"space-y-2",children:f.map(v=>d.jsx(Ote,{lot:v,navigateTo:t,onEdit:x=>{s(x),a(!0)},onDelete:x=>u(x)},v.id))})}),d.jsx(Ate,{isOpen:i,onClose:()=>a(!1),title:`Acciones para "${o==null?void 0:o.name}"`,actions:g}),d.jsx(Tte,{isOpen:!!l,onClose:()=>u(null),onConfirm:b,title:"Eliminar Lote",message:`Ests seguro de que quieres eliminar el lote "${l==null?void 0:l.name}"? Esta accin no se puede deshacer.`})]})},Ite=({navigateTo:t})=>{const{breedingGroups:e,animals:n}=qt(),[r,i]=V.useState(!1),{concludedGroups:a,groupsWithAlerts:o}=$X(),s=V.useMemo(()=>{const l=new Set(a.map(f=>f.id)),u=e.filter(f=>f.status==="Activo"&&!l.has(f.id)).sort((f,h)=>new Date(h.startDate).getTime()-new Date(f.startDate).getTime()),c=f=>{const h=n.filter(g=>g.breedingGroupId===f.id).length;return{...f,animalCount:h}};return{active:u.map(c),concluded:a.map(c)}},[e,n,a]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsxs("button",{onClick:()=>i(!0),className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-4 rounded-xl transition-colors text-lg",children:[d.jsx(so,{size:20})," Activar Temporada de Monta"]}),d.jsxs("div",{className:"space-y-2 pt-2",children:[d.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-2",children:"Temporadas Activas"}),s.active.length>0?s.active.map(l=>d.jsx(Ok,{group:l,animalCount:l.animalCount,hasAlert:o.has(l.id),onClick:()=>t({name:"breeding-group-detail",groupId:l.id})},l.id)):d.jsxs("div",{className:"text-center py-6 bg-brand-glass rounded-2xl",children:[" ",d.jsx("p",{className:"text-zinc-500",children:"No hay temporadas de monta activas."})," "]})]}),d.jsxs("div",{className:"space-y-2 pt-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-2",children:"Temporadas Concluidas"}),s.concluded.length>0?s.concluded.map(l=>d.jsx(Ok,{group:l,animalCount:l.animalCount,hasAlert:!1,onClick:()=>t({name:"breeding-group-detail",groupId:l.id})},l.id)):d.jsxs("div",{className:"text-center py-6 bg-brand-glass rounded-2xl",children:[" ",d.jsx("p",{className:"text-zinc-500",children:"An no hay temporadas concluidas."})," "]})]})]}),d.jsx(NX,{isOpen:r,onClose:()=>i(!1)})]})};function kk({navigateTo:t}){const[e,n]=V.useState("physical"),[r,i]=V.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[d.jsxs("header",{className:"text-center pt-8 pb-4",children:[d.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Lotes"}),d.jsx("p",{className:"text-xl text-zinc-400",children:"Gestin de Grupos"})]}),d.jsxs("div",{className:"relative bg-brand-glass rounded-xl p-1 border border-brand-border flex items-center",children:[d.jsxs("button",{onClick:()=>n("physical"),className:`w-1/2 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="physical"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[d.jsx(Wf,{size:16}),d.jsx("span",{className:"text-sm font-semibold",children:"Lotes Fsicos"}),d.jsx("span",{onClick:a=>{a.stopPropagation(),i(!0)},className:"ml-2 p-1 rounded-full hover:bg-indigo-500/50",children:d.jsx(so,{size:18})})]}),d.jsxs("button",{onClick:()=>n("breeding"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="breeding"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[d.jsx(ip,{size:16})," Lotes de Monta"]})]}),d.jsx("div",{className:"pt-4",children:e==="physical"?d.jsx(kte,{navigateTo:t}):d.jsx(Ite,{navigateTo:t})})]}),d.jsx(_A,{isOpen:r,onClose:()=>i(!1)})]})}const jte=()=>({isRelated:V.useCallback((e,n,r)=>{if(!e||!n)return!1;const i=r.find(a=>a.id===e);if(!i)return!1;if(i.fatherId===n)return!0;if(i.motherId){const a=r.find(o=>o.id===i.motherId);if(a&&a.fatherId===n)return!0}return!1},[])}),xm=(t,e)=>{const n=new Date(t),r=new Date(e);if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=r.getTime()-n.getTime(),a=Math.ceil(i/(1e3*60*60*24));return Math.max(0,a)},Nte=(t,e)=>{const r=1+(e-50)/(e+50),i=t*Math.max(.5,r);return parseFloat(i.toFixed(2))},Yr=t=>{if(!t||t==="N/A")return-1;const e=new Date(t+"T00:00:00"),n=new Date;if(n.setHours(0,0,0,0),isNaN(e.getTime()))return-1;const r=n.getTime()-e.getTime(),i=Math.ceil(r/(1e3*60*60*24));return Math.max(0,i)},vg={Cabras:(t,e)=>{const n=Yr(t.birthDate),r=e.some(i=>i.goatId===t.id);return t.sex==="Hembra"&&n>365&&r},Cabritonas:(t,e)=>{const n=Yr(t.birthDate),r=e.some(i=>i.goatId===t.id);return t.sex==="Hembra"&&n>60&&!r},Cabritas:t=>{const e=Yr(t.birthDate);return t.sex==="Hembra"&&e>=0&&e<=60},"Machos Cabros":t=>{const e=Yr(t.birthDate);return t.sex==="Macho"&&e>365},"Machos de Levante":t=>{const e=Yr(t.birthDate);return t.sex==="Macho"&&e>60&&e<=365},Cabritos:t=>{const e=Yr(t.birthDate);return t.sex==="Macho"&&e>=0&&e<=60}},Ik={"En Ordeo":(t,e)=>e.has(t.id),Gestantes:t=>t.reproductiveStatus==="Preada","ltimo Destete":t=>t.reproductiveStatus==="Post-Parto","Cabras Secas":t=>t.reproductiveStatus==="Vaca","En Servicio":t=>t.reproductiveStatus==="En Servicio"},aT=({isOpen:t,onClose:e,onSelect:n,animals:r,parturitions:i,title:a,sireIdForInbreedingCheck:o})=>{const[s,l]=V.useState(""),[u,c]=V.useState(Object.keys(vg)[0]),[f,h]=V.useState(new Set),[g,b]=V.useState(new Set),{isRelated:v}=jte(),x=E=>{h(T=>{const j=new Set(T);return j.has(E)?j.delete(E):j.add(E),j})},w=E=>{b(T=>{const j=new Set(T);return j.has(E)?j.delete(E):j.add(E),j})},_=V.useMemo(()=>{const E=new Set(i.filter(T=>T.status==="activa").map(T=>T.goatId));return r.filter(T=>{const j=vg[u];return j?j(T,i):!0}).filter(T=>f.size===0?!0:Array.from(f).some(j=>{const R=Ik[j];return R?R(T,E):!1})).filter(T=>s?T.id.toLowerCase().includes(s.toLowerCase()):!0)},[r,i,s,u,f]),A=V.useMemo(()=>_.length===0?!1:_.every(E=>g.has(E.id)),[_,g]),I=()=>{b(A?new Set:new Set(_.map(E=>E.id)))},S=()=>{n(Array.from(g)),C()},C=()=>{l(""),b(new Set),h(new Set),c(Object.keys(vg)[0]),e()};return d.jsx(Ut,{isOpen:t,onClose:C,title:a,size:"large",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Buscar por ID"}),d.jsx("input",{type:"search",placeholder:"Ej: 0015...",value:s,onChange:E=>l(E.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-4 pr-4 py-2.5 text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Categora Principal"}),d.jsx("select",{value:u,onChange:E=>c(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-white border border-zinc-700",children:Object.keys(vg).map(E=>d.jsx("option",{value:E,children:E},E))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Sub-filtros (Opcional)"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(Ik).map(E=>d.jsx("button",{onClick:()=>x(E),className:`px-3 py-1 text-sm font-semibold rounded-full transition-colors ${f.has(E)?"bg-indigo-600 text-white":"bg-zinc-700 text-zinc-300"}`,children:E},E))})]}),d.jsx("div",{className:"max-h-64 min-h-[10rem] overflow-y-auto space-y-2 pr-2 border-t border-b border-zinc-700 py-4 flex flex-col",children:_.length>0?_.map(E=>{const T=o?v(E.id,o,r):!1;return d.jsxs("div",{onClick:()=>w(E.id),className:`w-full text-left p-3 flex items-center gap-4 rounded-lg cursor-pointer transition-colors ${T?"bg-yellow-900/50 border border-yellow-500/60 hover:bg-yellow-800/50":"bg-zinc-800/50 hover:bg-zinc-700"}`,children:[g.has(E.id)?d.jsx(vH,{className:"text-brand-amber flex-shrink-0"}):d.jsx(bH,{className:"text-zinc-500 flex-shrink-0"}),d.jsxs("div",{className:"flex-grow",children:[d.jsxs("p",{className:"font-bold text-white flex items-center gap-2",children:[E.id,T&&d.jsx(lo,{className:"text-yellow-400",size:16})]}),d.jsxs("p",{className:"text-xs text-zinc-400",children:["Edad: ",Yr(E.birthDate)," das | Lote: ",E.location]})]})]},E.id)}):d.jsx("div",{className:"flex-grow flex items-center justify-center",children:d.jsx("p",{className:"text-zinc-500 text-center",children:"No se encontraron animales que coincidan con los filtros."})})}),d.jsxs("div",{className:"flex justify-between items-center pt-4",children:[d.jsx("button",{type:"button",onClick:I,disabled:_.length===0,className:"bg-zinc-700 hover:bg-zinc-600 text-white font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Deseleccionar":"Seleccionar Todos"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:C,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),d.jsxs("button",{onClick:S,className:"bg-brand-amber hover:bg-yellow-500 text-black font-bold py-2 px-6 rounded-lg",children:["Seleccionar (",g.size,")"]})]})]})]})})},Dte=({animal:t,onSelect:e})=>d.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-amber transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),d.jsxs("p",{className:"text-sm text-zinc-400",children:[t.sex," | ",t.lifecycleStage]})]}),d.jsx(ol,{className:"text-zinc-600"})]});function Mte({lotName:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,updateAnimal:a}=qt(),[o,s]=V.useState(!1),l=V.useMemo(()=>r.filter(c=>(c.location||"Sin Asignar")===t).sort((c,f)=>c.id.localeCompare(f.id)),[r,t]),u=async c=>{const f=c.map(h=>a(h,{location:t}));try{await Promise.all(f)}catch(h){console.error(`Error al asignar animales al lote ${t}:`,h)}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in",children:[d.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[d.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsxs("div",{className:"text-center flex-grow",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),d.jsxs("p",{className:"text-lg text-zinc-400",children:[l.length," ",l.length===1?"animal":"animales"]})]}),d.jsx("div",{className:"w-8"})]}),d.jsxs("button",{onClick:()=>s(!0),className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[d.jsx(so,{size:20})," Aadir Animales a este Lote"]}),d.jsx("div",{className:"space-y-2 pt-4",children:l.length>0?l.map(c=>d.jsx(Dte,{animal:c,onSelect:f=>n({name:"rebano-profile",animalId:f})},c.id)):d.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:d.jsx("p",{className:"text-zinc-500",children:"No hay animales en este lote."})})})]}),d.jsx(aT,{isOpen:o,onClose:()=>s(!1),onSelect:u,animals:r,parturitions:i,title:`Aadir animales a: ${t}`})]})}function Rte({onBack:t}){return d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in pb-12",children:[d.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[d.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsx("div",{className:"text-center flex-grow",children:d.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Ingresar Animal"})}),d.jsx("div",{className:"w-8"})]}),d.jsx(LL,{onSaveSuccess:t,onCancel:t})]})}const v5=(t,e)=>{const[n,r]=V.useState(""),i=V.useMemo(()=>n?t.filter(a=>e.some(o=>{const s=a[o];return typeof s=="string"||typeof s=="number"?s.toString().toLowerCase().includes(n.toLowerCase()):!1})):t,[t,n,e]);return{searchTerm:n,setSearchTerm:r,filteredItems:i}},b5=({title:t,subtitle:e,searchTerm:n,setSearchTerm:r})=>{const[i,a]=V.useState(!1),o=V.useRef(null);V.useEffect(()=>{var l;i&&((l=o.current)==null||l.focus())},[i]);const s=()=>{r(""),a(!1)};return d.jsxs("header",{className:"text-center pt-4 pb-4 relative overflow-hidden",children:[d.jsxs("div",{className:`transition-transform duration-300 ${i?"-translate-y-20":"translate-y-0"}`,children:[d.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:t}),d.jsx("p",{className:"text-md text-zinc-400",children:e})]}),d.jsx("div",{className:`absolute inset-0 transition-transform duration-300 flex items-center pt-2 ${i?"translate-y-0":"translate-y-20"}`,children:d.jsx("input",{ref:o,type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Buscar por ID...",className:"w-full bg-zinc-800 text-white text-lg placeholder-zinc-500 p-3 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"})}),d.jsx("div",{className:"absolute top-4 right-0 pt-1",children:d.jsx("button",{onClick:i?s:()=>a(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",children:i?d.jsx(dm,{size:22}):d.jsx(rf,{size:22})})})]})},jk={Cabras:(t,e)=>{const n=Yr(t.birthDate),r=e.some(i=>i.goatId===t.id);return t.sex==="Hembra"&&n>365&&r},Cabritonas:(t,e)=>{const n=Yr(t.birthDate),r=e.some(i=>i.goatId===t.id);return t.sex==="Hembra"&&n>60&&!r},Cabritas:t=>{const e=Yr(t.birthDate);return t.sex==="Hembra"&&e>=0&&e<=60},"Machos Cabros":t=>{const e=Yr(t.birthDate);return t.sex==="Macho"&&e>365},"Machos de Levante":t=>{const e=Yr(t.birthDate);return t.sex==="Macho"&&e>60&&e<=365},Cabritos:t=>{const e=Yr(t.birthDate);return t.sex==="Macho"&&e>=0&&e<=60}},$te=({animal:t,onSelect:e})=>d.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-amber transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),d.jsxs("p",{className:"text-sm text-zinc-400",children:[t.sex," | ",Yr(t.birthDate)," das | Lote: ",t.location]})]}),d.jsx(ol,{className:"text-zinc-600"})]});function Lte({navigateTo:t,locationFilter:e}){const{animals:n,parturitions:r,isLoading:i}=qt(),[a,o]=V.useState("Todos"),s=V.useMemo(()=>n.filter(f=>e?(f.location||"Sin Asignar")===e:!0).filter(f=>{if(a==="Todos")return!0;const h=jk[a];return h?h(f,r):!1}),[n,r,a,e]),{searchTerm:l,setSearchTerm:u,filteredItems:c}=v5(s,["id"]);return i?d.jsx("div",{className:"text-center p-10",children:d.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando rebao..."})}):d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[d.jsx(b5,{title:e||"Mi Rebao",subtitle:`${c.length} animales en la vista`,searchTerm:l,setSearchTerm:u}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:()=>t({name:"add-animal"}),className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[d.jsx(so,{size:20})," Ingresar Nuevo Animal"]}),d.jsx("div",{className:"flex items-center justify-center gap-4",children:d.jsxs("button",{onClick:()=>t({name:"manage-lots"}),className:"flex items-center gap-2 text-zinc-400 hover:text-brand-amber text-sm font-semibold py-1 px-3",children:[d.jsx(rL,{size:14})," Gestionar Lotes"]})}),d.jsxs("select",{value:a,onChange:f=>o(f.target.value),className:"w-full bg-brand-glass p-3 rounded-xl text-white border border-brand-border focus:border-brand-amber focus:ring-0",children:[d.jsx("option",{value:"Todos",children:"Todos los Animales"}),Object.keys(jk).map(f=>d.jsx("option",{value:f,children:f},f))]})]}),d.jsx("div",{className:"space-y-2 pt-4",children:c.length>0?c.map(f=>d.jsx($te,{animal:f,onSelect:()=>t({name:"rebano-profile",animalId:f.id})},f.id)):d.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:d.jsx("p",{className:"text-zinc-400",children:l?`No se encontraron resultados para "${l}"`:"No hay animales que coincidan con los filtros."})})})]})}const Vte=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=V.useState(""),[a,o]=V.useState(""),[s,l]=V.useState(""),{fathers:u}=qt(),c=()=>{l("");const f=r.trim().toUpperCase(),h=a.trim();if(!f||!h){l("Ambos campos son obligatorios.");return}if(u.some(g=>g.id===f)){l("Este ID ya est en uso. Por favor, elige otro.");return}n({id:f,name:h}),i(""),o("")};return d.jsx(Ut,{isOpen:t,onClose:e,title:"Aadir Nuevo Padre",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce un ID nico y el nombre del nuevo semental."}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"ID del Padre (ej. P002)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-amber focus:ring-0"}),d.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),placeholder:"Nombre del Padre (ej. Sansn)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-amber focus:ring-0"})]}),s&&d.jsx("p",{className:"text-sm text-red-400",children:s}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[d.jsx("button",{onClick:e,className:"px-4 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500",children:"Cancelar"}),d.jsx("button",{onClick:c,className:"px-4 py-2 bg-brand-amber text-black font-bold rounded-lg hover:bg-yellow-500",children:"Guardar Padre"})]})]})})},Nk=[{count:1,name:"Simple"},{count:2,name:"Doble"},{count:3,name:"Triple"},{count:4,name:"Cudruple"},{count:5,name:"Quntuple"}],Fte=({value:t,onChange:e})=>d.jsxs("div",{className:"flex bg-zinc-800/80 rounded-xl p-1 w-full",children:[d.jsx("button",{type:"button",onClick:()=>e("Hembra"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Hembra"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Hembra"}),d.jsx("button",{type:"button",onClick:()=>e("Macho"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Macho"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Macho"})]}),bg=t=>d.jsx("input",{...t,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none placeholder-zinc-400"}),zte=t=>d.jsx("select",{...t,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none"}),oT=({motherId:t,onSaveSuccess:e,onCancel:n})=>{const{fathers:r,addParturition:i,addFather:a}=qt(),[o,s]=V.useState(t||""),[l,u]=V.useState(new Date().toISOString().split("T")[0]),[c,f]=V.useState(""),[h,g]=V.useState(1),[b,v]=V.useState([]),[x,w]=V.useState(null),[_,A]=V.useState(!1),[I,S]=V.useState(!1);V.useEffect(()=>{v($=>{const L=[...$];for(;L.length<h;)L.push({sex:"Hembra",correlative:"",birthWeight:""});return L.slice(0,h)})},[h]);const C=($,L,ne)=>{const ae=[...b];ae[$]={...ae[$],[L]:ne},v(ae)},E=async $=>{var ne;$.preventDefault(),w(null);const L=b.every(ae=>ae.correlative&&ae.birthWeight);if(!o||!l||!c||!L){w({type:"error",text:"Por favor, completa todos los campos requeridos."});return}try{const ae=r.find(de=>de.id===c),ce=b.map(de=>{const Y=de.sex==="Macho"?"X":ae.name.charAt(0).toUpperCase();return{...de,id:`${Y}${de.correlative}`}});await i({motherId:o.toUpperCase(),parturitionDate:l,sireId:c,parturitionType:(ne=Nk.find(de=>de.count===h))==null?void 0:ne.name,offspring:ce}),w({type:"success",text:"Parto y cras registrados con xito."}),setTimeout(()=>{e()},1500)}catch(ae){w({type:"error",text:"Error al registrar el parto."}),console.error(ae)}},T=$=>{const L=r.find(ae=>ae.id===c);return!$.correlative||!L?"ID se genera aqu":`${$.sex==="Macho"?"X":L.name.charAt(0).toUpperCase()}${$.correlative}`},j=async $=>{await a($),f($.id),A(!1)},R=V.useMemo(()=>{var $;return($=r.find(L=>L.id===c))==null?void 0:$.name},[c,r]),D=$=>{f($),S(!1)};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:E,className:"space-y-6",children:[d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[d.jsxs("h2",{className:"text-lg font-semibold text-zinc-300 tracking-tight flex items-center gap-2",children:[d.jsx(_H,{size:20})," Datos del Parto"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(bg,{type:"text",value:o,onChange:$=>s($.target.value),placeholder:"ID de la Madre",required:!0,disabled:!0}),d.jsx(bg,{type:"date",value:l,onChange:$=>u($.target.value),required:!0}),d.jsxs("div",{className:"relative md:col-span-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>S(!I),className:"w-full flex justify-between items-center text-left bg-zinc-800/80 text-white p-3 rounded-xl",children:[d.jsx("span",{className:R?"text-white":"text-zinc-400",children:R||"Seleccione el Padre"}),d.jsx(ZK,{className:`transition-transform ${I?"rotate-180":""}`,size:20})]}),d.jsx("button",{type:"button",onClick:()=>A(!0),className:"h-full aspect-square flex-shrink-0 bg-indigo-600/80 text-white rounded-xl flex items-center justify-center hover:bg-indigo-500","aria-label":"Aadir nuevo padre",children:d.jsx(so,{size:20})})]}),I&&d.jsx("div",{className:"absolute z-20 top-full mt-2 w-full bg-zinc-800 border border-zinc-700 rounded-xl max-h-48 overflow-y-auto",children:r.map($=>d.jsx("button",{type:"button",onClick:()=>D($.id),className:"w-full text-left p-3 hover:bg-zinc-700",children:$.name},$.id))})]}),d.jsx(zte,{value:h,onChange:$=>g(Number($.target.value)),required:!0,children:Nk.map($=>d.jsxs("option",{value:$.count,children:["Parto ",$.name," (",$.count,")"]},$.count))})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-lg font-semibold text-zinc-300 tracking-tight flex items-center gap-2 ml-1",children:[d.jsx(Wf,{size:20})," Registro de Cras"]}),b.map(($,L)=>d.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-800/50 space-y-4",children:[d.jsxs("p",{className:"font-semibold text-brand-amber",children:["Cra ",L+1]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[d.jsx(Fte,{value:$.sex,onChange:ne=>C(L,"sex",ne)}),d.jsx(bg,{type:"text",value:$.correlative,onChange:ne=>C(L,"correlative",ne.target.value),placeholder:"N Correlativo",required:!0}),d.jsxs("div",{className:"bg-zinc-800/80 p-3 rounded-xl h-full flex items-center",children:[d.jsx("span",{className:"text-sm font-semibold text-zinc-400 mr-2",children:"ID:"}),d.jsx("span",{className:"font-mono text-indigo-300 font-bold",children:T($)})]}),d.jsx(bg,{type:"number",step:"0.1",value:$.birthWeight,onChange:ne=>C(L,"birthWeight",ne.target.value),placeholder:"Peso al Nacer (Kg)",required:!0})]})]},L))]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{type:"submit",className:"w-full bg-brand-amber text-black font-bold py-3 rounded-xl text-lg",children:"Guardar Registro"}),n&&d.jsx("button",{type:"button",onClick:n,className:"w-full bg-zinc-600 text-white font-bold py-3 rounded-xl text-lg",children:"Cancelar"}),x&&d.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${x.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[x.type==="success"?d.jsx(sl,{size:18}):d.jsx(lo,{size:18}),d.jsx("span",{children:x.text})]})]})]}),d.jsx(Vte,{isOpen:_,onClose:()=>A(!1),onSave:j})]})},Bte=t=>{const{events:e}=qt();return V.useMemo(()=>t?e.filter(a=>a.animalId===t).sort((a,o)=>new Date(o.date).getTime()-new Date(a.date).getTime()):[],[e,t])},Ute=t=>{const{animals:e}=qt(),n=V.useMemo(()=>{const i=new Map;return e.forEach(a=>i.set(a.id,a)),i},[e]);return V.useMemo(()=>{const i=(o,s)=>{if(!o||s>2)return;const l=n.get(o);if(!l)return;const u=i(l.fatherId,s+1),c=i(l.motherId,s+1);return{animal:l,sire:u,dam:c}};return i(t,0)||null},[t,n])},Il=({animal:t})=>{const e="bg-zinc-800/80 p-3 rounded-lg border border-zinc-700/80 w-36 text-center shadow-md";if(!t)return d.jsx("div",{className:`${e} bg-zinc-900/50 border-dashed`,children:d.jsx("p",{className:"font-semibold text-sm text-zinc-500",children:"Desconocido"})});const n=t.sex==="Hembra"?"text-pink-400":"text-blue-400";return d.jsxs("div",{className:e,children:[d.jsx("p",{className:`font-bold text-base truncate ${n}`,children:t.id}),d.jsx("p",{className:"text-xs text-zinc-400",children:t.sex})]})},Wte=({rootNode:t})=>{var e,n,r,i,a,o,s,l,u,c;return t?d.jsxs("div",{className:"flex items-center justify-center space-x-4 overflow-x-auto p-2",children:[d.jsx("div",{className:"flex items-center",children:d.jsx(Il,{animal:t.animal})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-6 border-t-2 border-b-2 border-l-2 border-zinc-600 h-16 rounded-l-md"}),d.jsxs("div",{className:"flex flex-col space-y-8",children:[d.jsx(Il,{animal:(e=t.sire)==null?void 0:e.animal}),d.jsx(Il,{animal:(n=t.dam)==null?void 0:n.animal})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx("div",{className:"w-6 border-t-2 border-b-2 border-l-2 border-zinc-600 h-12 rounded-l-md"}),d.jsx("div",{className:"w-6 border-t-2 border-b-2 border-l-2 border-zinc-600 h-12 rounded-l-md mt-6"})]}),d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx(Il,{animal:(i=(r=t.sire)==null?void 0:r.sire)==null?void 0:i.animal}),d.jsx(Il,{animal:(o=(a=t.sire)==null?void 0:a.dam)==null?void 0:o.animal}),d.jsx(Il,{animal:(l=(s=t.dam)==null?void 0:s.sire)==null?void 0:l.animal}),d.jsx(Il,{animal:(c=(u=t.dam)==null?void 0:u.dam)==null?void 0:c.animal})]})]})]}):d.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos de genealoga suficientes para mostrar el pedigr."})},jl=({label:t,value:e,isEditing:n,children:r})=>d.jsxs("div",{children:[d.jsx("dt",{className:"text-sm font-medium text-zinc-400",children:t}),n?r:d.jsx("dd",{className:"mt-1 text-lg font-semibold text-white",children:e||"N/A"})]}),qte=({animal:t,isEditing:e,editedData:n,setEditedData:r,lots:i,onAddLotClick:a,origins:o,onAddOriginClick:s})=>{const l=(c,f)=>{r(h=>({...h,[c]:f}))},u=V.useMemo(()=>{if(!t.birthDate||t.birthDate==="N/A")return"N/A";const c=new Date(t.birthDate),f=new Date;let h=f.getFullYear()-c.getFullYear(),g=f.getMonth()-c.getMonth();return(g<0||g===0&&f.getDate()<c.getDate())&&(h--,g+=12),`${h} aos, ${g} meses`},[t.birthDate]);return d.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:[d.jsx(jl,{label:"ID",value:t.id}),d.jsx(jl,{label:"Sexo",value:t.sex}),d.jsx(jl,{label:"Fecha Nacimiento",value:t.birthDate,isEditing:e,children:d.jsx("input",{type:"date",value:n.birthDate||"",onChange:c=>l("birthDate",c.target.value),className:"w-full bg-zinc-700 p-2 rounded-md mt-1"})}),d.jsx(jl,{label:"Edad",value:u}),d.jsx(jl,{label:"Ubicacin / Lote",value:t.location,isEditing:e,children:d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsxs("select",{value:n.location||"",onChange:c=>l("location",c.target.value),className:"w-full bg-zinc-700 p-2 rounded-md",children:[d.jsx("option",{value:"",children:"Seleccione..."}),i.map(c=>d.jsx("option",{value:c.name,children:c.name},c.id))]}),d.jsx("button",{type:"button",onClick:a,className:"p-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-md",children:d.jsx(Yo,{size:20})})]})}),d.jsx(jl,{label:"Estado Crecimiento",value:t.lifecycleStage}),d.jsx(jl,{label:"Origen",value:t.origin,isEditing:e,children:d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsxs("select",{value:n.origin||"",onChange:c=>l("origin",c.target.value),className:"w-full bg-zinc-700 p-2 rounded-md",children:[d.jsx("option",{value:"Finca Masparrito",children:"Finca Masparrito"}),o.map(c=>d.jsx("option",{value:c.name,children:c.name},c.id))]}),d.jsx("button",{type:"button",onClick:s,className:"p-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-md",children:d.jsx(Yo,{size:20})})]})})]})},Kte=({animalId:t})=>{const e=Ute(t);return d.jsx(Wte,{rootNode:e})},Hte={Nacimiento:{icon:Z4,color:"bg-green-500/20 text-green-300"},Movimiento:{icon:tL,color:"bg-blue-500/20 text-blue-300"},"Cambio de Estado":{icon:xH,color:"bg-yellow-500/20 text-yellow-300"},"Pesaje Lechero":{icon:uH,color:"bg-gray-500/20 text-gray-300"},"Pesaje Corporal":{icon:vA,color:"bg-purple-500/20 text-purple-300"},Servicio:{icon:rH,color:"bg-pink-500/20 text-pink-300"},Tratamiento:{icon:aL,color:"bg-red-500/20 text-red-300"},Diagnstico:{icon:sl,color:"bg-teal-500/20 text-teal-300"}},Gte=({animalId:t})=>{const e=Bte(t);return e.length===0?d.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay eventos registrados para este animal."}):d.jsx("div",{className:"space-y-3",children:e.map(n=>{const r=Hte[n.type]||{icon:Z4,color:"bg-gray-500/20 text-gray-300"},i=r.icon;return d.jsxs("div",{className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg",children:[d.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${r.color}`,children:d.jsx(i,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-white",children:n.type}),d.jsx("p",{className:"text-sm text-zinc-300",children:n.details}),d.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:new Date(n.date+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"})})]})]},n.id)})})};function Yte({animalId:t,onBack:e,navigateTo:n}){const{animals:r,lots:i,origins:a,updateAnimal:o}=qt(),[s,l]=V.useState("main"),[u,c]=V.useState(!1),[f,h]=V.useState({}),[g,b]=V.useState("idle"),[v,x]=V.useState(!1),[w,_]=V.useState(!1),[A,I]=V.useState(!1),S=V.useMemo(()=>r.find(R=>R.id===t),[r,t]),C=(S==null?void 0:S.breedingFailures)||0,E=C>=2?"border-red-500/80 ring-2 ring-red-500/60":"border-brand-border";V.useEffect(()=>{S&&u&&h({birthDate:S.birthDate,location:S.location,origin:S.origin})},[S,u]);const T=async()=>{if(S){b("saving");try{await o(S.id,f),b("success"),setTimeout(()=>{c(!1),b("idle")},1500)}catch(R){console.error("Error al actualizar el animal:",R),b("idle")}}},j=()=>{c(!1)};return S?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[d.jsxs("header",{className:`bg-brand-glass backdrop-blur-xl rounded-b-2xl p-4 border-b border-x sticky top-0 z-10 transition-all ${E}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsxs("h1",{className:"text-2xl font-bold tracking-tight text-white flex items-center gap-2",children:[S.id,C===1&&d.jsx("span",{title:"1 fallo reproductivo reportado",children:d.jsx(lo,{className:"text-yellow-400",size:20})})]}),d.jsx("div",{className:"w-8"})]}),d.jsxs("div",{className:"flex justify-around bg-black/20 rounded-xl p-1",children:[S.sex==="Hembra"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>n({name:"lactation-profile",animalId:S.id}),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-amber w-full rounded-lg",children:[d.jsx(gA,{size:22}),d.jsx("span",{className:"text-xs mt-1",children:"Leche"})]}),d.jsxs("button",{onClick:()=>I(!0),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-amber w-full rounded-lg",children:[d.jsx(yA,{size:22}),d.jsx("span",{className:"text-xs mt-1",children:"Parto"})]})]}),d.jsxs("button",{onClick:()=>alert("Funcin en desarrollo"),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-amber w-full rounded-lg",children:[d.jsx(vA,{size:22}),d.jsx("span",{className:"text-xs mt-1",children:"Peso"})]}),d.jsxs("button",{onClick:()=>alert("Funcin en desarrollo"),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-amber w-full rounded-lg",children:[d.jsx(aL,{size:22}),d.jsx("span",{className:"text-xs mt-1",children:"Sanidad"})]}),d.jsxs("button",{onClick:()=>alert("Funcin en desarrollo"),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-amber w-full rounded-lg",children:[d.jsx(dH,{size:22}),d.jsx("span",{className:"text-xs mt-1",children:"Mover"})]}),d.jsxs("button",{onClick:()=>c(!u),className:`flex flex-col items-center p-2 w-full rounded-lg ${u?"text-green-400":"text-zinc-400 hover:text-brand-amber"}`,children:[d.jsx(iL,{size:22}),d.jsx("span",{className:"text-xs mt-1",children:"Editar"})]})]})]}),d.jsxs("main",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex bg-brand-glass rounded-xl p-1 border border-brand-border",children:[d.jsx("button",{onClick:()=>l("main"),className:`w-1/3 py-2 text-sm font-semibold rounded-lg transition-colors ${s==="main"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Ficha"}),d.jsx("button",{onClick:()=>l("genetics"),className:`w-1/3 py-2 text-sm font-semibold rounded-lg transition-colors ${s==="genetics"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Genealoga"}),d.jsx("button",{onClick:()=>l("events"),className:`w-1/3 py-2 text-sm font-semibold rounded-lg transition-colors ${s==="events"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Eventos"})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[s==="main"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx(qte,{animal:S,isEditing:u,editedData:f,setEditedData:h,lots:i,onAddLotClick:()=>x(!0),origins:a,onAddOriginClick:()=>_(!0)}),u&&d.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-zinc-700",children:[d.jsxs("button",{onClick:j,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2",children:[d.jsx(dm,{size:18})," Cancelar"]}),d.jsxs("button",{onClick:T,disabled:g!=="idle",className:"bg-brand-amber hover:bg-yellow-500 text-black font-bold py-2 px-6 rounded-lg flex items-center gap-2 disabled:opacity-50 min-w-[130px] justify-center",children:[g==="saving"&&d.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-black border-t-transparent rounded-full"}),g==="success"&&d.jsx(sl,{size:18}),g==="idle"&&d.jsx(nL,{size:18}),d.jsx("span",{className:"ml-2",children:g==="success"?"Guardado":"Guardar"})]})]})]}),s==="genetics"&&d.jsx(Kte,{animalId:S.id}),s==="events"&&d.jsx(Gte,{animalId:S.id})]})]})]}),d.jsx(_A,{isOpen:v,onClose:()=>x(!1)}),d.jsx($L,{isOpen:w,onClose:()=>_(!1)}),d.jsx(Ut,{isOpen:A,onClose:()=>I(!1),title:`Registrar Parto para ${S.id}`,children:d.jsx(oT,{motherId:S.id,onSaveSuccess:()=>I(!1),onCancel:()=>I(!1)})})]}):d.jsxs("div",{className:"text-center p-10",children:[d.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."}),d.jsx("button",{onClick:e,className:"mt-4 text-brand-amber",children:"Volver"})]})}const Xte=({animal:t,parturition:e,onSelectAnimal:n})=>d.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),d.jsxs("p",{className:"text-sm text-zinc-400",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate).toLocaleDateString()}`,e.status==="seca"&&"Lactancia finalizada"]})]}),d.jsx(ol,{className:"text-zinc-600"})]});function Qte({onSelectAnimal:t,defaultView:e="drying"}){const{animals:n,parturitions:r,isLoading:i}=qt(),[a,o]=V.useState(e);V.useEffect(()=>{o(e)},[e]);const s=V.useMemo(()=>{const u=h=>n.find(g=>g.id===h),c=r.filter(h=>h.status==="en-secado").map(h=>({animal:u(h.goatId),parturition:h})).filter(h=>h.animal),f=r.filter(h=>h.status==="seca").map(h=>({animal:u(h.goatId),parturition:h})).filter(h=>h.animal);return{drying:c,dry:f}},[n,r]),l=s[a]||[];return i?d.jsx("div",{className:"text-center p-10",children:d.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[d.jsxs("header",{className:"text-center pt-8 pb-4",children:[d.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Gestin de Rebao"}),d.jsx("p",{className:"text-xl text-zinc-400",children:"Animales por Estado de Lactancia"})]}),d.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border flex justify-between items-center",children:d.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[d.jsxs("button",{onClick:()=>o("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",s.drying.length,")"]}),d.jsxs("button",{onClick:()=>o("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",s.dry.length,")"]})]})}),d.jsx("div",{className:"space-y-2",children:l.length>0?l.map(({animal:u,parturition:c})=>d.jsx(Xte,{animal:u,parturition:c,onSelectAnimal:t},c.id)):d.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:d.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function Jte({onBack:t}){const{lots:e,animals:n,parturitions:r,addLot:i,deleteLot:a,updateAnimal:o}=qt(),[s,l]=V.useState(""),[u,c]=V.useState(!1),[f,h]=V.useState(null),g=async()=>{if(s.trim()!=="")try{await i(s),l("")}catch(x){console.error("Error al aadir el lote:",x)}},b=x=>{h(x),c(!0)},v=async x=>{if(!f)return;const w=x.map(_=>o(_,{location:f}));try{await Promise.all(w),console.log(`${x.length} animales asignados al lote ${f}.`)}catch(_){console.error("Error al asignar animales:",_)}c(!1),h(null)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[d.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[d.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsxs("div",{className:"text-center flex-grow",children:[d.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestionar Lotes"}),d.jsx("p",{className:"text-md text-zinc-400",children:"Asigna animales a las ubicaciones de tu finca"})]}),d.jsx("div",{className:"w-8"})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Aadir Nuevo Lote"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:s,onChange:x=>l(x.target.value),placeholder:"Nombre del lote...",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"}),d.jsx("button",{onClick:g,className:"p-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl",children:d.jsx(so,{size:24})})]})]}),d.jsxs("div",{className:"space-y-2 pt-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-2",children:"Lotes Existentes"}),e.length>0?e.map(x=>d.jsxs("div",{className:"w-full text-left bg-brand-glass rounded-2xl p-4 flex justify-between items-center",children:[d.jsx("p",{className:"font-semibold text-white",children:x.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>b(x.name),className:"flex items-center gap-2 bg-zinc-700/80 text-white font-semibold py-2 px-3 rounded-lg hover:bg-zinc-600/80 transition-colors",children:[d.jsx(Wf,{size:16}),"Asignar"]}),d.jsx("button",{onClick:()=>a(x.id),className:"p-2 text-zinc-500 hover:text-red-500 transition-colors",children:d.jsx(sL,{size:18})})]})]},x.id)):d.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:d.jsx("p",{className:"text-zinc-500",children:"An no has creado ningn lote."})})]})]}),d.jsx(aT,{isOpen:u,onClose:()=>c(!1),onSelect:v,animals:n,parturitions:r,title:`Asignar animales a: ${f}`})]})}const Zte=`
  .rdp { --rdp-cell-size: 40px; --rdp-accent-color: #FBBF24; --rdp-background-color: #3a3a3c; --rdp-accent-color-dark: #FBBF24; --rdp-background-color-dark: #3a3a3c; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-outline-selected: 3px solid var(--rdp-accent-color); --rdp-border-radius: 6px; color: #FFF; margin: 1em; }
  .rdp-caption_label, .rdp-nav_button { color: #FBBF24; } .rdp-head_cell { color: #8e8e93; }
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
`,ene=({animal:t,services:e,onDeclareService:n,onDeclareParturition:r,onSelect:i})=>{const a=e.length,o=a>0?new Date(e[e.length-1].serviceDate+"T00:00:00").toLocaleDateString("es-VE"):null;return d.jsxs("div",{className:"w-full text-left bg-zinc-800/50 rounded-2xl p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[d.jsxs("button",{onClick:()=>i(t.id),className:"w-full sm:w-auto text-left",children:[d.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),d.jsx("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:a>0?d.jsxs("div",{className:"flex items-center gap-1 text-pink-400 font-semibold",children:[d.jsx(iH,{size:14,fill:"currentColor"}),d.jsxs("span",{children:[a," ",a>1?"Servicios":"Servicio"," (",o,")"]})]}):d.jsx("span",{children:"Sin servicios reportados"})})]}),d.jsxs("div",{className:"w-full sm:w-auto flex flex-shrink-0 gap-2",children:[d.jsx("button",{onClick:()=>n(t.id),className:"flex-1 sm:flex-initial bg-indigo-600/80 hover:bg-indigo-500/100 text-white font-semibold py-2 px-3 rounded-lg transition-colors text-sm",children:"Servicio"}),d.jsxs("button",{onClick:()=>r(t.id),className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 bg-green-600/80 hover:bg-green-500/100 text-white font-semibold py-2 px-3 rounded-lg transition-colors text-sm",children:[d.jsx(yA,{size:14})," Parto"]})]})]})};function tne({groupId:t,navigateTo:e,onBack:n}){const{breedingGroups:r,animals:i,parturitions:a,serviceRecords:o,updateAnimal:s,addServiceRecord:l}=qt(),[u,c]=V.useState(!1),[f,h]=V.useState(""),[g,b]=V.useState({isOpen:!1,femaleId:null}),[v,x]=V.useState({isOpen:!1,femaleId:null}),w=V.useMemo(()=>r.find(C=>C.id===t),[r,t]),_=V.useMemo(()=>w?i.filter(C=>C.breedingGroupId===w.id).sort((C,E)=>C.id.localeCompare(E.id)):[],[i,w]),A=V.useMemo(()=>f?_.filter(C=>C.id.toLowerCase().includes(f.toLowerCase())):_,[_,f]),I=async C=>{if(!w)return;const E=C.map(T=>s(T,{breedingGroupId:w.id,reproductiveStatus:"En Servicio"}));try{await Promise.all(E)}catch(T){console.error("Error al asignar hembras:",T)}},S=async C=>{if(!(!C||!g.femaleId||!w))try{await l({breedingGroupId:w.id,femaleId:g.femaleId,serviceDate:C.toISOString().split("T")[0]})}catch(E){console.error("Error al guardar el servicio:",E)}finally{b({isOpen:!1,femaleId:null})}};return w?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[d.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[d.jsx("button",{onClick:n,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsxs("div",{className:"text-center flex-grow",children:[d.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:w.name}),d.jsxs("p",{className:"text-md text-zinc-400",children:["Reproductor: ",w.sireId]})]}),d.jsx("div",{className:"w-8"})]}),d.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[d.jsx(so,{size:20})," Asignar Hembras"]}),d.jsxs("div",{className:"space-y-4 pt-4",children:[d.jsxs("div",{className:"flex justify-between items-center px-2",children:[d.jsxs("h3",{className:"text-lg font-semibold text-zinc-300",children:["Hembras Asignadas (",A.length,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx(rf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),d.jsx("input",{type:"search",value:f,onChange:C=>h(C.target.value),placeholder:"Buscar...",className:"w-full bg-zinc-800/80 rounded-lg pl-10 pr-4 py-2 text-white border-transparent focus:border-brand-amber focus:ring-0"})]})]}),d.jsx("div",{className:"space-y-2",children:A.length>0?A.map(C=>{const E=o.filter(T=>T.femaleId===C.id&&T.breedingGroupId===w.id).sort((T,j)=>new Date(T.serviceDate).getTime()-new Date(j.serviceDate).getTime());return d.jsx(ene,{animal:C,services:E,onDeclareService:T=>b({isOpen:!0,femaleId:T}),onDeclareParturition:T=>x({isOpen:!0,femaleId:T}),onSelect:T=>e({name:"rebano-profile",animalId:T})},C.id)}):d.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:d.jsx("p",{className:"text-zinc-500",children:f?"No se encontraron coincidencias.":"An no has asignado hembras a este lote."})})})]})]}),d.jsx(aT,{isOpen:u,onClose:()=>c(!1),onSelect:I,animals:i,parturitions:a,title:`Asignar Hembras a: ${w.name}`,sireIdForInbreedingCheck:w.sireId}),d.jsxs(Ut,{isOpen:g.isOpen,onClose:()=>b({isOpen:!1,femaleId:null}),title:`Declarar Servicio para ${g.femaleId}`,children:[d.jsx("style",{children:Zte}),d.jsx("div",{className:"flex justify-center",children:d.jsx(RL,{mode:"single",onSelect:S})})]}),d.jsx(Ut,{isOpen:v.isOpen,onClose:()=>x({isOpen:!1,femaleId:null}),title:`Registrar Parto para ${v.femaleId}`,children:d.jsx(oT,{motherId:v.femaleId||"",onSaveSuccess:()=>x({isOpen:!1,femaleId:null}),onCancel:()=>x({isOpen:!1,femaleId:null})})})]}):d.jsxs("div",{className:"text-center p-10",children:[d.jsx("h1",{className:"text-2xl text-zinc-400",children:"Lote de Monta no encontrado."}),d.jsx("button",{onClick:n,className:"mt-4 text-brand-amber",children:"Volver"})]})}function x5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=x5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=x5(t))&&(r&&(r+=" "),r+=e);return r}var nne=Array.isArray,ri=nne,rne=typeof sc=="object"&&sc&&sc.Object===Object&&sc,w5=rne,ine=w5,ane=typeof self=="object"&&self&&self.Object===Object&&self,one=ine||ane||Function("return this")(),co=one,sne=co,lne=sne.Symbol,wm=lne,Dk=wm,_5=Object.prototype,une=_5.hasOwnProperty,cne=_5.toString,Dd=Dk?Dk.toStringTag:void 0;function fne(t){var e=une.call(t,Dd),n=t[Dd];try{t[Dd]=void 0;var r=!0}catch{}var i=cne.call(t);return r&&(e?t[Dd]=n:delete t[Dd]),i}var dne=fne,hne=Object.prototype,pne=hne.toString;function mne(t){return pne.call(t)}var gne=mne,Mk=wm,yne=dne,vne=gne,bne="[object Null]",xne="[object Undefined]",Rk=Mk?Mk.toStringTag:void 0;function wne(t){return t==null?t===void 0?xne:bne:Rk&&Rk in Object(t)?yne(t):vne(t)}var rs=wne;function _ne(t){return t!=null&&typeof t=="object"}var is=_ne,Sne=rs,Ene=is,Ane="[object Symbol]";function Tne(t){return typeof t=="symbol"||Ene(t)&&Sne(t)==Ane}var Gf=Tne,Pne=ri,Cne=Gf,One=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kne=/^\w*$/;function Ine(t,e){if(Pne(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Cne(t)?!0:kne.test(t)||!One.test(t)||e!=null&&t in Object(e)}var sT=Ine;function jne(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ul=jne;const Yf=Vt(ul);var Nne=rs,Dne=ul,Mne="[object AsyncFunction]",Rne="[object Function]",$ne="[object GeneratorFunction]",Lne="[object Proxy]";function Vne(t){if(!Dne(t))return!1;var e=Nne(t);return e==Rne||e==$ne||e==Mne||e==Lne}var lT=Vne;const ut=Vt(lT);var Fne=co,zne=Fne["__core-js_shared__"],Bne=zne,qx=Bne,$k=function(){var t=/[^.]+$/.exec(qx&&qx.keys&&qx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Une(t){return!!$k&&$k in t}var Wne=Une,qne=Function.prototype,Kne=qne.toString;function Hne(t){if(t!=null){try{return Kne.call(t)}catch{}try{return t+""}catch{}}return""}var S5=Hne,Gne=lT,Yne=Wne,Xne=ul,Qne=S5,Jne=/[\\^$.*+?()[\]{}|]/g,Zne=/^\[object .+?Constructor\]$/,ere=Function.prototype,tre=Object.prototype,nre=ere.toString,rre=tre.hasOwnProperty,ire=RegExp("^"+nre.call(rre).replace(Jne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function are(t){if(!Xne(t)||Yne(t))return!1;var e=Gne(t)?ire:Zne;return e.test(Qne(t))}var ore=are;function sre(t,e){return t==null?void 0:t[e]}var lre=sre,ure=ore,cre=lre;function fre(t,e){var n=cre(t,e);return ure(n)?n:void 0}var ku=fre,dre=ku,hre=dre(Object,"create"),H0=hre,Lk=H0;function pre(){this.__data__=Lk?Lk(null):{},this.size=0}var mre=pre;function gre(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yre=gre,vre=H0,bre="__lodash_hash_undefined__",xre=Object.prototype,wre=xre.hasOwnProperty;function _re(t){var e=this.__data__;if(vre){var n=e[t];return n===bre?void 0:n}return wre.call(e,t)?e[t]:void 0}var Sre=_re,Ere=H0,Are=Object.prototype,Tre=Are.hasOwnProperty;function Pre(t){var e=this.__data__;return Ere?e[t]!==void 0:Tre.call(e,t)}var Cre=Pre,Ore=H0,kre="__lodash_hash_undefined__";function Ire(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ore&&e===void 0?kre:e,this}var jre=Ire,Nre=mre,Dre=yre,Mre=Sre,Rre=Cre,$re=jre;function Xf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xf.prototype.clear=Nre;Xf.prototype.delete=Dre;Xf.prototype.get=Mre;Xf.prototype.has=Rre;Xf.prototype.set=$re;var Lre=Xf;function Vre(){this.__data__=[],this.size=0}var Fre=Vre;function zre(t,e){return t===e||t!==t&&e!==e}var uT=zre,Bre=uT;function Ure(t,e){for(var n=t.length;n--;)if(Bre(t[n][0],e))return n;return-1}var G0=Ure,Wre=G0,qre=Array.prototype,Kre=qre.splice;function Hre(t){var e=this.__data__,n=Wre(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kre.call(e,n,1),--this.size,!0}var Gre=Hre,Yre=G0;function Xre(t){var e=this.__data__,n=Yre(e,t);return n<0?void 0:e[n][1]}var Qre=Xre,Jre=G0;function Zre(t){return Jre(this.__data__,t)>-1}var eie=Zre,tie=G0;function nie(t,e){var n=this.__data__,r=tie(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var rie=nie,iie=Fre,aie=Gre,oie=Qre,sie=eie,lie=rie;function Qf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qf.prototype.clear=iie;Qf.prototype.delete=aie;Qf.prototype.get=oie;Qf.prototype.has=sie;Qf.prototype.set=lie;var Y0=Qf,uie=ku,cie=co,fie=uie(cie,"Map"),cT=fie,Vk=Lre,die=Y0,hie=cT;function pie(){this.size=0,this.__data__={hash:new Vk,map:new(hie||die),string:new Vk}}var mie=pie;function gie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var yie=gie,vie=yie;function bie(t,e){var n=t.__data__;return vie(e)?n[typeof e=="string"?"string":"hash"]:n.map}var X0=bie,xie=X0;function wie(t){var e=xie(this,t).delete(t);return this.size-=e?1:0,e}var _ie=wie,Sie=X0;function Eie(t){return Sie(this,t).get(t)}var Aie=Eie,Tie=X0;function Pie(t){return Tie(this,t).has(t)}var Cie=Pie,Oie=X0;function kie(t,e){var n=Oie(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Iie=kie,jie=mie,Nie=_ie,Die=Aie,Mie=Cie,Rie=Iie;function Jf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jf.prototype.clear=jie;Jf.prototype.delete=Nie;Jf.prototype.get=Die;Jf.prototype.has=Mie;Jf.prototype.set=Rie;var fT=Jf,E5=fT,$ie="Expected a function";function dT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($ie);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(dT.Cache||E5),n}dT.Cache=E5;var A5=dT;const Lie=Vt(A5);var Vie=A5,Fie=500;function zie(t){var e=Vie(t,function(r){return n.size===Fie&&n.clear(),r}),n=e.cache;return e}var Bie=zie,Uie=Bie,Wie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qie=/\\(\\)?/g,Kie=Uie(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Wie,function(n,r,i,a){e.push(i?a.replace(qie,"$1"):r||n)}),e}),Hie=Kie;function Gie(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var hT=Gie,Fk=wm,Yie=hT,Xie=ri,Qie=Gf,zk=Fk?Fk.prototype:void 0,Bk=zk?zk.toString:void 0;function T5(t){if(typeof t=="string")return t;if(Xie(t))return Yie(t,T5)+"";if(Qie(t))return Bk?Bk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Jie=T5,Zie=Jie;function eae(t){return t==null?"":Zie(t)}var P5=eae,tae=ri,nae=sT,rae=Hie,iae=P5;function aae(t,e){return tae(t)?t:nae(t,e)?[t]:rae(iae(t))}var C5=aae,oae=Gf;function sae(t){if(typeof t=="string"||oae(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Q0=sae,lae=C5,uae=Q0;function cae(t,e){e=lae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uae(e[n++])];return n&&n==r?t:void 0}var pT=cae,fae=pT;function dae(t,e,n){var r=t==null?void 0:fae(t,e);return r===void 0?n:r}var O5=dae;const Ki=Vt(O5);function hae(t){return t==null}var pae=hae;const ht=Vt(pae);var mae=rs,gae=ri,yae=is,vae="[object String]";function bae(t){return typeof t=="string"||!gae(t)&&yae(t)&&mae(t)==vae}var xae=bae;const yu=Vt(xae);var k5={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT=Symbol.for("react.element"),gT=Symbol.for("react.portal"),J0=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),eb=Symbol.for("react.profiler"),tb=Symbol.for("react.provider"),nb=Symbol.for("react.context"),wae=Symbol.for("react.server_context"),rb=Symbol.for("react.forward_ref"),ib=Symbol.for("react.suspense"),ab=Symbol.for("react.suspense_list"),ob=Symbol.for("react.memo"),sb=Symbol.for("react.lazy"),_ae=Symbol.for("react.offscreen"),I5;I5=Symbol.for("react.module.reference");function Ji(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mT:switch(t=t.type,t){case J0:case eb:case Z0:case ib:case ab:return t;default:switch(t=t&&t.$$typeof,t){case wae:case nb:case rb:case sb:case ob:case tb:return t;default:return e}}case gT:return e}}}Mt.ContextConsumer=nb;Mt.ContextProvider=tb;Mt.Element=mT;Mt.ForwardRef=rb;Mt.Fragment=J0;Mt.Lazy=sb;Mt.Memo=ob;Mt.Portal=gT;Mt.Profiler=eb;Mt.StrictMode=Z0;Mt.Suspense=ib;Mt.SuspenseList=ab;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(t){return Ji(t)===nb};Mt.isContextProvider=function(t){return Ji(t)===tb};Mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mT};Mt.isForwardRef=function(t){return Ji(t)===rb};Mt.isFragment=function(t){return Ji(t)===J0};Mt.isLazy=function(t){return Ji(t)===sb};Mt.isMemo=function(t){return Ji(t)===ob};Mt.isPortal=function(t){return Ji(t)===gT};Mt.isProfiler=function(t){return Ji(t)===eb};Mt.isStrictMode=function(t){return Ji(t)===Z0};Mt.isSuspense=function(t){return Ji(t)===ib};Mt.isSuspenseList=function(t){return Ji(t)===ab};Mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===J0||t===eb||t===Z0||t===ib||t===ab||t===_ae||typeof t=="object"&&t!==null&&(t.$$typeof===sb||t.$$typeof===ob||t.$$typeof===tb||t.$$typeof===nb||t.$$typeof===rb||t.$$typeof===I5||t.getModuleId!==void 0)};Mt.typeOf=Ji;k5.exports=Mt;var Sae=k5.exports,Eae=rs,Aae=is,Tae="[object Number]";function Pae(t){return typeof t=="number"||Aae(t)&&Eae(t)==Tae}var j5=Pae;const Cae=Vt(j5);var Oae=j5;function kae(t){return Oae(t)&&t!=+t}var Iae=kae;const Zf=Vt(Iae);var Ea=function(e){return e===0?0:e>0?1:-1},Xl=function(e){return yu(e)&&e.indexOf("%")===e.length-1},Ce=function(e){return Cae(e)&&!Zf(e)},jae=function(e){return ht(e)},zn=function(e){return Ce(e)||yu(e)},Nae=0,ed=function(e){var n=++Nae;return"".concat(e||"").concat(n)},vu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&!yu(e))return r;var a;if(Xl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Zf(a)&&(a=r),i&&a>n&&(a=n),a},As=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Dae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ar=function(e,n){return Ce(e)&&Ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function nv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ki(r,e))===n})}var Mae=function(e,n){return Ce(e)&&Ce(n)?e-n:yu(e)&&yu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Lc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function s_(t){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(t)}var Rae=["viewBox","children"],$ae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Uk=["points","pathLength"],Kx={svg:Rae,polygon:Uk,polyline:Uk},yT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(V.isValidElement(e)&&(r=e.props),!Yf(r))return null;var i={};return Object.keys(r).forEach(function(a){yT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Lae=function(e,n,r){return function(i){return e(n,r,i),null}},iv=function(e,n,r){if(!Yf(e)||s_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];yT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Lae(o,n,r))}),i},Vae=["children"],Fae=["children"];function Wk(t,e){if(t==null)return{};var n=zae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l_(t){"@babel/helpers - typeof";return l_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l_(t)}var qk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Kk=null,Hx=null,vT=function t(e){if(e===Kk&&Array.isArray(Hx))return Hx;var n=[];return V.Children.forEach(e,function(r){ht(r)||(Sae.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Hx=n,Kk=e,n};function Hi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Lo(i)}):r=[Lo(e)],vT(t).forEach(function(i){var a=Ki(i,"type.displayName")||Ki(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function hi(t,e){var n=Hi(t,e);return n&&n[0]}var Hk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ce(r)||r<=0||!Ce(i)||i<=0)},Bae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Uae=function(e){return e&&e.type&&yu(e.type)&&Bae.indexOf(e.type)>=0},N5=function(e){return e&&l_(e)==="object"&&"clipDot"in e},Wae=function(e,n,r,i){var a,o=(a=Kx==null?void 0:Kx[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!ut(e)&&(i&&o.includes(n)||$ae.includes(n))||r&&yT.includes(n)},ct=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(V.isValidElement(e)&&(i=e.props),!Yf(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Wae((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},u_=function t(e,n){if(e===n)return!0;var r=V.Children.count(e);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Gk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!Gk(a,o))return!1}return!0},Gk=function(e,n){if(ht(e)&&ht(n))return!0;if(!ht(e)&&!ht(n)){var r=e.props||{},i=r.children,a=Wk(r,Vae),o=n.props||{},s=o.children,l=Wk(o,Fae);return i&&s?Lc(a,l)&&u_(i,s):!i&&!s?Lc(a,l):!1}return!1},Yk=function(e,n){var r=[],i={};return vT(e).forEach(function(a,o){if(Uae(a))r.push(a);else if(a){var s=Lo(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},qae=function(e){var n=e&&e.type;return n&&qk[n]?qk[n]:null},Kae=function(e,n){return vT(n).indexOf(e)},Hae=["children","width","height","viewBox","className","style","title","desc"];function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function Gae(t,e){if(t==null)return{};var n=Yae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=Gae(t,Hae),c=i||{width:n,height:r,x:0,y:0},f=xt("recharts-surface",a);return U.createElement("svg",c_({},ct(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),U.createElement("title",null,s),U.createElement("desc",null,l),e)}var Xae=["children","className"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function Qae(t,e){if(t==null)return{};var n=Jae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qt=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=Qae(t,Xae),a=xt("recharts-layer",r);return U.createElement("g",d_({className:a},ct(i,!0),{ref:e}),n)}),Vo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Zae(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var eoe=Zae,toe=eoe;function noe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:toe(t,e,n)}var roe=noe,ioe="\\ud800-\\udfff",aoe="\\u0300-\\u036f",ooe="\\ufe20-\\ufe2f",soe="\\u20d0-\\u20ff",loe=aoe+ooe+soe,uoe="\\ufe0e\\ufe0f",coe="\\u200d",foe=RegExp("["+coe+ioe+loe+uoe+"]");function doe(t){return foe.test(t)}var D5=doe;function hoe(t){return t.split("")}var poe=hoe,M5="\\ud800-\\udfff",moe="\\u0300-\\u036f",goe="\\ufe20-\\ufe2f",yoe="\\u20d0-\\u20ff",voe=moe+goe+yoe,boe="\\ufe0e\\ufe0f",xoe="["+M5+"]",h_="["+voe+"]",p_="\\ud83c[\\udffb-\\udfff]",woe="(?:"+h_+"|"+p_+")",R5="[^"+M5+"]",$5="(?:\\ud83c[\\udde6-\\uddff]){2}",L5="[\\ud800-\\udbff][\\udc00-\\udfff]",_oe="\\u200d",V5=woe+"?",F5="["+boe+"]?",Soe="(?:"+_oe+"(?:"+[R5,$5,L5].join("|")+")"+F5+V5+")*",Eoe=F5+V5+Soe,Aoe="(?:"+[R5+h_+"?",h_,$5,L5,xoe].join("|")+")",Toe=RegExp(p_+"(?="+p_+")|"+Aoe+Eoe,"g");function Poe(t){return t.match(Toe)||[]}var Coe=Poe,Ooe=poe,koe=D5,Ioe=Coe;function joe(t){return koe(t)?Ioe(t):Ooe(t)}var Noe=joe,Doe=roe,Moe=D5,Roe=Noe,$oe=P5;function Loe(t){return function(e){e=$oe(e);var n=Moe(e)?Roe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Doe(n,1).join(""):e.slice(1);return r[t]()+i}}var Voe=Loe,Foe=Voe,zoe=Foe("toUpperCase"),Boe=zoe;const lb=Vt(Boe);function Gt(t){return function(){return t}}const z5=Math.cos,av=Math.sin,Oa=Math.sqrt,ov=Math.PI,ub=2*ov,m_=Math.PI,g_=2*m_,Fl=1e-6,Uoe=g_-Fl;function B5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Woe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return B5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qoe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?B5:Woe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Fl)if(!(Math.abs(f*l-u*c)>Fl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,b=i-s,v=l*l+u*u,x=g*g+b*b,w=Math.sqrt(v),_=Math.sqrt(h),A=a*Math.tan((m_-Math.acos((v+h-x)/(2*w*_)))/2),I=A/_,S=A/w;Math.abs(I-1)>Fl&&this._append`L${e+I*c},${n+I*f}`,this._append`A${a},${a},0,0,${+(f*g>c*b)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Fl||Math.abs(this._y1-c)>Fl)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%g_+g_),h>Uoe?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Fl&&this._append`A${r},${r},0,${+(h>=m_)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qoe(e)}function xT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U5(t){this._context=t}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cb(t){return new U5(t)}function W5(t){return t[0]}function q5(t){return t[1]}function K5(t,e){var n=Gt(!0),r=null,i=cb,a=null,o=bT(s);t=typeof t=="function"?t:t===void 0?W5:Gt(t),e=typeof e=="function"?e:e===void 0?q5:Gt(e);function s(l){var u,c=(l=xT(l)).length,f,h=!1,g;for(r==null&&(a=i(g=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(g)return a=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Gt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Gt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Gt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function xg(t,e,n){var r=null,i=Gt(!0),a=null,o=cb,s=null,l=bT(u);t=typeof t=="function"?t:t===void 0?W5:Gt(+t),e=typeof e=="function"?e:Gt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?q5:Gt(+n);function u(f){var h,g,b,v=(f=xT(f)).length,x,w=!1,_,A=new Array(v),I=new Array(v);for(a==null&&(s=o(_=l())),h=0;h<=v;++h){if(!(h<v&&i(x=f[h],h,f))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=h-1;b>=g;--b)s.point(A[b],I[b]);s.lineEnd(),s.areaEnd()}w&&(A[h]=+t(x,h,f),I[h]=+e(x,h,f),s.point(r?+r(x,h,f):A[h],n?+n(x,h,f):I[h]))}if(_)return s=null,_+""||null}function c(){return K5().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gt(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Gt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class H5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Koe(t){return new H5(t,!0)}function Hoe(t){return new H5(t,!1)}const wT={draw(t,e){const n=Oa(e/ov);t.moveTo(n,0),t.arc(0,0,n,0,ub)}},Goe={draw(t,e){const n=Oa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},G5=Oa(1/3),Yoe=G5*2,Xoe={draw(t,e){const n=Oa(e/Yoe),r=n*G5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Qoe={draw(t,e){const n=Oa(e),r=-n/2;t.rect(r,r,n,n)}},Joe=.8908130915292852,Y5=av(ov/10)/av(7*ov/10),Zoe=av(ub/10)*Y5,ese=-z5(ub/10)*Y5,tse={draw(t,e){const n=Oa(e*Joe),r=Zoe*n,i=ese*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ub*a/5,s=z5(o),l=av(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Gx=Oa(3),nse={draw(t,e){const n=-Oa(e/(Gx*3));t.moveTo(0,n*2),t.lineTo(-Gx*n,-n),t.lineTo(Gx*n,-n),t.closePath()}},Ri=-.5,$i=Oa(3)/2,y_=1/Oa(12),rse=(y_/2+1)*3,ise={draw(t,e){const n=Oa(e/rse),r=n/2,i=n*y_,a=r,o=n*y_+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Ri*r-$i*i,$i*r+Ri*i),t.lineTo(Ri*a-$i*o,$i*a+Ri*o),t.lineTo(Ri*s-$i*l,$i*s+Ri*l),t.lineTo(Ri*r+$i*i,Ri*i-$i*r),t.lineTo(Ri*a+$i*o,Ri*o-$i*a),t.lineTo(Ri*s+$i*l,Ri*l-$i*s),t.closePath()}};function ase(t,e){let n=null,r=bT(i);t=typeof t=="function"?t:Gt(t||wT),e=typeof e=="function"?e:Gt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Gt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Gt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function sv(){}function lv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function X5(t){this._context=t}X5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ose(t){return new X5(t)}function Q5(t){this._context=t}Q5.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sse(t){return new Q5(t)}function J5(t){this._context=t}J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lse(t){return new J5(t)}function Z5(t){this._context=t}Z5.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function use(t){return new Z5(t)}function Xk(t){return t<0?-1:1}function Qk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Xk(a)+Xk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Jk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Yx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function uv(t){this._context=t}uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yx(this,this._t0,Jk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Yx(this,Jk(this,n=Qk(this,t,e)),n);break;default:Yx(this,this._t0,n=Qk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function e3(t){this._context=new t3(t)}(e3.prototype=Object.create(uv.prototype)).point=function(t,e){uv.prototype.point.call(this,e,t)};function t3(t){this._context=t}t3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function cse(t){return new uv(t)}function fse(t){return new e3(t)}function n3(t){this._context=t}n3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Zk(t),i=Zk(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Zk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function dse(t){return new n3(t)}function fb(t,e){this._context=t,this._t=e}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hse(t){return new fb(t,.5)}function pse(t){return new fb(t,0)}function mse(t){return new fb(t,1)}function cf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function v_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gse(t,e){return t[e]}function yse(t){const e=[];return e.key=t,e}function vse(){var t=Gt([]),e=v_,n=cf,r=gse;function i(a){var o=Array.from(t.apply(this,arguments),yse),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=xT(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Gt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Gt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?v_:typeof a=="function"?a:Gt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??cf,i):n},i}function bse(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}cf(t,e)}}function xse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}cf(t,e)}}function wse(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,g=(f-h)/2,b=0;b<s;++b){var v=t[e[b]],x=v[r][1]||0,w=v[r-1][1]||0;g+=x-w}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,cf(t,e)}}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var _se=["type","size","sizeType"];function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){Sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sse(t,e,n){return e=Ese(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Ase(t,"string");return fp(e)=="symbol"?e:e+""}function Ase(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tse(t,e){if(t==null)return{};var n=Pse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var r3={symbolCircle:wT,symbolCross:Goe,symbolDiamond:Xoe,symbolSquare:Qoe,symbolStar:tse,symbolTriangle:nse,symbolWye:ise},Cse=Math.PI/180,Ose=function(e){var n="symbol".concat(lb(e));return r3[n]||wT},kse=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Cse;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ise=function(e,n){r3["symbol".concat(lb(e))]=n},_T=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Tse(e,_se),u=tI(tI({},l),{},{type:r,size:a,sizeType:s}),c=function(){var x=Ose(r),w=ase().type(x).size(kse(a,s,r));return w()},f=u.className,h=u.cx,g=u.cy,b=ct(u,!0);return h===+h&&g===+g&&a===+a?U.createElement("path",b_({},b,{className:xt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};_T.registerSymbol=Ise;function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){dp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a3(r.key),r)}}function Mse(t,e,n){return e&&Dse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rse(t,e,n){return e=cv(e),$se(t,i3()?Reflect.construct(e,n||[],cv(t).constructor):e.apply(t,n))}function $se(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lse(t)}function Lse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(t)}function Vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w_(t,e)}function w_(t,e){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w_(t,e)}function dp(t,e,n){return e=a3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a3(t){var e=Fse(t,"string");return ff(e)=="symbol"?e:e+""}function Fse(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Li=32,ST=function(t){function e(){return Nse(this,e),Rse(this,e,arguments)}return Vse(e,t),Mse(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Li/2,o=Li/6,s=Li/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Li,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Li,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Li/8,"h").concat(Li,"v").concat(Li*3/4,"h").concat(-Li,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=jse({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(_T,{fill:l,cx:a,cy:a,size:Li,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Li,height:Li},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,b){var v=g.formatter||l,x=xt(dp(dp({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=ut(g.value)?null:g.value;Vo(!ut(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=g.inactive?u:g.color;return U.createElement("li",x_({className:x,style:f,key:"legend-item-".concat(b)},iv(r.props,g,b)),U.createElement(f_,{width:o,height:o,viewBox:c,style:h},r.renderIcon(g)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(w,g,b):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(V.PureComponent);dp(ST,"displayName","Legend");dp(ST,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zse=Y0;function Bse(){this.__data__=new zse,this.size=0}var Use=Bse;function Wse(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var qse=Wse;function Kse(t){return this.__data__.get(t)}var Hse=Kse;function Gse(t){return this.__data__.has(t)}var Yse=Gse,Xse=Y0,Qse=cT,Jse=fT,Zse=200;function ele(t,e){var n=this.__data__;if(n instanceof Xse){var r=n.__data__;if(!Qse||r.length<Zse-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jse(r)}return n.set(t,e),this.size=n.size,this}var tle=ele,nle=Y0,rle=Use,ile=qse,ale=Hse,ole=Yse,sle=tle;function td(t){var e=this.__data__=new nle(t);this.size=e.size}td.prototype.clear=rle;td.prototype.delete=ile;td.prototype.get=ale;td.prototype.has=ole;td.prototype.set=sle;var o3=td,lle="__lodash_hash_undefined__";function ule(t){return this.__data__.set(t,lle),this}var cle=ule;function fle(t){return this.__data__.has(t)}var dle=fle,hle=fT,ple=cle,mle=dle;function fv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hle;++e<n;)this.add(t[e])}fv.prototype.add=fv.prototype.push=ple;fv.prototype.has=mle;var s3=fv;function gle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var l3=gle;function yle(t,e){return t.has(e)}var u3=yle,vle=s3,ble=l3,xle=u3,wle=1,_le=2;function Sle(t,e,n,r,i,a){var o=n&wle,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,g=n&_le?new vle:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var b=t[f],v=e[f];if(r)var x=o?r(v,b,f,e,t,a):r(b,v,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!ble(e,function(w,_){if(!xle(g,_)&&(b===w||i(b,w,n,r,a)))return g.push(_)})){h=!1;break}}else if(!(b===v||i(b,v,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var c3=Sle,Ele=co,Ale=Ele.Uint8Array,Tle=Ale;function Ple(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Cle=Ple;function Ole(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ET=Ole,rI=wm,iI=Tle,kle=uT,Ile=c3,jle=Cle,Nle=ET,Dle=1,Mle=2,Rle="[object Boolean]",$le="[object Date]",Lle="[object Error]",Vle="[object Map]",Fle="[object Number]",zle="[object RegExp]",Ble="[object Set]",Ule="[object String]",Wle="[object Symbol]",qle="[object ArrayBuffer]",Kle="[object DataView]",aI=rI?rI.prototype:void 0,Xx=aI?aI.valueOf:void 0;function Hle(t,e,n,r,i,a,o){switch(n){case Kle:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qle:return!(t.byteLength!=e.byteLength||!a(new iI(t),new iI(e)));case Rle:case $le:case Fle:return kle(+t,+e);case Lle:return t.name==e.name&&t.message==e.message;case zle:case Ule:return t==e+"";case Vle:var s=jle;case Ble:var l=r&Dle;if(s||(s=Nle),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Mle,o.set(t,e);var c=Ile(s(t),s(e),r,i,a,o);return o.delete(t),c;case Wle:if(Xx)return Xx.call(t)==Xx.call(e)}return!1}var Gle=Hle;function Yle(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var f3=Yle,Xle=f3,Qle=ri;function Jle(t,e,n){var r=e(t);return Qle(t)?r:Xle(r,n(t))}var Zle=Jle;function eue(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var tue=eue;function nue(){return[]}var rue=nue,iue=tue,aue=rue,oue=Object.prototype,sue=oue.propertyIsEnumerable,oI=Object.getOwnPropertySymbols,lue=oI?function(t){return t==null?[]:(t=Object(t),iue(oI(t),function(e){return sue.call(t,e)}))}:aue,uue=lue;function cue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fue=cue,due=rs,hue=is,pue="[object Arguments]";function mue(t){return hue(t)&&due(t)==pue}var gue=mue,sI=gue,yue=is,d3=Object.prototype,vue=d3.hasOwnProperty,bue=d3.propertyIsEnumerable,xue=sI(function(){return arguments}())?sI:function(t){return yue(t)&&vue.call(t,"callee")&&!bue.call(t,"callee")},AT=xue,dv={exports:{}};function wue(){return!1}var _ue=wue;dv.exports;(function(t,e){var n=co,r=_ue,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(dv,dv.exports);var h3=dv.exports,Sue=9007199254740991,Eue=/^(?:0|[1-9]\d*)$/;function Aue(t,e){var n=typeof t;return e=e??Sue,!!e&&(n=="number"||n!="symbol"&&Eue.test(t))&&t>-1&&t%1==0&&t<e}var TT=Aue,Tue=9007199254740991;function Pue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Tue}var PT=Pue,Cue=rs,Oue=PT,kue=is,Iue="[object Arguments]",jue="[object Array]",Nue="[object Boolean]",Due="[object Date]",Mue="[object Error]",Rue="[object Function]",$ue="[object Map]",Lue="[object Number]",Vue="[object Object]",Fue="[object RegExp]",zue="[object Set]",Bue="[object String]",Uue="[object WeakMap]",Wue="[object ArrayBuffer]",que="[object DataView]",Kue="[object Float32Array]",Hue="[object Float64Array]",Gue="[object Int8Array]",Yue="[object Int16Array]",Xue="[object Int32Array]",Que="[object Uint8Array]",Jue="[object Uint8ClampedArray]",Zue="[object Uint16Array]",ece="[object Uint32Array]",en={};en[Kue]=en[Hue]=en[Gue]=en[Yue]=en[Xue]=en[Que]=en[Jue]=en[Zue]=en[ece]=!0;en[Iue]=en[jue]=en[Wue]=en[Nue]=en[que]=en[Due]=en[Mue]=en[Rue]=en[$ue]=en[Lue]=en[Vue]=en[Fue]=en[zue]=en[Bue]=en[Uue]=!1;function tce(t){return kue(t)&&Oue(t.length)&&!!en[Cue(t)]}var nce=tce;function rce(t){return function(e){return t(e)}}var p3=rce,hv={exports:{}};hv.exports;(function(t,e){var n=w5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(hv,hv.exports);var ice=hv.exports,ace=nce,oce=p3,lI=ice,uI=lI&&lI.isTypedArray,sce=uI?oce(uI):ace,m3=sce,lce=fue,uce=AT,cce=ri,fce=h3,dce=TT,hce=m3,pce=Object.prototype,mce=pce.hasOwnProperty;function gce(t,e){var n=cce(t),r=!n&&uce(t),i=!n&&!r&&fce(t),a=!n&&!r&&!i&&hce(t),o=n||r||i||a,s=o?lce(t.length,String):[],l=s.length;for(var u in t)(e||mce.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dce(u,l)))&&s.push(u);return s}var yce=gce,vce=Object.prototype;function bce(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vce;return t===n}var xce=bce;function wce(t,e){return function(n){return t(e(n))}}var g3=wce,_ce=g3,Sce=_ce(Object.keys,Object),Ece=Sce,Ace=xce,Tce=Ece,Pce=Object.prototype,Cce=Pce.hasOwnProperty;function Oce(t){if(!Ace(t))return Tce(t);var e=[];for(var n in Object(t))Cce.call(t,n)&&n!="constructor"&&e.push(n);return e}var kce=Oce,Ice=lT,jce=PT;function Nce(t){return t!=null&&jce(t.length)&&!Ice(t)}var _m=Nce,Dce=yce,Mce=kce,Rce=_m;function $ce(t){return Rce(t)?Dce(t):Mce(t)}var db=$ce,Lce=Zle,Vce=uue,Fce=db;function zce(t){return Lce(t,Fce,Vce)}var Bce=zce,cI=Bce,Uce=1,Wce=Object.prototype,qce=Wce.hasOwnProperty;function Kce(t,e,n,r,i,a){var o=n&Uce,s=cI(t),l=s.length,u=cI(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:qce.call(e,h)))return!1}var g=a.get(t),b=a.get(e);if(g&&b)return g==e&&b==t;var v=!0;a.set(t,e),a.set(e,t);for(var x=o;++f<l;){h=s[f];var w=t[h],_=e[h];if(r)var A=o?r(_,w,h,e,t,a):r(w,_,h,t,e,a);if(!(A===void 0?w===_||i(w,_,n,r,a):A)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var I=t.constructor,S=e.constructor;I!=S&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof S=="function"&&S instanceof S)&&(v=!1)}return a.delete(t),a.delete(e),v}var Hce=Kce,Gce=ku,Yce=co,Xce=Gce(Yce,"DataView"),Qce=Xce,Jce=ku,Zce=co,efe=Jce(Zce,"Promise"),tfe=efe,nfe=ku,rfe=co,ife=nfe(rfe,"Set"),y3=ife,afe=ku,ofe=co,sfe=afe(ofe,"WeakMap"),lfe=sfe,__=Qce,S_=cT,E_=tfe,A_=y3,T_=lfe,v3=rs,nd=S5,fI="[object Map]",ufe="[object Object]",dI="[object Promise]",hI="[object Set]",pI="[object WeakMap]",mI="[object DataView]",cfe=nd(__),ffe=nd(S_),dfe=nd(E_),hfe=nd(A_),pfe=nd(T_),zl=v3;(__&&zl(new __(new ArrayBuffer(1)))!=mI||S_&&zl(new S_)!=fI||E_&&zl(E_.resolve())!=dI||A_&&zl(new A_)!=hI||T_&&zl(new T_)!=pI)&&(zl=function(t){var e=v3(t),n=e==ufe?t.constructor:void 0,r=n?nd(n):"";if(r)switch(r){case cfe:return mI;case ffe:return fI;case dfe:return dI;case hfe:return hI;case pfe:return pI}return e});var mfe=zl,Qx=o3,gfe=c3,yfe=Gle,vfe=Hce,gI=mfe,yI=ri,vI=h3,bfe=m3,xfe=1,bI="[object Arguments]",xI="[object Array]",wg="[object Object]",wfe=Object.prototype,wI=wfe.hasOwnProperty;function _fe(t,e,n,r,i,a){var o=yI(t),s=yI(e),l=o?xI:gI(t),u=s?xI:gI(e);l=l==bI?wg:l,u=u==bI?wg:u;var c=l==wg,f=u==wg,h=l==u;if(h&&vI(t)){if(!vI(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new Qx),o||bfe(t)?gfe(t,e,n,r,i,a):yfe(t,e,l,n,r,i,a);if(!(n&xfe)){var g=c&&wI.call(t,"__wrapped__"),b=f&&wI.call(e,"__wrapped__");if(g||b){var v=g?t.value():t,x=b?e.value():e;return a||(a=new Qx),i(v,x,n,r,a)}}return h?(a||(a=new Qx),vfe(t,e,n,r,i,a)):!1}var Sfe=_fe,Efe=Sfe,_I=is;function b3(t,e,n,r,i){return t===e?!0:t==null||e==null||!_I(t)&&!_I(e)?t!==t&&e!==e:Efe(t,e,n,r,b3,i)}var CT=b3,Afe=o3,Tfe=CT,Pfe=1,Cfe=2;function Ofe(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Afe;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Tfe(c,u,Pfe|Cfe,r,f):h))return!1}}return!0}var kfe=Ofe,Ife=ul;function jfe(t){return t===t&&!Ife(t)}var x3=jfe,Nfe=x3,Dfe=db;function Mfe(t){for(var e=Dfe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Nfe(i)]}return e}var Rfe=Mfe;function $fe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var w3=$fe,Lfe=kfe,Vfe=Rfe,Ffe=w3;function zfe(t){var e=Vfe(t);return e.length==1&&e[0][2]?Ffe(e[0][0],e[0][1]):function(n){return n===t||Lfe(n,t,e)}}var Bfe=zfe;function Ufe(t,e){return t!=null&&e in Object(t)}var Wfe=Ufe,qfe=C5,Kfe=AT,Hfe=ri,Gfe=TT,Yfe=PT,Xfe=Q0;function Qfe(t,e,n){e=qfe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Xfe(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Yfe(i)&&Gfe(o,i)&&(Hfe(t)||Kfe(t)))}var Jfe=Qfe,Zfe=Wfe,ede=Jfe;function tde(t,e){return t!=null&&ede(t,e,Zfe)}var nde=tde,rde=CT,ide=O5,ade=nde,ode=sT,sde=x3,lde=w3,ude=Q0,cde=1,fde=2;function dde(t,e){return ode(t)&&sde(e)?lde(ude(t),e):function(n){var r=ide(n,t);return r===void 0&&r===e?ade(n,t):rde(e,r,cde|fde)}}var hde=dde;function pde(t){return t}var rd=pde;function mde(t){return function(e){return e==null?void 0:e[t]}}var gde=mde,yde=pT;function vde(t){return function(e){return yde(e,t)}}var bde=vde,xde=gde,wde=bde,_de=sT,Sde=Q0;function Ede(t){return _de(t)?xde(Sde(t)):wde(t)}var Ade=Ede,Tde=Bfe,Pde=hde,Cde=rd,Ode=ri,kde=Ade;function Ide(t){return typeof t=="function"?t:t==null?Cde:typeof t=="object"?Ode(t)?Pde(t[0],t[1]):Tde(t):kde(t)}var cl=Ide;function jde(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var _3=jde;function Nde(t){return t!==t}var Dde=Nde;function Mde(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Rde=Mde,$de=_3,Lde=Dde,Vde=Rde;function Fde(t,e,n){return e===e?Vde(t,e,n):$de(t,Lde,n)}var zde=Fde,Bde=zde;function Ude(t,e){var n=t==null?0:t.length;return!!n&&Bde(t,e,0)>-1}var Wde=Ude;function qde(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Kde=qde;function Hde(){}var Gde=Hde,Jx=y3,Yde=Gde,Xde=ET,Qde=1/0,Jde=Jx&&1/Xde(new Jx([,-0]))[1]==Qde?function(t){return new Jx(t)}:Yde,Zde=Jde,ehe=s3,the=Wde,nhe=Kde,rhe=u3,ihe=Zde,ahe=ET,ohe=200;function she(t,e,n){var r=-1,i=the,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=nhe;else if(a>=ohe){var u=e?null:ihe(t);if(u)return ahe(u);o=!1,i=rhe,l=new ehe}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var lhe=she,uhe=cl,che=lhe;function fhe(t,e){return t&&t.length?che(t,uhe(e)):[]}var dhe=fhe;const SI=Vt(dhe);function S3(t,e,n){return e===!0?SI(t,n):ut(e)?SI(t,e):t}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}var hhe=["ref"];function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A3(r.key),r)}}function mhe(t,e,n){return e&&AI(t.prototype,e),n&&AI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ghe(t,e,n){return e=pv(e),yhe(t,E3()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function yhe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vhe(t)}function vhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E3=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function bhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function hb(t,e,n){return e=A3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3(t){var e=xhe(t,"string");return df(e)=="symbol"?e:e+""}function xhe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function whe(t,e){if(t==null)return{};var n=_he(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _he(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function She(t){return t.value}function Ehe(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=whe(e,hhe);return U.createElement(ST,n)}var TI=1,ou=function(t){function e(){var n;phe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ghe(this,e,[].concat(i)),hb(n,"lastBoundingBox",{width:-1,height:-1}),n}return bhe(e,t),mhe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>TI||Math.abs(i.height-this.lastBoundingBox.height)>TI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_o({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();h={top:((c||0)-b.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _o(_o({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=_o(_o({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},Ehe(a,_o(_o({},this.props),{},{payload:S3(c,u,She)})))}}],[{key:"getWithHeight",value:function(r,i){var a=_o(_o({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ce(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(V.PureComponent);hb(ou,"displayName","Legend");hb(ou,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var PI=wm,Ahe=AT,The=ri,CI=PI?PI.isConcatSpreadable:void 0;function Phe(t){return The(t)||Ahe(t)||!!(CI&&t&&t[CI])}var Che=Phe,Ohe=f3,khe=Che;function T3(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=khe),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?T3(s,e-1,n,r,i):Ohe(i,s):r||(i[i.length]=s)}return i}var P3=T3;function Ihe(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var jhe=Ihe,Nhe=jhe,Dhe=Nhe(),Mhe=Dhe,Rhe=Mhe,$he=db;function Lhe(t,e){return t&&Rhe(t,e,$he)}var C3=Lhe,Vhe=_m;function Fhe(t,e){return function(n,r){if(n==null)return n;if(!Vhe(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var zhe=Fhe,Bhe=C3,Uhe=zhe,Whe=Uhe(Bhe),OT=Whe,qhe=OT,Khe=_m;function Hhe(t,e){var n=-1,r=Khe(t)?Array(t.length):[];return qhe(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var O3=Hhe;function Ghe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Yhe=Ghe,OI=Gf;function Xhe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=OI(t),o=e!==void 0,s=e===null,l=e===e,u=OI(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Qhe=Xhe,Jhe=Qhe;function Zhe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Jhe(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var epe=Zhe,Zx=hT,tpe=pT,npe=cl,rpe=O3,ipe=Yhe,ape=p3,ope=epe,spe=rd,lpe=ri;function upe(t,e,n){e.length?e=Zx(e,function(a){return lpe(a)?function(o){return tpe(o,a.length===1?a[0]:a)}:a}):e=[spe];var r=-1;e=Zx(e,ape(npe));var i=rpe(t,function(a,o,s){var l=Zx(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return ipe(i,function(a,o){return ope(a,o,n)})}var cpe=upe;function fpe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var dpe=fpe,hpe=dpe,kI=Math.max;function ppe(t,e,n){return e=kI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=kI(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),hpe(t,this,s)}}var mpe=ppe;function gpe(t){return function(){return t}}var ype=gpe,vpe=ku,bpe=function(){try{var t=vpe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),k3=bpe,xpe=ype,II=k3,wpe=rd,_pe=II?function(t,e){return II(t,"toString",{configurable:!0,enumerable:!1,value:xpe(e),writable:!0})}:wpe,Spe=_pe,Epe=800,Ape=16,Tpe=Date.now;function Ppe(t){var e=0,n=0;return function(){var r=Tpe(),i=Ape-(r-n);if(n=r,i>0){if(++e>=Epe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Cpe=Ppe,Ope=Spe,kpe=Cpe,Ipe=kpe(Ope),jpe=Ipe,Npe=rd,Dpe=mpe,Mpe=jpe;function Rpe(t,e){return Mpe(Dpe(t,e,Npe),t+"")}var $pe=Rpe,Lpe=uT,Vpe=_m,Fpe=TT,zpe=ul;function Bpe(t,e,n){if(!zpe(n))return!1;var r=typeof e;return(r=="number"?Vpe(n)&&Fpe(e,n.length):r=="string"&&e in n)?Lpe(n[e],t):!1}var pb=Bpe,Upe=P3,Wpe=cpe,qpe=$pe,jI=pb,Kpe=qpe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&jI(t,e[0],e[1])?e=[]:n>2&&jI(e[0],e[1],e[2])&&(e=[e[0]]),Wpe(t,Upe(e,1),[])}),Hpe=Kpe;const kT=Vt(Hpe);function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}function Gpe(t,e){return Jpe(t)||Qpe(t,e)||Xpe(t,e)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xpe(t,e){if(t){if(typeof t=="string")return NI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(t,e)}}function NI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jpe(t){if(Array.isArray(t))return t}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return hp(e)=="symbol"?e:e+""}function tme(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t){return Array.isArray(t)&&zn(t[0])&&zn(t[1])?t.join(" ~ "):t}var rme=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,b=e.labelClassName,v=e.label,x=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,A=function(){if(c&&c.length){var $={padding:0,margin:0},L=(h?kT(c,h):c).map(function(ne,ae){if(ne.type==="none")return null;var ce=ew({display:"block",paddingTop:4,paddingBottom:4,color:ne.color||"#000"},s),de=ne.formatter||f||nme,Y=ne.value,re=ne.name,me=Y,Ae=re;if(de&&me!=null&&Ae!=null){var be=de(Y,re,ne,ae,c);if(Array.isArray(be)){var je=Gpe(be,2);me=je[0],Ae=je[1]}else me=be}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ae),style:ce},zn(Ae)?U.createElement("span",{className:"recharts-tooltip-item-name"},Ae):null,zn(Ae)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},me),U.createElement("span",{className:"recharts-tooltip-item-unit"},ne.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},I=ew({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=ew({margin:0},u),C=!ht(v),E=C?v:"",T=xt("recharts-default-tooltip",g),j=xt("recharts-tooltip-label",b);C&&x&&c!==void 0&&c!==null&&(E=x(v,c));var R=_?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",C_({className:T,style:I},R),U.createElement("p",{className:j,style:S},U.isValidElement(E)?E:"".concat(E)),A())};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function _g(t,e,n){return e=ime(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=ame(t,"string");return pp(e)=="symbol"?e:e+""}function ame(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Md="recharts-tooltip-wrapper",ome={visibility:"hidden"};function sme(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return xt(Md,_g(_g(_g(_g({},"".concat(Md,"-right"),Ce(n)&&e&&Ce(e.x)&&n>=e.x),"".concat(Md,"-left"),Ce(n)&&e&&Ce(e.x)&&n<e.x),"".concat(Md,"-bottom"),Ce(r)&&e&&Ce(e.y)&&r>=e.y),"".concat(Md,"-top"),Ce(r)&&e&&Ce(e.y)&&r<e.y))}function MI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ce(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,g=l[r];return h<g?Math.max(f,l[r]):Math.max(c,l[r])}var b=f+s,v=l[r]+u;return b>v?Math.max(c,l[r]):Math.max(f,l[r])}function lme(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ume(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=MI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=MI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=lme({translateX:c,translateY:f,useTranslate3d:s})):u=ome,{cssProperties:u,cssClasses:sme({translateX:c,translateY:f,coordinate:n})}}function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){k_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j3(r.key),r)}}function dme(t,e,n){return e&&fme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,n){return e=mv(e),pme(t,I3()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function pme(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mme(t)}function mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function k_(t,e,n){return e=j3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j3(t){var e=yme(t,"string");return hf(e)=="symbol"?e:e+""}function yme(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LI=1,vme=function(t){function e(){var n;cme(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hme(this,e,[].concat(i)),k_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),k_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return gme(e,t),dme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LI||Math.abs(r.height-this.state.lastBoundingBox.height)>LI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,b=i.position,v=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,A=ume({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:g,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),I=A.cssClasses,S=A.cssProperties,C=$I($I({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return U.createElement("div",{tabIndex:-1,className:I,style:C,ref:function(T){r.wrapperNode=T}},u)}}])}(V.PureComponent),bme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Iu={isSsr:bme()};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){IT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D3(r.key),r)}}function _me(t,e,n){return e&&wme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t,e,n){return e=gv(e),Eme(t,N3()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function Eme(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N3=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function Tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function IT(t,e,n){return e=D3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D3(t){var e=Pme(t,"string");return pf(e)=="symbol"?e:e+""}function Pme(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cme(t){return t.dataKey}function Ome(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(rme,e)}var In=function(t){function e(){return xme(this,e),Sme(this,e,arguments)}return Tme(e,t),_me(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,b=i.payload,v=i.payloadUniqBy,x=i.position,w=i.reverseDirection,_=i.useTranslate3d,A=i.viewBox,I=i.wrapperStyle,S=b??[];f&&S.length&&(S=S3(b.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),v,Cme));var C=S.length>0;return U.createElement(vme,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:C,offset:g,position:x,reverseDirection:w,useTranslate3d:_,viewBox:A,wrapperStyle:I},Ome(u,FI(FI({},this.props),{},{payload:S})))}}])}(V.PureComponent);IT(In,"displayName","Tooltip");IT(In,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Iu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kme=co,Ime=function(){return kme.Date.now()},jme=Ime,Nme=/\s/;function Dme(t){for(var e=t.length;e--&&Nme.test(t.charAt(e)););return e}var Mme=Dme,Rme=Mme,$me=/^\s+/;function Lme(t){return t&&t.slice(0,Rme(t)+1).replace($me,"")}var Vme=Lme,Fme=Vme,zI=ul,zme=Gf,BI=NaN,Bme=/^[-+]0x[0-9a-f]+$/i,Ume=/^0b[01]+$/i,Wme=/^0o[0-7]+$/i,qme=parseInt;function Kme(t){if(typeof t=="number")return t;if(zme(t))return BI;if(zI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=zI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Fme(t);var n=Ume.test(t);return n||Wme.test(t)?qme(t.slice(2),n?2:8):Bme.test(t)?BI:+t}var M3=Kme,Hme=ul,tw=jme,UI=M3,Gme="Expected a function",Yme=Math.max,Xme=Math.min;function Qme(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Gme);e=UI(e)||0,Hme(n)&&(c=!!n.leading,f="maxWait"in n,a=f?Yme(UI(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function g(C){var E=r,T=i;return r=i=void 0,u=C,o=t.apply(T,E),o}function b(C){return u=C,s=setTimeout(w,e),c?g(C):o}function v(C){var E=C-l,T=C-u,j=e-E;return f?Xme(j,a-T):j}function x(C){var E=C-l,T=C-u;return l===void 0||E>=e||E<0||f&&T>=a}function w(){var C=tw();if(x(C))return _(C);s=setTimeout(w,v(C))}function _(C){return s=void 0,h&&r?g(C):(r=i=void 0,o)}function A(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function I(){return s===void 0?o:_(tw())}function S(){var C=tw(),E=x(C);if(r=arguments,i=this,l=C,E){if(s===void 0)return b(l);if(f)return clearTimeout(s),s=setTimeout(w,e),g(l)}return s===void 0&&(s=setTimeout(w,e)),o}return S.cancel=A,S.flush=I,S}var Jme=Qme,Zme=Jme,ege=ul,tge="Expected a function";function nge(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(tge);return ege(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Zme(t,e,{leading:r,maxWait:e,trailing:i})}var rge=nge;const R3=Vt(rge);function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){ige(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ige(t,e,n){return e=age(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function age(t){var e=oge(t,"string");return mp(e)=="symbol"?e:e+""}function oge(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sge(t,e){return fge(t)||cge(t,e)||uge(t,e)||lge()}function lge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uge(t,e){if(t){if(typeof t=="string")return qI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qI(t,e)}}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fge(t){if(Array.isArray(t))return t}var xa=V.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,b=t.debounce,v=b===void 0?0:b,x=t.id,w=t.className,_=t.onResize,A=t.style,I=A===void 0?{}:A,S=V.useRef(null),C=V.useRef();C.current=_,V.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=V.useState({containerWidth:i.width,containerHeight:i.height}),T=sge(E,2),j=T[0],R=T[1],D=V.useCallback(function(L,ne){R(function(ae){var ce=Math.round(L),de=Math.round(ne);return ae.containerWidth===ce&&ae.containerHeight===de?ae:{containerWidth:ce,containerHeight:de}})},[]);V.useEffect(function(){var L=function(re){var me,Ae=re[0].contentRect,be=Ae.width,je=Ae.height;D(be,je),(me=C.current)===null||me===void 0||me.call(C,be,je)};v>0&&(L=R3(L,v,{trailing:!0,leading:!1}));var ne=new ResizeObserver(L),ae=S.current.getBoundingClientRect(),ce=ae.width,de=ae.height;return D(ce,de),ne.observe(S.current),function(){ne.disconnect()}},[D,v]);var $=V.useMemo(function(){var L=j.containerWidth,ne=j.containerHeight;if(L<0||ne<0)return null;Vo(Xl(o)||Xl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Vo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ae=Xl(o)?L:o,ce=Xl(l)?ne:l;n&&n>0&&(ae?ce=ae/n:ce&&(ae=ce*n),h&&ce>h&&(ce=h)),Vo(ae>0||ce>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ae,ce,o,l,c,f,n);var de=!Array.isArray(g)&&Lo(g.type).endsWith("Chart");return U.Children.map(g,function(Y){return U.isValidElement(Y)?V.cloneElement(Y,Sg({width:ae,height:ce},de?{style:Sg({height:"100%",width:"100%",maxHeight:ce,maxWidth:ae},Y.props.style)}:{})):Y})},[n,g,l,h,f,c,j,o]);return U.createElement("div",{id:x?"".concat(x):void 0,className:xt("recharts-responsive-container",w),style:Sg(Sg({},I),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:S},$)}),Sm=function(e){return null};Sm.displayName="Cell";function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dge(t,e,n){return e=hge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=pge(t,"string");return gp(e)=="symbol"?e:e+""}function pge(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zu={widthCache:{},cacheCount:0},mge=2e3,gge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HI="recharts_measurement_span";function yge(t){var e=j_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ah=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Iu.isSsr)return{width:0,height:0};var r=yge(n),i=JSON.stringify({text:e,copyStyle:r});if(Zu.widthCache[i])return Zu.widthCache[i];try{var a=document.getElementById(HI);a||(a=document.createElement("span"),a.setAttribute("id",HI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=j_(j_({},gge),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Zu.widthCache[i]=l,++Zu.cacheCount>mge&&(Zu.cacheCount=0,Zu.widthCache={}),l}catch{return{width:0,height:0}}},vge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function yv(t,e){return _ge(t)||wge(t,e)||xge(t,e)||bge()}function bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xge(t,e){if(t){if(typeof t=="string")return GI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(t,e)}}function GI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _ge(t){if(Array.isArray(t))return t}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Age(r.key),r)}}function Ege(t,e,n){return e&&YI(t.prototype,e),n&&YI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Age(t){var e=Tge(t,"string");return yp(e)=="symbol"?e:e+""}function Tge(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Oge=Object.keys($3),Ac="NaN";function kge(t,e){return t*$3[e]}var Eg=function(){function t(e,n){Sge(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Pge.test(n)&&(this.num=NaN,this.unit=""),Oge.includes(n)&&(this.num=kge(e,n),this.unit="px")}return Ege(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Cge.exec(n))!==null&&r!==void 0?r:[],a=yv(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function L3(t){if(t.includes(Ac))return Ac;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=XI.exec(e))!==null&&n!==void 0?n:[],i=yv(r,4),a=i[1],o=i[2],s=i[3],l=Eg.parse(a??""),u=Eg.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ac;e=e.replace(XI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=QI.exec(e))!==null&&f!==void 0?f:[],g=yv(h,4),b=g[1],v=g[2],x=g[3],w=Eg.parse(b??""),_=Eg.parse(x??""),A=v==="+"?w.add(_):w.subtract(_);if(A.isNaN())return Ac;e=e.replace(QI,A.toString())}return e}var JI=/\(([^()]*)\)/;function Ige(t){for(var e=t;e.includes("(");){var n=JI.exec(e),r=yv(n,2),i=r[1];e=e.replace(JI,L3(i))}return e}function jge(t){var e=t.replace(/\s+/g,"");return e=Ige(e),e=L3(e),e}function Nge(t){try{return jge(t)}catch{return Ac}}function nw(t){var e=Nge(t.slice(5,-1));return e===Ac?"":e}var Dge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mge=["dx","dy","angle","className","breakAll"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function ZI(t,e){if(t==null)return{};var n=Rge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ej(t,e){return Fge(t)||Vge(t,e)||Lge(t,e)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lge(t,e){if(t){if(typeof t=="string")return tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tj(t,e)}}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Fge(t){if(Array.isArray(t))return t}var V3=/[ \f\n\r\t\v\u2028\u2029]+/,F3=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ht(n)||(r?a=n.toString().split(""):a=n.toString().split(V3));var o=a.map(function(l){return{word:l,width:Ah(l,i).width}}),s=r?0:Ah("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},zge=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Ce(o),f=s,h=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ae.reduce(function(ce,de){var Y=de.word,re=de.width,me=ce[ce.length-1];if(me&&(i==null||a||me.width+re+r<Number(i)))me.words.push(Y),me.width+=re+r;else{var Ae={words:[Y],width:re};ce.push(Ae)}return ce},[])},g=h(n),b=function(ae){return ae.reduce(function(ce,de){return ce.width>de.width?ce:de})};if(!c)return g;for(var v="",x=function(ae){var ce=f.slice(0,ae),de=F3({breakAll:u,style:l,children:ce+v}).wordsWithComputedWidth,Y=h(de),re=Y.length>o||b(Y).width>Number(i);return[re,Y]},w=0,_=f.length-1,A=0,I;w<=_&&A<=f.length-1;){var S=Math.floor((w+_)/2),C=S-1,E=x(C),T=ej(E,2),j=T[0],R=T[1],D=x(S),$=ej(D,1),L=$[0];if(!j&&!L&&(w=S+1),j&&L&&(_=S-1),!j&&L){I=R;break}A++}return I||g},nj=function(e){var n=ht(e)?[]:e.toString().split(V3);return[{words:n}]},Bge=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Iu.isSsr){var l,u,c=F3({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return nj(i);return zge({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return nj(i)},rj="#808080",vv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,b=e.verticalAnchor,v=b===void 0?"end":b,x=e.fill,w=x===void 0?rj:x,_=ZI(e,Dge),A=V.useMemo(function(){return Bge({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),I=_.dx,S=_.dy,C=_.angle,E=_.className,T=_.breakAll,j=ZI(_,Mge);if(!zn(r)||!zn(a))return null;var R=r+(Ce(I)?I:0),D=a+(Ce(S)?S:0),$;switch(v){case"start":$=nw("calc(".concat(u,")"));break;case"middle":$=nw("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:$=nw("calc(".concat(A.length-1," * -").concat(s,")"));break}var L=[];if(f){var ne=A[0].width,ae=_.width;L.push("scale(".concat((Ce(ae)?ae/ne:1)/ne,")"))}return C&&L.push("rotate(".concat(C,", ").concat(R,", ").concat(D,")")),L.length&&(j.transform=L.join(" ")),U.createElement("text",N_({},ct(j,!0),{x:R,y:D,className:xt("recharts-text",E),textAnchor:g,fill:w.includes("url")?rj:w}),A.map(function(ce,de){var Y=ce.words.join(T?"":" ");return U.createElement("tspan",{x:R,dy:de===0?$:s,key:"".concat(Y,"-").concat(de)},Y)}))};function qs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uge(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jT(t){let e,n,r;t.length!==2?(e=qs,n=(s,l)=>qs(t(s),l),r=(s,l)=>t(s)-l):(e=t===qs||t===Uge?t:Wge,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Wge(){return 0}function z3(t){return t===null?NaN:+t}function*qge(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Kge=jT(qs),Em=Kge.right;jT(z3).center;class ij extends Map{constructor(e,n=Yge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(aj(this,e))}has(e){return super.has(aj(this,e))}set(e,n){return super.set(Hge(this,e),n)}delete(e){return super.delete(Gge(this,e))}}function aj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hge({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Gge({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Yge(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xge(t=qs){if(t===qs)return B3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function B3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Qge=Math.sqrt(50),Jge=Math.sqrt(10),Zge=Math.sqrt(2);function bv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Qge?10:a>=Jge?5:a>=Zge?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?bv(t,e,n*2):[s,l,u]}function D_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?bv(e,t,n):bv(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function M_(t,e,n){return e=+e,t=+t,n=+n,bv(t,e,n)[2]}function R_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?M_(e,t,n):M_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function oj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function U3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?B3:Xge(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),b=Math.min(r,Math.floor(e+(l-u)*f/l+h));U3(t,e,g,b,i)}const a=t[e];let o=n,s=r;for(Rd(t,n,e),i(t[r],a)>0&&Rd(t,n,r);o<s;){for(Rd(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Rd(t,n,s):(++s,Rd(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Rd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function eye(t,e,n){if(t=Float64Array.from(qge(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sj(t);if(e>=1)return oj(t);var r,i=(r-1)*e,a=Math.floor(i),o=oj(U3(t,a).subarray(0,a+1)),s=sj(t.subarray(a+1));return o+(s-o)*(i-a)}}function tye(t,e,n=z3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function nye(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function as(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $_=Symbol("implicit");function NT(){var t=new ij,e=[],n=[],r=$_;function i(a){let o=t.get(a);if(o===void 0){if(r!==$_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new ij;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return NT(e,n).unknown(r)},Zi.apply(i,arguments),i}function vp(){var t=NT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,g=i<r,b=g?i:r,v=g?r:i;a=(v-b)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),b+=(v-b-a*(h-l))*c,o=a*(1-l),s&&(b=Math.round(b),o=Math.round(o));var x=nye(h).map(function(w){return b+a*w});return n(g?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return vp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Zi.apply(f(),arguments)}function W3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return W3(e())},t}function Th(){return W3(vp.apply(null,arguments).paddingInner(1))}function DT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function q3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Am(){}var bp=.7,xv=1/bp,Vc="\\s*([+-]?\\d+)\\s*",xp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rye=/^#([0-9a-f]{3,8})$/,iye=new RegExp(`^rgb\\(${Vc},${Vc},${Vc}\\)$`),aye=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),oye=new RegExp(`^rgba\\(${Vc},${Vc},${Vc},${xp}\\)$`),sye=new RegExp(`^rgba\\(${no},${no},${no},${xp}\\)$`),lye=new RegExp(`^hsl\\(${xp},${no},${no}\\)$`),uye=new RegExp(`^hsla\\(${xp},${no},${no},${xp}\\)$`),lj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DT(Am,wp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uj,formatHex:uj,formatHex8:cye,formatHsl:fye,formatRgb:cj,toString:cj});function uj(){return this.rgb().formatHex()}function cye(){return this.rgb().formatHex8()}function fye(){return K3(this).formatHsl()}function cj(){return this.rgb().formatRgb()}function wp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fj(e):n===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ag(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ag(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=iye.exec(t))?new Jr(e[1],e[2],e[3],1):(e=aye.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oye.exec(t))?Ag(e[1],e[2],e[3],e[4]):(e=sye.exec(t))?Ag(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lye.exec(t))?pj(e[1],e[2]/100,e[3]/100,1):(e=uye.exec(t))?pj(e[1],e[2]/100,e[3]/100,e[4]):lj.hasOwnProperty(t)?fj(lj[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function fj(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function Ag(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jr(t,e,n,r)}function dye(t){return t instanceof Am||(t=wp(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function L_(t,e,n,r){return arguments.length===1?dye(t):new Jr(t,e,n,r??1)}function Jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}DT(Jr,L_,q3(Am,{brighter(t){return t=t==null?xv:Math.pow(xv,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bp:Math.pow(bp,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(su(this.r),su(this.g),su(this.b),wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dj,formatHex:dj,formatHex8:hye,formatRgb:hj,toString:hj}));function dj(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}`}function hye(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}${Ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function hj(){const t=wv(this.opacity);return`${t===1?"rgb(":"rgba("}${su(this.r)}, ${su(this.g)}, ${su(this.b)}${t===1?")":`, ${t})`}`}function wv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function su(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ql(t){return t=su(t),(t<16?"0":"")+t.toString(16)}function pj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wa(t,e,n,r)}function K3(t){if(t instanceof wa)return new wa(t.h,t.s,t.l,t.opacity);if(t instanceof Am||(t=wp(t)),!t)return new wa;if(t instanceof wa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new wa(o,s,l,t.opacity)}function pye(t,e,n,r){return arguments.length===1?K3(t):new wa(t,e,n,r??1)}function wa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}DT(wa,pye,q3(Am,{brighter(t){return t=t==null?xv:Math.pow(xv,t),new wa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bp:Math.pow(bp,t),new wa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Jr(rw(t>=240?t-240:t+120,i,r),rw(t,i,r),rw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wa(mj(this.h),Tg(this.s),Tg(this.l),wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wv(this.opacity);return`${t===1?"hsl(":"hsla("}${mj(this.h)}, ${Tg(this.s)*100}%, ${Tg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mj(t){return t=(t||0)%360,t<0?t+360:t}function Tg(t){return Math.max(0,Math.min(1,t||0))}function rw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const MT=t=>()=>t;function mye(t,e){return function(n){return t+n*e}}function gye(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function yye(t){return(t=+t)==1?H3:function(e,n){return n-e?gye(e,n,t):MT(isNaN(e)?n:e)}}function H3(t,e){var n=e-t;return n?mye(t,n):MT(isNaN(t)?e:t)}const gj=function t(e){var n=yye(e);function r(i,a){var o=n((i=L_(i)).r,(a=L_(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=H3(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function vye(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function bye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xye(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=id(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function wye(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _v(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _ye(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=id(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var V_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iw=new RegExp(V_.source,"g");function Sye(t){return function(){return t}}function Eye(t){return function(e){return t(e)+""}}function Aye(t,e){var n=V_.lastIndex=iw.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=V_.exec(t))&&(i=iw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:_v(r,i)})),n=iw.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Eye(l[0].x):Sye(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function id(t,e){var n=typeof e,r;return e==null||n==="boolean"?MT(e):(n==="number"?_v:n==="string"?(r=wp(e))?(e=r,gj):Aye:e instanceof wp?gj:e instanceof Date?wye:bye(e)?vye:Array.isArray(e)?xye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_ye:_v)(t,e)}function RT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Tye(t,e){e===void 0&&(e=t,t=id);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Pye(t){return function(){return t}}function Sv(t){return+t}var yj=[0,1];function Dr(t){return t}function F_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pye(isNaN(e)?NaN:.5)}function Cye(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Oye(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=F_(i,r),a=n(o,a)):(r=F_(r,i),a=n(a,o)),function(s){return a(r(s))}}function kye(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=F_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Em(t,s,1,r)-1;return a[l](i[l](s))}}function Tm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mb(){var t=yj,e=yj,n=id,r,i,a,o=Dr,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==Dr&&(o=Cye(t[0],t[h-1])),s=h>2?kye:Oye,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),_v)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Sv),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=RT,c()},f.clamp=function(h){return arguments.length?(o=h?!0:Dr,c()):o!==Dr},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,g){return r=h,i=g,c()}}function $T(){return mb()(Dr,Dr)}function Iye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ev(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function mf(t){return t=Ev(Math.abs(t)),t?t[1]:NaN}function jye(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Nye(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Dye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _p(t){if(!(e=Dye.exec(t)))throw new Error("invalid format: "+t);var e;return new LT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_p.prototype=LT.prototype;function LT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mye(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var G3;function Rye(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(G3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ev(t,Math.max(0,e+a-1))[0]}function vj(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const bj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Iye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vj(t*100,e),r:vj,s:Rye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xj(t){return t}var wj=Array.prototype.map,_j=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $ye(t){var e=t.grouping===void 0||t.thousands===void 0?xj:jye(wj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?xj:Nye(wj.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=_p(f);var h=f.fill,g=f.align,b=f.sign,v=f.symbol,x=f.zero,w=f.width,_=f.comma,A=f.precision,I=f.trim,S=f.type;S==="n"?(_=!0,S="g"):bj[S]||(A===void 0&&(A=12),I=!0,S="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=v==="$"?r:/[%p]/.test(S)?o:"",T=bj[S],j=/[defgprs%]/.test(S);A=A===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function R(D){var $=C,L=E,ne,ae,ce;if(S==="c")L=T(D)+L,D="";else{D=+D;var de=D<0||1/D<0;if(D=isNaN(D)?l:T(Math.abs(D),A),I&&(D=Mye(D)),de&&+D==0&&b!=="+"&&(de=!1),$=(de?b==="("?b:s:b==="-"||b==="("?"":b)+$,L=(S==="s"?_j[8+G3/3]:"")+L+(de&&b==="("?")":""),j){for(ne=-1,ae=D.length;++ne<ae;)if(ce=D.charCodeAt(ne),48>ce||ce>57){L=(ce===46?i+D.slice(ne+1):D.slice(ne))+L,D=D.slice(0,ne);break}}}_&&!x&&(D=e(D,1/0));var Y=$.length+D.length+L.length,re=Y<w?new Array(w-Y+1).join(h):"";switch(_&&x&&(D=e(re+D,re.length?w-L.length:1/0),re=""),g){case"<":D=$+D+L+re;break;case"=":D=$+re+D+L;break;case"^":D=re.slice(0,Y=re.length>>1)+$+D+L+re.slice(Y);break;default:D=re+$+D+L;break}return a(D)}return R.toString=function(){return f+""},R}function c(f,h){var g=u((f=_p(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(mf(h)/3)))*3,v=Math.pow(10,-b),x=_j[8+b/3];return function(w){return g(v*w)+x}}return{format:u,formatPrefix:c}}var Pg,VT,Y3;Lye({thousands:",",grouping:[3],currency:["$",""]});function Lye(t){return Pg=$ye(t),VT=Pg.format,Y3=Pg.formatPrefix,Pg}function Vye(t){return Math.max(0,-mf(Math.abs(t)))}function Fye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mf(e)/3)))*3-mf(Math.abs(t)))}function zye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mf(e)-mf(t))+1}function X3(t,e,n,r){var i=R_(t,e,n),a;switch(r=_p(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Fye(i,o))&&(r.precision=a),Y3(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zye(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Vye(i))&&(r.precision=a-(r.type==="%")*2);break}}return VT(r)}function fl(t){var e=t.domain;return t.ticks=function(n){var r=e();return D_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return X3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=M_(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Av(){var t=$T();return t.copy=function(){return Tm(t,Av())},Zi.apply(t,arguments),fl(t)}function Q3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Q3(t).unknown(e)},t=arguments.length?Array.from(t,Sv):[0,1],fl(n)}function J3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Sj(t){return Math.log(t)}function Ej(t){return Math.exp(t)}function Bye(t){return-Math.log(-t)}function Uye(t){return-Math.exp(-t)}function Wye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qye(t){return t===10?Wye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Kye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Aj(t){return(e,n)=>-t(-e,n)}function FT(t){const e=t(Sj,Ej),n=e.domain;let r=10,i,a;function o(){return i=Kye(r),a=qye(r),n()[0]<0?(i=Aj(i),a=Aj(a),t(Bye,Uye)):t(Sj,Ej),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),g=i(c),b,v;const x=s==null?10:+s;let w=[];if(!(r%1)&&g-h<x){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(b=1;b<r;++b)if(v=h<0?b/a(-h):b*a(h),!(v<u)){if(v>c)break;w.push(v)}}else for(;h<=g;++h)for(b=r-1;b>=1;--b)if(v=h>0?b/a(-h):b*a(h),!(v<u)){if(v>c)break;w.push(v)}w.length*2<x&&(w=D_(u,c,x))}else w=D_(h,g,Math.min(g-h,x)).map(a);return f?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=_p(l)).precision==null&&(l.trim=!0),l=VT(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(J3(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function Z3(){const t=FT(mb()).domain([1,10]);return t.copy=()=>Tm(t,Z3()).base(t.base()),Zi.apply(t,arguments),t}function Tj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Pj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zT(t){var e=1,n=t(Tj(e),Pj(e));return n.constant=function(r){return arguments.length?t(Tj(e=+r),Pj(e)):e},fl(n)}function eF(){var t=zT(mb());return t.copy=function(){return Tm(t,eF()).constant(t.constant())},Zi.apply(t,arguments)}function Cj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Gye(t){return t<0?-t*t:t*t}function BT(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(Hye,Gye):t(Cj(n),Cj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fl(e)}function UT(){var t=BT(mb());return t.copy=function(){return Tm(t,UT()).exponent(t.exponent())},Zi.apply(t,arguments),t}function Yye(){return UT.apply(null,arguments).exponent(.5)}function Oj(t){return Math.sign(t)*t*t}function Xye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function tF(){var t=$T(),e=[0,1],n=!1,r;function i(a){var o=Xye(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(Oj(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Sv)).map(Oj)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return tF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Zi.apply(i,arguments),fl(i)}function nF(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=tye(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Em(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(qs),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return nF().domain(t).range(e).unknown(r)},Zi.apply(a,arguments)}function rF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Em(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return rF().domain([t,e]).range(i).unknown(a)},Zi.apply(fl(o),arguments)}function iF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Em(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return iF().domain(t).range(e).unknown(n)},Zi.apply(i,arguments)}const aw=new Date,ow=new Date;function Wn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Wn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(aw.setTime(+a),ow.setTime(+o),t(aw),t(ow),Math.floor(n(aw,ow))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Tv=Wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Tv);Tv.range;const Io=1e3,Wi=Io*60,jo=Wi*60,Jo=jo*24,WT=Jo*7,kj=Jo*30,sw=Jo*365,Jl=Wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getUTCSeconds());Jl.range;const qT=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Io)},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getMinutes());qT.range;const KT=Wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getUTCMinutes());KT.range;const HT=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Io-t.getMinutes()*Wi)},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getHours());HT.range;const GT=Wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getUTCHours());GT.range;const Pm=Wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wi)/Jo,t=>t.getDate()-1);Pm.range;const gb=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jo,t=>t.getUTCDate()-1);gb.range;const aF=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jo,t=>Math.floor(t/Jo));aF.range;function ju(t){return Wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wi)/WT)}const yb=ju(0),Pv=ju(1),Qye=ju(2),Jye=ju(3),gf=ju(4),Zye=ju(5),eve=ju(6);yb.range;Pv.range;Qye.range;Jye.range;gf.range;Zye.range;eve.range;function Nu(t){return Wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/WT)}const vb=Nu(0),Cv=Nu(1),tve=Nu(2),nve=Nu(3),yf=Nu(4),rve=Nu(5),ive=Nu(6);vb.range;Cv.range;tve.range;nve.range;yf.range;rve.range;ive.range;const YT=Wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YT.range;const XT=Wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XT.range;const Zo=Wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Zo.range;const es=Wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});es.range;function oF(t,e,n,r,i,a){const o=[[Jl,1,Io],[Jl,5,5*Io],[Jl,15,15*Io],[Jl,30,30*Io],[a,1,Wi],[a,5,5*Wi],[a,15,15*Wi],[a,30,30*Wi],[i,1,jo],[i,3,3*jo],[i,6,6*jo],[i,12,12*jo],[r,1,Jo],[r,2,2*Jo],[n,1,WT],[e,1,kj],[e,3,3*kj],[t,1,sw]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const g=f&&typeof f.range=="function"?f:l(u,c,f),b=g?g.range(u,+c+1):[];return h?b.reverse():b}function l(u,c,f){const h=Math.abs(c-u)/f,g=jT(([,,x])=>x).right(o,h);if(g===o.length)return t.every(R_(u/sw,c/sw,f));if(g===0)return Tv.every(Math.max(R_(u,c,f),1));const[b,v]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return b.every(v)}return[s,l]}const[ave,ove]=oF(es,XT,vb,aF,GT,KT),[sve,lve]=oF(Zo,YT,yb,Pm,HT,qT);function lw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $d(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function uve(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Ld(i),c=Vd(i),f=Ld(a),h=Vd(a),g=Ld(o),b=Vd(o),v=Ld(s),x=Vd(s),w=Ld(l),_=Vd(l),A={a:de,A:Y,b:re,B:me,c:null,d:Rj,e:Rj,f:jve,g:Bve,G:Wve,H:Ove,I:kve,j:Ive,L:sF,m:Nve,M:Dve,p:Ae,q:be,Q:Vj,s:Fj,S:Mve,u:Rve,U:$ve,V:Lve,w:Vve,W:Fve,x:null,X:null,y:zve,Y:Uve,Z:qve,"%":Lj},I={a:je,A:We,b:at,B:tt,c:null,d:$j,e:$j,f:Yve,g:a0e,G:s0e,H:Kve,I:Hve,j:Gve,L:uF,m:Xve,M:Qve,p:le,q:Se,Q:Vj,s:Fj,S:Jve,u:Zve,U:e0e,V:t0e,w:n0e,W:r0e,x:null,X:null,y:i0e,Y:o0e,Z:l0e,"%":Lj},S={a:R,A:D,b:$,B:L,c:ne,d:Dj,e:Dj,f:Ave,g:Nj,G:jj,H:Mj,I:Mj,j:wve,L:Eve,m:xve,M:_ve,p:j,q:bve,Q:Pve,s:Cve,S:Sve,u:pve,U:mve,V:gve,w:hve,W:yve,x:ae,X:ce,y:Nj,Y:jj,Z:vve,"%":Tve};A.x=C(n,A),A.X=C(r,A),A.c=C(e,A),I.x=C(n,I),I.X=C(r,I),I.c=C(e,I);function C(X,Ie){return function(De){var se=[],Ke=-1,we=0,ot=X.length,ft,Kt,Zn;for(De instanceof Date||(De=new Date(+De));++Ke<ot;)X.charCodeAt(Ke)===37&&(se.push(X.slice(we,Ke)),(Kt=Ij[ft=X.charAt(++Ke)])!=null?ft=X.charAt(++Ke):Kt=ft==="e"?" ":"0",(Zn=Ie[ft])&&(ft=Zn(De,Kt)),se.push(ft),we=Ke+1);return se.push(X.slice(we,Ke)),se.join("")}}function E(X,Ie){return function(De){var se=$d(1900,void 0,1),Ke=T(se,X,De+="",0),we,ot;if(Ke!=De.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ie&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(we=uw($d(se.y,0,1)),ot=we.getUTCDay(),we=ot>4||ot===0?Cv.ceil(we):Cv(we),we=gb.offset(we,(se.V-1)*7),se.y=we.getUTCFullYear(),se.m=we.getUTCMonth(),se.d=we.getUTCDate()+(se.w+6)%7):(we=lw($d(se.y,0,1)),ot=we.getDay(),we=ot>4||ot===0?Pv.ceil(we):Pv(we),we=Pm.offset(we,(se.V-1)*7),se.y=we.getFullYear(),se.m=we.getMonth(),se.d=we.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),ot="Z"in se?uw($d(se.y,0,1)).getUTCDay():lw($d(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(ot+5)%7:se.w+se.U*7-(ot+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,uw(se)):lw(se)}}function T(X,Ie,De,se){for(var Ke=0,we=Ie.length,ot=De.length,ft,Kt;Ke<we;){if(se>=ot)return-1;if(ft=Ie.charCodeAt(Ke++),ft===37){if(ft=Ie.charAt(Ke++),Kt=S[ft in Ij?Ie.charAt(Ke++):ft],!Kt||(se=Kt(X,De,se))<0)return-1}else if(ft!=De.charCodeAt(se++))return-1}return se}function j(X,Ie,De){var se=u.exec(Ie.slice(De));return se?(X.p=c.get(se[0].toLowerCase()),De+se[0].length):-1}function R(X,Ie,De){var se=g.exec(Ie.slice(De));return se?(X.w=b.get(se[0].toLowerCase()),De+se[0].length):-1}function D(X,Ie,De){var se=f.exec(Ie.slice(De));return se?(X.w=h.get(se[0].toLowerCase()),De+se[0].length):-1}function $(X,Ie,De){var se=w.exec(Ie.slice(De));return se?(X.m=_.get(se[0].toLowerCase()),De+se[0].length):-1}function L(X,Ie,De){var se=v.exec(Ie.slice(De));return se?(X.m=x.get(se[0].toLowerCase()),De+se[0].length):-1}function ne(X,Ie,De){return T(X,e,Ie,De)}function ae(X,Ie,De){return T(X,n,Ie,De)}function ce(X,Ie,De){return T(X,r,Ie,De)}function de(X){return o[X.getDay()]}function Y(X){return a[X.getDay()]}function re(X){return l[X.getMonth()]}function me(X){return s[X.getMonth()]}function Ae(X){return i[+(X.getHours()>=12)]}function be(X){return 1+~~(X.getMonth()/3)}function je(X){return o[X.getUTCDay()]}function We(X){return a[X.getUTCDay()]}function at(X){return l[X.getUTCMonth()]}function tt(X){return s[X.getUTCMonth()]}function le(X){return i[+(X.getUTCHours()>=12)]}function Se(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var Ie=C(X+="",A);return Ie.toString=function(){return X},Ie},parse:function(X){var Ie=E(X+="",!1);return Ie.toString=function(){return X},Ie},utcFormat:function(X){var Ie=C(X+="",I);return Ie.toString=function(){return X},Ie},utcParse:function(X){var Ie=E(X+="",!0);return Ie.toString=function(){return X},Ie}}}var Ij={"-":"",_:" ",0:"0"},Jn=/^\s*\d+/,cve=/^%/,fve=/[\\^$*+?|[\]().{}]/g;function Pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function dve(t){return t.replace(fve,"\\$&")}function Ld(t){return new RegExp("^(?:"+t.map(dve).join("|")+")","i")}function Vd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hve(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pve(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mve(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gve(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function yve(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jj(t,e,n){var r=Jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Nj(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vve(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bve(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function xve(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Dj(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wve(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Mj(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _ve(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Sve(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Eve(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ave(t,e,n){var r=Jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tve(t,e,n){var r=cve.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pve(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Cve(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Rj(t,e){return Pt(t.getDate(),e,2)}function Ove(t,e){return Pt(t.getHours(),e,2)}function kve(t,e){return Pt(t.getHours()%12||12,e,2)}function Ive(t,e){return Pt(1+Pm.count(Zo(t),t),e,3)}function sF(t,e){return Pt(t.getMilliseconds(),e,3)}function jve(t,e){return sF(t,e)+"000"}function Nve(t,e){return Pt(t.getMonth()+1,e,2)}function Dve(t,e){return Pt(t.getMinutes(),e,2)}function Mve(t,e){return Pt(t.getSeconds(),e,2)}function Rve(t){var e=t.getDay();return e===0?7:e}function $ve(t,e){return Pt(yb.count(Zo(t)-1,t),e,2)}function lF(t){var e=t.getDay();return e>=4||e===0?gf(t):gf.ceil(t)}function Lve(t,e){return t=lF(t),Pt(gf.count(Zo(t),t)+(Zo(t).getDay()===4),e,2)}function Vve(t){return t.getDay()}function Fve(t,e){return Pt(Pv.count(Zo(t)-1,t),e,2)}function zve(t,e){return Pt(t.getFullYear()%100,e,2)}function Bve(t,e){return t=lF(t),Pt(t.getFullYear()%100,e,2)}function Uve(t,e){return Pt(t.getFullYear()%1e4,e,4)}function Wve(t,e){var n=t.getDay();return t=n>=4||n===0?gf(t):gf.ceil(t),Pt(t.getFullYear()%1e4,e,4)}function qve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pt(e/60|0,"0",2)+Pt(e%60,"0",2)}function $j(t,e){return Pt(t.getUTCDate(),e,2)}function Kve(t,e){return Pt(t.getUTCHours(),e,2)}function Hve(t,e){return Pt(t.getUTCHours()%12||12,e,2)}function Gve(t,e){return Pt(1+gb.count(es(t),t),e,3)}function uF(t,e){return Pt(t.getUTCMilliseconds(),e,3)}function Yve(t,e){return uF(t,e)+"000"}function Xve(t,e){return Pt(t.getUTCMonth()+1,e,2)}function Qve(t,e){return Pt(t.getUTCMinutes(),e,2)}function Jve(t,e){return Pt(t.getUTCSeconds(),e,2)}function Zve(t){var e=t.getUTCDay();return e===0?7:e}function e0e(t,e){return Pt(vb.count(es(t)-1,t),e,2)}function cF(t){var e=t.getUTCDay();return e>=4||e===0?yf(t):yf.ceil(t)}function t0e(t,e){return t=cF(t),Pt(yf.count(es(t),t)+(es(t).getUTCDay()===4),e,2)}function n0e(t){return t.getUTCDay()}function r0e(t,e){return Pt(Cv.count(es(t)-1,t),e,2)}function i0e(t,e){return Pt(t.getUTCFullYear()%100,e,2)}function a0e(t,e){return t=cF(t),Pt(t.getUTCFullYear()%100,e,2)}function o0e(t,e){return Pt(t.getUTCFullYear()%1e4,e,4)}function s0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?yf(t):yf.ceil(t),Pt(t.getUTCFullYear()%1e4,e,4)}function l0e(){return"+0000"}function Lj(){return"%"}function Vj(t){return+t}function Fj(t){return Math.floor(+t/1e3)}var ec,fF,dF;u0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function u0e(t){return ec=uve(t),fF=ec.format,ec.parse,dF=ec.utcFormat,ec.utcParse,ec}function c0e(t){return new Date(t)}function f0e(t){return t instanceof Date?+t:+new Date(+t)}function QT(t,e,n,r,i,a,o,s,l,u){var c=$T(),f=c.invert,h=c.domain,g=u(".%L"),b=u(":%S"),v=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),_=u("%b %d"),A=u("%B"),I=u("%Y");function S(C){return(l(C)<C?g:s(C)<C?b:o(C)<C?v:a(C)<C?x:r(C)<C?i(C)<C?w:_:n(C)<C?A:I)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?h(Array.from(C,f0e)):h().map(c0e)},c.ticks=function(C){var E=h();return t(E[0],E[E.length-1],C??10)},c.tickFormat=function(C,E){return E==null?S:u(E)},c.nice=function(C){var E=h();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?h(J3(E,C)):c},c.copy=function(){return Tm(c,QT(t,e,n,r,i,a,o,s,l,u))},c}function d0e(){return Zi.apply(QT(sve,lve,Zo,YT,yb,Pm,HT,qT,Jl,fF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h0e(){return Zi.apply(QT(ave,ove,es,XT,vb,gb,GT,KT,Jl,dF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bb(){var t=0,e=1,n,r,i,a,o=Dr,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var g,b;return arguments.length?([g,b]=h,o=f(g,b),u):[o(0),o(1)]}}return u.range=c(id),u.rangeRound=c(RT),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function dl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hF(){var t=fl(bb()(Dr));return t.copy=function(){return dl(t,hF())},as.apply(t,arguments)}function pF(){var t=FT(bb()).domain([1,10]);return t.copy=function(){return dl(t,pF()).base(t.base())},as.apply(t,arguments)}function mF(){var t=zT(bb());return t.copy=function(){return dl(t,mF()).constant(t.constant())},as.apply(t,arguments)}function JT(){var t=BT(bb());return t.copy=function(){return dl(t,JT()).exponent(t.exponent())},as.apply(t,arguments)}function p0e(){return JT.apply(null,arguments).exponent(.5)}function gF(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Em(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(qs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>eye(t,a/r))},n.copy=function(){return gF(e).domain(t)},as.apply(n,arguments)}function xb(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Dr,c,f=!1,h;function g(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-a)*(r*v<r*a?s:l),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function b(v){return function(x){var w,_,A;return arguments.length?([w,_,A]=x,u=Tye(v,[w,_,A]),g):[u(0),u(.5),u(1)]}}return g.range=b(id),g.rangeRound=b(RT),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return c=v,i=v(t),a=v(e),o=v(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g}}function yF(){var t=fl(xb()(Dr));return t.copy=function(){return dl(t,yF())},as.apply(t,arguments)}function vF(){var t=FT(xb()).domain([.1,1,10]);return t.copy=function(){return dl(t,vF()).base(t.base())},as.apply(t,arguments)}function bF(){var t=zT(xb());return t.copy=function(){return dl(t,bF()).constant(t.constant())},as.apply(t,arguments)}function ZT(){var t=BT(xb());return t.copy=function(){return dl(t,ZT()).exponent(t.exponent())},as.apply(t,arguments)}function m0e(){return ZT.apply(null,arguments).exponent(.5)}const zj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vp,scaleDiverging:yF,scaleDivergingLog:vF,scaleDivergingPow:ZT,scaleDivergingSqrt:m0e,scaleDivergingSymlog:bF,scaleIdentity:Q3,scaleImplicit:$_,scaleLinear:Av,scaleLog:Z3,scaleOrdinal:NT,scalePoint:Th,scalePow:UT,scaleQuantile:nF,scaleQuantize:rF,scaleRadial:tF,scaleSequential:hF,scaleSequentialLog:pF,scaleSequentialPow:JT,scaleSequentialQuantile:gF,scaleSequentialSqrt:p0e,scaleSequentialSymlog:mF,scaleSqrt:Yye,scaleSymlog:eF,scaleThreshold:iF,scaleTime:d0e,scaleUtc:h0e,tickFormat:X3},Symbol.toStringTag,{value:"Module"}));var g0e=Gf;function y0e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!g0e(o):n(o,s)))var s=o,l=a}return l}var xF=y0e;function v0e(t,e){return t>e}var b0e=v0e,x0e=xF,w0e=b0e,_0e=rd;function S0e(t){return t&&t.length?x0e(t,_0e,w0e):void 0}var E0e=S0e;const Os=Vt(E0e);function A0e(t,e){return t<e}var T0e=A0e,P0e=xF,C0e=T0e,O0e=rd;function k0e(t){return t&&t.length?P0e(t,O0e,C0e):void 0}var I0e=k0e;const wb=Vt(I0e);var j0e=hT,N0e=cl,D0e=O3,M0e=ri;function R0e(t,e){var n=M0e(t)?j0e:D0e;return n(t,N0e(e))}var $0e=R0e,L0e=P3,V0e=$0e;function F0e(t,e){return L0e(V0e(t,e),1)}var z0e=F0e;const B0e=Vt(z0e);var U0e=CT;function W0e(t,e){return U0e(t,e)}var q0e=W0e;const vf=Vt(q0e);var ad=1e9,K0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tP,sn=!0,Xi="[DecimalError] ",lu=Xi+"Invalid argument: ",eP=Xi+"Exponent out of range: ",od=Math.floor,Bl=Math.pow,H0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pi,Gn=1e7,tn=7,wF=9007199254740991,Ov=od(wF/tn),ze={};ze.absoluteValue=ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ze.comparedTo=ze.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ze.dividedBy=ze.div=function(t){return Fo(this,new this.constructor(t))};ze.dividedToIntegerBy=ze.idiv=function(t){var e=this,n=e.constructor;return Wt(Fo(e,new n(t),0,1),n.precision)};ze.equals=ze.eq=function(t){return!this.cmp(t)};ze.exponent=function(){return Mn(this)};ze.greaterThan=ze.gt=function(t){return this.cmp(t)>0};ze.greaterThanOrEqualTo=ze.gte=function(t){return this.cmp(t)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(t){return this.cmp(t)<0};ze.lessThanOrEqualTo=ze.lte=function(t){return this.cmp(t)<1};ze.logarithm=ze.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pi))throw Error(Xi+"NaN");if(n.s<1)throw Error(Xi+(n.s?"NaN":"-Infinity"));return n.eq(pi)?new r(0):(sn=!1,e=Fo(Sp(n,a),Sp(t,a),a),sn=!0,Wt(e,i))};ze.minus=ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EF(e,t):_F(e,(t.s=-t.s,t))};ze.modulo=ze.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Xi+"NaN");return n.s?(sn=!1,e=Fo(n,t,0,1).times(t),sn=!0,n.minus(e)):Wt(new r(n),i)};ze.naturalExponential=ze.exp=function(){return SF(this)};ze.naturalLogarithm=ze.ln=function(){return Sp(this)};ze.negated=ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ze.plus=ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_F(e,t):EF(e,(t.s=-t.s,t))};ze.precision=ze.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(lu+t);if(e=Mn(i)+1,r=i.d.length-1,n=r*tn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ze.squareRoot=ze.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Xi+"NaN")}for(t=Mn(s),sn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ka(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=od((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Fo(s,a,o+2)).times(.5),Ka(a.d).slice(0,o)===(e=Ka(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Wt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return sn=!0,Wt(r,n)};ze.times=ze.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,g=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(a=h,h=g,g=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+g[r]*h[i-r-1]+e,a[i--]=s%Gn|0,e=s/Gn|0;a[i]=(a[i]+e)%Gn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,sn?Wt(t,f.precision):t};ze.toDecimalPlaces=ze.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ao(t,0,ad),e===void 0?e=r.rounding:ao(e,0,8),Wt(n,t+Mn(n)+1,e))};ze.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bu(r,!0):(ao(t,0,ad),e===void 0?e=i.rounding:ao(e,0,8),r=Wt(new i(r),t+1,e),n=bu(r,!0,t+1)),n};ze.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?bu(i):(ao(t,0,ad),e===void 0?e=a.rounding:ao(e,0,8),r=Wt(new a(i),t+Mn(i)+1,e),n=bu(r.abs(),!1,t+Mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ze.toInteger=ze.toint=function(){var t=this,e=t.constructor;return Wt(new e(t),Mn(t)+1,e.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(pi);if(s=new l(s),!s.s){if(t.s<1)throw Error(Xi+"Infinity");return s}if(s.eq(pi))return s;if(r=l.precision,t.eq(pi))return Wt(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=wF){for(i=new l(pi),e=Math.ceil(r/tn+4),sn=!1;n%2&&(i=i.times(s),Uj(i.d,e)),n=od(n/2),n!==0;)s=s.times(s),Uj(s.d,e);return sn=!0,t.s<0?new l(pi).div(i):Wt(i,r)}}else if(a<0)throw Error(Xi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,sn=!1,i=t.times(Sp(s,r+u)),sn=!0,i=SF(i),i.s=a,i};ze.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Mn(i),r=bu(i,n<=a.toExpNeg||n>=a.toExpPos)):(ao(t,1,ad),e===void 0?e=a.rounding:ao(e,0,8),i=Wt(new a(i),t,e),n=Mn(i),r=bu(i,t<=n||n<=a.toExpNeg,t)),r};ze.toSignificantDigits=ze.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ao(t,1,ad),e===void 0?e=r.rounding:ao(e,0,8)),Wt(new r(n),t,e)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),n=t.constructor;return bu(t,e<=n.toExpNeg||e>=n.toExpPos)};function _F(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),sn?Wt(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/tn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Gn|0,l[a]%=Gn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,sn?Wt(e,f):e}function ao(t,e,n){if(t!==~~t||t<e||t>n)throw Error(lu+t)}function Ka(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=tn-r.length,n&&(a+=_s(n)),a+=r;o=t[e],r=o+"",n=tn-r.length,n&&(a+=_s(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Fo=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Gn|0,o=a/Gn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Gn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,g,b,v,x,w,_,A,I,S,C,E,T,j=r.constructor,R=r.s==i.s?1:-1,D=r.d,$=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Xi+"Division by zero");for(l=r.e-i.e,E=$.length,S=D.length,g=new j(R),b=g.d=[],u=0;$[u]==(D[u]||0);)++u;if($[u]>(D[u]||0)&&--l,a==null?_=a=j.precision:o?_=a+(Mn(r)-Mn(i))+1:_=a,_<0)return new j(0);if(_=_/tn+2|0,u=0,E==1)for(c=0,$=$[0],_++;(u<S||c)&&_--;u++)A=c*Gn+(D[u]||0),b[u]=A/$|0,c=A%$|0;else{for(c=Gn/($[0]+1)|0,c>1&&($=t($,c),D=t(D,c),E=$.length,S=D.length),I=E,v=D.slice(0,E),x=v.length;x<E;)v[x++]=0;T=$.slice(),T.unshift(0),C=$[0],$[1]>=Gn/2&&++C;do c=0,s=e($,v,E,x),s<0?(w=v[0],E!=x&&(w=w*Gn+(v[1]||0)),c=w/C|0,c>1?(c>=Gn&&(c=Gn-1),f=t($,c),h=f.length,x=v.length,s=e(f,v,h,x),s==1&&(c--,n(f,E<h?T:$,h))):(c==0&&(s=c=1),f=$.slice()),h=f.length,h<x&&f.unshift(0),n(v,f,x),s==-1&&(x=v.length,s=e($,v,E,x),s<1&&(c++,n(v,E<x?T:$,x))),x=v.length):s===0&&(c++,v=[0]),b[u++]=c,s&&v[0]?v[x++]=D[I]||0:(v=[D[I]],x=1);while((I++<S||v[0]!==void 0)&&_--)}return b[0]||b.shift(),g.e=l,Wt(g,o?a+Mn(g)+1:a)}}();function SF(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(Mn(t)>16)throw Error(eP+Mn(t));if(!t.s)return new c(pi);for(sn=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Bl(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(pi),c.precision=s;;){if(i=Wt(i.times(t),s),n=n.times(++l),o=a.plus(Fo(i,n,s)),Ka(o.d).slice(0,s)===Ka(a.d).slice(0,s)){for(;u--;)a=Wt(a.times(a),s);return c.precision=f,e==null?(sn=!0,Wt(a,f)):a}a=o}}function Mn(t){for(var e=t.e*tn,n=t.d[0];n>=10;n/=10)e++;return e}function cw(t,e,n){if(e>t.LN10.sd())throw sn=!0,n&&(t.precision=n),Error(Xi+"LN10 precision limit exceeded");return Wt(new t(t.LN10),e)}function _s(t){for(var e="";t--;)e+="0";return e}function Sp(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,g=t,b=g.d,v=g.constructor,x=v.precision;if(g.s<1)throw Error(Xi+(g.s?"NaN":"-Infinity"));if(g.eq(pi))return new v(0);if(e==null?(sn=!1,u=x):u=e,g.eq(10))return e==null&&(sn=!0),cw(v,u);if(u+=h,v.precision=u,n=Ka(b),r=n.charAt(0),a=Mn(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Ka(g.d),r=n.charAt(0),f++;a=Mn(g),r>1?(g=new v("0."+n),a++):g=new v(r+"."+n.slice(1))}else return l=cw(v,u+2,x).times(a+""),g=Sp(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=x,e==null?(sn=!0,Wt(g,x)):g;for(s=o=g=Fo(g.minus(pi),g.plus(pi),u),c=Wt(g.times(g),u),i=3;;){if(o=Wt(o.times(c),u),l=s.plus(Fo(o,new v(i),u)),Ka(l.d).slice(0,u)===Ka(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(cw(v,u+2,x).times(a+""))),s=Fo(s,new v(f),u),v.precision=x,e==null?(sn=!0,Wt(s,x)):s;s=l,i+=2}}function Bj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=od(n/tn),t.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tn;r<i;)t.d.push(+e.slice(r,r+=tn));e=e.slice(r),r=tn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),sn&&(t.e>Ov||t.e<-Ov))throw Error(eP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Wt(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=tn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/tn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=tn,i=r-tn+o}if(n!==void 0&&(a=Bl(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Bl(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Mn(t),f.length=1,e=e-a-1,f[0]=Bl(10,(tn-e%tn)%tn),t.e=od(-e/tn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Bl(10,tn-r),f[c]=i>0?(u/Bl(10,o-i)%Bl(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Gn&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Gn)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(sn&&(t.e>Ov||t.e<-Ov))throw Error(eP+Mn(t));return t}function EF(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),sn?Wt(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(g/tn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Gn-1;--l[a],l[i]+=Gn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,sn?Wt(e,g):e):new h(0)}function bu(t,e,n){var r,i=Mn(t),a=Ka(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+_s(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_s(-i-1)+a,n&&(r=n-o)>0&&(a+=_s(r))):i>=o?(a+=_s(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+_s(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=_s(r))),t.s<0?"-"+a:a}function Uj(t,e){if(t.length>e)return t.length=e,!0}function AF(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(lu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Bj(o,a.toString())}else if(typeof a!="string")throw Error(lu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,H0e.test(a))Bj(o,a);else throw Error(lu+a)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AF,i.config=i.set=G0e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function G0e(t){if(!t||typeof t!="object")throw Error(Xi+"Object expected");var e,n,r,i=["precision",1,ad,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(od(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(lu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(lu+n+": "+r);return this}var tP=AF(K0e);pi=new tP(1);const $t=tP;function Y0e(t){return Z0e(t)||J0e(t)||Q0e(t)||X0e()}function X0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function J0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Z0e(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ebe=function(e){return e},TF={},PF=function(e){return e===TF},Wj=function(e){return function n(){return arguments.length===0||arguments.length===1&&PF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},tbe=function t(e,n){return e===1?n:Wj(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==TF}).length;return o>=e?n.apply(void 0,i):t(e-o,Wj(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return PF(f)?l.shift():f});return n.apply(void 0,Y0e(c).concat(l))}))})},_b=function(e){return tbe(e.length,e)},B_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},nbe=_b(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),rbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ebe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},U_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},CF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function ibe(t){var e;return t===0?e=1:e=Math.floor(new $t(t).abs().log(10).toNumber())+1,e}function abe(t,e,n){for(var r=new $t(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var obe=_b(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),sbe=_b(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),lbe=_b(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Sb={rangeStep:abe,getDigitCount:ibe,interpolateNumber:obe,uninterpolateNumber:sbe,uninterpolateTruncation:lbe};function W_(t){return fbe(t)||cbe(t)||OF(t)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fbe(t){if(Array.isArray(t))return q_(t)}function Ep(t,e){return pbe(t)||hbe(t,e)||OF(t,e)||dbe()}function dbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hbe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function pbe(t){if(Array.isArray(t))return t}function kF(t){var e=Ep(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function IF(t,e,n){if(t.lte(0))return new $t(0);var r=Sb.getDigitCount(t.toNumber()),i=new $t(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new $t(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new $t(Math.ceil(l))}function mbe(t,e,n){var r=1,i=new $t(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new $t(10).pow(Sb.getDigitCount(t)-1),i=new $t(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new $t(Math.floor(t)))}else t===0?i=new $t(Math.floor((e-1)/2)):n||(i=new $t(Math.floor(t)));var o=Math.floor((e-1)/2),s=rbe(nbe(function(l){return i.add(new $t(l-o).mul(r)).toNumber()}),B_);return s(0,e)}function jF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var a=IF(new $t(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new $t(0):(o=new $t(t).add(e).div(2),o=o.sub(new $t(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new $t(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?jF(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new $t(s).mul(a)),tickMax:o.add(new $t(l).mul(a))})}function gbe(t){var e=Ep(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=kF([n,r]),l=Ep(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(W_(B_(0,i-1).map(function(){return 1/0}))):[].concat(W_(B_(0,i-1).map(function(){return-1/0})),[c]);return n>r?U_(f):f}if(u===c)return mbe(u,i,a);var h=jF(u,c,o,a),g=h.step,b=h.tickMin,v=h.tickMax,x=Sb.rangeStep(b,v.add(new $t(.1).mul(g)),g);return n>r?U_(x):x}function ybe(t,e){var n=Ep(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kF([r,i]),s=Ep(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=IF(new $t(u).sub(l).div(c-1),a,0),h=[].concat(W_(Sb.rangeStep(new $t(l),new $t(u).sub(new $t(.99).mul(f)),f)),[u]);return r>i?U_(h):h}var vbe=CF(gbe),bbe=CF(ybe),xbe="Invariant failed";function xu(t,e){throw new Error(xbe)}var wbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(this,arguments)}function _be(t,e){return Tbe(t)||Abe(t,e)||Ebe(t,e)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t,e){if(t){if(typeof t=="string")return qj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(t,e)}}function qj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Abe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tbe(t){if(Array.isArray(t))return t}function Pbe(t,e){if(t==null)return{};var n=Cbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Obe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MF(r.key),r)}}function Ibe(t,e,n){return e&&kbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jbe(t,e,n){return e=Iv(e),Nbe(t,NF()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function Nbe(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dbe(t)}function Dbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function Mbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function DF(t,e,n){return e=MF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MF(t){var e=Rbe(t,"string");return bf(e)=="symbol"?e:e+""}function Rbe(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cm=function(t){function e(){return Obe(this,e),jbe(this,e,arguments)}return Mbe(e,t),Ibe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Pbe(r,wbe),g=ct(h,!1);this.props.direction==="x"&&c.type!=="number"&&xu();var b=l.map(function(v){var x=u(v,s),w=x.x,_=x.y,A=x.value,I=x.errorVal;if(!I)return null;var S=[],C,E;if(Array.isArray(I)){var T=_be(I,2);C=T[0],E=T[1]}else C=E=I;if(a==="vertical"){var j=c.scale,R=_+i,D=R+o,$=R-o,L=j(A-C),ne=j(A+E);S.push({x1:ne,y1:D,x2:ne,y2:$}),S.push({x1:L,y1:R,x2:ne,y2:R}),S.push({x1:L,y1:D,x2:L,y2:$})}else if(a==="horizontal"){var ae=f.scale,ce=w+i,de=ce-o,Y=ce+o,re=ae(A-C),me=ae(A+E);S.push({x1:de,y1:me,x2:Y,y2:me}),S.push({x1:ce,y1:re,x2:ce,y2:me}),S.push({x1:de,y1:re,x2:Y,y2:re})}return U.createElement(Qt,kv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Ae){return"".concat(Ae.x1,"-").concat(Ae.x2,"-").concat(Ae.y1,"-").concat(Ae.y2)}))},g),S.map(function(Ae){return U.createElement("line",kv({},Ae,{key:"line-".concat(Ae.x1,"-").concat(Ae.x2,"-").concat(Ae.y1,"-").concat(Ae.y2)}))}))});return U.createElement(Qt,{className:"recharts-errorBars"},b)}}])}(U.Component);DF(Cm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});DF(Cm,"displayName","ErrorBar");function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){$be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $be(t,e,n){return e=Lbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lbe(t){var e=Vbe(t,"string");return Ap(e)=="symbol"?e:e+""}function Vbe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=hi(n,ou);if(!o)return null;var s=ou.defaultProps,l=s!==void 0?Nl(Nl({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,g=f.props,b=g.sectors||g.data||[];return c.concat(b.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,g=h!==void 0?Nl(Nl({},h),f.props):{},b=g.dataKey,v=g.name,x=g.legendType,w=g.hide;return{inactive:w,dataKey:b,type:l.iconType||x||"square",color:nP(f),value:v||b,payload:g}}),Nl(Nl(Nl({},l),ou.getWithHeight(o,i)),{},{payload:u,item:o})};function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function Hj(t){return Ube(t)||Bbe(t)||zbe(t)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zbe(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function Bbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ube(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){Fc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fc(t,e,n){return e=Wbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wbe(t){var e=qbe(t,"string");return Tp(e)=="symbol"?e:e+""}function qbe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lr(t,e,n){return ht(t)||ht(e)?n:zn(e)?Ki(t,e,n):ut(e)?e(t):n}function Ph(t,e,n,r){var i=B0e(t,function(s){return Lr(s,e)});if(n==="number"){var a=i.filter(function(s){return Ce(s)||parseFloat(s)});return a.length?[wb(a),Os(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!ht(s)}):i;return o.map(function(s){return zn(s)||s instanceof Date?s:""})}var Kbe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Ea(f-c)!==Ea(h-f)){var b=[];if(Ea(h-f)===Ea(l[1]-l[0])){g=h;var v=f+l[1]-l[0];b[0]=Math.min(v,(v+c)/2),b[1]=Math.max(v,(v+c)/2)}else{g=c;var x=h+l[1]-l[0];b[0]=Math.min(f,(x+f)/2),b[1]=Math.max(f,(x+f)/2)}var w=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>w[0]&&e<=w[1]||e>=b[0]&&e<=b[1]){o=i[u].index;break}}else{var _=Math.min(c,h),A=Math.max(c,h);if(e>(_+f)/2&&e<=(A+f)/2){o=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){o=r[I].index;break}return o},nP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?vn(vn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},Hbe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,g=f.length;h<g;h++){var b=c[f[h]],v=b.items,x=b.cateAxisId,w=v.filter(function(E){return Lo(E.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,A=_!==void 0?vn(vn({},_),w[0].props):w[0].props,I=A.barSize,S=A[x];o[S]||(o[S]=[]);var C=ht(I)?n:I;o[S].push({item:w[0],stackList:w.slice(1),barSize:ht(C)?void 0:vu(C,r,0)})}}return o},Gbe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=vu(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,g=i/l,b=o.reduce(function(I,S){return I+S.barSize||0},0);b+=(l-1)*u,b>=i&&(b-=(l-1)*u,u=0),b>=i&&g>0&&(h=!0,g*=.9,b=l*g);var v=(i-b)/2>>0,x={offset:v-u,size:0};c=o.reduce(function(I,S){var C={item:S.item,position:{offset:x.offset+x.size+u,size:h?g:S.barSize}},E=[].concat(Hj(I),[C]);return x=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){E.push({item:T,position:x})}),E},f)}else{var w=vu(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var A=s===+s?Math.min(_,s):_;c=o.reduce(function(I,S,C){var E=[].concat(Hj(I),[{item:S.item,position:{offset:w+(_+u)*C+(_-A)/2,size:A}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},f)}return c},Ybe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=RF({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,g=u.align,b=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&g!=="center"&&Ce(e[g]))return vn(vn({},e),{},Fc({},g,e[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&b!=="middle"&&Ce(e[b]))return vn(vn({},e),{},Fc({},b,e[b]+(h||0)))}return e},Xbe=function(e,n,r){return ht(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},$F=function(e,n,r,i,a){var o=n.props.children,s=Hi(o,Cm).filter(function(u){return Xbe(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Lr(c,r);if(ht(f))return u;var h=Array.isArray(f)?[wb(f),Os(f)]:[f,f],g=l.reduce(function(b,v){var x=Lr(c,v,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),_=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Qbe=function(e,n,r,i,a){var o=n.map(function(s){return $F(e,s,r,a,i)}).filter(function(s){return!ht(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},LF=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&$F(e,l,u,i)||Ph(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},VF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},FF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},No=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ea(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Zf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},fw=new WeakMap,Cg=function(e,n){if(typeof n!="function")return e;fw.has(e)||fw.set(e,new WeakMap);var r=fw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Jbe=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:vp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Av(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Th(),realScaleType:"point"}:a==="category"?{scale:vp(),realScaleType:"band"}:{scale:Av(),realScaleType:"linear"};if(yu(i)){var l="scale".concat(lb(i));return{scale:(zj[l]||Th)(),realScaleType:zj[l]?l:"point"}}return ut(i)?{scale:i}:{scale:Th(),realScaleType:"point"}},Yj=1e-4,Zbe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-Yj,o=Math.max(i[0],i[1])+Yj,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},exe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},txe=function(e,n){if(!n||n.length!==2||!Ce(n[0])||!Ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ce(e[0])||e[0]<r)&&(a[0]=r),(!Ce(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},nxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Zf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},rxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Zf(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},ixe={sign:nxe,expand:bse,none:cf,silhouette:xse,wiggle:wse,positive:rxe},axe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=ixe[r],o=vse().keys(i).value(function(s,l){return+Lr(s,l,0)}).order(v_).offset(a);return o(e)},oxe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var g,b=(g=h.type)!==null&&g!==void 0&&g.defaultProps?vn(vn({},h.type.defaultProps),h.props):h.props,v=b.stackId,x=b.hide;if(x)return f;var w=b[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(zn(v)){var A=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(h),_.hasStack=!0,_.stackGroups[v]=A}else _.stackGroups[ed("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return vn(vn({},f),{},Fc({},w,_))},l),c={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var b={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,x){var w=g.stackGroups[x];return vn(vn({},v),{},Fc({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:axe(e,w.items,a)}))},b)}return vn(vn({},f),{},Fc({},h,g))},c)},sxe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=vbe(u,a,s);return e.domain([wb(c),Os(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=bbe(f,a,s);return{niceTicks:h}}return null};function jv(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ht(i[e.dataKey])){var s=nv(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Lr(i,ht(o)?e.dataKey:o);return ht(l)?null:e.scale(l)}var Xj=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Lr(o,n.dataKey,n.domain[s]);return ht(l)?null:n.scale(l)-a/2+i},lxe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},uxe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?vn(vn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(zn(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},cxe=function(e){return e.reduce(function(n,r){return[wb(r.concat([n[0]]).filter(Ce)),Os(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},zF=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=cxe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Qj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,G_=function(e,n,r){if(ut(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Qj.test(e[0])){var a=+Qj.exec(e[0])[1];i[0]=n[0]-a}else ut(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Jj.test(e[1])){var o=+Jj.exec(e[1])[1];i[1]=n[1]+o}else ut(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Nv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=kT(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Zj=function(e,n,r){return!e||!e.length||vf(e,Ki(r,"type.defaultProps.domain"))?n:e},BF=function(e,n){var r=e.type.defaultProps?vn(vn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return vn(vn({},ct(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:nP(e),value:Lr(n,i),type:l,payload:n,chartType:u,hide:c})};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){fxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fxe(t,e,n){return e=dxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dxe(t){var e=hxe(t,"string");return Pp(e)=="symbol"?e:e+""}function hxe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dv=Math.PI/180,pxe=function(e){return e*180/Math.PI},lr=function(e,n,r,i){return{x:e+Math.cos(-Dv*i)*r,y:n+Math.sin(-Dv*i)*r}},mxe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},gxe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=mxe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:pxe(u),angleInRadian:u}},yxe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},vxe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},nN=function(e,n){var r=e.x,i=e.y,a=gxe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=yxe(n),f=c.startAngle,h=c.endAngle,g=s,b;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;b=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;b=g>=h&&g<=f}return b?tN(tN({},n),{},{radius:o,angle:vxe(g,n)}):null};function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}var bxe=["offset"];function xxe(t){return Exe(t)||Sxe(t)||_xe(t)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _xe(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function Sxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Exe(t){if(Array.isArray(t))return Y_(t)}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Axe(t,e){if(t==null)return{};var n=Txe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Txe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){Pxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pxe(t,e,n){return e=Cxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cxe(t){var e=Oxe(t,"string");return Cp(e)=="symbol"?e:e+""}function Oxe(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(this,arguments)}var kxe=function(e){var n=e.value,r=e.formatter,i=ht(e.children)?n:e.children;return ut(r)?r(i):i},Ixe=function(e,n){var r=Ea(n-e),i=Math.min(Math.abs(n-e),360);return r*i},jxe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,b=l.endAngle,v=l.clockWise,x=(f+h)/2,w=Ixe(g,b),_=w>=0?1:-1,A,I;i==="insideStart"?(A=g+_*o,I=v):i==="insideEnd"?(A=b-_*o,I=!v):i==="end"&&(A=b+_*o,I=v),I=w<=0?I:!I;var S=lr(u,c,x,A),C=lr(u,c,x,A+(I?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(I?0:1,`,
    `).concat(C.x,",").concat(C.y),T=ht(e.id)?ed("recharts-radial-line-"):e.id;return U.createElement("text",Op({},r,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",s)}),U.createElement("defs",null,U.createElement("path",{id:T,d:E})),U.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Nxe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var g=lr(o,s,u+r,h),b=g.x,v=g.y;return{x:b,y:v,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=lr(o,s,x,h),_=w.x,A=w.y;return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Dxe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,g=f>0?"end":"start",b=f>0?"start":"end",v=u>=0?1:-1,x=v*i,w=v>0?"end":"start",_=v>0?"start":"end";if(a==="top"){var A={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return Ln(Ln({},A),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var I={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:b};return Ln(Ln({},I),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var S={x:s-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Ln(Ln({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(a==="right"){var C={x:s+u+x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Ln(Ln({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?Ln({x:s+x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideRight"?Ln({x:s+u-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):a==="insideTop"?Ln({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:b},E):a==="insideBottom"?Ln({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},E):a==="insideTopLeft"?Ln({x:s+x,y:l+h,textAnchor:_,verticalAnchor:b},E):a==="insideTopRight"?Ln({x:s+u-x,y:l+h,textAnchor:w,verticalAnchor:b},E):a==="insideBottomLeft"?Ln({x:s+x,y:l+c-h,textAnchor:_,verticalAnchor:g},E):a==="insideBottomRight"?Ln({x:s+u-x,y:l+c-h,textAnchor:w,verticalAnchor:g},E):Yf(a)&&(Ce(a.x)||Xl(a.x))&&(Ce(a.y)||Xl(a.y))?Ln({x:s+vu(a.x,u),y:l+vu(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):Ln({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Mxe=function(e){return"cx"in e&&Ce(e.cx)};function Er(t){var e=t.offset,n=e===void 0?5:e,r=Axe(t,bxe),i=Ln({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||ht(s)&&ht(l)&&!V.isValidElement(u)&&!ut(u))return null;if(V.isValidElement(u))return V.cloneElement(u,i);var g;if(ut(u)){if(g=V.createElement(u,i),V.isValidElement(g))return g}else g=kxe(i);var b=Mxe(a),v=ct(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return jxe(i,g,v);var x=b?Nxe(i):Dxe(i);return U.createElement(vv,Op({className:xt("recharts-label",f)},v,x,{breakAll:h}),g)}Er.displayName="Label";var UF=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,g=e.top,b=e.left,v=e.width,x=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(Ce(v)&&Ce(x)){if(Ce(f)&&Ce(h))return{x:f,y:h,width:v,height:x};if(Ce(g)&&Ce(b))return{x:g,y:b,width:v,height:x}}return Ce(f)&&Ce(h)?{x:f,y:h,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Rxe=function(e,n){return e?e===!0?U.createElement(Er,{key:"label-implicit",viewBox:n}):zn(e)?U.createElement(Er,{key:"label-implicit",viewBox:n,value:e}):V.isValidElement(e)?e.type===Er?V.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Er,{key:"label-implicit",content:e,viewBox:n}):ut(e)?U.createElement(Er,{key:"label-implicit",content:e,viewBox:n}):Yf(e)?U.createElement(Er,Op({viewBox:n},e,{key:"label-implicit"})):null:null},$xe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=UF(e),o=Hi(i,Er).map(function(l,u){return V.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Rxe(e.label,n||a);return[s].concat(xxe(o))};Er.parseViewBox=UF;Er.renderCallByParent=$xe;function Lxe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Vxe=Lxe;const Fxe=Vt(Vxe);function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}var zxe=["valueAccessor"],Bxe=["data","dataKey","clockWise","id","textBreakAll"];function Uxe(t){return Hxe(t)||Kxe(t)||qxe(t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function Kxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hxe(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){Gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gxe(t,e,n){return e=Yxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yxe(t){var e=Xxe(t,"string");return kp(e)=="symbol"?e:e+""}function Xxe(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oN(t,e){if(t==null)return{};var n=Qxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jxe=function(e){return Array.isArray(e.value)?Fxe(e.value):e.value};function xi(t){var e=t.valueAccessor,n=e===void 0?Jxe:e,r=oN(t,zxe),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=oN(r,Bxe);return!i||!i.length?null:U.createElement(Qt,{className:"recharts-label-list"},i.map(function(c,f){var h=ht(a)?n(c,f):Lr(c&&c.payload,a),g=ht(s)?{}:{id:"".concat(s,"-").concat(f)};return U.createElement(Er,Mv({},ct(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Er.parseViewBox(ht(o)?c:aN(aN({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}xi.displayName="LabelList";function Zxe(t,e){return t?t===!0?U.createElement(xi,{key:"labelList-implicit",data:e}):U.isValidElement(t)||ut(t)?U.createElement(xi,{key:"labelList-implicit",data:e,content:t}):Yf(t)?U.createElement(xi,Mv({data:e},t,{key:"labelList-implicit"})):null:null}function ewe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Hi(r,xi).map(function(o,s){return V.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Zxe(t.label,e);return[a].concat(Uxe(i))}xi.renderCallByParent=ewe;function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){twe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function twe(t,e,n){return e=nwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nwe(t){var e=rwe(t,"string");return Ip(e)=="symbol"?e:e+""}function rwe(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iwe=function(e,n){var r=Ea(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Og=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Dv,h=u?a:a+o*f,g=lr(n,r,c,h),b=lr(n,r,i,h),v=u?a-o*f:a,x=lr(n,r,c*Math.cos(f*Dv),v);return{center:g,circleTangency:b,lineTangency:x,theta:f}},WF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=iwe(o,s),u=o+l,c=lr(n,r,a,o),f=lr(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=lr(n,r,i,o),b=lr(n,r,i,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},awe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Ea(c-u),h=Og({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),g=h.circleTangency,b=h.lineTangency,v=h.theta,x=Og({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),w=x.circleTangency,_=x.lineTangency,A=x.theta,I=l?Math.abs(u-c):Math.abs(u-c)-v-A;if(I<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):WF({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var S="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var C=Og({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=C.circleTangency,T=C.lineTangency,j=C.theta,R=Og({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),D=R.circleTangency,$=R.lineTangency,L=R.theta,ne=l?Math.abs(u-c):Math.abs(u-c)-j-L;if(ne<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ne>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},owe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qF=function(e){var n=lN(lN({},owe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var g=xt("recharts-sector",h),b=o-a,v=vu(s,b,0,!0),x;return v>0&&Math.abs(c-f)<360?x=awe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=WF({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),U.createElement("path",Q_({},ct(n,!0),{className:g,d:x,role:"img"}))};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function swe(t,e,n){return e=lwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lwe(t){var e=uwe(t,"string");return jp(e)=="symbol"?e:e+""}function uwe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fN={curveBasisClosed:sse,curveBasisOpen:lse,curveBasis:ose,curveBumpX:Koe,curveBumpY:Hoe,curveLinearClosed:use,curveLinear:cb,curveMonotoneX:cse,curveMonotoneY:fse,curveNatural:dse,curveStep:hse,curveStepAfter:mse,curveStepBefore:pse},kg=function(e){return e.x===+e.x&&e.y===+e.y},Fd=function(e){return e.x},zd=function(e){return e.y},cwe=function(e,n){if(ut(e))return e;var r="curve".concat(lb(e));return(r==="curveMonotone"||r==="curveBump")&&n?fN["".concat(r).concat(n==="vertical"?"Y":"X")]:fN[r]||cb},fwe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=cwe(r,s),f=u?a.filter(function(v){return kg(v)}):a,h;if(Array.isArray(o)){var g=u?o.filter(function(v){return kg(v)}):o,b=f.map(function(v,x){return cN(cN({},v),{},{base:g[x]})});return s==="vertical"?h=xg().y(zd).x1(Fd).x0(function(v){return v.base.x}):h=xg().x(Fd).y1(zd).y0(function(v){return v.base.y}),h.defined(kg).curve(c),h(b)}return s==="vertical"&&Ce(o)?h=xg().y(zd).x1(Fd).x0(o):Ce(o)?h=xg().x(Fd).y1(zd).y0(o):h=K5().x(Fd).y(zd),h.defined(kg).curve(c),h(f)},zc=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?fwe(e):i;return V.createElement("path",J_({},ct(e,!1),rv(e),{className:xt("recharts-curve",n),d:o,ref:a}))},KF={exports:{}},dwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hwe=dwe,pwe=hwe;function HF(){}function GF(){}GF.resetWarningCache=HF;var mwe=function(){function t(r,i,a,o,s,l){if(l!==pwe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:GF,resetWarningCache:HF};return n.PropTypes=n,n};KF.exports=mwe();var gwe=KF.exports;const Ot=Vt(gwe);var ywe=Object.getOwnPropertyNames,vwe=Object.getOwnPropertySymbols,bwe=Object.prototype.hasOwnProperty;function dN(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Ig(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function xwe(t){return t!=null?t[Symbol.toStringTag]:void 0}function hN(t){return ywe(t).concat(vwe(t))}var wwe=Object.hasOwn||function(t,e){return bwe.call(t,e)};function Du(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var _we="__v",Swe="__o",Ewe="_owner",pN=Object.getOwnPropertyDescriptor,mN=Object.keys;function Awe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Twe(t,e){return Du(t.getTime(),e.getTime())}function Pwe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Cwe(t,e){return t===e}function gN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,g=s.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Owe=Du;function kwe(t,e,n){var r=mN(t),i=r.length;if(mN(e).length!==i)return!1;for(;i-- >0;)if(!YF(t,e,n,r[i]))return!1;return!0}function Bd(t,e,n){var r=hN(t),i=r.length;if(hN(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!YF(t,e,n,a)||(o=pN(t,a),s=pN(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Iwe(t,e){return Du(t.valueOf(),e.valueOf())}function jwe(t,e){return t.source===e.source&&t.flags===e.flags}function yN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Nwe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Dwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function YF(t,e,n,r){return(r===Ewe||r===Swe||r===_we)&&(t.$$typeof||e.$$typeof)?!0:wwe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Mwe="[object Arguments]",Rwe="[object Boolean]",$we="[object Date]",Lwe="[object Error]",Vwe="[object Map]",Fwe="[object Number]",zwe="[object Object]",Bwe="[object RegExp]",Uwe="[object Set]",Wwe="[object String]",qwe="[object URL]",Kwe=Array.isArray,vN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,bN=Object.assign,Hwe=Object.prototype.toString.call.bind(Object.prototype.toString);function Gwe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(v,x,w){if(v===x)return!0;if(v==null||x==null)return!1;var _=typeof v;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?o(v,x,w):_==="function"?i(v,x,w):!1;var A=v.constructor;if(A!==x.constructor)return!1;if(A===Object)return s(v,x,w);if(Kwe(v))return e(v,x,w);if(vN!=null&&vN(v))return f(v,x,w);if(A===Date)return n(v,x,w);if(A===RegExp)return u(v,x,w);if(A===Map)return a(v,x,w);if(A===Set)return c(v,x,w);var I=Hwe(v);if(I===$we)return n(v,x,w);if(I===Bwe)return u(v,x,w);if(I===Vwe)return a(v,x,w);if(I===Uwe)return c(v,x,w);if(I===zwe)return typeof v.then!="function"&&typeof x.then!="function"&&s(v,x,w);if(I===qwe)return h(v,x,w);if(I===Lwe)return r(v,x,w);if(I===Mwe)return s(v,x,w);if(I===Rwe||I===Fwe||I===Wwe)return l(v,x,w);if(g){var S=g[I];if(!S){var C=xwe(v);C&&(S=g[C])}if(S)return S(v,x,w)}return!1}}function Ywe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Bd:Awe,areDatesEqual:Twe,areErrorsEqual:Pwe,areFunctionsEqual:Cwe,areMapsEqual:r?dN(gN,Bd):gN,areNumbersEqual:Owe,areObjectsEqual:r?Bd:kwe,arePrimitiveWrappersEqual:Iwe,areRegExpsEqual:jwe,areSetsEqual:r?dN(yN,Bd):yN,areTypedArraysEqual:r?Bd:Nwe,areUrlsEqual:Dwe,unknownTagComparators:void 0};if(n&&(i=bN({},i,n(i))),e){var a=Ig(i.areArraysEqual),o=Ig(i.areMapsEqual),s=Ig(i.areObjectsEqual),l=Ig(i.areSetsEqual);i=bN({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Xwe(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Qwe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Jwe=hl();hl({strict:!0});hl({circular:!0});hl({circular:!0,strict:!0});hl({createInternalComparator:function(){return Du}});hl({strict:!0,createInternalComparator:function(){return Du}});hl({circular:!0,createInternalComparator:function(){return Du}});hl({circular:!0,createInternalComparator:function(){return Du},strict:!0});function hl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Ywe(t),l=Gwe(s),u=r?r(l):Xwe(l);return Qwe({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Zwe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function xN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Zwe(i)};requestAnimationFrame(r)}function Z_(t){"@babel/helpers - typeof";return Z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z_(t)}function e1e(t){return i1e(t)||r1e(t)||n1e(t)||t1e()}function t1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1e(t,e){if(t){if(typeof t=="string")return wN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(t,e)}}function wN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i1e(t){if(Array.isArray(t))return t}function a1e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=e1e(o),l=s[0],u=s.slice(1);if(typeof l=="number"){xN(i.bind(null,u),l);return}i(l),xN(i.bind(null,u));return}Z_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){XF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XF(t,e,n){return e=o1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o1e(t){var e=s1e(t,"string");return Np(e)==="symbol"?e:String(e)}function s1e(t,e){if(Np(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l1e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},u1e=function(e){return e},c1e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ch=function(e,n){return Object.keys(n).reduce(function(r,i){return SN(SN({},r),{},XF({},i,e(i,n[i])))},{})},EN=function(e,n,r){return e.map(function(i){return"".concat(c1e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function f1e(t,e){return p1e(t)||h1e(t,e)||QF(t,e)||d1e()}function d1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function p1e(t){if(Array.isArray(t))return t}function m1e(t){return v1e(t)||y1e(t)||QF(t)||g1e()}function g1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QF(t,e){if(t){if(typeof t=="string")return eS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(t,e)}}function y1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v1e(t){if(Array.isArray(t))return eS(t)}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rv=1e-4,JF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},ZF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},AN=function(e,n){return function(r){var i=JF(e,n);return ZF(i,r)}},b1e=function(e,n){return function(r){var i=JF(e,n),a=[].concat(m1e(i.map(function(o,s){return o*s}).slice(1)),[0]);return ZF(a,r)}},TN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=f1e(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=AN(i,o),h=AN(a,s),g=b1e(i,o),b=function(w){return w>1?1:w<0?0:w},v=function(w){for(var _=w>1?1:w,A=_,I=0;I<8;++I){var S=f(A)-_,C=g(A);if(Math.abs(S-_)<Rv||C<Rv)return h(A);A=b(A-S/C)}return h(A)};return v.isStepper=!1,v},x1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var g=-(c-f)*r,b=h*a,v=h+(g-b)*s/1e3,x=h*s/1e3+c;return Math.abs(x-f)<Rv&&Math.abs(v)<Rv?[f,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},w1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TN(i);case"spring":return x1e();default:if(i.split("(")[0]==="cubic-bezier")return TN(i)}return typeof i=="function"?i:null};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function PN(t){return E1e(t)||S1e(t)||ez(t)||_1e()}function _1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E1e(t){if(Array.isArray(t))return nS(t)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){tS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tS(t,e,n){return e=A1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A1e(t){var e=T1e(t,"string");return Dp(e)==="symbol"?e:String(e)}function T1e(t,e){if(Dp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P1e(t,e){return k1e(t)||O1e(t,e)||ez(t,e)||C1e()}function C1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ez(t,e){if(t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function k1e(t){if(Array.isArray(t))return t}var $v=function(e,n,r){return e+(n-e)*r},rS=function(e){var n=e.from,r=e.to;return n!==r},I1e=function t(e,n,r){var i=Ch(function(a,o){if(rS(o)){var s=e(o.from,o.to,o.velocity),l=P1e(s,2),u=l[0],c=l[1];return tr(tr({},o),{},{from:u,velocity:c})}return o},n);return r<1?Ch(function(a,o){return rS(o)?tr(tr({},o),{},{velocity:$v(o.velocity,i[a].velocity,r),from:$v(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const j1e=function(t,e,n,r,i){var a=l1e(t,e),o=a.reduce(function(x,w){return tr(tr({},x),{},tS({},w,[t[w],e[w]]))},{}),s=a.reduce(function(x,w){return tr(tr({},x),{},tS({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Ch(function(w,_){return _.from},s)},g=function(){return!Object.values(s).filter(rS).length},b=function(w){u||(u=w);var _=w-u,A=_/n.dt;s=I1e(n,s,A),i(tr(tr(tr({},t),e),h())),u=w,g()||(l=requestAnimationFrame(f))},v=function(w){c||(c=w);var _=(w-c)/r,A=Ch(function(S,C){return $v.apply(void 0,PN(C).concat([n(_)]))},o);if(i(tr(tr(tr({},t),e),A)),_<1)l=requestAnimationFrame(f);else{var I=Ch(function(S,C){return $v.apply(void 0,PN(C).concat([n(1)]))},o);i(tr(tr(tr({},t),e),I))}};return f=n.isStepper?b:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}var N1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function D1e(t,e){if(t==null)return{};var n=M1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dw(t){return V1e(t)||L1e(t)||$1e(t)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $1e(t,e){if(t){if(typeof t=="string")return iS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(t,e)}}function L1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V1e(t){if(Array.isArray(t))return iS(t)}function iS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){ih(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ih(t,e,n){return e=tz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tz(r.key),r)}}function B1e(t,e,n){return e&&z1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tz(t){var e=U1e(t,"string");return xf(e)==="symbol"?e:String(e)}function U1e(t,e){if(xf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aS(t,e)}function q1e(t){var e=K1e();return function(){var r=Lv(t),i;if(e){var a=Lv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return oS(this,i)}}function oS(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sS(t)}function sS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}var oo=function(t){W1e(n,t);var e=q1e(n);function n(r,i){var a;F1e(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(sS(a)),a.changeStyle=a.changeStyle.bind(sS(a)),!s||g<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),oS(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},oS(a);a.state={style:l?ih({},l,u):u}}else a.state={style:{}};return a}return B1e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var g={style:l?ih({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(Jwe(i.to,c)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||u?f:i.to;if(this.state&&h){var x={style:l?ih({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(ha(ha({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=j1e(o,s,w1e(u),l,this.changeStyle),b=function(){a.stopJSAnimation=g()};this.manager.start([h,c,b,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,g=function(v,x,w){if(w===0)return v;var _=x.duration,A=x.easing,I=A===void 0?"ease":A,S=x.style,C=x.properties,E=x.onAnimationEnd,T=w>0?o[w-1]:x,j=C||Object.keys(S);if(typeof I=="function"||I==="spring")return[].concat(dw(v),[a.runJSAnimation.bind(a,{from:T.style,to:S,duration:_,easing:I}),_]);var R=EN(j,_,I),D=ha(ha(ha({},T.style),S),{},{transition:R});return[].concat(dw(v),[D,_,E]).filter(u1e)};return this.manager.start([l].concat(dw(o.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=a1e());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?ih({},s,l):l,x=EN(Object.keys(v),o,u);b.start([c,a,ha(ha({},v),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=D1e(i,N1e),u=V.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(g){var b=g.props,v=b.style,x=v===void 0?{}:v,w=b.className,_=V.cloneElement(g,ha(ha({},l),{},{style:ha(ha({},x),c),className:w}));return _};return u===1?f(V.Children.only(a)):U.createElement("div",null,V.Children.map(a,function(h){return f(h)}))}}]),n}(V.PureComponent);oo.displayName="Animate";oo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oo.propTypes={from:Ot.oneOfType([Ot.object,Ot.string]),to:Ot.oneOfType([Ot.object,Ot.string]),attributeName:Ot.string,duration:Ot.number,begin:Ot.number,easing:Ot.oneOfType([Ot.string,Ot.func]),steps:Ot.arrayOf(Ot.shape({duration:Ot.number.isRequired,style:Ot.object.isRequired,easing:Ot.oneOfType([Ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ot.func]),properties:Ot.arrayOf("string"),onAnimationEnd:Ot.func})),children:Ot.oneOfType([Ot.node,Ot.func]),isActive:Ot.bool,canBegin:Ot.bool,onAnimationEnd:Ot.func,shouldReAnimate:Ot.bool,onAnimationStart:Ot.func,onAnimationReStart:Ot.func};function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function H1e(t,e){return Q1e(t)||X1e(t,e)||Y1e(t,e)||G1e()}function G1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1e(t,e){if(t){if(typeof t=="string")return kN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kN(t,e)}}function kN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Q1e(t){if(Array.isArray(t))return t}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return e=Z1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1e(t){var e=e_e(t,"string");return Mp(e)=="symbol"?e:e+""}function e_e(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NN=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);c="M ".concat(e,",").concat(n+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+l*b,",").concat(n,`
            L `).concat(e+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*b,`
            L `).concat(e+r,",").concat(n+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-l*b,",").concat(n+i,`
            L `).concat(e+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*b," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},t_e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},n_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rP=function(e){var n=jN(jN({},n_e),e),r=V.useRef(),i=V.useState(-1),a=H1e(i,2),o=a[0],s=a[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,g=n.className,b=n.animationEasing,v=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var A=xt("recharts-rectangle",g);return _?U.createElement(oo,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:v,animationEasing:b,isActive:_},function(I){var S=I.width,C=I.height,E=I.x,T=I.y;return U.createElement(oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:w,easing:b},U.createElement("path",Vv({},ct(n,!0),{className:A,d:NN(E,T,S,C,h),ref:r})))}):U.createElement("path",Vv({},ct(n,!0),{className:A,d:NN(l,u,c,f,h)}))};function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(this,arguments)}var Eb=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=xt("recharts-dot",a);return n===+n&&r===+r&&i===+i?V.createElement("circle",lS({},ct(e,!1),rv(e),{className:o,cx:n,cy:r,r:i})):null};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}var r_e=["x","y","top","left","width","height","className"];function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){a_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a_e(t,e,n){return e=o_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o_e(t){var e=s_e(t,"string");return Rp(e)=="symbol"?e:e+""}function s_e(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l_e(t,e){if(t==null)return{};var n=u_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var c_e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},f_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,g=h===void 0?0:h,b=e.className,v=l_e(e,r_e),x=i_e({x:r,y:a,top:s,left:u,width:f,height:g},v);return!Ce(r)||!Ce(a)||!Ce(f)||!Ce(g)||!Ce(s)||!Ce(u)?null:U.createElement("path",uS({},ct(x,!0),{className:xt("recharts-cross",b),d:c_e(r,a,f,g,s,u)}))},d_e=g3,h_e=d_e(Object.getPrototypeOf,Object),p_e=h_e,m_e=rs,g_e=p_e,y_e=is,v_e="[object Object]",b_e=Function.prototype,x_e=Object.prototype,nz=b_e.toString,w_e=x_e.hasOwnProperty,__e=nz.call(Object);function S_e(t){if(!y_e(t)||m_e(t)!=v_e)return!1;var e=g_e(t);if(e===null)return!0;var n=w_e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nz.call(n)==__e}var E_e=S_e;const A_e=Vt(E_e);var T_e=rs,P_e=is,C_e="[object Boolean]";function O_e(t){return t===!0||t===!1||P_e(t)&&T_e(t)==C_e}var k_e=O_e;const I_e=Vt(k_e);function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function j_e(t,e){return R_e(t)||M_e(t,e)||D_e(t,e)||N_e()}function N_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D_e(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function R_e(t){if(Array.isArray(t))return t}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){$_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_e(t,e,n){return e=L_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L_e(t){var e=V_e(t,"string");return $p(e)=="symbol"?e:e+""}function V_e(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LN=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},F_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z_e=function(e){var n=$N($N({},F_e),e),r=V.useRef(),i=V.useState(-1),a=j_e(i,2),o=a[0],s=a[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,b=n.animationEasing,v=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var _=xt("recharts-trapezoid",g);return w?U.createElement(oo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:b,isActive:w},function(A){var I=A.upperWidth,S=A.lowerWidth,C=A.height,E=A.x,T=A.y;return U.createElement(oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:b},U.createElement("path",Fv({},ct(n,!0),{className:_,d:LN(E,T,I,S,C),ref:r})))}):U.createElement("g",null,U.createElement("path",Fv({},ct(n,!0),{className:_,d:LN(l,u,c,f,h)})))},B_e=["option","shapeType","propTransformer","activeClassName","isActive"];function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function U_e(t,e){if(t==null)return{};var n=W_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){q_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q_e(t,e,n){return e=K_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K_e(t){var e=H_e(t,"string");return Lp(e)=="symbol"?e:e+""}function H_e(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G_e(t,e){return zv(zv({},e),t)}function Y_e(t,e){return t==="symbols"}function FN(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(rP,n);case"trapezoid":return U.createElement(z_e,n);case"sector":return U.createElement(qF,n);case"symbols":if(Y_e(e))return U.createElement(_T,n);break;default:return null}}function X_e(t){return V.isValidElement(t)?t.props:t}function Q_e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?G_e:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=U_e(t,B_e),u;if(V.isValidElement(e))u=V.cloneElement(e,zv(zv({},l),X_e(e)));else if(ut(e))u=e(l);else if(A_e(e)&&!I_e(e)){var c=i(e,l);u=U.createElement(FN,{shapeType:n,elementProps:c})}else{var f=l;u=U.createElement(FN,{shapeType:n,elementProps:f})}return s?U.createElement(Qt,{className:o},u):u}function Ab(t,e){return e!=null&&"trapezoids"in t.props}function Tb(t,e){return e!=null&&"sectors"in t.props}function Vp(t,e){return e!=null&&"points"in t.props}function J_e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Z_e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function eSe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function tSe(t,e){var n;return Ab(t,e)?n=J_e:Tb(t,e)?n=Z_e:Vp(t,e)&&(n=eSe),n}function nSe(t,e){var n;return Ab(t,e)?n="trapezoids":Tb(t,e)?n="sectors":Vp(t,e)&&(n="points"),n}function rSe(t,e){if(Ab(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Tb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Vp(t,e)?e.payload:{}}function iSe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=nSe(n,e),a=rSe(n,e),o=r.filter(function(l,u){var c=vf(a,l),f=n.props[i].filter(function(b){var v=tSe(n,e);return v(b,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return c&&g}),s=r.indexOf(o[o.length-1]);return s}var aSe=Math.ceil,oSe=Math.max;function sSe(t,e,n,r){for(var i=-1,a=oSe(aSe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var lSe=sSe,uSe=M3,zN=1/0,cSe=17976931348623157e292;function fSe(t){if(!t)return t===0?t:0;if(t=uSe(t),t===zN||t===-zN){var e=t<0?-1:1;return e*cSe}return t===t?t:0}var rz=fSe,dSe=lSe,hSe=pb,hw=rz;function pSe(t){return function(e,n,r){return r&&typeof r!="number"&&hSe(e,n,r)&&(n=r=void 0),e=hw(e),n===void 0?(n=e,e=0):n=hw(n),r=r===void 0?e<n?1:-1:hw(r),dSe(e,n,r,t)}}var mSe=pSe,gSe=mSe,ySe=gSe(),vSe=ySe;const Bv=Vt(vSe);function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){iz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iz(t,e,n){return e=bSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bSe(t){var e=xSe(t,"string");return Fp(e)=="symbol"?e:e+""}function xSe(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wSe=["Webkit","Moz","O","ms"],_Se=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=wSe.reduce(function(a,o){return UN(UN({},a),{},iz({},o+r,n))},{});return i[e]=n,i};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){ci(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oz(r.key),r)}}function ESe(t,e,n){return e&&qN(t.prototype,e),n&&qN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ASe(t,e,n){return e=Wv(e),TSe(t,az()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function TSe(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PSe(t)}function PSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function az(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(az=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function CSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cS(t,e)}function ci(t,e,n){return e=oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oz(t){var e=OSe(t,"string");return wf(e)=="symbol"?e:e+""}function OSe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kSe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Th().domain(Bv(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},KN=function(e){return e.changedTouches&&!!e.changedTouches.length},_f=function(t){function e(n){var r;return SSe(this,e),r=ASe(this,e,[n]),ci(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ci(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ci(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),ci(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ci(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ci(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ci(r,"handleSlideDragStart",function(i){var a=KN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return CSe(e,t),ESe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),g=e.getIndexInRange(o,f),b=e.getIndexInRange(o,h);return{startIndex:g-g%l,endIndex:b===c?c:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Lr(a[r],s,r);return ut(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,b=l.onChange,v=r.pageX-a;v>0?v=Math.min(v,u+c-f-s,u+c-f-o):v<0&&(v=Math.max(v,u-o,u-s));var x=this.getIndex({startX:o+v,endX:s+v});(x.startIndex!==h||x.endIndex!==g)&&b&&b(x),this.setState({startX:o+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=KN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,g=c.travellerWidth,b=c.onChange,v=c.gap,x=c.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-a;_>0?_=Math.min(_,f+h-g-u):_<0&&(_=Math.max(_,f-u)),w[o]=u+_;var A=this.getIndex(w),I=A.startIndex,S=A.endIndex,C=function(){var T=x.length-1;return o==="startX"&&(s>l?I%v===0:S%v===0)||s<l&&S===T||o==="endX"&&(s>l?S%v===0:I%v===0)||s>l&&S===T};this.setState(ci(ci({},o,u+_),"brushMoveStartX",r.pageX),function(){b&&C()&&b(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(ci({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=V.Children.only(u);return f?U.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,b=l.data,v=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),_=pw(pw({},ct(this.props,!1)),{},{x:w,y:u,width:c,height:f}),A=g||"Min value: ".concat((a=b[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[x])===null||o===void 0?void 0:o.name);return U.createElement(Qt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,g=5,b={pointerEvents:"none",fill:u};return U.createElement(Qt,{className:"recharts-brush-texts"},U.createElement(vv,Uv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:o+s/2},b),this.getTextOfTick(i)),U.createElement(vv,Uv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:o+s/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,b=h.endX,v=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!Ce(s)||!Ce(l)||!Ce(u)||!Ce(c)||u<=0||c<=0)return null;var A=xt("recharts-brush",a),I=U.Children.count(o)===1,S=_Se("userSelect","none");return U.createElement(Qt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(v||x||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return U.isValidElement(r)?a=U.cloneElement(r,i):ut(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return pw({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?kSe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(V.PureComponent);ci(_f,"displayName","Brush");ci(_f,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ISe=OT;function jSe(t,e){var n;return ISe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var NSe=jSe,DSe=l3,MSe=cl,RSe=NSe,$Se=ri,LSe=pb;function VSe(t,e,n){var r=$Se(t)?DSe:RSe;return n&&LSe(t,e,n)&&(e=void 0),r(t,MSe(e))}var FSe=VSe;const zSe=Vt(FSe);var ro=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},HN=k3;function BSe(t,e,n){e=="__proto__"&&HN?HN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var USe=BSe,WSe=USe,qSe=C3,KSe=cl;function HSe(t,e){var n={};return e=KSe(e),qSe(t,function(r,i,a){WSe(n,i,e(r,i,a))}),n}var GSe=HSe;const YSe=Vt(GSe);function XSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var QSe=XSe,JSe=OT;function ZSe(t,e){var n=!0;return JSe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var eEe=ZSe,tEe=QSe,nEe=eEe,rEe=cl,iEe=ri,aEe=pb;function oEe(t,e,n){var r=iEe(t)?tEe:nEe;return n&&aEe(t,e,n)&&(e=void 0),r(t,rEe(e))}var sEe=oEe;const sz=Vt(sEe);var lEe=["x","y"];function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(this,arguments)}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){uEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uEe(t,e,n){return e=cEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cEe(t){var e=fEe(t,"string");return zp(e)=="symbol"?e:e+""}function fEe(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dEe(t,e){if(t==null)return{};var n=hEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pEe(t,e){var n=t.x,r=t.y,i=dEe(t,lEe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ud(Ud(Ud(Ud(Ud({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function YN(t){return U.createElement(Q_e,fS({shapeType:"rectangle",propTransformer:pEe,activeClassName:"recharts-active-bar"},t))}var mEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ce(r)||jae(r);return a?e(r,i):(a||xu(),n)}},gEe=["value","background"],lz;function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function yEe(t,e){if(t==null)return{};var n=vEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){ks(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cz(r.key),r)}}function xEe(t,e,n){return e&&QN(t.prototype,e),n&&QN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wEe(t,e,n){return e=Kv(e),_Ee(t,uz()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function _Ee(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SEe(t)}function SEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uz=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function EEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dS(t,e)}function ks(t,e,n){return e=cz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cz(t){var e=AEe(t,"string");return Sf(e)=="symbol"?e:e+""}function AEe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mr=function(t){function e(){var n;bEe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=wEe(this,e,[].concat(i)),ks(n,"state",{isAnimationFinished:!1}),ks(n,"id",ed("recharts-bar-")),ks(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ks(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return EEe(e,t),xEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=ct(this.props,!1);return r&&r.map(function(f,h){var g=h===l,b=g?u:o,v=kn(kn(kn({},c),f),{},{isActive:g,option:b,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Qt,qv({className:"recharts-bar-rectangle"},iv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(YN,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return U.createElement(oo,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t,v=a.map(function(x,w){var _=h&&h[w];if(_){var A=ar(_.x,x.x),I=ar(_.y,x.y),S=ar(_.width,x.width),C=ar(_.height,x.height);return kn(kn({},x),{},{x:A(b),y:I(b),width:S(b),height:C(b)})}if(o==="horizontal"){var E=ar(0,x.height),T=E(b);return kn(kn({},x),{},{y:x.y+x.height-T,height:T})}var j=ar(0,x.width),R=j(b);return kn(kn({},x),{},{width:R})});return U.createElement(Qt,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!vf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=ct(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=yEe(u,gEe);if(!f)return null;var g=kn(kn(kn(kn(kn({},h),{},{fill:"#eee"},f),l),iv(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return U.createElement(YN,qv({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Hi(c,Cm);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,g=function(x,w){var _=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:_,errorVal:Lr(x,w)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Qt,b,f.map(function(v){return U.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,g=r.isAnimationActive,b=r.background,v=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=xt("recharts-bar",o),_=s&&s.allowDataOverflow,A=l&&l.allowDataOverflow,I=_||A,S=ht(v)?this.id:v;return U.createElement(Qt,{className:w},_||A?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(S)},U.createElement("rect",{x:_?u:u-f/2,y:A?c:c-h/2,width:_?f:f*2,height:A?h:h*2}))):null,U.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(S,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,S),(!g||x)&&xi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(V.PureComponent);lz=Mr;ks(Mr,"displayName","Bar");ks(Mr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Iu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ks(Mr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,g=exe(r,n);if(!g)return null;var b=e.layout,v=n.type.defaultProps,x=v!==void 0?kn(kn({},v),n.props):n.props,w=x.dataKey,_=x.children,A=x.minPointSize,I=b==="horizontal"?o:a,S=u?I.scale.domain():null,C=lxe({numericAxis:I}),E=Hi(_,Sm),T=f.map(function(j,R){var D,$,L,ne,ae,ce;u?D=txe(u[c+R],S):(D=Lr(j,w),Array.isArray(D)||(D=[C,D]));var de=mEe(A,lz.defaultProps.minPointSize)(D[1],R);if(b==="horizontal"){var Y,re=[o.scale(D[0]),o.scale(D[1])],me=re[0],Ae=re[1];$=Xj({axis:a,ticks:s,bandSize:i,offset:g.offset,entry:j,index:R}),L=(Y=Ae??me)!==null&&Y!==void 0?Y:void 0,ne=g.size;var be=me-Ae;if(ae=Number.isNaN(be)?0:be,ce={x:$,y:o.y,width:ne,height:o.height},Math.abs(de)>0&&Math.abs(ae)<Math.abs(de)){var je=Ea(ae||de)*(Math.abs(de)-Math.abs(ae));L-=je,ae+=je}}else{var We=[a.scale(D[0]),a.scale(D[1])],at=We[0],tt=We[1];if($=at,L=Xj({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:j,index:R}),ne=tt-at,ae=g.size,ce={x:a.x,y:L,width:a.width,height:ae},Math.abs(de)>0&&Math.abs(ne)<Math.abs(de)){var le=Ea(ne||de)*(Math.abs(de)-Math.abs(ne));ne+=le}}return kn(kn(kn({},j),{},{x:$,y:L,width:ne,height:ae,value:u?D:D[1],payload:j,background:ce},E&&E[R]&&E[R].props),{},{tooltipPayload:[BF(n,j)],tooltipPosition:{x:$+ne/2,y:L+ae/2}})});return kn({data:T,layout:b},h)});function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function TEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fz(r.key),r)}}function PEe(t,e,n){return e&&JN(t.prototype,e),n&&JN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){Pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pb(t,e,n){return e=fz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fz(t){var e=CEe(t,"string");return Bp(e)=="symbol"?e:e+""}function CEe(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iP=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!hi(u,Mr);return c.reduce(function(g,b){var v=n[b],x=v.orientation,w=v.domain,_=v.padding,A=_===void 0?{}:_,I=v.mirror,S=v.reversed,C="".concat(x).concat(I?"Mirror":""),E,T,j,R,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var $=w[1]-w[0],L=1/0,ne=v.categoricalDomain.sort(Mae);if(ne.forEach(function(We,at){at>0&&(L=Math.min((We||0)-(ne[at-1]||0),L))}),Number.isFinite(L)){var ae=L/$,ce=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(E=ae*ce/2),v.padding==="no-gap"){var de=vu(e.barCategoryGap,ae*ce),Y=ae*ce/2;E=Y-de-(Y-de)/ce*de}}}i==="xAxis"?T=[r.left+(A.left||0)+(E||0),r.left+r.width-(A.right||0)-(E||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(E||0),r.top+r.height-(A.bottom||0)-(E||0)]:T=v.range,S&&(T=[T[1],T[0]]);var re=Jbe(v,a,h),me=re.scale,Ae=re.realScaleType;me.domain(w).range(T),Zbe(me);var be=sxe(me,ya(ya({},v),{},{realScaleType:Ae}));i==="xAxis"?(D=x==="top"&&!I||x==="bottom"&&I,j=r.left,R=f[C]-D*v.height):i==="yAxis"&&(D=x==="left"&&!I||x==="right"&&I,j=f[C]-D*v.width,R=r.top);var je=ya(ya(ya({},v),be),{},{realScaleType:Ae,x:j,y:R,scale:me,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return je.bandSize=Nv(je,be),!v.hide&&i==="xAxis"?f[C]+=(D?-1:1)*je.height:v.hide||(f[C]+=(D?-1:1)*je.width),ya(ya({},g),{},Pb({},b,je))},{})},dz=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},OEe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return dz({x:n,y:r},{x:i,y:a})},hz=function(){function t(e){TEe(this,t),this.scale=e}return PEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Pb(hz,"EPS",1e-4);var aP=function(e){var n=Object.keys(e).reduce(function(r,i){return ya(ya({},r),{},Pb({},i,hz.create(e[i])))},{});return ya(ya({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return YSe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return sz(i,function(a,o){return n[o].isInRange(a)})}})};function kEe(t){return(t%180+180)%180}var IEe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kEe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},jEe=cl,NEe=_m,DEe=db;function MEe(t){return function(e,n,r){var i=Object(e);if(!NEe(e)){var a=jEe(n);e=DEe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var REe=MEe,$Ee=rz;function LEe(t){var e=$Ee(t),n=e%1;return e===e?n?e-n:e:0}var VEe=LEe,FEe=_3,zEe=cl,BEe=VEe,UEe=Math.max;function WEe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:BEe(n);return i<0&&(i=UEe(r+i,0)),FEe(t,zEe(e),i)}var qEe=WEe,KEe=REe,HEe=qEe,GEe=KEe(HEe),YEe=GEe;const XEe=Vt(YEe);var QEe=Lie(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),oP=V.createContext(void 0),sP=V.createContext(void 0),pz=V.createContext(void 0),mz=V.createContext({}),gz=V.createContext(void 0),yz=V.createContext(0),vz=V.createContext(0),eD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=QEe(a);return U.createElement(oP.Provider,{value:r},U.createElement(sP.Provider,{value:i},U.createElement(mz.Provider,{value:a},U.createElement(pz.Provider,{value:c},U.createElement(gz.Provider,{value:o},U.createElement(yz.Provider,{value:u},U.createElement(vz.Provider,{value:l},s)))))))},JEe=function(){return V.useContext(gz)},bz=function(e){var n=V.useContext(oP);n==null&&xu();var r=n[e];return r==null&&xu(),r},ZEe=function(){var e=V.useContext(oP);return As(e)},eAe=function(){var e=V.useContext(sP),n=XEe(e,function(r){return sz(r.domain,Number.isFinite)});return n||As(e)},xz=function(e){var n=V.useContext(sP);n==null&&xu();var r=n[e];return r==null&&xu(),r},tAe=function(){var e=V.useContext(pz);return e},nAe=function(){return V.useContext(mz)},lP=function(){return V.useContext(vz)},uP=function(){return V.useContext(yz)};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function rAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_z(r.key),r)}}function aAe(t,e,n){return e&&iAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oAe(t,e,n){return e=Hv(e),sAe(t,wz()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function sAe(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lAe(t)}function lAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function uAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hS(t,e)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){cP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cP(t,e,n){return e=_z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _z(t){var e=cAe(t,"string");return Ef(e)=="symbol"?e:e+""}function cAe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fAe(t,e){return mAe(t)||pAe(t,e)||hAe(t,e)||dAe()}function dAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hAe(t,e){if(t){if(typeof t=="string")return rD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rD(t,e)}}function rD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mAe(t){if(Array.isArray(t))return t}function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}var gAe=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):ut(e)?r=e(n):r=U.createElement("line",pS({},n,{className:"recharts-reference-line-line"})),r},yAe=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,g=a.height;if(r){var b=u.y,v=e.y.apply(b,{position:o});if(ro(u,"discard")&&!e.y.isInRange(v))return null;var x=[{x:c+h,y:v},{x:c,y:v}];return l==="left"?x.reverse():x}if(n){var w=u.x,_=e.x.apply(w,{position:o});if(ro(u,"discard")&&!e.x.isInRange(_))return null;var A=[{x:_,y:f+g},{x:_,y:f}];return s==="top"?A.reverse():A}if(i){var I=u.segment,S=I.map(function(C){return e.apply(C,{position:o})});return ro(u,"discard")&&zSe(S,function(C){return!e.isInRange(C)})?null:S}return null};function vAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=JEe(),c=bz(i),f=xz(a),h=tAe();if(!u||!h)return null;Vo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=aP({x:c.scale,y:f.scale}),b=zn(e),v=zn(n),x=r&&r.length===2,w=yAe(g,b,v,x,h,t.position,c.orientation,f.orientation,t);if(!w)return null;var _=fAe(w,2),A=_[0],I=A.x,S=A.y,C=_[1],E=C.x,T=C.y,j=ro(t,"hidden")?"url(#".concat(u,")"):void 0,R=nD(nD({clipPath:j},ct(t,!0)),{},{x1:I,y1:S,x2:E,y2:T});return U.createElement(Qt,{className:xt("recharts-reference-line",s)},gAe(o,R),Er.renderCallByParent(t,OEe({x1:I,y1:S,x2:E,y2:T})))}var Cb=function(t){function e(){return rAe(this,e),oAe(this,e,arguments)}return uAe(e,t),aAe(e,[{key:"render",value:function(){return U.createElement(vAe,this.props)}}])}(U.Component);cP(Cb,"displayName","ReferenceLine");cP(Cb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(this,arguments)}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Ob(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ez(r.key),r)}}function wAe(t,e,n){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ae(t,e,n){return e=Gv(e),SAe(t,Sz()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function SAe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EAe(t)}function EAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sz=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function AAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gS(t,e)}function Ob(t,e,n){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ez(t){var e=TAe(t,"string");return Af(e)=="symbol"?e:e+""}function TAe(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PAe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=aP({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ro(e,"discard")&&!o.isInRange(s)?null:s},kb=function(t){function e(){return bAe(this,e),_Ae(this,e,arguments)}return AAe(e,t),wAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=zn(i),c=zn(a);if(Vo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=PAe(this.props);if(!f)return null;var h=f.x,g=f.y,b=this.props,v=b.shape,x=b.className,w=ro(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=aD(aD({clipPath:w},ct(this.props,!0)),{},{cx:h,cy:g});return U.createElement(Qt,{className:xt("recharts-reference-dot",x)},e.renderDot(v,_),Er.renderCallByParent(this.props,{x:h-o,y:g-o,width:2*o,height:2*o}))}}])}(U.Component);Ob(kb,"displayName","ReferenceDot");Ob(kb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ob(kb,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):ut(t)?n=t(e):n=U.createElement(Eb,mS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){Ib(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tz(r.key),r)}}function kAe(t,e,n){return e&&OAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IAe(t,e,n){return e=Yv(e),jAe(t,Az()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function jAe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NAe(t)}function NAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Az(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function DAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vS(t,e)}function Ib(t,e,n){return e=Tz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tz(t){var e=MAe(t,"string");return Tf(e)=="symbol"?e:e+""}function MAe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RAe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=aP({x:c.scale,y:f.scale}),g={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},b={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ro(a,"discard")&&(!h.isInRange(g)||!h.isInRange(b))?null:dz(g,b)},jb=function(t){function e(){return CAe(this,e),IAe(this,e,arguments)}return DAe(e,t),kAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Vo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=zn(i),h=zn(a),g=zn(o),b=zn(s),v=this.props.shape;if(!f&&!h&&!g&&!b&&!v)return null;var x=RAe(f,h,g,b,this.props);if(!x&&!v)return null;var w=ro(this.props,"hidden")?"url(#".concat(c,")"):void 0;return U.createElement(Qt,{className:xt("recharts-reference-area",l)},e.renderRect(v,sD(sD({clipPath:w},ct(this.props,!0)),x)),Er.renderCallByParent(this.props,x))}}])}(U.Component);Ib(jb,"displayName","ReferenceArea");Ib(jb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ib(jb,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):ut(t)?n=t(e):n=U.createElement(rP,yS({},e,{className:"recharts-reference-area-rect"})),n});function Pz(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function $Ae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return IEe(r,n)}function LAe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Xv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function VAe(t,e){return Pz(t,e+1)}function FAe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:Pz(r,u)};var v=l,x,w=function(){return x===void 0&&(x=n(b,v)),x},_=b.coordinate,A=l===0||Xv(t,_,w,c,s);A||(l=0,c=o,u+=1),A&&(c=_+t*(w()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){zAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zAe(t,e,n){return e=BAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BAe(t){var e=UAe(t,"string");return Up(e)=="symbol"?e:e+""}function UAe(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WAe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var g=a[h],b,v=function(){return b===void 0&&(b=n(g,h)),b};if(h===o-1){var x=t*(g.coordinate+t*v()/2-l);a[h]=g=br(br({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else a[h]=g=br(br({},g),{},{tickCoord:g.coordinate});var w=Xv(t,g.tickCoord,v,s,l);w&&(l=g.tickCoord-t*(v()/2+i),a[h]=br(br({},g),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function qAe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=br(br({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=Xv(t,c.tickCoord,function(){return f},l,u);g&&(u=c.tickCoord-t*(f/2+i),o[s-1]=br(br({},c),{},{isShow:!0}))}for(var b=a?s-1:s,v=function(_){var A=o[_],I,S=function(){return I===void 0&&(I=n(A,_)),I};if(_===0){var C=t*(A.coordinate-t*S()/2-l);o[_]=A=br(br({},A),{},{tickCoord:C<0?A.coordinate-C*t:A.coordinate})}else o[_]=A=br(br({},A),{},{tickCoord:A.coordinate});var E=Xv(t,A.tickCoord,S,l,u);E&&(l=A.tickCoord+t*(S()/2+i),o[_]=br(br({},A),{},{isShow:!0}))},x=0;x<b;x++)v(x);return o}function fP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ce(l)||Iu.isSsr)return VAe(i,typeof l=="number"&&Ce(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",b=c&&g==="width"?Ah(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(A,I){var S=ut(u)?u(A.value,I):A.value;return g==="width"?$Ae(Ah(S,{fontSize:e,letterSpacing:n}),b,f):Ah(S,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?Ea(i[1].coordinate-i[0].coordinate):1,w=LAe(a,x,g);return l==="equidistantPreserveStart"?FAe(x,w,v,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=qAe(x,w,v,i,o,l==="preserveStartEnd"):h=WAe(x,w,v,i,o),h.filter(function(_){return _.isShow}))}var KAe=["viewBox"],HAe=["viewBox"],GAe=["ticks"];function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){dP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mw(t,e){if(t==null)return{};var n=YAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oz(r.key),r)}}function QAe(t,e,n){return e&&cD(t.prototype,e),n&&cD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JAe(t,e,n){return e=Qv(e),ZAe(t,Cz()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function ZAe(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eTe(t)}function eTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function tTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bS(t,e)}function dP(t,e,n){return e=Oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oz(t){var e=nTe(t,"string");return Pf(e)=="symbol"?e:e+""}function nTe(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sd=function(t){function e(n){var r;return XAe(this,e),r=JAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return tTe(e,t),QAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=mw(r,KAe),s=this.props,l=s.viewBox,u=mw(s,HAe);return!Lc(a,l)||!Lc(o,u)||!Lc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,g,b,v,x,w,_,A=f?-1:1,I=r.tickSize||c,S=Ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=b=r.coordinate,x=o+ +!f*l,v=x-A*I,_=v-A*h,w=S;break;case"left":v=x=r.coordinate,b=a+ +!f*s,g=b-A*I,w=g-A*h,_=S;break;case"right":v=x=r.coordinate,b=a+ +f*s,g=b+A*I,w=g+A*h,_=S;break;default:g=b=r.coordinate,x=o+ +f*l,v=x+A*I,_=v+A*h,w=S;break}return{line:{x1:g,y1:v,x2:b,y2:x},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=$n($n($n({},ct(this.props,!1)),ct(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=$n($n({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=$n($n({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+s})}return U.createElement("line",Tc({},f,{className:xt("recharts-cartesian-axis-line",Ki(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,g=fP($n($n({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=ct(this.props,!1),w=ct(c,!1),_=$n($n({},x),{},{fill:"none"},ct(l,!1)),A=g.map(function(I,S){var C=o.getTickLineCoord(I),E=C.line,T=C.tick,j=$n($n($n($n({textAnchor:b,verticalAnchor:v},x),{},{stroke:"none",fill:u},w),T),{},{index:S,payload:I,visibleTicksCount:g.length,tickFormatter:f});return U.createElement(Qt,Tc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},iv(o.props,I,S)),l&&U.createElement("line",Tc({},_,E,{className:xt("recharts-cartesian-axis-tick-line",Ki(l,"className"))})),c&&e.renderTickItem(c,j,"".concat(ut(f)?f(I.value,S):I.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,g=mw(f,GAe),b=h;return ut(l)&&(b=h&&h.length>0?l(this.props):l(g)),o<=0||s<=0||!b||!b.length?null:U.createElement(Qt,{className:xt("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=xt(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?o=U.cloneElement(r,$n($n({},i),{},{className:s})):ut(r)?o=r($n($n({},i),{},{className:s})):o=U.createElement(vv,Tc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(V.Component);dP(sd,"displayName","CartesianAxis");dP(sd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rTe=["x1","y1","x2","y2","key"],iTe=["offset"];function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){aTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aTe(t,e,n){return e=oTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oTe(t){var e=sTe(t,"string");return wu(e)=="symbol"?e:e+""}function sTe(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}function dD(t,e){if(t==null)return{};var n=lTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uTe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return U.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kz(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(ut(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=dD(e,rTe),u=ct(l,!1);u.offset;var c=dD(u,iTe);n=U.createElement("line",Zl({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function cTe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ar(Ar({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return kz(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function fTe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ar(Ar({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return kz(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function dTe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var f=c.map(function(h,g){var b=!c[g+1],v=b?i+o-h:c[g+1]-h;if(v<=0)return null;var x=g%e.length;return U.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:v,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function hTe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==c[0]&&c.unshift(0);var f=c.map(function(h,g){var b=!c[g+1],v=b?a+s-h:c[g+1]-h;if(v<=0)return null;var x=g%r.length;return U.createElement("rect",{key:"react-".concat(g),x:h,y:o,width:v,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var pTe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return FF(fP(Ar(Ar(Ar({},sd.defaultProps),r),{},{ticks:No(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},mTe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return FF(fP(Ar(Ar(Ar({},sd.defaultProps),r),{},{ticks:No(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},tc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Nb(t){var e,n,r,i,a,o,s=lP(),l=uP(),u=nAe(),c=Ar(Ar({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:tc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:tc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:tc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:tc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:tc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:tc.verticalFill,x:Ce(t.x)?t.x:u.left,y:Ce(t.y)?t.y:u.top,width:Ce(t.width)?t.width:u.width,height:Ce(t.height)?t.height:u.height}),f=c.x,h=c.y,g=c.width,b=c.height,v=c.syncWithTicks,x=c.horizontalValues,w=c.verticalValues,_=ZEe(),A=eAe();if(!Ce(g)||g<=0||!Ce(b)||b<=0||!Ce(f)||f!==+f||!Ce(h)||h!==+h)return null;var I=c.verticalCoordinatesGenerator||pTe,S=c.horizontalCoordinatesGenerator||mTe,C=c.horizontalPoints,E=c.verticalPoints;if((!C||!C.length)&&ut(S)){var T=x&&x.length,j=S({yAxis:A?Ar(Ar({},A),{},{ticks:T?x:A.ticks}):void 0,width:s,height:l,offset:u},T?!0:v);Vo(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wu(j),"]")),Array.isArray(j)&&(C=j)}if((!E||!E.length)&&ut(I)){var R=w&&w.length,D=I({xAxis:_?Ar(Ar({},_),{},{ticks:R?w:_.ticks}):void 0,width:s,height:l,offset:u},R?!0:v);Vo(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wu(D),"]")),Array.isArray(D)&&(E=D)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(uTe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),U.createElement(cTe,Zl({},c,{offset:u,horizontalPoints:C,xAxis:_,yAxis:A})),U.createElement(fTe,Zl({},c,{offset:u,verticalPoints:E,xAxis:_,yAxis:A})),U.createElement(dTe,Zl({},c,{horizontalPoints:C})),U.createElement(hTe,Zl({},c,{verticalPoints:E})))}Nb.displayName="CartesianGrid";var gTe=["type","layout","connectNulls","ref"],yTe=["key"];function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function hD(t,e){if(t==null)return{};var n=vTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(this,arguments)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nc(t){return _Te(t)||wTe(t)||xTe(t)||bTe()}function bTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(t,e){if(t){if(typeof t=="string")return xS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(t,e)}}function wTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Te(t){if(Array.isArray(t))return xS(t)}function xS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function STe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jz(r.key),r)}}function ETe(t,e,n){return e&&mD(t.prototype,e),n&&mD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ATe(t,e,n){return e=Jv(e),TTe(t,Iz()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function TTe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PTe(t)}function PTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function CTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(t,e)}function va(t,e,n){return e=jz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jz(t){var e=OTe(t,"string");return Cf(e)=="symbol"?e:e+""}function OTe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Of=function(t){function e(){var n;STe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ATe(this,e,[].concat(i)),va(n,"state",{isAnimationFinished:!0,totalLength:0}),va(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),va(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,h=s-o,g=[],b=0,v=0;b<l.length;v+=l[b],++b)if(v+l[b]>f){g=[].concat(nc(l.slice(0,b)),[f-v]);break}var x=g.length%2===0?[0,h]:[h];return[].concat(nc(e.repeat(l,c)),nc(g),x).map(function(w){return"".concat(w,"px")}).join(", ")}),va(n,"id",ed("recharts-line-")),va(n,"pathRef",function(o){n.mainCurve=o}),va(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),va(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return CTe(e,t),ETe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Hi(c,Cm);if(!f)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Lr(v.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Qt,g,f.map(function(b){return U.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=ct(this.props,!1),h=ct(l,!0),g=u.map(function(v,x){var w=ui(ui(ui({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:c,payload:v.payload,points:u});return e.renderDotItem(l,w)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Qt,Oh({className:"recharts-line-dots",key:"dots"},b),g)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=hD(s,gTe),h=ui(ui(ui({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return U.createElement(zc,Oh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,h=o.animationEasing,g=o.animationId,b=o.animateNewValues,v=o.width,x=o.height,w=this.state,_=w.prevPoints,A=w.totalLength;return U.createElement(oo,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var S=I.t;if(_){var C=_.length/s.length,E=s.map(function($,L){var ne=Math.floor(L*C);if(_[ne]){var ae=_[ne],ce=ar(ae.x,$.x),de=ar(ae.y,$.y);return ui(ui({},$),{},{x:ce(S),y:de(S)})}if(b){var Y=ar(v*2,$.x),re=ar(x/2,$.y);return ui(ui({},$),{},{x:Y(S),y:re(S)})}return ui(ui({},$),{},{x:$.x,y:$.y})});return a.renderCurveStatically(E,r,i)}var T=ar(0,A),j=T(S),R;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});R=a.getStrokeDasharray(j,A,D)}else R=a.generateSimpleStrokeDasharray(A,j);return a.renderCurveStatically(s,r,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!vf(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,g=i.width,b=i.height,v=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var w=this.state.isAnimationFinished,_=s.length===1,A=xt("recharts-line",l),I=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,C=I||S,E=ht(x)?this.id:x,T=(r=ct(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=T.r,R=j===void 0?3:j,D=T.strokeWidth,$=D===void 0?2:D,L=N5(o)?o:{},ne=L.clipDot,ae=ne===void 0?!0:ne,ce=R*2+$;return U.createElement(Qt,{className:A},I||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(E)},U.createElement("rect",{x:I?h:h-g/2,y:S?f:f-b/2,width:I?g:g*2,height:S?b:b*2})),!ae&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:h-ce/2,y:f-ce/2,width:g+ce,height:b+ce}))):null,!_&&this.renderCurve(C,E),this.renderErrorBar(C,E),(_||o)&&this.renderDots(C,ae,E),(!v||w)&&xi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(nc(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(nc(o),nc(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(U.isValidElement(r))a=U.cloneElement(r,i);else if(ut(r))a=r(i);else{var o=i.key,s=hD(i,yTe),l=xt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=U.createElement(Eb,Oh({key:o},s,{className:l}))}return a}}])}(V.PureComponent);va(Of,"displayName","Line");va(Of,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Iu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});va(Of,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,g){var b=Lr(h,o);return c==="horizontal"?{x:jv({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:ht(b)?null:r.scale(b),value:b,payload:h}:{x:ht(b)?null:n.scale(b),y:jv({axis:r,ticks:a,bandSize:s,entry:h,index:g}),value:b,payload:h}});return ui({points:f,layout:c},u)});var kTe=["layout","type","stroke","connectNulls","isRange","ref"],ITe=["key"],Nz;function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Dz(t,e){if(t==null)return{};var n=jTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){Ha(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rz(r.key),r)}}function DTe(t,e,n){return e&&yD(t.prototype,e),n&&yD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MTe(t,e,n){return e=Zv(e),RTe(t,Mz()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function RTe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Te(t)}function $Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mz=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function LTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}function _S(t,e){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_S(t,e)}function Ha(t,e,n){return e=Rz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rz(t){var e=VTe(t,"string");return kf(e)=="symbol"?e:e+""}function VTe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pl=function(t){function e(){var n;NTe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=MTe(this,e,[].concat(i)),Ha(n,"state",{isAnimationFinished:!0}),Ha(n,"id",ed("recharts-area-")),Ha(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ut(o)&&o()}),Ha(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ut(o)&&o()}),n}return LTe(e,t),DTe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=ct(this.props,!1),g=ct(u,!0),b=c.map(function(x,w){var _=bs(bs(bs({key:"dot-".concat(w),r:3},h),g),{},{index:w,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:c});return e.renderDotItem(u,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Qt,eu({className:"recharts-area-dots"},v),b)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,c=r*Math.abs(l-u),f=Os(o.map(function(h){return h.y||0}));return Ce(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Os(a.map(function(h){return h.y||0})),f)),Ce(f)?U.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,c=r*Math.abs(l-u),f=Os(o.map(function(h){return h.x||0}));return Ce(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Os(a.map(function(h){return h.x||0})),f)),Ce(f)?U.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var g=Dz(s,kTe);return U.createElement(Qt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},U.createElement(zc,eu({},ct(g,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&U.createElement(zc,eu({},ct(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&U.createElement(zc,eu({},ct(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,h=o.animationEasing,g=o.animationId,b=this.state,v=b.prevPoints,x=b.prevBaseLine;return U.createElement(oo,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(v){var A=v.length/s.length,I=s.map(function(T,j){var R=Math.floor(j*A);if(v[R]){var D=v[R],$=ar(D.x,T.x),L=ar(D.y,T.y);return bs(bs({},T),{},{x:$(_),y:L(_)})}return T}),S;if(Ce(l)&&typeof l=="number"){var C=ar(x,l);S=C(_)}else if(ht(l)||Zf(l)){var E=ar(x,0);S=E(_)}else S=l.map(function(T,j){var R=Math.floor(j*A);if(x[R]){var D=x[R],$=ar(D.x,T.x),L=ar(D.y,T.y);return bs(bs({},T),{},{x:$(_),y:L(_)})}return T});return a.renderAreaStatically(I,S,r,i)}return U.createElement(Qt,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(_))),U.createElement(Qt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!c&&h>0||!vf(c,o)||!vf(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,g=i.width,b=i.height,v=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var w=this.state.isAnimationFinished,_=s.length===1,A=xt("recharts-area",l),I=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,C=I||S,E=ht(x)?this.id:x,T=(r=ct(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=T.r,R=j===void 0?3:j,D=T.strokeWidth,$=D===void 0?2:D,L=N5(o)?o:{},ne=L.clipDot,ae=ne===void 0?!0:ne,ce=R*2+$;return U.createElement(Qt,{className:A},I||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(E)},U.createElement("rect",{x:I?c:c-g/2,y:S?u:u-b/2,width:I?g:g*2,height:S?b:b*2})),!ae&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:c-ce/2,y:u-ce/2,width:g+ce,height:b+ce}))):null,_?null:this.renderArea(C,E),(o||_)&&this.renderDots(C,ae,E),(!v||w)&&xi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(V.PureComponent);Nz=pl;Ha(pl,"displayName","Area");Ha(pl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Iu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ha(pl,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(Ce(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Ha(pl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,g=e.layout,b=u&&u.length,v=Nz.getBaseValue(e,n,r,i),x=g==="horizontal",w=!1,_=f.map(function(I,S){var C;b?C=u[c+S]:(C=Lr(I,l),Array.isArray(C)?w=!0:C=[v,C]);var E=C[1]==null||b&&Lr(I,l)==null;return x?{x:jv({axis:r,ticks:a,bandSize:s,entry:I,index:S}),y:E?null:i.scale(C[1]),value:C,payload:I}:{x:E?null:r.scale(C[1]),y:jv({axis:i,ticks:o,bandSize:s,entry:I,index:S}),value:C,payload:I}}),A;return b||w?A=_.map(function(I){var S=Array.isArray(I.value)?I.value[0]:null;return x?{x:I.x,y:S!=null&&I.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:I.y}}):A=x?i.scale(v):r.scale(v),bs({points:_,baseLine:A,layout:g,isRange:w},h)});Ha(pl,"renderDotItem",function(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(ut(t))n=t(e);else{var r=xt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Dz(e,ITe);n=U.createElement(Eb,eu({},a,{key:i,className:r}))}return n});function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function FTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vz(r.key),r)}}function BTe(t,e,n){return e&&zTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UTe(t,e,n){return e=e0(e),WTe(t,$z()?Reflect.construct(e,n||[],e0(t).constructor):e.apply(t,n))}function WTe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qTe(t)}function qTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(t)}function KTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SS(t,e)}function SS(t,e){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SS(t,e)}function Lz(t,e,n){return e=Vz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vz(t){var e=HTe(t,"string");return If(e)=="symbol"?e:e+""}function HTe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}function GTe(t){var e=t.xAxisId,n=lP(),r=uP(),i=bz(e);return i==null?null:V.createElement(sd,ES({},i,{className:xt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return No(o,!0)}}))}var Tr=function(t){function e(){return FTe(this,e),UTe(this,e,arguments)}return KTe(e,t),BTe(e,[{key:"render",value:function(){return V.createElement(GTe,this.props)}}])}(V.Component);Lz(Tr,"displayName","XAxis");Lz(Tr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function YTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bz(r.key),r)}}function QTe(t,e,n){return e&&XTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JTe(t,e,n){return e=t0(e),ZTe(t,Fz()?Reflect.construct(e,n||[],t0(t).constructor):e.apply(t,n))}function ZTe(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ePe(t)}function ePe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}function tPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AS(t,e)}function zz(t,e,n){return e=Bz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bz(t){var e=nPe(t,"string");return jf(e)=="symbol"?e:e+""}function nPe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}var rPe=function(e){var n=e.yAxisId,r=lP(),i=uP(),a=xz(n);return a==null?null:V.createElement(sd,TS({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return No(s,!0)}}))},Pr=function(t){function e(){return YTe(this,e),JTe(this,e,arguments)}return tPe(e,t),QTe(e,[{key:"render",value:function(){return V.createElement(rPe,this.props)}}])}(V.Component);zz(Pr,"displayName","YAxis");zz(Pr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vD(t){return sPe(t)||oPe(t)||aPe(t)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aPe(t,e){if(t){if(typeof t=="string")return PS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(t,e)}}function oPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sPe(t){if(Array.isArray(t))return PS(t)}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var CS=function(e,n,r,i,a){var o=Hi(e,Cb),s=Hi(e,kb),l=[].concat(vD(o),vD(s)),u=Hi(e,jb),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(v,x){if(x.props[c]===r&&ro(x.props,"extendDomain")&&Ce(x.props[f])){var w=x.props[f];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},h)),u.length){var g="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(v,x){if(x.props[c]===r&&ro(x.props,"extendDomain")&&Ce(x.props[g])&&Ce(x.props[b])){var w=x.props[g],_=x.props[b];return[Math.min(v[0],w,_),Math.max(v[1],w,_)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,x){return Ce(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},Uz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,f||l,h),b=n?n+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],g]:l._events[b].push(g):(l._events[b]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,b=new Array(g);h<g;h++)b[h]=f[h].fn;return b},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,g,b){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],w=arguments.length,_,A;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,g),!0;case 6:return x.fn.call(x.context,c,f,h,g,b),!0}for(A=1,_=new Array(w-1);A<w;A++)_[A-1]=arguments[A];x.fn.apply(x.context,_)}else{var I=x.length,S;for(A=0;A<I;A++)switch(x[A].once&&this.removeListener(u,x[A].fn,void 0,!0),w){case 1:x[A].fn.call(x[A].context);break;case 2:x[A].fn.call(x[A].context,c);break;case 3:x[A].fn.call(x[A].context,c,f);break;case 4:x[A].fn.call(x[A].context,c,f,h);break;default:if(!_)for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];x[A].fn.apply(x[A].context,_)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===c&&(!h||b.once)&&(!f||b.context===f)&&o(this,g);else{for(var v=0,x=[],w=b.length;v<w;v++)(b[v].fn!==c||h&&!b[v].once||f&&b[v].context!==f)&&x.push(b[v]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(Uz);var lPe=Uz.exports;const uPe=Vt(lPe);var gw=new uPe,yw="recharts.syncMouseEvents";function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function cPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wz(r.key),r)}}function dPe(t,e,n){return e&&fPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vw(t,e,n){return e=Wz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wz(t){var e=hPe(t,"string");return Wp(e)=="symbol"?e:e+""}function hPe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pPe=function(){function t(){cPe(this,t),vw(this,"activeIndex",0),vw(this,"coordinateList",[]),vw(this,"layout","horizontal")}return dPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function mPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ce(r)&&Ce(i))return!0}return!1}function gPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qz(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=lr(e,n,r,i),s=lr(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function yPe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=lr(s,l,u,f),g=lr(s,l,c,f);r=h.x,i=h.y,a=g.x,o=g.y}else return qz(e);return[{x:r,y:i},{x:a,y:o}]}function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){vPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vPe(t,e,n){return e=bPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bPe(t){var e=xPe(t,"string");return qp(e)=="symbol"?e:e+""}function xPe(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wPe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var b,v=zc;if(h==="ScatterChart")b=o,v=f_e;else if(h==="BarChart")b=gPe(f,o,l,c),v=rP;else if(f==="radial"){var x=qz(o),w=x.cx,_=x.cy,A=x.radius,I=x.startAngle,S=x.endAngle;b={cx:w,cy:_,startAngle:I,endAngle:S,innerRadius:A,outerRadius:A},v=qF}else b={points:yPe(f,o,l)},v=zc;var C=jg(jg(jg(jg({stroke:"#ccc",pointerEvents:"none"},l),b),ct(g,!1)),{},{payload:s,payloadIndex:u,className:xt("recharts-tooltip-cursor",g.className)});return V.isValidElement(g)?V.cloneElement(g,C):V.createElement(v,C)}var _Pe=["item"],SPe=["children","className","width","height","style","compact","title","desc"];function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}function xD(t,e){return TPe(t)||APe(t,e)||Hz(t,e)||EPe()}function EPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function APe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function TPe(t){if(Array.isArray(t))return t}function wD(t,e){if(t==null)return{};var n=PPe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gz(r.key),r)}}function kPe(t,e,n){return e&&OPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IPe(t,e,n){return e=n0(e),jPe(t,Kz()?Reflect.construct(e,n||[],n0(t).constructor):e.apply(t,n))}function jPe(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NPe(t)}function NPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(t)}function DPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OS(t,e)}function Df(t){return $Pe(t)||RPe(t)||Hz(t)||MPe()}function MPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function RPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Pe(t){if(Array.isArray(t))return kS(t)}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){He(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function He(t,e,n){return e=Gz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gz(t){var e=LPe(t,"string");return Nf(e)=="symbol"?e:e+""}function LPe(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VPe={xAxis:["bottom","top"],yAxis:["left","right"]},FPe={width:"100%",height:"100%"},Yz={x:0,y:0};function Ng(t){return t}var zPe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},BPe=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return ge(ge(ge({},i),lr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return ge(ge(ge({},i),lr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Yz},Db=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Df(s),Df(u)):s},[]);return o.length>0?o:e&&e.length&&Ce(i)&&Ce(a)?e.slice(i,a+1):[]};function Xz(t){return t==="number"?[0,"auto"]:void 0}var IS=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Db(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?s:f;h=nv(g,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Df(l),[BF(u,h)]):l},[])},SD=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=zPe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Kbe(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=IS(e,n,c,f),g=BPe(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},UPe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,g=VF(c,a);return r.reduce(function(b,v){var x,w=v.type.defaultProps!==void 0?ge(ge({},v.type.defaultProps),v.props):v.props,_=w.type,A=w.dataKey,I=w.allowDataOverflow,S=w.allowDuplicatedCategory,C=w.scale,E=w.ticks,T=w.includeHidden,j=w[o];if(b[j])return b;var R=Db(e.data,{graphicalItems:i.filter(function(be){var je,We=o in be.props?be.props[o]:(je=be.type.defaultProps)===null||je===void 0?void 0:je[o];return We===j}),dataStartIndex:l,dataEndIndex:u}),D=R.length,$,L,ne;mPe(w.domain,I,_)&&($=G_(w.domain,null,I),g&&(_==="number"||C!=="auto")&&(ne=Ph(R,A,"category")));var ae=Xz(_);if(!$||$.length===0){var ce,de=(ce=w.domain)!==null&&ce!==void 0?ce:ae;if(A){if($=Ph(R,A,_),_==="category"&&g){var Y=Dae($);S&&Y?(L=$,$=Bv(0,D)):S||($=Zj(de,$,v).reduce(function(be,je){return be.indexOf(je)>=0?be:[].concat(Df(be),[je])},[]))}else if(_==="category")S?$=$.filter(function(be){return be!==""&&!ht(be)}):$=Zj(de,$,v).reduce(function(be,je){return be.indexOf(je)>=0||je===""||ht(je)?be:[].concat(Df(be),[je])},[]);else if(_==="number"){var re=Qbe(R,i.filter(function(be){var je,We,at=o in be.props?be.props[o]:(je=be.type.defaultProps)===null||je===void 0?void 0:je[o],tt="hide"in be.props?be.props.hide:(We=be.type.defaultProps)===null||We===void 0?void 0:We.hide;return at===j&&(T||!tt)}),A,a,c);re&&($=re)}g&&(_==="number"||C!=="auto")&&(ne=Ph(R,A,"category"))}else g?$=Bv(0,D):s&&s[j]&&s[j].hasStack&&_==="number"?$=h==="expand"?[0,1]:zF(s[j].stackGroups,l,u):$=LF(R,i.filter(function(be){var je=o in be.props?be.props[o]:be.type.defaultProps[o],We="hide"in be.props?be.props.hide:be.type.defaultProps.hide;return je===j&&(T||!We)}),_,c,!0);if(_==="number")$=CS(f,$,j,a,E),de&&($=G_(de,$,I));else if(_==="category"&&de){var me=de,Ae=$.every(function(be){return me.indexOf(be)>=0});Ae&&($=me)}}return ge(ge({},b),{},He({},j,ge(ge({},w),{},{axisType:a,domain:$,categoricalDomain:ne,duplicateDomain:L,originalDomain:(x=w.domain)!==null&&x!==void 0?x:ae,isCategorical:g,layout:c})))},{})},WPe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Db(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,b=VF(c,a),v=-1;return r.reduce(function(x,w){var _=w.type.defaultProps!==void 0?ge(ge({},w.type.defaultProps),w.props):w.props,A=_[o],I=Xz("number");if(!x[A]){v++;var S;return b?S=Bv(0,g):s&&s[A]&&s[A].hasStack?(S=zF(s[A].stackGroups,l,u),S=CS(f,S,A,a)):(S=G_(I,LF(h,r.filter(function(C){var E,T,j=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],R="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return j===A&&!R}),"number",c),i.defaultProps.allowDataOverflow),S=CS(f,S,A,a)),ge(ge({},x),{},He({},A,ge(ge({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ki(VPe,"".concat(a,".").concat(v%2),null),domain:S,originalDomain:I,isCategorical:b,layout:c})))}return x},{})},qPe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Hi(c,a),g={};return h&&h.length?g=UPe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(g=WPe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},KPe=function(e){var n=As(e),r=No(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:kT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Nv(n,r)}},ED=function(e){var n=e.children,r=e.defaultShowTooltip,i=hi(n,_f),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},HPe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Lo(n&&n.type);return r&&r.indexOf("Bar")>=0})},AD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},GPe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},g=hi(f,_f),b=hi(f,ou),v=Object.keys(l).reduce(function(S,C){var E=l[C],T=E.orientation;return!E.mirror&&!E.hide?ge(ge({},S),{},He({},T,S[T]+E.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(S,C){var E=o[C],T=E.orientation;return!E.mirror&&!E.hide?ge(ge({},S),{},He({},T,Ki(S,"".concat(T))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=ge(ge({},x),v),_=w.bottom;g&&(w.bottom+=g.props.height||_f.defaultProps.height),b&&n&&(w=Ybe(w,i,r,n));var A=u-w.left-w.right,I=c-w.top-w.bottom;return ge(ge({brushBottom:_},w),{},{width:Math.max(A,0),height:Math.max(I,0)})},YPe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},hP=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(w,_){var A=_.graphicalItems,I=_.stackGroups,S=_.offset,C=_.updateId,E=_.dataStartIndex,T=_.dataEndIndex,j=w.barSize,R=w.layout,D=w.barGap,$=w.barCategoryGap,L=w.maxBarSize,ne=AD(R),ae=ne.numericAxisName,ce=ne.cateAxisName,de=HPe(A),Y=[];return A.forEach(function(re,me){var Ae=Db(w.data,{graphicalItems:[re],dataStartIndex:E,dataEndIndex:T}),be=re.type.defaultProps!==void 0?ge(ge({},re.type.defaultProps),re.props):re.props,je=be.dataKey,We=be.maxBarSize,at=be["".concat(ae,"Id")],tt=be["".concat(ce,"Id")],le={},Se=l.reduce(function(nt,Ft){var An=_["".concat(Ft.axisType,"Map")],ii=be["".concat(Ft.axisType,"Id")];An&&An[ii]||Ft.axisType==="zAxis"||xu();var qn=An[ii];return ge(ge({},nt),{},He(He({},Ft.axisType,qn),"".concat(Ft.axisType,"Ticks"),No(qn)))},le),X=Se[ce],Ie=Se["".concat(ce,"Ticks")],De=I&&I[at]&&I[at].hasStack&&uxe(re,I[at].stackGroups),se=Lo(re.type).indexOf("Bar")>=0,Ke=Nv(X,Ie),we=[],ot=de&&Hbe({barSize:j,stackGroups:I,totalSize:YPe(Se,ce)});if(se){var ft,Kt,Zn=ht(We)?L:We,It=(ft=(Kt=Nv(X,Ie,!0))!==null&&Kt!==void 0?Kt:Zn)!==null&&ft!==void 0?ft:0;we=Gbe({barGap:D,barCategoryGap:$,bandSize:It!==Ke?It:Ke,sizeList:ot[tt],maxBarSize:Zn}),It!==Ke&&(we=we.map(function(nt){return ge(ge({},nt),{},{position:ge(ge({},nt.position),{},{offset:nt.position.offset-It/2})})}))}var Rt=re&&re.type&&re.type.getComposedData;Rt&&Y.push({props:ge(ge({},Rt(ge(ge({},Se),{},{displayedData:Ae,props:w,dataKey:je,item:re,bandSize:Ke,barPosition:we,offset:S,stackedData:De,layout:R,dataStartIndex:E,dataEndIndex:T}))),{},He(He(He({key:re.key||"item-".concat(me)},ae,Se[ae]),ce,Se[ce]),"animationId",C)),childIndex:Kae(re,w.children),item:re})}),Y},g=function(w,_){var A=w.props,I=w.dataStartIndex,S=w.dataEndIndex,C=w.updateId;if(!Hk({props:A}))return null;var E=A.children,T=A.layout,j=A.stackOffset,R=A.data,D=A.reverseStackOrder,$=AD(T),L=$.numericAxisName,ne=$.cateAxisName,ae=Hi(E,r),ce=oxe(R,ae,"".concat(L,"Id"),"".concat(ne,"Id"),j,D),de=l.reduce(function(be,je){var We="".concat(je.axisType,"Map");return ge(ge({},be),{},He({},We,qPe(A,ge(ge({},je),{},{graphicalItems:ae,stackGroups:je.axisType===L&&ce,dataStartIndex:I,dataEndIndex:S}))))},{}),Y=GPe(ge(ge({},de),{},{props:A,graphicalItems:ae}),_==null?void 0:_.legendBBox);Object.keys(de).forEach(function(be){de[be]=c(A,de[be],Y,be.replace("Map",""),n)});var re=de["".concat(ne,"Map")],me=KPe(re),Ae=h(A,ge(ge({},de),{},{dataStartIndex:I,dataEndIndex:S,updateId:C,graphicalItems:ae,stackGroups:ce,offset:Y}));return ge(ge({formattedGraphicalItems:Ae,graphicalItems:ae,offset:Y,stackGroups:ce},me),de)},b=function(x){function w(_){var A,I,S;return CPe(this,w),S=IPe(this,w,[_]),He(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(S,"accessibilityManager",new pPe),He(S,"handleLegendBBoxUpdate",function(C){if(C){var E=S.state,T=E.dataStartIndex,j=E.dataEndIndex,R=E.updateId;S.setState(ge({legendBBox:C},g({props:S.props,dataStartIndex:T,dataEndIndex:j,updateId:R},ge(ge({},S.state),{},{legendBBox:C}))))}}),He(S,"handleReceiveSyncEvent",function(C,E,T){if(S.props.syncId===C){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),He(S,"handleBrushChange",function(C){var E=C.startIndex,T=C.endIndex;if(E!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var j=S.state.updateId;S.setState(function(){return ge({dataStartIndex:E,dataEndIndex:T},g({props:S.props,dataStartIndex:E,dataEndIndex:T,updateId:j},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),He(S,"handleMouseEnter",function(C){var E=S.getMouseInfo(C);if(E){var T=ge(ge({},E),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var j=S.props.onMouseEnter;ut(j)&&j(T,C)}}),He(S,"triggeredAfterMouseMove",function(C){var E=S.getMouseInfo(C),T=E?ge(ge({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var j=S.props.onMouseMove;ut(j)&&j(T,C)}),He(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),He(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),He(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),He(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var T=S.props.onMouseLeave;ut(T)&&T(E,C)}),He(S,"handleOuterEvent",function(C){var E=qae(C),T=Ki(S.props,"".concat(E));if(E&&ut(T)){var j,R;/.*touch.*/i.test(E)?R=S.getMouseInfo(C.changedTouches[0]):R=S.getMouseInfo(C),T((j=R)!==null&&j!==void 0?j:{},C)}}),He(S,"handleClick",function(C){var E=S.getMouseInfo(C);if(E){var T=ge(ge({},E),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var j=S.props.onClick;ut(j)&&j(T,C)}}),He(S,"handleMouseDown",function(C){var E=S.props.onMouseDown;if(ut(E)){var T=S.getMouseInfo(C);E(T,C)}}),He(S,"handleMouseUp",function(C){var E=S.props.onMouseUp;if(ut(E)){var T=S.getMouseInfo(C);E(T,C)}}),He(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),He(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),He(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),He(S,"handleDoubleClick",function(C){var E=S.props.onDoubleClick;if(ut(E)){var T=S.getMouseInfo(C);E(T,C)}}),He(S,"handleContextMenu",function(C){var E=S.props.onContextMenu;if(ut(E)){var T=S.getMouseInfo(C);E(T,C)}}),He(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&gw.emit(yw,S.props.syncId,C,S.eventEmitterSymbol)}),He(S,"applySyncEvent",function(C){var E=S.props,T=E.layout,j=E.syncMethod,R=S.state.updateId,D=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(ge({dataStartIndex:D,dataEndIndex:$},g({props:S.props,dataStartIndex:D,dataEndIndex:$,updateId:R},S.state)));else if(C.activeTooltipIndex!==void 0){var L=C.chartX,ne=C.chartY,ae=C.activeTooltipIndex,ce=S.state,de=ce.offset,Y=ce.tooltipTicks;if(!de)return;if(typeof j=="function")ae=j(Y,C);else if(j==="value"){ae=-1;for(var re=0;re<Y.length;re++)if(Y[re].value===C.activeLabel){ae=re;break}}var me=ge(ge({},de),{},{x:de.left,y:de.top}),Ae=Math.min(L,me.x+me.width),be=Math.min(ne,me.y+me.height),je=Y[ae]&&Y[ae].value,We=IS(S.state,S.props.data,ae),at=Y[ae]?{x:T==="horizontal"?Y[ae].coordinate:Ae,y:T==="horizontal"?be:Y[ae].coordinate}:Yz;S.setState(ge(ge({},C),{},{activeLabel:je,activeCoordinate:at,activePayload:We,activeTooltipIndex:ae}))}else S.setState(C)}),He(S,"renderCursor",function(C){var E,T=S.state,j=T.isTooltipActive,R=T.activeCoordinate,D=T.activePayload,$=T.offset,L=T.activeTooltipIndex,ne=T.tooltipAxisBandSize,ae=S.getTooltipEventType(),ce=(E=C.props.active)!==null&&E!==void 0?E:j,de=S.props.layout,Y=C.key||"_recharts-cursor";return U.createElement(wPe,{key:Y,activeCoordinate:R,activePayload:D,activeTooltipIndex:L,chartName:n,element:C,isActive:ce,layout:de,offset:$,tooltipAxisBandSize:ne,tooltipEventType:ae})}),He(S,"renderPolarAxis",function(C,E,T){var j=Ki(C,"type.axisType"),R=Ki(S.state,"".concat(j,"Map")),D=C.type.defaultProps,$=D!==void 0?ge(ge({},D),C.props):C.props,L=R&&R[$["".concat(j,"Id")]];return V.cloneElement(C,ge(ge({},L),{},{className:xt(j,L.className),key:C.key||"".concat(E,"-").concat(T),ticks:No(L,!0)}))}),He(S,"renderPolarGrid",function(C){var E=C.props,T=E.radialLines,j=E.polarAngles,R=E.polarRadius,D=S.state,$=D.radiusAxisMap,L=D.angleAxisMap,ne=As($),ae=As(L),ce=ae.cx,de=ae.cy,Y=ae.innerRadius,re=ae.outerRadius;return V.cloneElement(C,{polarAngles:Array.isArray(j)?j:No(ae,!0).map(function(me){return me.coordinate}),polarRadius:Array.isArray(R)?R:No(ne,!0).map(function(me){return me.coordinate}),cx:ce,cy:de,innerRadius:Y,outerRadius:re,key:C.key||"polar-grid",radialLines:T})}),He(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,E=S.props,T=E.children,j=E.width,R=E.height,D=S.props.margin||{},$=j-(D.left||0)-(D.right||0),L=RF({children:T,formattedGraphicalItems:C,legendWidth:$,legendContent:u});if(!L)return null;var ne=L.item,ae=wD(L,_Pe);return V.cloneElement(ne,ge(ge({},ae),{},{chartWidth:j,chartHeight:R,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),He(S,"renderTooltip",function(){var C,E=S.props,T=E.children,j=E.accessibilityLayer,R=hi(T,In);if(!R)return null;var D=S.state,$=D.isTooltipActive,L=D.activeCoordinate,ne=D.activePayload,ae=D.activeLabel,ce=D.offset,de=(C=R.props.active)!==null&&C!==void 0?C:$;return V.cloneElement(R,{viewBox:ge(ge({},ce),{},{x:ce.left,y:ce.top}),active:de,label:ae,payload:de?ne:[],coordinate:L,accessibilityLayer:j})}),He(S,"renderBrush",function(C){var E=S.props,T=E.margin,j=E.data,R=S.state,D=R.offset,$=R.dataStartIndex,L=R.dataEndIndex,ne=R.updateId;return V.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Cg(S.handleBrushChange,C.props.onChange),data:j,x:Ce(C.props.x)?C.props.x:D.left,y:Ce(C.props.y)?C.props.y:D.top+D.height+D.brushBottom-(T.bottom||0),width:Ce(C.props.width)?C.props.width:D.width,startIndex:$,endIndex:L,updateId:"brush-".concat(ne)})}),He(S,"renderReferenceElement",function(C,E,T){if(!C)return null;var j=S,R=j.clipPathId,D=S.state,$=D.xAxisMap,L=D.yAxisMap,ne=D.offset,ae=C.type.defaultProps||{},ce=C.props,de=ce.xAxisId,Y=de===void 0?ae.xAxisId:de,re=ce.yAxisId,me=re===void 0?ae.yAxisId:re;return V.cloneElement(C,{key:C.key||"".concat(E,"-").concat(T),xAxis:$[Y],yAxis:L[me],viewBox:{x:ne.left,y:ne.top,width:ne.width,height:ne.height},clipPathId:R})}),He(S,"renderActivePoints",function(C){var E=C.item,T=C.activePoint,j=C.basePoint,R=C.childIndex,D=C.isRange,$=[],L=E.props.key,ne=E.item.type.defaultProps!==void 0?ge(ge({},E.item.type.defaultProps),E.item.props):E.item.props,ae=ne.activeDot,ce=ne.dataKey,de=ge(ge({index:R,dataKey:ce,cx:T.x,cy:T.y,r:4,fill:nP(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ct(ae,!1)),rv(ae));return $.push(w.renderActiveDot(ae,de,"".concat(L,"-activePoint-").concat(R))),j?$.push(w.renderActiveDot(ae,ge(ge({},de),{},{cx:j.x,cy:j.y}),"".concat(L,"-basePoint-").concat(R))):D&&$.push(null),$}),He(S,"renderGraphicChild",function(C,E,T){var j=S.filterFormatItem(C,E,T);if(!j)return null;var R=S.getTooltipEventType(),D=S.state,$=D.isTooltipActive,L=D.tooltipAxis,ne=D.activeTooltipIndex,ae=D.activeLabel,ce=S.props.children,de=hi(ce,In),Y=j.props,re=Y.points,me=Y.isRange,Ae=Y.baseLine,be=j.item.type.defaultProps!==void 0?ge(ge({},j.item.type.defaultProps),j.item.props):j.item.props,je=be.activeDot,We=be.hide,at=be.activeBar,tt=be.activeShape,le=!!(!We&&$&&de&&(je||at||tt)),Se={};R!=="axis"&&de&&de.props.trigger==="click"?Se={onClick:Cg(S.handleItemMouseEnter,C.props.onClick)}:R!=="axis"&&(Se={onMouseLeave:Cg(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Cg(S.handleItemMouseEnter,C.props.onMouseEnter)});var X=V.cloneElement(C,ge(ge({},j.props),Se));function Ie(Ft){return typeof L.dataKey=="function"?L.dataKey(Ft.payload):null}if(le)if(ne>=0){var De,se;if(L.dataKey&&!L.allowDuplicatedCategory){var Ke=typeof L.dataKey=="function"?Ie:"payload.".concat(L.dataKey.toString());De=nv(re,Ke,ae),se=me&&Ae&&nv(Ae,Ke,ae)}else De=re==null?void 0:re[ne],se=me&&Ae&&Ae[ne];if(tt||at){var we=C.props.activeIndex!==void 0?C.props.activeIndex:ne;return[V.cloneElement(C,ge(ge(ge({},j.props),Se),{},{activeIndex:we})),null,null]}if(!ht(De))return[X].concat(Df(S.renderActivePoints({item:j,activePoint:De,basePoint:se,childIndex:ne,isRange:me})))}else{var ot,ft=(ot=S.getItemByXY(S.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:X},Kt=ft.graphicalItem,Zn=Kt.item,It=Zn===void 0?C:Zn,Rt=Kt.childIndex,nt=ge(ge(ge({},j.props),Se),{},{activeIndex:Rt});return[V.cloneElement(It,nt),null,null]}return me?[X,null,null]:[X,null]}),He(S,"renderCustomized",function(C,E,T){return V.cloneElement(C,ge(ge({key:"recharts-customized-".concat(T)},S.props),S.state))}),He(S,"renderMap",{CartesianGrid:{handler:Ng,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Ng},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Ng},YAxis:{handler:Ng},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((A=_.id)!==null&&A!==void 0?A:ed("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=R3(S.triggeredAfterMouseMove,(I=_.throttleDelay)!==null&&I!==void 0?I:1e3/60),S.state={},S}return DPe(w,x),kPe(w,[{key:"componentDidMount",value:function(){var A,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,I=A.children,S=A.data,C=A.height,E=A.layout,T=hi(I,In);if(T){var j=T.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,D=IS(this.state,S,j,R),$=this.state.tooltipTicks[j].coordinate,L=(this.state.offset.top+C)/2,ne=E==="horizontal",ae=ne?{x:$,y:L}:{y:$,x:L},ce=this.state.formattedGraphicalItems.find(function(Y){var re=Y.item;return re.type.name==="Scatter"});ce&&(ae=ge(ge({},ae),ce.props.points[j].tooltipPosition),D=ce.props.points[j].tooltipPayload);var de={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:R,activePayload:D,activeCoordinate:ae};this.setState(de),this.renderCursor(T),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(A){u_([hi(A.children,In)],[hi(this.props.children,In)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=hi(this.props.children,In);if(A&&typeof A.props.shared=="boolean"){var I=A.props.shared?"axis":"item";return s.indexOf(I)>=0?I:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var I=this.container,S=I.getBoundingClientRect(),C=vge(S),E={chartX:Math.round(A.pageX-C.left),chartY:Math.round(A.pageY-C.top)},T=S.width/I.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,T);if(!j)return null;var R=this.state,D=R.xAxisMap,$=R.yAxisMap,L=this.getTooltipEventType(),ne=SD(this.state,this.props.data,this.props.layout,j);if(L!=="axis"&&D&&$){var ae=As(D).scale,ce=As($).scale,de=ae&&ae.invert?ae.invert(E.chartX):null,Y=ce&&ce.invert?ce.invert(E.chartY):null;return ge(ge({},E),{},{xValue:de,yValue:Y},ne)}return ne?ge(ge({},E),ne):null}},{key:"inRange",value:function(A,I){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=A/S,T=I/S;if(C==="horizontal"||C==="vertical"){var j=this.state.offset,R=E>=j.left&&E<=j.left+j.width&&T>=j.top&&T<=j.top+j.height;return R?{x:E,y:T}:null}var D=this.state,$=D.angleAxisMap,L=D.radiusAxisMap;if($&&L){var ne=As($);return nN({x:E,y:T},ne)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,I=this.getTooltipEventType(),S=hi(A,In),C={};S&&I==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=rv(this.props,this.handleOuterEvent);return ge(ge({},E),C)}},{key:"addListener",value:function(){gw.on(yw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gw.removeListener(yw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,I,S){for(var C=this.state.formattedGraphicalItems,E=0,T=C.length;E<T;E++){var j=C[E];if(j.item===A||j.props.key===A.key||I===Lo(j.item.type)&&S===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,I=this.state.offset,S=I.left,C=I.top,E=I.height,T=I.width;return U.createElement("defs",null,U.createElement("clipPath",{id:A},U.createElement("rect",{x:S,y:C,height:E,width:T})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(I,S){var C=xD(S,2),E=C[0],T=C[1];return ge(ge({},I),{},He({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(I,S){var C=xD(S,2),E=C[0],T=C[1];return ge(ge({},I),{},He({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[A])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(A){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[A])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(A){var I=this.state,S=I.formattedGraphicalItems,C=I.activeItem;if(S&&S.length)for(var E=0,T=S.length;E<T;E++){var j=S[E],R=j.props,D=j.item,$=D.type.defaultProps!==void 0?ge(ge({},D.type.defaultProps),D.props):D.props,L=Lo(D.type);if(L==="Bar"){var ne=(R.data||[]).find(function(Y){return t_e(A,Y)});if(ne)return{graphicalItem:j,payload:ne}}else if(L==="RadialBar"){var ae=(R.data||[]).find(function(Y){return nN(A,Y)});if(ae)return{graphicalItem:j,payload:ae}}else if(Ab(j,C)||Tb(j,C)||Vp(j,C)){var ce=iSe({graphicalItem:j,activeTooltipItem:C,itemData:$.data}),de=$.activeIndex===void 0?ce:$.activeIndex;return{graphicalItem:ge(ge({},j),{},{childIndex:de}),payload:Vp(j,C)?$.data[ce]:j.props.data[ce]}}}return null}},{key:"render",value:function(){var A=this;if(!Hk(this))return null;var I=this.props,S=I.children,C=I.className,E=I.width,T=I.height,j=I.style,R=I.compact,D=I.title,$=I.desc,L=wD(I,SPe),ne=ct(L,!1);if(R)return U.createElement(eD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(f_,Pc({},ne,{width:E,height:T,title:D,desc:$}),this.renderClipPath(),Yk(S,this.renderMap)));if(this.props.accessibilityLayer){var ae,ce;ne.tabIndex=(ae=this.props.tabIndex)!==null&&ae!==void 0?ae:0,ne.role=(ce=this.props.role)!==null&&ce!==void 0?ce:"application",ne.onKeyDown=function(Y){A.accessibilityManager.keyboardEvent(Y)},ne.onFocus=function(){A.accessibilityManager.focus()}}var de=this.parseEventsOfWrapper();return U.createElement(eD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",Pc({className:xt("recharts-wrapper",C),style:ge({position:"relative",cursor:"default",width:E,height:T},j)},de,{ref:function(re){A.container=re}}),U.createElement(f_,Pc({},ne,{width:E,height:T,title:D,desc:$,style:FPe}),this.renderClipPath(),Yk(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(V.Component);He(b,"displayName",n),He(b,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(b,"getDerivedStateFromProps",function(x,w){var _=x.dataKey,A=x.data,I=x.children,S=x.width,C=x.height,E=x.layout,T=x.stackOffset,j=x.margin,R=w.dataStartIndex,D=w.dataEndIndex;if(w.updateId===void 0){var $=ED(x);return ge(ge(ge({},$),{},{updateId:0},g(ge(ge({props:x},$),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:A,prevWidth:S,prevHeight:C,prevLayout:E,prevStackOffset:T,prevMargin:j,prevChildren:I})}if(_!==w.prevDataKey||A!==w.prevData||S!==w.prevWidth||C!==w.prevHeight||E!==w.prevLayout||T!==w.prevStackOffset||!Lc(j,w.prevMargin)){var L=ED(x),ne={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},ae=ge(ge({},SD(w,A,E)),{},{updateId:w.updateId+1}),ce=ge(ge(ge({},L),ne),ae);return ge(ge(ge({},ce),g(ge({props:x},ce),w)),{},{prevDataKey:_,prevData:A,prevWidth:S,prevHeight:C,prevLayout:E,prevStackOffset:T,prevMargin:j,prevChildren:I})}if(!u_(I,w.prevChildren)){var de,Y,re,me,Ae=hi(I,_f),be=Ae&&(de=(Y=Ae.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&de!==void 0?de:R,je=Ae&&(re=(me=Ae.props)===null||me===void 0?void 0:me.endIndex)!==null&&re!==void 0?re:D,We=be!==R||je!==D,at=!ht(A),tt=at&&!We?w.updateId:w.updateId+1;return ge(ge({updateId:tt},g(ge(ge({props:x},w),{},{updateId:tt,dataStartIndex:be,dataEndIndex:je}),w)),{},{prevChildren:I,dataStartIndex:be,dataEndIndex:je})}return null}),He(b,"renderActiveDot",function(x,w,_){var A;return V.isValidElement(x)?A=V.cloneElement(x,w):ut(x)?A=x(w):A=U.createElement(Eb,w),U.createElement(Qt,{className:"recharts-active-dot",key:_},A)});var v=V.forwardRef(function(w,_){return U.createElement(b,Pc({},w,{ref:_}))});return v.displayName=b.displayName,v},XPe=hP({chartName:"LineChart",GraphicalChild:Of,axisComponents:[{axisType:"xAxis",AxisComp:Tr},{axisType:"yAxis",AxisComp:Pr}],formatAxisMap:iP}),Do=hP({chartName:"BarChart",GraphicalChild:Mr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tr},{axisType:"yAxis",AxisComp:Pr}],formatAxisMap:iP}),QPe=hP({chartName:"AreaChart",GraphicalChild:pl,axisComponents:[{axisType:"xAxis",AxisComp:Tr},{axisType:"yAxis",AxisComp:Pr}],formatAxisMap:iP});const JPe=t=>{const[e,n]=V.useState([]),[r,i]=V.useState([]),[a,o]=V.useState(!0);return V.useEffect(()=>{if(!t)return;(async()=>{o(!0);try{const[u,c]=await Promise.all([St.weighings.where("goatId").equals(t).toArray(),St.parturitions.where("goatId").equals(t).toArray()]);n(u),i(c.sort((f,h)=>new Date(f.parturitionDate).getTime()-new Date(h.parturitionDate).getTime()))}catch(u){console.error(`Error al cargar datos para ${t}:`,u)}finally{o(!1)}})()},[t]),{...V.useMemo(()=>{if(r.length===0)return{allLactations:[],parturitionIntervals:[],lastWeighingDate:null};const l=r.map((f,h)=>{const g=new Date(f.parturitionDate),b=h<r.length-1?new Date(r[h+1].parturitionDate):new Date,v=e.filter(C=>{const E=new Date(C.date);return E>=g&&E<b}),x=v.map(C=>({del:xm(f.parturitionDate,C.date),kg:C.kg})).sort((C,E)=>C.del-E.del),w=v.reduce((C,E)=>C+E.kg,0),_=v.length>0?w/v.length:0,A=x.reduce((C,E)=>E.kg>C.kg?E:C,{kg:0,del:0}),I=x[x.length-1],S=I?I.del:0;return{parturitionDate:f.parturitionDate,weighings:v,lactationCurve:x,averageProduction:_,peakProduction:A,totalDays:S}}),u=r.slice(1).map((f,h)=>{const g=r[h],b=new Date(f.parturitionDate).getTime()-new Date(g.parturitionDate).getTime();return{period:`${g.parturitionDate.substring(0,4)} - ${f.parturitionDate.substring(0,4)}`,days:Math.round(b/(1e3*60*60*24))}}),c=e.sort((f,h)=>new Date(h.date).getTime()-new Date(f.date).getTime())[0];return{allLactations:l,parturitionIntervals:u,lastWeighingDate:(c==null?void 0:c.date)||null}},[e,r]),isLoading:a}},ZPe=(t,e,n,r)=>{const[i,a]=V.useState([]),[o,s]=V.useState(!1);return V.useEffect(()=>{if(!t||!e.length){a([]);return}(()=>{s(!0);let u=[];if(t==="PRIMIPARAS_HISTORICAL"){const g=n.reduce((b,v)=>(b[v.goatId]=(b[v.goatId]||0)+1,b),{});u=e.filter(b=>g[b.id]===1).map(b=>b.id)}else if(t==="MULTIPARAS_HISTORICAL"){const g=n.reduce((b,v)=>(b[v.goatId]=(b[v.goatId]||0)+1,b),{});u=e.filter(b=>g[b.id]>1).map(b=>b.id)}const c=r.filter(g=>u.includes(g.goatId)),f={};c.forEach(g=>{const b=n.filter(x=>x.goatId===g.goatId&&new Date(g.date)>=new Date(x.parturitionDate)).sort((x,w)=>new Date(w.parturitionDate).getTime()-new Date(x.parturitionDate).getTime())[0];if(!b)return;const v=xm(b.parturitionDate,g.date);f[v]||(f[v]={totalKg:0,count:0}),f[v].totalKg+=g.kg,f[v].count++});const h=Object.entries(f).map(([g,b])=>({del:parseInt(g),kg:b.totalKg/b.count})).sort((g,b)=>g.del-b.del);a(h),s(!1)})()},[t,e,n,r]),{comparativeCurve:i,isLoading:o}},jS=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload.name==="Promedio Rebao";return"range"in e[0].payload?d.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[d.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Rango: ",e[0].payload.range," Kg"]}),d.jsxs("p",{className:"font-bold text-base",children:["N de Cabras: ",e[0].value]})]}):d.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[d.jsx("p",{className:"label text-brand-light-gray text-sm",children:r?`Das en Leche (DEL): ${n}`:`DEL: ${n}`}),d.jsx("p",{className:"font-bold text-base",children:r?`Promedio: ${e[0].value.toFixed(2)} Kg`:`Produccin: ${e[0].value.toFixed(2)} Kg`})]})}return null},Dg=({active:t,payload:e,label:n,context:r})=>{if(t&&e&&e.length){let i="",a="";switch(r){case"average":i=`Lactancia del ${n}`,a=`Promedio: ${e[0].value.toFixed(2)} Kg`;break;case"peak":i=`Lactancia del ${n}`,a=`Pico: ${e[0].value.toFixed(2)} Kg`;break;case"del":i=`Lactancia del ${n}`,a=`Duracin: ${e[0].value} das`;break;case"interval":i=`Perodo ${n}`,a=`Intervalo: ${e[0].value} das`;break}return d.jsxs("div",{className:"bg-black/60 backdrop-blur-xl p-3 rounded-lg border border-zinc-700 text-white",children:[d.jsx("p",{className:"label text-zinc-400 text-sm font-medium",children:i}),d.jsx("p",{className:"font-semibold text-base",children:a})]})}return null};function e2e({animalId:t,onBack:e}){const{animals:n,parturitions:r,weighings:i,startDryingProcess:a,setLactationAsDry:o}=qt(),{allLactations:s,parturitionIntervals:l,lastWeighingDate:u,isLoading:c}=JPe(t),[f,h]=V.useState(null),[g,b]=V.useState(null),[v,x]=V.useState(!1),{comparativeCurve:w,isLoading:_}=ZPe(g,n,r,i),A=V.useMemo(()=>{if(s.length===0)return null;const D=s[s.length-1],$=r.find(L=>L.parturitionDate===D.parturitionDate&&L.goatId===t);return{...D,id:$==null?void 0:$.id,status:$==null?void 0:$.status}},[s,r,t]),I=V.useMemo(()=>A?xm(A.parturitionDate,new Date().toISOString().split("T")[0]):"N/A",[A]),S=V.useMemo(()=>({average:s.map(D=>({name:new Date(D.parturitionDate).getFullYear().toString(),value:D.averageProduction})),peak:s.map(D=>({name:new Date(D.parturitionDate).getFullYear().toString(),value:D.peakProduction.kg})),del:s.map(D=>({name:new Date(D.parturitionDate).getFullYear().toString(),value:D.totalDays})),interval:l.map(D=>({name:D.period,value:D.days}))}),[s,l]);if(c)return d.jsx("div",{className:"text-center p-10",children:d.jsxs("h1",{className:"text-2xl text-zinc-400",children:["Cargando perfil de lactancia de ",t,"..."]})});const C=s.length>0?s[s.length-1]:null,E=l.length>0?l[l.length-1].days:0,T=s.length===1,j=()=>{const D=!v;x(D),D||b(null)},R=D=>{b($=>$===D?null:D)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4 animate-fade-in",children:[d.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[d.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsxs("div",{className:"text-center flex-grow",children:[d.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:t}),d.jsx("p",{className:"text-xl text-zinc-400",children:"Perfil de Lactancia"})]}),d.jsx("div",{className:"w-8"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[d.jsxs("button",{onClick:()=>h("average"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[d.jsx(fm,{size:14}),d.jsx("span",{children:"Promedio"})]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[(C==null?void 0:C.averageProduction.toFixed(2))||"N/A"," ",d.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),d.jsxs("button",{onClick:()=>h("peak"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[d.jsx(bA,{size:14}),d.jsx("span",{children:"Pico Prod."})]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[(C==null?void 0:C.peakProduction.kg.toFixed(2))||"N/A"," ",d.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),d.jsxs("button",{onClick:()=>h("del"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[d.jsx(JK,{size:14}),d.jsx("span",{children:"DEL"})]}),d.jsx("p",{className:"text-2xl font-bold text-white",children:I})]}),d.jsxs("button",{onClick:()=>h("interval"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[d.jsx(fH,{size:14}),d.jsx("span",{children:"Int. Partos"})]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[E," ",d.jsx("span",{className:"text-lg text-zinc-400",children:"das"})]})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[d.jsx(XK,{size:14}),d.jsx("span",{children:"lt. Pesaje"})]}),d.jsx("p",{className:"text-xl font-bold text-white",children:u?new Date(u).toLocaleDateString():"N/A"})]})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border relative",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center border-b border-brand-border pb-2 mb-4 gap-2",children:[d.jsxs("h3",{className:"text-zinc-400 font-semibold text-xs uppercase",children:["Curva de Lactancia Actual (Parto: ",(C==null?void 0:C.parturitionDate)||"N/A",")"]}),d.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-center",children:[d.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:"Comparar:"}),d.jsx("button",{onClick:j,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${v?"bg-amber-500":"bg-zinc-700"}`,children:d.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${v?"translate-x-5":"translate-x-0"}`})}),v&&d.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[d.jsx("button",{onClick:()=>R("PRIMIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${g==="PRIMIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${T?"ring-2 ring-amber-400":""}`,children:"vs Primparas"}),d.jsx("button",{onClick:()=>R("MULTIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${g==="MULTIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${T?"":"ring-2 ring-amber-400"}`,children:"vs Multparas"})]})]})]}),d.jsxs("div",{className:"w-full h-56 -ml-4",children:[d.jsx(xa,{children:d.jsxs(XPe,{margin:{top:5,right:20,left:-10,bottom:5},children:[d.jsx(Nb,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),d.jsx(Tr,{dataKey:"del",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(Pr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(In,{content:d.jsx(jS,{})}),d.jsx(ou,{verticalAlign:"top",height:36,iconType:"plainline"}),d.jsx(Of,{type:"monotone",data:C==null?void 0:C.lactationCurve,dataKey:"kg",name:t,stroke:"#FBBF24",strokeWidth:2.5,dot:!1}),g&&!_&&d.jsx(Of,{type:"monotone",data:w,dataKey:"kg",name:"Promedio del Grupo",stroke:"#34d399",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})}),_&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-xl text-white",children:"Calculando comparacin..."})]})]}),(A==null?void 0:A.id)&&d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[d.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase mb-3",children:"Gestin de Lactancia Actual"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[A.status==="activa"&&d.jsxs("button",{onClick:()=>a(A.id),className:"w-full flex items-center justify-center space-x-2 bg-blue-600/80 hover:bg-blue-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[d.jsx(SH,{size:20}),d.jsx("span",{children:"Iniciar Proceso de Secado"})]}),A.status==="en-secado"&&d.jsxs("button",{onClick:()=>o(A.id),className:"w-full flex items-center justify-center space-x-2 bg-gray-600/80 hover:bg-gray-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[d.jsx(GK,{size:20}),d.jsx("span",{children:"Declarar Lactancia como Seca"})]}),A.status==="seca"&&d.jsx("div",{className:"w-full text-center p-3 bg-black/20 rounded-xl",children:d.jsx("p",{className:"font-semibold text-green-400",children:"Esta lactancia ha finalizado."})})]}),A.status==="en-secado"&&d.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]}),d.jsx(Ut,{isOpen:f==="average",onClose:()=>h(null),title:"Historial de Promedios",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"w-full h-48 -ml-4",children:d.jsx(xa,{children:d.jsxs(Do,{data:S.average,margin:{top:5,right:20,left:-20,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"modalBarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#FBBF24",stopOpacity:.8}),d.jsx("stop",{offset:"100%",stopColor:"#FBBF24",stopOpacity:.2})]})}),d.jsx(Tr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),d.jsx(Pr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),d.jsx(In,{content:d.jsx(Dg,{context:"average"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),d.jsx(Mr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradient)"})]})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),d.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(D=>d.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[d.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",D.parturitionDate]}),d.jsxs("span",{className:"text-base font-semibold text-white",children:[D.averageProduction.toFixed(2)," Kg"]})]},D.parturitionDate))})]})]})}),d.jsx(Ut,{isOpen:f==="peak",onClose:()=>h(null),title:"Historial de Picos de Produccin",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"w-full h-48 -ml-4",children:d.jsx(xa,{children:d.jsxs(Do,{data:S.peak,margin:{top:5,right:20,left:-20,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"modalBarGradientPeak",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),d.jsx("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:.2})]})}),d.jsx(Tr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),d.jsx(Pr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),d.jsx(In,{content:d.jsx(Dg,{context:"peak"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),d.jsx(Mr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientPeak)"})]})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),d.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(D=>d.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[d.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",D.parturitionDate]}),d.jsxs("span",{className:"text-base font-semibold text-white",children:[D.peakProduction.kg.toFixed(2)," Kg ",d.jsxs("span",{className:"font-normal text-zinc-400",children:["(Da ",D.peakProduction.del,")"]})]})]},D.parturitionDate))})]})]})}),d.jsx(Ut,{isOpen:f==="del",onClose:()=>h(null),title:"Historial de Duracin de Lactancias",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"w-full h-48 -ml-4",children:d.jsx(xa,{children:d.jsxs(Do,{data:S.del,margin:{top:5,right:20,left:-20,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"modalBarGradientDel",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:.8}),d.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.2})]})}),d.jsx(Tr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),d.jsx(Pr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),d.jsx(In,{content:d.jsx(Dg,{context:"del"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),d.jsx(Mr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientDel)"})]})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),d.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(D=>d.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[d.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",D.parturitionDate]}),d.jsxs("span",{className:"text-base font-semibold text-white",children:[D.totalDays," das"]})]},D.parturitionDate))})]})]})}),d.jsx(Ut,{isOpen:f==="interval",onClose:()=>h(null),title:"Historial de Intervalos entre Partos",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"w-full h-48 -ml-4",children:d.jsx(xa,{children:d.jsxs(Do,{data:S.interval,margin:{top:5,right:20,left:-20,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"modalBarGradientInt",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:.8}),d.jsx("stop",{offset:"100%",stopColor:"#8B5CF6",stopOpacity:.2})]})}),d.jsx(Tr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),d.jsx(Pr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),d.jsx(In,{content:d.jsx(Dg,{context:"interval"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),d.jsx(Mr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientInt)"})]})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles de Intervalos"}),d.jsx("ul",{className:"space-y-1",children:l.slice().reverse().map(D=>d.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[d.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Perodo ",D.period]}),d.jsxs("span",{className:"text-base font-semibold text-white",children:[D.days," das"]})]},D.period))})]})]})})]})}const t2e=({plan:t})=>d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[d.jsx("p",{className:"font-semibold text-white",children:t.details}),d.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Iniciado el: ",new Date(t.startDate+"T00:00:00").toLocaleDateString("es-VE")]})]});function n2e({lotName:t,onBack:e}){const{feedingPlans:n,addFeedingPlan:r}=qt(),[i,a]=V.useState(""),[o,s]=V.useState(new Date().toISOString().split("T")[0]),[l,u]=V.useState(null),c=V.useMemo(()=>n.filter(h=>h.lotName===t).sort((h,g)=>new Date(g.startDate).getTime()-new Date(h.startDate).getTime()),[n,t]),f=async h=>{if(h.preventDefault(),!i.trim()){u({type:"error",text:"Los detalles del plan no pueden estar vacos."});return}try{await r({lotName:t,details:i,startDate:o}),u({type:"success",text:"Plan de alimentacin guardado con xito."}),a("")}catch(g){u({type:"error",text:"No se pudo guardar el plan."}),console.error(g)}};return d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[d.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[d.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsxs("div",{className:"text-center flex-grow",children:[d.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Alimentacin: ",t]}),d.jsx("p",{className:"text-lg text-zinc-400",children:"Planes de Nutricin del Lote"})]}),d.jsx("div",{className:"w-8"})]}),d.jsxs("form",{onSubmit:f,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(so,{size:20})," Asignar Nuevo Plan"]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"planDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Plan (Ej: 2kg de concentrado/da)"}),d.jsx("textarea",{id:"planDetails",rows:3,value:i,onChange:h=>a(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"planStartDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),d.jsx("input",{id:"planStartDate",type:"date",value:o,onChange:h=>s(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),d.jsx("button",{type:"submit",className:"w-full bg-brand-orange text-white font-bold py-3 rounded-xl text-lg",children:"Guardar Plan"}),l&&d.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?d.jsx(sl,{size:18}):d.jsx(lo,{size:18}),d.jsx("span",{children:l.text})]})]}),d.jsxs("div",{className:"space-y-4 pt-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[d.jsx(J4,{size:20})," Historial de Planes"]}),c.length>0?d.jsx("div",{className:"space-y-2",children:c.map(h=>d.jsx(t2e,{plan:h},h.id))}):d.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:d.jsx("p",{className:"text-zinc-500",children:"No hay planes de alimentacin registrados para este lote."})})]})]})}const r2e=({event:t})=>d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[d.jsx("p",{className:"font-semibold text-white",children:t.details}),d.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Aplicado el: ",new Date(t.date+"T00:00:00").toLocaleDateString("es-VE")]})]});function i2e({lotName:t,onBack:e}){const{events:n,addBatchEvent:r}=qt(),[i,a]=V.useState(""),[o,s]=V.useState(new Date().toISOString().split("T")[0]),[l,u]=V.useState(null),c=V.useMemo(()=>{const h=n.filter(g=>g.lotName===t&&g.type==="Tratamiento").reduce((g,b)=>{const v=`${b.date}-${b.details}`;return g[v]||(g[v]=b),g},{});return Object.values(h).sort((g,b)=>new Date(b.date).getTime()-new Date(g.date).getTime())},[n,t]),f=async h=>{if(h.preventDefault(),!i.trim()){u({type:"error",text:"Los detalles del tratamiento no pueden estar vacos."});return}try{await r({lotName:t,details:i,date:o,type:"Tratamiento"}),u({type:"success",text:"Tratamiento registrado con xito para todo el lote."}),a("")}catch(g){u({type:"error",text:"No se pudo registrar el tratamiento."}),console.error(g)}};return d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[d.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[d.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsxs("div",{className:"text-center flex-grow",children:[d.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Tratamientos: ",t]}),d.jsx("p",{className:"text-lg text-zinc-400",children:"Sanidad Colectiva del Lote"})]}),d.jsx("div",{className:"w-8"})]}),d.jsxs("form",{onSubmit:f,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(so,{size:20})," Registrar Tratamiento al Lote"]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"treatmentDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Tratamiento (Ej: Vacuna Triple)"}),d.jsx("textarea",{id:"treatmentDetails",rows:3,value:i,onChange:h=>a(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"treatmentDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),d.jsx("input",{id:"treatmentDate",type:"date",value:o,onChange:h=>s(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),d.jsx("button",{type:"submit",className:"w-full bg-brand-orange text-white font-bold py-3 rounded-xl text-lg",children:"Guardar Tratamiento"}),l&&d.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?d.jsx(sl,{size:18}):d.jsx(lo,{size:18}),d.jsx("span",{children:l.text})]})]}),d.jsxs("div",{className:"space-y-4 pt-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[d.jsx(oL,{size:20})," Historial de Tratamientos del Lote"]}),c.length>0?d.jsx("div",{className:"space-y-2",children:c.map(h=>d.jsx(r2e,{event:h},h.id))}):d.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:d.jsx("p",{className:"text-zinc-500",children:"No hay tratamientos registrados para este lote."})})]})]})}const a2e=[{id:"lactokeeper",name:"LactoKeeper",icon:gA,color:"bg-indigo-500",description:"Control Lechero"},{id:"kilos",name:"Kilos",icon:vA,color:"bg-green-500",description:"Control de Peso"}],o2e=({onSwitchModule:t})=>{const[e,n]=V.useState(!1),r=i=>{n(!1),t(i)};return d.jsxs("div",{className:"fixed bottom-24 right-4 z-40 flex flex-col items-end gap-4",children:[d.jsx("div",{className:`flex flex-col items-end gap-4 transition-all duration-300 ease-in-out ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:a2e.map(i=>d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-sm font-semibold px-3 py-1 rounded-md shadow-lg",children:i.name}),d.jsx("button",{onClick:()=>r(i.id),className:`w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg ${i.color} transform transition-transform hover:scale-110`,"aria-label":`Cambiar al mdulo ${i.name}`,children:d.jsx(i.icon,{size:28})})]},i.id))}),d.jsx("button",{onClick:()=>n(!e),className:"w-16 h-16 rounded-full flex items-center justify-center text-black bg-brand-amber shadow-2xl shadow-black/50 transform transition-transform duration-200 hover:scale-110","aria-label":"Seleccionar mdulo",children:d.jsx("div",{className:`transform transition-transform duration-300 ${e?"rotate-180 scale-75":"rotate-0"}`,children:e?d.jsx(dm,{size:32}):d.jsx(aH,{size:32})})})]})},s2e=({initialPage:t,onSwitchModule:e})=>{const[n,r]=V.useState({name:"lots-dashboard"}),[i,a]=V.useState([]);V.useEffect(()=>{t&&r(t)},[t]);const o=[{page:{name:"lots-dashboard"},label:"Lotes",icon:oH},{page:{name:"herd"},label:"Rebao",icon:Wf},{page:{name:"add-animal"},label:"Aadir",icon:Yo},{page:{name:"management"},label:"Manejo",icon:rL}],s=c=>{a(f=>[...f,n]),r(c)},l=()=>{const c=i[i.length-1];c?(a(f=>f.slice(0,-1)),r(c)):r({name:"lots-dashboard"})},u=()=>{switch(n.name){case"lots-dashboard":return d.jsx(kk,{navigateTo:s});case"lot-detail":return d.jsx(Mte,{lotName:n.lotName,onBack:l,navigateTo:s});case"breeding-group-detail":return d.jsx(tne,{groupId:n.groupId,onBack:l,navigateTo:s});case"herd":return d.jsx(Lte,{navigateTo:s,locationFilter:n.locationFilter});case"manage-lots":return d.jsx(Jte,{onBack:()=>r({name:"herd"})});case"management":return d.jsx(Qte,{onSelectAnimal:c=>s({name:"rebano-profile",animalId:c})});case"add-animal":return d.jsx(Rte,{onBack:()=>r({name:"herd"})});case"rebano-profile":return d.jsx(Yte,{animalId:n.animalId,onBack:l,navigateTo:s});case"lactation-profile":return d.jsx(e2e,{animalId:n.animalId,onBack:l});case"feeding-plan":return d.jsx(n2e,{lotName:n.lotName,onBack:l});case"batch-treatment":return d.jsx(i2e,{lotName:n.lotName,onBack:l});default:return d.jsx(kk,{navigateTo:s})}};return d.jsxs("div",{className:"font-sans bg-gray-900 text-gray-200 min-h-screen animate-fade-in",children:[d.jsx("div",{className:"p-4 pt-0 pb-24",children:u()}),d.jsx(o2e,{onSwitchModule:e}),d.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:[o.map(c=>{let f=!1;return c.label==="Lotes"?f=["lots-dashboard","lot-detail","breeding-group-detail","feeding-plan","batch-treatment"].includes(n.name):c.label==="Rebao"?f=["herd","rebano-profile","manage-lots","add-animal"].includes(n.name):f=n.name===c.page.name,d.jsxs("button",{onClick:()=>{a([]),r(c.page)},className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${f?"text-amber-400":"text-gray-500 hover:text-white"}`,children:[d.jsx(c.icon,{}),d.jsx("span",{className:"text-xs font-semibold mt-1",children:c.label})]},c.label)}),d.jsxs("button",{onClick:()=>rp.signOut(),className:"relative flex flex-col items-center justify-center pt-3 pb-2 w-full text-gray-500 hover:text-red-400 transition-colors",children:[d.jsx(eL,{}),d.jsx("span",{className:"text-xs font-semibold mt-1",children:"Salir"})]})]})]})};function TD({onNavigateToAnalysis:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=qt(),[a,o]=V.useState("current"),[s,l]=V.useState(!1),[u,c]=V.useState(!1),f=V.useMemo(()=>{if(i||!n.length||!e.length)return{herdAverage:0,activeGoats:0,herdLactationCurve:[],gaussData:{distribution:[],mean:0,stdDev:0}};let h=0;if(n.length>0){const C=n.reduce((E,T)=>T.date>E?T.date:E,n[0].date);h=new Set(n.filter(E=>E.date===C).map(E=>E.goatId)).size}let g=n;if(a==="current"){const C=new Set(r.filter(E=>E.status==="activa").map(E=>E.goatId));g=n.filter(E=>C.has(E.goatId))}const b={};g.forEach(C=>{const E=r.filter(j=>j.goatId===C.goatId&&new Date(C.date)>=new Date(j.parturitionDate)).sort((j,R)=>new Date(R.parturitionDate).getTime()-new Date(j.parturitionDate).getTime())[0];if(!E)return;const T=xm(E.parturitionDate,C.date);b[T]||(b[T]={totalKg:0,count:0}),b[T].totalKg+=C.kg,b[T].count++});const v=Object.entries(b).map(([C,E])=>({del:parseInt(C),kg:E.totalKg/E.count,name:"Promedio Rebao"})).sort((C,E)=>C.del-E.del),x=e.map(C=>{const E=n.filter(j=>j.goatId===C.id);return E.length===0?null:{avg:E.reduce((j,R)=>j+R.kg,0)/E.length}}).filter(Boolean),w=x.length>0?x.reduce((C,E)=>C+E.avg,0)/x.length:0,_=x.length>0?Math.sqrt(x.reduce((C,E)=>C+Math.pow(E.avg-w,2),0)/x.length):0,A=[];if(x.length>0){const C=Math.floor(Math.min(...x.map(T=>T.avg))*4)/4,E=Math.ceil(Math.max(...x.map(T=>T.avg))*4)/4;for(let T=C;T<=E;T+=.25){const j=T,R=T+.25,D=x.filter($=>$.avg>=j&&$.avg<R).length;D>0&&A.push({range:`${j.toFixed(2)}`,count:D})}}const I={distribution:A,mean:w,stdDev:_};return{herdAverage:n.length>0?n.reduce((C,E)=>C+E.kg,0)/n.length:0,activeGoats:h,herdLactationCurve:v,gaussData:I}},[e,n,r,i,a]);return i?d.jsx("div",{className:"text-center p-10",children:d.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos del rebao..."})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[d.jsxs("header",{className:"text-center pt-8 pb-4",children:[d.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Dashboard"}),d.jsx("p",{className:"text-xl text-zinc-400",children:"Rebao Masparrito"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[d.jsx(fm,{}),d.jsx("span",{children:"Promedio Global"})]}),d.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[f.herdAverage.toFixed(2)," ",d.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"Kg"})]})]}),d.jsxs("button",{onClick:t,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[d.jsx(yH,{}),d.jsx("span",{children:"Animales en Ordeo"})]}),d.jsx("p",{className:"text-4xl font-bold tracking-tight text-white",children:f.activeGoats})]})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[d.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M12 2v4"}),d.jsx("path",{d:"m16.2 7.8 2.9-2.9"}),d.jsx("path",{d:"M20 12h4"}),d.jsx("path",{d:"m16.2 16.2 2.9 2.9"}),d.jsx("path",{d:"M12 20v4"}),d.jsx("path",{d:"m7.8 16.2-2.9 2.9"}),d.jsx("path",{d:"M4 12H0"}),d.jsx("path",{d:"m7.8 7.8-2.9-2.9"}),d.jsx("circle",{cx:"12",cy:"12",r:"4"})]}),d.jsx("span",{children:"Produccin Promedio"}),d.jsx("button",{onClick:()=>l(!0),className:"text-zinc-500 hover:text-white transition-colors",children:d.jsx(Hy,{size:14})})]}),d.jsxs("div",{className:"flex bg-zinc-900/80 rounded-lg p-0.5",children:[d.jsx("button",{onClick:()=>o("current"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="current"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Actual"}),d.jsx("button",{onClick:()=>o("historical"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="historical"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Histrico"})]})]}),d.jsx("div",{className:"w-full h-48",children:d.jsx(xa,{children:d.jsxs(QPe,{data:f.herdLactationCurve,margin:{top:5,right:10,left:0,bottom:5},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"weatherGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#F59E0B",stopOpacity:.7}),d.jsx("stop",{offset:"60%",stopColor:"#10B981",stopOpacity:.2}),d.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.1})]})}),d.jsx(Tr,{dataKey:"del",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),d.jsx(Pr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,domain:["dataMin - 0.5","dataMax + 0.5"],width:30}),d.jsx(In,{content:d.jsx(jS,{})}),d.jsx(pl,{type:"monotone",dataKey:"kg",stroke:"#FBBF24",strokeWidth:2.5,fill:"url(#weatherGradient)"})]})})})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[d.jsx("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[d.jsx(YK,{}),d.jsx("span",{children:"Distribucin del Rebao"}),d.jsx("button",{onClick:()=>c(!0),className:"text-zinc-500 hover:text-white transition-colors",children:d.jsx(Hy,{size:14})})]})}),d.jsx("div",{className:"w-full h-48",children:d.jsx(xa,{children:d.jsxs(Do,{data:f.gaussData.distribution,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx(Nb,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),d.jsx(Tr,{dataKey:"range",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),d.jsx(Pr,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,allowDecimals:!1,width:30}),d.jsx(In,{content:d.jsx(jS,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),d.jsx(Mr,{dataKey:"count",fill:"rgba(255, 255, 255, 0.4)",name:"N de Cabras"}),d.jsx(Cb,{x:f.gaussData.mean.toFixed(2),stroke:"#34d399",strokeWidth:2,label:{value:"",fill:"#34d399",position:"insideTopLeft"}})]})})})]})]}),d.jsx(Ut,{isOpen:s,onClose:()=>l(!1),title:"Qu es la Curva de Lactancia del Rebao?",children:d.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[d.jsx("p",{children:'Este grfico revela la **"personalidad productiva"** de tu rebao. No es un promedio simple, sino una lnea de tiempo del rendimiento promedio.'}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white mb-1",children:"Cmo se Calcula?"}),d.jsx("p",{className:"text-sm",children:'Para cada "Da en Leche" (DEL) en el eje horizontal, el sistema agrupa los pesajes de **todos los animales** que han pasado por ese da de su ciclo y calcula el promedio.'}),d.jsxs("p",{className:"text-sm mt-2 bg-black/20 p-2 rounded-md",children:[d.jsx("strong",{children:"Ejemplo:"}),' El punto en "DEL 50" es el promedio de todos los pesajes que se hicieron a cualquier animal cuando estaba exactamente en su da 50 de lactancia.']})]}),d.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Te permite responder visualmente a preguntas clave como: Cundo ocurre el pico de produccin del rebao? y Qu tan persistente es la lactancia despus del pico?"})]})}),d.jsx(Ut,{isOpen:u,onClose:()=>c(!1),title:"Qu es la Distribucin del Rebao?",children:d.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[d.jsx("p",{children:"Este grfico, conocido como Campana de Gauss o distribucin normal, clasifica el rendimiento promedio de cada animal en el rebao."}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white mb-1",children:"Media ()"}),d.jsx("p",{className:"text-sm",children:"La lnea verde marcada como **** representa el **promedio de produccin de todo el rebao**. Es el punto de referencia central."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white mb-1",children:"Las Barras"}),d.jsx("p",{className:"text-sm",children:"Cada barra muestra cuntos animales caen dentro de un rango especfico de produccin. Una barra alta en el centro (cerca de ) indica que la mayora de tu rebao tiene un rendimiento promedio y consistente."})]}),d.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Esta herramienta es clave para identificar rpidamente a los animales de lite (extremo derecho) y a los que podran necesitar atencin (extremo izquierdo)."})]})})]})}const r0=(t,e,n,r,i)=>V.useMemo(()=>{if(!t.length||!e.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const a=t.reduce((v,x)=>{const w=e.find(j=>j.id===x.goatId);if(!w)return v;const _=r.filter(j=>j.goatId===w.id&&new Date(j.parturitionDate)<=new Date(x.date)).sort((j,R)=>new Date(R.parturitionDate).getTime()-new Date(j.parturitionDate).getTime())[0];if(!_)return v;const A=n.filter(j=>j.goatId===w.id).sort((j,R)=>new Date(R.date).getTime()-new Date(j.date).getTime()),I=xm(_.parturitionDate,x.date),S=i?Nte(x.kg,I):x.kg;let C="single";const E=.15,T=A.findIndex(j=>j.id===x.id);if(T>0){const j=A[T-1],R=x.kg-j.kg;R>E?C="up":R<-E?C="down":C="stable"}return v.push({...w,latestWeighing:x.kg,weighingId:x.id,del:I,score:S,trend:C,date:x.date}),v},[]);if(!a.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const o=i?"score":"latestWeighing",s=a.reduce((v,x)=>v+x[o],0)/a.length,l=Math.sqrt(a.reduce((v,x)=>v+Math.pow(x[o]-s,2),0)/a.length),u=s-.4*l,c=s+.4*l,f=a.map(v=>{const x=v[o];let w="Promedio";return l>.1&&(x<u?w="Pobre":x>c&&(w="Sobresaliente")),{...v,classification:w}}),h=[{name:"Pobre",count:f.filter(v=>v.classification==="Pobre").length,fill:"#EF4444"},{name:"Promedio",count:f.filter(v=>v.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:f.filter(v=>v.classification==="Sobresaliente").length,fill:"#22C55E"}],g=a.length>0?a.reduce((v,x)=>v+x.latestWeighing,0)/a.length:0,b=a.length>0?a.reduce((v,x)=>v+x.score,0)/a.length:0;return{classifiedAnimals:f,distribution:h,mean:g,stdDev:l,weightedMean:b}},[t,e,n,r,i]),l2e=({trend:t,isLongTrend:e})=>{if(!t||t==="single")return null;const n={up:"text-green-400",down:"text-red-400",stable:"text-zinc-500"};return d.jsxs("div",{className:`flex items-center font-semibold text-sm ${n[t]}`,children:[t==="up"&&d.jsx(hA,{size:16}),t==="down"&&d.jsx(dA,{size:16}),t==="stable"&&d.jsx(cH,{size:16}),e&&d.jsx("span",{className:"ml-0.5 font-bold",children:"+"})]})},u2e=(t,e)=>{const[n,r]=V.useState(null),[i,a]=V.useState(0),[o,s]=V.useState(!1),[l,u]=V.useState([]);return V.useEffect(()=>{const c=e.filter(x=>x.goatId===t).sort((x,w)=>new Date(w.date).getTime()-new Date(x.date).getTime());if(c.length<2){r(c.length===1?"single":null),u(c),a(0),s(!1);return}const f=c[0].kg,h=c[1].kg,g=f-h,b=.15;a(g),u([c[0],c[1]]);let v="stable";if(g>b&&(v="up"),g<-b&&(v="down"),r(v),c.length>=3){const x=c[2].kg,w=h-x;g>b&&w>b||g<-b&&w<-b?s(!0):s(!1)}else s(!1)},[t,e]),{trend:n,difference:i,isLongTrend:o,lastTwoWeighings:l}},c2e=t=>{const{x:e,y:n,width:r,height:i,value:a,total:o}=t;if(o===0||a===0)return null;const s=(a/o*100).toFixed(0);return d.jsx("text",{x:e+r/2,y:n+i/2,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",fontSize:"14px",fontWeight:"bold",opacity:.8,children:`${s}%`})},bw=({animal:t,onSelectAnimal:e})=>{var u,c;const{weighings:n}=qt(),{isLongTrend:r,lastTwoWeighings:i,difference:a}=u2e(t.id,n),[o,s]=V.useState(!1),l=f=>{f.stopPropagation(),t.trend&&t.trend!=="single"&&s(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{onClick:()=>e(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-amber transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),d.jsxs("p",{className:"text-sm text-zinc-400",children:["DEL: ",t.del," | Score: ",t.score.toFixed(2)," | ",d.jsxs("span",{className:"font-semibold text-amber-400",children:[" Pesaje: ",t.latestWeighing.toFixed(2)," Kg"]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors disabled:cursor-not-allowed",disabled:!t.trend||t.trend==="single",children:d.jsx(l2e,{trend:t.trend,isLongTrend:r})}),d.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-red-500/80":t.classification==="Sobresaliente"?"bg-green-500/80":"bg-gray-500/80"}`,children:t.classification}),d.jsx(ol,{className:"text-zinc-600"})]})]}),d.jsx(Ut,{isOpen:o,onClose:()=>s(!1),title:`Tendencia de ${t.id}`,children:d.jsxs("div",{className:"text-center text-white space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-zinc-400",children:["Pesaje Anterior (",i[1]?new Date(i[1].date).toLocaleDateString():"N/A",")"]}),d.jsxs("p",{className:"text-2xl font-semibold",children:[((u=i[1])==null?void 0:u.kg.toFixed(2))||"N/A"," Kg"]})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-zinc-400",children:["ltimo Pesaje (",i[0]?new Date(i[0].date).toLocaleDateString():"N/A",")"]}),d.jsxs("p",{className:"text-2xl font-semibold",children:[((c=i[0])==null?void 0:c.kg.toFixed(2))||"N/A"," Kg"]})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-zinc-400 text-base mb-1",children:"Diferencia"}),d.jsxs("p",{className:`text-3xl font-bold ${a>0?"text-green-400":a<0?"text-red-400":"text-zinc-400"}`,children:[a>0?"+":"",a.toFixed(2)," Kg"]})]})]})})]})};function f2e({onSelectAnimal:t,selectedDate:e}){const{animals:n,parturitions:r,weighings:i,isLoading:a}=qt(),[o,s]=V.useState(!1),[l,u]=V.useState("all"),[c,f]=V.useState("all"),[h,g]=V.useState("all"),[b,v]=V.useState(null),[x,w]=V.useState("all"),[_,A]=V.useState(!1),[I,S]=V.useState(!1),{weighingsByDate:C,availableDates:E}=V.useMemo(()=>{const le={};i.forEach(X=>{le[X.date]||(le[X.date]=[]),le[X.date].push(X)});const Se=Object.keys(le).sort((X,Ie)=>new Date(Ie).getTime()-new Date(X).getTime());return{weighingsByDate:le,availableDates:Se}},[i]),[T,j]=V.useState(0);V.useEffect(()=>{if(e&&E.length>0){const le=E.indexOf(e);le!==-1&&j(le)}},[e,E]);const R=E[T],D=V.useMemo(()=>{const le=C[R]||[],Se=new Map;return le.forEach(X=>{Se.set(X.goatId,X)}),Array.from(Se.values())},[R,C]),{classifiedAnimals:$,distribution:L,mean:ne,stdDev:ae,weightedMean:ce}=r0(D,n,i,r,o),de=V.useMemo(()=>{if(T+1<E.length){const le=E[T+1];return C[le]||[]}return[]},[T,E,C]),Y=r0(de,n,i,r,!1),re=V.useMemo(()=>{const le=new Set($.map(nt=>nt.id));let Se=new Set,X=new Set;const Ie=new Set(Y.classifiedAnimals.map(nt=>nt.id));T===E.length-1&&E.length>0?Se=le:(Se=new Set([...le].filter(nt=>!Ie.has(nt))),X=new Set([...Ie].filter(nt=>!le.has(nt))));const De=E.slice(0,3).map(nt=>{const Ft=C[nt]||[];if(Ft.length===0)return{date:nt,avg:0};const An=Ft.reduce((ii,qn)=>ii+qn.kg,0);return{date:new Date(nt).toLocaleDateString("es-VE",{month:"short",day:"numeric"}),avg:An/Ft.length}}).reverse();let se=null,Ke=null,we=0,ot=0,ft=0;if($.length>0){const nt=$.map(Ft=>Ft.latestWeighing);we=nt.reduce((Ft,An)=>Ft+An,0),ot=Math.max(...nt),ft=Math.min(...nt),se=$.find(Ft=>Ft.latestWeighing===ot)||null,Ke=$.find(Ft=>Ft.latestWeighing===ft)||null}const Kt=ne-ae,Zn=ne+ae,It=$.filter(nt=>nt.latestWeighing>=Kt&&nt.latestWeighing<=Zn).length,Rt=$.length>0?It/$.length*100:0;return{trendData:De,kpi:{total:we,max:ot,min:ft},topPerformer:se,bottomPerformer:Ke,consistency:{percentage:Rt},newAnimalIds:Se,exitingAnimalIds:X}},[$,Y.classifiedAnimals,E,T,C,ne,ae]),me=V.useMemo(()=>{let le=[...$];return l!=="all"&&(le=le.filter(Se=>Se.classification===l)),x==="new"&&(le=le.filter(Se=>re.newAnimalIds.has(Se.id))),c!=="all"&&(le=le.filter(Se=>Se.trend===c)),h!=="all"&&(le=le.filter(Se=>{const X=Se.del;return h==="first"?X>0&&X<=100:h==="second"?X>100&&X<=200:h==="third"?X>200&&X<270:h==="drying"?X>=270:!0})),le.sort((Se,X)=>Se.id.localeCompare(X.id))},[$,l,c,h,x,re.newAnimalIds]),{searchTerm:Ae,setSearchTerm:be,filteredItems:je}=v5(me,["id"]),We=V.useMemo(()=>{const le=$.length;if(le===0)return{up:0,down:0,new:0,stable:0,total:0};const Se=$.filter(se=>se.trend==="up").length,X=$.filter(se=>se.trend==="down").length,Ie=$.filter(se=>se.trend==="stable").length,De=$.filter(se=>se.trend==="single").length;return{up:Se/le*100,down:X/le*100,stable:Ie/le*100,new:De/le*100,total:le}},[$]),at=()=>{u("all"),f("all"),g("all"),w("all")},tt=le=>{if(le!=null&&le.name){const Se=le.name;u(X=>X===Se?"all":Se)}};return a?d.jsx("div",{className:"text-center p-10",children:d.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando animales..."})}):d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[d.jsx(b5,{title:"Anlisis de Rebao",subtitle:"Animales en Ordeo",searchTerm:Ae,setSearchTerm:be}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center",children:[d.jsx("button",{onClick:()=>j(le=>Math.min(le+1,E.length-1)),disabled:T>=E.length-1,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:d.jsx(Q4,{})}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-lg font-semibold text-white",children:R?new Date(R).toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Sin Datos"}),d.jsxs("p",{className:"text-sm text-zinc-400",children:[D.length," animales pesados"]})]}),d.jsx("button",{onClick:()=>j(le=>Math.max(le-1,0)),disabled:T===0,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:d.jsx(ol,{})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:()=>v("media"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[d.jsx(gA,{size:14}),d.jsx("span",{children:o?"Media Ponderada":"Media de Prod."})]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[(o?ce:ne).toFixed(2)," ",d.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[d.jsx(mH,{size:14}),d.jsx("span",{children:"Prod. Total"})]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[re.kpi.total.toFixed(2)," ",d.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),d.jsxs("button",{onClick:()=>v("stdDev"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[d.jsx(wH,{size:14}),d.jsx("span",{children:"Consistencia"})]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[ae.toFixed(2)," ",d.jsx("span",{className:"text-lg text-zinc-400",children:""})]})]}),d.jsxs("button",{onClick:()=>v("rango"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[d.jsx(bA,{size:14}),d.jsx("span",{children:"Rango Prod."})]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[re.kpi.min.toFixed(2)," - ",re.kpi.max.toFixed(2)," ",d.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(pA,{className:"text-amber-400",size:18}),d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Anlisis del Da"}),d.jsx("button",{onClick:()=>A(!0),className:"text-zinc-500 hover:text-white",children:d.jsx(Hy,{size:14})})]}),d.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-300 cursor-pointer",children:[d.jsx(ip,{size:14,className:o?"text-amber-400":"text-zinc-500"}),d.jsx("span",{children:"Ponderado a DEL"}),d.jsx("button",{type:"button",onClick:le=>{le.preventDefault(),le.stopPropagation(),S(!0)},className:"text-zinc-500 hover:text-white -ml-1",children:d.jsx(Hy,{size:14})}),d.jsx("input",{type:"checkbox",checked:o,onChange:le=>s(le.target.checked),className:"form-checkbox h-4 w-4 bg-zinc-700 border-zinc-600 rounded text-amber-500 focus:ring-offset-0"})]})]}),d.jsx("div",{className:"w-full h-48",children:d.jsx(xa,{children:d.jsxs(Do,{data:L,margin:{top:20,right:10,left:-20,bottom:0},children:[d.jsx(Tr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(Pr,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(In,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),d.jsxs(Mr,{dataKey:"count",onClick:tt,cursor:"pointer",children:[L.map(le=>d.jsx(Sm,{fill:le.fill,className:`${l!=="all"&&l!==le.name?"opacity-30":"opacity-100"} transition-opacity`},le.name)),d.jsx(xi,{dataKey:"count",content:d.jsx(c2e,{total:$.length})})]})]})})}),d.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[d.jsxs("span",{children:[" = ",ne.toFixed(2)]})," | ",d.jsxs("span",{children:[" = ",ae.toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center px-2 pt-2",children:[d.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[d.jsx("button",{onClick:()=>f("all"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors ${c==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),d.jsxs("button",{onClick:()=>f("up"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${c==="up"?"bg-green-700 text-white":"bg-zinc-800/50 text-green-400"}`,children:[d.jsx(hA,{size:14})," ",d.jsxs("span",{children:[We.up.toFixed(0),"%"]})]}),d.jsxs("button",{onClick:()=>f("down"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${c==="down"?"bg-red-700 text-white":"bg-zinc-800/50 text-red-400"}`,children:[d.jsx(dA,{size:14})," ",d.jsxs("span",{children:[We.down.toFixed(0),"%"]})]}),d.jsxs("button",{onClick:()=>f("single"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${c==="single"?"bg-blue-700 text-white":"bg-zinc-800/50 text-blue-400"}`,children:[d.jsx(gH,{size:14})," ",d.jsxs("span",{children:[We.new.toFixed(0),"%"]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("div",{className:"text-sm font-medium text-zinc-500",children:[je.length," / ",$.length]}),d.jsx("button",{onClick:at,title:"Limpiar todos los filtros",className:"text-zinc-500 hover:text-white",children:d.jsx(tH,{size:16})})]})]}),d.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[d.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Fase Lactancia:"}),d.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[d.jsx("button",{onClick:()=>g("all"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),d.jsx("button",{onClick:()=>g("first"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="first"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"1er T"}),d.jsx("button",{onClick:()=>g("second"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="second"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"2do T"}),d.jsx("button",{onClick:()=>g("third"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="third"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"3er T"}),d.jsx("button",{onClick:()=>g("drying"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="drying"?"bg-red-700/80 text-white":"bg-zinc-800/50 text-red-300"}`,children:"A Secado"})]})]}),d.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[d.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Movimientos:"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("button",{onClick:()=>w(le=>le==="new"?"all":"new"),disabled:re.newAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${x==="new"?"bg-green-600 text-white shadow-lg shadow-green-500/20":"bg-zinc-800/50 text-zinc-300"} ${re.newAnimalIds.size>0&&x!=="new"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[d.jsx(lH,{size:14})," ",d.jsxs("span",{children:["Ingresos (",re.newAnimalIds.size,")"]})]}),d.jsxs("button",{onClick:()=>alert(`Animales que salieron del ordeo:
${[...re.exitingAnimalIds].join(`
`)}`),disabled:re.exitingAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${x==="exiting"?"bg-red-600 text-white shadow-lg shadow-red-500/20":"bg-zinc-800/50 text-zinc-300"} ${re.exitingAnimalIds.size>0&&x!=="exiting"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[d.jsx(eL,{size:14})," ",d.jsxs("span",{children:["Salidas (",re.exitingAnimalIds.size,")"]})]})]})]})]}),d.jsx("div",{className:"space-y-2",children:je.length>0?je.map(le=>d.jsx(bw,{animal:le,onSelectAnimal:t},le.weighingId||le.id)):d.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:d.jsx("p",{className:"text-zinc-400",children:Ae?`No se encontraron resultados para "${Ae}"`:"No se encontraron animales con los filtros actuales."})})}),d.jsx(Ut,{isOpen:b==="media",onClose:()=>v(null),title:"Tendencia de Produccin Promedio",children:d.jsx("div",{className:"w-full h-56 -ml-4",children:d.jsx(xa,{width:"100%",height:"100%",children:d.jsxs(Do,{data:re.trendData,margin:{top:20,right:20,left:-20,bottom:5},children:[d.jsx(Nb,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),d.jsx(Tr,{dataKey:"date",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(Pr,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(In,{cursor:{fill:"rgba(255, 255, 255, 0.05)"},contentStyle:{backgroundColor:"rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.2)"}}),d.jsx(Mr,{dataKey:"avg",name:"Promedio Kg",fill:"#FBBF24",radius:[4,4,0,0],children:d.jsx(xi,{dataKey:"avg",position:"top",formatter:le=>le.toFixed(2),fill:"#FFF",fontSize:12})})]})})})}),d.jsx(Ut,{isOpen:b==="rango",onClose:()=>v(null),title:"Extremos de Produccin del Da",children:d.jsxs("div",{className:"space-y-4",children:[re.topPerformer&&d.jsxs("div",{className:"bg-green-900/40 border border-green-500/50 rounded-2xl p-4",children:[d.jsx("h3",{className:"font-semibold text-green-300 mb-2",children:"Animal Estrella (Produccin Mxima)"}),d.jsx(bw,{animal:re.topPerformer,onSelectAnimal:()=>{v(null),t(re.topPerformer.id)}})]}),re.bottomPerformer&&d.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-4",children:[d.jsx("h3",{className:"font-semibold text-red-300 mb-2",children:"Animal a Observar (Produccin Mnima)"}),d.jsx(bw,{animal:re.bottomPerformer,onSelectAnimal:()=>{v(null),t(re.bottomPerformer.id)}})]})]})}),d.jsx(Ut,{isOpen:b==="stdDev",onClose:()=>v(null),title:"Anlisis de Consistencia ()",children:d.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[d.jsx("p",{children:"La Desviacin Estndar () mide qu tan dispersa est la produccin de tu rebao. Un valor **bajo** es ideal, ya que indica un rebao consistente y predecible."}),d.jsxs("div",{className:"bg-black/30 p-4 rounded-lg text-center",children:[d.jsx("p",{className:"text-sm uppercase text-zinc-400",children:"Rebao dentro de 1 de la media"}),d.jsxs("p",{className:"text-4xl font-bold text-amber-400 my-1",children:[re.consistency.percentage.toFixed(0),"%"]}),d.jsxs("p",{className:"text-sm text-zinc-400",children:["Esto significa que la mayora de tu rebao tiene un rendimiento muy cercano al promedio de ",d.jsxs("span",{className:"font-bold text-white",children:[ne.toFixed(2)," Kg"]}),"."]})]}),d.jsx("p",{className:"text-xs text-zinc-500 pt-2 border-t border-zinc-700",children:"En una distribucin normal perfecta, este valor es del 68%. Un valor superior indica una consistencia excepcional."})]})}),d.jsx(Ut,{isOpen:_,onClose:()=>A(!1),title:"Qu es el Anlisis del Ordeo?",children:d.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[d.jsx("p",{children:"Este panel clasifica a los animales en ordeo segn su rendimiento, permitindote identificar rpidamente a los individuos de mayor y menor produccin."}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white mb-1",children:"Clasificacin (Pobre, Promedio, Sobresaliente)"}),d.jsx("p",{className:"text-sm",children:"Se calcula usando la media () y la desviacin estndar () de la produccin. Los animales que se desvan significativamente del promedio se marcan como pobres o sobresalientes."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white mb-1",children:"Ponderado a DEL"}),d.jsxs("p",{className:"text-sm",children:["Al activar este interruptor (",d.jsx(ip,{size:12,className:"inline-block mb-0.5"}),'), el anlisis se vuelve ms inteligente. Otorga un mayor "score" a los animales que producen bien al inicio de su lactancia, ya que es ms valioso que la misma produccin en una etapa tarda.']})]})]})}),d.jsx(Ut,{isOpen:I,onClose:()=>S(!1),title:"Qu es el Score Ponderado?",children:d.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[d.jsx("p",{children:"El Score Ponderado ajusta la produccin de un animal para premiar la **persistencia lechera**, un indicador clave de la calidad gentica y la eficiencia."}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white mb-1",children:"Frmula Aplicada"}),d.jsx("div",{className:"bg-black/30 p-3 rounded-lg text-sm font-mono text-center",children:"Score = Kg  (1 + ((DEL - 50) / (DEL + 50)))"})]}),d.jsx("p",{className:"pt-2 border-t border-zinc-700/80 text-sm",children:"Esto significa que 2 Kg en el da **200** de lactancia obtendrn un score **mucho ms alto** que 2 Kg en el da 40, ayudndote a identificar a tus animales ms eficientes y persistentes."})]})})]})}const d2e=t=>V.useMemo(()=>{if(t.length===0)return{monthlyData:[]};const n=t.reduce((i,a)=>{const o=a.date.substring(0,7);return i[o]||(i[o]=[]),i[o].push(a),i},{});let r=Object.entries(n).map(([i,a])=>{const o=new Date(`${i}-02T12:00:00Z`),s=o.toLocaleString("es-VE",{month:"long",timeZone:"UTC"}),l=o.getUTCFullYear(),u=a.length,c=a.reduce((f,h)=>f+h.kg,0);return{periodLabel:`${s.charAt(0).toUpperCase()+s.slice(1)} ${l}`,periodId:i,totalKg:c,averageKg:u>0?c/u:0,weighingCount:u,animalCount:new Set(a.map(f=>f.goatId)).size,weighingEvents:new Set(a.map(f=>f.date)).size,weighings:a,newAnimalsWeighings:[]}}).sort((i,a)=>a.periodId.localeCompare(i.periodId));return r=r.map((i,a,o)=>{const s=o[a+1];if(s){const l=s.averageKg?(i.averageKg-s.averageKg)/s.averageKg*100:void 0,u=s.animalCount?(i.animalCount-s.animalCount)/s.animalCount*100:void 0,c=new Set(s.weighings.map(v=>v.goatId)),f=new Set(i.weighings.map(v=>v.goatId)),h=new Set([...f].filter(v=>!c.has(v))),g=i.weighings.filter(v=>h.has(v.goatId)),b=[...c].filter(v=>!f.has(v)).length;return{...i,avgKgChange:l,animalCountChange:u,newAnimalsWeighings:g,previousAnimalCount:s.animalCount,exitingAnimalCount:b}}return{...i,newAnimalsWeighings:i.weighings,previousAnimalCount:0,exitingAnimalCount:0}}),{monthlyData:r,quarterlyData:[],yearlyData:[]}},[t]),ry=({value:t})=>{if(t===void 0||isNaN(t))return null;const e=t>0,n=e?"text-green-400":"text-red-400",r=e?hA:dA;return d.jsxs("span",{className:`flex items-center text-sm font-bold ${n}`,children:[d.jsx(r,{size:16,className:"mr-0.5"}),t.toFixed(1),"%"]})},h2e=({stats:t,onClick:e})=>d.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-amber transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-lg text-white",children:t.periodLabel}),d.jsxs("p",{className:"text-sm text-zinc-400",children:["Prom: ",t.averageKg.toFixed(2)," Kg | ",t.animalCount," animales"]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(ry,{value:t.avgKgChange}),d.jsx(ol,{className:"text-zinc-600"})]})]}),Qz=({weighing:t,onSelectAnimal:e})=>d.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-black/20 rounded-lg p-3 border border-zinc-700/50 flex justify-between items-center hover:border-amber-400/50",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsx("div",{children:d.jsxs("p",{className:"font-bold text-base text-white flex items-center gap-2",children:[t.id,d.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-red-500/80":t.classification==="Sobresaliente"?"bg-green-500/80":"bg-gray-500/80"}`,children:t.classification})]})})}),d.jsxs("p",{className:"font-semibold text-lg text-white",children:[t.latestWeighing.toFixed(2)," ",d.jsx("span",{className:"text-base font-medium text-zinc-400",children:"Kg"})]})]}),Jz=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const o=(i/a*100).toFixed(0);return d.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${o}%`})},p2e=({isOpen:t,onClose:e,data:n,periodLabel:r,onSelectAnimal:i})=>{const{animals:a,weighings:o,parturitions:s}=qt(),[l,u]=V.useState("all"),c=r0((n==null?void 0:n.weighings)||[],a,o,s,!1),f=V.useMemo(()=>l==="all"?c.classifiedAnimals:c.classifiedAnimals.filter(g=>g.classification===l),[c.classifiedAnimals,l]),h=g=>{if(g!=null&&g.name){const b=g.name;u(v=>v===b?"all":b)}};return!t||!n?null:d.jsx(Ut,{isOpen:t,onClose:e,title:`Anlisis de Nuevos Ingresos - ${r}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[d.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[d.jsx(fm,{size:14}),"Promedio"]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[c.mean.toFixed(2),d.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]}),d.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[d.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[d.jsx(Wf,{size:14}),"Animales"]}),d.jsx("p",{className:"text-2xl font-bold text-white",children:c.classifiedAnimals.length})]})]}),d.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:d.jsx("div",{className:"w-full h-48",children:d.jsx(xa,{children:d.jsxs(Do,{data:c.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[d.jsx(Tr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(Pr,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(In,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),d.jsxs(Mr,{dataKey:"count",onClick:h,cursor:"pointer",children:[c.distribution.map(g=>d.jsx(Sm,{fill:g.fill,className:`${l!=="all"&&l!==g.name?"opacity-30":"opacity-100"}`},g.name)),d.jsx(xi,{dataKey:"count",content:d.jsx(Jz,{total:c.classifiedAnimals.length})})]})]})})})}),d.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:f.sort((g,b)=>b.latestWeighing-g.latestWeighing).map(g=>d.jsx(Qz,{weighing:g,onSelectAnimal:i},g.weighingId||g.id))})]})})};function m2e({onSelectAnimal:t,selectedPeriod:e,setSelectedPeriod:n}){const{animals:r,weighings:i,parturitions:a,isLoading:o}=qt(),[s,l]=V.useState("monthly"),[u,c]=V.useState(!1),[f,h]=V.useState(null),[g,b]=V.useState("all"),{monthlyData:v}=d2e(i),x=r0((e==null?void 0:e.weighings)||[],r,i,a,!1),w=V.useMemo(()=>g==="all"?x.classifiedAnimals:x.classifiedAnimals.filter(S=>S.classification===g),[x.classifiedAnimals,g]),_=S=>{if(S!=null&&S.name){const C=S.name;b(E=>E===C?"all":C)}},I={monthly:v,quarterly:[],yearly:[]}[s];return o?d.jsx("div",{className:"text-center p-10",children:d.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando historial..."})}):e?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in",children:[d.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[d.jsx("button",{onClick:()=>{n(null),b("all")},className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:24})}),d.jsxs("div",{className:"text-center flex-grow",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:e.periodLabel}),d.jsx("p",{className:"text-lg text-zinc-400",children:"Anlisis del Perodo"})]}),d.jsx("div",{className:"w-8"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[d.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[d.jsx(fm,{size:14}),"Promedio / Animal"]}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.averageKg.toFixed(2),d.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]}),d.jsx(ry,{value:e.avgKgChange})]})]}),d.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[d.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[d.jsx(mA,{size:14}),"Eventos de Pesaje"]}),d.jsx("p",{className:"text-2xl font-bold text-white",children:e.weighingEvents})]}),d.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[d.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[d.jsx(Wf,{size:14}),"Animales Ordeados"]}),d.jsxs("button",{onClick:()=>c(!0),className:"flex items-baseline gap-2 w-full text-left",children:[d.jsx("p",{className:"text-2xl font-bold text-white",children:e.animalCount}),d.jsx(ry,{value:e.animalCountChange})]})]}),d.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[d.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[d.jsx(bA,{size:14}),"Total Registrado"]}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.totalKg.toFixed(0),d.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]})]}),d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[d.jsxs("div",{className:"flex items-center space-x-2 border-b border-brand-border pb-2 mb-4",children:[d.jsx(pA,{className:"text-amber-400",size:18}),d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribucin del Perodo"})]}),d.jsx("div",{className:"w-full h-48",children:d.jsx(xa,{children:d.jsxs(Do,{data:x.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[d.jsx(Tr,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(Pr,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),d.jsx(In,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),d.jsxs(Mr,{dataKey:"count",onClick:_,cursor:"pointer",children:[x.distribution.map(S=>d.jsx(Sm,{fill:S.fill,className:`${g!=="all"&&g!==S.name?"opacity-30":"opacity-100"} transition-opacity`},S.name)),d.jsx(xi,{dataKey:"count",content:d.jsx(Jz,{total:x.classifiedAnimals.length})})]})]})})}),d.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[d.jsxs("span",{children:[" = ",x.mean.toFixed(2)," Kg"]})," | ",d.jsxs("span",{children:[" = ",x.stdDev.toFixed(2)]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1 mt-4",children:["Pesajes del Perodo (",w.length,")"]}),w.sort((S,C)=>C.latestWeighing-S.latestWeighing).map(S=>d.jsx(Qz,{weighing:S,onSelectAnimal:t},S.weighingId||S.id))]})]}),d.jsx(Ut,{isOpen:u,onClose:()=>c(!1),title:"Variacin de Animales en Ordeo",children:d.jsxs("div",{className:"text-zinc-300 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-white mb-1",children:[e.periodLabel," vs Mes Anterior"]}),d.jsxs("p",{className:"text-sm text-zinc-400",children:["El mes anterior tenas ",d.jsx("span",{className:"font-bold text-white",children:e.previousAnimalCount})," animales en ordeo. Este mes tienes ",d.jsx("span",{className:"font-bold text-white",children:e.animalCount}),"."]}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("p",{children:["El cambio neto es de ",d.jsx("span",{className:"font-bold text-white",children:e.animalCount-e.previousAnimalCount})," animales"]}),d.jsx(ry,{value:e.animalCountChange})]})]}),d.jsxs("div",{className:"pt-4 border-t border-zinc-700/80",children:[e.exitingAnimalCount>0&&d.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Salieron del ordeo: ",d.jsx("span",{className:"font-bold text-red-400",children:e.exitingAnimalCount})," animales."]}),e.newAnimalsWeighings.length>0&&d.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Nuevos ingresos: ",d.jsx("span",{className:"font-bold text-green-400",children:new Set(e.newAnimalsWeighings.map(S=>S.goatId)).size})," animales."]}),e.newAnimalsWeighings.length>0&&d.jsxs("button",{onClick:()=>{h({...e,weighings:e.newAnimalsWeighings}),c(!1)},className:"w-full mt-4 bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-500",children:["Analizar los ",new Set(e.newAnimalsWeighings.map(S=>S.goatId)).size," Nuevos Ingresos"]})]})]})}),d.jsx(p2e,{isOpen:!!f,onClose:()=>h(null),data:f,periodLabel:e.periodLabel,onSelectAnimal:t})]}):d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[d.jsxs("header",{className:"text-center pt-8 pb-4",children:[d.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Historial de Produccin"}),d.jsx("p",{className:"text-xl text-zinc-400",children:"La pelcula de tu rebao"})]}),d.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:d.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[d.jsx("button",{onClick:()=>l("monthly"),className:`w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${s==="monthly"?"bg-amber-500 text-black":"text-zinc-300 hover:bg-zinc-700/50"}`,children:"Mensual"}),d.jsx("button",{disabled:!0,className:"w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed",children:"Trimestral"}),d.jsx("button",{disabled:!0,className:"w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed",children:"Anual"})]})}),d.jsx("div",{className:"space-y-2",children:(I||[]).map(S=>d.jsx(h2e,{stats:S,onClick:()=>n(S)},S.periodId))})]})}const g2e=({onBack:t})=>{const{addWeighing:e,fetchData:n}=qt(),[r,i]=V.useState(""),[a,o]=V.useState(""),[s,l]=V.useState(null),u=async c=>{if(c.preventDefault(),!r||!a){l({type:"error",text:"El ID y los Kg son obligatorios."});return}const f={goatId:r.toUpperCase().trim(),kg:parseFloat(a),date:new Date().toISOString().split("T")[0]};try{await e(f),l({type:"success",text:`Pesaje para ${r.toUpperCase().trim()} aadido.`}),i(""),o(""),await n()}catch(h){l({type:"error",text:"No se pudo guardar el pesaje."}),console.error(h)}setTimeout(()=>l(null),3e3)};return d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[d.jsxs("div",{className:"flex items-center border-b border-brand-border pb-2 mb-4",children:[d.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:20})}),d.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mx-auto pr-8",children:"Entrada Individual"})]}),d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:"ID del Animal",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none transition-colors"}),d.jsx("input",{type:"number",step:"0.01",value:a,onChange:c=>o(c.target.value),placeholder:"Produccin en Kg",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none transition-colors"}),d.jsx("button",{type:"submit",className:"w-full bg-brand-amber hover:bg-yellow-500 text-black font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:"Guardar Pesaje"}),s&&d.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${s.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[s.type==="success"?d.jsx(sl,{size:18}):d.jsx(lo,{size:18}),d.jsx("span",{children:s.text})]})]})]})},y2e=({entry:t,onDelete:e,onRegister:n})=>{const r=t.isUnrecognized;return d.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${r?"bg-amber-900/40 border border-amber-500/50":"bg-black/20"}`,children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[r&&d.jsx(lo,{className:"text-amber-400 flex-shrink-0",size:18}),d.jsx("span",{className:"font-semibold text-white",children:t.goatId})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[r?d.jsx("button",{onClick:()=>n(t.goatId),className:"text-xs font-semibold bg-amber-500 text-black px-2 py-1 rounded-md hover:bg-amber-400",children:"Registrar Parto"}):d.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),d.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(dm,{size:16})})]})]})},v2e=({onBack:t,onNavigate:e})=>{const{animals:n,fetchData:r}=qt(),[i,a]=V.useState(""),[o,s]=V.useState(""),[l,u]=V.useState([]),[c,f]=V.useState(null),[h,g]=V.useState(new Date().toISOString().split("T")[0]),[b,v]=V.useState({isOpen:!1,motherId:""}),x=V.useRef(null),w=V.useRef(null),_=V.useMemo(()=>new Set(n.map(R=>R.id)),[n]);V.useEffect(()=>{var R;(R=x.current)==null||R.focus()},[]);const A=()=>{var $;if(!i||!o)return;const R=i.toUpperCase().trim(),D={tempId:Date.now(),goatId:R,kg:parseFloat(o),date:h,isUnrecognized:!_.has(R)};u(L=>[D,...L]),a(""),s(""),($=x.current)==null||$.focus()},I=async()=>{f(null);const{currentUser:R}=rp;if(!R){f({type:"error",text:"Error de autenticacin. No se pueden guardar los datos."});return}const D=l.filter($=>$.isUnrecognized).length;if(D>0){f({type:"error",text:`No se puede guardar. Tienes ${D} animal(es) sin registrar.`});return}if(l.length===0){f({type:"error",text:"No hay pesajes en la lista para guardar."});return}try{const $=F1(un),L=So(un,"weighings");l.forEach(ne=>{const ae=jr(L),ce={goatId:ne.goatId,kg:ne.kg,date:ne.date,userId:R.uid};$.set(ae,ce)}),await $.commit(),f({type:"success",text:`${l.length} pesajes guardados y sincronizados con xito.`}),u([]),setTimeout(()=>{e("animals",{selectedDate:h})},1e3)}catch($){f({type:"error",text:"Ocurri un error al guardar en la nube."}),console.error("Error en escritura por lote:",$)}},S=R=>{var D;R.key==="Enter"&&i&&(R.preventDefault(),(D=w.current)==null||D.focus())},C=R=>{R.key==="Enter"&&o&&(R.preventDefault(),A())},E=R=>{u(D=>D.filter($=>$.tempId!==R))},T=R=>{v({isOpen:!0,motherId:R})},j=()=>{u(R=>R.map(D=>D.goatId===b.motherId?{...D,isUnrecognized:!1}:D)),r(),v({isOpen:!1,motherId:""})};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[d.jsxs("div",{className:"flex items-center border-b border-brand-border pb-2",children:[d.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:d.jsx(Qi,{size:20})}),d.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mx-auto pr-8",children:"Entrada Rpida"})]}),d.jsxs("div",{className:"space-y-2 pt-2",children:[d.jsxs("label",{htmlFor:"session-date",className:"flex items-center gap-2 text-sm font-semibold text-zinc-400",children:[d.jsx(mA,{size:16}),"Fecha del Pesaje"]}),d.jsx("input",{id:"session-date",type:"date",value:h,onChange:R=>g(R.target.value),className:"w-full bg-black/20 text-white text-lg p-3 rounded-xl border border-transparent focus:border-brand-amber focus:ring-0 focus:outline-none"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{ref:x,type:"text",value:i,onChange:R=>a(R.target.value),onKeyDown:S,placeholder:"ID Animal",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"}),d.jsx("input",{ref:w,type:"number",step:"0.01",value:o,onChange:R=>s(R.target.value),onKeyDown:C,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"}),d.jsx("button",{onClick:A,disabled:!i||!o,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-indigo-600 text-white rounded-xl flex items-center justify-center transition-all hover:bg-indigo-500 disabled:opacity-40 disabled:cursor-not-allowed",children:d.jsx(Yo,{size:24})})]}),d.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2 border-t border-b border-brand-border py-2",children:[l.length===0&&d.jsx("p",{className:"text-center text-zinc-500 text-sm",children:"Los pesajes aadidos aparecern aqu."}),l.map(R=>d.jsx(y2e,{entry:R,onDelete:E,onRegister:T},R.tempId))]}),d.jsxs("button",{onClick:I,className:"w-full flex items-center justify-center gap-2 bg-brand-amber hover:bg-yellow-500 text-black font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[d.jsx(nL,{size:20})," Guardar ",l.length>0?`(${l.length})`:""," Pesajes"]}),c&&d.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${c.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[" ",c.type==="success"?d.jsx(sl,{size:18}):d.jsx(pH,{size:18})," ",d.jsx("span",{children:c.text})," "]})]}),d.jsx(Ut,{isOpen:b.isOpen,onClose:()=>v({isOpen:!1,motherId:""}),title:`Registrar Parto para: ${b.motherId}`,children:d.jsx(oT,{motherId:b.motherId,onSaveSuccess:j,onCancel:()=>v({isOpen:!1,motherId:""})})})]})};function b2e({onNavigate:t}){const[e,n]=V.useState("options"),r=e==="options"?"options":"form";return d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[d.jsxs("header",{className:"text-center pt-8 pb-4",children:[d.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Aadir Datos"}),d.jsx("p",{className:"text-xl text-zinc-400",children:"Captura de Produccin"})]}),d.jsxs("div",{children:[e==="options"&&d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsxs("button",{onClick:()=>n("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-amber-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[d.jsx(ip,{className:"w-12 h-12 mb-2 text-amber-400"}),d.jsx("span",{className:"text-lg font-semibold",children:"Entrada Rpida"}),d.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),d.jsxs("button",{onClick:()=>t("add-parturition"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-green-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[d.jsx(yA,{className:"w-12 h-12 mb-2 text-green-400"}),d.jsx("span",{className:"text-lg font-semibold",children:"Registrar Parto"}),d.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Inicia una nueva lactancia"})]}),d.jsxs("button",{onClick:()=>t("ocr"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-blue-400 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[d.jsx(hH,{className:"w-12 h-12 mb-2 text-blue-400"}),d.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),d.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]}),d.jsxs("button",{onClick:()=>n("manual"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-gray-500 text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[d.jsx(Yo,{className:"w-12 h-12 mb-2"}),d.jsx("span",{className:"text-lg font-semibold",children:"Entrada Individual"}),d.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Formulario tradicional"})]})]}),e==="rapid"&&d.jsx(v2e,{onBack:()=>n("options"),onNavigate:t}),e==="manual"&&d.jsx(g2e,{onBack:()=>n("options")})]},r)]})}function x2e({navigateToRebano:t,onExitModule:e}){const[n,r]=V.useState("dashboard"),[i,a]=V.useState(null),o=[{id:"dashboard",label:"Dashboard",icon:pA},{id:"analysis",label:"Anlisis",icon:sH},{id:"history",label:"Historial",icon:QK},{id:"add-data",label:"Aadir",icon:Yo}],s=()=>{switch(n){case"dashboard":return d.jsx(TD,{onNavigateToAnalysis:()=>r("analysis")});case"analysis":return d.jsx(f2e,{onSelectAnimal:l=>t({name:"rebano-profile",animalId:l})});case"history":return d.jsx(m2e,{onSelectAnimal:l=>t({name:"rebano-profile",animalId:l}),selectedPeriod:i,setSelectedPeriod:a});case"add-data":return d.jsx(b2e,{onNavigate:(l,u)=>t({name:l,...u})});default:return d.jsx(TD,{onNavigateToAnalysis:()=>r("analysis")})}};return d.jsxs("div",{className:"min-h-screen animate-fade-in",children:[d.jsx("button",{onClick:e,className:"fixed top-4 left-4 z-50 w-12 h-12 bg-zinc-800/80 backdrop-blur-md text-white rounded-full flex items-center justify-center shadow-lg hover:bg-zinc-700","aria-label":"Volver a Rebao",children:d.jsx(Qi,{size:24})}),d.jsx("main",{className:"pb-24",children:s()}),d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:o.map(l=>d.jsxs("button",{onClick:()=>r(l.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${n===l.id?"text-indigo-400":"text-gray-400 hover:text-indigo-400"}`,children:[d.jsx(l.icon,{className:"w-6 h-6 mb-1"}),d.jsx("span",{className:"text-xs font-semibold",children:l.label})]},l.id))})]})}function w2e(){const{currentUser:t}=Y4(),[e,n]=V.useState("rebano"),[r,i]=V.useState(null),a=l=>{i(null),n(l)},o=()=>{n("rebano")},s=l=>{i(l),n("rebano")};if(!t)return d.jsx(EH,{});switch(e){case"lactokeeper":return d.jsx(x2e,{onExitModule:o,navigateToRebano:s});case"rebano":default:return d.jsx(s2e,{initialPage:r,onSwitchModule:a})}}xw.createRoot(document.getElementById("root")).render(d.jsx(U.StrictMode,{children:d.jsx(WK,{children:d.jsx(PH,{children:d.jsx(w2e,{})})})}));
