var gse=Object.defineProperty;var vse=(t,e,n)=>e in t?gse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ln=(t,e,n)=>vse(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e$={exports:{}},WS={},t$={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb=Symbol.for("react.element"),yse=Symbol.for("react.portal"),bse=Symbol.for("react.fragment"),xse=Symbol.for("react.strict_mode"),wse=Symbol.for("react.profiler"),Cse=Symbol.for("react.provider"),Sse=Symbol.for("react.context"),Ese=Symbol.for("react.forward_ref"),_se=Symbol.for("react.suspense"),Bse=Symbol.for("react.memo"),Nse=Symbol.for("react.lazy"),nL=Symbol.iterator;function jse(t){return t===null||typeof t!="object"?null:(t=nL&&t[nL]||t["@@iterator"],typeof t=="function"?t:null)}var n$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r$=Object.assign,i$={};function Jg(t,e,n){this.props=t,this.context=e,this.refs=i$,this.updater=n||n$}Jg.prototype.isReactComponent={};Jg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a$(){}a$.prototype=Jg.prototype;function Mk(t,e,n){this.props=t,this.context=e,this.refs=i$,this.updater=n||n$}var Rk=Mk.prototype=new a$;Rk.constructor=Mk;r$(Rk,Jg.prototype);Rk.isPureReactComponent=!0;var rL=Array.isArray,s$=Object.prototype.hasOwnProperty,Uk={current:null},o$={key:!0,ref:!0,__self:!0,__source:!0};function l$(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)s$.call(e,r)&&!o$.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:zb,type:t,key:a,ref:s,props:i,_owner:Uk.current}}function Ise(t,e){return{$$typeof:zb,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qk(t){return typeof t=="object"&&t!==null&&t.$$typeof===zb}function Tse(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iL=/\/+/g;function x_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tse(""+t.key):e.toString(36)}function Nw(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zb:case yse:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+x_(s,0):r,rL(i)?(n="",t!=null&&(n=t.replace(iL,"$&/")+"/"),Nw(i,e,n,"",function(u){return u})):i!=null&&(Qk(i)&&(i=Ise(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(iL,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",rL(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+x_(a,o);s+=Nw(a,e,n,l,i)}else if(l=jse(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+x_(a,o++),s+=Nw(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function qx(t,e,n){if(t==null)return t;var r=[],i=0;return Nw(t,r,"","",function(a){return e.call(n,a,i++)}),r}function kse(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Eo={current:null},jw={transition:null},Pse={ReactCurrentDispatcher:Eo,ReactCurrentBatchConfig:jw,ReactCurrentOwner:Uk};function c$(){throw Error("act(...) is not supported in production builds of React.")}ar.Children={map:qx,forEach:function(t,e,n){qx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qx(t,function(){e++}),e},toArray:function(t){return qx(t,function(e){return e})||[]},only:function(t){if(!Qk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ar.Component=Jg;ar.Fragment=bse;ar.Profiler=wse;ar.PureComponent=Mk;ar.StrictMode=xse;ar.Suspense=_se;ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pse;ar.act=c$;ar.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=r$({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Uk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)s$.call(e,l)&&!o$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:zb,type:t.type,key:i,ref:a,props:r,_owner:s}};ar.createContext=function(t){return t={$$typeof:Sse,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cse,_context:t},t.Consumer=t};ar.createElement=l$;ar.createFactory=function(t){var e=l$.bind(null,t);return e.type=t,e};ar.createRef=function(){return{current:null}};ar.forwardRef=function(t){return{$$typeof:Ese,render:t}};ar.isValidElement=Qk;ar.lazy=function(t){return{$$typeof:Nse,_payload:{_status:-1,_result:t},_init:kse}};ar.memo=function(t,e){return{$$typeof:Bse,type:t,compare:e===void 0?null:e}};ar.startTransition=function(t){var e=jw.transition;jw.transition={};try{t()}finally{jw.transition=e}};ar.unstable_act=c$;ar.useCallback=function(t,e){return Eo.current.useCallback(t,e)};ar.useContext=function(t){return Eo.current.useContext(t)};ar.useDebugValue=function(){};ar.useDeferredValue=function(t){return Eo.current.useDeferredValue(t)};ar.useEffect=function(t,e){return Eo.current.useEffect(t,e)};ar.useId=function(){return Eo.current.useId()};ar.useImperativeHandle=function(t,e,n){return Eo.current.useImperativeHandle(t,e,n)};ar.useInsertionEffect=function(t,e){return Eo.current.useInsertionEffect(t,e)};ar.useLayoutEffect=function(t,e){return Eo.current.useLayoutEffect(t,e)};ar.useMemo=function(t,e){return Eo.current.useMemo(t,e)};ar.useReducer=function(t,e,n){return Eo.current.useReducer(t,e,n)};ar.useRef=function(t){return Eo.current.useRef(t)};ar.useState=function(t){return Eo.current.useState(t)};ar.useSyncExternalStore=function(t,e,n){return Eo.current.useSyncExternalStore(t,e,n)};ar.useTransition=function(){return Eo.current.useTransition()};ar.version="18.3.1";t$.exports=ar;var P=t$.exports;const be=Rr(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dse=P,Ose=Symbol.for("react.element"),Fse=Symbol.for("react.fragment"),Lse=Object.prototype.hasOwnProperty,Mse=Dse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rse={key:!0,ref:!0,__self:!0,__source:!0};function u$(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Lse.call(e,r)&&!Rse.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ose,type:t,key:a,ref:s,props:i,_owner:Mse.current}}WS.Fragment=Fse;WS.jsx=u$;WS.jsxs=u$;e$.exports=WS;var c=e$.exports,bN={},A$={exports:{}},Rl={},d$={exports:{}},f$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,te){var le=K.length;K.push(te);e:for(;0<le;){var se=le-1>>>1,M=K[se];if(0<i(M,te))K[se]=te,K[le]=M,le=se;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],le=K.pop();if(le!==te){K[0]=le;e:for(var se=0,M=K.length,$=M>>>1;se<$;){var J=2*(se+1)-1,ne=K[J],he=J+1,we=K[he];if(0>i(ne,le))he<M&&0>i(we,ne)?(K[se]=we,K[he]=le,se=he):(K[se]=ne,K[J]=le,se=J);else if(he<M&&0>i(we,le))K[se]=we,K[he]=le,se=he;else break e}}return te}function i(K,te){var le=K.sortIndex-te.sortIndex;return le!==0?le:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],A=1,d=null,f=3,h=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(K){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=K)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function S(K){if(m=!1,x(K),!p)if(n(l)!==null)p=!0,Y(E);else{var te=n(u);te!==null&&ee(S,te.startTime-K)}}function E(K,te){p=!1,m&&(m=!1,g(B),B=-1),h=!0;var le=f;try{for(x(te),d=n(l);d!==null&&(!(d.expirationTime>te)||K&&!k());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var M=se(d.expirationTime<=te);te=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),x(te)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var J=n(u);J!==null&&ee(S,J.startTime-te),$=!1}return $}finally{d=null,f=le,h=!1}}var N=!1,_=null,B=-1,j=5,D=-1;function k(){return!(t.unstable_now()-D<j)}function O(){if(_!==null){var K=t.unstable_now();D=K;var te=!0;try{te=_(!0,K)}finally{te?L():(N=!1,_=null)}}else N=!1}var L;if(typeof y=="function")L=function(){y(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=O,L=function(){q.postMessage(null)}}else L=function(){v(O,0)};function Y(K){_=K,N||(N=!0,L())}function ee(K,te){B=v(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,Y(E))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var le=f;f=te;try{return K()}finally{f=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=f;f=K;try{return te()}finally{f=le}},t.unstable_scheduleCallback=function(K,te,le){var se=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?se+le:se):le=se,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,K={id:A++,callback:te,priorityLevel:K,startTime:le,expirationTime:M,sortIndex:-1},le>se?(K.sortIndex=le,e(u,K),n(l)===null&&K===n(u)&&(m?(g(B),B=-1):m=!0,ee(S,le-se))):(K.sortIndex=M,e(l,K),p||h||(p=!0,Y(E))),K},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(K){var te=f;return function(){var le=f;f=te;try{return K.apply(this,arguments)}finally{f=le}}}})(f$);d$.exports=f$;var Use=d$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qse=P,kl=Use;function kt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h$=new Set,my={};function np(t,e){Ym(t,e),Ym(t+"Capture",e)}function Ym(t,e){for(my[t]=e,t=0;t<e.length;t++)h$.add(e[t])}var kA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xN=Object.prototype.hasOwnProperty,Hse=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aL={},sL={};function zse(t){return xN.call(sL,t)?!0:xN.call(aL,t)?!1:Hse.test(t)?sL[t]=!0:(aL[t]=!0,!1)}function Vse(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $se(t,e,n,r){if(e===null||typeof e>"u"||Vse(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _o(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ts[t]=new _o(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ts[e]=new _o(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ts[t]=new _o(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ts[t]=new _o(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ts[t]=new _o(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ts[t]=new _o(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ts[t]=new _o(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ts[t]=new _o(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ts[t]=new _o(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hk=/[\-:]([a-z])/g;function zk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hk,zk);Ts[e]=new _o(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hk,zk);Ts[e]=new _o(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hk,zk);Ts[e]=new _o(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ts[t]=new _o(t,1,!1,t.toLowerCase(),null,!1,!1)});Ts.xlinkHref=new _o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ts[t]=new _o(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vk(t,e,n,r){var i=Ts.hasOwnProperty(e)?Ts[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($se(e,n,i,r)&&(n=null),r||i===null?zse(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var WA=Qse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yx=Symbol.for("react.element"),nm=Symbol.for("react.portal"),rm=Symbol.for("react.fragment"),$k=Symbol.for("react.strict_mode"),wN=Symbol.for("react.profiler"),p$=Symbol.for("react.provider"),m$=Symbol.for("react.context"),Kk=Symbol.for("react.forward_ref"),CN=Symbol.for("react.suspense"),SN=Symbol.for("react.suspense_list"),Wk=Symbol.for("react.memo"),xd=Symbol.for("react.lazy"),g$=Symbol.for("react.offscreen"),oL=Symbol.iterator;function D0(t){return t===null||typeof t!="object"?null:(t=oL&&t[oL]||t["@@iterator"],typeof t=="function"?t:null)}var Ri=Object.assign,w_;function lv(t){if(w_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);w_=e&&e[1]||""}return`
`+w_+t}var C_=!1;function S_(t,e){if(!t||C_)return"";C_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{C_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lv(t):""}function Kse(t){switch(t.tag){case 5:return lv(t.type);case 16:return lv("Lazy");case 13:return lv("Suspense");case 19:return lv("SuspenseList");case 0:case 2:case 15:return t=S_(t.type,!1),t;case 11:return t=S_(t.type.render,!1),t;case 1:return t=S_(t.type,!0),t;default:return""}}function EN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rm:return"Fragment";case nm:return"Portal";case wN:return"Profiler";case $k:return"StrictMode";case CN:return"Suspense";case SN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m$:return(t.displayName||"Context")+".Consumer";case p$:return(t._context.displayName||"Context")+".Provider";case Kk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wk:return e=t.displayName||null,e!==null?e:EN(t.type)||"Memo";case xd:e=t._payload,t=t._init;try{return EN(t(e))}catch{}}return null}function Wse(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return EN(e);case 8:return e===$k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gse(t){var e=v$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xx(t){t._valueTracker||(t._valueTracker=Gse(t))}function y$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function m2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _N(t,e){var n=e.checked;return Ri({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lL(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b$(t,e){e=e.checked,e!=null&&Vk(t,"checked",e,!1)}function BN(t,e){b$(t,e);var n=nf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?NN(t,e.type,n):e.hasOwnProperty("defaultValue")&&NN(t,e.type,nf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cL(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function NN(t,e,n){(e!=="number"||m2(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cv=Array.isArray;function Nm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(kt(91));return Ri({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uL(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(kt(92));if(cv(n)){if(1<n.length)throw Error(kt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nf(n)}}function x$(t,e){var n=nf(e.value),r=nf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function AL(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function w$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function IN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?w$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jx,C$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jx=Jx||document.createElement("div"),Jx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gy(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qse=["Webkit","ms","Moz","O"];Object.keys(jv).forEach(function(t){qse.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jv[e]=jv[t]})});function S$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jv.hasOwnProperty(t)&&jv[t]?(""+e).trim():e+"px"}function E$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=S$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Yse=Ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function TN(t,e){if(e){if(Yse[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(kt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(kt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(kt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(kt(62))}}function kN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PN=null;function Gk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var DN=null,jm=null,Im=null;function dL(t){if(t=Kb(t)){if(typeof DN!="function")throw Error(kt(280));var e=t.stateNode;e&&(e=JS(e),DN(t.stateNode,t.type,e))}}function _$(t){jm?Im?Im.push(t):Im=[t]:jm=t}function B$(){if(jm){var t=jm,e=Im;if(Im=jm=null,dL(t),e)for(t=0;t<e.length;t++)dL(e[t])}}function N$(t,e){return t(e)}function j$(){}var E_=!1;function I$(t,e,n){if(E_)return t(e,n);E_=!0;try{return N$(t,e,n)}finally{E_=!1,(jm!==null||Im!==null)&&(j$(),B$())}}function vy(t,e){var n=t.stateNode;if(n===null)return null;var r=JS(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(kt(231,e,typeof n));return n}var ON=!1;if(kA)try{var O0={};Object.defineProperty(O0,"passive",{get:function(){ON=!0}}),window.addEventListener("test",O0,O0),window.removeEventListener("test",O0,O0)}catch{ON=!1}function Xse(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(A){this.onError(A)}}var Iv=!1,g2=null,v2=!1,FN=null,Jse={onError:function(t){Iv=!0,g2=t}};function Zse(t,e,n,r,i,a,s,o,l){Iv=!1,g2=null,Xse.apply(Jse,arguments)}function eoe(t,e,n,r,i,a,s,o,l){if(Zse.apply(this,arguments),Iv){if(Iv){var u=g2;Iv=!1,g2=null}else throw Error(kt(198));v2||(v2=!0,FN=u)}}function rp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fL(t){if(rp(t)!==t)throw Error(kt(188))}function toe(t){var e=t.alternate;if(!e){if(e=rp(t),e===null)throw Error(kt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return fL(i),t;if(a===r)return fL(i),e;a=a.sibling}throw Error(kt(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(kt(189))}}if(n.alternate!==r)throw Error(kt(190))}if(n.tag!==3)throw Error(kt(188));return n.stateNode.current===n?t:e}function k$(t){return t=toe(t),t!==null?P$(t):null}function P$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P$(t);if(e!==null)return e;t=t.sibling}return null}var D$=kl.unstable_scheduleCallback,hL=kl.unstable_cancelCallback,noe=kl.unstable_shouldYield,roe=kl.unstable_requestPaint,pa=kl.unstable_now,ioe=kl.unstable_getCurrentPriorityLevel,qk=kl.unstable_ImmediatePriority,O$=kl.unstable_UserBlockingPriority,y2=kl.unstable_NormalPriority,aoe=kl.unstable_LowPriority,F$=kl.unstable_IdlePriority,GS=null,Tu=null;function soe(t){if(Tu&&typeof Tu.onCommitFiberRoot=="function")try{Tu.onCommitFiberRoot(GS,t,void 0,(t.current.flags&128)===128)}catch{}}var Kc=Math.clz32?Math.clz32:coe,ooe=Math.log,loe=Math.LN2;function coe(t){return t>>>=0,t===0?32:31-(ooe(t)/loe|0)|0}var Zx=64,e1=4194304;function uv(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function b2(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=uv(o):(a&=s,a!==0&&(r=uv(a)))}else s=n&~i,s!==0?r=uv(s):a!==0&&(r=uv(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kc(e),i=1<<n,r|=t[n],e&=~i;return r}function uoe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aoe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Kc(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=uoe(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function LN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L$(){var t=Zx;return Zx<<=1,!(Zx&4194240)&&(Zx=64),t}function __(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vb(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kc(e),t[e]=n}function doe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kc(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Yk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $r=0;function M$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R$,Xk,U$,Q$,H$,MN=!1,t1=[],Qd=null,Hd=null,zd=null,yy=new Map,by=new Map,Ed=[],foe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pL(t,e){switch(t){case"focusin":case"focusout":Qd=null;break;case"dragenter":case"dragleave":Hd=null;break;case"mouseover":case"mouseout":zd=null;break;case"pointerover":case"pointerout":yy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":by.delete(e.pointerId)}}function F0(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Kb(e),e!==null&&Xk(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hoe(t,e,n,r,i){switch(e){case"focusin":return Qd=F0(Qd,t,e,n,r,i),!0;case"dragenter":return Hd=F0(Hd,t,e,n,r,i),!0;case"mouseover":return zd=F0(zd,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return yy.set(a,F0(yy.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,by.set(a,F0(by.get(a)||null,t,e,n,r,i)),!0}return!1}function z$(t){var e=sh(t.target);if(e!==null){var n=rp(e);if(n!==null){if(e=n.tag,e===13){if(e=T$(n),e!==null){t.blockedOn=e,H$(t.priority,function(){U$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=RN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);PN=r,n.target.dispatchEvent(r),PN=null}else return e=Kb(n),e!==null&&Xk(e),t.blockedOn=n,!1;e.shift()}return!0}function mL(t,e,n){Iw(t)&&n.delete(e)}function poe(){MN=!1,Qd!==null&&Iw(Qd)&&(Qd=null),Hd!==null&&Iw(Hd)&&(Hd=null),zd!==null&&Iw(zd)&&(zd=null),yy.forEach(mL),by.forEach(mL)}function L0(t,e){t.blockedOn===e&&(t.blockedOn=null,MN||(MN=!0,kl.unstable_scheduleCallback(kl.unstable_NormalPriority,poe)))}function xy(t){function e(i){return L0(i,t)}if(0<t1.length){L0(t1[0],t);for(var n=1;n<t1.length;n++){var r=t1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qd!==null&&L0(Qd,t),Hd!==null&&L0(Hd,t),zd!==null&&L0(zd,t),yy.forEach(e),by.forEach(e),n=0;n<Ed.length;n++)r=Ed[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ed.length&&(n=Ed[0],n.blockedOn===null);)z$(n),n.blockedOn===null&&Ed.shift()}var Tm=WA.ReactCurrentBatchConfig,x2=!0;function moe(t,e,n,r){var i=$r,a=Tm.transition;Tm.transition=null;try{$r=1,Jk(t,e,n,r)}finally{$r=i,Tm.transition=a}}function goe(t,e,n,r){var i=$r,a=Tm.transition;Tm.transition=null;try{$r=4,Jk(t,e,n,r)}finally{$r=i,Tm.transition=a}}function Jk(t,e,n,r){if(x2){var i=RN(t,e,n,r);if(i===null)F_(t,e,r,w2,n),pL(t,r);else if(hoe(i,t,e,n,r))r.stopPropagation();else if(pL(t,r),e&4&&-1<foe.indexOf(t)){for(;i!==null;){var a=Kb(i);if(a!==null&&R$(a),a=RN(t,e,n,r),a===null&&F_(t,e,r,w2,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else F_(t,e,r,null,n)}}var w2=null;function RN(t,e,n,r){if(w2=null,t=Gk(r),t=sh(t),t!==null)if(e=rp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return w2=t,null}function V$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ioe()){case qk:return 1;case O$:return 4;case y2:case aoe:return 16;case F$:return 536870912;default:return 16}default:return 16}}var Nd=null,Zk=null,Tw=null;function $$(){if(Tw)return Tw;var t,e=Zk,n=e.length,r,i="value"in Nd?Nd.value:Nd.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Tw=i.slice(t,1<r?1-r:void 0)}function kw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function n1(){return!0}function gL(){return!1}function Ul(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?n1:gL,this.isPropagationStopped=gL,this}return Ri(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=n1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=n1)},persist:function(){},isPersistent:n1}),e}var Zg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eP=Ul(Zg),$b=Ri({},Zg,{view:0,detail:0}),voe=Ul($b),B_,N_,M0,qS=Ri({},$b,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==M0&&(M0&&t.type==="mousemove"?(B_=t.screenX-M0.screenX,N_=t.screenY-M0.screenY):N_=B_=0,M0=t),B_)},movementY:function(t){return"movementY"in t?t.movementY:N_}}),vL=Ul(qS),yoe=Ri({},qS,{dataTransfer:0}),boe=Ul(yoe),xoe=Ri({},$b,{relatedTarget:0}),j_=Ul(xoe),woe=Ri({},Zg,{animationName:0,elapsedTime:0,pseudoElement:0}),Coe=Ul(woe),Soe=Ri({},Zg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eoe=Ul(Soe),_oe=Ri({},Zg,{data:0}),yL=Ul(_oe),Boe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Noe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},joe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ioe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=joe[t])?!!e[t]:!1}function tP(){return Ioe}var Toe=Ri({},$b,{key:function(t){if(t.key){var e=Boe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Noe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tP,charCode:function(t){return t.type==="keypress"?kw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),koe=Ul(Toe),Poe=Ri({},qS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bL=Ul(Poe),Doe=Ri({},$b,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tP}),Ooe=Ul(Doe),Foe=Ri({},Zg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Loe=Ul(Foe),Moe=Ri({},qS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Roe=Ul(Moe),Uoe=[9,13,27,32],nP=kA&&"CompositionEvent"in window,Tv=null;kA&&"documentMode"in document&&(Tv=document.documentMode);var Qoe=kA&&"TextEvent"in window&&!Tv,K$=kA&&(!nP||Tv&&8<Tv&&11>=Tv),xL=" ",wL=!1;function W$(t,e){switch(t){case"keyup":return Uoe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var im=!1;function Hoe(t,e){switch(t){case"compositionend":return G$(e);case"keypress":return e.which!==32?null:(wL=!0,xL);case"textInput":return t=e.data,t===xL&&wL?null:t;default:return null}}function zoe(t,e){if(im)return t==="compositionend"||!nP&&W$(t,e)?(t=$$(),Tw=Zk=Nd=null,im=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K$&&e.locale!=="ko"?null:e.data;default:return null}}var Voe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Voe[t.type]:e==="textarea"}function q$(t,e,n,r){_$(r),e=C2(e,"onChange"),0<e.length&&(n=new eP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kv=null,wy=null;function $oe(t){sK(t,0)}function YS(t){var e=om(t);if(y$(e))return t}function Koe(t,e){if(t==="change")return e}var Y$=!1;if(kA){var I_;if(kA){var T_="oninput"in document;if(!T_){var SL=document.createElement("div");SL.setAttribute("oninput","return;"),T_=typeof SL.oninput=="function"}I_=T_}else I_=!1;Y$=I_&&(!document.documentMode||9<document.documentMode)}function EL(){kv&&(kv.detachEvent("onpropertychange",X$),wy=kv=null)}function X$(t){if(t.propertyName==="value"&&YS(wy)){var e=[];q$(e,wy,t,Gk(t)),I$($oe,e)}}function Woe(t,e,n){t==="focusin"?(EL(),kv=e,wy=n,kv.attachEvent("onpropertychange",X$)):t==="focusout"&&EL()}function Goe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return YS(wy)}function qoe(t,e){if(t==="click")return YS(e)}function Yoe(t,e){if(t==="input"||t==="change")return YS(e)}function Xoe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jc=typeof Object.is=="function"?Object.is:Xoe;function Cy(t,e){if(Jc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xN.call(e,i)||!Jc(t[i],e[i]))return!1}return!0}function _L(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BL(t,e){var n=_L(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_L(n)}}function J$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Z$(){for(var t=window,e=m2();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=m2(t.document)}return e}function rP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Joe(t){var e=Z$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J$(n.ownerDocument.documentElement,n)){if(r!==null&&rP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=BL(n,a);var s=BL(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zoe=kA&&"documentMode"in document&&11>=document.documentMode,am=null,UN=null,Pv=null,QN=!1;function NL(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;QN||am==null||am!==m2(r)||(r=am,"selectionStart"in r&&rP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pv&&Cy(Pv,r)||(Pv=r,r=C2(UN,"onSelect"),0<r.length&&(e=new eP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=am)))}function r1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sm={animationend:r1("Animation","AnimationEnd"),animationiteration:r1("Animation","AnimationIteration"),animationstart:r1("Animation","AnimationStart"),transitionend:r1("Transition","TransitionEnd")},k_={},eK={};kA&&(eK=document.createElement("div").style,"AnimationEvent"in window||(delete sm.animationend.animation,delete sm.animationiteration.animation,delete sm.animationstart.animation),"TransitionEvent"in window||delete sm.transitionend.transition);function XS(t){if(k_[t])return k_[t];if(!sm[t])return t;var e=sm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eK)return k_[t]=e[n];return t}var tK=XS("animationend"),nK=XS("animationiteration"),rK=XS("animationstart"),iK=XS("transitionend"),aK=new Map,jL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pf(t,e){aK.set(t,e),np(e,[t])}for(var P_=0;P_<jL.length;P_++){var D_=jL[P_],ele=D_.toLowerCase(),tle=D_[0].toUpperCase()+D_.slice(1);pf(ele,"on"+tle)}pf(tK,"onAnimationEnd");pf(nK,"onAnimationIteration");pf(rK,"onAnimationStart");pf("dblclick","onDoubleClick");pf("focusin","onFocus");pf("focusout","onBlur");pf(iK,"onTransitionEnd");Ym("onMouseEnter",["mouseout","mouseover"]);Ym("onMouseLeave",["mouseout","mouseover"]);Ym("onPointerEnter",["pointerout","pointerover"]);Ym("onPointerLeave",["pointerout","pointerover"]);np("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));np("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));np("onBeforeInput",["compositionend","keypress","textInput","paste"]);np("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));np("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));np("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Av="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nle=new Set("cancel close invalid load scroll toggle".split(" ").concat(Av));function IL(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eoe(r,e,void 0,t),t.currentTarget=null}function sK(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;IL(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;IL(i,o,u),a=l}}}if(v2)throw t=FN,v2=!1,FN=null,t}function yi(t,e){var n=e[KN];n===void 0&&(n=e[KN]=new Set);var r=t+"__bubble";n.has(r)||(oK(e,t,2,!1),n.add(r))}function O_(t,e,n){var r=0;e&&(r|=4),oK(n,t,r,e)}var i1="_reactListening"+Math.random().toString(36).slice(2);function Sy(t){if(!t[i1]){t[i1]=!0,h$.forEach(function(n){n!=="selectionchange"&&(nle.has(n)||O_(n,!1,t),O_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[i1]||(e[i1]=!0,O_("selectionchange",!1,e))}}function oK(t,e,n,r){switch(V$(e)){case 1:var i=moe;break;case 4:i=goe;break;default:i=Jk}n=i.bind(null,e,n,t),i=void 0,!ON||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function F_(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=sh(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}I$(function(){var u=a,A=Gk(n),d=[];e:{var f=aK.get(t);if(f!==void 0){var h=eP,p=t;switch(t){case"keypress":if(kw(n)===0)break e;case"keydown":case"keyup":h=koe;break;case"focusin":p="focus",h=j_;break;case"focusout":p="blur",h=j_;break;case"beforeblur":case"afterblur":h=j_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=vL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=boe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Ooe;break;case tK:case nK:case rK:h=Coe;break;case iK:h=Loe;break;case"scroll":h=voe;break;case"wheel":h=Roe;break;case"copy":case"cut":case"paste":h=Eoe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=bL}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,g!==null&&(S=vy(y,g),S!=null&&m.push(Ey(y,S,x)))),v)break;y=y.return}0<m.length&&(f=new h(f,p,null,n,A),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==PN&&(p=n.relatedTarget||n.fromElement)&&(sh(p)||p[PA]))break e;if((h||f)&&(f=A.window===A?A:(f=A.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?sh(p):null,p!==null&&(v=rp(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=vL,S="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=bL,S="onPointerLeave",g="onPointerEnter",y="pointer"),v=h==null?f:om(h),x=p==null?f:om(p),f=new m(S,y+"leave",h,n,A),f.target=v,f.relatedTarget=x,S=null,sh(A)===u&&(m=new m(g,y+"enter",p,n,A),m.target=x,m.relatedTarget=v,S=m),v=S,h&&p)t:{for(m=h,g=p,y=0,x=m;x;x=Np(x))y++;for(x=0,S=g;S;S=Np(S))x++;for(;0<y-x;)m=Np(m),y--;for(;0<x-y;)g=Np(g),x--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Np(m),g=Np(g)}m=null}else m=null;h!==null&&TL(d,f,h,m,!1),p!==null&&v!==null&&TL(d,v,p,m,!0)}}e:{if(f=u?om(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=Koe;else if(CL(f))if(Y$)E=Yoe;else{E=Goe;var N=Woe}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=qoe);if(E&&(E=E(t,u))){q$(d,E,n,A);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&NN(f,"number",f.value)}switch(N=u?om(u):window,t){case"focusin":(CL(N)||N.contentEditable==="true")&&(am=N,UN=u,Pv=null);break;case"focusout":Pv=UN=am=null;break;case"mousedown":QN=!0;break;case"contextmenu":case"mouseup":case"dragend":QN=!1,NL(d,n,A);break;case"selectionchange":if(Zoe)break;case"keydown":case"keyup":NL(d,n,A)}var _;if(nP)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else im?W$(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(K$&&n.locale!=="ko"&&(im||B!=="onCompositionStart"?B==="onCompositionEnd"&&im&&(_=$$()):(Nd=A,Zk="value"in Nd?Nd.value:Nd.textContent,im=!0)),N=C2(u,B),0<N.length&&(B=new yL(B,t,null,n,A),d.push({event:B,listeners:N}),_?B.data=_:(_=G$(n),_!==null&&(B.data=_)))),(_=Qoe?Hoe(t,n):zoe(t,n))&&(u=C2(u,"onBeforeInput"),0<u.length&&(A=new yL("onBeforeInput","beforeinput",null,n,A),d.push({event:A,listeners:u}),A.data=_))}sK(d,e)})}function Ey(t,e,n){return{instance:t,listener:e,currentTarget:n}}function C2(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vy(t,n),a!=null&&r.unshift(Ey(t,a,i)),a=vy(t,e),a!=null&&r.push(Ey(t,a,i))),t=t.return}return r}function Np(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TL(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=vy(n,a),l!=null&&s.unshift(Ey(n,l,o))):i||(l=vy(n,a),l!=null&&s.push(Ey(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var rle=/\r\n?/g,ile=/\u0000|\uFFFD/g;function kL(t){return(typeof t=="string"?t:""+t).replace(rle,`
`).replace(ile,"")}function a1(t,e,n){if(e=kL(e),kL(t)!==e&&n)throw Error(kt(425))}function S2(){}var HN=null,zN=null;function VN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $N=typeof setTimeout=="function"?setTimeout:void 0,ale=typeof clearTimeout=="function"?clearTimeout:void 0,PL=typeof Promise=="function"?Promise:void 0,sle=typeof queueMicrotask=="function"?queueMicrotask:typeof PL<"u"?function(t){return PL.resolve(null).then(t).catch(ole)}:$N;function ole(t){setTimeout(function(){throw t})}function L_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xy(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xy(e)}function Vd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var e0=Math.random().toString(36).slice(2),Su="__reactFiber$"+e0,_y="__reactProps$"+e0,PA="__reactContainer$"+e0,KN="__reactEvents$"+e0,lle="__reactListeners$"+e0,cle="__reactHandles$"+e0;function sh(t){var e=t[Su];if(e)return e;for(var n=t.parentNode;n;){if(e=n[PA]||n[Su]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DL(t);t!==null;){if(n=t[Su])return n;t=DL(t)}return e}t=n,n=t.parentNode}return null}function Kb(t){return t=t[Su]||t[PA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function om(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(kt(33))}function JS(t){return t[_y]||null}var WN=[],lm=-1;function mf(t){return{current:t}}function Ei(t){0>lm||(t.current=WN[lm],WN[lm]=null,lm--)}function Ai(t,e){lm++,WN[lm]=t.current,t.current=e}var rf={},so=mf(rf),Ho=mf(!1),Dh=rf;function Xm(t,e){var n=t.type.contextTypes;if(!n)return rf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zo(t){return t=t.childContextTypes,t!=null}function E2(){Ei(Ho),Ei(so)}function OL(t,e,n){if(so.current!==rf)throw Error(kt(168));Ai(so,e),Ai(Ho,n)}function lK(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(kt(108,Wse(t)||"Unknown",i));return Ri({},n,r)}function _2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rf,Dh=so.current,Ai(so,t),Ai(Ho,Ho.current),!0}function FL(t,e,n){var r=t.stateNode;if(!r)throw Error(kt(169));n?(t=lK(t,e,Dh),r.__reactInternalMemoizedMergedChildContext=t,Ei(Ho),Ei(so),Ai(so,t)):Ei(Ho),Ai(Ho,n)}var mA=null,ZS=!1,M_=!1;function cK(t){mA===null?mA=[t]:mA.push(t)}function ule(t){ZS=!0,cK(t)}function gf(){if(!M_&&mA!==null){M_=!0;var t=0,e=$r;try{var n=mA;for($r=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mA=null,ZS=!1}catch(i){throw mA!==null&&(mA=mA.slice(t+1)),D$(qk,gf),i}finally{$r=e,M_=!1}}return null}var cm=[],um=0,B2=null,N2=0,ac=[],sc=0,Oh=null,vA=1,yA="";function Vf(t,e){cm[um++]=N2,cm[um++]=B2,B2=t,N2=e}function uK(t,e,n){ac[sc++]=vA,ac[sc++]=yA,ac[sc++]=Oh,Oh=t;var r=vA;t=yA;var i=32-Kc(r)-1;r&=~(1<<i),n+=1;var a=32-Kc(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,vA=1<<32-Kc(e)+i|n<<i|r,yA=a+t}else vA=1<<a|n<<i|r,yA=t}function iP(t){t.return!==null&&(Vf(t,1),uK(t,1,0))}function aP(t){for(;t===B2;)B2=cm[--um],cm[um]=null,N2=cm[--um],cm[um]=null;for(;t===Oh;)Oh=ac[--sc],ac[sc]=null,yA=ac[--sc],ac[sc]=null,vA=ac[--sc],ac[sc]=null}var El=null,wl=null,Ni=!1,Vc=null;function AK(t,e){var n=cc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function LL(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,El=t,wl=Vd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,El=t,wl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oh!==null?{id:vA,overflow:yA}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,El=t,wl=null,!0):!1;default:return!1}}function GN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qN(t){if(Ni){var e=wl;if(e){var n=e;if(!LL(t,e)){if(GN(t))throw Error(kt(418));e=Vd(n.nextSibling);var r=El;e&&LL(t,e)?AK(r,n):(t.flags=t.flags&-4097|2,Ni=!1,El=t)}}else{if(GN(t))throw Error(kt(418));t.flags=t.flags&-4097|2,Ni=!1,El=t}}}function ML(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;El=t}function s1(t){if(t!==El)return!1;if(!Ni)return ML(t),Ni=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!VN(t.type,t.memoizedProps)),e&&(e=wl)){if(GN(t))throw dK(),Error(kt(418));for(;e;)AK(t,e),e=Vd(e.nextSibling)}if(ML(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(kt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wl=Vd(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wl=null}}else wl=El?Vd(t.stateNode.nextSibling):null;return!0}function dK(){for(var t=wl;t;)t=Vd(t.nextSibling)}function Jm(){wl=El=null,Ni=!1}function sP(t){Vc===null?Vc=[t]:Vc.push(t)}var Ale=WA.ReactCurrentBatchConfig;function R0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(kt(309));var r=n.stateNode}if(!r)throw Error(kt(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(kt(284));if(!n._owner)throw Error(kt(290,t))}return t}function o1(t,e){throw t=Object.prototype.toString.call(e),Error(kt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RL(t){var e=t._init;return e(t._payload)}function fK(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Gd(g,y),g.index=0,g.sibling=null,g}function a(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,y,x,S){return y===null||y.tag!==6?(y=$_(x,g.mode,S),y.return=g,y):(y=i(y,x),y.return=g,y)}function l(g,y,x,S){var E=x.type;return E===rm?A(g,y,x.props.children,S,x.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xd&&RL(E)===y.type)?(S=i(y,x.props),S.ref=R0(g,y,x),S.return=g,S):(S=Rw(x.type,x.key,x.props,null,g.mode,S),S.ref=R0(g,y,x),S.return=g,S)}function u(g,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=K_(x,g.mode,S),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function A(g,y,x,S,E){return y===null||y.tag!==7?(y=bh(x,g.mode,S,E),y.return=g,y):(y=i(y,x),y.return=g,y)}function d(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$_(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yx:return x=Rw(y.type,y.key,y.props,null,g.mode,x),x.ref=R0(g,null,y),x.return=g,x;case nm:return y=K_(y,g.mode,x),y.return=g,y;case xd:var S=y._init;return d(g,S(y._payload),x)}if(cv(y)||D0(y))return y=bh(y,g.mode,x,null),y.return=g,y;o1(g,y)}return null}function f(g,y,x,S){var E=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:o(g,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yx:return x.key===E?l(g,y,x,S):null;case nm:return x.key===E?u(g,y,x,S):null;case xd:return E=x._init,f(g,y,E(x._payload),S)}if(cv(x)||D0(x))return E!==null?null:A(g,y,x,S,null);o1(g,x)}return null}function h(g,y,x,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(x)||null,o(y,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yx:return g=g.get(S.key===null?x:S.key)||null,l(y,g,S,E);case nm:return g=g.get(S.key===null?x:S.key)||null,u(y,g,S,E);case xd:var N=S._init;return h(g,y,x,N(S._payload),E)}if(cv(S)||D0(S))return g=g.get(x)||null,A(y,g,S,E,null);o1(y,S)}return null}function p(g,y,x,S){for(var E=null,N=null,_=y,B=y=0,j=null;_!==null&&B<x.length;B++){_.index>B?(j=_,_=null):j=_.sibling;var D=f(g,_,x[B],S);if(D===null){_===null&&(_=j);break}t&&_&&D.alternate===null&&e(g,_),y=a(D,y,B),N===null?E=D:N.sibling=D,N=D,_=j}if(B===x.length)return n(g,_),Ni&&Vf(g,B),E;if(_===null){for(;B<x.length;B++)_=d(g,x[B],S),_!==null&&(y=a(_,y,B),N===null?E=_:N.sibling=_,N=_);return Ni&&Vf(g,B),E}for(_=r(g,_);B<x.length;B++)j=h(_,g,B,x[B],S),j!==null&&(t&&j.alternate!==null&&_.delete(j.key===null?B:j.key),y=a(j,y,B),N===null?E=j:N.sibling=j,N=j);return t&&_.forEach(function(k){return e(g,k)}),Ni&&Vf(g,B),E}function m(g,y,x,S){var E=D0(x);if(typeof E!="function")throw Error(kt(150));if(x=E.call(x),x==null)throw Error(kt(151));for(var N=E=null,_=y,B=y=0,j=null,D=x.next();_!==null&&!D.done;B++,D=x.next()){_.index>B?(j=_,_=null):j=_.sibling;var k=f(g,_,D.value,S);if(k===null){_===null&&(_=j);break}t&&_&&k.alternate===null&&e(g,_),y=a(k,y,B),N===null?E=k:N.sibling=k,N=k,_=j}if(D.done)return n(g,_),Ni&&Vf(g,B),E;if(_===null){for(;!D.done;B++,D=x.next())D=d(g,D.value,S),D!==null&&(y=a(D,y,B),N===null?E=D:N.sibling=D,N=D);return Ni&&Vf(g,B),E}for(_=r(g,_);!D.done;B++,D=x.next())D=h(_,g,B,D.value,S),D!==null&&(t&&D.alternate!==null&&_.delete(D.key===null?B:D.key),y=a(D,y,B),N===null?E=D:N.sibling=D,N=D);return t&&_.forEach(function(O){return e(g,O)}),Ni&&Vf(g,B),E}function v(g,y,x,S){if(typeof x=="object"&&x!==null&&x.type===rm&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yx:e:{for(var E=x.key,N=y;N!==null;){if(N.key===E){if(E=x.type,E===rm){if(N.tag===7){n(g,N.sibling),y=i(N,x.props.children),y.return=g,g=y;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xd&&RL(E)===N.type){n(g,N.sibling),y=i(N,x.props),y.ref=R0(g,N,x),y.return=g,g=y;break e}n(g,N);break}else e(g,N);N=N.sibling}x.type===rm?(y=bh(x.props.children,g.mode,S,x.key),y.return=g,g=y):(S=Rw(x.type,x.key,x.props,null,g.mode,S),S.ref=R0(g,y,x),S.return=g,g=S)}return s(g);case nm:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=K_(x,g.mode,S),y.return=g,g=y}return s(g);case xd:return N=x._init,v(g,y,N(x._payload),S)}if(cv(x))return p(g,y,x,S);if(D0(x))return m(g,y,x,S);o1(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,x),y.return=g,g=y):(n(g,y),y=$_(x,g.mode,S),y.return=g,g=y),s(g)):n(g,y)}return v}var Zm=fK(!0),hK=fK(!1),j2=mf(null),I2=null,Am=null,oP=null;function lP(){oP=Am=I2=null}function cP(t){var e=j2.current;Ei(j2),t._currentValue=e}function YN(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function km(t,e){I2=t,oP=Am=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mo=!0),t.firstContext=null)}function hc(t){var e=t._currentValue;if(oP!==t)if(t={context:t,memoizedValue:e,next:null},Am===null){if(I2===null)throw Error(kt(308));Am=t,I2.dependencies={lanes:0,firstContext:t}}else Am=Am.next=t;return e}var oh=null;function uP(t){oh===null?oh=[t]:oh.push(t)}function pK(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uP(e)):(n.next=i.next,i.next=n),e.interleaved=n,DA(t,r)}function DA(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wd=!1;function AP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _A(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $d(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Cr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,DA(t,n)}return i=r.interleaved,i===null?(e.next=e,uP(r)):(e.next=i.next,i.next=e),r.interleaved=e,DA(t,n)}function Pw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yk(t,n)}}function UL(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function T2(t,e,n,r){var i=t.updateQueue;wd=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var A=t.alternate;A!==null&&(A=A.updateQueue,o=A.lastBaseUpdate,o!==s&&(o===null?A.firstBaseUpdate=u:o.next=u,A.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,A=u=l=null,o=a;do{var f=o.lane,h=o.eventTime;if((r&f)===f){A!==null&&(A=A.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Ri({},d,f);break e;case 2:wd=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},A===null?(u=A=h,l=d):A=A.next=h,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(A===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=A,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Lh|=s,t.lanes=s,t.memoizedState=d}}function QL(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(kt(191,i));i.call(r)}}}var Wb={},ku=mf(Wb),By=mf(Wb),Ny=mf(Wb);function lh(t){if(t===Wb)throw Error(kt(174));return t}function dP(t,e){switch(Ai(Ny,e),Ai(By,t),Ai(ku,Wb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:IN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=IN(e,t)}Ei(ku),Ai(ku,e)}function eg(){Ei(ku),Ei(By),Ei(Ny)}function gK(t){lh(Ny.current);var e=lh(ku.current),n=IN(e,t.type);e!==n&&(Ai(By,t),Ai(ku,n))}function fP(t){By.current===t&&(Ei(ku),Ei(By))}var Li=mf(0);function k2(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var R_=[];function hP(){for(var t=0;t<R_.length;t++)R_[t]._workInProgressVersionPrimary=null;R_.length=0}var Dw=WA.ReactCurrentDispatcher,U_=WA.ReactCurrentBatchConfig,Fh=0,Mi=null,Wa=null,ss=null,P2=!1,Dv=!1,jy=0,dle=0;function zs(){throw Error(kt(321))}function pP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jc(t[n],e[n]))return!1;return!0}function mP(t,e,n,r,i,a){if(Fh=a,Mi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dw.current=t===null||t.memoizedState===null?mle:gle,t=n(r,i),Dv){a=0;do{if(Dv=!1,jy=0,25<=a)throw Error(kt(301));a+=1,ss=Wa=null,e.updateQueue=null,Dw.current=vle,t=n(r,i)}while(Dv)}if(Dw.current=D2,e=Wa!==null&&Wa.next!==null,Fh=0,ss=Wa=Mi=null,P2=!1,e)throw Error(kt(300));return t}function gP(){var t=jy!==0;return jy=0,t}function wu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ss===null?Mi.memoizedState=ss=t:ss=ss.next=t,ss}function pc(){if(Wa===null){var t=Mi.alternate;t=t!==null?t.memoizedState:null}else t=Wa.next;var e=ss===null?Mi.memoizedState:ss.next;if(e!==null)ss=e,Wa=t;else{if(t===null)throw Error(kt(310));Wa=t,t={memoizedState:Wa.memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},ss===null?Mi.memoizedState=ss=t:ss=ss.next=t}return ss}function Iy(t,e){return typeof e=="function"?e(t):e}function Q_(t){var e=pc(),n=e.queue;if(n===null)throw Error(kt(311));n.lastRenderedReducer=t;var r=Wa,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var A=u.lane;if((Fh&A)===A)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:A,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,Mi.lanes|=A,Lh|=A}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Jc(r,e.memoizedState)||(Mo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Mi.lanes|=a,Lh|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function H_(t){var e=pc(),n=e.queue;if(n===null)throw Error(kt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Jc(a,e.memoizedState)||(Mo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function vK(){}function yK(t,e){var n=Mi,r=pc(),i=e(),a=!Jc(r.memoizedState,i);if(a&&(r.memoizedState=i,Mo=!0),r=r.queue,vP(wK.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ss!==null&&ss.memoizedState.tag&1){if(n.flags|=2048,Ty(9,xK.bind(null,n,r,i,e),void 0,null),us===null)throw Error(kt(349));Fh&30||bK(n,e,i)}return i}function bK(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mi.updateQueue,e===null?(e={lastEffect:null,stores:null},Mi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xK(t,e,n,r){e.value=n,e.getSnapshot=r,CK(e)&&SK(t)}function wK(t,e,n){return n(function(){CK(e)&&SK(t)})}function CK(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jc(t,n)}catch{return!0}}function SK(t){var e=DA(t,1);e!==null&&Wc(e,t,1,-1)}function HL(t){var e=wu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:t},e.queue=t,t=t.dispatch=ple.bind(null,Mi,t),[e.memoizedState,t]}function Ty(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mi.updateQueue,e===null?(e={lastEffect:null,stores:null},Mi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function EK(){return pc().memoizedState}function Ow(t,e,n,r){var i=wu();Mi.flags|=t,i.memoizedState=Ty(1|e,n,void 0,r===void 0?null:r)}function e5(t,e,n,r){var i=pc();r=r===void 0?null:r;var a=void 0;if(Wa!==null){var s=Wa.memoizedState;if(a=s.destroy,r!==null&&pP(r,s.deps)){i.memoizedState=Ty(e,n,a,r);return}}Mi.flags|=t,i.memoizedState=Ty(1|e,n,a,r)}function zL(t,e){return Ow(8390656,8,t,e)}function vP(t,e){return e5(2048,8,t,e)}function _K(t,e){return e5(4,2,t,e)}function BK(t,e){return e5(4,4,t,e)}function NK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jK(t,e,n){return n=n!=null?n.concat([t]):null,e5(4,4,NK.bind(null,e,t),n)}function yP(){}function IK(t,e){var n=pc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TK(t,e){var n=pc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kK(t,e,n){return Fh&21?(Jc(n,e)||(n=L$(),Mi.lanes|=n,Lh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mo=!0),t.memoizedState=n)}function fle(t,e){var n=$r;$r=n!==0&&4>n?n:4,t(!0);var r=U_.transition;U_.transition={};try{t(!1),e()}finally{$r=n,U_.transition=r}}function PK(){return pc().memoizedState}function hle(t,e,n){var r=Wd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DK(t))OK(e,n);else if(n=pK(t,e,n,r),n!==null){var i=Co();Wc(n,t,r,i),FK(n,e,r)}}function ple(t,e,n){var r=Wd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DK(t))OK(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Jc(o,s)){var l=e.interleaved;l===null?(i.next=i,uP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pK(t,e,i,r),n!==null&&(i=Co(),Wc(n,t,r,i),FK(n,e,r))}}function DK(t){var e=t.alternate;return t===Mi||e!==null&&e===Mi}function OK(t,e){Dv=P2=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FK(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yk(t,n)}}var D2={readContext:hc,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useInsertionEffect:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useSyncExternalStore:zs,useId:zs,unstable_isNewReconciler:!1},mle={readContext:hc,useCallback:function(t,e){return wu().memoizedState=[t,e===void 0?null:e],t},useContext:hc,useEffect:zL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ow(4194308,4,NK.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ow(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ow(4,2,t,e)},useMemo:function(t,e){var n=wu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hle.bind(null,Mi,t),[r.memoizedState,t]},useRef:function(t){var e=wu();return t={current:t},e.memoizedState=t},useState:HL,useDebugValue:yP,useDeferredValue:function(t){return wu().memoizedState=t},useTransition:function(){var t=HL(!1),e=t[0];return t=fle.bind(null,t[1]),wu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mi,i=wu();if(Ni){if(n===void 0)throw Error(kt(407));n=n()}else{if(n=e(),us===null)throw Error(kt(349));Fh&30||bK(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,zL(wK.bind(null,r,a,t),[t]),r.flags|=2048,Ty(9,xK.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=wu(),e=us.identifierPrefix;if(Ni){var n=yA,r=vA;n=(r&~(1<<32-Kc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jy++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dle++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gle={readContext:hc,useCallback:IK,useContext:hc,useEffect:vP,useImperativeHandle:jK,useInsertionEffect:_K,useLayoutEffect:BK,useMemo:TK,useReducer:Q_,useRef:EK,useState:function(){return Q_(Iy)},useDebugValue:yP,useDeferredValue:function(t){var e=pc();return kK(e,Wa.memoizedState,t)},useTransition:function(){var t=Q_(Iy)[0],e=pc().memoizedState;return[t,e]},useMutableSource:vK,useSyncExternalStore:yK,useId:PK,unstable_isNewReconciler:!1},vle={readContext:hc,useCallback:IK,useContext:hc,useEffect:vP,useImperativeHandle:jK,useInsertionEffect:_K,useLayoutEffect:BK,useMemo:TK,useReducer:H_,useRef:EK,useState:function(){return H_(Iy)},useDebugValue:yP,useDeferredValue:function(t){var e=pc();return Wa===null?e.memoizedState=t:kK(e,Wa.memoizedState,t)},useTransition:function(){var t=H_(Iy)[0],e=pc().memoizedState;return[t,e]},useMutableSource:vK,useSyncExternalStore:yK,useId:PK,unstable_isNewReconciler:!1};function Uc(t,e){if(t&&t.defaultProps){e=Ri({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function XN(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ri({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var t5={isMounted:function(t){return(t=t._reactInternals)?rp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Co(),i=Wd(t),a=_A(r,i);a.payload=e,n!=null&&(a.callback=n),e=$d(t,a,i),e!==null&&(Wc(e,t,i,r),Pw(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Co(),i=Wd(t),a=_A(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=$d(t,a,i),e!==null&&(Wc(e,t,i,r),Pw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Co(),r=Wd(t),i=_A(n,r);i.tag=2,e!=null&&(i.callback=e),e=$d(t,i,r),e!==null&&(Wc(e,t,r,n),Pw(e,t,r))}};function VL(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Cy(n,r)||!Cy(i,a):!0}function LK(t,e,n){var r=!1,i=rf,a=e.contextType;return typeof a=="object"&&a!==null?a=hc(a):(i=zo(e)?Dh:so.current,r=e.contextTypes,a=(r=r!=null)?Xm(t,i):rf),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t5,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function $L(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&t5.enqueueReplaceState(e,e.state,null)}function JN(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},AP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=hc(a):(a=zo(e)?Dh:so.current,i.context=Xm(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(XN(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&t5.enqueueReplaceState(i,i.state,null),T2(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tg(t,e){try{var n="",r=e;do n+=Kse(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function z_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ZN(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yle=typeof WeakMap=="function"?WeakMap:Map;function MK(t,e,n){n=_A(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){F2||(F2=!0,cj=r),ZN(t,e)},n}function RK(t,e,n){n=_A(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ZN(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ZN(t,e),typeof r!="function"&&(Kd===null?Kd=new Set([this]):Kd.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function KL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yle;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ple.bind(null,t,e,n),e.then(t,t))}function WL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_A(-1,1),e.tag=2,$d(n,e,1))),n.lanes|=1),t)}var ble=WA.ReactCurrentOwner,Mo=!1;function vo(t,e,n,r){e.child=t===null?hK(e,null,n,r):Zm(e,t.child,n,r)}function qL(t,e,n,r,i){n=n.render;var a=e.ref;return km(e,i),r=mP(t,e,n,r,a,i),n=gP(),t!==null&&!Mo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,OA(t,e,i)):(Ni&&n&&iP(e),e.flags|=1,vo(t,e,r,i),e.child)}function YL(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!BP(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,UK(t,e,a,r,i)):(t=Rw(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Cy,n(s,r)&&t.ref===e.ref)return OA(t,e,i)}return e.flags|=1,t=Gd(a,r),t.ref=e.ref,t.return=e,e.child=t}function UK(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Cy(a,r)&&t.ref===e.ref)if(Mo=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Mo=!0);else return e.lanes=t.lanes,OA(t,e,i)}return ej(t,e,n,r,i)}function QK(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(fm,yl),yl|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ai(fm,yl),yl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ai(fm,yl),yl|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ai(fm,yl),yl|=r;return vo(t,e,i,n),e.child}function HK(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ej(t,e,n,r,i){var a=zo(n)?Dh:so.current;return a=Xm(e,a),km(e,i),n=mP(t,e,n,r,a,i),r=gP(),t!==null&&!Mo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,OA(t,e,i)):(Ni&&r&&iP(e),e.flags|=1,vo(t,e,n,i),e.child)}function XL(t,e,n,r,i){if(zo(n)){var a=!0;_2(e)}else a=!1;if(km(e,i),e.stateNode===null)Fw(t,e),LK(e,n,r),JN(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=hc(u):(u=zo(n)?Dh:so.current,u=Xm(e,u));var A=n.getDerivedStateFromProps,d=typeof A=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&$L(e,s,r,u),wd=!1;var f=e.memoizedState;s.state=f,T2(e,r,s,i),l=e.memoizedState,o!==r||f!==l||Ho.current||wd?(typeof A=="function"&&(XN(e,n,A,r),l=e.memoizedState),(o=wd||VL(e,n,o,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,mK(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Uc(e.type,o),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=hc(l):(l=zo(n)?Dh:so.current,l=Xm(e,l));var h=n.getDerivedStateFromProps;(A=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&$L(e,s,r,l),wd=!1,f=e.memoizedState,s.state=f,T2(e,r,s,i);var p=e.memoizedState;o!==d||f!==p||Ho.current||wd?(typeof h=="function"&&(XN(e,n,h,r),p=e.memoizedState),(u=wd||VL(e,n,u,r,f,p,l)||!1)?(A||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tj(t,e,n,r,a,i)}function tj(t,e,n,r,i,a){HK(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&FL(e,n,!1),OA(t,e,a);r=e.stateNode,ble.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Zm(e,t.child,null,a),e.child=Zm(e,null,o,a)):vo(t,e,o,a),e.memoizedState=r.state,i&&FL(e,n,!0),e.child}function zK(t){var e=t.stateNode;e.pendingContext?OL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OL(t,e.context,!1),dP(t,e.containerInfo)}function JL(t,e,n,r,i){return Jm(),sP(i),e.flags|=256,vo(t,e,n,r),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function rj(t){return{baseLanes:t,cachePool:null,transitions:null}}function VK(t,e,n){var r=e.pendingProps,i=Li.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ai(Li,i&1),t===null)return qN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=i5(s,r,0,null),t=bh(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=rj(n),e.memoizedState=nj,t):bP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return xle(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Gd(o,a):(a=bh(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?rj(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=nj,r}return a=t.child,t=a.sibling,r=Gd(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bP(t,e){return e=i5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function l1(t,e,n,r){return r!==null&&sP(r),Zm(e,t.child,null,n),t=bP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xle(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=z_(Error(kt(422))),l1(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=i5({mode:"visible",children:r.children},i,0,null),a=bh(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Zm(e,t.child,null,s),e.child.memoizedState=rj(s),e.memoizedState=nj,a);if(!(e.mode&1))return l1(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(kt(419)),r=z_(a,r,void 0),l1(t,e,s,r)}if(o=(s&t.childLanes)!==0,Mo||o){if(r=us,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,DA(t,i),Wc(r,t,i,-1))}return _P(),r=z_(Error(kt(421))),l1(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Dle.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,wl=Vd(i.nextSibling),El=e,Ni=!0,Vc=null,t!==null&&(ac[sc++]=vA,ac[sc++]=yA,ac[sc++]=Oh,vA=t.id,yA=t.overflow,Oh=e),e=bP(e,r.children),e.flags|=4096,e)}function ZL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),YN(t.return,e,n)}function V_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $K(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(vo(t,e,r.children,n),r=Li.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZL(t,n,e);else if(t.tag===19)ZL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ai(Li,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&k2(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),V_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&k2(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}V_(e,!0,n,null,a);break;case"together":V_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function OA(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(kt(153));if(e.child!==null){for(t=e.child,n=Gd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wle(t,e,n){switch(e.tag){case 3:zK(e),Jm();break;case 5:gK(e);break;case 1:zo(e.type)&&_2(e);break;case 4:dP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ai(j2,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ai(Li,Li.current&1),e.flags|=128,null):n&e.child.childLanes?VK(t,e,n):(Ai(Li,Li.current&1),t=OA(t,e,n),t!==null?t.sibling:null);Ai(Li,Li.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $K(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(Li,Li.current),r)break;return null;case 22:case 23:return e.lanes=0,QK(t,e,n)}return OA(t,e,n)}var KK,ij,WK,GK;KK=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ij=function(){};WK=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lh(ku.current);var a=null;switch(n){case"input":i=_N(t,i),r=_N(t,r),a=[];break;case"select":i=Ri({},i,{value:void 0}),r=Ri({},r,{value:void 0}),a=[];break;case"textarea":i=jN(t,i),r=jN(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=S2)}TN(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(my.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(my.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yi("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};GK=function(t,e,n,r){n!==r&&(e.flags|=4)};function U0(t,e){if(!Ni)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vs(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Cle(t,e,n){var r=e.pendingProps;switch(aP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(e),null;case 1:return zo(e.type)&&E2(),Vs(e),null;case 3:return r=e.stateNode,eg(),Ei(Ho),Ei(so),hP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(s1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vc!==null&&(dj(Vc),Vc=null))),ij(t,e),Vs(e),null;case 5:fP(e);var i=lh(Ny.current);if(n=e.type,t!==null&&e.stateNode!=null)WK(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(kt(166));return Vs(e),null}if(t=lh(ku.current),s1(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Su]=e,r[_y]=a,t=(e.mode&1)!==0,n){case"dialog":yi("cancel",r),yi("close",r);break;case"iframe":case"object":case"embed":yi("load",r);break;case"video":case"audio":for(i=0;i<Av.length;i++)yi(Av[i],r);break;case"source":yi("error",r);break;case"img":case"image":case"link":yi("error",r),yi("load",r);break;case"details":yi("toggle",r);break;case"input":lL(r,a),yi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},yi("invalid",r);break;case"textarea":uL(r,a),yi("invalid",r)}TN(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&a1(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&a1(r.textContent,o,t),i=["children",""+o]):my.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&yi("scroll",r)}switch(n){case"input":Xx(r),cL(r,a,!0);break;case"textarea":Xx(r),AL(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=S2)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=w$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Su]=e,t[_y]=r,KK(t,e,!1,!1),e.stateNode=t;e:{switch(s=kN(n,r),n){case"dialog":yi("cancel",t),yi("close",t),i=r;break;case"iframe":case"object":case"embed":yi("load",t),i=r;break;case"video":case"audio":for(i=0;i<Av.length;i++)yi(Av[i],t);i=r;break;case"source":yi("error",t),i=r;break;case"img":case"image":case"link":yi("error",t),yi("load",t),i=r;break;case"details":yi("toggle",t),i=r;break;case"input":lL(t,r),i=_N(t,r),yi("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ri({},r,{value:void 0}),yi("invalid",t);break;case"textarea":uL(t,r),i=jN(t,r),yi("invalid",t);break;default:i=r}TN(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?E$(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&C$(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gy(t,l):typeof l=="number"&&gy(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(my.hasOwnProperty(a)?l!=null&&a==="onScroll"&&yi("scroll",t):l!=null&&Vk(t,a,l,s))}switch(n){case"input":Xx(t),cL(t,r,!1);break;case"textarea":Xx(t),AL(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nf(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Nm(t,!!r.multiple,a,!1):r.defaultValue!=null&&Nm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=S2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vs(e),null;case 6:if(t&&e.stateNode!=null)GK(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(kt(166));if(n=lh(Ny.current),lh(ku.current),s1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Su]=e,(a=r.nodeValue!==n)&&(t=El,t!==null))switch(t.tag){case 3:a1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&a1(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Su]=e,e.stateNode=r}return Vs(e),null;case 13:if(Ei(Li),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ni&&wl!==null&&e.mode&1&&!(e.flags&128))dK(),Jm(),e.flags|=98560,a=!1;else if(a=s1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(kt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(kt(317));a[Su]=e}else Jm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vs(e),a=!1}else Vc!==null&&(dj(Vc),Vc=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Li.current&1?Ya===0&&(Ya=3):_P())),e.updateQueue!==null&&(e.flags|=4),Vs(e),null);case 4:return eg(),ij(t,e),t===null&&Sy(e.stateNode.containerInfo),Vs(e),null;case 10:return cP(e.type._context),Vs(e),null;case 17:return zo(e.type)&&E2(),Vs(e),null;case 19:if(Ei(Li),a=e.memoizedState,a===null)return Vs(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)U0(a,!1);else{if(Ya!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=k2(t),s!==null){for(e.flags|=128,U0(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ai(Li,Li.current&1|2),e.child}t=t.sibling}a.tail!==null&&pa()>ng&&(e.flags|=128,r=!0,U0(a,!1),e.lanes=4194304)}else{if(!r)if(t=k2(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),U0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ni)return Vs(e),null}else 2*pa()-a.renderingStartTime>ng&&n!==1073741824&&(e.flags|=128,r=!0,U0(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pa(),e.sibling=null,n=Li.current,Ai(Li,r?n&1|2:n&1),e):(Vs(e),null);case 22:case 23:return EP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yl&1073741824&&(Vs(e),e.subtreeFlags&6&&(e.flags|=8192)):Vs(e),null;case 24:return null;case 25:return null}throw Error(kt(156,e.tag))}function Sle(t,e){switch(aP(e),e.tag){case 1:return zo(e.type)&&E2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eg(),Ei(Ho),Ei(so),hP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fP(e),null;case 13:if(Ei(Li),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(kt(340));Jm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ei(Li),null;case 4:return eg(),null;case 10:return cP(e.type._context),null;case 22:case 23:return EP(),null;case 24:return null;default:return null}}var c1=!1,no=!1,Ele=typeof WeakSet=="function"?WeakSet:Set,an=null;function dm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yi(t,e,r)}else n.current=null}function aj(t,e,n){try{n()}catch(r){Yi(t,e,r)}}var eM=!1;function _le(t,e){if(HN=x2,t=Z$(),rP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,A=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=s),f===a&&++A===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zN={focusedElem:t,selectionRange:n},x2=!1,an=e;an!==null;)if(e=an,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,an=t;else for(;an!==null;){e=an;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Uc(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(kt(163))}}catch(S){Yi(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,an=t;break}an=e.return}return p=eM,eM=!1,p}function Ov(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&aj(e,n,a)}i=i.next}while(i!==r)}}function n5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sj(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qK(t){var e=t.alternate;e!==null&&(t.alternate=null,qK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Su],delete e[_y],delete e[KN],delete e[lle],delete e[cle])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YK(t){return t.tag===5||t.tag===3||t.tag===4}function tM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=S2));else if(r!==4&&(t=t.child,t!==null))for(oj(t,e,n),t=t.sibling;t!==null;)oj(t,e,n),t=t.sibling}function lj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lj(t,e,n),t=t.sibling;t!==null;)lj(t,e,n),t=t.sibling}var ws=null,Qc=!1;function ud(t,e,n){for(n=n.child;n!==null;)XK(t,e,n),n=n.sibling}function XK(t,e,n){if(Tu&&typeof Tu.onCommitFiberUnmount=="function")try{Tu.onCommitFiberUnmount(GS,n)}catch{}switch(n.tag){case 5:no||dm(n,e);case 6:var r=ws,i=Qc;ws=null,ud(t,e,n),ws=r,Qc=i,ws!==null&&(Qc?(t=ws,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ws.removeChild(n.stateNode));break;case 18:ws!==null&&(Qc?(t=ws,n=n.stateNode,t.nodeType===8?L_(t.parentNode,n):t.nodeType===1&&L_(t,n),xy(t)):L_(ws,n.stateNode));break;case 4:r=ws,i=Qc,ws=n.stateNode.containerInfo,Qc=!0,ud(t,e,n),ws=r,Qc=i;break;case 0:case 11:case 14:case 15:if(!no&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&aj(n,e,s),i=i.next}while(i!==r)}ud(t,e,n);break;case 1:if(!no&&(dm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Yi(n,e,o)}ud(t,e,n);break;case 21:ud(t,e,n);break;case 22:n.mode&1?(no=(r=no)||n.memoizedState!==null,ud(t,e,n),no=r):ud(t,e,n);break;default:ud(t,e,n)}}function nM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ele),e.forEach(function(r){var i=Ole.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:ws=o.stateNode,Qc=!1;break e;case 3:ws=o.stateNode.containerInfo,Qc=!0;break e;case 4:ws=o.stateNode.containerInfo,Qc=!0;break e}o=o.return}if(ws===null)throw Error(kt(160));XK(a,s,i),ws=null,Qc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Yi(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JK(e,t),e=e.sibling}function JK(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oc(e,t),vu(t),r&4){try{Ov(3,t,t.return),n5(3,t)}catch(m){Yi(t,t.return,m)}try{Ov(5,t,t.return)}catch(m){Yi(t,t.return,m)}}break;case 1:Oc(e,t),vu(t),r&512&&n!==null&&dm(n,n.return);break;case 5:if(Oc(e,t),vu(t),r&512&&n!==null&&dm(n,n.return),t.flags&32){var i=t.stateNode;try{gy(i,"")}catch(m){Yi(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&b$(i,a),kN(o,s);var u=kN(o,a);for(s=0;s<l.length;s+=2){var A=l[s],d=l[s+1];A==="style"?E$(i,d):A==="dangerouslySetInnerHTML"?C$(i,d):A==="children"?gy(i,d):Vk(i,A,d,u)}switch(o){case"input":BN(i,a);break;case"textarea":x$(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Nm(i,!!a.multiple,h,!1):f!==!!a.multiple&&(a.defaultValue!=null?Nm(i,!!a.multiple,a.defaultValue,!0):Nm(i,!!a.multiple,a.multiple?[]:"",!1))}i[_y]=a}catch(m){Yi(t,t.return,m)}}break;case 6:if(Oc(e,t),vu(t),r&4){if(t.stateNode===null)throw Error(kt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Yi(t,t.return,m)}}break;case 3:if(Oc(e,t),vu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xy(e.containerInfo)}catch(m){Yi(t,t.return,m)}break;case 4:Oc(e,t),vu(t);break;case 13:Oc(e,t),vu(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(CP=pa())),r&4&&nM(t);break;case 22:if(A=n!==null&&n.memoizedState!==null,t.mode&1?(no=(u=no)||A,Oc(e,t),no=u):Oc(e,t),vu(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!A&&t.mode&1)for(an=t,A=t.child;A!==null;){for(d=an=A;an!==null;){switch(f=an,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ov(4,f,f.return);break;case 1:dm(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Yi(r,n,m)}}break;case 5:dm(f,f.return);break;case 22:if(f.memoizedState!==null){iM(d);continue}}h!==null?(h.return=f,an=h):iM(d)}A=A.sibling}e:for(A=null,d=t;;){if(d.tag===5){if(A===null){A=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=S$("display",s))}catch(m){Yi(t,t.return,m)}}}else if(d.tag===6){if(A===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Yi(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;A===d&&(A=null),d=d.return}A===d&&(A=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Oc(e,t),vu(t),r&4&&nM(t);break;case 21:break;default:Oc(e,t),vu(t)}}function vu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YK(n)){var r=n;break e}n=n.return}throw Error(kt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gy(i,""),r.flags&=-33);var a=tM(t);lj(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=tM(t);oj(t,o,s);break;default:throw Error(kt(161))}}catch(l){Yi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ble(t,e,n){an=t,ZK(t)}function ZK(t,e,n){for(var r=(t.mode&1)!==0;an!==null;){var i=an,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||c1;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||no;o=c1;var u=no;if(c1=s,(no=l)&&!u)for(an=i;an!==null;)s=an,l=s.child,s.tag===22&&s.memoizedState!==null?aM(i):l!==null?(l.return=s,an=l):aM(i);for(;a!==null;)an=a,ZK(a),a=a.sibling;an=i,c1=o,no=u}rM(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,an=a):rM(t)}}function rM(t){for(;an!==null;){var e=an;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:no||n5(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!no)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Uc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&QL(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QL(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var A=u.memoizedState;if(A!==null){var d=A.dehydrated;d!==null&&xy(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(kt(163))}no||e.flags&512&&sj(e)}catch(f){Yi(e,e.return,f)}}if(e===t){an=null;break}if(n=e.sibling,n!==null){n.return=e.return,an=n;break}an=e.return}}function iM(t){for(;an!==null;){var e=an;if(e===t){an=null;break}var n=e.sibling;if(n!==null){n.return=e.return,an=n;break}an=e.return}}function aM(t){for(;an!==null;){var e=an;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{n5(4,e)}catch(l){Yi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yi(e,i,l)}}var a=e.return;try{sj(e)}catch(l){Yi(e,a,l)}break;case 5:var s=e.return;try{sj(e)}catch(l){Yi(e,s,l)}}}catch(l){Yi(e,e.return,l)}if(e===t){an=null;break}var o=e.sibling;if(o!==null){o.return=e.return,an=o;break}an=e.return}}var Nle=Math.ceil,O2=WA.ReactCurrentDispatcher,xP=WA.ReactCurrentOwner,fc=WA.ReactCurrentBatchConfig,Cr=0,us=null,Na=null,js=0,yl=0,fm=mf(0),Ya=0,ky=null,Lh=0,r5=0,wP=0,Fv=null,Oo=null,CP=0,ng=1/0,hA=null,F2=!1,cj=null,Kd=null,u1=!1,jd=null,L2=0,Lv=0,uj=null,Lw=-1,Mw=0;function Co(){return Cr&6?pa():Lw!==-1?Lw:Lw=pa()}function Wd(t){return t.mode&1?Cr&2&&js!==0?js&-js:Ale.transition!==null?(Mw===0&&(Mw=L$()),Mw):(t=$r,t!==0||(t=window.event,t=t===void 0?16:V$(t.type)),t):1}function Wc(t,e,n,r){if(50<Lv)throw Lv=0,uj=null,Error(kt(185));Vb(t,n,r),(!(Cr&2)||t!==us)&&(t===us&&(!(Cr&2)&&(r5|=n),Ya===4&&_d(t,js)),Vo(t,r),n===1&&Cr===0&&!(e.mode&1)&&(ng=pa()+500,ZS&&gf()))}function Vo(t,e){var n=t.callbackNode;Aoe(t,e);var r=b2(t,t===us?js:0);if(r===0)n!==null&&hL(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hL(n),e===1)t.tag===0?ule(sM.bind(null,t)):cK(sM.bind(null,t)),sle(function(){!(Cr&6)&&gf()}),n=null;else{switch(M$(r)){case 1:n=qk;break;case 4:n=O$;break;case 16:n=y2;break;case 536870912:n=F$;break;default:n=y2}n=oW(n,eW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eW(t,e){if(Lw=-1,Mw=0,Cr&6)throw Error(kt(327));var n=t.callbackNode;if(Pm()&&t.callbackNode!==n)return null;var r=b2(t,t===us?js:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=M2(t,r);else{e=r;var i=Cr;Cr|=2;var a=nW();(us!==t||js!==e)&&(hA=null,ng=pa()+500,yh(t,e));do try{Tle();break}catch(o){tW(t,o)}while(!0);lP(),O2.current=a,Cr=i,Na!==null?e=0:(us=null,js=0,e=Ya)}if(e!==0){if(e===2&&(i=LN(t),i!==0&&(r=i,e=Aj(t,i))),e===1)throw n=ky,yh(t,0),_d(t,r),Vo(t,pa()),n;if(e===6)_d(t,r);else{if(i=t.current.alternate,!(r&30)&&!jle(i)&&(e=M2(t,r),e===2&&(a=LN(t),a!==0&&(r=a,e=Aj(t,a))),e===1))throw n=ky,yh(t,0),_d(t,r),Vo(t,pa()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(kt(345));case 2:$f(t,Oo,hA);break;case 3:if(_d(t,r),(r&130023424)===r&&(e=CP+500-pa(),10<e)){if(b2(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Co(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$N($f.bind(null,t,Oo,hA),e);break}$f(t,Oo,hA);break;case 4:if(_d(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Kc(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=pa()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nle(r/1960))-r,10<r){t.timeoutHandle=$N($f.bind(null,t,Oo,hA),r);break}$f(t,Oo,hA);break;case 5:$f(t,Oo,hA);break;default:throw Error(kt(329))}}}return Vo(t,pa()),t.callbackNode===n?eW.bind(null,t):null}function Aj(t,e){var n=Fv;return t.current.memoizedState.isDehydrated&&(yh(t,e).flags|=256),t=M2(t,e),t!==2&&(e=Oo,Oo=n,e!==null&&dj(e)),t}function dj(t){Oo===null?Oo=t:Oo.push.apply(Oo,t)}function jle(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Jc(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _d(t,e){for(e&=~wP,e&=~r5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kc(e),r=1<<n;t[n]=-1,e&=~r}}function sM(t){if(Cr&6)throw Error(kt(327));Pm();var e=b2(t,0);if(!(e&1))return Vo(t,pa()),null;var n=M2(t,e);if(t.tag!==0&&n===2){var r=LN(t);r!==0&&(e=r,n=Aj(t,r))}if(n===1)throw n=ky,yh(t,0),_d(t,e),Vo(t,pa()),n;if(n===6)throw Error(kt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$f(t,Oo,hA),Vo(t,pa()),null}function SP(t,e){var n=Cr;Cr|=1;try{return t(e)}finally{Cr=n,Cr===0&&(ng=pa()+500,ZS&&gf())}}function Mh(t){jd!==null&&jd.tag===0&&!(Cr&6)&&Pm();var e=Cr;Cr|=1;var n=fc.transition,r=$r;try{if(fc.transition=null,$r=1,t)return t()}finally{$r=r,fc.transition=n,Cr=e,!(Cr&6)&&gf()}}function EP(){yl=fm.current,Ei(fm)}function yh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ale(n)),Na!==null)for(n=Na.return;n!==null;){var r=n;switch(aP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&E2();break;case 3:eg(),Ei(Ho),Ei(so),hP();break;case 5:fP(r);break;case 4:eg();break;case 13:Ei(Li);break;case 19:Ei(Li);break;case 10:cP(r.type._context);break;case 22:case 23:EP()}n=n.return}if(us=t,Na=t=Gd(t.current,null),js=yl=e,Ya=0,ky=null,wP=r5=Lh=0,Oo=Fv=null,oh!==null){for(e=0;e<oh.length;e++)if(n=oh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}oh=null}return t}function tW(t,e){do{var n=Na;try{if(lP(),Dw.current=D2,P2){for(var r=Mi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}P2=!1}if(Fh=0,ss=Wa=Mi=null,Dv=!1,jy=0,xP.current=null,n===null||n.return===null){Ya=1,ky=e,Na=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=js,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,A=o,d=A.tag;if(!(A.mode&1)&&(d===0||d===11||d===15)){var f=A.alternate;f?(A.updateQueue=f.updateQueue,A.memoizedState=f.memoizedState,A.lanes=f.lanes):(A.updateQueue=null,A.memoizedState=null)}var h=WL(s);if(h!==null){h.flags&=-257,GL(h,s,o,a,e),h.mode&1&&KL(a,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){KL(a,u,e),_P();break e}l=Error(kt(426))}}else if(Ni&&o.mode&1){var v=WL(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),GL(v,s,o,a,e),sP(tg(l,o));break e}}a=l=tg(l,o),Ya!==4&&(Ya=2),Fv===null?Fv=[a]:Fv.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=MK(a,l,e);UL(a,g);break e;case 1:o=l;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Kd===null||!Kd.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=RK(a,o,e);UL(a,S);break e}}a=a.return}while(a!==null)}iW(n)}catch(E){e=E,Na===n&&n!==null&&(Na=n=n.return);continue}break}while(!0)}function nW(){var t=O2.current;return O2.current=D2,t===null?D2:t}function _P(){(Ya===0||Ya===3||Ya===2)&&(Ya=4),us===null||!(Lh&268435455)&&!(r5&268435455)||_d(us,js)}function M2(t,e){var n=Cr;Cr|=2;var r=nW();(us!==t||js!==e)&&(hA=null,yh(t,e));do try{Ile();break}catch(i){tW(t,i)}while(!0);if(lP(),Cr=n,O2.current=r,Na!==null)throw Error(kt(261));return us=null,js=0,Ya}function Ile(){for(;Na!==null;)rW(Na)}function Tle(){for(;Na!==null&&!noe();)rW(Na)}function rW(t){var e=sW(t.alternate,t,yl);t.memoizedProps=t.pendingProps,e===null?iW(t):Na=e,xP.current=null}function iW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Sle(n,e),n!==null){n.flags&=32767,Na=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ya=6,Na=null;return}}else if(n=Cle(n,e,yl),n!==null){Na=n;return}if(e=e.sibling,e!==null){Na=e;return}Na=e=t}while(e!==null);Ya===0&&(Ya=5)}function $f(t,e,n){var r=$r,i=fc.transition;try{fc.transition=null,$r=1,kle(t,e,n,r)}finally{fc.transition=i,$r=r}return null}function kle(t,e,n,r){do Pm();while(jd!==null);if(Cr&6)throw Error(kt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(kt(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(doe(t,a),t===us&&(Na=us=null,js=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||u1||(u1=!0,oW(y2,function(){return Pm(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fc.transition,fc.transition=null;var s=$r;$r=1;var o=Cr;Cr|=4,xP.current=null,_le(t,n),JK(n,t),Joe(zN),x2=!!HN,zN=HN=null,t.current=n,Ble(n),roe(),Cr=o,$r=s,fc.transition=a}else t.current=n;if(u1&&(u1=!1,jd=t,L2=i),a=t.pendingLanes,a===0&&(Kd=null),soe(n.stateNode),Vo(t,pa()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(F2)throw F2=!1,t=cj,cj=null,t;return L2&1&&t.tag!==0&&Pm(),a=t.pendingLanes,a&1?t===uj?Lv++:(Lv=0,uj=t):Lv=0,gf(),null}function Pm(){if(jd!==null){var t=M$(L2),e=fc.transition,n=$r;try{if(fc.transition=null,$r=16>t?16:t,jd===null)var r=!1;else{if(t=jd,jd=null,L2=0,Cr&6)throw Error(kt(331));var i=Cr;for(Cr|=4,an=t.current;an!==null;){var a=an,s=a.child;if(an.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(an=u;an!==null;){var A=an;switch(A.tag){case 0:case 11:case 15:Ov(8,A,a)}var d=A.child;if(d!==null)d.return=A,an=d;else for(;an!==null;){A=an;var f=A.sibling,h=A.return;if(qK(A),A===u){an=null;break}if(f!==null){f.return=h,an=f;break}an=h}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}an=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,an=s;else e:for(;an!==null;){if(a=an,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ov(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,an=g;break e}an=a.return}}var y=t.current;for(an=y;an!==null;){s=an;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,an=x;else e:for(s=y;an!==null;){if(o=an,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:n5(9,o)}}catch(E){Yi(o,o.return,E)}if(o===s){an=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,an=S;break e}an=o.return}}if(Cr=i,gf(),Tu&&typeof Tu.onPostCommitFiberRoot=="function")try{Tu.onPostCommitFiberRoot(GS,t)}catch{}r=!0}return r}finally{$r=n,fc.transition=e}}return!1}function oM(t,e,n){e=tg(n,e),e=MK(t,e,1),t=$d(t,e,1),e=Co(),t!==null&&(Vb(t,1,e),Vo(t,e))}function Yi(t,e,n){if(t.tag===3)oM(t,t,n);else for(;e!==null;){if(e.tag===3){oM(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kd===null||!Kd.has(r))){t=tg(n,t),t=RK(e,t,1),e=$d(e,t,1),t=Co(),e!==null&&(Vb(e,1,t),Vo(e,t));break}}e=e.return}}function Ple(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Co(),t.pingedLanes|=t.suspendedLanes&n,us===t&&(js&n)===n&&(Ya===4||Ya===3&&(js&130023424)===js&&500>pa()-CP?yh(t,0):wP|=n),Vo(t,e)}function aW(t,e){e===0&&(t.mode&1?(e=e1,e1<<=1,!(e1&130023424)&&(e1=4194304)):e=1);var n=Co();t=DA(t,e),t!==null&&(Vb(t,e,n),Vo(t,n))}function Dle(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aW(t,n)}function Ole(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(kt(314))}r!==null&&r.delete(e),aW(t,n)}var sW;sW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ho.current)Mo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mo=!1,wle(t,e,n);Mo=!!(t.flags&131072)}else Mo=!1,Ni&&e.flags&1048576&&uK(e,N2,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fw(t,e),t=e.pendingProps;var i=Xm(e,so.current);km(e,n),i=mP(null,e,r,t,i,n);var a=gP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zo(r)?(a=!0,_2(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,AP(e),i.updater=t5,e.stateNode=i,i._reactInternals=e,JN(e,r,t,n),e=tj(null,e,r,!0,a,n)):(e.tag=0,Ni&&a&&iP(e),vo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fw(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Lle(r),t=Uc(r,t),i){case 0:e=ej(null,e,r,t,n);break e;case 1:e=XL(null,e,r,t,n);break e;case 11:e=qL(null,e,r,t,n);break e;case 14:e=YL(null,e,r,Uc(r.type,t),n);break e}throw Error(kt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uc(r,i),ej(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uc(r,i),XL(t,e,r,i,n);case 3:e:{if(zK(e),t===null)throw Error(kt(387));r=e.pendingProps,a=e.memoizedState,i=a.element,mK(t,e),T2(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=tg(Error(kt(423)),e),e=JL(t,e,r,n,i);break e}else if(r!==i){i=tg(Error(kt(424)),e),e=JL(t,e,r,n,i);break e}else for(wl=Vd(e.stateNode.containerInfo.firstChild),El=e,Ni=!0,Vc=null,n=hK(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jm(),r===i){e=OA(t,e,n);break e}vo(t,e,r,n)}e=e.child}return e;case 5:return gK(e),t===null&&qN(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,VN(r,i)?s=null:a!==null&&VN(r,a)&&(e.flags|=32),HK(t,e),vo(t,e,s,n),e.child;case 6:return t===null&&qN(e),null;case 13:return VK(t,e,n);case 4:return dP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zm(e,null,r,n):vo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uc(r,i),qL(t,e,r,i,n);case 7:return vo(t,e,e.pendingProps,n),e.child;case 8:return vo(t,e,e.pendingProps.children,n),e.child;case 12:return vo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ai(j2,r._currentValue),r._currentValue=s,a!==null)if(Jc(a.value,s)){if(a.children===i.children&&!Ho.current){e=OA(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=_A(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var A=u.pending;A===null?l.next=l:(l.next=A.next,A.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),YN(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(kt(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),YN(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}vo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,km(e,n),i=hc(i),r=r(i),e.flags|=1,vo(t,e,r,n),e.child;case 14:return r=e.type,i=Uc(r,e.pendingProps),i=Uc(r.type,i),YL(t,e,r,i,n);case 15:return UK(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uc(r,i),Fw(t,e),e.tag=1,zo(r)?(t=!0,_2(e)):t=!1,km(e,n),LK(e,r,i),JN(e,r,i,n),tj(null,e,r,!0,t,n);case 19:return $K(t,e,n);case 22:return QK(t,e,n)}throw Error(kt(156,e.tag))};function oW(t,e){return D$(t,e)}function Fle(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cc(t,e,n,r){return new Fle(t,e,n,r)}function BP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lle(t){if(typeof t=="function")return BP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kk)return 11;if(t===Wk)return 14}return 2}function Gd(t,e){var n=t.alternate;return n===null?(n=cc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rw(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")BP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case rm:return bh(n.children,i,a,e);case $k:s=8,i|=8;break;case wN:return t=cc(12,n,e,i|2),t.elementType=wN,t.lanes=a,t;case CN:return t=cc(13,n,e,i),t.elementType=CN,t.lanes=a,t;case SN:return t=cc(19,n,e,i),t.elementType=SN,t.lanes=a,t;case g$:return i5(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p$:s=10;break e;case m$:s=9;break e;case Kk:s=11;break e;case Wk:s=14;break e;case xd:s=16,r=null;break e}throw Error(kt(130,t==null?t:typeof t,""))}return e=cc(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function bh(t,e,n,r){return t=cc(7,t,r,e),t.lanes=n,t}function i5(t,e,n,r){return t=cc(22,t,r,e),t.elementType=g$,t.lanes=n,t.stateNode={isHidden:!1},t}function $_(t,e,n){return t=cc(6,t,null,e),t.lanes=n,t}function K_(t,e,n){return e=cc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mle(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=__(0),this.expirationTimes=__(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=__(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NP(t,e,n,r,i,a,s,o,l){return t=new Mle(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=cc(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},AP(a),t}function Rle(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lW(t){if(!t)return rf;t=t._reactInternals;e:{if(rp(t)!==t||t.tag!==1)throw Error(kt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(kt(171))}if(t.tag===1){var n=t.type;if(zo(n))return lK(t,n,e)}return e}function cW(t,e,n,r,i,a,s,o,l){return t=NP(n,r,!0,t,i,a,s,o,l),t.context=lW(null),n=t.current,r=Co(),i=Wd(n),a=_A(r,i),a.callback=e??null,$d(n,a,i),t.current.lanes=i,Vb(t,i,r),Vo(t,r),t}function a5(t,e,n,r){var i=e.current,a=Co(),s=Wd(i);return n=lW(n),e.context===null?e.context=n:e.pendingContext=n,e=_A(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$d(i,e,s),t!==null&&(Wc(t,i,s,a),Pw(t,i,s)),s}function R2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jP(t,e){lM(t,e),(t=t.alternate)&&lM(t,e)}function Ule(){return null}var uW=typeof reportError=="function"?reportError:function(t){console.error(t)};function IP(t){this._internalRoot=t}s5.prototype.render=IP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(kt(409));a5(t,e,null,null)};s5.prototype.unmount=IP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mh(function(){a5(null,t,null,null)}),e[PA]=null}};function s5(t){this._internalRoot=t}s5.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ed.length&&e!==0&&e<Ed[n].priority;n++);Ed.splice(n,0,t),n===0&&z$(t)}};function TP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cM(){}function Qle(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=R2(s);a.call(u)}}var s=cW(e,r,t,0,null,!1,!1,"",cM);return t._reactRootContainer=s,t[PA]=s.current,Sy(t.nodeType===8?t.parentNode:t),Mh(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=R2(l);o.call(u)}}var l=NP(t,0,!1,null,null,!1,!1,"",cM);return t._reactRootContainer=l,t[PA]=l.current,Sy(t.nodeType===8?t.parentNode:t),Mh(function(){a5(e,l,n,r)}),l}function l5(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=R2(s);o.call(l)}}a5(e,s,t,i)}else s=Qle(n,e,t,i,r);return R2(s)}R$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uv(e.pendingLanes);n!==0&&(Yk(e,n|1),Vo(e,pa()),!(Cr&6)&&(ng=pa()+500,gf()))}break;case 13:Mh(function(){var r=DA(t,1);if(r!==null){var i=Co();Wc(r,t,1,i)}}),jP(t,1)}};Xk=function(t){if(t.tag===13){var e=DA(t,134217728);if(e!==null){var n=Co();Wc(e,t,134217728,n)}jP(t,134217728)}};U$=function(t){if(t.tag===13){var e=Wd(t),n=DA(t,e);if(n!==null){var r=Co();Wc(n,t,e,r)}jP(t,e)}};Q$=function(){return $r};H$=function(t,e){var n=$r;try{return $r=t,e()}finally{$r=n}};DN=function(t,e,n){switch(e){case"input":if(BN(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=JS(r);if(!i)throw Error(kt(90));y$(r),BN(r,i)}}}break;case"textarea":x$(t,n);break;case"select":e=n.value,e!=null&&Nm(t,!!n.multiple,e,!1)}};N$=SP;j$=Mh;var Hle={usingClientEntryPoint:!1,Events:[Kb,om,JS,_$,B$,SP]},Q0={findFiberByHostInstance:sh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zle={bundleType:Q0.bundleType,version:Q0.version,rendererPackageName:Q0.rendererPackageName,rendererConfig:Q0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:WA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k$(t),t===null?null:t.stateNode},findFiberByHostInstance:Q0.findFiberByHostInstance||Ule,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var A1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!A1.isDisabled&&A1.supportsFiber)try{GS=A1.inject(zle),Tu=A1}catch{}}Rl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hle;Rl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TP(e))throw Error(kt(200));return Rle(t,e,null,n)};Rl.createRoot=function(t,e){if(!TP(t))throw Error(kt(299));var n=!1,r="",i=uW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=NP(t,1,!1,null,null,n,!1,r,i),t[PA]=e.current,Sy(t.nodeType===8?t.parentNode:t),new IP(e)};Rl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(kt(188)):(t=Object.keys(t).join(","),Error(kt(268,t)));return t=k$(e),t=t===null?null:t.stateNode,t};Rl.flushSync=function(t){return Mh(t)};Rl.hydrate=function(t,e,n){if(!o5(e))throw Error(kt(200));return l5(null,t,e,!0,n)};Rl.hydrateRoot=function(t,e,n){if(!TP(t))throw Error(kt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=uW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=cW(e,null,t,1,n??null,i,!1,a,s),t[PA]=e.current,Sy(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new s5(e)};Rl.render=function(t,e,n){if(!o5(e))throw Error(kt(200));return l5(null,t,e,!1,n)};Rl.unmountComponentAtNode=function(t){if(!o5(t))throw Error(kt(40));return t._reactRootContainer?(Mh(function(){l5(null,null,t,!1,function(){t._reactRootContainer=null,t[PA]=null})}),!0):!1};Rl.unstable_batchedUpdates=SP;Rl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!o5(n))throw Error(kt(200));if(t==null||t._reactInternals===void 0)throw Error(kt(38));return l5(t,e,n,!1,r)};Rl.version="18.3.1-next-f1338f8080-20240426";function AW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AW)}catch(t){console.error(t)}}AW(),A$.exports=Rl;var Py=A$.exports,uM=Py;bN.createRoot=uM.createRoot,bN.hydrateRoot=uM.hydrateRoot;var AM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vle=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},fW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,A=a>>2,d=(a&3)<<4|o>>4;let f=(o&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[A],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vle(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new $le;const f=a<<2|o>>4;if(r.push(f),u!==64){const h=o<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kle=function(t){const e=dW(t);return fW.encodeByteArray(e,!0)},hW=function(t){return Kle(t).replace(/\./g,"")},pW=function(t){try{return fW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gle=()=>Wle().__FIREBASE_DEFAULTS__,qle=()=>{if(typeof process>"u"||typeof AM>"u")return;const t=AM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yle=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pW(t[1]);return e&&JSON.parse(e)},kP=()=>{try{return Gle()||qle()||Yle()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xle=()=>{var t;return(t=kP())===null||t===void 0?void 0:t.config},Jle=t=>{var e;return(e=kP())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ece(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Go())}function tce(){var t;const e=(t=kP())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rce(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ice(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ace(){const t=Go();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sce(){return!tce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oce(){try{return typeof indexedDB=="object"}catch{return!1}}function lce(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cce="FirebaseError";class GA extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cce,Object.setPrototypeOf(this,GA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gb.prototype.create)}}class Gb{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?uce(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new GA(i,o,r)}}function uce(t,e){return t.replace(Ace,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ace=/\{\$([^}]+)}/g;function Dy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(dM(a)&&dM(s)){if(!Dy(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dv(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function fv(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dce(t,e){const n=new fce(t,e);return n.subscribe.bind(n)}class fce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hce(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=W_),i.error===void 0&&(i.error=W_),i.complete===void 0&&(i.complete=W_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hce(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function W_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){return t&&t._delegate?t._delegate:t}class Rh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zle;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gce(e))try{this.getOrInitializeService({instanceIdentifier:Kf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Kf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kf){return this.instances.has(e)}getOptions(e=Kf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mce(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kf){return this.component?this.component.multipleInstances?e:Kf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mce(t){return t===Kf?void 0:t}function gce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ur||(ur={}));const yce={debug:ur.DEBUG,verbose:ur.VERBOSE,info:ur.INFO,warn:ur.WARN,error:ur.ERROR,silent:ur.SILENT},bce=ur.INFO,xce={[ur.DEBUG]:"log",[ur.VERBOSE]:"log",[ur.INFO]:"info",[ur.WARN]:"warn",[ur.ERROR]:"error"},wce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xce[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let PP=class{constructor(e){this.name=e,this._logLevel=bce,this._logHandler=wce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ur))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ur.DEBUG,...e),this._logHandler(this,ur.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ur.VERBOSE,...e),this._logHandler(this,ur.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ur.INFO,...e),this._logHandler(this,ur.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ur.WARN,...e),this._logHandler(this,ur.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ur.ERROR,...e),this._logHandler(this,ur.ERROR,...e)}};const Cce=(t,e)=>e.some(n=>t instanceof n);let fM,hM;function Sce(){return fM||(fM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ece(){return hM||(hM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gW=new WeakMap,fj=new WeakMap,vW=new WeakMap,G_=new WeakMap,DP=new WeakMap;function _ce(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(qd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gW.set(n,t)}).catch(()=>{}),DP.set(e,t),e}function Bce(t){if(fj.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});fj.set(t,e)}let hj={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fj.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vW.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nce(t){hj=t(hj)}function jce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(q_(this),e,...n);return vW.set(r,e.sort?e.sort():[e]),qd(r)}:Ece().includes(t)?function(...e){return t.apply(q_(this),e),qd(gW.get(this))}:function(...e){return qd(t.apply(q_(this),e))}}function Ice(t){return typeof t=="function"?jce(t):(t instanceof IDBTransaction&&Bce(t),Cce(t,Sce())?new Proxy(t,hj):t)}function qd(t){if(t instanceof IDBRequest)return _ce(t);if(G_.has(t))return G_.get(t);const e=Ice(t);return e!==t&&(G_.set(t,e),DP.set(e,t)),e}const q_=t=>DP.get(t);function Tce(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=qd(s);return r&&s.addEventListener("upgradeneeded",l=>{r(qd(s.result),l.oldVersion,l.newVersion,qd(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const kce=["get","getKey","getAll","getAllKeys","count"],Pce=["put","add","delete","clear"],Y_=new Map;function pM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y_.get(e))return Y_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kce.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Y_.set(e,a),a}Nce(t=>({...t,get:(e,n,r)=>pM(e,n)||t.get(e,n,r),has:(e,n)=>!!pM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Oce(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Oce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pj="@firebase/app",mM="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new PP("@firebase/app"),Fce="@firebase/app-compat",Lce="@firebase/analytics-compat",Mce="@firebase/analytics",Rce="@firebase/app-check-compat",Uce="@firebase/app-check",Qce="@firebase/auth",Hce="@firebase/auth-compat",zce="@firebase/database",Vce="@firebase/data-connect",$ce="@firebase/database-compat",Kce="@firebase/functions",Wce="@firebase/functions-compat",Gce="@firebase/installations",qce="@firebase/installations-compat",Yce="@firebase/messaging",Xce="@firebase/messaging-compat",Jce="@firebase/performance",Zce="@firebase/performance-compat",eue="@firebase/remote-config",tue="@firebase/remote-config-compat",nue="@firebase/storage",rue="@firebase/storage-compat",iue="@firebase/firestore",aue="@firebase/vertexai-preview",sue="@firebase/firestore-compat",oue="firebase",lue="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue="[DEFAULT]",uue={[pj]:"fire-core",[Fce]:"fire-core-compat",[Mce]:"fire-analytics",[Lce]:"fire-analytics-compat",[Uce]:"fire-app-check",[Rce]:"fire-app-check-compat",[Qce]:"fire-auth",[Hce]:"fire-auth-compat",[zce]:"fire-rtdb",[Vce]:"fire-data-connect",[$ce]:"fire-rtdb-compat",[Kce]:"fire-fn",[Wce]:"fire-fn-compat",[Gce]:"fire-iid",[qce]:"fire-iid-compat",[Yce]:"fire-fcm",[Xce]:"fire-fcm-compat",[Jce]:"fire-perf",[Zce]:"fire-perf-compat",[eue]:"fire-rc",[tue]:"fire-rc-compat",[nue]:"fire-gcs",[rue]:"fire-gcs-compat",[iue]:"fire-fst",[sue]:"fire-fst-compat",[aue]:"fire-vertex","fire-js":"fire-js",[oue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Map,Aue=new Map,gj=new Map;function gM(t,e){try{t.container.addComponent(e)}catch(n){FA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rg(t){const e=t.name;if(gj.has(e))return FA.debug(`There were multiple attempts to register component ${e}.`),!1;gj.set(e,t);for(const n of mj.values())gM(n,t);for(const n of Aue.values())gM(n,t);return!0}function yW(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Id(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const due={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xh=new Gb("app","Firebase",due);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fue{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=lue;function hue(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cue,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xh.create("bad-app-name",{appName:String(i)});if(n||(n=Xle()),!n)throw xh.create("no-options");const a=mj.get(i);if(a){if(Dy(n,a.options)&&Dy(r,a.config))return a;throw xh.create("duplicate-app",{appName:i})}const s=new vce(i);for(const l of gj.values())s.addComponent(l);const o=new fue(n,r,s);return mj.set(i,o),o}function Yd(t,e,n){var r;let i=(r=uue[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),FA.warn(o.join(" "));return}rg(new Rh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pue="firebase-heartbeat-database",mue=1,Oy="firebase-heartbeat-store";let X_=null;function bW(){return X_||(X_=Tce(pue,mue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oy)}catch(n){console.warn(n)}}}}).catch(t=>{throw xh.create("idb-open",{originalErrorMessage:t.message})})),X_}async function gue(t){try{const n=(await bW()).transaction(Oy),r=await n.objectStore(Oy).get(xW(t));return await n.done,r}catch(e){if(e instanceof GA)FA.warn(e.message);else{const n=xh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});FA.warn(n.message)}}}async function vM(t,e){try{const r=(await bW()).transaction(Oy,"readwrite");await r.objectStore(Oy).put(e,xW(t)),await r.done}catch(n){if(n instanceof GA)FA.warn(n.message);else{const r=xh.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});FA.warn(r.message)}}}function xW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vue=1024,yue=30*24*60*60*1e3;class bue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=yue}),this._storage.overwrite(this._heartbeatsCache))}catch(r){FA.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yM(),{heartbeatsToSend:r,unsentEntries:i}=xue(this._heartbeatsCache.heartbeats),a=hW(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return FA.warn(n),""}}}function yM(){return new Date().toISOString().substring(0,10)}function xue(t,e=vue){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),bM(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oce()?lce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gue(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bM(t){return hW(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cue(t){rg(new Rh("platform-logger",e=>new Dce(e),"PRIVATE")),rg(new Rh("heartbeat",e=>new bue(e),"PRIVATE")),Yd(pj,mM,t),Yd(pj,mM,"esm2017"),Yd("fire-js","")}Cue("");function wW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sue=CW,SW=new Gb("auth","Firebase",CW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new PP("@firebase/auth");function Eue(t,...e){U2.logLevel<=ur.WARN&&U2.warn(`Auth (${c5}): ${t}`,...e)}function Uw(t,...e){U2.logLevel<=ur.ERROR&&U2.error(`Auth (${c5}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,...e){throw FP(t,...e)}function OP(t,...e){return FP(t,...e)}function EW(t,e,n){const r=Object.assign(Object.assign({},Sue()),{[e]:n});return new Gb("auth","Firebase",r).create(e,{appName:t.name})}function wh(t){return EW(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SW.create(t,...e)}function wr(t,e,...n){if(!t)throw FP(e,...n)}function bA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uw(e),new Error(e)}function Q2(t,e){t||bA(e)}function _ue(){return xM()==="http:"||xM()==="https:"}function xM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_ue()||rce()||"connection"in navigator)?navigator.onLine:!0}function Nue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.shortDelay=e,this.longDelay=n,Q2(n>e,"Short delay should be less than long delay!"),this.isMobile=ece()||ice()}get(){return Bue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(t,e){Q2(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tue=new qb(3e4,6e4);function ip(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ap(t,e,n,r,i={}){return BW(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=mW(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return nce()||(u.referrerPolicy="no-referrer"),_W.fetch()(NW(t,t.config.apiHost,n,o),u)})}async function BW(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Iue),e);try{const i=new Pue(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw d1(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw d1(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw d1(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw d1(t,"user-disabled",s);const A=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw EW(t,A,u);ig(t,A)}}catch(i){if(i instanceof GA)throw i;ig(t,"network-request-failed",{message:String(i)})}}async function u5(t,e,n,r,i={}){const a=await ap(t,e,n,r,i);return"mfaPendingCredential"in a&&ig(t,"multi-factor-auth-required",{_serverResponse:a}),a}function NW(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jue(t.config,i):`${t.config.apiScheme}://${i}`}function kue(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(OP(this.auth,"network-request-failed")),Tue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function d1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=OP(t,e,r);return i.customData._tokenResponse=n,i}function wM(t){return t!==void 0&&t.enterprise!==void 0}class Due{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kue(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Oue(t,e){return ap(t,"GET","/v2/recaptchaConfig",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fue(t,e){return ap(t,"POST","/v1/accounts:delete",e)}async function jW(t,e){return ap(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lue(t,e=!1){const n=ks(t),r=await n.getIdToken(e),i=IW(r);wr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Mv(J_(i.auth_time)),issuedAtTime:Mv(J_(i.iat)),expirationTime:Mv(J_(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function J_(t){return Number(t)*1e3}function IW(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uw("JWT malformed, contained fewer than 3 sections"),null;try{const i=pW(n);return i?JSON.parse(i):(Uw("Failed to decode base64 JWT payload"),null)}catch(i){return Uw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CM(t){const e=IW(t);return wr(e,"internal-error"),wr(typeof e.exp<"u","internal-error"),wr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof GA&&Mue(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Mue({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mv(this.lastLoginAt),this.creationTime=Mv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vj(t,jW(n,{idToken:r}));wr(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?TW(a.providerUserInfo):[],o=Que(t.providerData,s),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),A=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new yj(a.createdAt,a.lastLoginAt),isAnonymous:A};Object.assign(t,d)}async function Uue(t){const e=ks(t);await H2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Que(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TW(t){return t.map(e=>{var{providerId:n}=e,r=wW(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hue(t,e){const n=await BW(t,{},async()=>{const r=mW({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=NW(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",_W.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zue(t,e){return ap(t,"POST","/v2/accounts:revokeToken",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wr(e.idToken,"internal-error"),wr(typeof e.idToken<"u","internal-error"),wr(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){wr(e.length!==0,"internal-error");const n=CM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Hue(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Dm;return r&&(wr(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(wr(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(wr(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dm,this.toJSON())}_performRefresh(){return bA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e){wr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xA{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=wW(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new yj(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await vj(this,this.stsTokenManager.getToken(this.auth,e));return wr(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lue(this,e)}reload(){return Uue(this)}_assign(e){this!==e&&(wr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xA(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){wr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await H2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Id(this.auth.app))return Promise.reject(wh(this.auth));const e=await this.getIdToken();return await vj(this,Fue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,u,A;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(o=n.tenantId)!==null&&o!==void 0?o:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:x,emailVerified:S,isAnonymous:E,providerData:N,stsTokenManager:_}=n;wr(x&&_,e,"internal-error");const B=Dm.fromJSON(this.name,_);wr(typeof x=="string",e,"internal-error"),Ad(d,e.name),Ad(f,e.name),wr(typeof S=="boolean",e,"internal-error"),wr(typeof E=="boolean",e,"internal-error"),Ad(h,e.name),Ad(p,e.name),Ad(m,e.name),Ad(v,e.name),Ad(g,e.name),Ad(y,e.name);const j=new xA({uid:x,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:y});return N&&Array.isArray(N)&&(j.providerData=N.map(D=>Object.assign({},D))),v&&(j._redirectEventId=v),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dm;i.updateFromServerResponse(n);const a=new xA({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await H2(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];wr(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?TW(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Dm;o.updateFromIdToken(r);const l=new xA({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new yj(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new Map;function ch(t){Q2(t instanceof Function,"Expected a class definition");let e=SM.get(t);return e?(Q2(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kW.type="NONE";const EM=kW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e,n){return`firebase:${t}:${e}:${n}`}class Om{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Z_(this.userKey,i.apiKey,a),this.fullPersistenceKey=Z_("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xA._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Om(ch(EM),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||ch(EM);const s=Z_(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const A=await u._get(s);if(A){const d=xA._fromJSON(e,A);u!==a&&(o=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Om(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Om(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vue(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OW(e))return"Blackberry";if(FW(e))return"Webos";if($ue(e))return"Safari";if((e.includes("chrome/")||Kue(e))&&!e.includes("edge/"))return"Chrome";if(DW(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vue(t=Go()){return/firefox\//i.test(t)}function $ue(t=Go()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kue(t=Go()){return/crios\//i.test(t)}function PW(t=Go()){return/iemobile/i.test(t)}function DW(t=Go()){return/android/i.test(t)}function OW(t=Go()){return/blackberry/i.test(t)}function FW(t=Go()){return/webos/i.test(t)}function Wue(t=Go()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gue(){return ace()&&document.documentMode===10}function que(t=Go()){return Wue(t)||DW(t)||FW(t)||OW(t)||/windows phone/i.test(t)||PW(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t,e=[]){let n;switch(t){case"Browser":n=_M(Go());break;case"Worker":n=`${_M(Go())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${c5}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xue(t,e={}){return ap(t,"GET","/v2/passwordPolicy",ip(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jue=6;class Zue{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Jue,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eAe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BM(this),this.idTokenSubscription=new BM(this),this.beforeStateQueue=new Yue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ch(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Om.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jW(this,{idToken:e}),r=await xA._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Id(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await H2(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Id(this.app))return Promise.reject(wh(this));const n=e?ks(e):null;return n&&wr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&wr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Id(this.app)?Promise.reject(wh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Id(this.app)?Promise.reject(wh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ch(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xue(this),n=new Zue(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gb("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zue(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ch(e)||this._popupRedirectResolver;wr(n,this,"argument-error"),this.redirectPersistenceManager=await Om.create(this,[ch(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(wr(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Eue(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yb(t){return ks(t)}class BM{constructor(e){this.auth=e,this.observer=null,this.addObserver=dce(n=>this.observer=n)}get next(){return wr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tAe(t){LP=t}function nAe(t){return LP.loadJS(t)}function rAe(){return LP.recaptchaEnterpriseScript}const iAe="recaptcha-enterprise",aAe="NO_RECAPTCHA";class sAe{constructor(e){this.type=iAe,this.auth=Yb(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Oue(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new Due(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;wM(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(aAe)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&wM(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rAe();l.length!==0&&(l+=o),nAe(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function NM(t,e,n,r=!1){const i=new sAe(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function bj(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await NM(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await NM(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oAe(t,e){const n=yW(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Dy(a,e??{}))return i;ig(i,"already-initialized")}return n.initialize({options:e})}function lAe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ch);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cAe{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bA("not implemented")}_getIdTokenResponse(e){return bA("not implemented")}_linkToIdToken(e,n){return bA("not implemented")}_getReauthenticationResolver(e){return bA("not implemented")}}async function uAe(t,e){return ap(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AAe(t,e){return u5(t,"POST","/v1/accounts:signInWithPassword",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dAe(t,e){return u5(t,"POST","/v1/accounts:signInWithEmailLink",ip(t,e))}async function fAe(t,e){return u5(t,"POST","/v1/accounts:signInWithEmailLink",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends cAe{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bj(e,n,"signInWithPassword",AAe);case"emailLink":return dAe(e,{email:this._email,oobCode:this._password});default:ig(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bj(e,r,"signUpPassword",uAe);case"emailLink":return fAe(e,{idToken:n,email:this._email,oobCode:this._password});default:ig(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hAe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pAe(t){const e=dv(fv(t)).link,n=e?dv(fv(e)).deep_link_id:null,r=dv(fv(t)).deep_link_id;return(r?dv(fv(r)).link:null)||r||n||e||t}class MP{constructor(e){var n,r,i,a,s,o;const l=dv(fv(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,A=(r=l.oobCode)!==null&&r!==void 0?r:null,d=hAe((i=l.mode)!==null&&i!==void 0?i:null);wr(u&&A&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=A,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=pAe(e);try{return new MP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.providerId=t0.PROVIDER_ID}static credential(e,n){return Fy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=MP.parseLink(n);return wr(r,"argument-error"),Fy._fromEmailAndCode(e,r.code,r.tenantId)}}t0.PROVIDER_ID="password";t0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";t0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mAe(t,e){return u5(t,"POST","/v1/accounts:signUp",ip(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await xA._fromIdTokenResponse(e,r,i),s=jM(r);return new Ly({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jM(r);return new Ly({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2 extends GA{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,z2.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new z2(e,n,r,i)}}function gAe(t,e,n,r){return n._getIdTokenResponse(t).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?z2._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vAe(t,e,n=!1){if(Id(t.app))return Promise.reject(wh(t));const r="signIn",i=await gAe(t,r,e),a=await Ly._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function yAe(t,e){return vAe(Yb(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(t){const e=Yb(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bAe(t,e,n){if(Id(t.app))return Promise.reject(wh(t));const r=Yb(t),s=await bj(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mAe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MW(t),l}),o=await Ly._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function xAe(t,e,n){return Id(t.app)?Promise.reject(wh(t)):yAe(ks(t),t0.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MW(t),r})}function wAe(t,e,n,r){return ks(t).onAuthStateChanged(e,n,r)}const IM="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(IM,"1"),this.storage.removeItem(IM),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CAe=1e3,SAe=10;class UW extends RW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=que(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Gue()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SAe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CAe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UW.type="LOCAL";const EAe=UW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ae extends RW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_Ae.type="SESSION";new qb(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new qb(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new qb(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new qb(5e3,15e3);var TM="@firebase/auth",kM="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BAe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jAe(t){rg(new Rh("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;wr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LW(t)},u=new eAe(r,i,a,l);return lAe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rg(new Rh("auth-internal",e=>{const n=Yb(e.getProvider("auth").getImmediate());return(r=>new BAe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yd(TM,kM,NAe(t)),Yd(TM,kM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IAe=5*60;Jle("authIdTokenMaxAge");function TAe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tAe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=OP("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",TAe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jAe("Browser");var kAe="firebase",PAe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yd(kAe,PAe,"app");var PM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ch,QW;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,B){function j(){}j.prototype=B.prototype,_.D=B.prototype,_.prototype=new j,_.prototype.constructor=_,_.C=function(D,k,O){for(var L=Array(arguments.length-2),H=2;H<arguments.length;H++)L[H-2]=arguments[H];return B.prototype[k].apply(D,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,B,j){j||(j=0);var D=Array(16);if(typeof B=="string")for(var k=0;16>k;++k)D[k]=B.charCodeAt(j++)|B.charCodeAt(j++)<<8|B.charCodeAt(j++)<<16|B.charCodeAt(j++)<<24;else for(k=0;16>k;++k)D[k]=B[j++]|B[j++]<<8|B[j++]<<16|B[j++]<<24;B=_.g[0],j=_.g[1],k=_.g[2];var O=_.g[3],L=B+(O^j&(k^O))+D[0]+3614090360&4294967295;B=j+(L<<7&4294967295|L>>>25),L=O+(k^B&(j^k))+D[1]+3905402710&4294967295,O=B+(L<<12&4294967295|L>>>20),L=k+(j^O&(B^j))+D[2]+606105819&4294967295,k=O+(L<<17&4294967295|L>>>15),L=j+(B^k&(O^B))+D[3]+3250441966&4294967295,j=k+(L<<22&4294967295|L>>>10),L=B+(O^j&(k^O))+D[4]+4118548399&4294967295,B=j+(L<<7&4294967295|L>>>25),L=O+(k^B&(j^k))+D[5]+1200080426&4294967295,O=B+(L<<12&4294967295|L>>>20),L=k+(j^O&(B^j))+D[6]+2821735955&4294967295,k=O+(L<<17&4294967295|L>>>15),L=j+(B^k&(O^B))+D[7]+4249261313&4294967295,j=k+(L<<22&4294967295|L>>>10),L=B+(O^j&(k^O))+D[8]+1770035416&4294967295,B=j+(L<<7&4294967295|L>>>25),L=O+(k^B&(j^k))+D[9]+2336552879&4294967295,O=B+(L<<12&4294967295|L>>>20),L=k+(j^O&(B^j))+D[10]+4294925233&4294967295,k=O+(L<<17&4294967295|L>>>15),L=j+(B^k&(O^B))+D[11]+2304563134&4294967295,j=k+(L<<22&4294967295|L>>>10),L=B+(O^j&(k^O))+D[12]+1804603682&4294967295,B=j+(L<<7&4294967295|L>>>25),L=O+(k^B&(j^k))+D[13]+4254626195&4294967295,O=B+(L<<12&4294967295|L>>>20),L=k+(j^O&(B^j))+D[14]+2792965006&4294967295,k=O+(L<<17&4294967295|L>>>15),L=j+(B^k&(O^B))+D[15]+1236535329&4294967295,j=k+(L<<22&4294967295|L>>>10),L=B+(k^O&(j^k))+D[1]+4129170786&4294967295,B=j+(L<<5&4294967295|L>>>27),L=O+(j^k&(B^j))+D[6]+3225465664&4294967295,O=B+(L<<9&4294967295|L>>>23),L=k+(B^j&(O^B))+D[11]+643717713&4294967295,k=O+(L<<14&4294967295|L>>>18),L=j+(O^B&(k^O))+D[0]+3921069994&4294967295,j=k+(L<<20&4294967295|L>>>12),L=B+(k^O&(j^k))+D[5]+3593408605&4294967295,B=j+(L<<5&4294967295|L>>>27),L=O+(j^k&(B^j))+D[10]+38016083&4294967295,O=B+(L<<9&4294967295|L>>>23),L=k+(B^j&(O^B))+D[15]+3634488961&4294967295,k=O+(L<<14&4294967295|L>>>18),L=j+(O^B&(k^O))+D[4]+3889429448&4294967295,j=k+(L<<20&4294967295|L>>>12),L=B+(k^O&(j^k))+D[9]+568446438&4294967295,B=j+(L<<5&4294967295|L>>>27),L=O+(j^k&(B^j))+D[14]+3275163606&4294967295,O=B+(L<<9&4294967295|L>>>23),L=k+(B^j&(O^B))+D[3]+4107603335&4294967295,k=O+(L<<14&4294967295|L>>>18),L=j+(O^B&(k^O))+D[8]+1163531501&4294967295,j=k+(L<<20&4294967295|L>>>12),L=B+(k^O&(j^k))+D[13]+2850285829&4294967295,B=j+(L<<5&4294967295|L>>>27),L=O+(j^k&(B^j))+D[2]+4243563512&4294967295,O=B+(L<<9&4294967295|L>>>23),L=k+(B^j&(O^B))+D[7]+1735328473&4294967295,k=O+(L<<14&4294967295|L>>>18),L=j+(O^B&(k^O))+D[12]+2368359562&4294967295,j=k+(L<<20&4294967295|L>>>12),L=B+(j^k^O)+D[5]+4294588738&4294967295,B=j+(L<<4&4294967295|L>>>28),L=O+(B^j^k)+D[8]+2272392833&4294967295,O=B+(L<<11&4294967295|L>>>21),L=k+(O^B^j)+D[11]+1839030562&4294967295,k=O+(L<<16&4294967295|L>>>16),L=j+(k^O^B)+D[14]+4259657740&4294967295,j=k+(L<<23&4294967295|L>>>9),L=B+(j^k^O)+D[1]+2763975236&4294967295,B=j+(L<<4&4294967295|L>>>28),L=O+(B^j^k)+D[4]+1272893353&4294967295,O=B+(L<<11&4294967295|L>>>21),L=k+(O^B^j)+D[7]+4139469664&4294967295,k=O+(L<<16&4294967295|L>>>16),L=j+(k^O^B)+D[10]+3200236656&4294967295,j=k+(L<<23&4294967295|L>>>9),L=B+(j^k^O)+D[13]+681279174&4294967295,B=j+(L<<4&4294967295|L>>>28),L=O+(B^j^k)+D[0]+3936430074&4294967295,O=B+(L<<11&4294967295|L>>>21),L=k+(O^B^j)+D[3]+3572445317&4294967295,k=O+(L<<16&4294967295|L>>>16),L=j+(k^O^B)+D[6]+76029189&4294967295,j=k+(L<<23&4294967295|L>>>9),L=B+(j^k^O)+D[9]+3654602809&4294967295,B=j+(L<<4&4294967295|L>>>28),L=O+(B^j^k)+D[12]+3873151461&4294967295,O=B+(L<<11&4294967295|L>>>21),L=k+(O^B^j)+D[15]+530742520&4294967295,k=O+(L<<16&4294967295|L>>>16),L=j+(k^O^B)+D[2]+3299628645&4294967295,j=k+(L<<23&4294967295|L>>>9),L=B+(k^(j|~O))+D[0]+4096336452&4294967295,B=j+(L<<6&4294967295|L>>>26),L=O+(j^(B|~k))+D[7]+1126891415&4294967295,O=B+(L<<10&4294967295|L>>>22),L=k+(B^(O|~j))+D[14]+2878612391&4294967295,k=O+(L<<15&4294967295|L>>>17),L=j+(O^(k|~B))+D[5]+4237533241&4294967295,j=k+(L<<21&4294967295|L>>>11),L=B+(k^(j|~O))+D[12]+1700485571&4294967295,B=j+(L<<6&4294967295|L>>>26),L=O+(j^(B|~k))+D[3]+2399980690&4294967295,O=B+(L<<10&4294967295|L>>>22),L=k+(B^(O|~j))+D[10]+4293915773&4294967295,k=O+(L<<15&4294967295|L>>>17),L=j+(O^(k|~B))+D[1]+2240044497&4294967295,j=k+(L<<21&4294967295|L>>>11),L=B+(k^(j|~O))+D[8]+1873313359&4294967295,B=j+(L<<6&4294967295|L>>>26),L=O+(j^(B|~k))+D[15]+4264355552&4294967295,O=B+(L<<10&4294967295|L>>>22),L=k+(B^(O|~j))+D[6]+2734768916&4294967295,k=O+(L<<15&4294967295|L>>>17),L=j+(O^(k|~B))+D[13]+1309151649&4294967295,j=k+(L<<21&4294967295|L>>>11),L=B+(k^(j|~O))+D[4]+4149444226&4294967295,B=j+(L<<6&4294967295|L>>>26),L=O+(j^(B|~k))+D[11]+3174756917&4294967295,O=B+(L<<10&4294967295|L>>>22),L=k+(B^(O|~j))+D[2]+718787259&4294967295,k=O+(L<<15&4294967295|L>>>17),L=j+(O^(k|~B))+D[9]+3951481745&4294967295,_.g[0]=_.g[0]+B&4294967295,_.g[1]=_.g[1]+(k+(L<<21&4294967295|L>>>11))&4294967295,_.g[2]=_.g[2]+k&4294967295,_.g[3]=_.g[3]+O&4294967295}r.prototype.u=function(_,B){B===void 0&&(B=_.length);for(var j=B-this.blockSize,D=this.B,k=this.h,O=0;O<B;){if(k==0)for(;O<=j;)i(this,_,O),O+=this.blockSize;if(typeof _=="string"){for(;O<B;)if(D[k++]=_.charCodeAt(O++),k==this.blockSize){i(this,D),k=0;break}}else for(;O<B;)if(D[k++]=_[O++],k==this.blockSize){i(this,D),k=0;break}}this.h=k,this.o+=B},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var B=1;B<_.length-8;++B)_[B]=0;var j=8*this.o;for(B=_.length-8;B<_.length;++B)_[B]=j&255,j/=256;for(this.u(_),_=Array(16),B=j=0;4>B;++B)for(var D=0;32>D;D+=8)_[j++]=this.g[B]>>>D&255;return _};function a(_,B){var j=o;return Object.prototype.hasOwnProperty.call(j,_)?j[_]:j[_]=B(_)}function s(_,B){this.h=B;for(var j=[],D=!0,k=_.length-1;0<=k;k--){var O=_[k]|0;D&&O==B||(j[k]=O,D=!1)}this.g=j}var o={};function l(_){return-128<=_&&128>_?a(_,function(B){return new s([B|0],0>B?-1:0)}):new s([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return d;if(0>_)return v(u(-_));for(var B=[],j=1,D=0;_>=j;D++)B[D]=_/j|0,j*=4294967296;return new s(B,0)}function A(_,B){if(_.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(_.charAt(0)=="-")return v(A(_.substring(1),B));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(B,8)),D=d,k=0;k<_.length;k+=8){var O=Math.min(8,_.length-k),L=parseInt(_.substring(k,k+O),B);8>O?(O=u(Math.pow(B,O)),D=D.j(O).add(u(L))):(D=D.j(j),D=D.add(u(L)))}return D}var d=l(0),f=l(1),h=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-v(this).m();for(var _=0,B=1,j=0;j<this.g.length;j++){var D=this.i(j);_+=(0<=D?D:4294967296+D)*B,B*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(p(this))return"0";if(m(this))return"-"+v(this).toString(_);for(var B=u(Math.pow(_,6)),j=this,D="";;){var k=S(j,B).g;j=g(j,k.j(B));var O=((0<j.g.length?j.g[0]:j.h)>>>0).toString(_);if(j=k,p(j))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function p(_){if(_.h!=0)return!1;for(var B=0;B<_.g.length;B++)if(_.g[B]!=0)return!1;return!0}function m(_){return _.h==-1}t.l=function(_){return _=g(this,_),m(_)?-1:p(_)?0:1};function v(_){for(var B=_.g.length,j=[],D=0;D<B;D++)j[D]=~_.g[D];return new s(j,~_.h).add(f)}t.abs=function(){return m(this)?v(this):this},t.add=function(_){for(var B=Math.max(this.g.length,_.g.length),j=[],D=0,k=0;k<=B;k++){var O=D+(this.i(k)&65535)+(_.i(k)&65535),L=(O>>>16)+(this.i(k)>>>16)+(_.i(k)>>>16);D=L>>>16,O&=65535,L&=65535,j[k]=L<<16|O}return new s(j,j[j.length-1]&-2147483648?-1:0)};function g(_,B){return _.add(v(B))}t.j=function(_){if(p(this)||p(_))return d;if(m(this))return m(_)?v(this).j(v(_)):v(v(this).j(_));if(m(_))return v(this.j(v(_)));if(0>this.l(h)&&0>_.l(h))return u(this.m()*_.m());for(var B=this.g.length+_.g.length,j=[],D=0;D<2*B;D++)j[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<_.g.length;k++){var O=this.i(D)>>>16,L=this.i(D)&65535,H=_.i(k)>>>16,q=_.i(k)&65535;j[2*D+2*k]+=L*q,y(j,2*D+2*k),j[2*D+2*k+1]+=O*q,y(j,2*D+2*k+1),j[2*D+2*k+1]+=L*H,y(j,2*D+2*k+1),j[2*D+2*k+2]+=O*H,y(j,2*D+2*k+2)}for(D=0;D<B;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=B;D<2*B;D++)j[D]=0;return new s(j,0)};function y(_,B){for(;(_[B]&65535)!=_[B];)_[B+1]+=_[B]>>>16,_[B]&=65535,B++}function x(_,B){this.g=_,this.h=B}function S(_,B){if(p(B))throw Error("division by zero");if(p(_))return new x(d,d);if(m(_))return B=S(v(_),B),new x(v(B.g),v(B.h));if(m(B))return B=S(_,v(B)),new x(v(B.g),B.h);if(30<_.g.length){if(m(_)||m(B))throw Error("slowDivide_ only works with positive integers.");for(var j=f,D=B;0>=D.l(_);)j=E(j),D=E(D);var k=N(j,1),O=N(D,1);for(D=N(D,2),j=N(j,2);!p(D);){var L=O.add(D);0>=L.l(_)&&(k=k.add(j),O=L),D=N(D,1),j=N(j,1)}return B=g(_,k.j(B)),new x(k,B)}for(k=d;0<=_.l(B);){for(j=Math.max(1,Math.floor(_.m()/B.m())),D=Math.ceil(Math.log(j)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=u(j),L=O.j(B);m(L)||0<L.l(_);)j-=D,O=u(j),L=O.j(B);p(O)&&(O=f),k=k.add(O),_=g(_,L)}return new x(k,_)}t.A=function(_){return S(this,_).h},t.and=function(_){for(var B=Math.max(this.g.length,_.g.length),j=[],D=0;D<B;D++)j[D]=this.i(D)&_.i(D);return new s(j,this.h&_.h)},t.or=function(_){for(var B=Math.max(this.g.length,_.g.length),j=[],D=0;D<B;D++)j[D]=this.i(D)|_.i(D);return new s(j,this.h|_.h)},t.xor=function(_){for(var B=Math.max(this.g.length,_.g.length),j=[],D=0;D<B;D++)j[D]=this.i(D)^_.i(D);return new s(j,this.h^_.h)};function E(_){for(var B=_.g.length+1,j=[],D=0;D<B;D++)j[D]=_.i(D)<<1|_.i(D-1)>>>31;return new s(j,_.h)}function N(_,B){var j=B>>5;B%=32;for(var D=_.g.length-j,k=[],O=0;O<D;O++)k[O]=0<B?_.i(O+j)>>>B|_.i(O+j+1)<<32-B:_.i(O+j);return new s(k,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QW=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=A,Ch=s}).apply(typeof PM<"u"?PM:typeof self<"u"?self:typeof window<"u"?window:{});var f1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HW,hv,zW,Qw,xj,VW,$W,KW;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,Q,W){return w==Array.prototype||w==Object.prototype||(w[Q]=W.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof f1=="object"&&f1];for(var Q=0;Q<w.length;++Q){var W=w[Q];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=n(this);function i(w,Q){if(Q)e:{var W=r;w=w.split(".");for(var ue=0;ue<w.length-1;ue++){var Qe=w[ue];if(!(Qe in W))break e;W=W[Qe]}w=w[w.length-1],ue=W[w],Q=Q(ue),Q!=ue&&Q!=null&&e(W,w,{configurable:!0,writable:!0,value:Q})}}function a(w,Q){w instanceof String&&(w+="");var W=0,ue=!1,Qe={next:function(){if(!ue&&W<w.length){var qe=W++;return{value:Q(qe,w[qe]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return Qe[Symbol.iterator]=function(){return Qe},Qe}i("Array.prototype.values",function(w){return w||function(){return a(this,function(Q,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(w){var Q=typeof w;return Q=Q!="object"?Q:w?Array.isArray(w)?"array":Q:"null",Q=="array"||Q=="object"&&typeof w.length=="number"}function u(w){var Q=typeof w;return Q=="object"&&w!=null||Q=="function"}function A(w,Q,W){return w.call.apply(w.bind,arguments)}function d(w,Q,W){if(!w)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var Qe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Qe,ue),w.apply(Q,Qe)}}return function(){return w.apply(Q,arguments)}}function f(w,Q,W){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:d,f.apply(null,arguments)}function h(w,Q){var W=Array.prototype.slice.call(arguments,1);return function(){var ue=W.slice();return ue.push.apply(ue,arguments),w.apply(this,ue)}}function p(w,Q){function W(){}W.prototype=Q.prototype,w.aa=Q.prototype,w.prototype=new W,w.prototype.constructor=w,w.Qb=function(ue,Qe,qe){for(var Pt=Array(arguments.length-2),nr=2;nr<arguments.length;nr++)Pt[nr-2]=arguments[nr];return Q.prototype[Qe].apply(ue,Pt)}}function m(w){const Q=w.length;if(0<Q){const W=Array(Q);for(let ue=0;ue<Q;ue++)W[ue]=w[ue];return W}return[]}function v(w,Q){for(let W=1;W<arguments.length;W++){const ue=arguments[W];if(l(ue)){const Qe=w.length||0,qe=ue.length||0;w.length=Qe+qe;for(let Pt=0;Pt<qe;Pt++)w[Qe+Pt]=ue[Pt]}else w.push(ue)}}class g{constructor(Q,W){this.i=Q,this.j=W,this.h=0,this.g=null}get(){let Q;return 0<this.h?(this.h--,Q=this.g,this.g=Q.next,Q.next=null):Q=this.i(),Q}}function y(w){return/^[\s\xa0]*$/.test(w)}function x(){var w=o.navigator;return w&&(w=w.userAgent)?w:""}function S(w){return S[" "](w),w}S[" "]=function(){};var E=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function N(w,Q,W){for(const ue in w)Q.call(W,w[ue],ue,w)}function _(w,Q){for(const W in w)Q.call(void 0,w[W],W,w)}function B(w){const Q={};for(const W in w)Q[W]=w[W];return Q}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(w,Q){let W,ue;for(let Qe=1;Qe<arguments.length;Qe++){ue=arguments[Qe];for(W in ue)w[W]=ue[W];for(let qe=0;qe<j.length;qe++)W=j[qe],Object.prototype.hasOwnProperty.call(ue,W)&&(w[W]=ue[W])}}function k(w){var Q=1;w=w.split(":");const W=[];for(;0<Q&&w.length;)W.push(w.shift()),Q--;return w.length&&W.push(w.join(":")),W}function O(w){o.setTimeout(()=>{throw w},0)}function L(){var w=te;let Q=null;return w.g&&(Q=w.g,w.g=w.g.next,w.g||(w.h=null),Q.next=null),Q}class H{constructor(){this.h=this.g=null}add(Q,W){const ue=q.get();ue.set(Q,W),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var q=new g(()=>new Y,w=>w.reset());class Y{constructor(){this.next=this.g=this.h=null}set(Q,W){this.h=Q,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,K=!1,te=new H,le=()=>{const w=o.Promise.resolve(void 0);ee=()=>{w.then(se)}};var se=()=>{for(var w;w=L();){try{w.h.call(w.g)}catch(W){O(W)}var Q=q;Q.j(w),100>Q.h&&(Q.h++,w.next=Q.g,Q.g=w)}K=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(w,Q){this.type=w,this.g=this.target=Q,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,Q=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const W=()=>{};o.addEventListener("test",W,Q),o.removeEventListener("test",W,Q)}catch{}return w}();function ne(w,Q){if($.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var W=this.type=w.type,ue=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=Q,Q=w.relatedTarget){if(E){e:{try{S(Q.nodeName);var Qe=!0;break e}catch{}Qe=!1}Qe||(Q=null)}}else W=="mouseover"?Q=w.fromElement:W=="mouseout"&&(Q=w.toElement);this.relatedTarget=Q,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:he[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ne.aa.h.call(this)}}p(ne,$);var he={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ae(w,Q,W,ue,Qe){this.listener=w,this.proxy=null,this.src=Q,this.type=W,this.capture=!!ue,this.ha=Qe,this.key=++Se,this.da=this.fa=!1}function ge(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function xe(w){this.src=w,this.g={},this.h=0}xe.prototype.add=function(w,Q,W,ue,Qe){var qe=w.toString();w=this.g[qe],w||(w=this.g[qe]=[],this.h++);var Pt=Ve(w,Q,ue,Qe);return-1<Pt?(Q=w[Pt],W||(Q.fa=!1)):(Q=new Ae(Q,this.src,qe,!!ue,Qe),Q.fa=W,w.push(Q)),Q};function ae(w,Q){var W=Q.type;if(W in w.g){var ue=w.g[W],Qe=Array.prototype.indexOf.call(ue,Q,void 0),qe;(qe=0<=Qe)&&Array.prototype.splice.call(ue,Qe,1),qe&&(ge(Q),w.g[W].length==0&&(delete w.g[W],w.h--))}}function Ve(w,Q,W,ue){for(var Qe=0;Qe<w.length;++Qe){var qe=w[Qe];if(!qe.da&&qe.listener==Q&&qe.capture==!!W&&qe.ha==ue)return Qe}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),fe={};function $e(w,Q,W,ue,Qe){if(Array.isArray(Q)){for(var qe=0;qe<Q.length;qe++)$e(w,Q[qe],W,ue,Qe);return null}return W=Zt(W),w&&w[we]?w.K(Q,W,u(ue)?!!ue.capture:!1,Qe):ft(w,Q,W,!1,ue,Qe)}function ft(w,Q,W,ue,Qe,qe){if(!Q)throw Error("Invalid event type");var Pt=u(Qe)?!!Qe.capture:!!Qe,nr=jt(w);if(nr||(w[Oe]=nr=new xe(w)),W=nr.add(Q,W,ue,Pt,qe),W.proxy)return W;if(ue=vt(),W.proxy=ue,ue.src=w,ue.listener=W,w.addEventListener)J||(Qe=Pt),Qe===void 0&&(Qe=!1),w.addEventListener(Q.toString(),ue,Qe);else if(w.attachEvent)w.attachEvent(pt(Q.toString()),ue);else if(w.addListener&&w.removeListener)w.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return W}function vt(){function w(W){return Q.call(w.src,w.listener,W)}const Q=ct;return w}function Ye(w,Q,W,ue,Qe){if(Array.isArray(Q))for(var qe=0;qe<Q.length;qe++)Ye(w,Q[qe],W,ue,Qe);else ue=u(ue)?!!ue.capture:!!ue,W=Zt(W),w&&w[we]?(w=w.i,Q=String(Q).toString(),Q in w.g&&(qe=w.g[Q],W=Ve(qe,W,ue,Qe),-1<W&&(ge(qe[W]),Array.prototype.splice.call(qe,W,1),qe.length==0&&(delete w.g[Q],w.h--)))):w&&(w=jt(w))&&(Q=w.g[Q.toString()],w=-1,Q&&(w=Ve(Q,W,ue,Qe)),(W=-1<w?Q[w]:null)&&Dt(W))}function Dt(w){if(typeof w!="number"&&w&&!w.da){var Q=w.src;if(Q&&Q[we])ae(Q.i,w);else{var W=w.type,ue=w.proxy;Q.removeEventListener?Q.removeEventListener(W,ue,w.capture):Q.detachEvent?Q.detachEvent(pt(W),ue):Q.addListener&&Q.removeListener&&Q.removeListener(ue),(W=jt(Q))?(ae(W,w),W.h==0&&(W.src=null,Q[Oe]=null)):ge(w)}}}function pt(w){return w in fe?fe[w]:fe[w]="on"+w}function ct(w,Q){if(w.da)w=!0;else{Q=new ne(Q,this);var W=w.listener,ue=w.ha||w.src;w.fa&&Dt(w),w=W.call(ue,Q)}return w}function jt(w){return w=w[Oe],w instanceof xe?w:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zt(w){return typeof w=="function"?w:(w[Xt]||(w[Xt]=function(Q){return w.handleEvent(Q)}),w[Xt])}function Ut(){M.call(this),this.i=new xe(this),this.M=this,this.F=null}p(Ut,M),Ut.prototype[we]=!0,Ut.prototype.removeEventListener=function(w,Q,W,ue){Ye(this,w,Q,W,ue)};function rn(w,Q){var W,ue=w.F;if(ue)for(W=[];ue;ue=ue.F)W.push(ue);if(w=w.M,ue=Q.type||Q,typeof Q=="string")Q=new $(Q,w);else if(Q instanceof $)Q.target=Q.target||w;else{var Qe=Q;Q=new $(ue,w),D(Q,Qe)}if(Qe=!0,W)for(var qe=W.length-1;0<=qe;qe--){var Pt=Q.g=W[qe];Qe=st(Pt,ue,!0,Q)&&Qe}if(Pt=Q.g=w,Qe=st(Pt,ue,!0,Q)&&Qe,Qe=st(Pt,ue,!1,Q)&&Qe,W)for(qe=0;qe<W.length;qe++)Pt=Q.g=W[qe],Qe=st(Pt,ue,!1,Q)&&Qe}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var w=this.i,Q;for(Q in w.g){for(var W=w.g[Q],ue=0;ue<W.length;ue++)ge(W[ue]);delete w.g[Q],w.h--}}this.F=null},Ut.prototype.K=function(w,Q,W,ue){return this.i.add(String(w),Q,!1,W,ue)},Ut.prototype.L=function(w,Q,W,ue){return this.i.add(String(w),Q,!0,W,ue)};function st(w,Q,W,ue){if(Q=w.i.g[String(Q)],!Q)return!0;Q=Q.concat();for(var Qe=!0,qe=0;qe<Q.length;++qe){var Pt=Q[qe];if(Pt&&!Pt.da&&Pt.capture==W){var nr=Pt.listener,si=Pt.ha||Pt.src;Pt.fa&&ae(w.i,Pt),Qe=nr.call(si,ue)!==!1&&Qe}}return Qe&&!ue.defaultPrevented}function bt(w,Q,W){if(typeof w=="function")W&&(w=f(w,W));else if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(Q)?-1:o.setTimeout(w,Q||0)}function yt(w){w.g=bt(()=>{w.g=null,w.i&&(w.i=!1,yt(w))},w.l);const Q=w.h;w.h=null,w.m.apply(null,Q)}class tt extends M{constructor(Q,W){super(),this.m=Q,this.l=W,this.h=null,this.i=!1,this.g=null}j(Q){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(w){M.call(this),this.h=w,this.g={}}p(Qt,M);var dt=[];function mt(w){N(w.g,function(Q,W){this.g.hasOwnProperty(W)&&Dt(Q)},w),w.g={}}Qt.prototype.N=function(){Qt.aa.N.call(this),mt(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=o.JSON.stringify,St=o.JSON.parse,Vt=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function hn(){}hn.prototype.h=null;function cn(w){return w.h||(w.h=w.i())}function wt(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){$.call(this,"d")}p(gn,$);function Kt(){$.call(this,"c")}p(Kt,$);var En={},zi=null;function jr(){return zi=zi||new Ut}En.La="serverreachability";function Pa(w){$.call(this,En.La,w)}p(Pa,$);function Fe(w){const Q=jr();rn(Q,new Pa(Q))}En.STAT_EVENT="statevent";function Pe(w,Q){$.call(this,En.STAT_EVENT,w),this.stat=Q}p(Pe,$);function We(w){const Q=jr();rn(Q,new Pe(Q,w))}En.Ma="timingevent";function Et(w,Q){$.call(this,En.Ma,w),this.size=Q}p(Et,$);function ut(w,Q){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},Q)}function qt(){this.g=!0}qt.prototype.xa=function(){this.g=!1};function bn(w,Q,W,ue,Qe,qe){w.info(function(){if(w.g)if(qe)for(var Pt="",nr=qe.split("&"),si=0;si<nr.length;si++){var zn=nr[si].split("=");if(1<zn.length){var Vn=zn[0];zn=zn[1];var Ur=Vn.split("_");Pt=2<=Ur.length&&Ur[1]=="type"?Pt+(Vn+"="+zn+"&"):Pt+(Vn+"=redacted&")}}else Pt=null;else Pt=qe;return"XMLHTTP REQ ("+ue+") [attempt "+Qe+"]: "+Q+`
`+W+`
`+Pt})}function Gn(w,Q,W,ue,Qe,qe,Pt){w.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+Qe+"]: "+Q+`
`+W+`
`+qe+" "+Pt})}function Rt(w,Q,W,ue){w.info(function(){return"XMLHTTP TEXT ("+Q+"): "+Xr(w,W)+(ue?" "+ue:"")})}function pn(w,Q){w.info(function(){return"TIMEOUT: "+Q})}qt.prototype.info=function(){};function Xr(w,Q){if(!w.g)return Q;if(!Q)return null;try{var W=JSON.parse(Q);if(W){for(w=0;w<W.length;w++)if(Array.isArray(W[w])){var ue=W[w];if(!(2>ue.length)){var Qe=ue[1];if(Array.isArray(Qe)&&!(1>Qe.length)){var qe=Qe[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var Pt=1;Pt<Qe.length;Pt++)Qe[Pt]=""}}}}return Ft(W)}catch{return Q}}var gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function qn(){}p(qn,hn),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Er=new qn;function vr(w,Q,W,ue){this.j=w,this.i=Q,this.l=W,this.R=ue||1,this.U=new Qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var ba={},Oi={};function Xo(w,Q,W){w.L=1,w.v=co(Da(Q)),w.m=W,w.P=!0,Jo(w,null)}function Jo(w,Q){w.F=Date.now(),xa(w),w.A=Da(w.v);var W=w.A,ue=w.R;Array.isArray(ue)||(ue=[String(ue)]),tn(W.i,"t",ue),w.C=0,W=w.j.J,w.h=new Jr,w.g=Fr(w.j,W?Q:null,!w.m),0<w.O&&(w.M=new tt(f(w.Y,w,w.g),w.O)),Q=w.U,W=w.g,ue=w.ca;var Qe="readystatechange";Array.isArray(Qe)||(Qe&&(dt[0]=Qe.toString()),Qe=dt);for(var qe=0;qe<Qe.length;qe++){var Pt=$e(W,Qe[qe],ue||Q.handleEvent,!1,Q.h||Q);if(!Pt)break;Q.g[Pt.key]=Pt}Q=w.H?B(w.H):{},w.m?(w.u||(w.u="POST"),Q["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,Q)):(w.u="GET",w.g.ea(w.A,w.u,null,Q)),Fe(),bn(w.i,w.u,w.A,w.l,w.R,w.m)}vr.prototype.ca=function(w){w=w.target;const Q=this.M;Q&&Us(w)==3?Q.j():this.Y(w)},vr.prototype.Y=function(w){try{if(w==this.g)e:{const Ur=Us(this.g);var Q=this.g.Ba();const ps=this.g.Z();if(!(3>Ur)&&(Ur!=3||this.g&&(this.h.h||this.g.oa()||jc(this.g)))){this.J||Ur!=4||Q==7||(Q==8||0>=ps?Fe(3):Fe(2)),oo(this);var W=this.g.Z();this.X=W;t:if(Ir(this)){var ue=jc(this.g);w="";var Qe=ue.length,qe=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Fi(this);var Pt="";break t}this.h.i=new o.TextDecoder}for(Q=0;Q<Qe;Q++)this.h.h=!0,w+=this.h.i.decode(ue[Q],{stream:!(qe&&Q==Qe-1)});ue.length=0,this.h.g+=w,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=W==200,Gn(this.i,this.u,this.A,this.l,this.R,Ur,W),this.o){if(this.T&&!this.K){t:{if(this.g){var nr,si=this.g;if((nr=si.g?si.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(nr)){var zn=nr;break t}}zn=null}if(W=zn)Rt(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hl(this,W);else{this.o=!1,this.s=3,We(12),fs(this),Fi(this);break e}}if(this.P){W=!0;let La;for(;!this.J&&this.C<Pt.length;)if(La=Zo(this,Pt),La==Oi){Ur==4&&(this.s=4,We(14),W=!1),Rt(this.i,this.l,null,"[Incomplete Response]");break}else if(La==ba){this.s=4,We(15),Rt(this.i,this.l,Pt,"[Invalid Chunk]"),W=!1;break}else Rt(this.i,this.l,La,null),Hl(this,La);if(Ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ur!=4||Pt.length!=0||this.h.h||(this.s=1,We(16),W=!1),this.o=this.o&&W,!W)Rt(this.i,this.l,Pt,"[Invalid Chunked Response]"),fs(this),Fi(this);else if(0<Pt.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),Wt(Vn),Vn.M=!0,We(11))}}else Rt(this.i,this.l,Pt,null),Hl(this,Pt);Ur==4&&fs(this),this.o&&!this.J&&(Ur==4?Cn(this.j,this):(this.o=!1,xa(this)))}else Ao(this.g),W==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),fs(this),Fi(this)}}}catch{}finally{}};function Ir(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Zo(w,Q){var W=w.C,ue=Q.indexOf(`
`,W);return ue==-1?Oi:(W=Number(Q.substring(W,ue)),isNaN(W)?ba:(ue+=1,ue+W>Q.length?Oi:(Q=Q.slice(ue,ue+W),w.C=ue+W,Q)))}vr.prototype.cancel=function(){this.J=!0,fs(this)};function xa(w){w.S=Date.now()+w.I,du(w,w.I)}function du(w,Q){if(w.B!=null)throw Error("WatchDog timer not null");w.B=ut(f(w.ba,w),Q)}function oo(w){w.B&&(o.clearTimeout(w.B),w.B=null)}vr.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(pn(this.i,this.A),this.L!=2&&(Fe(),We(17)),fs(this),this.s=2,Fi(this)):du(this,this.S-w)};function Fi(w){w.j.G==0||w.J||Cn(w.j,w)}function fs(w){oo(w);var Q=w.M;Q&&typeof Q.ma=="function"&&Q.ma(),w.M=null,mt(w.U),w.g&&(Q=w.g,w.g=null,Q.abort(),Q.ma())}function Hl(w,Q){try{var W=w.j;if(W.G!=0&&(W.g==w||Pn(W.h,w))){if(!w.K&&Pn(W.h,w)&&W.G==3){try{var ue=W.Da.g.parse(Q)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var Qe=ue;if(Qe[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<w.F)xn(W),hs(W);else break e;at(W),We(18)}}else W.za=Qe[1],0<W.za-W.T&&37500>Qe[2]&&W.F&&W.v==0&&!W.C&&(W.C=ut(f(W.Za,W),6e3));if(1>=hu(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else fr(W,11)}else if((w.K||W.g==w)&&xn(W),!y(Q))for(Qe=W.Da.g.parse(Q),Q=0;Q<Qe.length;Q++){let zn=Qe[Q];if(W.T=zn[0],zn=zn[1],W.G==2)if(zn[0]=="c"){W.K=zn[1],W.ia=zn[2];const Vn=zn[3];Vn!=null&&(W.la=Vn,W.j.info("VER="+W.la));const Ur=zn[4];Ur!=null&&(W.Aa=Ur,W.j.info("SVER="+W.Aa));const ps=zn[5];ps!=null&&typeof ps=="number"&&0<ps&&(ue=1.5*ps,W.L=ue,W.j.info("backChannelRequestTimeoutMs_="+ue)),ue=W;const La=w.g;if(La){const Ca=La.g?La.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var qe=ue.h;qe.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(pu(qe,qe.h),qe.h=null))}if(ue.D){const ol=La.g?La.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(ue.ya=ol,Yn(ue.I,ue.D,ol))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-w.F,W.j.info("Handshake RTT: "+W.R+"ms")),ue=W;var Pt=w;if(ue.qa=br(ue,ue.J?ue.ia:null,ue.W),Pt.K){ii(ue.h,Pt);var nr=Pt,si=ue.L;si&&(nr.I=si),nr.B&&(oo(nr),xa(nr)),ue.g=Pt}else rt(ue);0<W.i.length&&F(W)}else zn[0]!="stop"&&zn[0]!="close"||fr(W,7);else W.G==3&&(zn[0]=="stop"||zn[0]=="close"?zn[0]=="stop"?fr(W,7):sl(W):zn[0]!="noop"&&W.l&&W.l.ta(zn),W.v=0)}}Fe(4)}catch{}}var lo=class{constructor(w,Q){this.g=w,this.map=Q}};function fu(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zl(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function hu(w){return w.h?1:w.g?w.g.size:0}function Pn(w,Q){return w.h?w.h==Q:w.g?w.g.has(Q):!1}function pu(w,Q){w.g?w.g.add(Q):w.h=Q}function ii(w,Q){w.h&&w.h==Q?w.h=null:w.g&&w.g.has(Q)&&w.g.delete(Q)}fu.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Vl(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let Q=w.i;for(const W of w.g.values())Q=Q.concat(W.D);return Q}return m(w.i)}function Ju(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var Q=[],W=w.length,ue=0;ue<W;ue++)Q.push(w[ue]);return Q}Q=[],W=0;for(ue in w)Q[W++]=w[ue];return Q}function er(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var Q=[];w=w.length;for(var W=0;W<w;W++)Q.push(W);return Q}Q=[],W=0;for(const ue in w)Q[W++]=ue;return Q}}}function Ds(w,Q){if(w.forEach&&typeof w.forEach=="function")w.forEach(Q,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,Q,void 0);else for(var W=er(w),ue=Ju(w),Qe=ue.length,qe=0;qe<Qe;qe++)Q.call(void 0,ue[qe],W&&W[qe],w)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(w,Q){if(w){w=w.split("&");for(var W=0;W<w.length;W++){var ue=w[W].indexOf("="),Qe=null;if(0<=ue){var qe=w[W].substring(0,ue);Qe=w[W].substring(ue+1)}else qe=w[W];Q(qe,Qe?decodeURIComponent(Qe.replace(/\+/g," ")):"")}}}function yr(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof yr){this.h=w.h,el(this,w.j),this.o=w.o,this.g=w.g,Cc(this,w.s),this.l=w.l;var Q=w.i,W=new Oa;W.i=Q.i,Q.g&&(W.g=new Map(Q.g),W.h=Q.h),Sc(this,W),this.m=w.m}else w&&(Q=String(w).match(wa))?(this.h=!1,el(this,Q[1]||"",!0),this.o=tl(Q[2]||""),this.g=tl(Q[3]||"",!0),Cc(this,Q[4]),this.l=tl(Q[5]||"",!0),Sc(this,Q[6]||"",!0),this.m=tl(Q[7]||"")):(this.h=!1,this.i=new Oa(null,this.h))}yr.prototype.toString=function(){var w=[],Q=this.j;Q&&w.push(Fs(Q,Zu,!0),":");var W=this.g;return(W||Q=="file")&&(w.push("//"),(Q=this.o)&&w.push(Fs(Q,Zu,!0),"@"),w.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&w.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&w.push("/"),w.push(Fs(W,W.charAt(0)=="/"?Tf:If,!0))),(W=this.i.toString())&&w.push("?",W),(W=this.m)&&w.push("#",Fs(W,Ls)),w.join("")};function Da(w){return new yr(w)}function el(w,Q,W){w.j=W?tl(Q,!0):Q,w.j&&(w.j=w.j.replace(/:$/,""))}function Cc(w,Q){if(Q){if(Q=Number(Q),isNaN(Q)||0>Q)throw Error("Bad port number "+Q);w.s=Q}else w.s=null}function Sc(w,Q,W){Q instanceof Oa?(w.i=Q,_c(w.i,w.h)):(W||(Q=Fs(Q,ra)),w.i=new Oa(Q,w.h))}function Yn(w,Q,W){w.i.set(Q,W)}function co(w){return Yn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function tl(w,Q){return w?Q?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Fs(w,Q,W){return typeof w=="string"?(w=encodeURI(w).replace(Q,Wn),W&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Wn(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Zu=/[#\/\?@]/g,If=/[#\?:]/g,Tf=/[#\?]/g,ra=/[#\?@]/g,Ls=/#/g;function Oa(w,Q){this.h=this.g=null,this.i=w||null,this.j=!!Q}function ia(w){w.g||(w.g=new Map,w.h=0,w.i&&Os(w.i,function(Q,W){w.add(decodeURIComponent(Q.replace(/\+/g," ")),W)}))}t=Oa.prototype,t.add=function(w,Q){ia(this),this.i=null,w=aa(this,w);var W=this.g.get(w);return W||this.g.set(w,W=[]),W.push(Q),this.h+=1,this};function nl(w,Q){ia(w),Q=aa(w,Q),w.g.has(Q)&&(w.i=null,w.h-=w.g.get(Q).length,w.g.delete(Q))}function Ec(w,Q){return ia(w),Q=aa(w,Q),w.g.has(Q)}t.forEach=function(w,Q){ia(this),this.g.forEach(function(W,ue){W.forEach(function(Qe){w.call(Q,Qe,ue,this)},this)},this)},t.na=function(){ia(this);const w=Array.from(this.g.values()),Q=Array.from(this.g.keys()),W=[];for(let ue=0;ue<Q.length;ue++){const Qe=w[ue];for(let qe=0;qe<Qe.length;qe++)W.push(Q[ue])}return W},t.V=function(w){ia(this);let Q=[];if(typeof w=="string")Ec(this,w)&&(Q=Q.concat(this.g.get(aa(this,w))));else{w=Array.from(this.g.values());for(let W=0;W<w.length;W++)Q=Q.concat(w[W])}return Q},t.set=function(w,Q){return ia(this),this.i=null,w=aa(this,w),Ec(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[Q]),this.h+=1,this},t.get=function(w,Q){return w?(w=this.V(w),0<w.length?String(w[0]):Q):Q};function tn(w,Q,W){nl(w,Q),0<W.length&&(w.i=null,w.g.set(aa(w,Q),m(W)),w.h+=W.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],Q=Array.from(this.g.keys());for(var W=0;W<Q.length;W++){var ue=Q[W];const qe=encodeURIComponent(String(ue)),Pt=this.V(ue);for(ue=0;ue<Pt.length;ue++){var Qe=qe;Pt[ue]!==""&&(Qe+="="+encodeURIComponent(String(Pt[ue]))),w.push(Qe)}}return this.i=w.join("&")};function aa(w,Q){return Q=String(Q),w.j&&(Q=Q.toLowerCase()),Q}function _c(w,Q){Q&&!w.j&&(ia(w),w.i=null,w.g.forEach(function(W,ue){var Qe=ue.toLowerCase();ue!=Qe&&(nl(this,ue),tn(this,Qe,W))},w)),w.j=Q}function Bc(w,Q){const W=new qt;if(o.Image){const ue=new Image;ue.onload=h(Zr,W,"TestLoadImage: loaded",!0,Q,ue),ue.onerror=h(Zr,W,"TestLoadImage: error",!1,Q,ue),ue.onabort=h(Zr,W,"TestLoadImage: abort",!1,Q,ue),ue.ontimeout=h(Zr,W,"TestLoadImage: timeout",!1,Q,ue),o.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=w}else Q(!1)}function eA(w,Q){const W=new qt,ue=new AbortController,Qe=setTimeout(()=>{ue.abort(),Zr(W,"TestPingServer: timeout",!1,Q)},1e4);fetch(w,{signal:ue.signal}).then(qe=>{clearTimeout(Qe),qe.ok?Zr(W,"TestPingServer: ok",!0,Q):Zr(W,"TestPingServer: server error",!1,Q)}).catch(()=>{clearTimeout(Qe),Zr(W,"TestPingServer: error",!1,Q)})}function Zr(w,Q,W,ue,Qe){try{Qe&&(Qe.onload=null,Qe.onerror=null,Qe.onabort=null,Qe.ontimeout=null),ue(W)}catch{}}function rl(){this.g=new Vt}function Ms(w,Q,W){const ue=W||"";try{Ds(w,function(Qe,qe){let Pt=Qe;u(Qe)&&(Pt=Ft(Qe)),Q.push(ue+qe+"="+encodeURIComponent(Pt))})}catch(Qe){throw Q.push(ue+"type="+encodeURIComponent("_badmap")),Qe}}function $l(w){this.l=w.Ub||null,this.j=w.eb||!1}p($l,hn),$l.prototype.g=function(){return new No(this.l,this.j)},$l.prototype.i=function(w){return function(){return w}}({});function No(w,Q){Ut.call(this),this.D=w,this.o=Q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(No,Ut),t=No.prototype,t.open=function(w,Q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=Q,this.readyState=1,Rs(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(Q.body=w),(this.D||o).fetch(new Request(this.A,Q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var Q=w.value?w.value:new Uint8Array(0);(Q=this.v.decode(Q,{stream:!w.done}))&&(this.response=this.responseText+=Q)}w.done?Fa(this):Rs(this),this.readyState==3&&Kl(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Fa(this))},t.Qa=function(w){this.g&&(this.response=w,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Rs(w)}t.setRequestHeader=function(w,Q){this.u.append(w,Q)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],Q=this.h.entries();for(var W=Q.next();!W.done;)W=W.value,w.push(W[0]+": "+W[1]),W=Q.next();return w.join(`\r
`)};function Rs(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(No.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Wl(w){let Q="";return N(w,function(W,ue){Q+=ue,Q+=":",Q+=W,Q+=`\r
`}),Q}function tA(w,Q,W){e:{for(ue in W){var ue=!1;break e}ue=!0}ue||(W=Wl(W),typeof w=="string"?W!=null&&encodeURIComponent(String(W)):Yn(w,Q,W))}function dr(w){Ut.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(dr,Ut);var nA=/^https?$/i,Nc=["POST","PUT"];t=dr.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,Q,W,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);Q=Q?Q.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?cn(this.o):cn(Er),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(Q,String(w),!0),this.B=!1}catch(qe){uo(this,qe);return}if(w=W||"",W=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var Qe in ue)W.set(Qe,ue[Qe]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const qe of ue.keys())W.set(qe,ue.get(qe));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(W.keys()).find(qe=>qe.toLowerCase()=="content-type"),Qe=o.FormData&&w instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Nc,Q,void 0))||ue||Qe||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,Pt]of W)this.g.setRequestHeader(qe,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ql(this),this.u=!0,this.g.send(w),this.u=!1}catch(qe){uo(this,qe)}};function uo(w,Q){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=Q,w.m=5,il(w),Gl(w)}function il(w){w.A||(w.A=!0,rn(w,"complete"),rn(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,rn(this,"complete"),rn(this,"abort"),Gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gl(this,!0)),dr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?al(this):this.bb())},t.bb=function(){al(this)};function al(w){if(w.h&&typeof s<"u"&&(!w.v[1]||Us(w)!=4||w.Z()!=2)){if(w.u&&Us(w)==4)bt(w.Ea,0,w);else if(rn(w,"readystatechange"),Us(w)==4){w.h=!1;try{const Pt=w.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Q=!0;break e;default:Q=!1}var W;if(!(W=Q)){var ue;if(ue=Pt===0){var Qe=String(w.D).match(wa)[1]||null;!Qe&&o.self&&o.self.location&&(Qe=o.self.location.protocol.slice(0,-1)),ue=!nA.test(Qe?Qe.toLowerCase():"")}W=ue}if(W)rn(w,"complete"),rn(w,"success");else{w.m=6;try{var qe=2<Us(w)?w.g.statusText:""}catch{qe=""}w.l=qe+" ["+w.Z()+"]",il(w)}}finally{Gl(w)}}}}function Gl(w,Q){if(w.g){ql(w);const W=w.g,ue=w.v[0]?()=>{}:null;w.g=null,w.v=null,Q||rn(w,"ready");try{W.onreadystatechange=ue}catch{}}}function ql(w){w.I&&(o.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Us(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var Q=this.g.responseText;return w&&Q.indexOf(w)==0&&(Q=Q.substring(w.length)),St(Q)}};function jc(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Ao(w){const Q={};w=(w.g&&2<=Us(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<w.length;ue++){if(y(w[ue]))continue;var W=k(w[ue]);const Qe=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const qe=Q[Qe]||[];Q[Qe]=qe,qe.push(W)}_(Q,function(ue){return ue.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(w,Q,W){return W&&W.internalChannelParams&&W.internalChannelParams[w]||Q}function Yl(w){this.Aa=0,this.i=[],this.j=new qt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,w),this.cb=ts("retryDelaySeedMs",1e4,w),this.Wa=ts("forwardChannelMaxRetries",2,w),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new fu(w&&w.concurrentRequestLimit),this.Da=new rl,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yl.prototype,t.la=8,t.G=1,t.connect=function(w,Q,W,ue){We(0),this.W=w,this.H=Q||{},W&&ue!==void 0&&(this.H.OSID=W,this.H.OAID=ue),this.F=this.X,this.I=br(this,null,this.W),F(this)};function sl(w){if(mu(w),w.G==3){var Q=w.U++,W=Da(w.I);if(Yn(W,"SID",w.K),Yn(W,"RID",Q),Yn(W,"TYPE","terminate"),Be(w,W),Q=new vr(w,w.j,Q),Q.L=2,Q.v=co(Da(W)),W=!1,o.navigator&&o.navigator.sendBeacon)try{W=o.navigator.sendBeacon(Q.v.toString(),"")}catch{}!W&&o.Image&&(new Image().src=Q.v,W=!0),W||(Q.g=Fr(Q.j,null),Q.g.ea(Q.v)),Q.F=Date.now(),xa(Q)}Gr(w)}function hs(w){w.g&&(Wt(w),w.g.cancel(),w.g=null)}function mu(w){hs(w),w.u&&(o.clearTimeout(w.u),w.u=null),xn(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&o.clearTimeout(w.s),w.s=null)}function F(w){if(!zl(w.h)&&!w.s){w.s=!0;var Q=w.Ga;ee||le(),K||(ee(),K=!0),te.add(Q,w),w.B=0}}function X(w,Q){return hu(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=Q.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=ut(f(w.Ga,w,Q),tr(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Qe=new vr(this,this.j,w);let qe=this.o;if(this.S&&(qe?(qe=B(qe),D(qe,this.S)):qe=this.S),this.m!==null||this.O||(Qe.H=qe,qe=null),this.P)e:{for(var Q=0,W=0;W<this.i.length;W++){t:{var ue=this.i[W];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(Q+=ue,4096<Q){Q=W;break e}if(Q===4096||W===this.i.length-1){Q=W+1;break e}}Q=1e3}else Q=1e3;Q=Ue(this,Qe,Q),W=Da(this.I),Yn(W,"RID",w),Yn(W,"CVER",22),this.D&&Yn(W,"X-HTTP-Session-Id",this.D),Be(this,W),qe&&(this.O?Q="headers="+encodeURIComponent(String(Wl(qe)))+"&"+Q:this.m&&tA(W,this.m,qe)),pu(this.h,Qe),this.Ua&&Yn(W,"TYPE","init"),this.P?(Yn(W,"$req",Q),Yn(W,"SID","null"),Qe.T=!0,Xo(Qe,W,null)):Xo(Qe,W,Q),this.G=2}}else this.G==3&&(w?me(this,w):this.i.length==0||zl(this.h)||me(this))};function me(w,Q){var W;Q?W=Q.l:W=w.U++;const ue=Da(w.I);Yn(ue,"SID",w.K),Yn(ue,"RID",W),Yn(ue,"AID",w.T),Be(w,ue),w.m&&w.o&&tA(ue,w.m,w.o),W=new vr(w,w.j,W,w.B+1),w.m===null&&(W.H=w.o),Q&&(w.i=Q.D.concat(w.i)),Q=Ue(w,W,1e3),W.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),pu(w.h,W),Xo(W,ue,Q)}function Be(w,Q){w.H&&N(w.H,function(W,ue){Yn(Q,ue,W)}),w.l&&Ds({},function(W,ue){Yn(Q,ue,W)})}function Ue(w,Q,W){W=Math.min(w.i.length,W);var ue=w.l?f(w.l.Na,w.l,w):null;e:{var Qe=w.i;let qe=-1;for(;;){const Pt=["count="+W];qe==-1?0<W?(qe=Qe[0].g,Pt.push("ofs="+qe)):qe=0:Pt.push("ofs="+qe);let nr=!0;for(let si=0;si<W;si++){let zn=Qe[si].g;const Vn=Qe[si].map;if(zn-=qe,0>zn)qe=Math.max(0,Qe[si].g-100),nr=!1;else try{Ms(Vn,Pt,"req"+zn+"_")}catch{ue&&ue(Vn)}}if(nr){ue=Pt.join("&");break e}}}return w=w.i.splice(0,W),Q.D=w,ue}function rt(w){if(!w.g&&!w.u){w.Y=1;var Q=w.Fa;ee||le(),K||(ee(),K=!0),te.add(Q,w),w.v=0}}function at(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=ut(f(w.Fa,w),tr(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,en(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=ut(f(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),hs(this),en(this))};function Wt(w){w.A!=null&&(o.clearTimeout(w.A),w.A=null)}function en(w){w.g=new vr(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var Q=Da(w.qa);Yn(Q,"RID","rpc"),Yn(Q,"SID",w.K),Yn(Q,"AID",w.T),Yn(Q,"CI",w.F?"0":"1"),!w.F&&w.ja&&Yn(Q,"TO",w.ja),Yn(Q,"TYPE","xmlhttp"),Be(w,Q),w.m&&w.o&&tA(Q,w.m,w.o),w.L&&(w.g.I=w.L);var W=w.g;w=w.ia,W.L=1,W.v=co(Da(Q)),W.m=null,W.P=!0,Jo(W,w)}t.Za=function(){this.C!=null&&(this.C=null,hs(this),at(this),We(19))};function xn(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function Cn(w,Q){var W=null;if(w.g==Q){xn(w),Wt(w),w.g=null;var ue=2}else if(Pn(w.h,Q))W=Q.D,ii(w.h,Q),ue=1;else return;if(w.G!=0){if(Q.o)if(ue==1){W=Q.m?Q.m.length:0,Q=Date.now()-Q.F;var Qe=w.B;ue=jr(),rn(ue,new Et(ue,W)),F(w)}else rt(w);else if(Qe=Q.s,Qe==3||Qe==0&&0<Q.X||!(ue==1&&X(w,Q)||ue==2&&at(w)))switch(W&&0<W.length&&(Q=w.h,Q.i=Q.i.concat(W)),Qe){case 1:fr(w,5);break;case 4:fr(w,10);break;case 3:fr(w,6);break;default:fr(w,2)}}}function tr(w,Q){let W=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(W*=2),W*Q}function fr(w,Q){if(w.j.info("Error code "+Q),Q==2){var W=f(w.fb,w),ue=w.Xa;const Qe=!ue;ue=new yr(ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||el(ue,"https"),co(ue),Qe?Bc(ue.toString(),W):eA(ue.toString(),W)}else We(2);w.G=0,w.l&&w.l.sa(Q),Gr(w),mu(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Gr(w){if(w.G=0,w.ka=[],w.l){const Q=Vl(w.h);(Q.length!=0||w.i.length!=0)&&(v(w.ka,Q),v(w.ka,w.i),w.h.i.length=0,m(w.i),w.i.length=0),w.l.ra()}}function br(w,Q,W){var ue=W instanceof yr?Da(W):new yr(W);if(ue.g!="")Q&&(ue.g=Q+"."+ue.g),Cc(ue,ue.s);else{var Qe=o.location;ue=Qe.protocol,Q=Q?Q+"."+Qe.hostname:Qe.hostname,Qe=+Qe.port;var qe=new yr(null);ue&&el(qe,ue),Q&&(qe.g=Q),Qe&&Cc(qe,Qe),W&&(qe.l=W),ue=qe}return W=w.D,Q=w.ya,W&&Q&&Yn(ue,W,Q),Yn(ue,"VER",w.la),Be(w,ue),ue}function Fr(w,Q,W){if(Q&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return Q=w.Ca&&!w.pa?new dr(new $l({eb:W})):new dr(w.pa),Q.Ha(w.J),Q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ei(){}t=ei.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ai(){}ai.prototype.g=function(w,Q){return new Tr(w,Q)};function Tr(w,Q){Ut.call(this),this.g=new Yl(Q),this.l=w,this.h=Q&&Q.messageUrlParams||null,w=Q&&Q.messageHeaders||null,Q&&Q.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=Q&&Q.initMessageHeaders||null,Q&&Q.messageContentType&&(w?w["X-WebChannel-Content-Type"]=Q.messageContentType:w={"X-WebChannel-Content-Type":Q.messageContentType}),Q&&Q.va&&(w?w["X-WebChannel-Client-Profile"]=Q.va:w={"X-WebChannel-Client-Profile":Q.va}),this.g.S=w,(w=Q&&Q.Sb)&&!y(w)&&(this.g.m=w),this.v=Q&&Q.supportsCrossDomainXhr||!1,this.u=Q&&Q.sendRawJson||!1,(Q=Q&&Q.httpSessionIdParam)&&!y(Q)&&(this.g.D=Q,w=this.h,w!==null&&Q in w&&(w=this.h,Q in w&&delete w[Q])),this.j=new fo(this)}p(Tr,Ut),Tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){sl(this.g)},Tr.prototype.o=function(w){var Q=this.g;if(typeof w=="string"){var W={};W.__data__=w,w=W}else this.u&&(W={},W.__data__=Ft(w),w=W);Q.i.push(new lo(Q.Ya++,w)),Q.G==3&&F(Q)},Tr.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Tr.aa.N.call(this)};function sa(w){gn.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var Q=w.__sm__;if(Q){e:{for(const W in Q){w=W;break e}w=void 0}(this.i=w)&&(w=this.i,Q=Q!==null&&w in Q?Q[w]:void 0),this.data=Q}else this.data=w}p(sa,gn);function gu(){Kt.call(this),this.status=1}p(gu,Kt);function fo(w){this.g=w}p(fo,ei),fo.prototype.ua=function(){rn(this.g,"a")},fo.prototype.ta=function(w){rn(this.g,new sa(w))},fo.prototype.sa=function(w){rn(this.g,new gu)},fo.prototype.ra=function(){rn(this.g,"b")},ai.prototype.createWebChannel=ai.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,KW=function(){return new ai},$W=function(){return jr()},VW=En,xj={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Qw=gr,Or.COMPLETE="complete",zW=Or,wt.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,hv=wt,dr.prototype.listenOnce=dr.prototype.L,dr.prototype.getLastError=dr.prototype.Ka,dr.prototype.getLastErrorCode=dr.prototype.Ba,dr.prototype.getStatus=dr.prototype.Z,dr.prototype.getResponseJson=dr.prototype.Oa,dr.prototype.getResponseText=dr.prototype.oa,dr.prototype.send=dr.prototype.ea,dr.prototype.setWithCredentials=dr.prototype.Ha,HW=dr}).apply(typeof f1<"u"?f1:typeof self<"u"?self:typeof window<"u"?window:{});const DM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Po.UNAUTHENTICATED=new Po(null),Po.GOOGLE_CREDENTIALS=new Po("google-credentials-uid"),Po.FIRST_PARTY=new Po("first-party-uid"),Po.MOCK_USER=new Po("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new PP("@firebase/firestore");function H0(){return Uh.logLevel}function un(t,...e){if(Uh.logLevel<=ur.DEBUG){const n=e.map(RP);Uh.debug(`Firestore (${n0}): ${t}`,...n)}}function LA(t,...e){if(Uh.logLevel<=ur.ERROR){const n=e.map(RP);Uh.error(`Firestore (${n0}): ${t}`,...n)}}function My(t,...e){if(Uh.logLevel<=ur.WARN){const n=e.map(RP);Uh.warn(`Firestore (${n0}): ${t}`,...n)}}function RP(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t="Unexpected state"){const e=`FIRESTORE (${n0}) INTERNAL ASSERTION FAILED: `+t;throw LA(e),new Error(e)}function Kr(t,e){t||Dn()}function Un(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nn extends GA{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DAe{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OAe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Po.UNAUTHENTICATED))}shutdown(){}}class FAe{constructor(e){this.t=e,this.currentUser=Po.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kr(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Sh;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Sh,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(un("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sh)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kr(typeof r.accessToken=="string"),new DAe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kr(e===null||typeof e=="string"),new Po(e)}}class LAe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Po.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MAe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LAe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Po.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RAe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UAe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Kr(this.o===void 0);const r=a=>{a.error!=null&&un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,un("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kr(typeof n.token=="string"),this.R=n.token,new RAe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QAe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QAe(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Br(t,e){return t<e?-1:t>e?1:0}function ag(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new nn(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nn(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new nn(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nn(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ia.fromMillis(Date.now())}static fromDate(e){return Ia.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ia(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Br(this.nanoseconds,e.nanoseconds):Br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rn(e)}static min(){return new Rn(new Ia(0,0))}static max(){return new Rn(new Ia(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dn(),r===void 0?r=e.length-n:r>e.length-n&&Dn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ry.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ry?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ci extends Ry{construct(e,n,r){return new Ci(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new nn(xt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ci(n)}static emptyPath(){return new Ci([])}}const HAe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _s extends Ry{construct(e,n,r){return new _s(e,n,r)}static isValidIdentifier(e){return HAe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_s.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _s(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new nn(xt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new nn(xt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new nn(xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new nn(xt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _s(n)}static emptyPath(){return new _s([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.path=e}static fromPath(e){return new wn(Ci.fromString(e))}static fromName(e){return new wn(Ci.fromString(e).popFirst(5))}static empty(){return new wn(Ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ci.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ci.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new Ci(e.slice()))}}function zAe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Rn.fromTimestamp(r===1e9?new Ia(n+1,0):new Ia(n,r));return new af(i,wn.empty(),e)}function VAe(t){return new af(t.readTime,t.key,-1)}class af{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new af(Rn.min(),wn.empty(),-1)}static max(){return new af(Rn.max(),wn.empty(),-1)}}function $Ae(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=wn.comparator(t.documentKey,e.documentKey),n!==0?n:Br(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KAe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WAe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t){if(t.code!==xt.FAILED_PRECONDITION||t.message!==KAe)throw t;un("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Bt((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Bt?n:Bt.resolve(n)}catch(n){return Bt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Bt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Bt.reject(n)}static resolve(e){return new Bt((n,r)=>{n(e)})}static reject(e){return new Bt((n,r)=>{r(e)})}static waitFor(e){return new Bt((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=Bt.resolve(!1);for(const r of e)n=n.next(i=>i?Bt.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Bt((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(A=>{s[u]=A,++o,o===a&&r(s)},A=>i(A))}})}static doWhile(e,n){return new Bt((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function GAe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jb(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}UP.oe=-1;function A5(t){return t==null}function V2(t){return t===0&&1/t==-1/0}function qAe(t){return typeof t=="number"&&Number.isInteger(t)&&!V2(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sp(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.comparator=e,this.root=n||Es.EMPTY}insert(e,n){return new Ui(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new Ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new h1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new h1(this.root,e,this.comparator,!1)}getReverseIterator(){return new h1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new h1(this.root,e,this.comparator,!0)}}class h1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Es{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Es.RED,this.left=i??Es.EMPTY,this.right=a??Es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Es(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Es.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dn();const e=this.left.check();if(e!==this.right.check())throw Dn();return e+(this.isRed()?0:1)}}Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1;Es.EMPTY=new class{constructor(){this.size=0}get key(){throw Dn()}get value(){throw Dn()}get color(){throw Dn()}get left(){throw Dn()}get right(){throw Dn()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Es(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.comparator=e,this.data=new Ui(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FM(this.data.getIterator())}getIteratorFrom(e){return new FM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Is(this.comparator);return n.data=e,n}}class FM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.fields=e,e.sort(_s.comparator)}static empty(){return new Cl([])}unionWith(e){let n=new Is(_s.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ag(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qW("Invalid base64 string: "+a):a}}(e);return new Ps(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ps(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ps.EMPTY_BYTE_STRING=new Ps("");const YAe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sf(t){if(Kr(!!t),typeof t=="string"){let e=0;const n=YAe.exec(t);if(Kr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ha(t.seconds),nanos:ha(t.nanos)}}function ha(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qh(t){return typeof t=="string"?Ps.fromBase64String(t):Ps.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HP(t){const e=t.mapValue.fields.__previous_value__;return QP(e)?HP(e):e}function Uy(t){const e=sf(t.mapValue.fields.__local_write_time__.timestampValue);return new Ia(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XAe{constructor(e,n,r,i,a,s,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Qy{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qy("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={mapValue:{}};function Hh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?QP(t)?4:ZAe(t)?9007199254740991:JAe(t)?10:11:Dn()}function Ru(t,e){if(t===e)return!0;const n=Hh(t);if(n!==Hh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uy(t).isEqual(Uy(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=sf(i.timestampValue),o=sf(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Qh(i.bytesValue).isEqual(Qh(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ha(i.geoPointValue.latitude)===ha(a.geoPointValue.latitude)&&ha(i.geoPointValue.longitude)===ha(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ha(i.integerValue)===ha(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ha(i.doubleValue),o=ha(a.doubleValue);return s===o?V2(s)===V2(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ag(t.arrayValue.values||[],e.arrayValue.values||[],Ru);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(OM(s)!==OM(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Ru(s[l],o[l])))return!1;return!0}(t,e);default:return Dn()}}function Hy(t,e){return(t.values||[]).find(n=>Ru(n,e))!==void 0}function sg(t,e){if(t===e)return 0;const n=Hh(t),r=Hh(e);if(n!==r)return Br(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Br(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=ha(a.integerValue||a.doubleValue),l=ha(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return LM(t.timestampValue,e.timestampValue);case 4:return LM(Uy(t),Uy(e));case 5:return Br(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Qh(a),l=Qh(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const A=Br(o[u],l[u]);if(A!==0)return A}return Br(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Br(ha(a.latitude),ha(s.latitude));return o!==0?o:Br(ha(a.longitude),ha(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return MM(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,u,A;const d=a.fields||{},f=s.fields||{},h=(o=d.value)===null||o===void 0?void 0:o.arrayValue,p=(l=f.value)===null||l===void 0?void 0:l.arrayValue,m=Br(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((A=p==null?void 0:p.values)===null||A===void 0?void 0:A.length)||0);return m!==0?m:MM(h,p)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===p1.mapValue&&s===p1.mapValue)return 0;if(a===p1.mapValue)return 1;if(s===p1.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},A=Object.keys(u);l.sort(),A.sort();for(let d=0;d<l.length&&d<A.length;++d){const f=Br(l[d],A[d]);if(f!==0)return f;const h=sg(o[l[d]],u[A[d]]);if(h!==0)return h}return Br(l.length,A.length)}(t.mapValue,e.mapValue);default:throw Dn()}}function LM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Br(t,e);const n=sf(t),r=sf(e),i=Br(n.seconds,r.seconds);return i!==0?i:Br(n.nanos,r.nanos)}function MM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=sg(n[i],r[i]);if(a)return a}return Br(n.length,r.length)}function og(t){return wj(t)}function wj(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=sf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qh(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return wn.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=wj(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${wj(n.fields[s])}`;return i+"}"}(t.mapValue):Dn()}function RM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cj(t){return!!t&&"integerValue"in t}function zP(t){return!!t&&"arrayValue"in t}function UM(t){return!!t&&"nullValue"in t}function QM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hw(t){return!!t&&"mapValue"in t}function JAe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Rv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rv(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rv(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZAe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.value=e}static empty(){return new Lo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rv(n)}setAll(e){let n=_s.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Rv(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Hw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ru(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sp(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Lo(Rv(this.value))}}function YW(t){const e=[];return sp(t.fields,(n,r)=>{const i=new _s([n]);if(Hw(r)){const a=YW(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Cl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ro(e,0,Rn.min(),Rn.min(),Rn.min(),Lo.empty(),0)}static newFoundDocument(e,n,r,i){return new ro(e,1,n,Rn.min(),r,i,0)}static newNoDocument(e,n){return new ro(e,2,n,Rn.min(),Rn.min(),Lo.empty(),0)}static newUnknownDocument(e,n){return new ro(e,3,n,Rn.min(),Rn.min(),Lo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Rn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ro&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.position=e,this.inclusive=n}}function HM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=wn.comparator(wn.fromName(s.referenceValue),n.key):r=sg(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function zM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ru(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n="asc"){this.field=e,this.dir=n}}function ede(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XW=class{};class ja extends XW{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nde(e,n,r):n==="array-contains"?new ade(e,r):n==="in"?new sde(e,r):n==="not-in"?new ode(e,r):n==="array-contains-any"?new lde(e,r):new ja(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rde(e,r):new ide(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sg(n,this.value)):n!==null&&Hh(this.value)===Hh(n)&&this.matchesComparison(sg(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zc extends XW{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zc(e,n)}matches(e){return JW(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function JW(t){return t.op==="and"}function ZW(t){return tde(t)&&JW(t)}function tde(t){for(const e of t.filters)if(e instanceof Zc)return!1;return!0}function Sj(t){if(t instanceof ja)return t.field.canonicalString()+t.op.toString()+og(t.value);if(ZW(t))return t.filters.map(e=>Sj(e)).join(",");{const e=t.filters.map(n=>Sj(n)).join(",");return`${t.op}(${e})`}}function eG(t,e){return t instanceof ja?function(r,i){return i instanceof ja&&r.op===i.op&&r.field.isEqual(i.field)&&Ru(r.value,i.value)}(t,e):t instanceof Zc?function(r,i){return i instanceof Zc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&eG(s,i.filters[o]),!0):!1}(t,e):void Dn()}function tG(t){return t instanceof ja?function(n){return`${n.field.canonicalString()} ${n.op} ${og(n.value)}`}(t):t instanceof Zc?function(n){return n.op.toString()+" {"+n.getFilters().map(tG).join(" ,")+"}"}(t):"Filter"}class nde extends ja{constructor(e,n,r){super(e,n,r),this.key=wn.fromName(r.referenceValue)}matches(e){const n=wn.comparator(e.key,this.key);return this.matchesComparison(n)}}class rde extends ja{constructor(e,n){super(e,"in",n),this.keys=nG("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ide extends ja{constructor(e,n){super(e,"not-in",n),this.keys=nG("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nG(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>wn.fromName(r.referenceValue))}class ade extends ja{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zP(n)&&Hy(n.arrayValue,this.value)}}class sde extends ja{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hy(this.value.arrayValue,n)}}class ode extends ja{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hy(this.value.arrayValue,n)}}class lde extends ja{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hy(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function VM(t,e=null,n=[],r=[],i=null,a=null,s=null){return new cde(t,e,n,r,i,a,s)}function VP(t){const e=Un(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sj(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),A5(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>og(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>og(r)).join(",")),e.ue=n}return e.ue}function $P(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ede(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zM(t.startAt,e.startAt)&&zM(t.endAt,e.endAt)}function Ej(t){return wn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ude(t,e,n,r,i,a,s,o){return new Zb(t,e,n,r,i,a,s,o)}function KP(t){return new Zb(t)}function $M(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rG(t){return t.collectionGroup!==null}function Uv(t){const e=Un(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Is(_s.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new K2(a,r))}),n.has(_s.keyField().canonicalString())||e.ce.push(new K2(_s.keyField(),r))}return e.ce}function Pu(t){const e=Un(t);return e.le||(e.le=Ade(e,Uv(t))),e.le}function Ade(t,e){if(t.limitType==="F")return VM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new K2(i.field,a)});const n=t.endAt?new $2(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $2(t.startAt.position,t.startAt.inclusive):null;return VM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _j(t,e){const n=t.filters.concat([e]);return new Zb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bj(t,e,n){return new Zb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function d5(t,e){return $P(Pu(t),Pu(e))&&t.limitType===e.limitType}function iG(t){return`${VP(Pu(t))}|lt:${t.limitType}`}function $p(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tG(i)).join(", ")}]`),A5(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>og(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>og(i)).join(",")),`Target(${r})`}(Pu(t))}; limitType=${t.limitType})`}function f5(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):wn.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Uv(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=HM(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,Uv(r),i)||r.endAt&&!function(s,o,l){const u=HM(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,Uv(r),i))}(t,e)}function dde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aG(t){return(e,n)=>{let r=!1;for(const i of Uv(t)){const a=fde(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function fde(t,e,n){const r=t.field.isKeyField()?wn.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?sg(l,u):Dn()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sp(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return GW(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hde=new Ui(wn.comparator);function MA(){return hde}const sG=new Ui(wn.comparator);function pv(...t){let e=sG;for(const n of t)e=e.insert(n.key,n);return e}function oG(t){let e=sG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uh(){return Qv()}function lG(){return Qv()}function Qv(){return new r0(t=>t.toString(),(t,e)=>t.isEqual(e))}const pde=new Ui(wn.comparator),mde=new Is(wn.comparator);function or(...t){let e=mde;for(const n of t)e=e.add(n);return e}const gde=new Is(Br);function vde(){return gde}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V2(e)?"-0":e}}function cG(t){return{integerValue:""+t}}function yde(t,e){return qAe(e)?cG(e):WP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this._=void 0}}function bde(t,e,n){return t instanceof zy?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&QP(a)&&(a=HP(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof Vy?AG(t,e):t instanceof $y?dG(t,e):function(i,a){const s=uG(i,a),o=KM(s)+KM(i.Pe);return Cj(s)&&Cj(i.Pe)?cG(o):WP(i.serializer,o)}(t,e)}function xde(t,e,n){return t instanceof Vy?AG(t,e):t instanceof $y?dG(t,e):n}function uG(t,e){return t instanceof W2?function(r){return Cj(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class zy extends h5{}class Vy extends h5{constructor(e){super(),this.elements=e}}function AG(t,e){const n=fG(e);for(const r of t.elements)n.some(i=>Ru(i,r))||n.push(r);return{arrayValue:{values:n}}}class $y extends h5{constructor(e){super(),this.elements=e}}function dG(t,e){let n=fG(e);for(const r of t.elements)n=n.filter(i=>!Ru(i,r));return{arrayValue:{values:n}}}class W2 extends h5{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function KM(t){return ha(t.integerValue||t.doubleValue)}function fG(t){return zP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wde{constructor(e,n){this.field=e,this.transform=n}}function Cde(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vy&&i instanceof Vy||r instanceof $y&&i instanceof $y?ag(r.elements,i.elements,Ru):r instanceof W2&&i instanceof W2?Ru(r.Pe,i.Pe):r instanceof zy&&i instanceof zy}(t.transform,e.transform)}class Sde{constructor(e,n){this.version=e,this.transformResults=n}}class _l{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _l}static exists(e){return new _l(void 0,e)}static updateTime(e){return new _l(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zw(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class p5{}function hG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m5(t.key,_l.none()):new ex(t.key,t.data,_l.none());{const n=t.data,r=Lo.empty();let i=new Is(_s.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new vf(t.key,r,new Cl(i.toArray()),_l.none())}}function Ede(t,e,n){t instanceof ex?function(i,a,s){const o=i.value.clone(),l=GM(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof vf?function(i,a,s){if(!zw(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=GM(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(pG(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Hv(t,e,n,r){return t instanceof ex?function(a,s,o,l){if(!zw(a.precondition,s))return o;const u=a.value.clone(),A=qM(a.fieldTransforms,l,s);return u.setAll(A),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vf?function(a,s,o,l){if(!zw(a.precondition,s))return o;const u=qM(a.fieldTransforms,l,s),A=s.data;return A.setAll(pG(a)),A.setAll(u),s.convertToFoundDocument(s.version,A).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return zw(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function _de(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=uG(r.transform,i||null);a!=null&&(n===null&&(n=Lo.empty()),n.set(r.field,a))}return n||null}function WM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ag(r,i,(a,s)=>Cde(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ex extends p5{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vf extends p5{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pG(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GM(t,e,n){const r=new Map;Kr(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,xde(s,o,n[i]))}return r}function qM(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,bde(a,s,e))}return r}class m5 extends p5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bde extends p5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Ede(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hv(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hv(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lG();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=hG(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Rn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),or())}isEqual(e){return this.batchId===e.batchId&&ag(this.mutations,e.mutations,(n,r)=>WM(n,r))&&ag(this.baseMutations,e.baseMutations,(n,r)=>WM(n,r))}}class GP{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kr(e.mutations.length===r.length);let i=function(){return pde}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new GP(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea,pr;function Tde(t){switch(t){default:return Dn();case xt.CANCELLED:case xt.UNKNOWN:case xt.DEADLINE_EXCEEDED:case xt.RESOURCE_EXHAUSTED:case xt.INTERNAL:case xt.UNAVAILABLE:case xt.UNAUTHENTICATED:return!1;case xt.INVALID_ARGUMENT:case xt.NOT_FOUND:case xt.ALREADY_EXISTS:case xt.PERMISSION_DENIED:case xt.FAILED_PRECONDITION:case xt.ABORTED:case xt.OUT_OF_RANGE:case xt.UNIMPLEMENTED:case xt.DATA_LOSS:return!0}}function mG(t){if(t===void 0)return LA("GRPC error has no .code"),xt.UNKNOWN;switch(t){case Ea.OK:return xt.OK;case Ea.CANCELLED:return xt.CANCELLED;case Ea.UNKNOWN:return xt.UNKNOWN;case Ea.DEADLINE_EXCEEDED:return xt.DEADLINE_EXCEEDED;case Ea.RESOURCE_EXHAUSTED:return xt.RESOURCE_EXHAUSTED;case Ea.INTERNAL:return xt.INTERNAL;case Ea.UNAVAILABLE:return xt.UNAVAILABLE;case Ea.UNAUTHENTICATED:return xt.UNAUTHENTICATED;case Ea.INVALID_ARGUMENT:return xt.INVALID_ARGUMENT;case Ea.NOT_FOUND:return xt.NOT_FOUND;case Ea.ALREADY_EXISTS:return xt.ALREADY_EXISTS;case Ea.PERMISSION_DENIED:return xt.PERMISSION_DENIED;case Ea.FAILED_PRECONDITION:return xt.FAILED_PRECONDITION;case Ea.ABORTED:return xt.ABORTED;case Ea.OUT_OF_RANGE:return xt.OUT_OF_RANGE;case Ea.UNIMPLEMENTED:return xt.UNIMPLEMENTED;case Ea.DATA_LOSS:return xt.DATA_LOSS;default:return Dn()}}(pr=Ea||(Ea={}))[pr.OK=0]="OK",pr[pr.CANCELLED=1]="CANCELLED",pr[pr.UNKNOWN=2]="UNKNOWN",pr[pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pr[pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pr[pr.NOT_FOUND=5]="NOT_FOUND",pr[pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",pr[pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",pr[pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",pr[pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pr[pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pr[pr.ABORTED=10]="ABORTED",pr[pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",pr[pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",pr[pr.INTERNAL=13]="INTERNAL",pr[pr.UNAVAILABLE=14]="UNAVAILABLE",pr[pr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kde(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pde=new Ch([4294967295,4294967295],0);function YM(t){const e=kde().encode(t),n=new QW;return n.update(e),new Uint8Array(n.digest())}function XM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ch([n,r],0),new Ch([i,a],0)]}class qP{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mv(`Invalid padding: ${n}`);if(r<0)throw new mv(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mv(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mv(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ch.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ch.fromNumber(r)));return i.compare(Pde)===1&&(i=new Ch([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=YM(e),[r,i]=XM(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new qP(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=YM(e),[r,i]=XM(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new g5(Rn.min(),i,new Ui(Br),MA(),or())}}class tx{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tx(r,n,or(),or(),or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gG{constructor(e,n){this.targetId=e,this.me=n}}class vG{constructor(e,n,r=Ps.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JM{constructor(){this.fe=0,this.ge=eR(),this.pe=Ps.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=or(),n=or(),r=or();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dn()}}),new tx(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Dde{constructor(e){this.Le=e,this.Be=new Map,this.ke=MA(),this.qe=ZM(),this.Qe=new Ui(Br)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Dn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Ej(a))if(r===0){const s=new wn(a.path);this.Ue(n,s,ro.newNoDocument(s,Rn.min()))}else Kr(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Qh(r).toUint8Array()}catch(l){if(l instanceof qW)return My("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new qP(s,i,a)}catch(l){return My(l instanceof mv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&Ej(o.target)){const l=new wn(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,ro.newNoDocument(l,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=or();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new g5(e,n,this.Qe,this.ke,r);return this.ke=MA(),this.qe=ZM(),this.Qe=new Ui(Br),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new JM,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Is(Br),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||un("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new JM),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ZM(){return new Ui(wn.comparator)}function eR(){return new Ui(wn.comparator)}const Ode={asc:"ASCENDING",desc:"DESCENDING"},Fde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lde={and:"AND",or:"OR"};class Mde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nj(t,e){return t.useProto3Json||A5(e)?e:{value:e}}function G2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rde(t,e){return G2(t,e.toTimestamp())}function Du(t){return Kr(!!t),Rn.fromTimestamp(function(n){const r=sf(n);return new Ia(r.seconds,r.nanos)}(t))}function YP(t,e){return jj(t,e).canonicalString()}function jj(t,e){const n=function(i){return new Ci(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bG(t){const e=Ci.fromString(t);return Kr(EG(e)),e}function Ij(t,e){return YP(t.databaseId,e.path)}function eB(t,e){const n=bG(e);if(n.get(1)!==t.databaseId.projectId)throw new nn(xt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new nn(xt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new wn(wG(n))}function xG(t,e){return YP(t.databaseId,e)}function Ude(t){const e=bG(t);return e.length===4?Ci.emptyPath():wG(e)}function Tj(t){return new Ci(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wG(t){return Kr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tR(t,e,n){return{name:Ij(t,e),fields:n.value.mapValue.fields}}function Qde(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Dn()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,A){return u.useProto3Json?(Kr(A===void 0||typeof A=="string"),Ps.fromBase64String(A||"")):(Kr(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Ps.fromUint8Array(A||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const A=u.code===void 0?xt.UNKNOWN:mG(u.code);return new nn(A,u.message||"")}(s);n=new vG(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=eB(t,r.document.name),a=Du(r.document.updateTime),s=r.document.createTime?Du(r.document.createTime):Rn.min(),o=new Lo({mapValue:{fields:r.document.fields}}),l=ro.newFoundDocument(i,a,s,o),u=r.targetIds||[],A=r.removedTargetIds||[];n=new Vw(u,A,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=eB(t,r.document),a=r.readTime?Du(r.readTime):Rn.min(),s=ro.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Vw([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=eB(t,r.document),a=r.removedTargetIds||[];n=new Vw([],a,i,null)}else{if(!("filter"in e))return Dn();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new Ide(i,a),o=r.targetId;n=new gG(o,s)}}return n}function Hde(t,e){let n;if(e instanceof ex)n={update:tR(t,e.key,e.value)};else if(e instanceof m5)n={delete:Ij(t,e.key)};else if(e instanceof vf)n={update:tR(t,e.key,e.data),updateMask:Xde(e.fieldMask)};else{if(!(e instanceof Bde))return Dn();n={verify:Ij(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof zy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Vy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $y)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof W2)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Dn()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Rde(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Dn()}(t,e.precondition)),n}function zde(t,e){return t&&t.length>0?(Kr(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?Du(i.updateTime):Du(a);return s.isEqual(Rn.min())&&(s=Du(a)),new Sde(s,i.transformResults||[])}(n,e))):[]}function Vde(t,e){return{documents:[xG(t,e.path)]}}function $de(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xG(t,i);const a=function(u){if(u.length!==0)return SG(Zc.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(A=>function(f){return{field:Kp(f.field),direction:Gde(f.dir)}}(A))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Nj(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Kde(t){let e=Ude(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kr(r===1);const A=n.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let a=[];n.where&&(a=function(d){const f=CG(d);return f instanceof Zc&&ZW(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(p){return new K2(Wp(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,A5(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new $2(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new $2(h,f)}(n.endAt)),ude(e,i,s,a,o,"F",l,u)}function Wde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dn()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CG(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wp(n.unaryFilter.field);return ja.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wp(n.unaryFilter.field);return ja.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wp(n.unaryFilter.field);return ja.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wp(n.unaryFilter.field);return ja.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Dn()}}(t):t.fieldFilter!==void 0?function(n){return ja.create(Wp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dn()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zc.create(n.compositeFilter.filters.map(r=>CG(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dn()}}(n.compositeFilter.op))}(t):Dn()}function Gde(t){return Ode[t]}function qde(t){return Fde[t]}function Yde(t){return Lde[t]}function Kp(t){return{fieldPath:t.canonicalString()}}function Wp(t){return _s.fromServerFormat(t.fieldPath)}function SG(t){return t instanceof ja?function(n){if(n.op==="=="){if(QM(n.value))return{unaryFilter:{field:Kp(n.field),op:"IS_NAN"}};if(UM(n.value))return{unaryFilter:{field:Kp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QM(n.value))return{unaryFilter:{field:Kp(n.field),op:"IS_NOT_NAN"}};if(UM(n.value))return{unaryFilter:{field:Kp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kp(n.field),op:qde(n.op),value:n.value}}}(t):t instanceof Zc?function(n){const r=n.getFilters().map(i=>SG(i));return r.length===1?r[0]:{compositeFilter:{op:Yde(n.op),filters:r}}}(t):Dn()}function Xde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EG(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,i,a=Rn.min(),s=Rn.min(),o=Ps.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jde{constructor(e){this.ct=e}}function Zde(t){const e=Kde({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bj(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class efe{constructor(){this.un=new tfe}addToCollectionParentIndex(e,n){return this.un.add(n),Bt.resolve()}getCollectionParents(e,n){return Bt.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Bt.resolve()}deleteFieldIndex(e,n){return Bt.resolve()}deleteAllFieldIndexes(e){return Bt.resolve()}createTargetIndexes(e,n){return Bt.resolve()}getDocumentsMatchingTarget(e,n){return Bt.resolve(null)}getIndexType(e,n){return Bt.resolve(0)}getFieldIndexes(e,n){return Bt.resolve([])}getNextCollectionGroupToUpdate(e){return Bt.resolve(null)}getMinOffset(e,n){return Bt.resolve(af.min())}getMinOffsetFromCollectionGroup(e,n){return Bt.resolve(af.min())}updateCollectionGroup(e,n,r){return Bt.resolve()}updateIndexEntries(e,n){return Bt.resolve()}}class tfe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Is(Ci.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Is(Ci.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lg(0)}static kn(){return new lg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nfe{constructor(){this.changes=new r0(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ro.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Bt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ife{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hv(r.mutation,i,Cl.empty(),Ia.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,or()).next(()=>r))}getLocalViewOfDocuments(e,n,r=or()){const i=uh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=pv();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=uh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,or()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=MA();const s=Qv(),o=function(){return Qv()}();return n.forEach((l,u)=>{const A=r.get(u.key);i.has(u.key)&&(A===void 0||A.mutation instanceof vf)?a=a.insert(u.key,u):A!==void 0?(s.set(u.key,A.mutation.getFieldMask()),Hv(A.mutation,u,A.mutation.getFieldMask(),Ia.now())):s.set(u.key,Cl.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,A)=>s.set(u,A)),n.forEach((u,A)=>{var d;return o.set(u,new rfe(A,(d=s.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Qv();let i=new Ui((s,o)=>s-o),a=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let A=r.get(l)||Cl.empty();A=o.applyToLocalView(u,A),r.set(l,A);const d=(i.get(o.batchId)||or()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,A=l.value,d=lG();A.forEach(f=>{if(!a.has(f)){const h=hG(n.get(f),r.get(f));h!==null&&d.set(f,h),a=a.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Bt.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return wn.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Bt.resolve(uh());let o=-1,l=a;return s.next(u=>Bt.forEach(u,(A,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(A)?Bt.resolve():this.remoteDocumentCache.getEntry(e,A).next(f=>{l=l.insert(A,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,or())).next(A=>({batchId:o,changes:oG(A)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wn(n)).next(r=>{let i=pv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=pv();return this.indexManager.getCollectionParents(e,a).next(o=>Bt.forEach(o,l=>{const u=function(d,f){return new Zb(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(A=>{A.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const A=u.getKey();s.get(A)===null&&(s=s.insert(A,ro.newInvalidDocument(A)))});let o=pv();return s.forEach((l,u)=>{const A=a.get(l);A!==void 0&&Hv(A.mutation,u,Cl.empty(),Ia.now()),f5(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class afe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Bt.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Du(i.createTime)}}(n)),Bt.resolve()}getNamedQuery(e,n){return Bt.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Zde(i.bundledQuery),readTime:Du(i.readTime)}}(n)),Bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(){this.overlays=new Ui(wn.comparator),this.Ir=new Map}getOverlay(e,n){return Bt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uh();return Bt.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),Bt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Bt.resolve()}getOverlaysForCollection(e,n,r){const i=uh(),a=n.length+1,s=new wn(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Bt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Ui((u,A)=>u-A);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let A=a.get(u.largestBatchId);A===null&&(A=uh(),a=a.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}const o=uh(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,A)=>o.set(u,A)),!(o.size()>=i)););return Bt.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jde(n,r));let a=this.Ir.get(n);a===void 0&&(a=or(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(){this.sessionToken=Ps.EMPTY_BYTE_STRING}getSessionToken(e){return Bt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.Tr=new Is(is.Er),this.dr=new Is(is.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new is(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new is(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new wn(new Ci([])),r=new is(n,e),i=new is(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new wn(new Ci([])),r=new is(n,e),i=new is(n,e+1);let a=or();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new is(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class is{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return wn.comparator(e.key,n.key)||Br(e.wr,n.wr)}static Ar(e,n){return Br(e.wr,n.wr)||wn.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Is(is.Er)}checkEmpty(e){return Bt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Nde(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new is(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Bt.resolve(s)}lookupMutationBatch(e,n){return Bt.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Bt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Bt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new is(n,0),i=new is(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),Bt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Is(Br);return n.forEach(i=>{const a=new is(i,0),s=new is(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),Bt.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;wn.isDocumentKey(a)||(a=a.child(""));const s=new is(new wn(a),0);let o=new Is(Br);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},s),Bt.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Kr(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Bt.forEach(n.mutations,i=>{const a=new is(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new is(n,0),i=this.br.firstAfterOrEqual(r);return Bt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Bt.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(e){this.Mr=e,this.docs=function(){return new Ui(wn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Bt.resolve(r?r.document.mutableCopy():ro.newInvalidDocument(n))}getEntries(e,n){let r=MA();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ro.newInvalidDocument(i))}),Bt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=MA();const s=n.path,o=new wn(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:A}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||$Ae(VAe(A),r)<=0||(i.has(A.key)||f5(n,A))&&(a=a.insert(A.key,A.mutableCopy()))}return Bt.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Dn()}Or(e,n){return Bt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ufe(this)}getSize(e){return Bt.resolve(this.size)}}class ufe extends nfe{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Bt.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(e){this.persistence=e,this.Nr=new r0(n=>VP(n),$P),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new XP,this.targetCount=0,this.kr=lg.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Bt.resolve()}getLastRemoteSnapshotVersion(e){return Bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Bt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Bt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Bt.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new lg(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Bt.resolve()}updateTargetData(e,n){return this.Kn(n),Bt.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Bt.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Bt.waitFor(a).next(()=>i)}getTargetCount(e){return Bt.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Bt.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Bt.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Bt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Bt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Bt.resolve(r)}containsKey(e,n){return Bt.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(e,n){this.qr={},this.overlays={},this.Qr=new UP(0),this.Kr=!1,this.Kr=!0,this.$r=new ofe,this.referenceDelegate=e(this),this.Ur=new Afe(this),this.indexManager=new efe,this.remoteDocumentCache=function(i){return new cfe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Jde(n),this.Gr=new afe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new lfe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){un("MemoryPersistence","Starting transaction:",e);const i=new ffe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return Bt.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class ffe extends WAe{constructor(e){super(),this.currentSequenceNumber=e}}class JP{constructor(e){this.persistence=e,this.Jr=new XP,this.Yr=null}static Zr(e){return new JP(e)}get Xr(){if(this.Yr)return this.Yr;throw Dn()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Bt.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Bt.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Bt.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bt.forEach(this.Xr,r=>{const i=wn.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,Rn.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Bt.or([()=>Bt.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=or(),i=or();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ZP(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sce()?8:GAe(Go())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new hfe;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(H0()<=ur.DEBUG&&un("QueryEngine","SDK will not create cache indexes for query:",$p(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Bt.resolve()):(H0()<=ur.DEBUG&&un("QueryEngine","Query:",$p(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(H0()<=ur.DEBUG&&un("QueryEngine","The SDK decides to create cache indexes for query:",$p(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pu(n))):Bt.resolve())}Yi(e,n){if($M(n))return Bt.resolve(null);let r=Pu(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bj(n,null,"F"),r=Pu(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=or(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,o);return this.ns(n,u,s,l.readTime)?this.Yi(e,Bj(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return $M(n)||i.isEqual(Rn.min())?Bt.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?Bt.resolve(null):(H0()<=ur.DEBUG&&un("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$p(n)),this.rs(e,s,n,zAe(i,-1)).next(o=>o))})}ts(e,n){let r=new Is(aG(e));return n.forEach((i,a)=>{f5(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return H0()<=ur.DEBUG&&un("QueryEngine","Using full collection scan to execute query:",$p(n)),this.Ji.getDocumentsMatchingQuery(e,n,af.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ui(Br),this._s=new r0(a=>VP(a),$P),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ife(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function gfe(t,e,n,r){return new mfe(t,e,n,r)}async function _G(t,e){const n=Un(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=or();for(const u of i){s.push(u.batchId);for(const A of u.mutations)l=l.add(A.key)}for(const u of a){o.push(u.batchId);for(const A of u.mutations)l=l.add(A.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:o}))})})}function vfe(t,e){const n=Un(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,A){const d=u.batch,f=d.keys();let h=Bt.resolve();return f.forEach(p=>{h=h.next(()=>A.getEntry(l,p)).next(m=>{const v=u.docVersions.get(p);Kr(v!==null),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),A.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=or();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BG(t){const e=Un(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yfe(t,e){const n=Un(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((A,d)=>{const f=i.get(d);if(!f)return;o.push(n.Ur.removeMatchingKeys(a,A.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(a,A.addedDocuments,d)));let h=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Ps.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):A.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(A.resumeToken,r)),i=i.insert(d,h),function(m,v,g){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,h,A)&&o.push(n.Ur.updateTargetData(a,h))});let l=MA(),u=or();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,A))}),o.push(bfe(a,s,e.documentUpdates).next(A=>{l=A.Ps,u=A.Is})),!r.isEqual(Rn.min())){const A=n.Ur.getLastRemoteSnapshotVersion(a).next(d=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(A)}return Bt.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function bfe(t,e,n){let r=or(),i=or();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=MA();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Rn.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):un("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function xfe(t,e){const n=Un(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wfe(t,e){const n=Un(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,Bt.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Td(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function kj(t,e,n){const r=Un(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Jb(s))throw s;un("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function nR(t,e,n){const r=Un(t);let i=Rn.min(),a=or();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,A){const d=Un(l),f=d._s.get(A);return f!==void 0?Bt.resolve(d.os.get(f)):d.Ur.getTargetData(u,A)}(r,s,Pu(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Rn.min(),n?a:or())).next(o=>(Cfe(r,dde(e),o),{documents:o,Ts:a})))}function Cfe(t,e,n){let r=t.us.get(e)||Rn.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class rR{constructor(){this.activeTargetIds=vde()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sfe{constructor(){this.so=new rR,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Efe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1=null;function tB(){return m1===null?m1=function(){return 268435456+Math.round(2147483648*Math.random())}():m1++,"0x"+m1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="WebChannelConnection";class Nfe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=tB(),l=this.xo(n,r.toUriEncodedString());un("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(n,l,u,i).then(A=>(un("RestConnection",`Received RPC '${n}' ${o}: `,A),A),A=>{throw My("RestConnection",`RPC '${n}' ${o} failed with error: `,A,"url: ",l,"request:",i),A})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+n0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=_fe[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=tB();return new Promise((s,o)=>{const l=new HW;l.setWithCredentials(!0),l.listenOnce(zW.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qw.NO_ERROR:const A=l.getResponseJson();un($s,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(A)),s(A);break;case Qw.TIMEOUT:un($s,`RPC '${e}' ${a} timed out`),o(new nn(xt.DEADLINE_EXCEEDED,"Request time out"));break;case Qw.HTTP_ERROR:const d=l.getStatus();if(un($s,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(xt).indexOf(g)>=0?g:xt.UNKNOWN}(h.status);o(new nn(p,h.message))}else o(new nn(xt.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new nn(xt.UNAVAILABLE,"Connection failed."));break;default:Dn()}}finally{un($s,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);un($s,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=tB(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KW(),o=$W(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const A=a.join("");un($s,`Creating RPC '${e}' stream ${i}: ${A}`,l);const d=s.createWebChannel(A,l);let f=!1,h=!1;const p=new Bfe({Io:v=>{h?un($s,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(un($s,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),un($s,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),m=(v,g,y)=>{v.listen(g,x=>{try{y(x)}catch(S){setTimeout(()=>{throw S},0)}})};return m(d,hv.EventType.OPEN,()=>{h||(un($s,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),m(d,hv.EventType.CLOSE,()=>{h||(h=!0,un($s,`RPC '${e}' stream ${i} transport closed`),p.So())}),m(d,hv.EventType.ERROR,v=>{h||(h=!0,My($s,`RPC '${e}' stream ${i} transport errored:`,v),p.So(new nn(xt.UNAVAILABLE,"The operation could not be completed")))}),m(d,hv.EventType.MESSAGE,v=>{var g;if(!h){const y=v.data[0];Kr(!!y);const x=y,S=x.error||((g=x[0])===null||g===void 0?void 0:g.error);if(S){un($s,`RPC '${e}' stream ${i} received error:`,S);const E=S.status;let N=function(j){const D=Ea[j];if(D!==void 0)return mG(D)}(E),_=S.message;N===void 0&&(N=xt.INTERNAL,_="Unknown error status: "+E+" with message "+S.message),h=!0,p.So(new nn(N,_)),d.close()}else un($s,`RPC '${e}' stream ${i} received:`,y),p.bo(y)}}),m(o,VW.STAT_EVENT,v=>{v.stat===xj.PROXY?un($s,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===xj.NOPROXY&&un($s,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function nB(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t){return new Mde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&un("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,n,r,i,a,s,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NG(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===xt.RESOURCE_EXHAUSTED?(LA(n.toString()),LA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===xt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new nn(xt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return un("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jfe extends jG{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Qde(this.serializer,e),r=function(a){if(!("targetChange"in a))return Rn.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Rn.min():s.readTime?Du(s.readTime):Rn.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Tj(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=Ej(l)?{documents:Vde(a,l)}:{query:$de(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=yG(a,s.resumeToken);const u=Nj(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Rn.min())>0){o.readTime=G2(a,s.snapshotVersion.toTimestamp());const u=Nj(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=Wde(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Tj(this.serializer),n.removeTarget=e,this.a_(n)}}class Ife extends jG{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Kr(!!e.streamToken),this.lastStreamToken=e.streamToken,Kr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Kr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=zde(e.writeResults,e.commitTime),r=Du(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Tj(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Hde(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new nn(xt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,jj(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new nn(xt.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,jj(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new nn(xt.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class kfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(LA(n),this.D_=!1):un("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pfe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{op(this)&&(un("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Un(l);u.L_.add(4),await nx(u),u.q_.set("Unknown"),u.L_.delete(4),await y5(u)}(this))})}),this.q_=new kfe(r,i)}}async function y5(t){if(op(t))for(const e of t.B_)await e(!0)}async function nx(t){for(const e of t.B_)await e(!1)}function IG(t,e){const n=Un(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),rD(n)?nD(n):i0(n).r_()&&tD(n,e))}function eD(t,e){const n=Un(t),r=i0(n);n.N_.delete(e),r.r_()&&TG(n,e),n.N_.size===0&&(r.r_()?r.o_():op(n)&&n.q_.set("Unknown"))}function tD(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}i0(t).A_(e)}function TG(t,e){t.Q_.xe(e),i0(t).R_(e)}function nD(t){t.Q_=new Dde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),i0(t).start(),t.q_.v_()}function rD(t){return op(t)&&!i0(t).n_()&&t.N_.size>0}function op(t){return Un(t).L_.size===0}function kG(t){t.Q_=void 0}async function Dfe(t){t.q_.set("Online")}async function Ofe(t){t.N_.forEach((e,n)=>{tD(t,e)})}async function Ffe(t,e){kG(t),rD(t)?(t.q_.M_(e),nD(t)):t.q_.set("Unknown")}async function Lfe(t,e,n){if(t.q_.set("Online"),e instanceof vG&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await q2(t,r)}else if(e instanceof Vw?t.Q_.Ke(e):e instanceof gG?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Rn.min()))try{const r=await BG(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const A=a.N_.get(u);A&&a.N_.set(u,A.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const A=a.N_.get(l);if(!A)return;a.N_.set(l,A.withResumeToken(Ps.EMPTY_BYTE_STRING,A.snapshotVersion)),TG(a,l);const d=new Td(A.target,l,u,A.sequenceNumber);tD(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){un("RemoteStore","Failed to raise snapshot:",r),await q2(t,r)}}async function q2(t,e,n){if(!Jb(e))throw e;t.L_.add(1),await nx(t),t.q_.set("Offline"),n||(n=()=>BG(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{un("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await y5(t)})}function PG(t,e){return e().catch(n=>q2(t,n,e))}async function b5(t){const e=Un(t),n=of(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Mfe(e);)try{const i=await xfe(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Rfe(e,i)}catch(i){await q2(e,i)}DG(e)&&OG(e)}function Mfe(t){return op(t)&&t.O_.length<10}function Rfe(t,e){t.O_.push(e);const n=of(t);n.r_()&&n.V_&&n.m_(e.mutations)}function DG(t){return op(t)&&!of(t).n_()&&t.O_.length>0}function OG(t){of(t).start()}async function Ufe(t){of(t).p_()}async function Qfe(t){const e=of(t);for(const n of t.O_)e.m_(n.mutations)}async function Hfe(t,e,n){const r=t.O_.shift(),i=GP.from(r,e,n);await PG(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await b5(t)}async function zfe(t,e){e&&of(t).V_&&await async function(r,i){if(function(s){return Tde(s)&&s!==xt.ABORTED}(i.code)){const a=r.O_.shift();of(r).s_(),await PG(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await b5(r)}}(t,e),DG(t)&&OG(t)}async function aR(t,e){const n=Un(t);n.asyncQueue.verifyOperationInProgress(),un("RemoteStore","RemoteStore received new credentials");const r=op(n);n.L_.add(3),await nx(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await y5(n)}async function Vfe(t,e){const n=Un(t);e?(n.L_.delete(2),await y5(n)):e||(n.L_.add(2),await nx(n),n.q_.set("Unknown"))}function i0(t){return t.K_||(t.K_=function(n,r,i){const a=Un(n);return a.w_(),new jfe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Dfe.bind(null,t),Ro:Ofe.bind(null,t),mo:Ffe.bind(null,t),d_:Lfe.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),rD(t)?nD(t):t.q_.set("Unknown")):(await t.K_.stop(),kG(t))})),t.K_}function of(t){return t.U_||(t.U_=function(n,r,i){const a=Un(n);return a.w_(),new Ife(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ufe.bind(null,t),mo:zfe.bind(null,t),f_:Qfe.bind(null,t),g_:Hfe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await b5(t)):(await t.U_.stop(),t.O_.length>0&&(un("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Sh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new iD(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nn(xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aD(t,e){if(LA("AsyncQueue",`${e}: ${t}`),Jb(t))return new nn(xt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.comparator=e?(n,r)=>e(n,r)||wn.comparator(n.key,r.key):(n,r)=>wn.comparator(n.key,r.key),this.keyedMap=pv(),this.sortedSet=new Ui(this.comparator)}static emptySet(e){return new Fm(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.W_=new Ui(wn.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Dn():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cg{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new cg(e,n,Fm.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&d5(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Kfe{constructor(){this.queries=oR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Un(n),a=i.queries;i.queries=oR(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(r)})})(this,new nn(xt.ABORTED,"Firestore shutting down"))}}function oR(){return new r0(t=>iG(t),d5)}async function Wfe(t,e){const n=Un(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new $fe,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=aD(s,`Initialization of query '${$p(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&sD(n)}async function Gfe(t,e){const n=Un(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qfe(t,e){const n=Un(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&sD(n)}function Yfe(t,e,n){const r=Un(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function sD(t){t.Y_.forEach(e=>{e.next()})}var Pj,lR;(lR=Pj||(Pj={})).ea="default",lR.Cache="cache";class Xfe{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Pj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.key=e}}class LG{constructor(e){this.key=e}}class Jfe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=or(),this.mutatedKeys=or(),this.Aa=aG(e),this.Ra=new Fm(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sR,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,d)=>{const f=i.get(A),h=f5(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),v=!0):this.ga(f,h)||(r.track({type:2,doc:h}),v=!0,(l&&this.Aa(h,l)>0||u&&this.Aa(h,u)<0)&&(o=!0)):!f&&h?(r.track({type:0,doc:h}),v=!0):f&&!h&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(o=!0)),v&&(h?(s=s.add(h),a=m?a.add(A):a.delete(A)):(s=s.delete(A),a=a.delete(A)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const A=this.query.limitType==="F"?s.last():s.first();s=s.delete(A.key),a=a.delete(A.key),r.track({type:1,doc:A})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((A,d)=>function(h,p){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dn()}};return m(h)-m(p)}(A.type,d.type)||this.Aa(A.doc,d.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new cg(this.query,e.Ra,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=or(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new LG(r))}),this.da.forEach(r=>{e.has(r)||n.push(new FG(r))}),n}ba(e){this.Ta=e.Ts,this.da=or();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cg.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Zfe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ehe{constructor(e){this.key=e,this.va=!1}}class the{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new r0(o=>iG(o),d5),this.Ma=new Map,this.xa=new Set,this.Oa=new Ui(wn.comparator),this.Na=new Map,this.La=new XP,this.Ba={},this.ka=new Map,this.qa=lg.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nhe(t,e,n=!0){const r=zG(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await MG(r,e,n,!0),i}async function rhe(t,e){const n=zG(t);await MG(n,e,!0,!1)}async function MG(t,e,n,r){const i=await wfe(t.localStore,Pu(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await ihe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&IG(t.remoteStore,i),o}async function ihe(t,e,n,r,i){t.Ka=(d,f,h)=>async function(m,v,g,y){let x=v.view.ma(g);x.ns&&(x=await nR(m.localStore,v.query,!1).then(({documents:_})=>v.view.ma(_,x)));const S=y&&y.targetChanges.get(v.targetId),E=y&&y.targetMismatches.get(v.targetId)!=null,N=v.view.applyChanges(x,m.isPrimaryClient,S,E);return uR(m,v.targetId,N.wa),N.snapshot}(t,d,f,h);const a=await nR(t.localStore,e,!0),s=new Jfe(e,a.Ts),o=s.ma(a.documents),l=tx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);uR(t,n,u.wa);const A=new Zfe(e,n,s);return t.Fa.set(e,A),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function ahe(t,e,n){const r=Un(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!d5(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kj(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eD(r.remoteStore,i.targetId),Dj(r,i.targetId)}).catch(Xb)):(Dj(r,i.targetId),await kj(r.localStore,i.targetId,!0))}async function she(t,e){const n=Un(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eD(n.remoteStore,r.targetId))}async function ohe(t,e,n){const r=hhe(t);try{const i=await function(s,o){const l=Un(s),u=Ia.now(),A=o.reduce((h,p)=>h.add(p.key),or());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=MA(),m=or();return l.cs.getEntries(h,A).next(v=>{p=v,p.forEach((g,y)=>{y.isValidDocument()||(m=m.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(v=>{d=v;const g=[];for(const y of o){const x=_de(y,d.get(y.key).overlayedDocument);x!=null&&g.push(new vf(y.key,x,YW(x.value.mapValue),_l.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,o)}).next(v=>{f=v;const g=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,v.batchId,g)})}).then(()=>({batchId:f.batchId,changes:oG(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Ui(Br)),u=u.insert(o,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await rx(r,i.changes),await b5(r.remoteStore)}catch(i){const a=aD(i,"Failed to persist write");n.reject(a)}}async function RG(t,e){const n=Un(t);try{const r=await yfe(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(Kr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Kr(s.va):i.removedDocuments.size>0&&(Kr(s.va),s.va=!1))}),await rx(n,r,e)}catch(r){await Xb(r)}}function cR(t,e,n){const r=Un(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Un(s);l.onlineState=o;let u=!1;l.queries.forEach((A,d)=>{for(const f of d.j_)f.Z_(o)&&(u=!0)}),u&&sD(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lhe(t,e,n){const r=Un(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new Ui(wn.comparator);s=s.insert(a,ro.newNoDocument(a,Rn.min()));const o=or().add(a),l=new g5(Rn.min(),new Map,new Ui(Br),s,o);await RG(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),oD(r)}else await kj(r.localStore,e,!1).then(()=>Dj(r,e,n)).catch(Xb)}async function che(t,e){const n=Un(t),r=e.batch.batchId;try{const i=await vfe(n.localStore,e);QG(n,r,null),UG(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rx(n,i)}catch(i){await Xb(i)}}async function uhe(t,e,n){const r=Un(t);try{const i=await function(s,o){const l=Un(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let A;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Kr(d!==null),A=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,A,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,A)).next(()=>l.localDocuments.getDocuments(u,A))})}(r.localStore,e);QG(r,e,n),UG(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rx(r,i)}catch(i){await Xb(i)}}function UG(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QG(t,e,n){const r=Un(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Dj(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||HG(t,r)})}function HG(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(eD(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),oD(t))}function uR(t,e,n){for(const r of n)r instanceof FG?(t.La.addReference(r.key,e),Ahe(t,r)):r instanceof LG?(un("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||HG(t,r.key)):Dn()}function Ahe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(un("SyncEngine","New document in limbo: "+n),t.xa.add(r),oD(t))}function oD(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new wn(Ci.fromString(e)),r=t.qa.next();t.Na.set(r,new ehe(n)),t.Oa=t.Oa.insert(n,r),IG(t.remoteStore,new Td(Pu(KP(n.path)),r,"TargetPurposeLimboResolution",UP.oe))}}async function rx(t,e,n){const r=Un(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{s.push(r.Ka(l,e,n).then(u=>{var A;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(A=n==null?void 0:n.targetChanges.get(l.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=ZP.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const A=Un(l);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Bt.forEach(u,f=>Bt.forEach(f.$i,h=>A.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>Bt.forEach(f.Ui,h=>A.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Jb(d))throw d;un("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=A.os.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);A.os=A.os.insert(f,m)}}}(r.localStore,a))}async function dhe(t,e){const n=Un(t);if(!n.currentUser.isEqual(e)){un("SyncEngine","User change. New user:",e.toKey());const r=await _G(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new nn(xt.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rx(n,r.hs)}}function fhe(t,e){const n=Un(t),r=n.Na.get(e);if(r&&r.va)return or().add(r.key);{let i=or();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function zG(t){const e=Un(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lhe.bind(null,e),e.Ca.d_=qfe.bind(null,e.eventManager),e.Ca.$a=Yfe.bind(null,e.eventManager),e}function hhe(t){const e=Un(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=che.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uhe.bind(null,e),e}class Y2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=v5(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return gfe(this.persistence,new pfe,e.initialUser,this.serializer)}Ga(e){return new dfe(JP.Zr,this.serializer)}Wa(e){return new Sfe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Y2.provider={build:()=>new Y2};class Oj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dhe.bind(null,this.syncEngine),await Vfe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kfe}()}createDatastore(e){const n=v5(e.databaseInfo.databaseId),r=function(a){return new Nfe(a)}(e.databaseInfo);return function(a,s,o,l){return new Tfe(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new Pfe(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>cR(this.syncEngine,n,0),function(){return iR.D()?new iR:new Efe}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,A){const d=new the(i,a,s,o,l,u);return A&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Un(i);un("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await nx(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Oj.provider={build:()=>new Oj};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):LA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Po.UNAUTHENTICATED,this.clientId=WW.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{un("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(un("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aD(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rB(t,e){t.asyncQueue.verifyOperationInProgress(),un("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _G(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ghe(t);un("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aR(e.remoteStore,i)),t._onlineComponents=e}async function ghe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){un("FirestoreClient","Using user provided OfflineComponentProvider");try{await rB(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===xt.FAILED_PRECONDITION||i.code===xt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;My("Error using user provided cache. Falling back to memory cache: "+n),await rB(t,new Y2)}}else un("FirestoreClient","Using default OfflineComponentProvider"),await rB(t,new Y2);return t._offlineComponents}async function VG(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(un("FirestoreClient","Using user provided OnlineComponentProvider"),await AR(t,t._uninitializedComponentsProvider._online)):(un("FirestoreClient","Using default OnlineComponentProvider"),await AR(t,new Oj))),t._onlineComponents}function vhe(t){return VG(t).then(e=>e.syncEngine)}async function dR(t){const e=await VG(t),n=e.eventManager;return n.onListen=nhe.bind(null,e.syncEngine),n.onUnlisten=ahe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=she.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(t,e,n){if(!n)throw new nn(xt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yhe(t,e,n,r){if(e===!0&&r===!0)throw new nn(xt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hR(t){if(!wn.isDocumentKey(t))throw new nn(xt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pR(t){if(wn.isDocumentKey(t))throw new nn(xt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dn()}function Eh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new nn(xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=x5(t);throw new nn(xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new nn(xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new nn(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yhe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$G((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nn(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nn(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nn(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lD{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mR({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nn(xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nn(xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OAe;switch(r.type){case"firstParty":return new MAe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nn(xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fR.get(n);r&&(un("ComponentProvider","Removing Datastore"),fR.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new a0(this.firestore,e,this._query)}}class $o{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $o(this.firestore,e,this._key)}}class Xd extends a0{constructor(e,n,r){super(e,n,KP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $o(this.firestore,null,new wn(e))}withConverter(e){return new Xd(this.firestore,e,this._path)}}function bhe(t,e,...n){if(t=ks(t),KG("collection","path",e),t instanceof lD){const r=Ci.fromString(e,...n);return pR(r),new Xd(t,null,r)}{if(!(t instanceof $o||t instanceof Xd))throw new nn(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ci.fromString(e,...n));return pR(r),new Xd(t.firestore,null,r)}}function $a(t,e,...n){if(t=ks(t),arguments.length===1&&(e=WW.newId()),KG("doc","path",e),t instanceof lD){const r=Ci.fromString(e,...n);return hR(r),new $o(t,null,new wn(r))}{if(!(t instanceof $o||t instanceof Xd))throw new nn(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ci.fromString(e,...n));return hR(r),new $o(t.firestore,t instanceof Xd?t.converter:null,new wn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new NG(this,"async_queue_retry"),this.Vu=()=>{const r=nB();r&&un("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=nB();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=nB();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Sh;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Jb(e))throw e;un("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw LA("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=iD.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Dn()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function vR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ug extends lD{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gR(e),this._firestoreClient=void 0,await e}}}function xhe(t,e,n){n||(n="(default)");const r=yW(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Dy(a,e))return i;throw new nn(xt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new nn(xt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new nn(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function cD(t){if(t._terminated)throw new nn(xt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||whe(t),t._firestoreClient}function whe(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,u,A){return new XAe(o,l,u,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,$G(A.experimentalLongPollingOptions),A.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mhe(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ag(Ps.fromBase64String(e))}catch(n){throw new nn(xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ag(Ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new nn(xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _s(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new nn(xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new nn(xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Br(this._lat,e._lat)||Br(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Che=/^__.*__$/;class She{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vf(e,this.data,this.fieldMask,n,this.fieldTransforms):new ex(e,this.data,n,this.fieldTransforms)}}class WG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dn()}}class dD{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return X2(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GG(this.Cu)&&Che.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ehe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||v5(e)}Qu(e,n,r,i=!1){return new dD({Cu:e,methodName:n,qu:r,path:_s.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fD(t){const e=t._freezeSettings(),n=v5(t._databaseId);return new Ehe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qG(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);pD("Data must be an object, but it was:",s,r);const o=YG(r,s);let l,u;if(a.merge)l=new Cl(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const A=[];for(const d of a.mergeFields){const f=Fj(e,d,n);if(!s.contains(f))throw new nn(xt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);JG(A,f)||A.push(f)}l=new Cl(A),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new She(new Lo(o),l,u)}class S5 extends C5{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S5}}class hD extends C5{_toFieldTransform(e){return new wde(e.path,new zy)}isEqual(e){return e instanceof hD}}function _he(t,e,n,r){const i=t.Qu(1,e,n);pD("Data must be an object, but it was:",i,r);const a=[],s=Lo.empty();sp(r,(l,u)=>{const A=mD(e,l,n);u=ks(u);const d=i.Nu(A);if(u instanceof S5)a.push(A);else{const f=ix(u,d);f!=null&&(a.push(A),s.set(A,f))}});const o=new Cl(a);return new WG(s,o,i.fieldTransforms)}function Bhe(t,e,n,r,i,a){const s=t.Qu(1,e,n),o=[Fj(e,r,n)],l=[i];if(a.length%2!=0)throw new nn(xt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)o.push(Fj(e,a[f])),l.push(a[f+1]);const u=[],A=Lo.empty();for(let f=o.length-1;f>=0;--f)if(!JG(u,o[f])){const h=o[f];let p=l[f];p=ks(p);const m=s.Nu(h);if(p instanceof S5)u.push(h);else{const v=ix(p,m);v!=null&&(u.push(h),A.set(h,v))}}const d=new Cl(u);return new WG(A,d,s.fieldTransforms)}function Nhe(t,e,n,r=!1){return ix(n,t.Qu(r?4:3,e))}function ix(t,e){if(XG(t=ks(t)))return pD("Unsupported field value:",e,t),YG(t,e);if(t instanceof C5)return function(r,i){if(!GG(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=ix(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=ks(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yde(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ia.fromDate(r);return{timestampValue:G2(i.serializer,a)}}if(r instanceof Ia){const a=new Ia(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:G2(i.serializer,a)}}if(r instanceof uD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ag)return{bytesValue:yG(i.serializer,r._byteString)};if(r instanceof $o){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:YP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof AD)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return WP(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${x5(r)}`)}(t,e)}function YG(t,e){const n={};return GW(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sp(t,(r,i)=>{const a=ix(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function XG(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ia||t instanceof uD||t instanceof Ag||t instanceof $o||t instanceof C5||t instanceof AD)}function pD(t,e,n){if(!XG(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=x5(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Fj(t,e,n){if((e=ks(e))instanceof w5)return e._internalPath;if(typeof e=="string")return mD(t,e);throw X2("Field path arguments must be of type string or ",t,!1,void 0,n)}const jhe=new RegExp("[~\\*/\\[\\]]");function mD(t,e,n){if(e.search(jhe)>=0)throw X2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new w5(...e.split("."))._internalPath}catch{throw X2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function X2(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new nn(xt.INVALID_ARGUMENT,o+t+l)}function JG(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $o(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ihe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ihe extends ZG{data(){return super.data()}}function gD(t,e){return typeof e=="string"?mD(t,e):e instanceof w5?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function The(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new nn(xt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vD{}class khe extends vD{}function Phe(t,e,...n){let r=[];e instanceof vD&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof yD).length,o=a.filter(l=>l instanceof E5).length;if(s>1||s>0&&o>0)throw new nn(xt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class E5 extends khe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new E5(e,n,r)}_apply(e){const n=this._parse(e);return eq(e._query,n),new a0(e.firestore,e.converter,_j(e._query,n))}_parse(e){const n=fD(e.firestore);return function(a,s,o,l,u,A,d){let f;if(u.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nn(xt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){bR(d,A);const h=[];for(const p of d)h.push(yR(l,a,p));f={arrayValue:{values:h}}}else f=yR(l,a,d)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||bR(d,A),f=Nhe(o,s,d,A==="in"||A==="not-in");return ja.create(u,A,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dhe(t,e,n){const r=e,i=gD("where",t);return E5._create(i,r,n)}class yD extends vD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yD(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)eq(s,l),s=_j(s,l)}(e._query,n),new a0(e.firestore,e.converter,_j(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yR(t,e,n){if(typeof(n=ks(n))=="string"){if(n==="")throw new nn(xt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rG(e)&&n.indexOf("/")!==-1)throw new nn(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ci.fromString(n));if(!wn.isDocumentKey(r))throw new nn(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RM(t,new wn(r))}if(n instanceof $o)return RM(t,n._key);throw new nn(xt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x5(n)}.`)}function bR(t,e){if(!Array.isArray(t)||t.length===0)throw new nn(xt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eq(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new nn(xt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nn(xt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ohe{convertValue(e,n="none"){switch(Hh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ha(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sp(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ha(s.doubleValue));return new AD(a)}convertGeoPoint(e){return new uD(ha(e.latitude),ha(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=HP(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uy(e));default:return null}}convertTimestamp(e){const n=sf(e);return new Ia(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ci.fromString(e);Kr(EG(r));const i=new Qy(r.get(1),r.get(3)),a=new wn(r.popFirst(5));return i.isEqual(n)||LA(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nq extends ZG{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $w extends nq{data(e={}){return super.data(e)}}class Fhe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gv(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $w(this._firestore,this._userDataWriter,r.key,r,new gv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new nn(xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new $w(i._firestore,i._userDataWriter,o.doc.key,o.doc,new gv(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new $w(i._firestore,i._userDataWriter,o.doc.key,o.doc,new gv(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,A=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),A=s.indexOf(o.doc.key)),{type:Lhe(o.type),doc:l,oldIndex:u,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dn()}}class rq extends Ohe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ag(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $o(this.firestore,null,n)}}function Lj(t,e,n){t=Eh(t,$o);const r=Eh(t.firestore,ug),i=tq(t.converter,e,n);return bD(r,[qG(fD(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_l.none())])}function Of(t){return bD(Eh(t.firestore,ug),[new m5(t._key,_l.none())])}function xR(t,...e){var n,r,i;t=ks(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||vR(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(vR(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,A;if(t instanceof $o)u=Eh(t.firestore,ug),A=KP(t._key.path),l={next:d=>{e[s]&&e[s](Mhe(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Eh(t,a0);u=Eh(d.firestore,ug),A=d._query;const f=new rq(u);l={next:h=>{e[s]&&e[s](new Fhe(u,f,d,h))},error:e[s+1],complete:e[s+2]},The(t._query)}return function(f,h,p,m){const v=new phe(m),g=new Xfe(h,v,p);return f.asyncQueue.enqueueAndForget(async()=>Wfe(await dR(f),g)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>Gfe(await dR(f),g))}}(cD(u),A,o,l)}function bD(t,e){return function(r,i){const a=new Sh;return r.asyncQueue.enqueueAndForget(async()=>ohe(await vhe(r),i,a)),a.promise}(cD(t),e)}function Mhe(t,e,n){const r=n.docs.get(e._key),i=new rq(t);return new nq(t,i,e._key,r,new gv(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rhe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fD(e)}set(e,n,r){this._verifyNotCommitted();const i=iB(e,this._firestore),a=tq(i.converter,n,r),s=qG(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,_l.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=iB(e,this._firestore);let s;return s=typeof(n=ks(n))=="string"||n instanceof w5?Bhe(this._dataReader,"WriteBatch.update",a._key,n,r,i):_he(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,_l.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=iB(e,this._firestore);return this._mutations=this._mutations.concat(new m5(n._key,_l.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nn(xt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iB(t,e){if((t=ks(t)).firestore!==e)throw new nn(xt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function wR(){return new hD("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){return cD(t=Eh(t,ug)),new Rhe(t,e=>bD(t,e))}(function(e,n=!0){(function(i){n0=i})(c5),rg(new Rh("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new ug(new FAe(r.getProvider("auth-internal")),new UAe(r.getProvider("app-check-internal")),function(u,A){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new nn(xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qy(u.options.projectId,A)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Yd(DM,"4.7.3",e),Yd(DM,"4.7.3","esm2017")})();const Uhe={apiKey:"AIzaSyCq3MZURc1tNUbpK7BDzKZKQoh8C3twzmA",authDomain:"lactokeeper.firebaseapp.com",projectId:"lactokeeper",storageBucket:"https://www.google.com/search?q=lactokeeper.appspot.com",messagingSenderId:"437430613715",appId:"1:437430613715:web:b4e56c7a0698c719ae8626"},iq=hue(Uhe),dg=oAe(iq,{persistence:EAe}),bi=xhe(iq,{}),aq=P.createContext({currentUser:null,isLoading:!0}),sq=()=>P.useContext(aq),Qhe=({children:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(!0);P.useEffect(()=>wAe(dg,o=>{n(o),setTimeout(()=>i(!1),200)}),[]);const a=P.useMemo(()=>({currentUser:e,isLoading:r}),[e,r]);return c.jsx(aq.Provider,{value:a,children:t})};var oq={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tm,function(){var n=function(C,T){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,V){U.__proto__=V}||function(U,V){for(var G in V)Object.prototype.hasOwnProperty.call(V,G)&&(U[G]=V[G])})(C,T)},r=function(){return(r=Object.assign||function(C){for(var T,U=1,V=arguments.length;U<V;U++)for(var G in T=arguments[U])Object.prototype.hasOwnProperty.call(T,G)&&(C[G]=T[G]);return C}).apply(this,arguments)};function i(C,T,U){for(var V,G=0,re=T.length;G<re;G++)!V&&G in T||((V=V||Array.prototype.slice.call(T,0,G))[G]=T[G]);return C.concat(V||Array.prototype.slice.call(T))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:tm,s=Object.keys,o=Array.isArray;function l(C,T){return typeof T!="object"||s(T).forEach(function(U){C[U]=T[U]}),C}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var u=Object.getPrototypeOf,A={}.hasOwnProperty;function d(C,T){return A.call(C,T)}function f(C,T){typeof T=="function"&&(T=T(u(C))),(typeof Reflect>"u"?s:Reflect.ownKeys)(T).forEach(function(U){p(C,U,T[U])})}var h=Object.defineProperty;function p(C,T,U,V){h(C,T,l(U&&d(U,"get")&&typeof U.get=="function"?{get:U.get,set:U.set,configurable:!0}:{value:U,configurable:!0,writable:!0},V))}function m(C){return{from:function(T){return C.prototype=Object.create(T.prototype),p(C.prototype,"constructor",C),{extend:f.bind(null,C.prototype)}}}}var v=Object.getOwnPropertyDescriptor,g=[].slice;function y(C,T,U){return g.call(C,T,U)}function x(C,T){return T(C)}function S(C){if(!C)throw new Error("Assertion Failed")}function E(C){a.setImmediate?setImmediate(C):setTimeout(C,0)}function N(C,T){if(typeof T=="string"&&d(C,T))return C[T];if(!T)return C;if(typeof T!="string"){for(var U=[],V=0,G=T.length;V<G;++V){var re=N(C,T[V]);U.push(re)}return U}var pe=T.indexOf(".");if(pe!==-1){var Ce=C[T.substr(0,pe)];return Ce==null?void 0:N(Ce,T.substr(pe+1))}}function _(C,T,U){if(C&&T!==void 0&&!("isFrozen"in Object&&Object.isFrozen(C)))if(typeof T!="string"&&"length"in T){S(typeof U!="string"&&"length"in U);for(var V=0,G=T.length;V<G;++V)_(C,T[V],U[V])}else{var re,pe,Ce=T.indexOf(".");Ce!==-1?(re=T.substr(0,Ce),(pe=T.substr(Ce+1))===""?U===void 0?o(C)&&!isNaN(parseInt(re))?C.splice(re,1):delete C[re]:C[re]=U:_(Ce=!(Ce=C[re])||!d(C,re)?C[re]={}:Ce,pe,U)):U===void 0?o(C)&&!isNaN(parseInt(T))?C.splice(T,1):delete C[T]:C[T]=U}}function B(C){var T,U={};for(T in C)d(C,T)&&(U[T]=C[T]);return U}var j=[].concat;function D(C){return j.apply([],C)}var Ut="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(C){return["Int","Uint","Float"].map(function(T){return T+C+"Array"})}))).filter(function(C){return a[C]}),k=new Set(Ut.map(function(C){return a[C]})),O=null;function L(C){return O=new WeakMap,C=function T(U){if(!U||typeof U!="object")return U;var V=O.get(U);if(V)return V;if(o(U)){V=[],O.set(U,V);for(var G=0,re=U.length;G<re;++G)V.push(T(U[G]))}else if(k.has(U.constructor))V=U;else{var pe,Ce=u(U);for(pe in V=Ce===Object.prototype?{}:Object.create(Ce),O.set(U,V),U)d(U,pe)&&(V[pe]=T(U[pe]))}return V}(C),O=null,C}var H={}.toString;function q(C){return H.call(C).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ee=typeof Y=="symbol"?function(C){var T;return C!=null&&(T=C[Y])&&T.apply(C)}:function(){return null};function K(C,T){return T=C.indexOf(T),0<=T&&C.splice(T,1),0<=T}var te={};function le(C){var T,U,V,G;if(arguments.length===1){if(o(C))return C.slice();if(this===te&&typeof C=="string")return[C];if(G=ee(C)){for(U=[];!(V=G.next()).done;)U.push(V.value);return U}if(C==null)return[C];if(typeof(T=C.length)!="number")return[C];for(U=new Array(T);T--;)U[T]=C[T];return U}for(T=arguments.length,U=new Array(T);T--;)U[T]=arguments[T];return U}var se=typeof Symbol<"u"?function(C){return C[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Zt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],oa=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Zt),M={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(C,T){this.name=C,this.message=T}function J(C,T){return C+". Errors: "+Object.keys(T).map(function(U){return T[U].toString()}).filter(function(U,V,G){return G.indexOf(U)===V}).join(`
`)}function ne(C,T,U,V){this.failures=T,this.failedKeys=V,this.successCount=U,this.message=J(C,T)}function he(C,T){this.name="BulkError",this.failures=Object.keys(T).map(function(U){return T[U]}),this.failuresByPos=T,this.message=J(C,this.failures)}m($).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(ne).from($),m(he).from($);var we=oa.reduce(function(C,T){return C[T]=T+"Error",C},{}),Se=$,Ae=oa.reduce(function(C,T){var U=T+"Error";function V(G,re){this.name=U,G?typeof G=="string"?(this.message="".concat(G).concat(re?`
 `+re:""),this.inner=re||null):typeof G=="object"&&(this.message="".concat(G.name," ").concat(G.message),this.inner=G):(this.message=M[T]||U,this.inner=null)}return m(V).from(Se),C[T]=V,C},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var ge=Zt.reduce(function(C,T){return C[T+"Error"]=Ae[T],C},{}),xe=oa.reduce(function(C,T){return["Syntax","Type","Range"].indexOf(T)===-1&&(C[T+"Error"]=Ae[T]),C},{});function ae(){}function Ve(C){return C}function Oe(C,T){return C==null||C===Ve?T:function(U){return T(C(U))}}function fe(C,T){return function(){C.apply(this,arguments),T.apply(this,arguments)}}function $e(C,T){return C===ae?T:function(){var U=C.apply(this,arguments);U!==void 0&&(arguments[0]=U);var V=this.onsuccess,G=this.onerror;this.onsuccess=null,this.onerror=null;var re=T.apply(this,arguments);return V&&(this.onsuccess=this.onsuccess?fe(V,this.onsuccess):V),G&&(this.onerror=this.onerror?fe(G,this.onerror):G),re!==void 0?re:U}}function ft(C,T){return C===ae?T:function(){C.apply(this,arguments);var U=this.onsuccess,V=this.onerror;this.onsuccess=this.onerror=null,T.apply(this,arguments),U&&(this.onsuccess=this.onsuccess?fe(U,this.onsuccess):U),V&&(this.onerror=this.onerror?fe(V,this.onerror):V)}}function vt(C,T){return C===ae?T:function(U){var V=C.apply(this,arguments);l(U,V);var G=this.onsuccess,re=this.onerror;return this.onsuccess=null,this.onerror=null,U=T.apply(this,arguments),G&&(this.onsuccess=this.onsuccess?fe(G,this.onsuccess):G),re&&(this.onerror=this.onerror?fe(re,this.onerror):re),V===void 0?U===void 0?void 0:U:l(V,U)}}function Ye(C,T){return C===ae?T:function(){return T.apply(this,arguments)!==!1&&C.apply(this,arguments)}}function Dt(C,T){return C===ae?T:function(){var U=C.apply(this,arguments);if(U&&typeof U.then=="function"){for(var V=this,G=arguments.length,re=new Array(G);G--;)re[G]=arguments[G];return U.then(function(){return T.apply(V,re)})}return T.apply(this,arguments)}}xe.ModifyError=ne,xe.DexieError=$,xe.BulkError=he;var pt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ct(C){pt=C}var jt={},Xt=100,Ut=typeof Promise>"u"?[]:function(){var C=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[C,u(C),C];var T=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[T,u(T),C]}(),Zt=Ut[0],oa=Ut[1],Ut=Ut[2],oa=oa&&oa.then,rn=Zt&&Zt.constructor,st=!!Ut,bt=function(C,T){Vt.push([C,T]),tt&&(queueMicrotask(Pa),tt=!1)},yt=!0,tt=!0,Qt=[],dt=[],mt=Ve,Ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ae,pgp:!1,env:{},finalize:ae},St=Ft,Vt=[],hn=0,cn=[];function wt(C){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var T=this._PSD=St;if(typeof C!="function"){if(C!==jt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Kt(this,this._value))}this._state=null,this._value=null,++T.ref,function U(V,G){try{G(function(re){if(V._state===null){if(re===V)throw new TypeError("A promise cannot be resolved with itself.");var pe=V._lib&&Fe();re&&typeof re.then=="function"?U(V,function(Ce,Ne){re instanceof wt?re._then(Ce,Ne):re.then(Ce,Ne)}):(V._state=!0,V._value=re,En(V)),pe&&Pe()}},Kt.bind(null,V))}catch(re){Kt(V,re)}}(this,C)}var Zn={get:function(){var C=St,T=pn;function U(V,G){var re=this,pe=!C.global&&(C!==St||T!==pn),Ce=pe&&!Er(),Ne=new wt(function(Te,Le){zi(re,new gn(Xo(V,C,pe,Ce),Xo(G,C,pe,Ce),Te,Le,C))});return this._consoleTask&&(Ne._consoleTask=this._consoleTask),Ne}return U.prototype=jt,U},set:function(C){p(this,"then",C&&C.prototype===jt?Zn:{get:function(){return C},set:Zn.set})}};function gn(C,T,U,V,G){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof T=="function"?T:null,this.resolve=U,this.reject=V,this.psd=G}function Kt(C,T){var U,V;dt.push(T),C._state===null&&(U=C._lib&&Fe(),T=mt(T),C._state=!1,C._value=T,V=C,Qt.some(function(G){return G._value===V._value})||Qt.push(V),En(C),U&&Pe())}function En(C){var T=C._listeners;C._listeners=[];for(var U=0,V=T.length;U<V;++U)zi(C,T[U]);var G=C._PSD;--G.ref||G.finalize(),hn===0&&(++hn,bt(function(){--hn==0&&We()},[]))}function zi(C,T){if(C._state!==null){var U=C._state?T.onFulfilled:T.onRejected;if(U===null)return(C._state?T.resolve:T.reject)(C._value);++T.psd.ref,++hn,bt(jr,[U,C,T])}else C._listeners.push(T)}function jr(C,T,U){try{var V,G=T._value;!T._state&&dt.length&&(dt=[]),V=pt&&T._consoleTask?T._consoleTask.run(function(){return C(G)}):C(G),T._state||dt.indexOf(G)!==-1||function(re){for(var pe=Qt.length;pe;)if(Qt[--pe]._value===re._value)return Qt.splice(pe,1)}(T),U.resolve(V)}catch(re){U.reject(re)}finally{--hn==0&&We(),--U.psd.ref||U.psd.finalize()}}function Pa(){Oi(Ft,function(){Fe()&&Pe()})}function Fe(){var C=yt;return tt=yt=!1,C}function Pe(){var C,T,U;do for(;0<Vt.length;)for(C=Vt,Vt=[],U=C.length,T=0;T<U;++T){var V=C[T];V[0].apply(null,V[1])}while(0<Vt.length);tt=yt=!0}function We(){var C=Qt;Qt=[],C.forEach(function(V){V._PSD.onunhandled.call(null,V._value,V)});for(var T=cn.slice(0),U=T.length;U;)T[--U]()}function Et(C){return new wt(jt,!1,C)}function ut(C,T){var U=St;return function(){var V=Fe(),G=St;try{return Jr(U,!0),C.apply(this,arguments)}catch(re){T&&T(re)}finally{Jr(G,!1),V&&Pe()}}}f(wt.prototype,{then:Zn,_then:function(C,T){zi(this,new gn(null,null,C,T,St))},catch:function(C){if(arguments.length===1)return this.then(null,C);var T=C,U=arguments[1];return typeof T=="function"?this.then(null,function(V){return(V instanceof T?U:Et)(V)}):this.then(null,function(V){return(V&&V.name===T?U:Et)(V)})},finally:function(C){return this.then(function(T){return wt.resolve(C()).then(function(){return T})},function(T){return wt.resolve(C()).then(function(){return Et(T)})})},timeout:function(C,T){var U=this;return C<1/0?new wt(function(V,G){var re=setTimeout(function(){return G(new Ae.Timeout(T))},C);U.then(V,G).finally(clearTimeout.bind(null,re))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(wt.prototype,Symbol.toStringTag,"Dexie.Promise"),Ft.env=ba(),f(wt,{all:function(){var C=le.apply(null,arguments).map(qn);return new wt(function(T,U){C.length===0&&T([]);var V=C.length;C.forEach(function(G,re){return wt.resolve(G).then(function(pe){C[re]=pe,--V||T(C)},U)})})},resolve:function(C){return C instanceof wt?C:C&&typeof C.then=="function"?new wt(function(T,U){C.then(T,U)}):new wt(jt,!0,C)},reject:Et,race:function(){var C=le.apply(null,arguments).map(qn);return new wt(function(T,U){C.map(function(V){return wt.resolve(V).then(T,U)})})},PSD:{get:function(){return St},set:function(C){return St=C}},totalEchoes:{get:function(){return pn}},newPSD:gr,usePSD:Oi,scheduler:{get:function(){return bt},set:function(C){bt=C}},rejectionMapper:{get:function(){return mt},set:function(C){mt=C}},follow:function(C,T){return new wt(function(U,V){return gr(function(G,re){var pe=St;pe.unhandleds=[],pe.onunhandled=re,pe.finalize=fe(function(){var Ce,Ne=this;Ce=function(){Ne.unhandleds.length===0?G():re(Ne.unhandleds[0])},cn.push(function Te(){Ce(),cn.splice(cn.indexOf(Te),1)}),++hn,bt(function(){--hn==0&&We()},[])},pe.finalize),C()},T,U,V)})}}),rn&&(rn.allSettled&&p(wt,"allSettled",function(){var C=le.apply(null,arguments).map(qn);return new wt(function(T){C.length===0&&T([]);var U=C.length,V=new Array(U);C.forEach(function(G,re){return wt.resolve(G).then(function(pe){return V[re]={status:"fulfilled",value:pe}},function(pe){return V[re]={status:"rejected",reason:pe}}).then(function(){return--U||T(V)})})})}),rn.any&&typeof AggregateError<"u"&&p(wt,"any",function(){var C=le.apply(null,arguments).map(qn);return new wt(function(T,U){C.length===0&&U(new AggregateError([]));var V=C.length,G=new Array(V);C.forEach(function(re,pe){return wt.resolve(re).then(function(Ce){return T(Ce)},function(Ce){G[pe]=Ce,--V||U(new AggregateError(G))})})})}),rn.withResolvers&&(wt.withResolvers=rn.withResolvers));var qt={awaits:0,echoes:0,id:0},bn=0,Gn=[],Rt=0,pn=0,Xr=0;function gr(C,T,U,V){var G=St,re=Object.create(G);return re.parent=G,re.ref=0,re.global=!1,re.id=++Xr,Ft.env,re.env=st?{Promise:wt,PromiseProp:{value:wt,configurable:!0,writable:!0},all:wt.all,race:wt.race,allSettled:wt.allSettled,any:wt.any,resolve:wt.resolve,reject:wt.reject}:{},T&&l(re,T),++G.ref,re.finalize=function(){--this.parent.ref||this.parent.finalize()},V=Oi(re,C,U,V),re.ref===0&&re.finalize(),V}function Or(){return qt.id||(qt.id=++bn),++qt.awaits,qt.echoes+=Xt,qt.id}function Er(){return!!qt.awaits&&(--qt.awaits==0&&(qt.id=0),qt.echoes=qt.awaits*Xt,!0)}function qn(C){return qt.echoes&&C&&C.constructor===rn?(Or(),C.then(function(T){return Er(),T},function(T){return Er(),Ir(T)})):C}function vr(){var C=Gn[Gn.length-1];Gn.pop(),Jr(C,!1)}function Jr(C,T){var U,V=St;(T?!qt.echoes||Rt++&&C===St:!Rt||--Rt&&C===St)||queueMicrotask(T?(function(G){++pn,qt.echoes&&--qt.echoes!=0||(qt.echoes=qt.awaits=qt.id=0),Gn.push(St),Jr(G,!0)}).bind(null,C):vr),C!==St&&(St=C,V===Ft&&(Ft.env=ba()),st&&(U=Ft.env.Promise,T=C.env,(V.global||C.global)&&(Object.defineProperty(a,"Promise",T.PromiseProp),U.all=T.all,U.race=T.race,U.resolve=T.resolve,U.reject=T.reject,T.allSettled&&(U.allSettled=T.allSettled),T.any&&(U.any=T.any))))}function ba(){var C=a.Promise;return st?{Promise:C,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:C.all,race:C.race,allSettled:C.allSettled,any:C.any,resolve:C.resolve,reject:C.reject}:{}}function Oi(C,T,U,V,G){var re=St;try{return Jr(C,!0),T(U,V,G)}finally{Jr(re,!1)}}function Xo(C,T,U,V){return typeof C!="function"?C:function(){var G=St;U&&Or(),Jr(T,!0);try{return C.apply(this,arguments)}finally{Jr(G,!1),V&&queueMicrotask(Er)}}}function Jo(C){Promise===rn&&qt.echoes===0?Rt===0?C():enqueueNativeMicroTask(C):setTimeout(C,0)}(""+oa).indexOf("[native code]")===-1&&(Or=Er=ae);var Ir=wt.reject,Zo="",xa="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",du="String expected.",oo=[],Fi="__dbnames",fs="readonly",Hl="readwrite";function lo(C,T){return C?T?function(){return C.apply(this,arguments)&&T.apply(this,arguments)}:C:T}var fu={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function zl(C){return typeof C!="string"||/\./.test(C)?function(T){return T}:function(T){return T[C]===void 0&&C in T&&delete(T=L(T))[C],T}}function hu(){throw Ae.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Pn(C,T){try{var U=pu(C),V=pu(T);if(U!==V)return U==="Array"?1:V==="Array"?-1:U==="binary"?1:V==="binary"?-1:U==="string"?1:V==="string"?-1:U==="Date"?1:V!=="Date"?NaN:-1;switch(U){case"number":case"Date":case"string":return T<C?1:C<T?-1:0;case"binary":return function(G,re){for(var pe=G.length,Ce=re.length,Ne=pe<Ce?pe:Ce,Te=0;Te<Ne;++Te)if(G[Te]!==re[Te])return G[Te]<re[Te]?-1:1;return pe===Ce?0:pe<Ce?-1:1}(ii(C),ii(T));case"Array":return function(G,re){for(var pe=G.length,Ce=re.length,Ne=pe<Ce?pe:Ce,Te=0;Te<Ne;++Te){var Le=Pn(G[Te],re[Te]);if(Le!==0)return Le}return pe===Ce?0:pe<Ce?-1:1}(C,T)}}catch{}return NaN}function pu(C){var T=typeof C;return T!="object"?T:ArrayBuffer.isView(C)?"binary":(C=q(C),C==="ArrayBuffer"?"binary":C)}function ii(C){return C instanceof Uint8Array?C:ArrayBuffer.isView(C)?new Uint8Array(C.buffer,C.byteOffset,C.byteLength):new Uint8Array(C)}function Vl(C,T,U){var V=C.schema.yProps;return V?(T&&0<U.numFailures&&(T=T.filter(function(G,re){return!U.failures[re]})),Promise.all(V.map(function(G){return G=G.updatesTable,T?C.db.table(G).where("k").anyOf(T).delete():C.db.table(G).clear()})).then(function(){return U})):U}var Ju=(er.prototype._trans=function(C,T,U){var V=this._tx||St.trans,G=this.name,re=pt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(C==="readonly"?"read":"write"," ").concat(this.name));function pe(Te,Le,Ee){if(!Ee.schema[G])throw new Ae.NotFound("Table "+G+" not part of transaction");return T(Ee.idbtrans,Ee)}var Ce=Fe();try{var Ne=V&&V.db._novip===this.db._novip?V===St.trans?V._promise(C,pe,U):gr(function(){return V._promise(C,pe,U)},{trans:V,transless:St.transless||St}):function Te(Le,Ee,Ie,_e){if(Le.idbdb&&(Le._state.openComplete||St.letThrough||Le._vip)){var je=Le._createTransaction(Ee,Ie,Le._dbSchema);try{je.create(),Le._state.PR1398_maxLoop=3}catch(De){return De.name===we.InvalidState&&Le.isOpen()&&0<--Le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Le.close({disableAutoOpen:!1}),Le.open().then(function(){return Te(Le,Ee,Ie,_e)})):Ir(De)}return je._promise(Ee,function(De,Re){return gr(function(){return St.trans=je,_e(De,Re,je)})}).then(function(De){if(Ee==="readwrite")try{je.idbtrans.commit()}catch{}return Ee==="readonly"?De:je._completion.then(function(){return De})})}if(Le._state.openComplete)return Ir(new Ae.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return Ir(new Ae.DatabaseClosed);Le.open().catch(ae)}return Le._state.dbReadyPromise.then(function(){return Te(Le,Ee,Ie,_e)})}(this.db,C,[this.name],pe);return re&&(Ne._consoleTask=re,Ne=Ne.catch(function(Te){return console.trace(Te),Ir(Te)})),Ne}finally{Ce&&Pe()}},er.prototype.get=function(C,T){var U=this;return C&&C.constructor===Object?this.where(C).first(T):C==null?Ir(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(V){return U.core.get({trans:V,key:C}).then(function(G){return U.hook.reading.fire(G)})}).then(T)},er.prototype.where=function(C){if(typeof C=="string")return new this.db.WhereClause(this,C);if(o(C))return new this.db.WhereClause(this,"[".concat(C.join("+"),"]"));var T=s(C);if(T.length===1)return this.where(T[0]).equals(C[T[0]]);var U=this.schema.indexes.concat(this.schema.primKey).filter(function(Ce){if(Ce.compound&&T.every(function(Te){return 0<=Ce.keyPath.indexOf(Te)})){for(var Ne=0;Ne<T.length;++Ne)if(T.indexOf(Ce.keyPath[Ne])===-1)return!1;return!0}return!1}).sort(function(Ce,Ne){return Ce.keyPath.length-Ne.keyPath.length})[0];if(U&&this.db._maxKey!==Zo){var re=U.keyPath.slice(0,T.length);return this.where(re).equals(re.map(function(Ne){return C[Ne]}))}!U&&pt&&console.warn("The query ".concat(JSON.stringify(C)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(T.join("+"),"]"));var V=this.schema.idxByName;function G(Ce,Ne){return Pn(Ce,Ne)===0}var pe=T.reduce(function(Ee,Ne){var Te=Ee[0],Le=Ee[1],Ee=V[Ne],Ie=C[Ne];return[Te||Ee,Te||!Ee?lo(Le,Ee&&Ee.multi?function(_e){return _e=N(_e,Ne),o(_e)&&_e.some(function(je){return G(Ie,je)})}:function(_e){return G(Ie,N(_e,Ne))}):Le]},[null,null]),re=pe[0],pe=pe[1];return re?this.where(re.name).equals(C[re.keyPath]).filter(pe):U?this.filter(pe):this.where(T).equals("")},er.prototype.filter=function(C){return this.toCollection().and(C)},er.prototype.count=function(C){return this.toCollection().count(C)},er.prototype.offset=function(C){return this.toCollection().offset(C)},er.prototype.limit=function(C){return this.toCollection().limit(C)},er.prototype.each=function(C){return this.toCollection().each(C)},er.prototype.toArray=function(C){return this.toCollection().toArray(C)},er.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},er.prototype.orderBy=function(C){return new this.db.Collection(new this.db.WhereClause(this,o(C)?"[".concat(C.join("+"),"]"):C))},er.prototype.reverse=function(){return this.toCollection().reverse()},er.prototype.mapToClass=function(C){var T,U=this.db,V=this.name;function G(){return T!==null&&T.apply(this,arguments)||this}(this.schema.mappedClass=C).prototype instanceof hu&&(function(Ne,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Class extends value "+String(Te)+" is not a constructor or null");function Le(){this.constructor=Ne}n(Ne,Te),Ne.prototype=Te===null?Object.create(Te):(Le.prototype=Te.prototype,new Le)}(G,T=C),Object.defineProperty(G.prototype,"db",{get:function(){return U},enumerable:!1,configurable:!0}),G.prototype.table=function(){return V},C=G);for(var re=new Set,pe=C.prototype;pe;pe=u(pe))Object.getOwnPropertyNames(pe).forEach(function(Ne){return re.add(Ne)});function Ce(Ne){if(!Ne)return Ne;var Te,Le=Object.create(C.prototype);for(Te in Ne)if(!re.has(Te))try{Le[Te]=Ne[Te]}catch{}return Le}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ce,this.hook("reading",Ce),C},er.prototype.defineClass=function(){return this.mapToClass(function(C){l(this,C)})},er.prototype.add=function(C,T){var U=this,V=this.schema.primKey,G=V.auto,re=V.keyPath,pe=C;return re&&G&&(pe=zl(re)(C)),this._trans("readwrite",function(Ce){return U.core.mutate({trans:Ce,type:"add",keys:T!=null?[T]:null,values:[pe]})}).then(function(Ce){return Ce.numFailures?wt.reject(Ce.failures[0]):Ce.lastResult}).then(function(Ce){if(re)try{_(C,re,Ce)}catch{}return Ce})},er.prototype.update=function(C,T){return typeof C!="object"||o(C)?this.where(":id").equals(C).modify(T):(C=N(C,this.schema.primKey.keyPath),C===void 0?Ir(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(C).modify(T))},er.prototype.put=function(C,T){var U=this,V=this.schema.primKey,G=V.auto,re=V.keyPath,pe=C;return re&&G&&(pe=zl(re)(C)),this._trans("readwrite",function(Ce){return U.core.mutate({trans:Ce,type:"put",values:[pe],keys:T!=null?[T]:null})}).then(function(Ce){return Ce.numFailures?wt.reject(Ce.failures[0]):Ce.lastResult}).then(function(Ce){if(re)try{_(C,re,Ce)}catch{}return Ce})},er.prototype.delete=function(C){var T=this;return this._trans("readwrite",function(U){return T.core.mutate({trans:U,type:"delete",keys:[C]}).then(function(V){return Vl(T,[C],V)}).then(function(V){return V.numFailures?wt.reject(V.failures[0]):void 0})})},er.prototype.clear=function(){var C=this;return this._trans("readwrite",function(T){return C.core.mutate({trans:T,type:"deleteRange",range:fu}).then(function(U){return Vl(C,null,U)})}).then(function(T){return T.numFailures?wt.reject(T.failures[0]):void 0})},er.prototype.bulkGet=function(C){var T=this;return this._trans("readonly",function(U){return T.core.getMany({keys:C,trans:U}).then(function(V){return V.map(function(G){return T.hook.reading.fire(G)})})})},er.prototype.bulkAdd=function(C,T,U){var V=this,G=Array.isArray(T)?T:void 0,re=(U=U||(G?void 0:T))?U.allKeys:void 0;return this._trans("readwrite",function(pe){var Te=V.schema.primKey,Ce=Te.auto,Te=Te.keyPath;if(Te&&G)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(G&&G.length!==C.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var Ne=C.length,Te=Te&&Ce?C.map(zl(Te)):C;return V.core.mutate({trans:pe,type:"add",keys:G,values:Te,wantResults:re}).then(function(je){var Ee=je.numFailures,Ie=je.results,_e=je.lastResult,je=je.failures;if(Ee===0)return re?Ie:_e;throw new he("".concat(V.name,".bulkAdd(): ").concat(Ee," of ").concat(Ne," operations failed"),je)})})},er.prototype.bulkPut=function(C,T,U){var V=this,G=Array.isArray(T)?T:void 0,re=(U=U||(G?void 0:T))?U.allKeys:void 0;return this._trans("readwrite",function(pe){var Te=V.schema.primKey,Ce=Te.auto,Te=Te.keyPath;if(Te&&G)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(G&&G.length!==C.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var Ne=C.length,Te=Te&&Ce?C.map(zl(Te)):C;return V.core.mutate({trans:pe,type:"put",keys:G,values:Te,wantResults:re}).then(function(je){var Ee=je.numFailures,Ie=je.results,_e=je.lastResult,je=je.failures;if(Ee===0)return re?Ie:_e;throw new he("".concat(V.name,".bulkPut(): ").concat(Ee," of ").concat(Ne," operations failed"),je)})})},er.prototype.bulkUpdate=function(C){var T=this,U=this.core,V=C.map(function(pe){return pe.key}),G=C.map(function(pe){return pe.changes}),re=[];return this._trans("readwrite",function(pe){return U.getMany({trans:pe,keys:V,cache:"clone"}).then(function(Ce){var Ne=[],Te=[];C.forEach(function(Ee,Ie){var _e=Ee.key,je=Ee.changes,De=Ce[Ie];if(De){for(var Re=0,He=Object.keys(je);Re<He.length;Re++){var Xe=He[Re],et=je[Xe];if(Xe===T.schema.primKey.keyPath){if(Pn(et,_e)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else _(De,Xe,et)}re.push(Ie),Ne.push(_e),Te.push(De)}});var Le=Ne.length;return U.mutate({trans:pe,type:"put",keys:Ne,values:Te,updates:{keys:V,changeSpecs:G}}).then(function(Ee){var Ie=Ee.numFailures,_e=Ee.failures;if(Ie===0)return Le;for(var je=0,De=Object.keys(_e);je<De.length;je++){var Re,He=De[je],Xe=re[Number(He)];Xe!=null&&(Re=_e[He],delete _e[He],_e[Xe]=Re)}throw new he("".concat(T.name,".bulkUpdate(): ").concat(Ie," of ").concat(Le," operations failed"),_e)})})})},er.prototype.bulkDelete=function(C){var T=this,U=C.length;return this._trans("readwrite",function(V){return T.core.mutate({trans:V,type:"delete",keys:C}).then(function(G){return Vl(T,C,G)})}).then(function(pe){var G=pe.numFailures,re=pe.lastResult,pe=pe.failures;if(G===0)return re;throw new he("".concat(T.name,".bulkDelete(): ").concat(G," of ").concat(U," operations failed"),pe)})},er);function er(){}function Ds(C){function T(pe,Ce){if(Ce){for(var Ne=arguments.length,Te=new Array(Ne-1);--Ne;)Te[Ne-1]=arguments[Ne];return U[pe].subscribe.apply(null,Te),C}if(typeof pe=="string")return U[pe]}var U={};T.addEventType=re;for(var V=1,G=arguments.length;V<G;++V)re(arguments[V]);return T;function re(pe,Ce,Ne){if(typeof pe!="object"){var Te;Ce=Ce||Ye;var Le={subscribers:[],fire:Ne=Ne||ae,subscribe:function(Ee){Le.subscribers.indexOf(Ee)===-1&&(Le.subscribers.push(Ee),Le.fire=Ce(Le.fire,Ee))},unsubscribe:function(Ee){Le.subscribers=Le.subscribers.filter(function(Ie){return Ie!==Ee}),Le.fire=Le.subscribers.reduce(Ce,Ne)}};return U[pe]=T[pe]=Le}s(Te=pe).forEach(function(Ee){var Ie=Te[Ee];if(o(Ie))re(Ee,Te[Ee][0],Te[Ee][1]);else{if(Ie!=="asap")throw new Ae.InvalidArgument("Invalid event config");var _e=re(Ee,Ve,function(){for(var je=arguments.length,De=new Array(je);je--;)De[je]=arguments[je];_e.subscribers.forEach(function(Re){E(function(){Re.apply(null,De)})})})}})}}function wa(C,T){return m(T).from({prototype:C}),T}function Os(C,T){return!(C.filter||C.algorithm||C.or)&&(T?C.justLimit:!C.replayFilter)}function yr(C,T){C.filter=lo(C.filter,T)}function Da(C,T,U){var V=C.replayFilter;C.replayFilter=V?function(){return lo(V(),T())}:T,C.justLimit=U&&!V}function el(C,T){if(C.isPrimKey)return T.primaryKey;var U=T.getIndexByKeyPath(C.index);if(!U)throw new Ae.Schema("KeyPath "+C.index+" on object store "+T.name+" is not indexed");return U}function Cc(C,T,U){var V=el(C,T.schema);return T.openCursor({trans:U,values:!C.keysOnly,reverse:C.dir==="prev",unique:!!C.unique,query:{index:V,range:C.range}})}function Sc(C,T,U,V){var G=C.replayFilter?lo(C.filter,C.replayFilter()):C.filter;if(C.or){var re={},pe=function(Ce,Ne,Te){var Le,Ee;G&&!G(Ne,Te,function(Ie){return Ne.stop(Ie)},function(Ie){return Ne.fail(Ie)})||((Ee=""+(Le=Ne.primaryKey))=="[object ArrayBuffer]"&&(Ee=""+new Uint8Array(Le)),d(re,Ee)||(re[Ee]=!0,T(Ce,Ne,Te)))};return Promise.all([C.or._iterate(pe,U),Yn(Cc(C,V,U),C.algorithm,pe,!C.keysOnly&&C.valueMapper)])}return Yn(Cc(C,V,U),lo(C.algorithm,G),T,!C.keysOnly&&C.valueMapper)}function Yn(C,T,U,V){var G=ut(V?function(re,pe,Ce){return U(V(re),pe,Ce)}:U);return C.then(function(re){if(re)return re.start(function(){var pe=function(){return re.continue()};T&&!T(re,function(Ce){return pe=Ce},function(Ce){re.stop(Ce),pe=ae},function(Ce){re.fail(Ce),pe=ae})||G(re.value,re,function(Ce){return pe=Ce}),pe()})})}var co=(tl.prototype.execute=function(C){var T=this["@@propmod"];if(T.add!==void 0){var U=T.add;if(o(U))return i(i([],o(C)?C:[],!0),U).sort();if(typeof U=="number")return(Number(C)||0)+U;if(typeof U=="bigint")try{return BigInt(C)+U}catch{return BigInt(0)+U}throw new TypeError("Invalid term ".concat(U))}if(T.remove!==void 0){var V=T.remove;if(o(V))return o(C)?C.filter(function(G){return!V.includes(G)}).sort():[];if(typeof V=="number")return Number(C)-V;if(typeof V=="bigint")try{return BigInt(C)-V}catch{return BigInt(0)-V}throw new TypeError("Invalid subtrahend ".concat(V))}return U=(U=T.replacePrefix)===null||U===void 0?void 0:U[0],U&&typeof C=="string"&&C.startsWith(U)?T.replacePrefix[1]+C.substring(U.length):C},tl);function tl(C){this["@@propmod"]=C}var Fs=(Wn.prototype._read=function(C,T){var U=this._ctx;return U.error?U.table._trans(null,Ir.bind(null,U.error)):U.table._trans("readonly",C).then(T)},Wn.prototype._write=function(C){var T=this._ctx;return T.error?T.table._trans(null,Ir.bind(null,T.error)):T.table._trans("readwrite",C,"locked")},Wn.prototype._addAlgorithm=function(C){var T=this._ctx;T.algorithm=lo(T.algorithm,C)},Wn.prototype._iterate=function(C,T){return Sc(this._ctx,C,T,this._ctx.table.core)},Wn.prototype.clone=function(C){var T=Object.create(this.constructor.prototype),U=Object.create(this._ctx);return C&&l(U,C),T._ctx=U,T},Wn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Wn.prototype.each=function(C){var T=this._ctx;return this._read(function(U){return Sc(T,C,U,T.table.core)})},Wn.prototype.count=function(C){var T=this;return this._read(function(U){var V=T._ctx,G=V.table.core;if(Os(V,!0))return G.count({trans:U,query:{index:el(V,G.schema),range:V.range}}).then(function(pe){return Math.min(pe,V.limit)});var re=0;return Sc(V,function(){return++re,!1},U,G).then(function(){return re})}).then(C)},Wn.prototype.sortBy=function(C,T){var U=C.split(".").reverse(),V=U[0],G=U.length-1;function re(Ne,Te){return Te?re(Ne[U[Te]],Te-1):Ne[V]}var pe=this._ctx.dir==="next"?1:-1;function Ce(Ne,Te){return Pn(re(Ne,G),re(Te,G))*pe}return this.toArray(function(Ne){return Ne.sort(Ce)}).then(T)},Wn.prototype.toArray=function(C){var T=this;return this._read(function(U){var V=T._ctx;if(V.dir==="next"&&Os(V,!0)&&0<V.limit){var G=V.valueMapper,re=el(V,V.table.core.schema);return V.table.core.query({trans:U,limit:V.limit,values:!0,query:{index:re,range:V.range}}).then(function(Ce){return Ce=Ce.result,G?Ce.map(G):Ce})}var pe=[];return Sc(V,function(Ce){return pe.push(Ce)},U,V.table.core).then(function(){return pe})},C)},Wn.prototype.offset=function(C){var T=this._ctx;return C<=0||(T.offset+=C,Os(T)?Da(T,function(){var U=C;return function(V,G){return U===0||(U===1?--U:G(function(){V.advance(U),U=0}),!1)}}):Da(T,function(){var U=C;return function(){return--U<0}})),this},Wn.prototype.limit=function(C){return this._ctx.limit=Math.min(this._ctx.limit,C),Da(this._ctx,function(){var T=C;return function(U,V,G){return--T<=0&&V(G),0<=T}},!0),this},Wn.prototype.until=function(C,T){return yr(this._ctx,function(U,V,G){return!C(U.value)||(V(G),T)}),this},Wn.prototype.first=function(C){return this.limit(1).toArray(function(T){return T[0]}).then(C)},Wn.prototype.last=function(C){return this.reverse().first(C)},Wn.prototype.filter=function(C){var T;return yr(this._ctx,function(U){return C(U.value)}),(T=this._ctx).isMatch=lo(T.isMatch,C),this},Wn.prototype.and=function(C){return this.filter(C)},Wn.prototype.or=function(C){return new this.db.WhereClause(this._ctx.table,C,this)},Wn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Wn.prototype.desc=function(){return this.reverse()},Wn.prototype.eachKey=function(C){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(U,V){C(V.key,V)})},Wn.prototype.eachUniqueKey=function(C){return this._ctx.unique="unique",this.eachKey(C)},Wn.prototype.eachPrimaryKey=function(C){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(U,V){C(V.primaryKey,V)})},Wn.prototype.keys=function(C){var T=this._ctx;T.keysOnly=!T.isMatch;var U=[];return this.each(function(V,G){U.push(G.key)}).then(function(){return U}).then(C)},Wn.prototype.primaryKeys=function(C){var T=this._ctx;if(T.dir==="next"&&Os(T,!0)&&0<T.limit)return this._read(function(V){var G=el(T,T.table.core.schema);return T.table.core.query({trans:V,values:!1,limit:T.limit,query:{index:G,range:T.range}})}).then(function(V){return V.result}).then(C);T.keysOnly=!T.isMatch;var U=[];return this.each(function(V,G){U.push(G.primaryKey)}).then(function(){return U}).then(C)},Wn.prototype.uniqueKeys=function(C){return this._ctx.unique="unique",this.keys(C)},Wn.prototype.firstKey=function(C){return this.limit(1).keys(function(T){return T[0]}).then(C)},Wn.prototype.lastKey=function(C){return this.reverse().firstKey(C)},Wn.prototype.distinct=function(){var C=this._ctx,C=C.index&&C.table.schema.idxByName[C.index];if(!C||!C.multi)return this;var T={};return yr(this._ctx,function(G){var V=G.primaryKey.toString(),G=d(T,V);return T[V]=!0,!G}),this},Wn.prototype.modify=function(C){var T=this,U=this._ctx;return this._write(function(V){var G,re,pe;pe=typeof C=="function"?C:(G=s(C),re=G.length,function(He){for(var Xe=!1,et=0;et<re;++et){var nt=G[et],_t=C[nt],Lt=N(He,nt);_t instanceof co?(_(He,nt,_t.execute(Lt)),Xe=!0):Lt!==_t&&(_(He,nt,_t),Xe=!0)}return Xe});var Ce=U.table.core,Ee=Ce.schema.primaryKey,Ne=Ee.outbound,Te=Ee.extractKey,Le=200,Ee=T.db._options.modifyChunkSize;Ee&&(Le=typeof Ee=="object"?Ee[Ce.name]||Ee["*"]||200:Ee);function Ie(He,nt){var et=nt.failures,nt=nt.numFailures;je+=He-nt;for(var _t=0,Lt=s(et);_t<Lt.length;_t++){var It=Lt[_t];_e.push(et[It])}}var _e=[],je=0,De=[],Re=C===Zu;return T.clone().primaryKeys().then(function(He){function Xe(nt){var _t=Math.min(Le,He.length-nt),Lt=He.slice(nt,nt+_t);return(Re?Promise.resolve([]):Ce.getMany({trans:V,keys:Lt,cache:"immutable"})).then(function(It){var Ot=[],zt=[],Mt=Ne?[]:null,$t=Re?Lt:[];if(!Re)for(var Fn=0;Fn<_t;++Fn){var rr=It[Fn],Tn={value:L(rr),primKey:He[nt+Fn]};pe.call(Tn,Tn.value,Tn)!==!1&&(Tn.value==null?$t.push(He[nt+Fn]):Ne||Pn(Te(rr),Te(Tn.value))===0?(zt.push(Tn.value),Ne&&Mt.push(He[nt+Fn])):($t.push(He[nt+Fn]),Ot.push(Tn.value)))}return Promise.resolve(0<Ot.length&&Ce.mutate({trans:V,type:"add",values:Ot}).then(function(mi){for(var jn in mi.failures)$t.splice(parseInt(jn),1);Ie(Ot.length,mi)})).then(function(){return(0<zt.length||et&&typeof C=="object")&&Ce.mutate({trans:V,type:"put",keys:Mt,values:zt,criteria:et,changeSpec:typeof C!="function"&&C,isAdditionalChunk:0<nt}).then(function(mi){return Ie(zt.length,mi)})}).then(function(){return(0<$t.length||et&&Re)&&Ce.mutate({trans:V,type:"delete",keys:$t,criteria:et,isAdditionalChunk:0<nt}).then(function(mi){return Vl(U.table,$t,mi)}).then(function(mi){return Ie($t.length,mi)})}).then(function(){return He.length>nt+_t&&Xe(nt+Le)})})}var et=Os(U)&&U.limit===1/0&&(typeof C!="function"||Re)&&{index:U.index,range:U.range};return Xe(0).then(function(){if(0<_e.length)throw new ne("Error modifying one or more objects",_e,je,De);return He.length})})})},Wn.prototype.delete=function(){var C=this._ctx,T=C.range;return!Os(C)||C.table.schema.yProps||!C.isPrimKey&&T.type!==3?this.modify(Zu):this._write(function(U){var V=C.table.core.schema.primaryKey,G=T;return C.table.core.count({trans:U,query:{index:V,range:G}}).then(function(re){return C.table.core.mutate({trans:U,type:"deleteRange",range:G}).then(function(Ne){var Ce=Ne.failures,Ne=Ne.numFailures;if(Ne)throw new ne("Could not delete some values",Object.keys(Ce).map(function(Te){return Ce[Te]}),re-Ne);return re-Ne})})})},Wn);function Wn(){}var Zu=function(C,T){return T.value=null};function If(C,T){return C<T?-1:C===T?0:1}function Tf(C,T){return T<C?-1:C===T?0:1}function ra(C,T,U){return C=C instanceof Ec?new C.Collection(C):C,C._ctx.error=new(U||TypeError)(T),C}function Ls(C){return new C.Collection(C,function(){return nl("")}).limit(0)}function Oa(C,T,U,V){var G,re,pe,Ce,Ne,Te,Le,Ee=U.length;if(!U.every(function(je){return typeof je=="string"}))return ra(C,du);function Ie(je){G=je==="next"?function(Re){return Re.toUpperCase()}:function(Re){return Re.toLowerCase()},re=je==="next"?function(Re){return Re.toLowerCase()}:function(Re){return Re.toUpperCase()},pe=je==="next"?If:Tf;var De=U.map(function(Re){return{lower:re(Re),upper:G(Re)}}).sort(function(Re,He){return pe(Re.lower,He.lower)});Ce=De.map(function(Re){return Re.upper}),Ne=De.map(function(Re){return Re.lower}),Le=(Te=je)==="next"?"":V}Ie("next"),C=new C.Collection(C,function(){return ia(Ce[0],Ne[Ee-1]+V)}),C._ondirectionchange=function(je){Ie(je)};var _e=0;return C._addAlgorithm(function(je,De,Re){var He=je.key;if(typeof He!="string")return!1;var Xe=re(He);if(T(Xe,Ne,_e))return!0;for(var et=null,nt=_e;nt<Ee;++nt){var _t=function(Lt,It,Ot,zt,Mt,$t){for(var Fn=Math.min(Lt.length,zt.length),rr=-1,Tn=0;Tn<Fn;++Tn){var mi=It[Tn];if(mi!==zt[Tn])return Mt(Lt[Tn],Ot[Tn])<0?Lt.substr(0,Tn)+Ot[Tn]+Ot.substr(Tn+1):Mt(Lt[Tn],zt[Tn])<0?Lt.substr(0,Tn)+zt[Tn]+Ot.substr(Tn+1):0<=rr?Lt.substr(0,rr)+It[rr]+Ot.substr(rr+1):null;Mt(Lt[Tn],mi)<0&&(rr=Tn)}return Fn<zt.length&&$t==="next"?Lt+Ot.substr(Lt.length):Fn<Lt.length&&$t==="prev"?Lt.substr(0,Ot.length):rr<0?null:Lt.substr(0,rr)+zt[rr]+Ot.substr(rr+1)}(He,Xe,Ce[nt],Ne[nt],pe,Te);_t===null&&et===null?_e=nt+1:(et===null||0<pe(et,_t))&&(et=_t)}return De(et!==null?function(){je.continue(et+Le)}:Re),!1}),C}function ia(C,T,U,V){return{type:2,lower:C,upper:T,lowerOpen:U,upperOpen:V}}function nl(C){return{type:1,lower:C,upper:C}}var Ec=(Object.defineProperty(tn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),tn.prototype.between=function(C,T,U,V){U=U!==!1,V=V===!0;try{return 0<this._cmp(C,T)||this._cmp(C,T)===0&&(U||V)&&(!U||!V)?Ls(this):new this.Collection(this,function(){return ia(C,T,!U,!V)})}catch{return ra(this,xa)}},tn.prototype.equals=function(C){return C==null?ra(this,xa):new this.Collection(this,function(){return nl(C)})},tn.prototype.above=function(C){return C==null?ra(this,xa):new this.Collection(this,function(){return ia(C,void 0,!0)})},tn.prototype.aboveOrEqual=function(C){return C==null?ra(this,xa):new this.Collection(this,function(){return ia(C,void 0,!1)})},tn.prototype.below=function(C){return C==null?ra(this,xa):new this.Collection(this,function(){return ia(void 0,C,!1,!0)})},tn.prototype.belowOrEqual=function(C){return C==null?ra(this,xa):new this.Collection(this,function(){return ia(void 0,C)})},tn.prototype.startsWith=function(C){return typeof C!="string"?ra(this,du):this.between(C,C+Zo,!0,!0)},tn.prototype.startsWithIgnoreCase=function(C){return C===""?this.startsWith(C):Oa(this,function(T,U){return T.indexOf(U[0])===0},[C],Zo)},tn.prototype.equalsIgnoreCase=function(C){return Oa(this,function(T,U){return T===U[0]},[C],"")},tn.prototype.anyOfIgnoreCase=function(){var C=le.apply(te,arguments);return C.length===0?Ls(this):Oa(this,function(T,U){return U.indexOf(T)!==-1},C,"")},tn.prototype.startsWithAnyOfIgnoreCase=function(){var C=le.apply(te,arguments);return C.length===0?Ls(this):Oa(this,function(T,U){return U.some(function(V){return T.indexOf(V)===0})},C,Zo)},tn.prototype.anyOf=function(){var C=this,T=le.apply(te,arguments),U=this._cmp;try{T.sort(U)}catch{return ra(this,xa)}if(T.length===0)return Ls(this);var V=new this.Collection(this,function(){return ia(T[0],T[T.length-1])});V._ondirectionchange=function(re){U=re==="next"?C._ascending:C._descending,T.sort(U)};var G=0;return V._addAlgorithm(function(re,pe,Ce){for(var Ne=re.key;0<U(Ne,T[G]);)if(++G===T.length)return pe(Ce),!1;return U(Ne,T[G])===0||(pe(function(){re.continue(T[G])}),!1)}),V},tn.prototype.notEqual=function(C){return this.inAnyRange([[-1/0,C],[C,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},tn.prototype.noneOf=function(){var C=le.apply(te,arguments);if(C.length===0)return new this.Collection(this);try{C.sort(this._ascending)}catch{return ra(this,xa)}var T=C.reduce(function(U,V){return U?U.concat([[U[U.length-1][1],V]]):[[-1/0,V]]},null);return T.push([C[C.length-1],this.db._maxKey]),this.inAnyRange(T,{includeLowers:!1,includeUppers:!1})},tn.prototype.inAnyRange=function(He,T){var U=this,V=this._cmp,G=this._ascending,re=this._descending,pe=this._min,Ce=this._max;if(He.length===0)return Ls(this);if(!He.every(function(Xe){return Xe[0]!==void 0&&Xe[1]!==void 0&&G(Xe[0],Xe[1])<=0}))return ra(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var Ne=!T||T.includeLowers!==!1,Te=T&&T.includeUppers===!0,Le,Ee=G;function Ie(Xe,et){return Ee(Xe[0],et[0])}try{(Le=He.reduce(function(Xe,et){for(var nt=0,_t=Xe.length;nt<_t;++nt){var Lt=Xe[nt];if(V(et[0],Lt[1])<0&&0<V(et[1],Lt[0])){Lt[0]=pe(Lt[0],et[0]),Lt[1]=Ce(Lt[1],et[1]);break}}return nt===_t&&Xe.push(et),Xe},[])).sort(Ie)}catch{return ra(this,xa)}var _e=0,je=Te?function(Xe){return 0<G(Xe,Le[_e][1])}:function(Xe){return 0<=G(Xe,Le[_e][1])},De=Ne?function(Xe){return 0<re(Xe,Le[_e][0])}:function(Xe){return 0<=re(Xe,Le[_e][0])},Re=je,He=new this.Collection(this,function(){return ia(Le[0][0],Le[Le.length-1][1],!Ne,!Te)});return He._ondirectionchange=function(Xe){Ee=Xe==="next"?(Re=je,G):(Re=De,re),Le.sort(Ie)},He._addAlgorithm(function(Xe,et,nt){for(var _t,Lt=Xe.key;Re(Lt);)if(++_e===Le.length)return et(nt),!1;return!je(_t=Lt)&&!De(_t)||(U._cmp(Lt,Le[_e][1])===0||U._cmp(Lt,Le[_e][0])===0||et(function(){Ee===G?Xe.continue(Le[_e][0]):Xe.continue(Le[_e][1])}),!1)}),He},tn.prototype.startsWithAnyOf=function(){var C=le.apply(te,arguments);return C.every(function(T){return typeof T=="string"})?C.length===0?Ls(this):this.inAnyRange(C.map(function(T){return[T,T+Zo]})):ra(this,"startsWithAnyOf() only works with strings")},tn);function tn(){}function aa(C){return ut(function(T){return _c(T),C(T.target.error),!1})}function _c(C){C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault()}var Bc="storagemutated",eA="x-storagemutated-1",Zr=Ds(null,Bc),rl=(Ms.prototype._lock=function(){return S(!St.global),++this._reculock,this._reculock!==1||St.global||(St.lockOwnerFor=this),this},Ms.prototype._unlock=function(){if(S(!St.global),--this._reculock==0)for(St.global||(St.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var C=this._blockedFuncs.shift();try{Oi(C[1],C[0])}catch{}}return this},Ms.prototype._locked=function(){return this._reculock&&St.lockOwnerFor!==this},Ms.prototype.create=function(C){var T=this;if(!this.mode)return this;var U=this.db.idbdb,V=this.db._state.dbOpenError;if(S(!this.idbtrans),!C&&!U)switch(V&&V.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(V);case"MissingAPIError":throw new Ae.MissingAPI(V.message,V);default:throw new Ae.OpenFailed(V)}if(!this.active)throw new Ae.TransactionInactive;return S(this._completion._state===null),(C=this.idbtrans=C||(this.db.core||U).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ut(function(G){_c(G),T._reject(C.error)}),C.onabort=ut(function(G){_c(G),T.active&&T._reject(new Ae.Abort(C.error)),T.active=!1,T.on("abort").fire(G)}),C.oncomplete=ut(function(){T.active=!1,T._resolve(),"mutatedParts"in C&&Zr.storagemutated.fire(C.mutatedParts)}),this},Ms.prototype._promise=function(C,T,U){var V=this;if(C==="readwrite"&&this.mode!=="readwrite")return Ir(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return Ir(new Ae.TransactionInactive);if(this._locked())return new wt(function(re,pe){V._blockedFuncs.push([function(){V._promise(C,T,U).then(re,pe)},St])});if(U)return gr(function(){var re=new wt(function(pe,Ce){V._lock();var Ne=T(pe,Ce,V);Ne&&Ne.then&&Ne.then(pe,Ce)});return re.finally(function(){return V._unlock()}),re._lib=!0,re});var G=new wt(function(re,pe){var Ce=T(re,pe,V);Ce&&Ce.then&&Ce.then(re,pe)});return G._lib=!0,G},Ms.prototype._root=function(){return this.parent?this.parent._root():this},Ms.prototype.waitFor=function(C){var T,U=this._root(),V=wt.resolve(C);U._waitingFor?U._waitingFor=U._waitingFor.then(function(){return V}):(U._waitingFor=V,U._waitingQueue=[],T=U.idbtrans.objectStore(U.storeNames[0]),function re(){for(++U._spinCount;U._waitingQueue.length;)U._waitingQueue.shift()();U._waitingFor&&(T.get(-1/0).onsuccess=re)}());var G=U._waitingFor;return new wt(function(re,pe){V.then(function(Ce){return U._waitingQueue.push(ut(re.bind(null,Ce)))},function(Ce){return U._waitingQueue.push(ut(pe.bind(null,Ce)))}).finally(function(){U._waitingFor===G&&(U._waitingFor=null)})})},Ms.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},Ms.prototype.table=function(C){var T=this._memoizedTables||(this._memoizedTables={});if(d(T,C))return T[C];var U=this.schema[C];if(!U)throw new Ae.NotFound("Table "+C+" not part of transaction");return U=new this.db.Table(C,U,this),U.core=this.db.core.table(C),T[C]=U},Ms);function Ms(){}function $l(C,T,U,V,G,re,pe,Ce){return{name:C,keyPath:T,unique:U,multi:V,auto:G,compound:re,src:(U&&!pe?"&":"")+(V?"*":"")+(G?"++":"")+No(T),type:Ce}}function No(C){return typeof C=="string"?C:C?"["+[].join.call(C,"+")+"]":""}function Kl(C,T,U){return{name:C,primKey:T,indexes:U,mappedClass:null,idxByName:(V=function(G){return[G.name,G]},U.reduce(function(G,re,pe){return pe=V(re,pe),pe&&(G[pe[0]]=pe[1]),G},{}))};var V}var Fa=function(C){try{return C.only([[]]),Fa=function(){return[[]]},[[]]}catch{return Fa=function(){return Zo},Zo}};function Rs(C){return C==null?function(){}:typeof C=="string"?(T=C).split(".").length===1?function(U){return U[T]}:function(U){return N(U,T)}:function(U){return N(U,C)};var T}function Wl(C){return[].slice.call(C)}var tA=0;function dr(C){return C==null?":id":typeof C=="string"?C:"[".concat(C.join("+"),"]")}function nA(C,T,Ne){function V(Re){if(Re.type===3)return null;if(Re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _e=Re.lower,je=Re.upper,De=Re.lowerOpen,Re=Re.upperOpen;return _e===void 0?je===void 0?null:T.upperBound(je,!!Re):je===void 0?T.lowerBound(_e,!!De):T.bound(_e,je,!!De,!!Re)}function G(Ie){var _e,je=Ie.name;return{name:je,schema:Ie,mutate:function(De){var Re=De.trans,He=De.type,Xe=De.keys,et=De.values,nt=De.range;return new Promise(function(_t,Lt){_t=ut(_t);var It=Re.objectStore(je),Ot=It.keyPath==null,zt=He==="put"||He==="add";if(!zt&&He!=="delete"&&He!=="deleteRange")throw new Error("Invalid operation type: "+He);var Mt,$t=(Xe||et||{length:1}).length;if(Xe&&et&&Xe.length!==et.length)throw new Error("Given keys array must have same length as given values array.");if($t===0)return _t({numFailures:0,failures:{},results:[],lastResult:void 0});function Fn(Sa){++mi,_c(Sa)}var rr=[],Tn=[],mi=0;if(He==="deleteRange"){if(nt.type===4)return _t({numFailures:mi,failures:Tn,results:[],lastResult:void 0});nt.type===3?rr.push(Mt=It.clear()):rr.push(Mt=It.delete(V(nt)))}else{var Ot=zt?Ot?[et,Xe]:[et,null]:[Xe,null],jn=Ot[0],Ra=Ot[1];if(zt)for(var Ua=0;Ua<$t;++Ua)rr.push(Mt=Ra&&Ra[Ua]!==void 0?It[He](jn[Ua],Ra[Ua]):It[He](jn[Ua])),Mt.onerror=Fn;else for(Ua=0;Ua<$t;++Ua)rr.push(Mt=It[He](jn[Ua])),Mt.onerror=Fn}function rd(Sa){Sa=Sa.target.result,rr.forEach(function(la,Qs){return la.error!=null&&(Tn[Qs]=la.error)}),_t({numFailures:mi,failures:Tn,results:He==="delete"?Xe:rr.map(function(la){return la.result}),lastResult:Sa})}Mt.onerror=function(Sa){Fn(Sa),rd(Sa)},Mt.onsuccess=rd})},getMany:function(De){var Re=De.trans,He=De.keys;return new Promise(function(Xe,et){Xe=ut(Xe);for(var nt,_t=Re.objectStore(je),Lt=He.length,It=new Array(Lt),Ot=0,zt=0,Mt=function(rr){rr=rr.target,It[rr._pos]=rr.result,++zt===Ot&&Xe(It)},$t=aa(et),Fn=0;Fn<Lt;++Fn)He[Fn]!=null&&((nt=_t.get(He[Fn]))._pos=Fn,nt.onsuccess=Mt,nt.onerror=$t,++Ot);Ot===0&&Xe(It)})},get:function(De){var Re=De.trans,He=De.key;return new Promise(function(Xe,et){Xe=ut(Xe);var nt=Re.objectStore(je).get(He);nt.onsuccess=function(_t){return Xe(_t.target.result)},nt.onerror=aa(et)})},query:(_e=Te,function(De){return new Promise(function(Re,He){Re=ut(Re);var Xe,et,nt,Ot=De.trans,_t=De.values,Lt=De.limit,Mt=De.query,It=Lt===1/0?void 0:Lt,zt=Mt.index,Mt=Mt.range,Ot=Ot.objectStore(je),zt=zt.isPrimaryKey?Ot:Ot.index(zt.name),Mt=V(Mt);if(Lt===0)return Re({result:[]});_e?((It=_t?zt.getAll(Mt,It):zt.getAllKeys(Mt,It)).onsuccess=function($t){return Re({result:$t.target.result})},It.onerror=aa(He)):(Xe=0,et=!_t&&"openKeyCursor"in zt?zt.openKeyCursor(Mt):zt.openCursor(Mt),nt=[],et.onsuccess=function($t){var Fn=et.result;return Fn?(nt.push(_t?Fn.value:Fn.primaryKey),++Xe===Lt?Re({result:nt}):void Fn.continue()):Re({result:nt})},et.onerror=aa(He))})}),openCursor:function(De){var Re=De.trans,He=De.values,Xe=De.query,et=De.reverse,nt=De.unique;return new Promise(function(_t,Lt){_t=ut(_t);var zt=Xe.index,It=Xe.range,Ot=Re.objectStore(je),Ot=zt.isPrimaryKey?Ot:Ot.index(zt.name),zt=et?nt?"prevunique":"prev":nt?"nextunique":"next",Mt=!He&&"openKeyCursor"in Ot?Ot.openKeyCursor(V(It),zt):Ot.openCursor(V(It),zt);Mt.onerror=aa(Lt),Mt.onsuccess=ut(function($t){var Fn,rr,Tn,mi,jn=Mt.result;jn?(jn.___id=++tA,jn.done=!1,Fn=jn.continue.bind(jn),rr=(rr=jn.continuePrimaryKey)&&rr.bind(jn),Tn=jn.advance.bind(jn),mi=function(){throw new Error("Cursor not stopped")},jn.trans=Re,jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=function(){throw new Error("Cursor not started")},jn.fail=ut(Lt),jn.next=function(){var Ra=this,Ua=1;return this.start(function(){return Ua--?Ra.continue():Ra.stop()}).then(function(){return Ra})},jn.start=function(Ra){function Ua(){if(Mt.result)try{Ra()}catch(Sa){jn.fail(Sa)}else jn.done=!0,jn.start=function(){throw new Error("Cursor behind last entry")},jn.stop()}var rd=new Promise(function(Sa,la){Sa=ut(Sa),Mt.onerror=aa(la),jn.fail=la,jn.stop=function(Qs){jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=mi,Sa(Qs)}});return Mt.onsuccess=ut(function(Sa){Mt.onsuccess=Ua,Ua()}),jn.continue=Fn,jn.continuePrimaryKey=rr,jn.advance=Tn,Ua(),rd},_t(jn)):_t(null)},Lt)})},count:function(De){var Re=De.query,He=De.trans,Xe=Re.index,et=Re.range;return new Promise(function(nt,_t){var Lt=He.objectStore(je),It=Xe.isPrimaryKey?Lt:Lt.index(Xe.name),Lt=V(et),It=Lt?It.count(Lt):It.count();It.onsuccess=ut(function(Ot){return nt(Ot.target.result)}),It.onerror=aa(_t)})}}}var re,pe,Ce,Le=(pe=Ne,Ce=Wl((re=C).objectStoreNames),{schema:{name:re.name,tables:Ce.map(function(Ie){return pe.objectStore(Ie)}).map(function(Ie){var _e=Ie.keyPath,Re=Ie.autoIncrement,je=o(_e),De={},Re={name:Ie.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_e==null,compound:je,keyPath:_e,autoIncrement:Re,unique:!0,extractKey:Rs(_e)},indexes:Wl(Ie.indexNames).map(function(He){return Ie.index(He)}).map(function(nt){var Xe=nt.name,et=nt.unique,_t=nt.multiEntry,nt=nt.keyPath,_t={name:Xe,compound:o(nt),keyPath:nt,unique:et,multiEntry:_t,extractKey:Rs(nt)};return De[dr(nt)]=_t}),getIndexByKeyPath:function(He){return De[dr(He)]}};return De[":id"]=Re.primaryKey,_e!=null&&(De[dr(_e)]=Re.primaryKey),Re})},hasGetAll:0<Ce.length&&"getAll"in pe.objectStore(Ce[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ne=Le.schema,Te=Le.hasGetAll,Le=Ne.tables.map(G),Ee={};return Le.forEach(function(Ie){return Ee[Ie.name]=Ie}),{stack:"dbcore",transaction:C.transaction.bind(C),table:function(Ie){if(!Ee[Ie])throw new Error("Table '".concat(Ie,"' not found"));return Ee[Ie]},MIN_KEY:-1/0,MAX_KEY:Fa(T),schema:Ne}}function Nc(C,T,U,V){var G=U.IDBKeyRange;return U.indexedDB,{dbcore:(V=nA(T,G,V),C.dbcore.reduce(function(re,pe){return pe=pe.create,r(r({},re),pe(re))},V))}}function uo(C,V){var U=V.db,V=Nc(C._middlewares,U,C._deps,V);C.core=V.dbcore,C.tables.forEach(function(G){var re=G.name;C.core.schema.tables.some(function(pe){return pe.name===re})&&(G.core=C.core.table(re),C[re]instanceof C.Table&&(C[re].core=G.core))})}function il(C,T,U,V){U.forEach(function(G){var re=V[G];T.forEach(function(pe){var Ce=function Ne(Te,Le){return v(Te,Le)||(Te=u(Te))&&Ne(Te,Le)}(pe,G);(!Ce||"value"in Ce&&Ce.value===void 0)&&(pe===C.Transaction.prototype||pe instanceof C.Transaction?p(pe,G,{get:function(){return this.table(G)},set:function(Ne){h(this,G,{value:Ne,writable:!0,configurable:!0,enumerable:!0})}}):pe[G]=new C.Table(G,re))})})}function al(C,T){T.forEach(function(U){for(var V in U)U[V]instanceof C.Table&&delete U[V]})}function Gl(C,T){return C._cfg.version-T._cfg.version}function ql(C,T,U,V){var G=C._dbSchema;U.objectStoreNames.contains("$meta")&&!G.$meta&&(G.$meta=Kl("$meta",mu("")[0],[]),C._storeNames.push("$meta"));var re=C._createTransaction("readwrite",C._storeNames,G);re.create(U),re._completion.catch(V);var pe=re._reject.bind(re),Ce=St.transless||St;gr(function(){return St.trans=re,St.transless=Ce,T!==0?(uo(C,U),Te=T,((Ne=re).storeNames.includes("$meta")?Ne.table("$meta").get("version").then(function(Le){return Le??Te}):wt.resolve(Te)).then(function(Le){return Ie=Le,_e=re,je=U,De=[],Le=(Ee=C)._versions,Re=Ee._dbSchema=sl(0,Ee.idbdb,je),(Le=Le.filter(function(He){return He._cfg.version>=Ie})).length!==0?(Le.forEach(function(He){De.push(function(){var Xe=Re,et=He._cfg.dbschema;hs(Ee,Xe,je),hs(Ee,et,je),Re=Ee._dbSchema=et;var nt=jc(Xe,et);nt.add.forEach(function(zt){Ao(je,zt[0],zt[1].primKey,zt[1].indexes)}),nt.change.forEach(function(zt){if(zt.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var Mt=je.objectStore(zt.name);zt.add.forEach(function($t){return Yl(Mt,$t)}),zt.change.forEach(function($t){Mt.deleteIndex($t.name),Yl(Mt,$t)}),zt.del.forEach(function($t){return Mt.deleteIndex($t)})});var _t=He._cfg.contentUpgrade;if(_t&&He._cfg.version>Ie){uo(Ee,je),_e._memoizedTables={};var Lt=B(et);nt.del.forEach(function(zt){Lt[zt]=Xe[zt]}),al(Ee,[Ee.Transaction.prototype]),il(Ee,[Ee.Transaction.prototype],s(Lt),Lt),_e.schema=Lt;var It,Ot=se(_t);return Ot&&Or(),nt=wt.follow(function(){var zt;(It=_t(_e))&&Ot&&(zt=Er.bind(null,null),It.then(zt,zt))}),It&&typeof It.then=="function"?wt.resolve(It):nt.then(function(){return It})}}),De.push(function(Xe){var et,nt,_t=He._cfg.dbschema;et=_t,nt=Xe,[].slice.call(nt.db.objectStoreNames).forEach(function(Lt){return et[Lt]==null&&nt.db.deleteObjectStore(Lt)}),al(Ee,[Ee.Transaction.prototype]),il(Ee,[Ee.Transaction.prototype],Ee._storeNames,Ee._dbSchema),_e.schema=Ee._dbSchema}),De.push(function(Xe){Ee.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ee.idbdb.version/10)===He._cfg.version?(Ee.idbdb.deleteObjectStore("$meta"),delete Ee._dbSchema.$meta,Ee._storeNames=Ee._storeNames.filter(function(et){return et!=="$meta"})):Xe.objectStore("$meta").put(He._cfg.version,"version"))})}),function He(){return De.length?wt.resolve(De.shift()(_e.idbtrans)).then(He):wt.resolve()}().then(function(){ts(Re,je)})):wt.resolve();var Ee,Ie,_e,je,De,Re}).catch(pe)):(s(G).forEach(function(Le){Ao(U,Le,G[Le].primKey,G[Le].indexes)}),uo(C,U),void wt.follow(function(){return C.on.populate.fire(re)}).catch(pe));var Ne,Te})}function Us(C,T){ts(C._dbSchema,T),T.db.version%10!=0||T.objectStoreNames.contains("$meta")||T.db.createObjectStore("$meta").add(Math.ceil(T.db.version/10-1),"version");var U=sl(0,C.idbdb,T);hs(C,C._dbSchema,T);for(var V=0,G=jc(U,C._dbSchema).change;V<G.length;V++){var re=function(pe){if(pe.change.length||pe.recreate)return console.warn("Unable to patch indexes of table ".concat(pe.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ce=T.objectStore(pe.name);pe.add.forEach(function(Ne){pt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(pe.name,".").concat(Ne.src)),Yl(Ce,Ne)})}(G[V]);if(typeof re=="object")return re.value}}function jc(C,T){var U,V={del:[],add:[],change:[]};for(U in C)T[U]||V.del.push(U);for(U in T){var G=C[U],re=T[U];if(G){var pe={name:U,def:re,recreate:!1,del:[],add:[],change:[]};if(""+(G.primKey.keyPath||"")!=""+(re.primKey.keyPath||"")||G.primKey.auto!==re.primKey.auto)pe.recreate=!0,V.change.push(pe);else{var Ce=G.idxByName,Ne=re.idxByName,Te=void 0;for(Te in Ce)Ne[Te]||pe.del.push(Te);for(Te in Ne){var Le=Ce[Te],Ee=Ne[Te];Le?Le.src!==Ee.src&&pe.change.push(Ee):pe.add.push(Ee)}(0<pe.del.length||0<pe.add.length||0<pe.change.length)&&V.change.push(pe)}}else V.add.push([U,re])}return V}function Ao(C,T,U,V){var G=C.db.createObjectStore(T,U.keyPath?{keyPath:U.keyPath,autoIncrement:U.auto}:{autoIncrement:U.auto});return V.forEach(function(re){return Yl(G,re)}),G}function ts(C,T){s(C).forEach(function(U){T.db.objectStoreNames.contains(U)||(pt&&console.debug("Dexie: Creating missing table",U),Ao(T,U,C[U].primKey,C[U].indexes))})}function Yl(C,T){C.createIndex(T.name,T.keyPath,{unique:T.unique,multiEntry:T.multi})}function sl(C,T,U){var V={};return y(T.objectStoreNames,0).forEach(function(G){for(var re=U.objectStore(G),pe=$l(No(Te=re.keyPath),Te||"",!0,!1,!!re.autoIncrement,Te&&typeof Te!="string",!0),Ce=[],Ne=0;Ne<re.indexNames.length;++Ne){var Le=re.index(re.indexNames[Ne]),Te=Le.keyPath,Le=$l(Le.name,Te,!!Le.unique,!!Le.multiEntry,!1,Te&&typeof Te!="string",!1);Ce.push(Le)}V[G]=Kl(G,pe,Ce)}),V}function hs(C,T,U){for(var V=U.db.objectStoreNames,G=0;G<V.length;++G){var re=V[G],pe=U.objectStore(re);C._hasGetAll="getAll"in pe;for(var Ce=0;Ce<pe.indexNames.length;++Ce){var Ne=pe.indexNames[Ce],Te=pe.index(Ne).keyPath,Le=typeof Te=="string"?Te:"["+y(Te).join("+")+"]";!T[re]||(Te=T[re].idxByName[Le])&&(Te.name=Ne,delete T[re].idxByName[Le],T[re].idxByName[Ne]=Te)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(C._hasGetAll=!1)}function mu(C){return C.split(",").map(function(T,U){var re=T.split(":"),V=(G=re[1])===null||G===void 0?void 0:G.trim(),G=(T=re[0].trim()).replace(/([&*]|\+\+)/g,""),re=/^\[/.test(G)?G.match(/^\[(.*)\]$/)[1].split("+"):G;return $l(G,re||null,/\&/.test(T),/\*/.test(T),/\+\+/.test(T),o(re),U===0,V)})}var F=(X.prototype._createTableSchema=Kl,X.prototype._parseIndexSyntax=mu,X.prototype._parseStoresSpec=function(C,T){var U=this;s(C).forEach(function(V){if(C[V]!==null){var G=U._parseIndexSyntax(C[V]),re=G.shift();if(!re)throw new Ae.Schema("Invalid schema for table "+V+": "+C[V]);if(re.unique=!0,re.multi)throw new Ae.Schema("Primary key cannot be multiEntry*");G.forEach(function(pe){if(pe.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!pe.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),G=U._createTableSchema(V,re,G),T[V]=G}})},X.prototype.stores=function(U){var T=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,U):U;var U=T._versions,V={},G={};return U.forEach(function(re){l(V,re._cfg.storesSource),G=re._cfg.dbschema={},re._parseStoresSpec(V,G)}),T._dbSchema=G,al(T,[T._allTables,T,T.Transaction.prototype]),il(T,[T._allTables,T,T.Transaction.prototype,this._cfg.tables],s(G),G),T._storeNames=s(G),this},X.prototype.upgrade=function(C){return this._cfg.contentUpgrade=Dt(this._cfg.contentUpgrade||ae,C),this},X);function X(){}function me(C,T){var U=C._dbNamesDB;return U||(U=C._dbNamesDB=new ms(Fi,{addons:[],indexedDB:C,IDBKeyRange:T})).version(1).stores({dbnames:"name"}),U.table("dbnames")}function Be(C){return C&&typeof C.databases=="function"}function Ue(C){return gr(function(){return St.letThrough=!0,C()})}function rt(C){return!("from"in C)}var at=function(C,T){if(!this){var U=new at;return C&&"d"in C&&l(U,C),U}l(this,arguments.length?{d:1,from:C,to:1<arguments.length?T:C}:{d:0})};function Wt(C,T,U){var V=Pn(T,U);if(!isNaN(V)){if(0<V)throw RangeError();if(rt(C))return l(C,{from:T,to:U,d:1});var G=C.l,V=C.r;if(Pn(U,C.from)<0)return G?Wt(G,T,U):C.l={from:T,to:U,d:1,l:null,r:null},tr(C);if(0<Pn(T,C.to))return V?Wt(V,T,U):C.r={from:T,to:U,d:1,l:null,r:null},tr(C);Pn(T,C.from)<0&&(C.from=T,C.l=null,C.d=V?V.d+1:1),0<Pn(U,C.to)&&(C.to=U,C.r=null,C.d=C.l?C.l.d+1:1),U=!C.r,G&&!C.l&&en(C,G),V&&U&&en(C,V)}}function en(C,T){rt(T)||function U(V,Ne){var re=Ne.from,pe=Ne.to,Ce=Ne.l,Ne=Ne.r;Wt(V,re,pe),Ce&&U(V,Ce),Ne&&U(V,Ne)}(C,T)}function xn(C,T){var U=Cn(T),V=U.next();if(V.done)return!1;for(var G=V.value,re=Cn(C),pe=re.next(G.from),Ce=pe.value;!V.done&&!pe.done;){if(Pn(Ce.from,G.to)<=0&&0<=Pn(Ce.to,G.from))return!0;Pn(G.from,Ce.from)<0?G=(V=U.next(Ce.from)).value:Ce=(pe=re.next(G.from)).value}return!1}function Cn(C){var T=rt(C)?null:{s:0,n:C};return{next:function(U){for(var V=0<arguments.length;T;)switch(T.s){case 0:if(T.s=1,V)for(;T.n.l&&Pn(U,T.n.from)<0;)T={up:T,n:T.n.l,s:1};else for(;T.n.l;)T={up:T,n:T.n.l,s:1};case 1:if(T.s=2,!V||Pn(U,T.n.to)<=0)return{value:T.n,done:!1};case 2:if(T.n.r){T.s=3,T={up:T,n:T.n.r,s:0};continue}case 3:T=T.up}return{done:!0}}}}function tr(C){var T,U,V=(((T=C.r)===null||T===void 0?void 0:T.d)||0)-(((U=C.l)===null||U===void 0?void 0:U.d)||0),G=1<V?"r":V<-1?"l":"";G&&(T=G=="r"?"l":"r",U=r({},C),V=C[G],C.from=V.from,C.to=V.to,C[G]=V[G],U[G]=V[T],(C[T]=U).d=fr(U)),C.d=fr(C)}function fr(U){var T=U.r,U=U.l;return(T?U?Math.max(T.d,U.d):T.d:U?U.d:0)+1}function Gr(C,T){return s(T).forEach(function(U){C[U]?en(C[U],T[U]):C[U]=function V(G){var re,pe,Ce={};for(re in G)d(G,re)&&(pe=G[re],Ce[re]=!pe||typeof pe!="object"||k.has(pe.constructor)?pe:V(pe));return Ce}(T[U])}),C}function br(C,T){return C.all||T.all||Object.keys(C).some(function(U){return T[U]&&xn(T[U],C[U])})}f(at.prototype,((oa={add:function(C){return en(this,C),this},addKey:function(C){return Wt(this,C,C),this},addKeys:function(C){var T=this;return C.forEach(function(U){return Wt(T,U,U)}),this},hasKey:function(C){var T=Cn(this).next(C).value;return T&&Pn(T.from,C)<=0&&0<=Pn(T.to,C)}})[Y]=function(){return Cn(this)},oa));var Fr={},ei={},ai=!1;function Tr(C){Gr(ei,C),ai||(ai=!0,setTimeout(function(){ai=!1,sa(ei,!(ei={}))},0))}function sa(C,T){T===void 0&&(T=!1);var U=new Set;if(C.all)for(var V=0,G=Object.values(Fr);V<G.length;V++)gu(pe=G[V],C,U,T);else for(var re in C){var pe,Ce=/^idb\:\/\/(.*)\/(.*)\//.exec(re);Ce&&(re=Ce[1],Ce=Ce[2],(pe=Fr["idb://".concat(re,"/").concat(Ce)])&&gu(pe,C,U,T))}U.forEach(function(Ne){return Ne()})}function gu(C,T,U,V){for(var G=[],re=0,pe=Object.entries(C.queries.query);re<pe.length;re++){for(var Ce=pe[re],Ne=Ce[0],Te=[],Le=0,Ee=Ce[1];Le<Ee.length;Le++){var Ie=Ee[Le];br(T,Ie.obsSet)?Ie.subscribers.forEach(function(Re){return U.add(Re)}):V&&Te.push(Ie)}V&&G.push([Ne,Te])}if(V)for(var _e=0,je=G;_e<je.length;_e++){var De=je[_e],Ne=De[0],Te=De[1];C.queries.query[Ne]=Te}}function fo(C){var T=C._state,U=C._deps.indexedDB;if(T.isBeingOpened||C.idbdb)return T.dbReadyPromise.then(function(){return T.dbOpenError?Ir(T.dbOpenError):C});T.isBeingOpened=!0,T.dbOpenError=null,T.openComplete=!1;var V=T.openCanceller,G=Math.round(10*C.verno),re=!1;function pe(){if(T.openCanceller!==V)throw new Ae.DatabaseClosed("db.open() was cancelled")}function Ce(){return new wt(function(Ie,_e){if(pe(),!U)throw new Ae.MissingAPI;var je=C.name,De=T.autoSchema||!G?U.open(je):U.open(je,G);if(!De)throw new Ae.MissingAPI;De.onerror=aa(_e),De.onblocked=ut(C._fireOnBlocked),De.onupgradeneeded=ut(function(Re){var He;Le=De.transaction,T.autoSchema&&!C._options.allowEmptyDB?(De.onerror=_c,Le.abort(),De.result.close(),(He=U.deleteDatabase(je)).onsuccess=He.onerror=ut(function(){_e(new Ae.NoSuchDatabase("Database ".concat(je," doesnt exist")))})):(Le.onerror=aa(_e),Re=Re.oldVersion>Math.pow(2,62)?0:Re.oldVersion,Ee=Re<1,C.idbdb=De.result,re&&Us(C,Le),ql(C,Re/10,Le,_e))},_e),De.onsuccess=ut(function(){Le=null;var Re,He,Xe,et,nt,_t=C.idbdb=De.result,Lt=y(_t.objectStoreNames);if(0<Lt.length)try{var It=_t.transaction((et=Lt).length===1?et[0]:et,"readonly");if(T.autoSchema)He=_t,Xe=It,(Re=C).verno=He.version/10,Xe=Re._dbSchema=sl(0,He,Xe),Re._storeNames=y(He.objectStoreNames,0),il(Re,[Re._allTables],s(Xe),Xe);else if(hs(C,C._dbSchema,It),((nt=jc(sl(0,(nt=C).idbdb,It),nt._dbSchema)).add.length||nt.change.some(function(Ot){return Ot.add.length||Ot.change.length}))&&!re)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),_t.close(),G=_t.version+1,re=!0,Ie(Ce());uo(C,It)}catch{}oo.push(C),_t.onversionchange=ut(function(Ot){T.vcFired=!0,C.on("versionchange").fire(Ot)}),_t.onclose=ut(function(Ot){C.on("close").fire(Ot)}),Ee&&(nt=C._deps,It=je,_t=nt.indexedDB,nt=nt.IDBKeyRange,Be(_t)||It===Fi||me(_t,nt).put({name:It}).catch(ae)),Ie()},_e)}).catch(function(Ie){switch(Ie==null?void 0:Ie.name){case"UnknownError":if(0<T.PR1398_maxLoop)return T.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ce();break;case"VersionError":if(0<G)return G=0,Ce()}return wt.reject(Ie)})}var Ne,Te=T.dbReadyResolve,Le=null,Ee=!1;return wt.race([V,(typeof navigator>"u"?wt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ie){function _e(){return indexedDB.databases().finally(Ie)}Ne=setInterval(_e,100),_e()}).finally(function(){return clearInterval(Ne)}):Promise.resolve()).then(Ce)]).then(function(){return pe(),T.onReadyBeingFired=[],wt.resolve(Ue(function(){return C.on.ready.fire(C.vip)})).then(function Ie(){if(0<T.onReadyBeingFired.length){var _e=T.onReadyBeingFired.reduce(Dt,ae);return T.onReadyBeingFired=[],wt.resolve(Ue(function(){return _e(C.vip)})).then(Ie)}})}).finally(function(){T.openCanceller===V&&(T.onReadyBeingFired=null,T.isBeingOpened=!1)}).catch(function(Ie){T.dbOpenError=Ie;try{Le&&Le.abort()}catch{}return V===T.openCanceller&&C._close(),Ir(Ie)}).finally(function(){T.openComplete=!0,Te()}).then(function(){var Ie;return Ee&&(Ie={},C.tables.forEach(function(_e){_e.schema.indexes.forEach(function(je){je.name&&(Ie["idb://".concat(C.name,"/").concat(_e.name,"/").concat(je.name)]=new at(-1/0,[[[]]]))}),Ie["idb://".concat(C.name,"/").concat(_e.name,"/")]=Ie["idb://".concat(C.name,"/").concat(_e.name,"/:dels")]=new at(-1/0,[[[]]])}),Zr(Bc).fire(Ie),sa(Ie,!0)),C})}function w(C){function T(re){return C.next(re)}var U=G(T),V=G(function(re){return C.throw(re)});function G(re){return function(Ne){var Ce=re(Ne),Ne=Ce.value;return Ce.done?Ne:Ne&&typeof Ne.then=="function"?Ne.then(U,V):o(Ne)?Promise.all(Ne).then(U,V):U(Ne)}}return G(T)()}function Q(C,T,U){for(var V=o(C)?C.slice():[C],G=0;G<U;++G)V.push(T);return V}var W={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(C){return r(r({},C),{table:function(T){var U=C.table(T),V=U.schema,G={},re=[];function pe(Ee,Ie,_e){var je=dr(Ee),De=G[je]=G[je]||[],Re=Ee==null?0:typeof Ee=="string"?1:Ee.length,He=0<Ie,He=r(r({},_e),{name:He?"".concat(je,"(virtual-from:").concat(_e.name,")"):_e.name,lowLevelIndex:_e,isVirtual:He,keyTail:Ie,keyLength:Re,extractKey:Rs(Ee),unique:!He&&_e.unique});return De.push(He),He.isPrimaryKey||re.push(He),1<Re&&pe(Re===2?Ee[0]:Ee.slice(0,Re-1),Ie+1,_e),De.sort(function(Xe,et){return Xe.keyTail-et.keyTail}),He}T=pe(V.primaryKey.keyPath,0,V.primaryKey),G[":id"]=[T];for(var Ce=0,Ne=V.indexes;Ce<Ne.length;Ce++){var Te=Ne[Ce];pe(Te.keyPath,0,Te)}function Le(Ee){var Ie,_e=Ee.query.index;return _e.isVirtual?r(r({},Ee),{query:{index:_e.lowLevelIndex,range:(Ie=Ee.query.range,_e=_e.keyTail,{type:Ie.type===1?2:Ie.type,lower:Q(Ie.lower,Ie.lowerOpen?C.MAX_KEY:C.MIN_KEY,_e),lowerOpen:!0,upper:Q(Ie.upper,Ie.upperOpen?C.MIN_KEY:C.MAX_KEY,_e),upperOpen:!0})}}):Ee}return r(r({},U),{schema:r(r({},V),{primaryKey:T,indexes:re,getIndexByKeyPath:function(Ee){return(Ee=G[dr(Ee)])&&Ee[0]}}),count:function(Ee){return U.count(Le(Ee))},query:function(Ee){return U.query(Le(Ee))},openCursor:function(Ee){var Ie=Ee.query.index,_e=Ie.keyTail,je=Ie.isVirtual,De=Ie.keyLength;return je?U.openCursor(Le(Ee)).then(function(He){return He&&Re(He)}):U.openCursor(Ee);function Re(He){return Object.create(He,{continue:{value:function(Xe){Xe!=null?He.continue(Q(Xe,Ee.reverse?C.MAX_KEY:C.MIN_KEY,_e)):Ee.unique?He.continue(He.key.slice(0,De).concat(Ee.reverse?C.MIN_KEY:C.MAX_KEY,_e)):He.continue()}},continuePrimaryKey:{value:function(Xe,et){He.continuePrimaryKey(Q(Xe,C.MAX_KEY,_e),et)}},primaryKey:{get:function(){return He.primaryKey}},key:{get:function(){var Xe=He.key;return De===1?Xe[0]:Xe.slice(0,De)}},value:{get:function(){return He.value}}})}}})}})}};function ue(C,T,U,V){return U=U||{},V=V||"",s(C).forEach(function(G){var re,pe,Ce;d(T,G)?(re=C[G],pe=T[G],typeof re=="object"&&typeof pe=="object"&&re&&pe?(Ce=q(re))!==q(pe)?U[V+G]=T[G]:Ce==="Object"?ue(re,pe,U,V+G+"."):re!==pe&&(U[V+G]=T[G]):re!==pe&&(U[V+G]=T[G])):U[V+G]=void 0}),s(T).forEach(function(G){d(C,G)||(U[V+G]=T[G])}),U}function Qe(C,T){return T.type==="delete"?T.keys:T.keys||T.values.map(C.extractKey)}var qe={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(C){return r(r({},C),{table:function(T){var U=C.table(T),V=U.schema.primaryKey;return r(r({},U),{mutate:function(G){var re=St.trans,pe=re.table(T).hook,Ce=pe.deleting,Ne=pe.creating,Te=pe.updating;switch(G.type){case"add":if(Ne.fire===ae)break;return re._promise("readwrite",function(){return Le(G)},!0);case"put":if(Ne.fire===ae&&Te.fire===ae)break;return re._promise("readwrite",function(){return Le(G)},!0);case"delete":if(Ce.fire===ae)break;return re._promise("readwrite",function(){return Le(G)},!0);case"deleteRange":if(Ce.fire===ae)break;return re._promise("readwrite",function(){return function Ee(Ie,_e,je){return U.query({trans:Ie,values:!1,query:{index:V,range:_e},limit:je}).then(function(De){var Re=De.result;return Le({type:"delete",keys:Re,trans:Ie}).then(function(He){return 0<He.numFailures?Promise.reject(He.failures[0]):Re.length<je?{failures:[],numFailures:0,lastResult:void 0}:Ee(Ie,r(r({},_e),{lower:Re[Re.length-1],lowerOpen:!0}),je)})})}(G.trans,G.range,1e4)},!0)}return U.mutate(G);function Le(Ee){var Ie,_e,je,De=St.trans,Re=Ee.keys||Qe(V,Ee);if(!Re)throw new Error("Keys missing");return(Ee=Ee.type==="add"||Ee.type==="put"?r(r({},Ee),{keys:Re}):r({},Ee)).type!=="delete"&&(Ee.values=i([],Ee.values)),Ee.keys&&(Ee.keys=i([],Ee.keys)),Ie=U,je=Re,((_e=Ee).type==="add"?Promise.resolve([]):Ie.getMany({trans:_e.trans,keys:je,cache:"immutable"})).then(function(He){var Xe=Re.map(function(et,nt){var _t,Lt,It,Ot=He[nt],zt={onerror:null,onsuccess:null};return Ee.type==="delete"?Ce.fire.call(zt,et,Ot,De):Ee.type==="add"||Ot===void 0?(_t=Ne.fire.call(zt,et,Ee.values[nt],De),et==null&&_t!=null&&(Ee.keys[nt]=et=_t,V.outbound||_(Ee.values[nt],V.keyPath,et))):(_t=ue(Ot,Ee.values[nt]),(Lt=Te.fire.call(zt,_t,et,Ot,De))&&(It=Ee.values[nt],Object.keys(Lt).forEach(function(Mt){d(It,Mt)?It[Mt]=Lt[Mt]:_(It,Mt,Lt[Mt])}))),zt});return U.mutate(Ee).then(function(et){for(var nt=et.failures,_t=et.results,Lt=et.numFailures,et=et.lastResult,It=0;It<Re.length;++It){var Ot=(_t||Re)[It],zt=Xe[It];Ot==null?zt.onerror&&zt.onerror(nt[It]):zt.onsuccess&&zt.onsuccess(Ee.type==="put"&&He[It]?Ee.values[It]:Ot)}return{failures:nt,results:_t,numFailures:Lt,lastResult:et}}).catch(function(et){return Xe.forEach(function(nt){return nt.onerror&&nt.onerror(et)}),Promise.reject(et)})})}}})}})}};function Pt(C,T,U){try{if(!T||T.keys.length<C.length)return null;for(var V=[],G=0,re=0;G<T.keys.length&&re<C.length;++G)Pn(T.keys[G],C[re])===0&&(V.push(U?L(T.values[G]):T.values[G]),++re);return V.length===C.length?V:null}catch{return null}}var nr={stack:"dbcore",level:-1,create:function(C){return{table:function(T){var U=C.table(T);return r(r({},U),{getMany:function(V){if(!V.cache)return U.getMany(V);var G=Pt(V.keys,V.trans._cache,V.cache==="clone");return G?wt.resolve(G):U.getMany(V).then(function(re){return V.trans._cache={keys:V.keys,values:V.cache==="clone"?L(re):re},re})},mutate:function(V){return V.type!=="add"&&(V.trans._cache=null),U.mutate(V)}})}}}};function si(C,T){return C.trans.mode==="readonly"&&!!C.subscr&&!C.trans.explicit&&C.trans.db._options.cache!=="disabled"&&!T.schema.primaryKey.outbound}function zn(C,T){switch(C){case"query":return T.values&&!T.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Vn={stack:"dbcore",level:0,name:"Observability",create:function(C){var T=C.schema.name,U=new at(C.MIN_KEY,C.MAX_KEY);return r(r({},C),{transaction:function(V,G,re){if(St.subscr&&G!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(St.querier));return C.transaction(V,G,re)},table:function(V){var G=C.table(V),re=G.schema,pe=re.primaryKey,Ee=re.indexes,Ce=pe.extractKey,Ne=pe.outbound,Te=pe.autoIncrement&&Ee.filter(function(_e){return _e.compound&&_e.keyPath.includes(pe.keyPath)}),Le=r(r({},G),{mutate:function(_e){function je(Mt){return Mt="idb://".concat(T,"/").concat(V,"/").concat(Mt),et[Mt]||(et[Mt]=new at)}var De,Re,He,Xe=_e.trans,et=_e.mutatedParts||(_e.mutatedParts={}),nt=je(""),_t=je(":dels"),Lt=_e.type,zt=_e.type==="deleteRange"?[_e.range]:_e.type==="delete"?[_e.keys]:_e.values.length<50?[Qe(pe,_e).filter(function(Mt){return Mt}),_e.values]:[],It=zt[0],Ot=zt[1],zt=_e.trans._cache;return o(It)?(nt.addKeys(It),(zt=Lt==="delete"||It.length===Ot.length?Pt(It,zt):null)||_t.addKeys(It),(zt||Ot)&&(De=je,Re=zt,He=Ot,re.indexes.forEach(function(Mt){var $t=De(Mt.name||"");function Fn(Tn){return Tn!=null?Mt.extractKey(Tn):null}function rr(Tn){return Mt.multiEntry&&o(Tn)?Tn.forEach(function(mi){return $t.addKey(mi)}):$t.addKey(Tn)}(Re||He).forEach(function(Tn,Ra){var jn=Re&&Fn(Re[Ra]),Ra=He&&Fn(He[Ra]);Pn(jn,Ra)!==0&&(jn!=null&&rr(jn),Ra!=null&&rr(Ra))})}))):It?(Ot={from:(Ot=It.lower)!==null&&Ot!==void 0?Ot:C.MIN_KEY,to:(Ot=It.upper)!==null&&Ot!==void 0?Ot:C.MAX_KEY},_t.add(Ot),nt.add(Ot)):(nt.add(U),_t.add(U),re.indexes.forEach(function(Mt){return je(Mt.name).add(U)})),G.mutate(_e).then(function(Mt){return!It||_e.type!=="add"&&_e.type!=="put"||(nt.addKeys(Mt.results),Te&&Te.forEach(function($t){for(var Fn=_e.values.map(function(jn){return $t.extractKey(jn)}),rr=$t.keyPath.findIndex(function(jn){return jn===pe.keyPath}),Tn=0,mi=Mt.results.length;Tn<mi;++Tn)Fn[Tn][rr]=Mt.results[Tn];je($t.name).addKeys(Fn)})),Xe.mutatedParts=Gr(Xe.mutatedParts||{},et),Mt})}}),Ee=function(je){var De=je.query,je=De.index,De=De.range;return[je,new at((je=De.lower)!==null&&je!==void 0?je:C.MIN_KEY,(De=De.upper)!==null&&De!==void 0?De:C.MAX_KEY)]},Ie={get:function(_e){return[pe,new at(_e.key)]},getMany:function(_e){return[pe,new at().addKeys(_e.keys)]},count:Ee,query:Ee,openCursor:Ee};return s(Ie).forEach(function(_e){Le[_e]=function(je){var De=St.subscr,Re=!!De,He=si(St,G)&&zn(_e,je)?je.obsSet={}:De;if(Re){var Xe=function(Ot){return Ot="idb://".concat(T,"/").concat(V,"/").concat(Ot),He[Ot]||(He[Ot]=new at)},et=Xe(""),nt=Xe(":dels"),De=Ie[_e](je),Re=De[0],De=De[1];if((_e==="query"&&Re.isPrimaryKey&&!je.values?nt:Xe(Re.name||"")).add(De),!Re.isPrimaryKey){if(_e!=="count"){var _t=_e==="query"&&Ne&&je.values&&G.query(r(r({},je),{values:!1}));return G[_e].apply(this,arguments).then(function(Ot){if(_e==="query"){if(Ne&&je.values)return _t.then(function(Fn){return Fn=Fn.result,et.addKeys(Fn),Ot});var zt=je.values?Ot.result.map(Ce):Ot.result;(je.values?et:nt).addKeys(zt)}else if(_e==="openCursor"){var Mt=Ot,$t=je.values;return Mt&&Object.create(Mt,{key:{get:function(){return nt.addKey(Mt.primaryKey),Mt.key}},primaryKey:{get:function(){var Fn=Mt.primaryKey;return nt.addKey(Fn),Fn}},value:{get:function(){return $t&&et.addKey(Mt.primaryKey),Mt.value}}})}return Ot})}nt.add(U)}}return G[_e].apply(this,arguments)}}),Le}})}};function Ur(C,T,U){if(U.numFailures===0)return T;if(T.type==="deleteRange")return null;var V=T.keys?T.keys.length:"values"in T&&T.values?T.values.length:1;return U.numFailures===V?null:(T=r({},T),o(T.keys)&&(T.keys=T.keys.filter(function(G,re){return!(re in U.failures)})),"values"in T&&o(T.values)&&(T.values=T.values.filter(function(G,re){return!(re in U.failures)})),T)}function ps(C,T){return U=C,((V=T).lower===void 0||(V.lowerOpen?0<Pn(U,V.lower):0<=Pn(U,V.lower)))&&(C=C,(T=T).upper===void 0||(T.upperOpen?Pn(C,T.upper)<0:Pn(C,T.upper)<=0));var U,V}function La(C,T,Ie,V,G,re){if(!Ie||Ie.length===0)return C;var pe=T.query.index,Ce=pe.multiEntry,Ne=T.query.range,Te=V.schema.primaryKey.extractKey,Le=pe.extractKey,Ee=(pe.lowLevelIndex||pe).extractKey,Ie=Ie.reduce(function(_e,je){var De=_e,Re=[];if(je.type==="add"||je.type==="put")for(var He=new at,Xe=je.values.length-1;0<=Xe;--Xe){var et,nt=je.values[Xe],_t=Te(nt);He.hasKey(_t)||(et=Le(nt),(Ce&&o(et)?et.some(function(Mt){return ps(Mt,Ne)}):ps(et,Ne))&&(He.addKey(_t),Re.push(nt)))}switch(je.type){case"add":var Lt=new at().addKeys(T.values?_e.map(function($t){return Te($t)}):_e),De=_e.concat(T.values?Re.filter(function($t){return $t=Te($t),!Lt.hasKey($t)&&(Lt.addKey($t),!0)}):Re.map(function($t){return Te($t)}).filter(function($t){return!Lt.hasKey($t)&&(Lt.addKey($t),!0)}));break;case"put":var It=new at().addKeys(je.values.map(function($t){return Te($t)}));De=_e.filter(function($t){return!It.hasKey(T.values?Te($t):$t)}).concat(T.values?Re:Re.map(function($t){return Te($t)}));break;case"delete":var Ot=new at().addKeys(je.keys);De=_e.filter(function($t){return!Ot.hasKey(T.values?Te($t):$t)});break;case"deleteRange":var zt=je.range;De=_e.filter(function($t){return!ps(Te($t),zt)})}return De},C);return Ie===C?C:(Ie.sort(function(_e,je){return Pn(Ee(_e),Ee(je))||Pn(Te(_e),Te(je))}),T.limit&&T.limit<1/0&&(Ie.length>T.limit?Ie.length=T.limit:C.length===T.limit&&Ie.length<T.limit&&(G.dirty=!0)),re?Object.freeze(Ie):Ie)}function Ca(C,T){return Pn(C.lower,T.lower)===0&&Pn(C.upper,T.upper)===0&&!!C.lowerOpen==!!T.lowerOpen&&!!C.upperOpen==!!T.upperOpen}function ol(C,T){return function(U,V,G,re){if(U===void 0)return V!==void 0?-1:0;if(V===void 0)return 1;if((V=Pn(U,V))===0){if(G&&re)return 0;if(G)return 1;if(re)return-1}return V}(C.lower,T.lower,C.lowerOpen,T.lowerOpen)<=0&&0<=function(U,V,G,re){if(U===void 0)return V!==void 0?1:0;if(V===void 0)return-1;if((V=Pn(U,V))===0){if(G&&re)return 0;if(G)return-1;if(re)return 1}return V}(C.upper,T.upper,C.upperOpen,T.upperOpen)}function kf(C,T,U,V){C.subscribers.add(U),V.addEventListener("abort",function(){var G,re;C.subscribers.delete(U),C.subscribers.size===0&&(G=C,re=T,setTimeout(function(){G.subscribers.size===0&&K(re,G)},3e3))})}var Pf={stack:"dbcore",level:0,name:"Cache",create:function(C){var T=C.schema.name;return r(r({},C),{transaction:function(U,V,G){var re,pe,Ce=C.transaction(U,V,G);return V==="readwrite"&&(pe=(re=new AbortController).signal,G=function(Ne){return function(){if(re.abort(),V==="readwrite"){for(var Te=new Set,Le=0,Ee=U;Le<Ee.length;Le++){var Ie=Ee[Le],_e=Fr["idb://".concat(T,"/").concat(Ie)];if(_e){var je=C.table(Ie),De=_e.optimisticOps.filter(function($t){return $t.trans===Ce});if(Ce._explicit&&Ne&&Ce.mutatedParts)for(var Re=0,He=Object.values(_e.queries.query);Re<He.length;Re++)for(var Xe=0,et=(Lt=He[Re]).slice();Xe<et.length;Xe++)br((It=et[Xe]).obsSet,Ce.mutatedParts)&&(K(Lt,It),It.subscribers.forEach(function($t){return Te.add($t)}));else if(0<De.length){_e.optimisticOps=_e.optimisticOps.filter(function($t){return $t.trans!==Ce});for(var nt=0,_t=Object.values(_e.queries.query);nt<_t.length;nt++)for(var Lt,It,Ot,zt=0,Mt=(Lt=_t[nt]).slice();zt<Mt.length;zt++)(It=Mt[zt]).res!=null&&Ce.mutatedParts&&(Ne&&!It.dirty?(Ot=Object.isFrozen(It.res),Ot=La(It.res,It.req,De,je,It,Ot),It.dirty?(K(Lt,It),It.subscribers.forEach(function($t){return Te.add($t)})):Ot!==It.res&&(It.res=Ot,It.promise=wt.resolve({result:Ot}))):(It.dirty&&K(Lt,It),It.subscribers.forEach(function($t){return Te.add($t)})))}}}Te.forEach(function($t){return $t()})}}},Ce.addEventListener("abort",G(!1),{signal:pe}),Ce.addEventListener("error",G(!1),{signal:pe}),Ce.addEventListener("complete",G(!0),{signal:pe})),Ce},table:function(U){var V=C.table(U),G=V.schema.primaryKey;return r(r({},V),{mutate:function(re){var pe=St.trans;if(G.outbound||pe.db._options.cache==="disabled"||pe.explicit||pe.idbtrans.mode!=="readwrite")return V.mutate(re);var Ce=Fr["idb://".concat(T,"/").concat(U)];return Ce?(pe=V.mutate(re),re.type!=="add"&&re.type!=="put"||!(50<=re.values.length||Qe(G,re).some(function(Ne){return Ne==null}))?(Ce.optimisticOps.push(re),re.mutatedParts&&Tr(re.mutatedParts),pe.then(function(Ne){0<Ne.numFailures&&(K(Ce.optimisticOps,re),(Ne=Ur(0,re,Ne))&&Ce.optimisticOps.push(Ne),re.mutatedParts&&Tr(re.mutatedParts))}),pe.catch(function(){K(Ce.optimisticOps,re),re.mutatedParts&&Tr(re.mutatedParts)})):pe.then(function(Ne){var Te=Ur(0,r(r({},re),{values:re.values.map(function(Le,Ee){var Ie;return Ne.failures[Ee]?Le:(Le=(Ie=G.keyPath)!==null&&Ie!==void 0&&Ie.includes(".")?L(Le):r({},Le),_(Le,G.keyPath,Ne.results[Ee]),Le)})}),Ne);Ce.optimisticOps.push(Te),queueMicrotask(function(){return re.mutatedParts&&Tr(re.mutatedParts)})}),pe):V.mutate(re)},query:function(re){if(!si(St,V)||!zn("query",re))return V.query(re);var pe=((Te=St.trans)===null||Te===void 0?void 0:Te.db._options.cache)==="immutable",Ee=St,Ce=Ee.requery,Ne=Ee.signal,Te=function(je,De,Re,He){var Xe=Fr["idb://".concat(je,"/").concat(De)];if(!Xe)return[];if(!(De=Xe.queries[Re]))return[null,!1,Xe,null];var et=De[(He.query?He.query.index.name:null)||""];if(!et)return[null,!1,Xe,null];switch(Re){case"query":var nt=et.find(function(_t){return _t.req.limit===He.limit&&_t.req.values===He.values&&Ca(_t.req.query.range,He.query.range)});return nt?[nt,!0,Xe,et]:[et.find(function(_t){return("limit"in _t.req?_t.req.limit:1/0)>=He.limit&&(!He.values||_t.req.values)&&ol(_t.req.query.range,He.query.range)}),!1,Xe,et];case"count":return nt=et.find(function(_t){return Ca(_t.req.query.range,He.query.range)}),[nt,!!nt,Xe,et]}}(T,U,"query",re),Le=Te[0],Ee=Te[1],Ie=Te[2],_e=Te[3];return Le&&Ee?Le.obsSet=re.obsSet:(Ee=V.query(re).then(function(je){var De=je.result;if(Le&&(Le.res=De),pe){for(var Re=0,He=De.length;Re<He;++Re)Object.freeze(De[Re]);Object.freeze(De)}else je.result=L(De);return je}).catch(function(je){return _e&&Le&&K(_e,Le),Promise.reject(je)}),Le={obsSet:re.obsSet,promise:Ee,subscribers:new Set,type:"query",req:re,dirty:!1},_e?_e.push(Le):(_e=[Le],(Ie=Ie||(Fr["idb://".concat(T,"/").concat(U)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[re.query.index.name||""]=_e)),kf(Le,_e,Ce,Ne),Le.promise.then(function(je){return{result:La(je.result,re,Ie==null?void 0:Ie.optimisticOps,V,Le,pe)}})}})}})}};function ll(C,T){return new Proxy(C,{get:function(U,V,G){return V==="db"?T:Reflect.get(U,V,G)}})}var ms=(lr.prototype.version=function(C){if(isNaN(C)||C<.1)throw new Ae.Type("Given version is not a positive number");if(C=Math.round(10*C)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,C);var T=this._versions,U=T.filter(function(V){return V._cfg.version===C})[0];return U||(U=new this.Version(C),T.push(U),T.sort(Gl),U.stores({}),this._state.autoSchema=!1,U)},lr.prototype._whenReady=function(C){var T=this;return this.idbdb&&(this._state.openComplete||St.letThrough||this._vip)?C():new wt(function(U,V){if(T._state.openComplete)return V(new Ae.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return void V(new Ae.DatabaseClosed);T.open().catch(ae)}T._state.dbReadyPromise.then(U,V)}).then(C)},lr.prototype.use=function(C){var T=C.stack,U=C.create,V=C.level,G=C.name;return G&&this.unuse({stack:T,name:G}),C=this._middlewares[T]||(this._middlewares[T]=[]),C.push({stack:T,create:U,level:V??10,name:G}),C.sort(function(re,pe){return re.level-pe.level}),this},lr.prototype.unuse=function(C){var T=C.stack,U=C.name,V=C.create;return T&&this._middlewares[T]&&(this._middlewares[T]=this._middlewares[T].filter(function(G){return V?G.create!==V:!!U&&G.name!==U})),this},lr.prototype.open=function(){var C=this;return Oi(Ft,function(){return fo(C)})},lr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var C=this._state,T=oo.indexOf(this);if(0<=T&&oo.splice(T,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}C.isBeingOpened||(C.dbReadyPromise=new wt(function(U){C.dbReadyResolve=U}),C.openCanceller=new wt(function(U,V){C.cancelOpen=V}))},lr.prototype.close=function(U){var T=(U===void 0?{disableAutoOpen:!0}:U).disableAutoOpen,U=this._state;T?(U.isBeingOpened&&U.cancelOpen(new Ae.DatabaseClosed),this._close(),U.autoOpen=!1,U.dbOpenError=new Ae.DatabaseClosed):(this._close(),U.autoOpen=this._options.autoOpen||U.isBeingOpened,U.openComplete=!1,U.dbOpenError=null)},lr.prototype.delete=function(C){var T=this;C===void 0&&(C={disableAutoOpen:!0});var U=0<arguments.length&&typeof arguments[0]!="object",V=this._state;return new wt(function(G,re){function pe(){T.close(C);var Ce=T._deps.indexedDB.deleteDatabase(T.name);Ce.onsuccess=ut(function(){var Ne,Te,Le;Ne=T._deps,Te=T.name,Le=Ne.indexedDB,Ne=Ne.IDBKeyRange,Be(Le)||Te===Fi||me(Le,Ne).delete(Te).catch(ae),G()}),Ce.onerror=aa(re),Ce.onblocked=T._fireOnBlocked}if(U)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");V.isBeingOpened?V.dbReadyPromise.then(pe):pe()})},lr.prototype.backendDB=function(){return this.idbdb},lr.prototype.isOpen=function(){return this.idbdb!==null},lr.prototype.hasBeenClosed=function(){var C=this._state.dbOpenError;return C&&C.name==="DatabaseClosed"},lr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},lr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(lr.prototype,"tables",{get:function(){var C=this;return s(this._allTables).map(function(T){return C._allTables[T]})},enumerable:!1,configurable:!0}),lr.prototype.transaction=function(){var C=(function(T,U,V){var G=arguments.length;if(G<2)throw new Ae.InvalidArgument("Too few arguments");for(var re=new Array(G-1);--G;)re[G-1]=arguments[G];return V=re.pop(),[T,D(re),V]}).apply(this,arguments);return this._transaction.apply(this,C)},lr.prototype._transaction=function(C,T,U){var V=this,G=St.trans;G&&G.db===this&&C.indexOf("!")===-1||(G=null);var re,pe,Ce=C.indexOf("?")!==-1;C=C.replace("!","").replace("?","");try{if(pe=T.map(function(Te){if(Te=Te instanceof V.Table?Te.name:Te,typeof Te!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Te}),C=="r"||C===fs)re=fs;else{if(C!="rw"&&C!=Hl)throw new Ae.InvalidArgument("Invalid transaction mode: "+C);re=Hl}if(G){if(G.mode===fs&&re===Hl){if(!Ce)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");G=null}G&&pe.forEach(function(Te){if(G&&G.storeNames.indexOf(Te)===-1){if(!Ce)throw new Ae.SubTransaction("Table "+Te+" not included in parent transaction.");G=null}}),Ce&&G&&!G.active&&(G=null)}}catch(Te){return G?G._promise(null,function(Le,Ee){Ee(Te)}):Ir(Te)}var Ne=(function Te(Le,Ee,Ie,_e,je){return wt.resolve().then(function(){var De=St.transless||St,Re=Le._createTransaction(Ee,Ie,Le._dbSchema,_e);if(Re.explicit=!0,De={trans:Re,transless:De},_e)Re.idbtrans=_e.idbtrans;else try{Re.create(),Re.idbtrans._explicit=!0,Le._state.PR1398_maxLoop=3}catch(et){return et.name===we.InvalidState&&Le.isOpen()&&0<--Le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Le.close({disableAutoOpen:!1}),Le.open().then(function(){return Te(Le,Ee,Ie,null,je)})):Ir(et)}var He,Xe=se(je);return Xe&&Or(),De=wt.follow(function(){var et;(He=je.call(Re,Re))&&(Xe?(et=Er.bind(null,null),He.then(et,et)):typeof He.next=="function"&&typeof He.throw=="function"&&(He=w(He)))},De),(He&&typeof He.then=="function"?wt.resolve(He).then(function(et){return Re.active?et:Ir(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):De.then(function(){return He})).then(function(et){return _e&&Re._resolve(),Re._completion.then(function(){return et})}).catch(function(et){return Re._reject(et),Ir(et)})})}).bind(null,this,re,pe,G,U);return G?G._promise(re,Ne,"lock"):St.trans?Oi(St.transless,function(){return V._whenReady(Ne)}):this._whenReady(Ne)},lr.prototype.table=function(C){if(!d(this._allTables,C))throw new Ae.InvalidTable("Table ".concat(C," does not exist"));return this._allTables[C]},lr);function lr(C,T){var U=this;this._middlewares={},this.verno=0;var V=lr.dependencies;this._options=T=r({addons:lr.addons,autoOpen:!0,indexedDB:V.indexedDB,IDBKeyRange:V.IDBKeyRange,cache:"cloned"},T),this._deps={indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange},V=T.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var G,re,pe,Ce,Ne,Te={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ae,dbReadyPromise:null,cancelOpen:ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:T.autoOpen};Te.dbReadyPromise=new wt(function(Ee){Te.dbReadyResolve=Ee}),Te.openCanceller=new wt(function(Ee,Ie){Te.cancelOpen=Ie}),this._state=Te,this.name=C,this.on=Ds(this,"populate","blocked","versionchange","close",{ready:[Dt,ae]}),this.once=function(Ee,Ie){var _e=function(){for(var je=[],De=0;De<arguments.length;De++)je[De]=arguments[De];U.on(Ee).unsubscribe(_e),Ie.apply(U,je)};return U.on(Ee,_e)},this.on.ready.subscribe=x(this.on.ready.subscribe,function(Ee){return function(Ie,_e){lr.vip(function(){var je,De=U._state;De.openComplete?(De.dbOpenError||wt.resolve().then(Ie),_e&&Ee(Ie)):De.onReadyBeingFired?(De.onReadyBeingFired.push(Ie),_e&&Ee(Ie)):(Ee(Ie),je=U,_e||Ee(function Re(){je.on.ready.unsubscribe(Ie),je.on.ready.unsubscribe(Re)}))})}}),this.Collection=(G=this,wa(Fs.prototype,function(He,Re){this.db=G;var _e=fu,je=null;if(Re)try{_e=Re()}catch(Xe){je=Xe}var De=He._ctx,Re=De.table,He=Re.hook.reading.fire;this._ctx={table:Re,index:De.index,isPrimKey:!De.index||Re.schema.primKey.keyPath&&De.index===Re.schema.primKey.name,range:_e,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:je,or:De.or,valueMapper:He!==Ve?He:null}})),this.Table=(re=this,wa(Ju.prototype,function(Ee,Ie,_e){this.db=re,this._tx=_e,this.name=Ee,this.schema=Ie,this.hook=re._allTables[Ee]?re._allTables[Ee].hook:Ds(null,{creating:[$e,ae],reading:[Oe,Ve],updating:[vt,ae],deleting:[ft,ae]})})),this.Transaction=(pe=this,wa(rl.prototype,function(Ee,Ie,_e,je,De){var Re=this;Ee!=="readonly"&&Ie.forEach(function(He){He=(He=_e[He])===null||He===void 0?void 0:He.yProps,He&&(Ie=Ie.concat(He.map(function(Xe){return Xe.updatesTable})))}),this.db=pe,this.mode=Ee,this.storeNames=Ie,this.schema=_e,this.chromeTransactionDurability=je,this.idbtrans=null,this.on=Ds(this,"complete","error","abort"),this.parent=De||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new wt(function(He,Xe){Re._resolve=He,Re._reject=Xe}),this._completion.then(function(){Re.active=!1,Re.on.complete.fire()},function(He){var Xe=Re.active;return Re.active=!1,Re.on.error.fire(He),Re.parent?Re.parent._reject(He):Xe&&Re.idbtrans&&Re.idbtrans.abort(),Ir(He)})})),this.Version=(Ce=this,wa(F.prototype,function(Ee){this.db=Ce,this._cfg={version:Ee,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ne=this,wa(Ec.prototype,function(Ee,Ie,_e){if(this.db=Ne,this._ctx={table:Ee,index:Ie===":id"?null:Ie,or:_e},this._cmp=this._ascending=Pn,this._descending=function(je,De){return Pn(De,je)},this._max=function(je,De){return 0<Pn(je,De)?je:De},this._min=function(je,De){return Pn(je,De)<0?je:De},this._IDBKeyRange=Ne._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(Ee){0<Ee.newVersion?console.warn("Another connection wants to upgrade database '".concat(U.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(U.name,"'. Closing db now to resume the delete request.")),U.close({disableAutoOpen:!1})}),this.on("blocked",function(Ee){!Ee.newVersion||Ee.newVersion<Ee.oldVersion?console.warn("Dexie.delete('".concat(U.name,"') was blocked")):console.warn("Upgrade '".concat(U.name,"' blocked by other connection holding version ").concat(Ee.oldVersion/10))}),this._maxKey=Fa(T.IDBKeyRange),this._createTransaction=function(Ee,Ie,_e,je){return new U.Transaction(Ee,Ie,_e,U._options.chromeTransactionDurability,je)},this._fireOnBlocked=function(Ee){U.on("blocked").fire(Ee),oo.filter(function(Ie){return Ie.name===U.name&&Ie!==U&&!Ie._state.vcFired}).map(function(Ie){return Ie.on("versionchange").fire(Ee)})},this.use(nr),this.use(Pf),this.use(Vn),this.use(W),this.use(qe);var Le=new Proxy(this,{get:function(Ee,Ie,_e){if(Ie==="_vip")return!0;if(Ie==="table")return function(De){return ll(U.table(De),Le)};var je=Reflect.get(Ee,Ie,_e);return je instanceof Ju?ll(je,Le):Ie==="tables"?je.map(function(De){return ll(De,Le)}):Ie==="_createTransaction"?function(){return ll(je.apply(this,arguments),Le)}:je}});this.vip=Le,V.forEach(function(Ee){return Ee(U)})}var ns,oa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ic=(Xl.prototype.subscribe=function(C,T,U){return this._subscribe(C&&typeof C!="function"?C:{next:C,error:T,complete:U})},Xl.prototype[oa]=function(){return this},Xl);function Xl(C){this._subscribe=C}try{ns={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{ns={indexedDB:null,IDBKeyRange:null}}function nd(C){var T,U=!1,V=new Ic(function(G){var re=se(C),pe,Ce=!1,Ne={},Te={},Le={get closed(){return Ce},unsubscribe:function(){Ce||(Ce=!0,pe&&pe.abort(),Ee&&Zr.storagemutated.unsubscribe(_e))}};G.start&&G.start(Le);var Ee=!1,Ie=function(){return Jo(je)},_e=function(De){Gr(Ne,De),br(Te,Ne)&&Ie()},je=function(){var De,Re,He;!Ce&&ns.indexedDB&&(Ne={},De={},pe&&pe.abort(),pe=new AbortController,He=function(Xe){var et=Fe();try{re&&Or();var nt=gr(C,Xe);return nt=re?nt.finally(Er):nt}finally{et&&Pe()}}(Re={subscr:De,signal:pe.signal,requery:Ie,querier:C,trans:null}),Promise.resolve(He).then(function(Xe){U=!0,T=Xe,Ce||Re.signal.aborted||(Ne={},function(et){for(var nt in et)if(d(et,nt))return;return 1}(Te=De)||Ee||(Zr(Bc,_e),Ee=!0),Jo(function(){return!Ce&&G.next&&G.next(Xe)}))},function(Xe){U=!1,["DatabaseClosedError","AbortError"].includes(Xe==null?void 0:Xe.name)||Ce||Jo(function(){Ce||G.error&&G.error(Xe)})}))};return setTimeout(Ie,0),Le});return V.hasValue=function(){return U},V.getValue=function(){return T},V}var jo=ms;function pi(C){var T=Ma;try{Ma=!0,Zr.storagemutated.fire(C),sa(C,!0)}finally{Ma=T}}f(jo,r(r({},xe),{delete:function(C){return new jo(C,{addons:[]}).delete()},exists:function(C){return new jo(C,{addons:[]}).open().then(function(T){return T.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(C){try{return T=jo.dependencies,U=T.indexedDB,T=T.IDBKeyRange,(Be(U)?Promise.resolve(U.databases()).then(function(V){return V.map(function(G){return G.name}).filter(function(G){return G!==Fi})}):me(U,T).toCollection().primaryKeys()).then(C)}catch{return Ir(new Ae.MissingAPI)}var T,U},defineClass:function(){return function(C){l(this,C)}},ignoreTransaction:function(C){return St.trans?Oi(St.transless,C):C()},vip:Ue,async:function(C){return function(){try{var T=w(C.apply(this,arguments));return T&&typeof T.then=="function"?T:wt.resolve(T)}catch(U){return Ir(U)}}},spawn:function(C,T,U){try{var V=w(C.apply(U,T||[]));return V&&typeof V.then=="function"?V:wt.resolve(V)}catch(G){return Ir(G)}},currentTransaction:{get:function(){return St.trans||null}},waitFor:function(C,T){return T=wt.resolve(typeof C=="function"?jo.ignoreTransaction(C):C).timeout(T||6e4),St.trans?St.trans.waitFor(T):T},Promise:wt,debug:{get:function(){return pt},set:function(C){ct(C)}},derive:m,extend:l,props:f,override:x,Events:Ds,on:Zr,liveQuery:nd,extendObservabilitySet:Gr,getByKeyPath:N,setByKeyPath:_,delByKeyPath:function(C,T){typeof T=="string"?_(C,T,void 0):"length"in T&&[].map.call(T,function(U){_(C,U,void 0)})},shallowClone:B,deepClone:L,getObjectDiff:ue,cmp:Pn,asap:E,minKey:-1/0,addons:[],connections:oo,errnames:we,dependencies:ns,cache:Fr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(C){return parseInt(C)}).reduce(function(C,T,U){return C+T/Math.pow(10,2*U)})})),jo.maxKey=Fa(jo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Zr(Bc,function(C){Ma||(C=new CustomEvent(eA,{detail:C}),Ma=!0,dispatchEvent(C),Ma=!1)}),addEventListener(eA,function(C){C=C.detail,Ma||pi(C)}));var Tc,Ma=!1,cl=function(){};return typeof BroadcastChannel<"u"&&((cl=function(){(Tc=new BroadcastChannel(eA)).onmessage=function(C){return C.data&&pi(C.data)}})(),typeof Tc.unref=="function"&&Tc.unref(),Zr(Bc,function(C){Ma||Tc.postMessage(C)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(C){if(!ms.disableBfCache&&C.persisted){pt&&console.debug("Dexie: handling persisted pagehide"),Tc!=null&&Tc.close();for(var T=0,U=oo;T<U.length;T++)U[T].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(C){!ms.disableBfCache&&C.persisted&&(pt&&console.debug("Dexie: handling persisted pageshow"),cl(),pi({all:new at(-1/0,[[]])}))})),wt.rejectionMapper=function(C,T){return!C||C instanceof $||C instanceof TypeError||C instanceof SyntaxError||!C.name||!ge[C.name]?C:(T=new ge[C.name](T||C.message,C),"stack"in C&&p(T,"stack",{get:function(){return this.inner.stack}}),T)},ct(pt),r(ms,Object.freeze({__proto__:null,Dexie:ms,liveQuery:nd,Entity:hu,cmp:Pn,PropModification:co,replacePrefix:function(C,T){return new co({replacePrefix:[C,T]})},add:function(C){return new co({add:C})},remove:function(C){return new co({remove:C})},default:ms,RangeSet:at,mergeRanges:en,rangesOverlap:xn}),{default:ms}),ms})})(oq);var Hhe=oq.exports;const Mj=Rr(Hhe),CR=Symbol.for("Dexie"),fg=globalThis[CR]||(globalThis[CR]=Mj);if(Mj.semVer!==fg.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Mj.semVer} and ${fg.semVer}`);const{liveQuery:Zot,mergeRanges:elt,rangesOverlap:tlt,RangeSet:nlt,cmp:rlt,Entity:ilt,PropModification:alt,replacePrefix:slt,add:olt,remove:llt,DexieYProvider:clt}=fg,lq="GanaderoOS_DB",cq=21;class zhe extends fg{constructor(){super(lq);Ln(this,"animals");Ln(this,"fathers");Ln(this,"parturitions");Ln(this,"weighings");Ln(this,"lots");Ln(this,"origins");Ln(this,"breedingSeasons");Ln(this,"sireLots");Ln(this,"serviceRecords");Ln(this,"events");Ln(this,"feedingPlans");Ln(this,"bodyWeighings");Ln(this,"products");Ln(this,"healthPlans");Ln(this,"planActivities");Ln(this,"healthEvents");this.version(cq).stores({animals:"&id, userId, status, location, motherId, fatherId, sireLotId, _synced",fathers:"&id, userId, _synced",parturitions:"&id, userId, goatId, status, _synced",weighings:"&id, userId, goatId, date, _synced",lots:"&id, userId, &name, parentLotId, _synced",origins:"&id, userId, &name, _synced",breedingSeasons:"&id, userId, &name, status, _synced",sireLots:"&id, userId, seasonId, sireId, _synced",serviceRecords:"&id, userId, sireLotId, femaleId, _synced",events:"&id, userId, animalId, date, type, lotName, _synced",feedingPlans:"&id, userId, lotName, _synced",bodyWeighings:"&id, userId, animalId, date, _synced",products:"&id, userId, &name, category, _synced",healthPlans:"&id, userId, &name, targetGroup, _synced",planActivities:"&id, userId, healthPlanId, category, _synced",healthEvents:"&id, userId, animalId, date, activityId, _synced"})}}let zv=null;const Vhe=async()=>{if(zv)return zv;const t=new zhe;try{return await t.open(),console.log("Base de datos local abierta con xito (v"+cq+")."),zv=t,t}catch(e){return console.error("Error al abrir la base de datos local.",e),e.name==="VersionError"?console.log("Dexie intentar actualizar la estructura de la base de datos."):confirm("Error al iniciar la base de datos local. Deseas forzar el reinicio? (Tus datos en la nube estn seguros). La aplicacin se recargar.")?(await fg.delete(lq),window.location.reload()):alert("La aplicacin no puede continuar sin una base de datos funcional."),new Promise(()=>{})}},Jn=()=>{if(!zv)throw new Error("La base de datos no ha sido inicializada. Llama a initDB() primero.");return zv},bs=[];for(let t=0;t<256;++t)bs.push((t+256).toString(16).slice(1));function $he(t,e=0){return(bs[t[e+0]]+bs[t[e+1]]+bs[t[e+2]]+bs[t[e+3]]+"-"+bs[t[e+4]]+bs[t[e+5]]+"-"+bs[t[e+6]]+bs[t[e+7]]+"-"+bs[t[e+8]]+bs[t[e+9]]+"-"+bs[t[e+10]]+bs[t[e+11]]+bs[t[e+12]]+bs[t[e+13]]+bs[t[e+14]]+bs[t[e+15]]).toLowerCase()}let aB;const Khe=new Uint8Array(16);function Whe(){if(!aB){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");aB=crypto.getRandomValues.bind(crypto)}return aB(Khe)}const Ghe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),SR={randomUUID:Ghe};function qhe(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Whe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$he(r)}function Ks(t,e,n){return SR.randomUUID&&!t?SR.randomUUID():qhe(t)}const Gp={nombreFinca:"Mi Finca",theme:"dark",porcentajePrenez:90,porcentajeProlificidad:120,mortalidadCrias:8,mortalidadLevante:3,mortalidadCabras:5,tasaReemplazo:20,eliminacionCabritos:100,pesoPrimerServicioKg:30,edadDesteteDias:90,pesoDesteteMetaKg:15,diasGestacion:150,diasLactanciaObjetivo:305,diasSecadoObjetivo:60,diasConfirmarPrenez:60,diasPreParto:15,diasAlertaAtraso:7,diasRetiroLecheDefault:7,diasRetiroCarneDefault:30,monedaSimbolo:"$",costoSacoAlimento:25,pesoSacoAlimentoKg:40,precioLecheLitro:.8,precioVentaCabritoKg:3.5,precioVentaDescarteAdulto:50},uq=P.createContext({}),Yt=()=>P.useContext(uq),Ki=async(t,e,n)=>{try{const r=Object.entries(n).reduce((l,[u,A])=>(A!==void 0&&u!=="_synced"&&(l[u]=A),l),{}),i=Jn()[t],a=await i.get(e),s=!a||!a.createdAt||n.createdAt===wR(),o={...r};s&&!r.createdAt?o.createdAt=wR():(r.createdAt===null||r.createdAt===void 0)&&delete o.createdAt,await Lj($a(bi,t,e),o,{merge:!0}),await i.update(e,{_synced:!0})}catch(r){console.error(`Firestore sync for ${t} (${e}) failed:`,r);const i=Jn()[t];try{await i.update(e,{_synced:!1})}catch(a){console.error(`Failed to update sync status locally for ${t} (${e}):`,a)}}},Yhe=({children:t})=>{const{currentUser:e}=sq(),[n,r]=P.useState([]),[i,a]=P.useState([]),[s,o]=P.useState([]),[l,u]=P.useState([]),[A,d]=P.useState([]),[f,h]=P.useState([]),[p,m]=P.useState([]),[v,g]=P.useState([]),[y,x]=P.useState([]),[S,E]=P.useState([]),[N,_]=P.useState([]),[B,j]=P.useState([]),[D,k]=P.useState([]),[O,L]=P.useState([]),[H,q]=P.useState([]),[Y,ee]=P.useState([]),[K,te]=P.useState(!0),[le,se]=P.useState(navigator.onLine?"idle":"offline"),[M,$]=P.useState(Gp),[J,ne]=P.useState(!0),he=P.useRef(null),we=P.useRef([]),Se=P.useRef(!1),Ae=P.useCallback(async()=>{if(Se.current||we.current.length===0||!navigator.onLine){we.current.length===0&&!Se.current&&se("idle");return}Se.current=!0,se("syncing");const Fe=we.current.shift();if(Fe)try{await Fe()}catch(Pe){console.error("Sync Queue: Error processing item:",Pe)}Se.current=!1,we.current.length>0?setTimeout(Ae,100):(se("idle"),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{we.current.length===0&&!Se.current&&se("idle")},2e3))},[]),ge=P.useCallback(Fe=>{we.current.push(Fe),Se.current||Ae()},[Ae]),xe=P.useCallback(async()=>{try{const Fe=Jn(),[Pe,We,Et,ut,qt,bn,Gn,Rt,pn,Xr,gr,Or,Er,qn,vr,Jr]=await Promise.all([Fe.animals.toArray(),Fe.fathers.toArray(),Fe.weighings.toArray(),Fe.parturitions.toArray(),Fe.lots.toArray(),Fe.origins.toArray(),Fe.breedingSeasons.toArray(),Fe.sireLots.toArray(),Fe.serviceRecords.toArray(),Fe.events.toArray(),Fe.feedingPlans.toArray(),Fe.bodyWeighings.toArray(),Fe.products.toArray(),Fe.healthPlans.toArray(),Fe.planActivities.toArray(),Fe.healthEvents.toArray()]);r(Pe),a(We),o(Et),u(ut),d(qt),h(bn),m(Gn),g(Rt),x(pn),E(Xr),_(gr),j(Or),k(Er),L(qn),q(vr),ee(Jr)}catch(Fe){console.error("Error al cargar datos locales:",Fe)}finally{te(!1)}},[]);P.useEffect(()=>{let Fe=[];const Pe=()=>{se("idle"),Ae()},We=()=>se("offline");return window.addEventListener("online",Pe),window.addEventListener("offline",We),(async()=>{if(!e){te(!1),ne(!1),r([]),a([]),o([]),u([]),d([]),h([]),m([]),g([]),x([]),E([]),_([]),j([]),k([]),L([]),q([]),ee([]),$(Gp);return}te(!0),ne(!0);try{const ut=await Vhe();await xe();const qt=$a(bi,"configuracion",e.uid),bn=xR(qt,pn=>{pn.exists()?$(Xr=>({...Gp,...Xr,...pn.data()})):($(Gp),Lj(qt,Gp).catch(Xr=>console.error("Failed to set default config",Xr))),ne(!1)},pn=>{console.error("Error fetching config:",pn),ne(!1)});Fe.push(bn);const Gn=pn=>Phe(bhe(bi,pn),Dhe("userId","==",e.uid)),Rt=(pn,Xr)=>{const gr=xR(Gn(pn),async Or=>{if(Or.metadata.hasPendingWrites)return;const Er=Or.docChanges().map(qn=>{const vr={id:qn.doc.id,...qn.doc.data()};return Object.keys(vr).forEach(Jr=>{vr[Jr]instanceof Ia&&(vr[Jr]=vr[Jr].toMillis())}),{type:qn.type,data:vr}});if(Er.length>0){navigator.onLine&&(se("syncing"),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{we.current.length===0&&!Se.current&&se("idle")},2e3));try{await ut.transaction("rw",Xr,async()=>{for(const qn of Er)qn.data._synced=!0,qn.type==="added"||qn.type==="modified"?await Xr.put(qn.data):qn.type==="removed"&&await Xr.delete(qn.data.id)}),await xe()}catch(qn){console.error(`Dexie transaction error during sync for ${pn}:`,qn)}}},Or=>{Or.code==="permission-denied"?console.warn(`Permission denied for ${pn}.`):console.error(`Firestore snapshot error for ${pn}:`,Or)});Fe.push(gr)};Rt("animals",ut.animals),Rt("fathers",ut.fathers),Rt("parturitions",ut.parturitions),Rt("weighings",ut.weighings),Rt("lots",ut.lots),Rt("origins",ut.origins),Rt("breedingSeasons",ut.breedingSeasons),Rt("sireLots",ut.sireLots),Rt("serviceRecords",ut.serviceRecords),Rt("events",ut.events),Rt("feedingPlans",ut.feedingPlans),Rt("bodyWeighings",ut.bodyWeighings),Rt("products",ut.products),Rt("healthPlans",ut.healthPlans),Rt("planActivities",ut.planActivities),Rt("healthEvents",ut.healthEvents)}catch(ut){console.error("Fallo crtico en la inicializacin:",ut),te(!1),ne(!1)}})(),()=>{Fe.forEach(ut=>ut()),window.removeEventListener("online",Pe),window.removeEventListener("offline",We),he.current&&clearTimeout(he.current)}},[e==null?void 0:e.uid,xe,Ae]);const ae=P.useCallback(Fe=>{e&&(async()=>{try{const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.events.put(We),ge(()=>Ki("events",We.id,We)),setTimeout(xe,50)}catch(Pe){console.error("Error en registro de evento local:",Pe)}})()},[e,ge,xe]),Ve=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=(Fe.id?Fe.id:`REF-${Date.now()}`).toUpperCase(),Et={...Fe,id:We,userId:e.uid,createdAt:Date.now(),_synced:!1};await Pe.animals.put(Et);let ut="";if(Et.birthDate&&Et.birthDate!=="N/A")try{ut=` F.N.: ${new Date(Et.birthDate+"T00:00:00Z").toLocaleDateString("es-VE",{day:"numeric",month:"short",year:"numeric",timeZone:"UTC"})}`}catch{ut=` F.N.: ${Et.birthDate}.`}else ut=" F.N. desconocida.";const qt=Et.isReference?"Animal de Referencia":"Animal (Activo)";ae({animalId:Et.id,date:new Date(Et.createdAt).toISOString().split("T")[0],type:"Registro",details:`${qt} registrado en el sistema.${ut}`,lotName:Et.location}),xe(),ge(()=>Ki("animals",Et.id,Et))},[e,ge,xe,ae]),Oe=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et=Fe.toUpperCase(),ut=new Date().toISOString().split("T")[0],qt=await We.animals.get(Et);if(!qt)throw new Error("Animal no encontrado para actualizar");Pe.birthDate&&Pe.birthDate!=="N/A"&&!Pe.lifecycleStage?Pe.lifecycleStage=Xhe(Pe.birthDate,qt.sex):(Pe.birthDate==="N/A"||Pe.birthDate==="")&&!Pe.lifecycleStage&&(delete Pe.lifecycleStage,Pe.birthDate="N/A");const bn={...Pe,_synced:!1};await We.animals.update(Et,bn),Pe.location!==void 0&&Pe.location!==qt.location&&ae({animalId:Et,date:ut,type:"Movimiento",details:`Movido de '${qt.location||"Sin Asignar"}' a '${Pe.location||"Sin Asignar"}'`,lotName:Pe.location||""}),Pe.reproductiveStatus!==void 0&&Pe.reproductiveStatus!==qt.reproductiveStatus&&ae({animalId:Et,date:ut,type:"Cambio de Estado",details:`Estado reproductivo: ${Pe.reproductiveStatus}`}),Pe.status!==void 0&&Pe.status!==qt.status&&ae({animalId:Et,date:Pe.endDate||ut,type:"Cambio de Estado",details:`Animal dado de baja: ${Pe.status} ${Pe.cullReason?`(${Pe.cullReason})`:""}`}),Pe.weaningDate&&!qt.weaningDate&&ae({animalId:Et,date:Pe.weaningDate,type:"Cambio de Estado",details:`Destetado con ${Pe.weaningWeight||"N/A"} Kg`}),xe();const Gn=await We.animals.get(Et);Gn&&ge(()=>Ki("animals",Et,Gn))},[e,ge,xe,ae]),fe=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=Fe.toUpperCase();await Pe.animals.delete(We),xe(),ge(()=>Of($a(bi,"animals",We)).catch(Et=>console.error("Firestore delete sync failed:",Et)))},[e,ge,xe]),$e=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.parturitions.get(Fe);if(!We)throw new Error("Parto no encontrado");const Et={status:"en-secado",dryingStartDate:new Date().toISOString().split("T")[0],_synced:!1};await Pe.parturitions.update(Fe,Et),ae({animalId:We.goatId,date:Et.dryingStartDate,type:"Cambio de Estado",details:`Inici proceso de secado (Lactancia de ${We.parturitionDate})`}),xe();const ut=await Pe.parturitions.get(Fe);ut&&ge(()=>Ki("parturitions",Fe,ut))},[e,ge,xe,ae]),ft=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.parturitions.get(Fe);if(!We)throw new Error("Parto no encontrado");const Et={status:"seca",_synced:!1};await Pe.parturitions.update(Fe,Et),ae({animalId:We.goatId,date:new Date().toISOString().split("T")[0],type:"Cambio de Estado",details:`Declarada Seca (Lactancia de ${We.parturitionDate})`}),xe();const ut=await Pe.parturitions.get(Fe);ut&&ge(()=>Ki("parturitions",Fe,ut))},[e,ge,xe,ae]),vt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn();if(await Pe.lots.where("name").equalsIgnoreCase(Fe.name).first())throw new Error(`El lote '${Fe.name}' ya existe.`);const Et={id:Ks(),name:Fe.name,parentLotId:Fe.parentLotId,userId:e.uid,_synced:!1};await Pe.lots.put(Et),xe(),ge(()=>Ki("lots",Et.id,Et))},[e,ge,xe]),Ye=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.lots.get(Fe);if(We){if(await Pe.animals.where({location:We.name}).count()>0)throw new Error("No se puede eliminar un lote con animales asignados.");if(await Pe.lots.where({parentLotId:Fe}).count()>0)throw new Error("No se puede eliminar un lote que contiene sub-lotes.")}await Pe.lots.delete(Fe),xe(),ge(()=>Of($a(bi,"lots",Fe)).catch(Et=>console.error("Firestore delete sync failed:",Et)))},[e,ge,xe]),Dt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn();if(await Pe.origins.where("name").equalsIgnoreCase(Fe).first())throw new Error(`El origen '${Fe}' ya existe.`);const Et={id:Ks(),name:Fe,userId:e.uid,_synced:!1};await Pe.origins.put(Et),xe(),ge(()=>Ki("origins",Et.id,Et))},[e,ge,xe]),pt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().origins.delete(Fe),xe(),ge(()=>Of($a(bi,"origins",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),ct=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.weighings.put(We),ae({animalId:Fe.goatId,date:Fe.date,type:"Pesaje Lechero",details:`Registro de ${Fe.kg} Kg`}),xe(),ge(()=>Ki("weighings",We.id,We))},[e,ge,xe,ae]),jt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.bodyWeighings.put(We),ae({animalId:Fe.animalId,date:Fe.date,type:"Pesaje Corporal",details:`Registro de ${Fe.kg} Kg`}),xe(),ge(()=>Ki("bodyWeighings",We.id,We))},[e,ge,xe,ae]),Xt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.weighings.where({date:Fe}).toArray();if(We.length===0)return;const Et=We.map(Rt=>Rt.id),ut=We.map(Rt=>Rt.goatId),bn=(await Pe.events.where("date").equals(Fe).and(Rt=>Rt.type==="Pesaje Lechero"&&ut.includes(Rt.animalId)).toArray()).map(Rt=>Rt.id);await Pe.transaction("rw",Pe.weighings,Pe.events,async()=>{await Pe.weighings.bulkDelete(Et),await Pe.events.bulkDelete(bn)}),await xe(),ge(async()=>{const Rt=z0(bi);Et.forEach(pn=>Rt.delete($a(bi,"weighings",pn))),bn.forEach(pn=>Rt.delete($a(bi,"events",pn))),await Rt.commit()})},[e,ge,xe]),Zt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=Fe.id.toUpperCase();if(await Pe.fathers.where("id").equalsIgnoreCase(We).first())throw new Error(`El ID de padre '${We}' ya est en uso.`);const ut={...Fe,id:We,userId:e.uid,_synced:!1};await Pe.fathers.put(ut),xe(),ge(()=>Ki("fathers",ut.id,ut))},[e,ge,xe]),Ut=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=Fe.motherId.toUpperCase(),Et=Fe.parturitionOutcome==="Aborto"&&!Fe.inducedLactation?"finalizada":"activa",ut=Ks(),qt={id:ut,goatId:We,parturitionDate:Fe.parturitionDate,sireId:Fe.sireId,offspringCount:Fe.offspringCount,parturitionType:Fe.parturitionType,parturitionOutcome:Fe.parturitionOutcome,status:Et,userId:e.uid,_synced:!1,dryingStartDate:Fe.inducedLactation&&Fe.parturitionOutcome==="Aborto"?Fe.parturitionDate:void 0,liveOffspring:Fe.liveOffspring?Fe.liveOffspring.map(Rt=>{var pn;return{id:(pn=Rt.id)==null?void 0:pn.toUpperCase(),sex:Rt.sex,birthWeight:Rt.birthWeight}}):void 0},bn=(Fe.liveOffspring||[]).map(Rt=>({id:Rt.id.toUpperCase(),sex:Rt.sex,status:"Activo",birthDate:Fe.parturitionDate,motherId:We,fatherId:Fe.sireId,birthWeight:parseFloat(Rt.birthWeight)||void 0,userId:e.uid,createdAt:Date.now(),lifecycleStage:Rt.sex==="Hembra"?"Cabrita":"Cabrito",location:"",reproductiveStatus:"No Aplica",isReference:!1,_synced:!1}));await Pe.transaction("rw",Pe.parturitions,Pe.animals,Pe.events,async()=>{await Pe.parturitions.put(qt),ae({animalId:We,date:Fe.parturitionDate,type:Fe.parturitionOutcome==="Aborto"?"Aborto":"Parto",details:Fe.parturitionOutcome==="Aborto"?`Aborto registrado con Semental: ${Fe.sireId}. ${Fe.inducedLactation?"Se induce lactancia.":""}`:`Parto ${Fe.parturitionType} (${Fe.offspringCount} cras) con Semental: ${Fe.sireId}. Vivas: ${bn.length}.`}),bn.length>0&&(await Pe.animals.bulkPut(bn),bn.forEach(Rt=>{ae({animalId:Rt.id,date:Rt.birthDate,type:"Nacimiento",details:`Nacido con ${Rt.birthWeight||"N/A"} Kg. Madre: ${Rt.motherId}. Padre: ${Rt.fatherId}.`})}))}),await xe(),ge(async()=>{const Rt=z0(bi);Rt.set($a(bi,"parturitions",ut),qt),bn.forEach(pn=>Rt.set($a(bi,"animals",pn.id),pn)),await Rt.commit()})},[e,ge,xe,ae]),rn=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.serviceRecords.put(We);const Et=await Pe.sireLots.get(We.sireLotId),ut=Et?await Pe.fathers.get(Et.sireId)||await Pe.animals.get(Et.sireId):null;ae({animalId:We.femaleId,date:We.serviceDate,type:"Servicio",details:`Servicio registrado con Semental: ${(ut==null?void 0:ut.name)||(ut==null?void 0:ut.id)||(Et==null?void 0:Et.sireId)||"Desconocido"}`}),xe(),ge(()=>Ki("serviceRecords",We.id,We))},[e,ge,xe,ae]),st=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We=await Pe.animals.where({location:Fe.lotName}).toArray();if(We.length===0)return;const Et=We.map(qt=>({id:Ks(),animalId:qt.id,date:Fe.date,type:Fe.type,details:Fe.details,lotName:Fe.lotName,userId:e.uid,notes:`Evento aplicado a todo el lote: ${Fe.lotName}`,_synced:!1}));await Pe.events.bulkPut(Et),xe(),ge(async()=>{const qt=z0(bi);Et.forEach(bn=>qt.set($a(bi,"events",bn.id),bn)),await qt.commit()})},[e,ge,xe]),bt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.feedingPlans.put(We),xe(),ge(()=>Ki("feedingPlans",We.id,We))},[e,ge,xe]),yt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};return await Pe.breedingSeasons.put(We),xe(),ge(()=>Ki("breedingSeasons",We.id,We)),We.id},[e,ge,xe]),tt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.breedingSeasons.update(Fe,Et),xe();const ut=await We.breedingSeasons.get(Fe);ut&&ge(()=>Ki("breedingSeasons",Fe,ut))},[e,ge,xe]),Qt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().breedingSeasons.delete(Fe),xe(),ge(()=>Of($a(bi,"breedingSeasons",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),dt=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};return await Pe.sireLots.put(We),xe(),ge(()=>Ki("sireLots",We.id,We)),We.id},[e,ge,xe]),mt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.sireLots.update(Fe,Et),xe();const ut=await We.sireLots.get(Fe);ut&&ge(()=>Ki("sireLots",Fe,ut))},[e,ge,xe]),Ft=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().sireLots.delete(Fe),xe(),ge(()=>Of($a(bi,"sireLots",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),St=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.products.put(We),xe(),ge(()=>Ki("products",We.id,We))},[e,ge,xe]),Vt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.products.update(Fe,Et),xe();const ut=await We.products.get(Fe);ut&&ge(()=>Ki("products",Fe,ut))},[e,ge,xe]),hn=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().products.delete(Fe),xe(),ge(()=>Of($a(bi,"products",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),cn=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={id:Ks(),...Fe,userId:e.uid,_synced:!1},ut=Pe.map(bn=>({id:Ks(),...bn,healthPlanId:Et.id,userId:e.uid,_synced:!1}));await We.transaction("rw",We.healthPlans,We.planActivities,async()=>{await We.healthPlans.put(Et),await We.planActivities.bulkPut(ut)}),xe(),ge(async()=>{const bn=z0(bi);bn.set($a(bi,"healthPlans",Et.id),Et),ut.forEach(Gn=>bn.set($a(bi,"planActivities",Gn.id),Gn)),await bn.commit()})},[e,ge,xe]),wt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.healthPlans.update(Fe,Et),xe();const ut=await We.healthPlans.get(Fe);ut&&ge(()=>Ki("healthPlans",Fe,ut))},[e,ge,xe]),Zn=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),Et=(await Pe.planActivities.where({healthPlanId:Fe}).toArray()).map(qt=>qt.id);await Pe.transaction("rw",Pe.healthPlans,Pe.planActivities,async()=>{await Pe.planActivities.bulkDelete(Et),await Pe.healthPlans.delete(Fe)}),xe(),ge(async()=>{const qt=z0(bi);Et.forEach(bn=>qt.delete($a(bi,"planActivities",bn))),qt.delete($a(bi,"healthPlans",Fe)),await qt.commit()})},[e,ge,xe]),gn=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.planActivities.put(We),xe(),ge(()=>Ki("planActivities",We.id,We))},[e,ge,xe]),Kt=P.useCallback(async(Fe,Pe)=>{if(!e)throw new Error("Usuario no autenticado");const We=Jn(),Et={...Pe,_synced:!1};await We.planActivities.update(Fe,Et),xe();const ut=await We.planActivities.get(Fe);ut&&ge(()=>Ki("planActivities",Fe,ut))},[e,ge,xe]),En=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");await Jn().planActivities.delete(Fe),xe(),ge(()=>Of($a(bi,"planActivities",Fe)).catch(We=>console.error("Firestore delete sync failed:",We)))},[e,ge,xe]),zi=P.useCallback(async Fe=>{var Et;if(!e)throw new Error("Usuario no autenticado");const Pe=Jn(),We={id:Ks(),...Fe,userId:e.uid,_synced:!1};await Pe.healthEvents.put(We),ae({animalId:We.animalId,date:We.date,type:"Tratamiento",details:`${We.type}${We.productUsed?` con ${((Et=D.find(ut=>ut.id===We.productUsed))==null?void 0:Et.name)||"producto"}`:""}`,notes:We.notes,lotName:We.lotName}),xe(),ge(()=>Ki("healthEvents",We.id,We))},[e,ge,xe,ae,D]),jr=P.useCallback(async Fe=>{if(!e)throw new Error("Usuario no autenticado");se("syncing");try{const Pe=$a(bi,"configuracion",e.uid);await Lj(Pe,Fe,{merge:!0})}catch(Pe){throw console.error("Error al guardar configuracin:",Pe),se("idle"),Pe}},[e]),Pa=P.useMemo(()=>({animals:n,fathers:i,weighings:s,parturitions:l,lots:A,origins:f,breedingSeasons:p,sireLots:v,serviceRecords:y,events:S,feedingPlans:N,bodyWeighings:B,products:D,healthPlans:O,planActivities:H,healthEvents:Y,appConfig:M,isLoadingConfig:J,isLoading:K,syncStatus:le,fetchData:xe,addAnimal:Ve,updateAnimal:Oe,deleteAnimalPermanently:fe,startDryingProcess:$e,setLactationAsDry:ft,addLot:vt,deleteLot:Ye,addOrigin:Dt,deleteOrigin:pt,addBreedingSeason:yt,updateBreedingSeason:tt,deleteBreedingSeason:Qt,addSireLot:dt,updateSireLot:mt,deleteSireLot:Ft,addServiceRecord:rn,addFeedingPlan:bt,addBatchEvent:st,addWeighing:ct,addBodyWeighing:jt,deleteWeighingSession:Xt,addParturition:Ut,addFather:Zt,addProduct:St,updateProduct:Vt,deleteProduct:hn,addHealthPlanWithActivities:cn,updateHealthPlan:wt,deleteHealthPlan:Zn,addPlanActivity:gn,updatePlanActivity:Kt,deletePlanActivity:En,addHealthEvent:zi,updateAppConfig:jr}),[n,i,s,l,A,f,p,v,y,S,N,B,D,O,H,Y,M,J,K,le,xe,Ve,Oe,fe,$e,ft,vt,Ye,Dt,pt,yt,tt,Qt,dt,mt,Ft,rn,bt,st,ct,jt,Xt,Ut,Zt,St,Vt,hn,cn,wt,Zn,gn,Kt,En,zi,jr]);return c.jsx(uq.Provider,{value:Pa,children:t})},Xhe=(t,e)=>{if(!t||t==="N/A"||!e)return"Indefinido";const n=new Date,r=new Date(t+"T00:00:00Z");if(isNaN(r.getTime()))return"Indefinido";const i=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),a=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s=Math.floor((i-a)/(1e3*60*60*24));return e==="Hembra"?s<=60?"Cabrita":s<=365?"Cabritona":"Cabra Adulta":s<=60?"Cabrito":s<=365?"Macho de Levante":"Macho Cabro"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Aq=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>P.createElement("svg",{ref:l,...Zhe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Aq("lucide",i),...o},[...s.map(([u,A])=>P.createElement(u,A)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>{const n=P.forwardRef(({className:r,...i},a)=>P.createElement(epe,{ref:a,iconNode:e,className:Aq(`lucide-${Jhe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=ht("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=ht("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=ht("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=ht("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ht("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=ht("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=ht("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=ht("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ht("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=ht("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=ht("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=ht("BarChartHorizontal",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=ht("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=ht("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=ht("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=ht("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ht("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ht("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=ht("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=ht("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=ht("ChevronsLeftRight",[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ht("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=ht("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=ht("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ht("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=ht("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=ht("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ht("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=ht("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=ht("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=ht("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=ht("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=ht("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=ht("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=ht("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ht("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=ht("Dna",[["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m17 6-2.5-2.5",key:"5cdfhj"}],["path",{d:"m14 8-1-1",key:"15nbz5"}],["path",{d:"m7 18 2.5 2.5",key:"16tu1a"}],["path",{d:"m3.5 14.5.5.5",key:"hapbhd"}],["path",{d:"m20 9 .5.5",key:"1n7z02"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m10 16 1.5 1.5",key:"11lckj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ht("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ht("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=ht("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=ht("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=ht("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=ht("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=ht("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=ht("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ht("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=ht("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=ht("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=ht("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ht("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=ht("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=ht("HeartCrack",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2",key:"xjdxli"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=ht("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=ht("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=ht("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ht("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=ht("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=ht("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=ht("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=ht("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=ht("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=ht("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=ht("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=ht("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ht("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=ht("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ht("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=ht("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ht("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ht("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=ht("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=ht("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=ht("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=ht("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ht("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ht("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=ht("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=ht("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ht("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ht("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=ht("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ht("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=ht("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=ht("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=ht("SquareMinus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=ht("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=ht("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ht("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=ht("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=ht("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=ht("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=ht("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=ht("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ht("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ht("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=ht("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=ht("Waypoints",[["circle",{cx:"12",cy:"4.5",r:"2.5",key:"r5ysbb"}],["path",{d:"m10.2 6.3-3.9 3.9",key:"1nzqf6"}],["circle",{cx:"4.5",cy:"12",r:"2.5",key:"jydg6v"}],["path",{d:"M7 12h10",key:"b7w52i"}],["circle",{cx:"19.5",cy:"12",r:"2.5",key:"1piiel"}],["path",{d:"m13.8 17.7 3.9-3.9",key:"1wyg1y"}],["circle",{cx:"12",cy:"19.5",r:"2.5",key:"13o1pw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ht("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ht("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var Pq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_R=be.createContext&&be.createContext(Pq),Upe=["attr","size","title"];function Qpe(t,e){if(t==null)return{};var n=Hpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eC(){return eC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eC.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zpe(t,e,n){return e=Vpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vpe(t){var e=$pe(t,"string");return typeof e=="symbol"?e:e+""}function $pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dq(t){return t&&t.map((e,n)=>be.createElement(e.tag,tC({key:n},e.attr),Dq(e.child)))}function Ql(t){return e=>be.createElement(Kpe,eC({attr:tC({},t.attr)},e),Dq(t.child))}function Kpe(t){var e=n=>{var{attr:r,size:i,title:a}=t,s=Qpe(t,Upe),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",eC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:tC(tC({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&be.createElement("title",null,a),t.children)};return _R!==void 0?be.createElement(_R.Consumer,null,n=>e(n)):e(Pq)}function Oq(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 23.38L89.844 89.845l-64.9 162.254 14.85 5.943c20.312-50.766 40.62-101.535 60.93-152.304l1.432-3.58L256 40.616l153.844 61.54 1.43 3.58 60.93 152.305 14.853-5.942-64.9-162.254C366.77 67.69 311.386 45.534 256 23.38zm0 36.624l-139.996 55.998L72.8 224h.2v263h78V329h-39v-18h297v176h30V224h.2c-14.402-36-28.802-72-43.204-107.998L256 60.004zM151 135h210v114H151V135zm23.563 18L199 201.873V153h-24.438zM313 153v48.873L337.438 153H313zm-144 29.127V231h24.438L169 182.127zm174 0L318.562 231H343v-48.873zm-98.73 18.69c-1.207-.02-2.31.02-3.288.128-2.823.31-10.76 3.708-16.86 7.3-2.796 1.645-5.23 3.22-7.122 4.484V231h78v-16.97c-4.193-1.675-10.334-4.02-17.578-6.368-11.206-3.63-24.71-6.71-33.152-6.846zM160 263h192v18H160v-18zm15.16 66L208 389.205 240.84 329h-65.68zm144 0L352 389.205 384.84 329h-65.68zM169 355.295v105.41L197.748 408 169 355.295zm78 0L218.252 408 247 460.705v-105.41zm66 0v105.41L341.748 408 313 355.295zm78 0L362.252 408 391 460.705v-105.41zm-183 71.5L175.16 487h65.68L208 426.795zm144 0L319.16 487h65.68L352 426.795z"},child:[]}]})(t)}function Wpe(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23 23v466h466v-18H41v-82.184l85.854-57.234 70.023 70.022 65.133-260.536L387.28 203.7 455.07 95.73l19.317 11.858 6.102-71.1-60.644 37.616 19.884 12.207-59.01 93.99-130.732-65.366-62.865 251.462-57.98-57.978L41 367.184V23H23z"},child:[]}]})(t)}function Gpe(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M44.62 106a26 26 0 0 0-25.69 29.3c16 124 16 117.4 0 241.4A26 26 0 0 0 54.72 404l138.68-57.7c-1.2 9.5-2.4 18.9-3.9 30.4-2.5 19.8 17.3 35 35.8 27.3l252-124c9.7-4 16-13.5 16-24s-6.3-20-16-24l-252-124c-3.2-1.3-6.6-2-10.1-2-15.6.1-27.7 13.8-25.7 29.3 1.5 11.5 2.7 20.9 3.9 30.4L54.72 108a26 26 0 0 0-10.1-2z"},child:[]}]})(t)}function ox(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M273 459l7.79-20 6.21 20 5.79-23.33-4.25-48c-7.76 7.94-17.54 17.85-29.74 30.27zm38.5-380.86a115.06 115.06 0 0 0-21.13-19.6c-17.315-11.88-35.418-18.913-55.08-22.14-18.751-3.067-37.99-2.743-56.33.12A203.86 203.86 0 0 0 133 49.42a184.2 184.2 0 0 0-29.62 15.36c-12.304 8.597-10.431 6.828.95 1.82a179.6 179.6 0 0 1 30.9-10c50.427-4.832 98.41-7.579 134.17 27.17a80 80 0 0 1 12.28 16c4.714 8.06 7.805 16.877 9.66 25.59l45.69 2.84c-5.032-17.752-15.256-37.574-25.53-50.06zm50.05 26.63c-8.531-13.217-18.495-25.428-29.66-34.88a78.24 78.24 0 0 0-15.79-10.38c2.67 2.68 5.22 5.45 7.61 8.32a138.13 138.13 0 0 1 9.13 12.11l.1.14.09.14c9.772 15.14 17.164 33.862 20.78 49.15l22.19 1.3a253.49 253.49 0 0 0-14.43-25.91zm29.89 43l70 179.4-11.82 28.37-65.77-37.94-8 13.86 67.56 39-4.327 5.754L394.12 372l-65.33-31.47a42.41 42.41 0 0 0-9.29-1.43c-5.71 0-9.52 2.06-12.71 6.62-2.53 3.61-78.5 80.52-147.64 150.28H16V243.73l92.85 3.85 96.61-33.26 10.13-11a214.71 214.71 0 0 1 38 24.27 18.57 18.57 0 0 0 11.61 3.93c13.792-1.574 22.025-9.12 32.83-17.83-3.267-21.244-6.724-43.71-9.56-62.1-6.463-2.155-12.926-4.308-19.39-6.46l4.39-4.78zm-37.25 65.02c-4.024-14.705-20.114-19.427-30.58-18.14-3.073.432-6.167 1.427-8.77 2.68.868 3.09 2.17 7.87 3.79 10.35 6.527 9.211 17.348 13.898 27.64 12.51 3.967-.672 8.94-3.676 7.92-7.4zm61.63 105.47l19 20 11.6-11-19-20zM475 172.99s-40.54-27.8-57-1.2l11.25 28.83zM294 382.05l13.4 22.28-.4-35.64c-3.29 3.45-7.53 7.82-12.95 13.36zm-30.6-167c5.858 1.872 17.61-6.048 17.33-8.01l-6.67-43.33-28-9.31c-17.65-2.861-58.224-4.989-67.27 9.28 39.596 39.732 39.526 16.87 84.61 51.37zm127.08 172.89c-15.313-7.704-30.838-14.996-46.28-22.44 5.153 29.387 10.895 58.672 15.75 88.11l25.26 37.33-2.6-34L400 469.61v-28.67l10.19-41.95 6.67-11.05z"},child:[]}]})(t)}function qpe(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M302.958 20.019l-93.916 46.564v35.404c31.305-15.522 62.61-31.047 93.916-46.568zm6.53 52.252l-95.4 47.3 63.036 78.137 95.397-47.303zm-111.915 55.492l-33.732 16.724h47.224zm-22.119 34.722l71.615 26.633-21.484-26.633zm-41.021 3.948v276.752l131.22 48.796v-276.75zm243.134 1.56c-31.306 15.521-62.61 31.044-93.916 46.567v275.863l93.916-46.567zM176.501 272.466s-15.3 15.085-9.889 24.203c4.167 7.02 21.889 5.418 21.889 5.418l15.549 3.848s17.72 10.374 21.887 5.416c5.41-6.44-9.887-29.098-9.887-29.098s35.91 33.492 29.662 47.318c-3.143 6.955-24.719-2.117-24.719-2.117s5.495 7.21 4.944 10.549c-1.001 6.062-13.774 9.916-13.774 9.916s1.111 21.24-6 25.168c-5.147 2.843-14.628.497-19.775-4.895-7.111-7.448-6-28.136-6-28.136s-12.775-10.177-13.776-16.735c-.55-3.611 4.944-8.103 4.944-8.103s-21.575-1.607-24.717-10.117c-6.247-16.919 29.662-32.635 29.662-32.635z"},child:[]}]})(t)}function Ype(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M90.52 390.06h38.497v16.583H65.443V390.06l31.933-28.182c2.852-2.578 4.96-5.098 6.328-7.56 1.368-2.46 2.05-5.018 2.05-7.675 0-4.1-1.386-7.402-4.16-9.902-2.733-2.5-6.386-3.75-10.956-3.75-3.516 0-7.363.763-11.543 2.286-4.18 1.485-8.652 3.71-13.418 6.68v-19.22c5.078-1.678 10.098-2.948 15.06-3.807 4.96-.9 9.823-1.35 14.588-1.35 10.47 0 18.594 2.306 24.375 6.915 5.82 4.61 8.73 11.035 8.73 19.277 0 4.766-1.23 9.22-3.69 13.36-2.46 4.1-7.637 9.61-15.528 16.523l-18.69 16.406m349.377 32.915c5.897 1.524 10.37 4.18 13.417 7.97 3.086 3.75 4.63 8.534 4.63 14.355 0 8.672-3.322 15.273-9.962 19.804-6.64 4.493-16.328 6.74-29.063 6.74-4.492 0-9.004-.372-13.535-1.115-4.492-.704-8.945-1.778-13.36-3.223v-17.403c4.22 2.11 8.4 3.71 12.54 4.805 4.18 1.054 8.28 1.58 12.304 1.58 5.978 0 10.548-1.034 13.712-3.104 3.203-2.07 4.805-5.04 4.805-8.907 0-3.985-1.64-6.993-4.922-9.024-3.242-2.07-8.047-3.105-14.414-3.106h-9.022v-14.53h9.492c5.664 0 9.883-.88 12.656-2.638 2.773-1.796 4.16-4.51 4.16-8.144 0-3.36-1.347-5.957-4.043-7.793-2.695-1.836-6.504-2.754-11.426-2.754-3.632 0-7.304.41-11.015 1.232-3.71.82-7.403 2.03-11.074 3.632V384.83c4.453-1.25 8.867-2.186 13.242-2.812 4.375-.624 8.672-.937 12.89-.937 11.368 0 19.864 1.876 25.49 5.626 5.663 3.71 8.495 9.316 8.495 16.816 0 5.118-1.348 9.317-4.043 12.598-2.696 3.242-6.68 5.527-11.953 6.856M236.062 230.74h19.922v-56.544l-20.45 4.22v-15.352l20.333-4.22h21.445v71.895h19.922v15.585h-61.172V230.74M496 496V352H352V128H176v160H16v208"},child:[]}]})(t)}function Xpe(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M24.844 25.563c1.333 77.685 25.778 141.568 63.283 187.955 4.367-4.937 8.77-9.796 13.13-14.553a9.5 9.5 0 0 1 7.348-3.178 9.5 9.5 0 0 1 6.66 16.016c-22.957 25.048-46.51 52.82-58.777 76.95-6.132 12.067-9.31 23.07-9.037 31.874.17 5.474 1.374 10.174 4.26 14.562l16.552-22.684a9.5 9.5 0 0 1 7.898-4.008 9.5 9.5 0 0 1 7.45 15.207l-16.635 22.797c2.973.316 6.316-.284 10.474-1.75 8.174-2.882 18.38-9.868 28.734-19.672 20.704-19.608 42.15-50.057 56.953-77.644a9.5 9.5 0 0 1 9.9-4.885c6.228 1.017 22.147 2.215 35.78.573 6.816-.82 13.107-2.395 17.232-4.432 4.124-2.035 5.597-3.84 6.12-5.934a9.5 9.5 0 1 1 18.434 4.603c-2.193 8.78-8.967 14.825-16.145 18.37-7.18 3.542-15.245 5.277-23.372 6.256-12.798 1.542-25.47 1.082-34.522.143-2.816 5.038-5.806 10.122-8.937 15.192 29.03 14.058 60.48 21.354 92.34 21.115 22.055-.164 43.82-4.29 64.64-11.937-6.014-8.637-11.297-17.378-15.596-25.96A9.5 9.5 0 1 1 326 252.03c13.688 27.32 40.692 59.164 67.537 79.982 13.423 10.41 26.846 18.047 37.842 21.363 5.988 1.806 10.902 2.378 14.983 1.854l-10.996-13.093a9.5 9.5 0 0 1 7.06-15.715 9.5 9.5 0 0 1 7.49 3.494l12.054 14.352c3.226-4.725 4.71-9.948 5.042-16.102.513-9.534-2.39-21.344-8.18-34.158-11.578-25.63-34.297-54.796-57.053-79.625a9.5 9.5 0 0 1 7.322-16.01 9.5 9.5 0 0 1 6.685 3.172c3.1 3.384 6.205 6.848 9.29 10.37 37.514-47.34 61.834-111.574 62.892-186.352H24.843zm138.664 270.68c-4.952 14.607-8.863 29.266-11.043 42.61-2.476 15.154-2.608 28.608-.29 37.745 2.32 9.137 5.71 13.32 12.514 15.22 10.31 2.88 17.56 1.32 24.884-3.572 7.325-4.893 14.436-13.87 20.696-25.87 6.813-13.064 12.555-29.486 17.517-47.09-22.16-3.106-43.775-9.54-64.28-19.044zm173.04 6.083c-9.938 3.936-20.108 7.144-30.456 9.57.512.913 1.02 1.844 1.54 2.733 7.736 13.262 16.197 23.722 23.802 29.292 7.604 5.57 12.882 6.638 19.34 3.77 7.937-3.52 12.458-8.014 15.236-14.087-10.454-9.556-20.457-20.185-29.46-31.28z"},child:[]}]})(t)}const Jpe=()=>{const[t,e]=P.useState(!0),[n,r]=P.useState(""),[i,a]=P.useState(""),[s,o]=P.useState(null),[l,u]=P.useState(!1),A=async()=>{if(window.confirm("Ests seguro de que quieres forzar la eliminacin de la base de datos local? Esto no afectar tus datos en la nube."))try{await fg.delete("GanaderoOS_DB"),alert("Base de datos local eliminada con xito. La pgina se recargar."),window.location.reload()}catch(h){alert("Error al eliminar la base de datos."),console.error(h)}},d=h=>{if(h.code==="auth/network-request-failed")return"No hay conexin a internet. Se requiere conexin para iniciar sesin.";switch(h.code){case"auth/invalid-email":return"El formato del correo electrnico no es vlido.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electrnico o contrasea incorrectos.";case"auth/email-already-in-use":return"Este correo electrnico ya est registrado.";case"auth/weak-password":return"La contrasea debe tener al menos 6 caracteres.";default:return console.error("Firebase Auth Error:",h),"Ocurri un error inesperado. Por favor, intenta de nuevo."}},f=async h=>{h.preventDefault(),o(null),u(!0);try{t?await xAe(dg,n,i):await bAe(dg,n,i)}catch(p){o(d(p))}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[c.jsx(ox,{className:"w-12 h-12 text-brand-orange"}),c.jsx("h1",{className:"text-4xl font-bold text-white",children:"GanaderoOS"})]}),c.jsx("p",{className:"text-zinc-400",children:"El sistema operativo para tu finca."})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-6 border border-brand-border",children:[c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full mb-6",children:[c.jsx("button",{onClick:()=>e(!0),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"bg-zinc-700 text-white":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Iniciar Sesin"}),c.jsx("button",{onClick:()=>e(!1),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"text-zinc-400 hover:bg-zinc-800/50":"bg-zinc-700 text-white"}`,children:"Registrarse"})]}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsx("input",{type:"email",value:n,onChange:h=>r(h.target.value),placeholder:"Correo electrnico",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),c.jsx("input",{type:"password",value:i,onChange:h=>a(h.target.value),placeholder:"Contrasea",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),s&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:s})]}),c.jsx("button",{type:"submit",disabled:l,className:"w-full bg-brand-orange text-white font-bold py-3 rounded-xl transition-colors hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Procesando...":t?"Iniciar Sesin":"Crear Cuenta"})]})]}),c.jsxs("div",{className:"mt-6 text-center",children:[c.jsxs("button",{onClick:A,className:"flex items-center justify-center gap-2 mx-auto bg-brand-red/20 text-brand-red font-semibold py-2 px-4 rounded-lg border border-brand-red/50 hover:bg-brand-red/30 transition-colors",children:[c.jsx(bc,{size:16}),"Forzar Reinicio de DB Local"]}),c.jsx("p",{className:"text-xs text-zinc-600 mt-2",children:"Si la app no carga, usa este botn."})]})]})})};function Zpe(t){return Ql({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 160c44.2 0 80-35.8 80-80S236.2 0 192 0s-80 35.8-80 80 35.8 80 80 80zm-53.4 248.8l25.6-32-61.5-51.2L56.8 383c-11.4 14.2-11.7 34.4-.8 49l48 64c7.9 10.5 19.9 16 32 16 8.3 0 16.8-2.6 24-8 17.7-13.2 21.2-38.3 8-56l-29.4-39.2zm142.7-83.2l-61.5 51.2 25.6 32L216 448c-13.2 17.7-9.7 42.8 8 56 7.2 5.4 15.6 8 24 8 12.2 0 24.2-5.5 32-16l48-64c10.9-14.6 10.6-34.8-.8-49l-45.9-57.4zM376.7 145c-12.7-18.1-37.6-22.4-55.7-9.8l-40.6 28.5c-52.7 37-124.2 37-176.8 0L63 135.3C44.9 122.6 20 127 7.3 145-5.4 163.1-1 188 17 200.7l40.6 28.5c17 11.9 35.4 20.9 54.4 27.9V288h160v-30.8c19-7 37.4-16 54.4-27.9l40.6-28.5c18.1-12.8 22.4-37.7 9.7-55.8z"},child:[]}]})(t)}function eme(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(t)}function tme(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 174.8l55.7 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-55.7-55.8-45.3 45.3 55.8 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L111 265.2l-26.4 26.4c-17.3 17.3-25.6 41.1-23 65.4l7.1 63.6L2.3 487c-3.1 3.1-3.1 8.2 0 11.3l11.3 11.3c3.1 3.1 8.2 3.1 11.3 0l66.3-66.3 63.6 7.1c23.9 2.6 47.9-5.4 65.4-23l181.9-181.9-135.7-135.7-64.9 65zm308.2-93.3L430.5 2.3c-3.1-3.1-8.2-3.1-11.3 0l-11.3 11.3c-3.1 3.1-3.1 8.2 0 11.3l28.3 28.3-45.3 45.3-56.6-56.6-17-17c-3.1-3.1-8.2-3.1-11.3 0l-33.9 33.9c-3.1 3.1-3.1 8.2 0 11.3l17 17L424.8 223l17 17c3.1 3.1 8.2 3.1 11.3 0l33.9-34c3.1-3.1 3.1-8.2 0-11.3l-73.5-73.5 45.3-45.3 28.3 28.3c3.1 3.1 8.2 3.1 11.3 0l11.3-11.3c3.1-3.2 3.1-8.2 0-11.4z"},child:[]}]})(t)}function nme(t){return Ql({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 336c-48.6 0-88 39.4-88 88s39.4 88 88 88 88-39.4 88-88-39.4-88-88-88zm0 112c-13.23 0-24-10.77-24-24s10.77-24 24-24 24 10.77 24 24-10.77 24-24 24zm80-288h-64v-40.2c0-14.12 4.7-27.76 13.15-38.84 4.42-5.8 3.55-14.06-1.32-19.49L534.2 37.3c-6.66-7.45-18.32-6.92-24.7.78C490.58 60.9 480 89.81 480 119.8V160H377.67L321.58 29.14A47.914 47.914 0 0 0 277.45 0H144c-26.47 0-48 21.53-48 48v146.52c-8.63-6.73-20.96-6.46-28.89 1.47L36 227.1c-8.59 8.59-8.59 22.52 0 31.11l5.06 5.06c-4.99 9.26-8.96 18.82-11.91 28.72H22c-12.15 0-22 9.85-22 22v44c0 12.15 9.85 22 22 22h7.14c2.96 9.91 6.92 19.46 11.91 28.73l-5.06 5.06c-8.59 8.59-8.59 22.52 0 31.11L67.1 476c8.59 8.59 22.52 8.59 31.11 0l5.06-5.06c9.26 4.99 18.82 8.96 28.72 11.91V490c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22v-7.14c9.9-2.95 19.46-6.92 28.72-11.91l5.06 5.06c8.59 8.59 22.52 8.59 31.11 0l31.11-31.11c8.59-8.59 8.59-22.52 0-31.11l-5.06-5.06c4.99-9.26 8.96-18.82 11.91-28.72H330c12.15 0 22-9.85 22-22v-6h80.54c21.91-28.99 56.32-48 95.46-48 18.64 0 36.07 4.61 51.8 12.2l50.82-50.82c6-6 9.37-14.14 9.37-22.63V192c.01-17.67-14.32-32-31.99-32zM176 416c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm22-256h-38V64h106.89l41.15 96H198z"},child:[]}]})(t)}function rme(t){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.28 445.86l-73.03-292.13c-3.8-15.19-16.44-25.72-30.87-25.72h-60.25c3.57-10.05 5.88-20.72 5.88-32 0-53.02-42.98-96-96-96s-96 42.98-96 96c0 11.28 2.3 21.95 5.88 32h-60.25c-14.43 0-27.08 10.54-30.87 25.72L1.72 445.86C-6.61 479.17 16.38 512 48.03 512h415.95c31.64 0 54.63-32.83 46.3-66.14zM256 128c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z"},child:[]}]})(t)}const An=({isOpen:t,onClose:e,title:n,children:r,size:i="default"})=>{if(!t)return null;const a=i==="fullscreen"?"items-end":"items-center",s={default:"max-w-md m-4 rounded-2xl",large:"max-w-xl m-4 rounded-2xl",fullscreen:"w-full h-[95vh] rounded-t-2xl flex flex-col"};return c.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center z-50 animate-fade-in ${a}`,onClick:e,children:c.jsxs("div",{className:`bg-ios-modal-bg border border-zinc-700/80 shadow-2xl text-white transform transition-all animate-slide-up ${s[i]}`,onClick:o=>o.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-zinc-800/80",children:[c.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:n}),c.jsx("button",{onClick:e,className:"p-1 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-700/50 transition-colors",children:c.jsx(Bo,{size:20})})]}),c.jsx("div",{className:i==="fullscreen"?"flex-1 overflow-y-auto p-4":"overflow-y-auto max-h-[85vh] p-6",children:r})]})})},ime=({isOpen:t,onClose:e,editingLotId:n})=>{const{lots:r,addLot:i}=Yt(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState(""),d=async()=>{if(a.trim()===""){A("El nombre del lote no puede estar vaco.");return}try{await i({name:a,parentLotId:o||void 0}),f()}catch(p){A(p.message||"No se pudo guardar el lote."),console.error(p)}},f=()=>{s(""),l(""),A(""),e()},h=r.filter(p=>!p.parentLotId&&p.id!==n);return c.jsx(An,{isOpen:t,onClose:f,title:"Crear Nuevo Lote",children:c.jsxs("form",{onSubmit:p=>{p.preventDefault(),d()},className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicacin o lote en tu finca."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lotName",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Lote"}),c.jsx("input",{id:"lotName",type:"text",value:a,onChange:p=>s(p.target.value),placeholder:"Ej: Galpn 1",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"parentLot",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Sub-lote de (Opcional)"}),c.jsxs("select",{id:"parentLot",value:o,onChange:p=>l(p.target.value),className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0",children:[c.jsx("option",{value:"",children:"Ninguno (Es un Lote Principal)"}),h.map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]})]}),u&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:u}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{type:"button",onClick:f,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})})},PD=P.createContext({});function YA(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const P5=P.createContext(null),D5=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ame extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sme({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=P.useContext(D5);return P.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:u}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const A=document.createElement("style");return a&&(A.nonce=a),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[e]),c.jsx(ame,{isPresent:e,childRef:r,sizeRef:i,children:P.cloneElement(t,{ref:r})})}const ome=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=YA(lme),l=P.useId(),u=P.useCallback(d=>{o.set(d,!0);for(const f of o.values())if(!f)return;r&&r()},[o,r]),A=P.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:d=>(o.set(d,!1),()=>o.delete(d))}),a?[Math.random(),u]:[n,u]);return P.useMemo(()=>{o.forEach((d,f)=>o.set(f,!1))},[n]),P.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=c.jsx(sme,{isPresent:n,children:t})),c.jsx(P5.Provider,{value:A,children:t})};function lme(){return new Map}function Fq(t=!0){const e=P.useContext(P5);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=P.useId();P.useEffect(()=>{t&&i(a)},[t]);const s=P.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const g1=t=>t.key||"";function NR(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const DD=typeof window<"u",O5=DD?P.useLayoutEffect:P.useEffect,Ww=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,l]=Fq(s),u=P.useMemo(()=>NR(t),[t]),A=s&&!o?[]:u.map(g1),d=P.useRef(!0),f=P.useRef(u),h=YA(()=>new Map),[p,m]=P.useState(u),[v,g]=P.useState(u);O5(()=>{d.current=!1,f.current=u;for(let S=0;S<v.length;S++){const E=g1(v[S]);A.includes(E)?h.delete(E):h.get(E)!==!0&&h.set(E,!1)}},[v,A.length,A.join("-")]);const y=[];if(u!==p){let S=[...u];for(let E=0;E<v.length;E++){const N=v[E],_=g1(N);A.includes(_)||(S.splice(E,0,N),y.push(N))}a==="wait"&&y.length&&(S=y),g(NR(S)),m(u);return}const{forceRender:x}=P.useContext(PD);return c.jsx(c.Fragment,{children:v.map(S=>{const E=g1(S),N=s&&!o?!1:u===v||A.includes(E),_=()=>{if(h.has(E))h.set(E,!0);else return;let B=!0;h.forEach(j=>{j||(B=!1)}),B&&(x==null||x(),g(f.current),s&&(l==null||l()),r&&r())};return c.jsx(ome,{isPresent:N,initial:!d.current||n?void 0:!1,custom:N?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:N?void 0:_,children:S},E)})})},Nl=t=>t;let Lq=Nl;function OD(t){let e;return()=>(e===void 0&&(e=t()),e)}const mg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},BA=t=>t*1e3,NA=t=>t/1e3,cme={useManualTiming:!1};function ume(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(l.schedule(u),t()),u(s)}const l={schedule:(u,A=!1,d=!1)=>{const h=d&&r?e:n;return A&&a.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const v1=["read","resolveKeyframes","update","preRender","render","postRender"],Ame=40;function Mq(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=v1.reduce((g,y)=>(g[y]=ume(a),g),{}),{read:o,resolveKeyframes:l,update:u,preRender:A,render:d,postRender:f}=s,h=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,Ame),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),A.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},p=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:v1.reduce((g,y)=>{const x=s[y];return g[y]=(S,E=!1,N=!1)=>(n||p(),x.schedule(S,E,N)),g},{}),cancel:g=>{for(let y=0;y<v1.length;y++)s[v1[y]].cancel(g)},state:i,steps:s}}const{schedule:fi,cancel:RA,state:Cs,steps:oB}=Mq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nl,!0),Rq=P.createContext({strict:!1}),jR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gg={};for(const t in jR)gg[t]={isEnabled:e=>jR[t].some(n=>!!e[n])};function dme(t){for(const e in t)gg[e]={...gg[e],...t[e]}}const fme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nC(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fme.has(t)}let Uq=t=>!nC(t);function hme(t){t&&(Uq=e=>e.startsWith("on")?!nC(e):t(e))}try{hme(require("@emotion/is-prop-valid").default)}catch{}function pme(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Uq(i)||n===!0&&nC(i)||!e&&!nC(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function mme(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const F5=P.createContext({});function Wy(t){return typeof t=="string"||Array.isArray(t)}function L5(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const FD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],LD=["initial",...FD];function M5(t){return L5(t.animate)||LD.some(e=>Wy(t[e]))}function Qq(t){return!!(M5(t)||t.variants)}function gme(t,e){if(M5(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wy(n)?n:void 0,animate:Wy(r)?r:void 0}}return t.inherit!==!1?e:{}}function vme(t){const{initial:e,animate:n}=gme(t,P.useContext(F5));return P.useMemo(()=>({initial:e,animate:n}),[IR(e),IR(n)])}function IR(t){return Array.isArray(t)?t.join(" "):t}const yme=Symbol.for("motionComponentSymbol");function hm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bme(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hm(n)&&(n.current=r))},[e])}const MD=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xme="framerAppearId",Hq="data-"+MD(xme),{schedule:RD}=Mq(queueMicrotask,!1),zq=P.createContext({});function wme(t,e,n,r,i){var a,s;const{visualElement:o}=P.useContext(F5),l=P.useContext(Rq),u=P.useContext(P5),A=P.useContext(D5).reducedMotion,d=P.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:A}));const f=d.current,h=P.useContext(zq);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Cme(d.current,n,i,h);const p=P.useRef(!1);P.useInsertionEffect(()=>{f&&p.current&&f.update(n,u)});const m=n[Hq],v=P.useRef(!!m&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,m))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return O5(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),RD.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),P.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),v.current=!1))}),f}function Cme(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Vq(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&hm(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Vq(t){if(t)return t.options.allowProjection!==!1?t.projection:Vq(t.parent)}function Sme({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,s;t&&dme(t);function o(u,A){let d;const f={...P.useContext(D5),...u,layoutId:Eme(u)},{isStatic:h}=f,p=vme(u),m=r(u,h);if(!h&&DD){_me();const v=Bme(f);d=v.MeasureLayout,p.visualElement=wme(i,m,f,e,v.ProjectionNode)}return c.jsxs(F5.Provider,{value:p,children:[d&&p.visualElement?c.jsx(d,{visualElement:p.visualElement,...f}):null,n(i,u,bme(m,p.visualElement,A),m,h,p.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=P.forwardRef(o);return l[yme]=i,l}function Eme({layoutId:t}){const e=P.useContext(PD).id;return e&&t!==void 0?e+"-"+t:t}function _me(t,e){P.useContext(Rq).strict}function Bme(t){const{drag:e,layout:n}=gg;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Nme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UD(t){return typeof t!="string"||t.includes("-")?!1:!!(Nme.indexOf(t)>-1||/[A-Z]/u.test(t))}function TR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function QD(t,e,n,r){if(typeof e=="function"){const[i,a]=TR(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=TR(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const Hj=t=>Array.isArray(t),jme=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Ime=t=>Hj(t)?t[t.length-1]||0:t,Bs=t=>!!(t&&t.getVelocity);function Gw(t){const e=Bs(t)?t.get():t;return jme(e)?e.toValue():e}function Tme({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const s={latestValues:kme(r,i,a,t),renderState:e()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const $q=t=>(e,n)=>{const r=P.useContext(F5),i=P.useContext(P5),a=()=>Tme(t,e,r,i);return n?a():YA(a)};function kme(t,e,n,r){const i={},a=r(t,{});for(const f in a)i[f]=Gw(a[f]);let{initial:s,animate:o}=t;const l=M5(t),u=Qq(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let A=n?n.initial===!1:!1;A=A||s===!1;const d=A?o:s;if(d&&typeof d!="boolean"&&!L5(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const p=QD(t,f[h]);if(p){const{transitionEnd:m,transition:v,...g}=p;for(const y in g){let x=g[y];if(Array.isArray(x)){const S=A?x.length-1:0;x=x[S]}x!==null&&(i[y]=x)}for(const y in m)i[y]=m[y]}}}return i}const l0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],up=new Set(l0),Kq=t=>e=>typeof e=="string"&&e.startsWith(t),Wq=Kq("--"),Pme=Kq("var(--"),HD=t=>Pme(t)?Dme.test(t.split("/*")[0].trim()):!1,Dme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gq=(t,e)=>e&&typeof t=="number"?e.transform(t):t,UA=(t,e,n)=>n>e?e:n<t?t:n,c0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gy={...c0,transform:t=>UA(0,1,t)},y1={...c0,default:1},lx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gd=lx("deg"),Ou=lx("%"),Bn=lx("px"),Ome=lx("vh"),Fme=lx("vw"),kR={...Ou,parse:t=>Ou.parse(t)/100,transform:t=>Ou.transform(t*100)},Lme={borderWidth:Bn,borderTopWidth:Bn,borderRightWidth:Bn,borderBottomWidth:Bn,borderLeftWidth:Bn,borderRadius:Bn,radius:Bn,borderTopLeftRadius:Bn,borderTopRightRadius:Bn,borderBottomRightRadius:Bn,borderBottomLeftRadius:Bn,width:Bn,maxWidth:Bn,height:Bn,maxHeight:Bn,top:Bn,right:Bn,bottom:Bn,left:Bn,padding:Bn,paddingTop:Bn,paddingRight:Bn,paddingBottom:Bn,paddingLeft:Bn,margin:Bn,marginTop:Bn,marginRight:Bn,marginBottom:Bn,marginLeft:Bn,backgroundPositionX:Bn,backgroundPositionY:Bn},Mme={rotate:gd,rotateX:gd,rotateY:gd,rotateZ:gd,scale:y1,scaleX:y1,scaleY:y1,scaleZ:y1,skew:gd,skewX:gd,skewY:gd,distance:Bn,translateX:Bn,translateY:Bn,translateZ:Bn,x:Bn,y:Bn,z:Bn,perspective:Bn,transformPerspective:Bn,opacity:Gy,originX:kR,originY:kR,originZ:Bn},PR={...c0,transform:Math.round},zD={...Lme,...Mme,zIndex:PR,size:Bn,fillOpacity:Gy,strokeOpacity:Gy,numOctaves:PR},Rme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ume=l0.length;function Qme(t,e,n){let r="",i=!0;for(let a=0;a<Ume;a++){const s=l0[a],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=Gq(o,zD[s]);if(!l){i=!1;const A=Rme[s]||s;r+=`${A}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function VD(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const l in e){const u=e[l];if(up.has(l)){s=!0;continue}else if(Wq(l)){i[l]=u;continue}else{const A=Gq(u,zD[l]);l.startsWith("origin")?(o=!0,a[l]=A):r[l]=A}}if(e.transform||(s||n?r.transform=Qme(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:A=0}=a;r.transformOrigin=`${l} ${u} ${A}`}}const Hme={offset:"stroke-dashoffset",array:"stroke-dasharray"},zme={offset:"strokeDashoffset",array:"strokeDasharray"};function Vme(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?Hme:zme;t[a.offset]=Bn.transform(-r);const s=Bn.transform(e),o=Bn.transform(n);t[a.array]=`${s} ${o}`}function DR(t,e,n){return typeof t=="string"?t:Bn.transform(e+n*t)}function $me(t,e,n){const r=DR(e,t.x,t.width),i=DR(n,t.y,t.height);return`${r} ${i}`}function $D(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},A,d){if(VD(t,u,d),A){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:p}=t;f.transform&&(p&&(h.transform=f.transform),delete f.transform),p&&(i!==void 0||a!==void 0||h.transform)&&(h.transformOrigin=$me(p,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&Vme(f,s,o,l,!1)}const KD=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),qq=()=>({...KD(),attrs:{}}),WD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yq(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const Xq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jq(t,e,n,r){Yq(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Xq.has(i)?i:MD(i),e.attrs[i])}const rC={};function Kme(t){Object.assign(rC,t)}function Zq(t,{layout:e,layoutId:n}){return up.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rC[t]||t==="opacity")}function GD(t,e,n){var r;const{style:i}=t,a={};for(const s in i)(Bs(i[s])||e.style&&Bs(e.style[s])||Zq(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function eY(t,e,n){const r=GD(t,e,n);for(const i in t)if(Bs(t[i])||Bs(e[i])){const a=l0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function Wme(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const OR=["x","y","width","height","cx","cy","r"],Gme={useVisualState:$q({scrapeMotionValuesFromProps:eY,createRenderState:qq,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const o in i)if(up.has(o)){a=!0;break}}if(!a)return;let s=!e;if(e)for(let o=0;o<OR.length;o++){const l=OR[o];t[l]!==e[l]&&(s=!0)}s&&fi.read(()=>{Wme(n,r),fi.render(()=>{$D(r,i,WD(n.tagName),t.transformTemplate),Jq(n,r)})})}})},qme={useVisualState:$q({scrapeMotionValuesFromProps:GD,createRenderState:KD})};function tY(t,e,n){for(const r in e)!Bs(e[r])&&!Zq(r,n)&&(t[r]=e[r])}function Yme({transformTemplate:t},e){return P.useMemo(()=>{const n=KD();return VD(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Xme(t,e){const n=t.style||{},r={};return tY(r,n,t),Object.assign(r,Yme(t,e)),r}function Jme(t,e){const n={},r=Xme(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Zme(t,e,n,r){const i=P.useMemo(()=>{const a=qq();return $D(a,e,WD(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};tY(a,t.style,t),i.style={...a,...i.style}}return i}function ege(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(UD(n)?Zme:Jme)(r,a,s,n),u=pme(r,typeof n=="string",t),A=n!==P.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=P.useMemo(()=>Bs(d)?d.get():d,[d]);return P.createElement(n,{...A,children:f})}}function tge(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...UD(r)?Gme:qme,preloadedFeatures:t,useRender:ege(i),createVisualElement:e,Component:r};return Sme(s)}}function nY(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function R5(t,e,n){const r=t.getProps();return QD(r,e,n!==void 0?n:r.custom,t)}const nge=OD(()=>window.ScrollTimeline!==void 0);class rge{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(nge()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ige extends rge{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function qD(t,e){return t?t[e]||t.default||t:void 0}const zj=2e4;function rY(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<zj;)e+=n,r=t.next(e);return e>=zj?1/0:e}function YD(t){return typeof t=="function"}function FR(t,e){t.timeline=e,t.onfinish=null}const XD=t=>Array.isArray(t)&&typeof t[0]=="number",age={linearEasing:void 0};function sge(t,e){const n=OD(t);return()=>{var r;return(r=age[e])!==null&&r!==void 0?r:n()}}const iC=sge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iY=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(mg(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function aY(t){return!!(typeof t=="function"&&iC()||!t||typeof t=="string"&&(t in Vj||iC())||XD(t)||Array.isArray(t)&&t.every(aY))}const vv=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Vj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vv([0,.65,.55,1]),circOut:vv([.55,0,1,.45]),backIn:vv([.31,.01,.66,-.59]),backOut:vv([.33,1.53,.69,.99])};function sY(t,e){if(t)return typeof t=="function"&&iC()?iY(t,e):XD(t)?vv(t):Array.isArray(t)?t.map(n=>sY(n,e)||Vj.easeOut):Vj[t]}const Rc={x:!1,y:!1};function oY(){return Rc.x||Rc.y}function oge(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function lY(t,e){const n=oge(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function LR(t){return e=>{e.pointerType==="touch"||oY()||t(e)}}function lge(t,e,n={}){const[r,i,a]=lY(t,n),s=LR(o=>{const{target:l}=o,u=e(o);if(typeof u!="function"||!l)return;const A=LR(d=>{u(d),l.removeEventListener("pointerleave",A)});l.addEventListener("pointerleave",A,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const cY=(t,e)=>e?t===e?!0:cY(t,e.parentElement):!1,JD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uge(t){return cge.has(t.tagName)||t.tabIndex!==-1}const yv=new WeakSet;function MR(t){return e=>{e.key==="Enter"&&t(e)}}function lB(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Age=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=MR(()=>{if(yv.has(n))return;lB(n,"down");const i=MR(()=>{lB(n,"up")}),a=()=>lB(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function RR(t){return JD(t)&&!oY()}function dge(t,e,n={}){const[r,i,a]=lY(t,n),s=o=>{const l=o.currentTarget;if(!RR(o)||yv.has(l))return;yv.add(l);const u=e(o),A=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!RR(h)||!yv.has(l))&&(yv.delete(l),typeof u=="function"&&u(h,{success:p}))},d=h=>{A(h,n.useGlobalTarget||cY(l,h.target))},f=h=>{A(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{!uge(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",u=>Age(u,i),i)}),a}function fge(t){return t==="x"||t==="y"?Rc[t]?null:(Rc[t]=!0,()=>{Rc[t]=!1}):Rc.x||Rc.y?null:(Rc.x=Rc.y=!0,()=>{Rc.x=Rc.y=!1})}const uY=new Set(["width","height","top","left","right","bottom",...l0]);let qw;function hge(){qw=void 0}const Fu={now:()=>(qw===void 0&&Fu.set(Cs.isProcessing||cme.useManualTiming?Cs.timestamp:performance.now()),qw),set:t=>{qw=t,queueMicrotask(hge)}};function ZD(t,e){t.indexOf(e)===-1&&t.push(e)}function e3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function pge([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[a]=t.splice(e,1);t.splice(i,0,a)}return t}class t3{constructor(){this.subscriptions=[]}add(e){return ZD(this.subscriptions,e),()=>e3(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function AY(t,e){return e?t*(1e3/e):0}const UR=30,mge=t=>!isNaN(parseFloat(t)),$v={current:void 0};class gge{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Fu.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new t3);const r=this.events[e].add(n);return e==="change"?()=>{r(),fi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return $v.current&&$v.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Fu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>UR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,UR);return AY(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vg(t,e){return new gge(t,e)}function vge(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vg(n))}function n3(t,e){const n=R5(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=Ime(a[s]);vge(t,s,o)}}function yge(t){return!!(Bs(t)&&t.add)}function $j(t,e){const n=t.getValue("willChange");if(yge(n))return n.add(e)}function dY(t){return t.props[Hq]}const fY=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bge=1e-7,xge=12;function wge(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=fY(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>bge&&++o<xge);return s}function cx(t,e,n,r){if(t===e&&n===r)return Nl;const i=a=>wge(a,0,1,t,n);return a=>a===0||a===1?a:fY(i(a),e,r)}const hY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pY=t=>e=>1-t(1-e),mY=cx(.33,1.53,.69,.99),r3=pY(mY),gY=hY(r3),vY=t=>(t*=2)<1?.5*r3(t):.5*(2-Math.pow(2,-10*(t-1))),i3=t=>1-Math.sin(Math.acos(t)),yY=pY(i3),bY=hY(i3),xY=t=>/^0[^.\s]+$/u.test(t);function Cge(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xY(t):!0}const Kv=t=>Math.round(t*1e5)/1e5,a3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Sge(t){return t==null}const Ege=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s3=(t,e)=>n=>!!(typeof n=="string"&&Ege.test(n)&&n.startsWith(t)||e&&!Sge(n)&&Object.prototype.hasOwnProperty.call(n,e)),wY=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(a3);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},_ge=t=>UA(0,255,t),cB={...c0,transform:t=>Math.round(_ge(t))},Ah={test:s3("rgb","red"),parse:wY("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cB.transform(t)+", "+cB.transform(e)+", "+cB.transform(n)+", "+Kv(Gy.transform(r))+")"};function Bge(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Kj={test:s3("#"),parse:Bge,transform:Ah.transform},pm={test:s3("hsl","hue"),parse:wY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ou.transform(Kv(e))+", "+Ou.transform(Kv(n))+", "+Kv(Gy.transform(r))+")"},Js={test:t=>Ah.test(t)||Kj.test(t)||pm.test(t),parse:t=>Ah.test(t)?Ah.parse(t):pm.test(t)?pm.parse(t):Kj.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ah.transform(t):pm.transform(t)},Nge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jge(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(a3))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Nge))===null||n===void 0?void 0:n.length)||0)>0}const CY="number",SY="color",Ige="var",Tge="var(",QR="${}",kge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(kge,l=>(Js.test(l)?(r.color.push(a),i.push(SY),n.push(Js.parse(l))):l.startsWith(Tge)?(r.var.push(a),i.push(Ige),n.push(l)):(r.number.push(a),i.push(CY),n.push(parseFloat(l))),++a,QR)).split(QR);return{values:n,split:o,indexes:r,types:i}}function EY(t){return qy(t).values}function _Y(t){const{split:e,types:n}=qy(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const o=n[s];o===CY?a+=Kv(i[s]):o===SY?a+=Js.transform(i[s]):a+=i[s]}return a}}const Pge=t=>typeof t=="number"?0:t;function Dge(t){const e=EY(t);return _Y(t)(e.map(Pge))}const uf={test:jge,parse:EY,createTransformer:_Y,getAnimatableNone:Dge},Oge=new Set(["brightness","contrast","saturate","opacity"]);function Fge(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(a3)||[];if(!r)return t;const i=n.replace(r,"");let a=Oge.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Lge=/\b([a-z-]*)\(.*?\)/gu,Wj={...uf,getAnimatableNone:t=>{const e=t.match(Lge);return e?e.map(Fge).join(" "):t}},Mge={...zD,color:Js,backgroundColor:Js,outlineColor:Js,fill:Js,stroke:Js,borderColor:Js,borderTopColor:Js,borderRightColor:Js,borderBottomColor:Js,borderLeftColor:Js,filter:Wj,WebkitFilter:Wj},o3=t=>Mge[t];function BY(t,e){let n=o3(t);return n!==Wj&&(n=uf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Rge=new Set(["auto","none","0"]);function Uge(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Rge.has(a)&&qy(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=BY(n,i)}const HR=t=>t===c0||t===Bn,zR=(t,e)=>parseFloat(t.split(", ")[e]),VR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return zR(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?zR(a[1],t):0}},Qge=new Set(["x","y","z"]),Hge=l0.filter(t=>!Qge.has(t));function zge(t){const e=[];return Hge.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const yg={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VR(4,13),y:VR(5,14)};yg.translateX=yg.x;yg.translateY=yg.y;const _h=new Set;let Gj=!1,qj=!1;function NY(){if(qj){const t=Array.from(_h).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=zge(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qj=!1,Gj=!1,_h.forEach(t=>t.complete()),_h.clear()}function jY(){_h.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qj=!0)})}function Vge(){jY(),NY()}class l3{constructor(e,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_h.add(this),Gj||(Gj=!0,fi.read(jY),fi.resolveKeyframes(NY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_h.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_h.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const IY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),$ge=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kge(t){const e=$ge.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function TY(t,e,n=1){const[r,i]=Kge(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return IY(s)?parseFloat(s):s}return HD(i)?TY(i,e,n+1):i}const kY=t=>e=>e.test(t),Wge={test:t=>t==="auto",parse:t=>t},PY=[c0,Bn,Ou,gd,Fme,Ome,Wge],$R=t=>PY.find(kY(t));class DY extends l3{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),HD(u))){const A=TY(u,n.current);A!==void 0&&(e[l]=A),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!uY.has(r)||e.length!==2)return;const[i,a]=e,s=$R(i),o=$R(a);if(s!==o)if(HR(s)&&HR(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Cge(e[i])&&r.push(i);r.length&&Uge(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yg[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=yg[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const KR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(uf.test(t)||t==="0")&&!t.startsWith("url("));function Gge(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qge(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=KR(i,e),o=KR(a,e);return!s||!o?!1:Gge(t)||(n==="spring"||YD(n))&&r}const Yge=t=>t!==null;function U5(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Yge),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Xge=40;class OY{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fu.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Xge?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Vge(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Fu.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!qge(e,r,i,a))if(s)this.options.duration=0;else{l&&l(U5(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const A=this.initPlayback(e,n);A!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...A},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ji=(t,e,n)=>t+(e-t)*n;function uB(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Jge({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=uB(l,o,t+1/3),a=uB(l,o,t),s=uB(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function aC(t,e){return n=>n>0?e:t}const AB=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Zge=[Kj,Ah,pm],e0e=t=>Zge.find(e=>e.test(t));function WR(t){const e=e0e(t);if(!e)return!1;let n=e.parse(t);return e===pm&&(n=Jge(n)),n}const GR=(t,e)=>{const n=WR(t),r=WR(e);if(!n||!r)return aC(t,e);const i={...n};return a=>(i.red=AB(n.red,r.red,a),i.green=AB(n.green,r.green,a),i.blue=AB(n.blue,r.blue,a),i.alpha=ji(n.alpha,r.alpha,a),Ah.transform(i))},t0e=(t,e)=>n=>e(t(n)),ux=(...t)=>t.reduce(t0e),Yj=new Set(["none","hidden"]);function n0e(t,e){return Yj.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function r0e(t,e){return n=>ji(t,e,n)}function c3(t){return typeof t=="number"?r0e:typeof t=="string"?HD(t)?aC:Js.test(t)?GR:s0e:Array.isArray(t)?FY:typeof t=="object"?Js.test(t)?GR:i0e:aC}function FY(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>c3(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function i0e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=c3(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function a0e(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][i[s]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const s0e=(t,e)=>{const n=uf.createTransformer(e),r=qy(t),i=qy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Yj.has(t)&&!i.values.length||Yj.has(e)&&!r.values.length?n0e(t,e):ux(FY(a0e(r,i),i.values),n):aC(t,e)};function LY(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ji(t,e,n):c3(t)(t,e)}const o0e=5;function MY(t,e,n){const r=Math.max(e-o0e,0);return AY(n-t(r),e-r)}const qi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dB=.001;function l0e({duration:t=qi.duration,bounce:e=qi.bounce,velocity:n=qi.velocity,mass:r=qi.mass}){let i,a,s=1-e;s=UA(qi.minDamping,qi.maxDamping,s),t=UA(qi.minDuration,qi.maxDuration,NA(t)),s<1?(i=u=>{const A=u*s,d=A*t,f=A-n,h=Xj(u,s),p=Math.exp(-d);return dB-f/h*p},a=u=>{const d=u*s*t,f=d*n+n,h=Math.pow(s,2)*Math.pow(u,2)*t,p=Math.exp(-d),m=Xj(Math.pow(u,2),s);return(-i(u)+dB>0?-1:1)*((f-h)*p)/m}):(i=u=>{const A=Math.exp(-u*t),d=(u-n)*t+1;return-dB+A*d},a=u=>{const A=Math.exp(-u*t),d=(n-u)*(t*t);return A*d});const o=5/t,l=u0e(i,a,o);if(t=BA(t),isNaN(l))return{stiffness:qi.stiffness,damping:qi.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const c0e=12;function u0e(t,e,n){let r=n;for(let i=1;i<c0e;i++)r=r-t(r)/e(r);return r}function Xj(t,e){return t*Math.sqrt(1-e*e)}const A0e=["duration","bounce"],d0e=["stiffness","damping","mass"];function qR(t,e){return e.some(n=>t[n]!==void 0)}function f0e(t){let e={velocity:qi.velocity,stiffness:qi.stiffness,damping:qi.damping,mass:qi.mass,isResolvedFromDuration:!1,...t};if(!qR(t,d0e)&&qR(t,A0e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*UA(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:qi.mass,stiffness:i,damping:a}}else{const n=l0e(t);e={...e,...n,mass:qi.mass},e.isResolvedFromDuration=!0}return e}function RY(t=qi.visualDuration,e=qi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:A,duration:d,velocity:f,isResolvedFromDuration:h}=f0e({...n,velocity:-NA(n.velocity||0)}),p=f||0,m=u/(2*Math.sqrt(l*A)),v=s-a,g=NA(Math.sqrt(l/A)),y=Math.abs(v)<5;r||(r=y?qi.restSpeed.granular:qi.restSpeed.default),i||(i=y?qi.restDelta.granular:qi.restDelta.default);let x;if(m<1){const E=Xj(g,m);x=N=>{const _=Math.exp(-m*g*N);return s-_*((p+m*g*v)/E*Math.sin(E*N)+v*Math.cos(E*N))}}else if(m===1)x=E=>s-Math.exp(-g*E)*(v+(p+g*v)*E);else{const E=g*Math.sqrt(m*m-1);x=N=>{const _=Math.exp(-m*g*N),B=Math.min(E*N,300);return s-_*((p+m*g*v)*Math.sinh(B)+E*v*Math.cosh(B))/E}}const S={calculatedDuration:h&&d||null,next:E=>{const N=x(E);if(h)o.done=E>=d;else{let _=0;m<1&&(_=E===0?BA(p):MY(x,E,N));const B=Math.abs(_)<=r,j=Math.abs(s-N)<=i;o.done=B&&j}return o.value=o.done?s:N,o},toString:()=>{const E=Math.min(rY(S),zj),N=iY(_=>S.next(E*_).value,E,30);return E+"ms "+N}};return S}function YR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:A}){const d=t[0],f={done:!1,value:d},h=B=>o!==void 0&&B<o||l!==void 0&&B>l,p=B=>o===void 0?l:l===void 0||Math.abs(o-B)<Math.abs(l-B)?o:l;let m=n*e;const v=d+m,g=s===void 0?v:s(v);g!==v&&(m=g-d);const y=B=>-m*Math.exp(-B/r),x=B=>g+y(B),S=B=>{const j=y(B),D=x(B);f.done=Math.abs(j)<=u,f.value=f.done?g:D};let E,N;const _=B=>{h(f.value)&&(E=B,N=RY({keyframes:[f.value,p(f.value)],velocity:MY(x,B,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:A}))};return _(0),{calculatedDuration:null,next:B=>{let j=!1;return!N&&E===void 0&&(j=!0,S(B),_(B)),E!==void 0&&B>=E?N.next(B-E):(!j&&S(B),f)}}}const h0e=cx(.42,0,1,1),p0e=cx(0,0,.58,1),UY=cx(.42,0,.58,1),m0e=t=>Array.isArray(t)&&typeof t[0]!="number",g0e={linear:Nl,easeIn:h0e,easeInOut:UY,easeOut:p0e,circIn:i3,circInOut:bY,circOut:yY,backIn:r3,backInOut:gY,backOut:mY,anticipate:vY},XR=t=>{if(XD(t)){Lq(t.length===4);const[e,n,r,i]=t;return cx(e,n,r,i)}else if(typeof t=="string")return g0e[t];return t};function v0e(t,e,n){const r=[],i=n||LY,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Nl:e;o=ux(l,o)}r.push(o)}return r}function QY(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Lq(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=v0e(e,r,i),l=o.length,u=A=>{if(s&&A<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(A<t[d+1]);d++);const f=mg(t[d],t[d+1],A);return o[d](f)};return n?A=>u(UA(t[0],t[a-1],A)):u}function y0e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mg(0,e,r);t.push(ji(n,1,i))}}function b0e(t){const e=[0];return y0e(e,t.length-1),e}function x0e(t,e){return t.map(n=>n*e)}function w0e(t,e){return t.map(()=>e||UY).splice(0,t.length-1)}function sC({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=m0e(r)?r.map(XR):XR(r),a={done:!1,value:e[0]},s=x0e(n&&n.length===e.length?n:b0e(e),t),o=QY(s,e,{ease:Array.isArray(i)?i:w0e(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}const C0e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>fi.update(e,!0),stop:()=>RA(e),now:()=>Cs.isProcessing?Cs.timestamp:Fu.now()}},S0e={decay:YR,inertia:YR,tween:sC,keyframes:sC,spring:RY},E0e=t=>t/100;class u3 extends OY{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||l3,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=YD(n)?n:S0e[n]||sC;let l,u;o!==sC&&typeof e[0]!="number"&&(l=ux(E0e,LY(e[0],e[1])),e=[0,100]);const A=o({...this.options,keyframes:e});a==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),A.calculatedDuration===null&&(A.calculatedDuration=rY(A));const{calculatedDuration:d}=A,f=d+i,h=f*(r+1)-i;return{generator:A,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:A,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:h,repeatType:p,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-A/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>A;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let x=this.currentTime,S=a;if(h){const B=Math.min(this.currentTime,A)/d;let j=Math.floor(B),D=B%1;!D&&B>=1&&(D=1),D===1&&j--,j=Math.min(j,h+1),!!(j%2)&&(p==="reverse"?(D=1-D,m&&(D-=m/d)):p==="mirror"&&(S=s)),x=UA(0,1,D)*d}const E=y?{done:!1,value:l[0]}:S.next(x);o&&(E.value=o(E.value));let{done:N}=E;!y&&u!==null&&(N=this.speed>=0?this.currentTime>=A:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return _&&i!==void 0&&(E.value=U5(l,this.options,i)),v&&v(E.value),_&&this.finish(),E}get duration(){const{resolved:e}=this;return e?NA(e.calculatedDuration):0}get time(){return NA(this.currentTime)}set time(e){e=BA(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=NA(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=C0e,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const _0e=new Set(["opacity","clipPath","filter","transform"]);function B0e(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const A=sY(o,i);return Array.isArray(A)&&(u.easing=A),t.animate(u,{delay:r,duration:i,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const N0e=OD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oC=10,j0e=2e4;function I0e(t){return YD(t.type)||t.type==="spring"||!aY(t.ease)}function T0e(t,e){const n=new u3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<j0e;)r=n.sample(a),i.push(r.value),a+=oC;return{times:void 0,keyframes:i,duration:a-oC,ease:"linear"}}const HY={anticipate:vY,backInOut:gY,circInOut:bY};function k0e(t){return t in HY}class JR extends OY{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new DY(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&iC()&&k0e(a)&&(a=HY[a]),I0e(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,element:p,...m}=this.options,v=T0e(e,m);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,a=v.ease,s="keyframes"}const A=B0e(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return A.startTime=u??this.calcStartTime(),this.pendingTimeline?(FR(A,this.pendingTimeline),this.pendingTimeline=void 0):A.onfinish=()=>{const{onComplete:d}=this.options;o.set(U5(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:A,duration:r,times:i,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return NA(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return NA(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=BA(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nl;const{animation:r}=n;FR(r,e)}return Nl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:A,onComplete:d,element:f,...h}=this.options,p=new u3({...h,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),m=BA(this.time);u.setWithVelocity(p.sample(m-oC).value,p.sample(m).value,oC)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return N0e()&&r&&_0e.has(r)&&!l&&!u&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const P0e={type:"spring",stiffness:500,damping:25,restSpeed:10},D0e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),O0e={type:"keyframes",duration:.8},F0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L0e=(t,{keyframes:e})=>e.length>2?O0e:up.has(t)?t.startsWith("scale")?D0e(e[1]):P0e:F0e;function M0e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...A}){return!!Object.keys(A).length}const A3=(t,e,n,r={},i,a)=>s=>{const o=qD(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-BA(l);let A={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};M0e(o)||(A={...A,...L0e(t,A)}),A.duration&&(A.duration=BA(A.duration)),A.repeatDelay&&(A.repeatDelay=BA(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let d=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(A.duration=0,A.delay===0&&(d=!0)),d&&!a&&e.get()!==void 0){const f=U5(A.keyframes,o);if(f!==void 0)return fi.update(()=>{A.onUpdate(f),A.onComplete()}),new ige([])}return!a&&JR.supports(A)?new JR(A):new u3(A)};function R0e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zY(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const u=[],A=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(a=t.latestValues[d])!==null&&a!==void 0?a:null),h=l[d];if(h===void 0||A&&R0e(A,d))continue;const p={delay:n,...qD(s||{},d)};let m=!1;if(window.MotionHandoffAnimation){const g=dY(t);if(g){const y=window.MotionHandoffAnimation(g,d,fi);y!==null&&(p.startTime=y,m=!0)}}$j(t,d),f.start(A3(d,f,h,t.shouldReduceMotion&&uY.has(d)?{type:!1}:p,t,m));const v=f.animation;v&&u.push(v)}return o&&Promise.all(u).then(()=>{fi.update(()=>{o&&n3(t,o)})}),u}function Jj(t,e,n={}){var r;const i=R5(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(zY(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:A=0,staggerChildren:d,staggerDirection:f}=a;return U0e(t,e,A+u,d,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,A]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>A())}else return Promise.all([s(),o(n.delay)])}function U0e(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(Q0e).forEach((u,A)=>{u.notify("AnimationStart",e),s.push(Jj(u,e,{...a,delay:n+l(A)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function Q0e(t,e){return t.sortNodePosition(e)}function VY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Jj(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Jj(t,e,n);else{const i=typeof e=="function"?R5(t,e,n.custom):e;r=Promise.all(zY(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const H0e=LD.length;function $Y(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$Y(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<H0e;n++){const r=LD[n],i=t.props[r];(Wy(i)||i===!1)&&(e[r]=i)}return e}const z0e=[...FD].reverse(),V0e=FD.length;function $0e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>VY(t,n,r)))}function K0e(t){let e=$0e(t),n=ZR(),r=!0;const i=l=>(u,A)=>{var d;const f=R5(t,A,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:p,...m}=f;u={...u,...m,...p}}return u};function a(l){e=l(t)}function s(l){const{props:u}=t,A=$Y(t.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let v=0;v<V0e;v++){const g=z0e[v],y=n[g],x=u[g]!==void 0?u[g]:A[g],S=Wy(x),E=g===l?y.isActive:null;E===!1&&(p=v);let N=x===A[g]&&x!==u[g]&&S;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...h},!y.isActive&&E===null||!x&&!y.prevProp||L5(x)||typeof x=="boolean")continue;const _=W0e(y.prevProp,x);let B=_||g===l&&y.isActive&&!N&&S||v>p&&S,j=!1;const D=Array.isArray(x)?x:[x];let k=D.reduce(i(g),{});E===!1&&(k={});const{prevResolvedValues:O={}}=y,L={...O,...k},H=ee=>{B=!0,f.has(ee)&&(j=!0,f.delete(ee)),y.needsAnimating[ee]=!0;const K=t.getValue(ee);K&&(K.liveStyle=!1)};for(const ee in L){const K=k[ee],te=O[ee];if(h.hasOwnProperty(ee))continue;let le=!1;Hj(K)&&Hj(te)?le=!nY(K,te):le=K!==te,le?K!=null?H(ee):f.add(ee):K!==void 0&&f.has(ee)?H(ee):y.protectedKeys[ee]=!0}y.prevProp=x,y.prevResolvedValues=k,y.isActive&&(h={...h,...k}),r&&t.blockInitialAnimation&&(B=!1),B&&(!(N&&_)||j)&&d.push(...D.map(ee=>({animation:ee,options:{type:g}})))}if(f.size){const v={};f.forEach(g=>{const y=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),v[g]=y??null}),d.push({animation:v})}let m=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function o(l,u){var A;if(n[l].isActive===u)return Promise.resolve();(A=t.variantChildren)===null||A===void 0||A.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ZR(),r=!0}}}function W0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nY(e,t):!1}function Ff(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZR(){return{animate:Ff(!0),whileInView:Ff(),whileHover:Ff(),whileTap:Ff(),whileDrag:Ff(),whileFocus:Ff(),exit:Ff()}}class bf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class G0e extends bf{constructor(e){super(e),e.animationState||(e.animationState=K0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();L5(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let q0e=0;class Y0e extends bf{constructor(){super(...arguments),this.id=q0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const X0e={animation:{Feature:G0e},exit:{Feature:Y0e}};function Yy(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ax(t){return{point:{x:t.pageX,y:t.pageY}}}const J0e=t=>e=>JD(e)&&t(e,Ax(e));function Wv(t,e,n,r){return Yy(t,e,J0e(n),r)}const e6=(t,e)=>Math.abs(t-e);function Z0e(t,e){const n=e6(t.x,e.x),r=e6(t.y,e.y);return Math.sqrt(n**2+r**2)}class KY{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=hB(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=Z0e(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:m}=Cs;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=fB(f,this.transformPagePoint),fi.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=hB(d.type==="pointercancel"?this.lastMoveEventInfo:fB(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,v),p&&p(d,v)},!JD(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Ax(e),o=fB(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Cs;this.history=[{...l,timestamp:u}];const{onSessionStart:A}=n;A&&A(e,hB(o,this.history)),this.removeListeners=ux(Wv(this.contextWindow,"pointermove",this.handlePointerMove),Wv(this.contextWindow,"pointerup",this.handlePointerUp),Wv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),RA(this.updatePoint)}}function fB(t,e){return e?{point:e(t.point)}:t}function t6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hB({point:t},e){return{point:t,delta:t6(t,WY(e)),offset:t6(t,eve(e)),velocity:tve(e,.1)}}function eve(t){return t[0]}function WY(t){return t[t.length-1]}function tve(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=WY(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>BA(e)));)n--;if(!r)return{x:0,y:0};const a=NA(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const GY=1e-4,nve=1-GY,rve=1+GY,qY=.01,ive=0-qY,ave=0+qY;function Ol(t){return t.max-t.min}function sve(t,e,n){return Math.abs(t-e)<=n}function n6(t,e,n,r=.5){t.origin=r,t.originPoint=ji(e.min,e.max,t.origin),t.scale=Ol(n)/Ol(e),t.translate=ji(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nve&&t.scale<=rve||isNaN(t.scale))&&(t.scale=1),(t.translate>=ive&&t.translate<=ave||isNaN(t.translate))&&(t.translate=0)}function Gv(t,e,n,r){n6(t.x,e.x,n.x,r?r.originX:void 0),n6(t.y,e.y,n.y,r?r.originY:void 0)}function r6(t,e,n){t.min=n.min+e.min,t.max=t.min+Ol(e)}function ove(t,e,n){r6(t.x,e.x,n.x),r6(t.y,e.y,n.y)}function i6(t,e,n){t.min=e.min-n.min,t.max=t.min+Ol(e)}function qv(t,e,n){i6(t.x,e.x,n.x),i6(t.y,e.y,n.y)}function lve(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ji(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ji(n,t,r.max):Math.min(t,n)),t}function a6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cve(t,{top:e,left:n,bottom:r,right:i}){return{x:a6(t.x,n,i),y:a6(t.y,e,r)}}function s6(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function uve(t,e){return{x:s6(t.x,e.x),y:s6(t.y,e.y)}}function Ave(t,e){let n=.5;const r=Ol(t),i=Ol(e);return i>r?n=mg(e.min,e.max-r,t.min):r>i&&(n=mg(t.min,t.max-i,e.min)),UA(0,1,n)}function dve(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zj=.35;function fve(t=Zj){return t===!1?t=0:t===!0&&(t=Zj),{x:o6(t,"left","right"),y:o6(t,"top","bottom")}}function o6(t,e,n){return{min:l6(t,e),max:l6(t,n)}}function l6(t,e){return typeof t=="number"?t:t[e]||0}const c6=()=>({translate:0,scale:1,origin:0,originPoint:0}),mm=()=>({x:c6(),y:c6()}),u6=()=>({min:0,max:0}),da=()=>({x:u6(),y:u6()});function rc(t){return[t("x"),t("y")]}function YY({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function hve({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pve(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pB(t){return t===void 0||t===1}function eI({scale:t,scaleX:e,scaleY:n}){return!pB(t)||!pB(e)||!pB(n)}function Wf(t){return eI(t)||XY(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XY(t){return A6(t.x)||A6(t.y)}function A6(t){return t&&t!=="0%"}function lC(t,e,n){const r=t-n,i=e*r;return n+i}function d6(t,e,n,r,i){return i!==void 0&&(t=lC(t,i,r)),lC(t,n,r)+e}function tI(t,e=0,n=1,r,i){t.min=d6(t.min,e,n,r,i),t.max=d6(t.max,e,n,r,i)}function JY(t,{x:e,y:n}){tI(t.x,e.translate,e.scale,e.originPoint),tI(t.y,n.translate,n.scale,n.originPoint)}const f6=.999999999999,h6=1.0000000000001;function mve(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vm(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,JY(t,s)),r&&Wf(a.latestValues)&&vm(t,a.latestValues))}e.x<h6&&e.x>f6&&(e.x=1),e.y<h6&&e.y>f6&&(e.y=1)}function gm(t,e){t.min=t.min+e,t.max=t.max+e}function p6(t,e,n,r,i=.5){const a=ji(t.min,t.max,i);tI(t,e,n,a,r)}function vm(t,e){p6(t.x,e.x,e.scaleX,e.scale,e.originX),p6(t.y,e.y,e.scaleY,e.scale,e.originY)}function ZY(t,e){return YY(pve(t.getBoundingClientRect(),e))}function gve(t,e,n){const r=ZY(t,n),{scroll:i}=e;return i&&(gm(r.x,i.offset.x),gm(r.y,i.offset.y)),r}const eX=({current:t})=>t?t.ownerDocument.defaultView:null,vve=new WeakMap;class yve{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=da(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=A=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ax(A).point)},a=(A,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fge(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rc(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Ou.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(g=Ol(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&fi.postRender(()=>p(A,d)),$j(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(A,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(h&&this.currentDirection===null){this.currentDirection=bve(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(A,d)},o=(A,d)=>this.stop(A,d),l=()=>rc(A=>{var d;return this.getAnimationState(A)==="paused"&&((d=this.getAxisMotionValue(A).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new KY(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:eX(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&fi.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!b1(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=lve(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&hm(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=cve(i.layoutBox,n):this.constraints=!1,this.elastic=fve(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rc(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=dve(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hm(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=gve(r,i.root,this.visualElement.getTransformPagePoint());let s=uve(i.layout.layoutBox,a);if(n){const o=n(hve(s));this.hasMutatedConstraints=!!o,o&&(s=YY(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=rc(A=>{if(!b1(A,n,this.currentDirection))return;let d=l&&l[A]||{};s&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[A]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(A,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $j(this.visualElement,e),r.start(A3(e,r,0,n,this.visualElement,!1))}stopAnimation(){rc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rc(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rc(n=>{const{drag:r}=this.getProps();if(!b1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-ji(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hm(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};rc(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=Ave({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rc(s=>{if(!b1(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(ji(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;vve.set(this.visualElement,this);const e=this.visualElement.current,n=Wv(e,"pointerdown",l=>{const{drag:u,dragListener:A=!0}=this.getProps();u&&A&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),fi.read(r);const s=Yy(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(rc(A=>{const d=this.getAxisMotionValue(A);d&&(this.originPoint[A]+=l[A].translate,d.set(d.get()+l[A].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=Zj,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function b1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bve(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xve extends bf{constructor(e){super(e),this.removeGroupControls=Nl,this.removeListeners=Nl,this.controls=new yve(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nl}unmount(){this.removeGroupControls(),this.removeListeners()}}const m6=t=>(e,n)=>{t&&fi.postRender(()=>t(e,n))};class wve extends bf{constructor(){super(...arguments),this.removePointerDownListener=Nl}onPointerDown(e){this.session=new KY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:m6(e),onStart:m6(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&fi.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Wv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const V0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Bn.test(t))t=parseFloat(t);else return t;const n=g6(t,e.target.x),r=g6(t,e.target.y);return`${n}% ${r}%`}},Cve={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=uf.parse(t);if(i.length>5)return r;const a=uf.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=ji(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class Sve extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Kme(Eve),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||fi.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),RD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tX(t){const[e,n]=Fq(),r=P.useContext(PD);return c.jsx(Sve,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(zq),isPresent:e,safeToRemove:n})}const Eve={borderRadius:{...V0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:V0,borderTopRightRadius:V0,borderBottomLeftRadius:V0,borderBottomRightRadius:V0,boxShadow:Cve};function _ve(t,e,n){const r=Bs(t)?t:vg(t);return r.start(A3("",r,e,n)),r.animation}function Bve(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Nve=(t,e)=>t.depth-e.depth;class jve{constructor(){this.children=[],this.isDirty=!1}add(e){ZD(this.children,e),this.isDirty=!0}remove(e){e3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nve),this.isDirty=!1,this.children.forEach(e)}}function Ive(t,e){const n=Fu.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(RA(r),t(a-e))};return fi.read(r,!0),()=>RA(r)}const nX=["TopLeft","TopRight","BottomLeft","BottomRight"],Tve=nX.length,v6=t=>typeof t=="string"?parseFloat(t):t,y6=t=>typeof t=="number"||Bn.test(t);function kve(t,e,n,r,i,a){i?(t.opacity=ji(0,n.opacity!==void 0?n.opacity:1,Pve(r)),t.opacityExit=ji(e.opacity!==void 0?e.opacity:1,0,Dve(r))):a&&(t.opacity=ji(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Tve;s++){const o=`border${nX[s]}Radius`;let l=b6(e,o),u=b6(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||y6(l)===y6(u)?(t[o]=Math.max(ji(v6(l),v6(u),r),0),(Ou.test(u)||Ou.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ji(e.rotate||0,n.rotate||0,r))}function b6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Pve=rX(0,.5,yY),Dve=rX(.5,.95,Nl);function rX(t,e,n){return r=>r<t?0:r>e?1:n(mg(t,e,r))}function x6(t,e){t.min=e.min,t.max=e.max}function Zl(t,e){x6(t.x,e.x),x6(t.y,e.y)}function w6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function C6(t,e,n,r,i){return t-=e,t=lC(t,1/n,r),i!==void 0&&(t=lC(t,1/i,r)),t}function Ove(t,e=0,n=1,r=.5,i,a=t,s=t){if(Ou.test(e)&&(e=parseFloat(e),e=ji(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=ji(a.min,a.max,r);t===a&&(o-=e),t.min=C6(t.min,e,n,o,i),t.max=C6(t.max,e,n,o,i)}function S6(t,e,[n,r,i],a,s){Ove(t,e[n],e[r],e[i],e.scale,a,s)}const Fve=["x","scaleX","originX"],Lve=["y","scaleY","originY"];function E6(t,e,n,r){S6(t.x,e,Fve,n?n.x:void 0,r?r.x:void 0),S6(t.y,e,Lve,n?n.y:void 0,r?r.y:void 0)}function _6(t){return t.translate===0&&t.scale===1}function iX(t){return _6(t.x)&&_6(t.y)}function B6(t,e){return t.min===e.min&&t.max===e.max}function Mve(t,e){return B6(t.x,e.x)&&B6(t.y,e.y)}function N6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aX(t,e){return N6(t.x,e.x)&&N6(t.y,e.y)}function j6(t){return Ol(t.x)/Ol(t.y)}function I6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Rve{constructor(){this.members=[]}add(e){ZD(this.members,e),e.scheduleRender()}remove(e){if(e3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uve(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:A,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),A&&(r+=`rotate(${A}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Gf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bv=typeof window<"u"&&window.MotionDebug!==void 0,mB=["","X","Y","Z"],Qve={visibility:"hidden"},T6=1e3;let Hve=0;function gB(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sX(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dY(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fi,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sX(r)}function oX({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=Hve++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bv&&(Gf.totalNodes=Gf.resolvedTargetDeltas=Gf.recalculatedProjection=0),this.nodes.forEach($ve),this.nodes.forEach(Yve),this.nodes.forEach(Xve),this.nodes.forEach(Kve),bv&&window.MotionDebug.record(Gf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jve)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new t3),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Bve(s),this.instance=s;const{layoutId:l,layout:u,visualElement:A}=this.options;if(A&&!A.current&&A.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Ive(f,250),Yw.hasAnimatedSinceResize&&(Yw.hasAnimatedSinceResize=!1,this.nodes.forEach(P6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&A&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||A.getDefaultTransition()||nye,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=A.getProps(),y=!this.targetLayout||!aX(this.targetLayout,p)||h,x=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const S={...qD(m,"layout"),onPlay:v,onComplete:g};(A.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||P6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,RA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jve),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const d=this.path[A];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k6);return}this.isUpdating||this.nodes.forEach(Gve),this.isUpdating=!1,this.nodes.forEach(qve),this.nodes.forEach(zve),this.nodes.forEach(Vve),this.clearAllSnapshots();const o=Fu.now();Cs.delta=UA(0,1e3/60,o-Cs.timestamp),Cs.timestamp=o,Cs.isProcessing=!0,oB.update.process(Cs),oB.preRender.process(Cs),oB.render.process(Cs),Cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,RD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wve),this.sharedNodes.forEach(Zve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=da(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!iX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,A=u!==this.prevTransformTemplateValue;s&&(o||Wf(this.latestValues)||A)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),rye(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return da();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(iye))){const{scroll:A}=this.root;A&&(gm(l.x,A.offset.x),gm(l.y,A.offset.y))}return l}removeElementScroll(s){var o;const l=da();if(Zl(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const A=this.path[u],{scroll:d,options:f}=A;A!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Zl(l,s),gm(l.x,d.offset.x),gm(l.y,d.offset.y))}return l}applyTransform(s,o=!1){const l=da();Zl(l,s);for(let u=0;u<this.path.length;u++){const A=this.path[u];!o&&A.options.layoutScroll&&A.scroll&&A!==A.root&&vm(l,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Wf(A.latestValues)&&vm(l,A.latestValues)}return Wf(this.latestValues)&&vm(l,this.latestValues),l}removeTransform(s){const o=da();Zl(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Wf(u.latestValues))continue;eI(u.latestValues)&&u.updateSnapshot();const A=da(),d=u.measurePageBox();Zl(A,d),E6(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,A)}return Wf(this.latestValues)&&E6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Cs.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=da(),this.relativeTargetOrigin=da(),qv(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Zl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=da(),this.targetWithTransforms=da()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ove(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zl(this.target,this.layout.layoutBox),JY(this.target,this.targetDelta)):Zl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=da(),this.relativeTargetOrigin=da(),qv(this.relativeTargetOrigin,this.target,h.target),Zl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bv&&Gf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eI(this.parent.latestValues)||XY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Cs.timestamp&&(u=!1),u)return;const{layout:A,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(A||d))return;Zl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;mve(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=da());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w6(this.prevProjectionDelta.x,this.projectionDelta.x),w6(this.prevProjectionDelta.y,this.projectionDelta.y)),Gv(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!I6(this.projectionDelta.x,this.prevProjectionDelta.x)||!I6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),bv&&Gf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mm(),this.projectionDelta=mm(),this.projectionDeltaWithTransform=mm()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},A={...this.latestValues},d=mm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=da(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,v=this.getStack(),g=!v||v.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(tye));this.animationProgress=0;let x;this.mixTargetDelta=S=>{const E=S/1e3;D6(d.x,s.x,E),D6(d.y,s.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qv(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eye(this.relativeTarget,this.relativeTargetOrigin,f,E),x&&Mve(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=da()),Zl(x,this.relativeTarget)),m&&(this.animationValues=A,kve(A,u,this.latestValues,E,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(RA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fi.update(()=>{Yw.hasAnimatedSinceResize=!0,this.currentAnimation=_ve(0,T6,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:A}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&lX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||da();const d=Ol(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=Ol(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}Zl(o,l),vm(o,A),Gv(this.projectionDeltaWithTransform,this.layoutCorrected,o,A)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Rve),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&gB("z",s,u,this.animationValues);for(let A=0;A<mB.length;A++)gB(`rotate${mB[A]}`,s,u,this.animationValues),gB(`skew${mB[A]}`,s,u,this.animationValues);s.render();for(const A in u)s.setStaticValue(A,u[A]),this.animationValues&&(this.animationValues[A]=u[A]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qve;const u={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Gw(s==null?void 0:s.pointerEvents)||"",u.transform=A?A(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Gw(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Wf(this.latestValues)&&(m.transform=A?A({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Uve(this.projectionDeltaWithTransform,this.treeScale,f),A&&(u.transform=A(f,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in rC){if(f[m]===void 0)continue;const{correct:v,applyTo:g}=rC[m],y=u.transform==="none"?f[m]:v(f[m],d);if(g){const x=g.length;for(let S=0;S<x;S++)u[g[S]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=d===this?Gw(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(k6),this.root.sharedNodes.clear()}}}function zve(t){t.updateLayout()}function Vve(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?rc(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],h=Ol(f);f.min=r[d].min,f.max=f.min+h}):lX(a,n.layoutBox,r)&&rc(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],h=Ol(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=mm();Gv(o,r,n.layoutBox);const l=mm();s?Gv(l,t.applyTransform(i,!0),n.measuredBox):Gv(l,r,n.layoutBox);const u=!iX(o);let A=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=da();qv(p,n.layoutBox,f.layoutBox);const m=da();qv(m,r,h.layoutBox),aX(p,m)||(A=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:A})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $ve(t){bv&&Gf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kve(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wve(t){t.clearSnapshot()}function k6(t){t.clearMeasurements()}function Gve(t){t.isLayoutDirty=!1}function qve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function P6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Yve(t){t.resolveTargetDelta()}function Xve(t){t.calcProjection()}function Jve(t){t.resetSkewAndRotation()}function Zve(t){t.removeLeadSnapshot()}function D6(t,e,n){t.translate=ji(e.translate,0,n),t.scale=ji(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function O6(t,e,n,r){t.min=ji(e.min,n.min,r),t.max=ji(e.max,n.max,r)}function eye(t,e,n,r){O6(t.x,e.x,n.x,r),O6(t.y,e.y,n.y,r)}function tye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nye={duration:.45,ease:[.4,0,.1,1]},F6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),L6=F6("applewebkit/")&&!F6("chrome/")?Math.round:Nl;function M6(t){t.min=L6(t.min),t.max=L6(t.max)}function rye(t){M6(t.x),M6(t.y)}function lX(t,e,n){return t==="position"||t==="preserve-aspect"&&!sve(j6(e),j6(n),.2)}function iye(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const aye=oX({attachResizeListener:(t,e)=>Yy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vB={current:void 0},cX=oX({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vB.current){const t=new aye({});t.mount(window),t.setOptions({layoutScroll:!0}),vB.current=t}return vB.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sye={pan:{Feature:wve},drag:{Feature:xve,ProjectionNode:cX,MeasureLayout:tX}};function R6(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&fi.postRender(()=>a(e,Ax(e)))}class oye extends bf{mount(){const{current:e}=this.node;e&&(this.unmount=lge(e,n=>(R6(this.node,n,"Start"),r=>R6(this.node,r,"End"))))}unmount(){}}class lye extends bf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ux(Yy(this.node.current,"focus",()=>this.onFocus()),Yy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function U6(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&fi.postRender(()=>a(e,Ax(e)))}class cye extends bf{mount(){const{current:e}=this.node;e&&(this.unmount=dge(e,n=>(U6(this.node,n,"Start"),(r,{success:i})=>U6(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nI=new WeakMap,yB=new WeakMap,uye=t=>{const e=nI.get(t.target);e&&e(t)},Aye=t=>{t.forEach(uye)};function dye({root:t,...e}){const n=t||document;yB.has(n)||yB.set(n,{});const r=yB.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Aye,{root:t,...e})),r[i]}function fye(t,e,n){const r=dye(e);return nI.set(t,n),r.observe(t),()=>{nI.delete(t),r.unobserve(t)}}const hye={some:0,all:1};class pye extends bf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hye[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:A,onViewportLeave:d}=this.node.getProps(),f=u?A:d;f&&f(l)};return fye(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mye(e,n))&&this.startObserver()}unmount(){}}function mye({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gye={inView:{Feature:pye},tap:{Feature:cye},focus:{Feature:lye},hover:{Feature:oye}},vye={layout:{ProjectionNode:cX,MeasureLayout:tX}},rI={current:null},uX={current:!1};function yye(){if(uX.current=!0,!!DD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rI.current=t.matches;t.addListener(e),e()}else rI.current=!1}const bye=[...PY,Js,uf],xye=t=>bye.find(kY(t)),Q6=new WeakMap;function wye(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Bs(i))t.addValue(r,i);else if(Bs(a))t.addValue(r,vg(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,vg(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const H6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cye{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Fu.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,fi.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:A}=s;this.onUpdate=A,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=M5(n),this.isVariantNode=Qq(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Bs(p)&&p.set(l[h],!1)}}mount(e){this.current=e,Q6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),uX.current||yye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Q6.delete(this.current),this.projection&&this.projection.unmount(),RA(this.notifyUpdate),RA(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=up.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gg){const n=gg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):da()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H6.length;r++){const i=H6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=wye(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(IY(i)||xY(i))?i=parseFloat(i):!xye(i)&&uf.test(n)&&(i=BY(e,n)),this.setBaseTarget(e,Bs(i)?i.get():i)),Bs(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=QD(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Bs(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new t3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class AX extends Cye{constructor(){super(...arguments),this.KeyframeResolver=DY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Sye(t){return window.getComputedStyle(t)}class Eye extends AX{constructor(){super(...arguments),this.type="html",this.renderInstance=Yq}readValueFromInstance(e,n){if(up.has(n)){const r=o3(n);return r&&r.default||0}else{const r=Sye(e),i=(Wq(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZY(e,n)}build(e,n,r){VD(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return GD(e,n,r)}}class _ye extends AX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=da}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(up.has(n)){const r=o3(n);return r&&r.default||0}return n=Xq.has(n)?n:MD(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return eY(e,n,r)}build(e,n,r){$D(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Jq(e,n,r,i)}mount(e){this.isSVGTag=WD(e.tagName),super.mount(e)}}const Bye=(t,e)=>UD(t)?new _ye(e):new Eye(e,{allowProjection:t!==P.Fragment}),Nye=tge({...X0e,...gye,...sye,...vye},Bye),Ji=mme(Nye);function dX(t){const e=YA(()=>vg(t)),{isStatic:n}=P.useContext(D5);if(n){const[,r]=P.useState(t);P.useEffect(()=>e.on("change",r),[])}return e}function fX(t,e){const n=dX(e()),r=()=>n.set(e());return r(),O5(()=>{const i=()=>fi.preRender(r,!1,!0),a=t.map(s=>s.on("change",i));return()=>{a.forEach(s=>s()),RA(r)}}),n}const jye=t=>t&&typeof t=="object"&&t.mix,Iye=t=>jye(t)?t.mix:void 0;function Tye(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],s=t[3+n],o=QY(i,a,{mixer:Iye(a[0]),...s});return e?o(r):o}function kye(t){$v.current=[],t();const e=fX($v.current,t);return $v.current=void 0,e}function Pye(t,e,n,r){if(typeof t=="function")return kye(t);const i=typeof e=="function"?e:Tye(e,n,r);return Array.isArray(t)?z6(t,i):z6([t],([a])=>i(a))}function z6(t,e){const n=YA(()=>[]);return fX(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Dye(t){t.values.forEach(e=>e.stop())}function iI(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&n3(t,i),t.variantChildren&&t.variantChildren.forEach(a=>{iI(a,e)})})}function Oye(t,e){if(Array.isArray(e))return iI(t,e);if(typeof e=="string")return iI(t,[e]);n3(t,e)}function Fye(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(a=>{i.push(VY(a,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{Oye(r,n)})},stop(){t.forEach(n=>{Dye(n)})},mount(){return()=>{e.stop()}}};return e}function Lye(){const t=YA(Fye);return O5(t.mount,[]),t}const Ap=Lye;class Mye{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const Rye=()=>new Mye;function d3(){return YA(Rye)}const hX=P.createContext(null);function Uye(t,e,n,r){if(!r)return t;const i=t.findIndex(A=>A.value===e);if(i===-1)return t;const a=r>0?1:-1,s=t[i+a];if(!s)return t;const o=t[i],l=s.layout,u=ji(l.min,l.max,.5);return a===1&&o.layout.max+n>u||a===-1&&o.layout.min+n<u?pge(t,i,i+a):t}function Qye({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...a},s){const o=YA(()=>Ji[e]),l=[],u=P.useRef(!1),A={axis:n,registerItem:(d,f)=>{const h=l.findIndex(p=>d===p.value);h!==-1?l[h].layout=f[n]:l.push({value:d,layout:f[n]}),l.sort(zye)},updateOrder:(d,f,h)=>{if(u.current)return;const p=Uye(l,d,f,h);l!==p&&(u.current=!0,r(p.map(Hye).filter(m=>i.indexOf(m)!==-1)))}};return P.useEffect(()=>{u.current=!1}),c.jsx(o,{...a,ref:s,ignoreStrict:!0,children:c.jsx(hX.Provider,{value:A,children:t})})}const f3=P.forwardRef(Qye);function Hye(t){return t.value}function zye(t,e){return t.layout.min-e.layout.min}function V6(t,e=0){return Bs(t)?t:dX(e)}function Vye({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:a=!0,...s},o){const l=YA(()=>Ji[r]),u=P.useContext(hX),A={x:V6(e.x),y:V6(e.y)},d=Pye([A.x,A.y],([m,v])=>m||v?1:"unset"),{axis:f,registerItem:h,updateOrder:p}=u;return c.jsx(l,{drag:f,...s,dragSnapToOrigin:!0,style:{...e,x:A.x,y:A.y,zIndex:d},layout:a,onDrag:(m,v)=>{const{velocity:g}=v;g[f]&&p(n,A[f].get(),g[f]),i&&i(m,v)},onLayoutMeasure:m=>h(n,m),ref:o,ignoreStrict:!0,children:t})}const h3=P.forwardRef(Vye),Hu=({isOpen:t,onClose:e,title:n,actions:r})=>t?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-end sm:items-center z-50 animate-fade-in",onClick:e,children:c.jsxs("div",{className:"w-full max-w-sm bg-ios-modal-bg rounded-t-2xl sm:rounded-2xl shadow-2xl text-white animate-slide-up",onClick:i=>i.stopPropagation(),children:[c.jsx("div",{className:"p-2",children:c.jsx("header",{className:"text-center p-2 rounded-lg bg-zinc-800/50",children:c.jsx("h2",{className:"text-sm font-semibold text-brand-light-gray",children:n})})}),c.jsx("div",{className:"p-2",children:c.jsx("div",{className:"bg-zinc-800/50 rounded-lg",children:r.map((i,a)=>c.jsxs("button",{onClick:()=>{i.onClick(),e()},className:`w-full flex items-center p-3 text-left transition-colors hover:bg-white/10 ${i.color||"text-brand-blue"} ${a>0?"border-t border-zinc-700/80":""}`,children:[c.jsx(i.icon,{size:22,className:"mr-4"}),c.jsx("span",{className:"text-lg font-medium text-white",children:i.label})]},a))})}),c.jsxs("div",{className:"p-2 mt-1",children:[c.jsx("button",{onClick:e,className:"w-full bg-zinc-700 p-3 text-lg font-bold text-white rounded-xl hover:bg-zinc-600 transition-colors",children:"Cancelar"}),"S      "]})]})}):null,$ye=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?c.jsxs(An,{isOpen:t,onClose:e,title:r,children:[" ",c.jsxs("div",{className:"space-y-6",children:[" ",c.jsx("p",{className:"text-zinc-300",children:i})," ",c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Confirmar"})]})," "]})," "]}):null,Kye=({lotName:t,count:e,subLotsCount:n,dragControls:r,isSubLot:i})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[!i&&c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:a=>r.start(a),children:c.jsx(_D,{className:"text-zinc-500"})}),i&&c.jsx("div",{className:"w-4 flex-shrink-0"}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[t,n>0&&c.jsx("span",{title:`${n} sub-lotes`,className:"bg-zinc-700/80 p-1 rounded-full",children:c.jsx(wq,{size:12,className:"text-zinc-400"})})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[c.jsx("span",{className:"font-semibold text-brand-orange",children:e})," ",e===1?"animal":"animales",n>0?" (directos)":""]})]})]}),$6=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i,isSubLot:a=!1})=>{var f,h;const s=Ap(),o=P.useRef(!1),l=t.count>0||(((f=t.subLots)==null?void 0:f.length)||0)>0,u=t.name!=="Sin Asignar",d={drag:"x",dragConstraints:{left:-((l?80:0)+(u?80:0)),right:0},dragElastic:.1,onPanStart:()=>{o.current=!0},onPanEnd:()=>{setTimeout(()=>{o.current=!1},50)},onTap:()=>{o.current||r()},animate:s,transition:{type:"spring",stiffness:400,damping:40}};return c.jsxs("div",{className:`relative w-full overflow-hidden ${a?"rounded-lg":"rounded-2xl"} bg-brand-glass border border-brand-border`,children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[l&&c.jsxs("button",{onClick:e,onPointerDown:p=>p.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-orange text-white",children:[c.jsx(yf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),u&&c.jsxs("button",{onClick:n,onPointerDown:p=>p.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(bc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Borrar"})]})]}),c.jsx(Ji.div,{...d,dragListener:!a&&i?!1:void 0,className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(Kye,{lotName:t.name,count:t.count,subLotsCount:((h=t.subLots)==null?void 0:h.length)||0,dragControls:i,isSubLot:a})})]})},Wye=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=d3();return c.jsxs(h3,{value:t,dragListener:!1,dragControls:i,className:"space-y-1",children:[c.jsx($6,{lot:t,dragControls:i,onClick:()=>e({name:"lot-detail",lotName:t.name}),onEdit:()=>n(t),onDelete:()=>r(t),isSubLot:!1}),t.subLots&&t.subLots.length>0&&c.jsx("div",{className:"pl-6 space-y-1",children:t.subLots.map(a=>c.jsx($6,{lot:a,onClick:()=>e({name:"lot-detail",lotName:a.name}),onEdit:()=>n(a),onDelete:()=>r(a),isSubLot:!0},a.id))})]},t.id)};function Gye({navigateTo:t}){const{animals:e,lots:n,deleteLot:r}=Yt(),[i,a]=P.useState(!1),[s,o]=P.useState(null),[l,u]=P.useState(null),A=P.useMemo(()=>{const m=new Map;n.forEach(S=>m.set(S.name,0)),(e||[]).forEach(S=>{const E=S.location||"Sin Asignar";m.set(E,(m.get(E)||0)+1)});const v=n.map(S=>({id:S.id,name:S.name,count:m.get(S.name)||0,parentLotId:S.parentLotId})),g=new Map;v.forEach(S=>{S.parentLotId&&(g.has(S.parentLotId)||g.set(S.parentLotId,[]),g.get(S.parentLotId).push(S))});const y=v.filter(S=>!S.parentLotId).map(S=>({...S,subLots:g.get(S.id)||[]})),x=m.get("Sin Asignar")||0;return(x>0||y.length===0&&x>0)&&y.push({id:"unassigned",name:"Sin Asignar",count:x,parentLotId:void 0,subLots:[]}),y.sort((S,E)=>S.name.localeCompare(E.name))},[e,n]),[d,f]=P.useState(A);P.useEffect(()=>{f(A)},[A]);const h=[{label:"Mover Animales",icon:jD,onClick:()=>t({name:"lot-detail",lotName:(s==null?void 0:s.name)||""})}],p=()=>{l&&(r(l.id),u(null))};return d.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(Oq,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No hay lotes fsicos creados."}),c.jsx("p",{className:"text-xs text-zinc-600",children:"Usa el botn '+' para empezar a organizar tu rebao."})]}):c.jsxs(c.Fragment,{children:[c.jsx(f3,{as:"div",axis:"y",values:d,onReorder:f,className:"space-y-3",children:d.map(m=>c.jsx(Wye,{lot:m,navigateTo:t,onEdit:v=>{o(v),a(!0)},onDelete:v=>u(v)},m.id))}),c.jsx(Hu,{isOpen:i,onClose:()=>a(!1),title:`Acciones para "${s==null?void 0:s.name}"`,actions:h}),c.jsx($ye,{isOpen:!!l,onClose:()=>u(null),onConfirm:p,title:"Eliminar Lote",message:`Ests seguro de que quieres eliminar el lote "${l==null?void 0:l.name}"? Esta accin no se puede deshacer.`})]})}const qye=({onSave:t,onCancel:e,existingSeason:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState("45"),[u,A]=P.useState(!1),[d,f]=P.useState(null),[h,p]=P.useState(!1);P.useEffect(()=>{if(n){i(n.name),s(n.startDate);const v=new Date(n.startDate),g=new Date(n.endDate),y=Math.abs(g.getTime()-v.getTime()),x=Math.ceil(y/(1e3*60*60*24));l(String(x)),A(n.requiresLightTreatment)}else s(new Date().toISOString().split("T")[0])},[n]);const m=async v=>{if(v.preventDefault(),f(null),!r.trim()||!a||!o){f("Todos los campos son obligatorios.");return}p(!0);const g=new Date(a),y=new Date(g);y.setDate(g.getDate()+parseInt(o,10));const x={name:r,startDate:a,endDate:y.toISOString().split("T")[0],requiresLightTreatment:u};try{await t(x)}catch(S){f("No se pudo guardar la temporada de monta."),console.error(S),p(!1)}};return c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre de la Temporada"}),c.jsx("input",{id:"name",type:"text",value:r,onChange:v=>i(v.target.value),placeholder:"Ej: Monta de Otoo 2025",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),c.jsx("input",{id:"startDate",type:"date",value:a,onChange:v=>s(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Duracin (das)"}),c.jsx("input",{id:"duration",type:"number",value:o,onChange:v=>l(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0})]})]}),c.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-zinc-700 flex items-center justify-between",children:[c.jsx("label",{htmlFor:"lightTreatment",className:"text-sm font-medium text-zinc-300",children:"Requiere Tratamiento de Luz?"}),c.jsx("input",{id:"lightTreatment",type:"checkbox",checked:u,onChange:v=>A(v.target.checked),className:"form-checkbox h-5 w-5 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]}),d&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:d})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:h,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:h?"Guardando...":"Guardar Temporada"})]})]})},Yye=({season:t,dragControls:e})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:n=>e.start(n),children:c.jsx(_D,{className:"text-zinc-500"})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[t.name,t.requiresLightTreatment&&c.jsx("span",{title:"Requiere Tratamiento de Luz",children:c.jsx(Ope,{size:16,className:"text-yellow-400"})})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[new Date(t.startDate+"T00:00:00").toLocaleDateString()," - ",new Date(t.endDate+"T00:00:00").toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${t.status==="Activo"?"bg-green-500/80 text-white":"bg-zinc-600 text-zinc-300"}`,children:t.status}),c.jsx(ta,{className:"text-zinc-600"})]})]}),Xye=({season:t,onEdit:e,onClick:n,dragControls:r})=>{const i=Ap(),a=P.useRef(!1);return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("button",{onClick:e,onPointerDown:s=>s.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(yf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]})}),c.jsx(Ji.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onPanStart:()=>{a.current=!0},onPanEnd:()=>{setTimeout(()=>{a.current=!1},50)},onTap:()=>{a.current||n()},animate:i,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(Yye,{season:t,dragControls:r})})]})},Jye=({season:t,navigateTo:e,onEdit:n})=>{const r=d3();return c.jsx(h3,{value:t,dragListener:!1,dragControls:r,children:c.jsx(Xye,{season:t,dragControls:r,onClick:()=>e({name:"breeding-season-detail",seasonId:t.id}),onEdit:()=>n(t)})},t.id)};function Zye({navigateTo:t}){const{breedingSeasons:e,addBreedingSeason:n,updateBreedingSeason:r}=Yt(),[i,a]=P.useState(!1),[s,o]=P.useState(void 0),l=P.useMemo(()=>[...e].sort((h,p)=>h.status==="Activo"&&p.status!=="Activo"?-1:h.status!=="Activo"&&p.status==="Activo"?1:new Date(p.startDate).getTime()-new Date(h.startDate).getTime()),[e]),[u,A]=P.useState(l);P.useEffect(()=>{A(l)},[l]);const d=h=>{o(h),a(!0)},f=async h=>{s?await r(s.id,{...h}):await n({...h,status:"Activo"}),a(!1),o(void 0)};return u.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(sx,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No hay temporadas de monta creadas."}),c.jsx("p",{className:"text-xs text-zinc-600",children:"Usa el botn de abajo para empezar a planificar."})]}):c.jsxs(c.Fragment,{children:[c.jsx(f3,{as:"div",axis:"y",values:u,onReorder:A,className:"space-y-3",children:u.map(h=>c.jsx(Jye,{season:h,navigateTo:t,onEdit:d},h.id))}),c.jsx("div",{className:"px-4 mt-4",children:c.jsxs("button",{onClick:()=>d(),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(na,{size:20})," Crear Nueva Temporada"]})}),c.jsx(An,{isOpen:i,onClose:()=>{a(!1),o(void 0)},title:s?"Editar Temporada de Monta":"Crear Temporada de Monta",children:c.jsx(qye,{onSave:f,onCancel:()=>{a(!1),o(void 0)},existingSeason:s})})]})}function pX(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pX(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pX(t))&&(r&&(r+=" "),r+=e);return r}var ebe=Array.isArray,qo=ebe,tbe=typeof tm=="object"&&tm&&tm.Object===Object&&tm,mX=tbe,nbe=mX,rbe=typeof self=="object"&&self&&self.Object===Object&&self,ibe=nbe||rbe||Function("return this")(),Wu=ibe,abe=Wu,sbe=abe.Symbol,dx=sbe,K6=dx,gX=Object.prototype,obe=gX.hasOwnProperty,lbe=gX.toString,$0=K6?K6.toStringTag:void 0;function cbe(t){var e=obe.call(t,$0),n=t[$0];try{t[$0]=void 0;var r=!0}catch{}var i=lbe.call(t);return r&&(e?t[$0]=n:delete t[$0]),i}var ube=cbe,Abe=Object.prototype,dbe=Abe.toString;function fbe(t){return dbe.call(t)}var hbe=fbe,W6=dx,pbe=ube,mbe=hbe,gbe="[object Null]",vbe="[object Undefined]",G6=W6?W6.toStringTag:void 0;function ybe(t){return t==null?t===void 0?vbe:gbe:G6&&G6 in Object(t)?pbe(t):mbe(t)}var XA=ybe;function bbe(t){return t!=null&&typeof t=="object"}var JA=bbe,xbe=XA,wbe=JA,Cbe="[object Symbol]";function Sbe(t){return typeof t=="symbol"||wbe(t)&&xbe(t)==Cbe}var u0=Sbe,Ebe=qo,_be=u0,Bbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nbe=/^\w*$/;function jbe(t,e){if(Ebe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_be(t)?!0:Nbe.test(t)||!Bbe.test(t)||e!=null&&t in Object(e)}var p3=jbe;function Ibe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xf=Ibe;const A0=Rr(xf);var Tbe=XA,kbe=xf,Pbe="[object AsyncFunction]",Dbe="[object Function]",Obe="[object GeneratorFunction]",Fbe="[object Proxy]";function Lbe(t){if(!kbe(t))return!1;var e=Tbe(t);return e==Dbe||e==Obe||e==Pbe||e==Fbe}var m3=Lbe;const Nn=Rr(m3);var Mbe=Wu,Rbe=Mbe["__core-js_shared__"],Ube=Rbe,bB=Ube,q6=function(){var t=/[^.]+$/.exec(bB&&bB.keys&&bB.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Qbe(t){return!!q6&&q6 in t}var Hbe=Qbe,zbe=Function.prototype,Vbe=zbe.toString;function $be(t){if(t!=null){try{return Vbe.call(t)}catch{}try{return t+""}catch{}}return""}var vX=$be,Kbe=m3,Wbe=Hbe,Gbe=xf,qbe=vX,Ybe=/[\\^$.*+?()[\]{}|]/g,Xbe=/^\[object .+?Constructor\]$/,Jbe=Function.prototype,Zbe=Object.prototype,exe=Jbe.toString,txe=Zbe.hasOwnProperty,nxe=RegExp("^"+exe.call(txe).replace(Ybe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rxe(t){if(!Gbe(t)||Wbe(t))return!1;var e=Kbe(t)?nxe:Xbe;return e.test(qbe(t))}var ixe=rxe;function axe(t,e){return t==null?void 0:t[e]}var sxe=axe,oxe=ixe,lxe=sxe;function cxe(t,e){var n=lxe(t,e);return oxe(n)?n:void 0}var dp=cxe,uxe=dp,Axe=uxe(Object,"create"),Q5=Axe,Y6=Q5;function dxe(){this.__data__=Y6?Y6(null):{},this.size=0}var fxe=dxe;function hxe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var pxe=hxe,mxe=Q5,gxe="__lodash_hash_undefined__",vxe=Object.prototype,yxe=vxe.hasOwnProperty;function bxe(t){var e=this.__data__;if(mxe){var n=e[t];return n===gxe?void 0:n}return yxe.call(e,t)?e[t]:void 0}var xxe=bxe,wxe=Q5,Cxe=Object.prototype,Sxe=Cxe.hasOwnProperty;function Exe(t){var e=this.__data__;return wxe?e[t]!==void 0:Sxe.call(e,t)}var _xe=Exe,Bxe=Q5,Nxe="__lodash_hash_undefined__";function jxe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Bxe&&e===void 0?Nxe:e,this}var Ixe=jxe,Txe=fxe,kxe=pxe,Pxe=xxe,Dxe=_xe,Oxe=Ixe;function d0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}d0.prototype.clear=Txe;d0.prototype.delete=kxe;d0.prototype.get=Pxe;d0.prototype.has=Dxe;d0.prototype.set=Oxe;var Fxe=d0;function Lxe(){this.__data__=[],this.size=0}var Mxe=Lxe;function Rxe(t,e){return t===e||t!==t&&e!==e}var g3=Rxe,Uxe=g3;function Qxe(t,e){for(var n=t.length;n--;)if(Uxe(t[n][0],e))return n;return-1}var H5=Qxe,Hxe=H5,zxe=Array.prototype,Vxe=zxe.splice;function $xe(t){var e=this.__data__,n=Hxe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vxe.call(e,n,1),--this.size,!0}var Kxe=$xe,Wxe=H5;function Gxe(t){var e=this.__data__,n=Wxe(e,t);return n<0?void 0:e[n][1]}var qxe=Gxe,Yxe=H5;function Xxe(t){return Yxe(this.__data__,t)>-1}var Jxe=Xxe,Zxe=H5;function e1e(t,e){var n=this.__data__,r=Zxe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var t1e=e1e,n1e=Mxe,r1e=Kxe,i1e=qxe,a1e=Jxe,s1e=t1e;function f0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}f0.prototype.clear=n1e;f0.prototype.delete=r1e;f0.prototype.get=i1e;f0.prototype.has=a1e;f0.prototype.set=s1e;var z5=f0,o1e=dp,l1e=Wu,c1e=o1e(l1e,"Map"),v3=c1e,X6=Fxe,u1e=z5,A1e=v3;function d1e(){this.size=0,this.__data__={hash:new X6,map:new(A1e||u1e),string:new X6}}var f1e=d1e;function h1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var p1e=h1e,m1e=p1e;function g1e(t,e){var n=t.__data__;return m1e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var V5=g1e,v1e=V5;function y1e(t){var e=v1e(this,t).delete(t);return this.size-=e?1:0,e}var b1e=y1e,x1e=V5;function w1e(t){return x1e(this,t).get(t)}var C1e=w1e,S1e=V5;function E1e(t){return S1e(this,t).has(t)}var _1e=E1e,B1e=V5;function N1e(t,e){var n=B1e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var j1e=N1e,I1e=f1e,T1e=b1e,k1e=C1e,P1e=_1e,D1e=j1e;function h0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h0.prototype.clear=I1e;h0.prototype.delete=T1e;h0.prototype.get=k1e;h0.prototype.has=P1e;h0.prototype.set=D1e;var y3=h0,yX=y3,O1e="Expected a function";function b3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(O1e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(b3.Cache||yX),n}b3.Cache=yX;var bX=b3;const F1e=Rr(bX);var L1e=bX,M1e=500;function R1e(t){var e=L1e(t,function(r){return n.size===M1e&&n.clear(),r}),n=e.cache;return e}var U1e=R1e,Q1e=U1e,H1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z1e=/\\(\\)?/g,V1e=Q1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(H1e,function(n,r,i,a){e.push(i?a.replace(z1e,"$1"):r||n)}),e}),$1e=V1e;function K1e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var x3=K1e,J6=dx,W1e=x3,G1e=qo,q1e=u0,Z6=J6?J6.prototype:void 0,eU=Z6?Z6.toString:void 0;function xX(t){if(typeof t=="string")return t;if(G1e(t))return W1e(t,xX)+"";if(q1e(t))return eU?eU.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Y1e=xX,X1e=Y1e;function J1e(t){return t==null?"":X1e(t)}var wX=J1e,Z1e=qo,ewe=p3,twe=$1e,nwe=wX;function rwe(t,e){return Z1e(t)?t:ewe(t,e)?[t]:twe(nwe(t))}var CX=rwe,iwe=u0;function awe(t){if(typeof t=="string"||iwe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $5=awe,swe=CX,owe=$5;function lwe(t,e){e=swe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[owe(e[n++])];return n&&n==r?t:void 0}var w3=lwe,cwe=w3;function uwe(t,e,n){var r=t==null?void 0:cwe(t,e);return r===void 0?n:r}var SX=uwe;const jl=Rr(SX);function Awe(t){return t==null}var dwe=Awe;const On=Rr(dwe);var fwe=XA,hwe=qo,pwe=JA,mwe="[object String]";function gwe(t){return typeof t=="string"||!hwe(t)&&pwe(t)&&fwe(t)==mwe}var vwe=gwe;const zh=Rr(vwe);var EX={exports:{}},Wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3=Symbol.for("react.element"),S3=Symbol.for("react.portal"),K5=Symbol.for("react.fragment"),W5=Symbol.for("react.strict_mode"),G5=Symbol.for("react.profiler"),q5=Symbol.for("react.provider"),Y5=Symbol.for("react.context"),ywe=Symbol.for("react.server_context"),X5=Symbol.for("react.forward_ref"),J5=Symbol.for("react.suspense"),Z5=Symbol.for("react.suspense_list"),eE=Symbol.for("react.memo"),tE=Symbol.for("react.lazy"),bwe=Symbol.for("react.offscreen"),_X;_X=Symbol.for("react.module.reference");function xc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case C3:switch(t=t.type,t){case K5:case G5:case W5:case J5:case Z5:return t;default:switch(t=t&&t.$$typeof,t){case ywe:case Y5:case X5:case tE:case eE:case q5:return t;default:return e}}case S3:return e}}}Wr.ContextConsumer=Y5;Wr.ContextProvider=q5;Wr.Element=C3;Wr.ForwardRef=X5;Wr.Fragment=K5;Wr.Lazy=tE;Wr.Memo=eE;Wr.Portal=S3;Wr.Profiler=G5;Wr.StrictMode=W5;Wr.Suspense=J5;Wr.SuspenseList=Z5;Wr.isAsyncMode=function(){return!1};Wr.isConcurrentMode=function(){return!1};Wr.isContextConsumer=function(t){return xc(t)===Y5};Wr.isContextProvider=function(t){return xc(t)===q5};Wr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===C3};Wr.isForwardRef=function(t){return xc(t)===X5};Wr.isFragment=function(t){return xc(t)===K5};Wr.isLazy=function(t){return xc(t)===tE};Wr.isMemo=function(t){return xc(t)===eE};Wr.isPortal=function(t){return xc(t)===S3};Wr.isProfiler=function(t){return xc(t)===G5};Wr.isStrictMode=function(t){return xc(t)===W5};Wr.isSuspense=function(t){return xc(t)===J5};Wr.isSuspenseList=function(t){return xc(t)===Z5};Wr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===K5||t===G5||t===W5||t===J5||t===Z5||t===bwe||typeof t=="object"&&t!==null&&(t.$$typeof===tE||t.$$typeof===eE||t.$$typeof===q5||t.$$typeof===Y5||t.$$typeof===X5||t.$$typeof===_X||t.getModuleId!==void 0)};Wr.typeOf=xc;EX.exports=Wr;var xwe=EX.exports,wwe=XA,Cwe=JA,Swe="[object Number]";function Ewe(t){return typeof t=="number"||Cwe(t)&&wwe(t)==Swe}var BX=Ewe;const _we=Rr(BX);var Bwe=BX;function Nwe(t){return Bwe(t)&&t!=+t}var jwe=Nwe;const p0=Rr(jwe);var bo=function(e){return e===0?0:e>0?1:-1},dh=function(e){return zh(e)&&e.indexOf("%")===e.length-1},Tt=function(e){return _we(e)&&!p0(e)},Iwe=function(e){return On(e)},Xa=function(e){return Tt(e)||zh(e)},Twe=0,fp=function(e){var n=++Twe;return"".concat(e||"").concat(n)},xo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(e)&&!zh(e))return r;var a;if(dh(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return p0(a)&&(a=r),i&&a>n&&(a=n),a},Bd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},kwe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ga=function(e,n){return Tt(e)&&Tt(n)?function(r){return e+r*(n-e)}:function(){return n}};function cC(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):jl(r,e))===n})}var Pwe=function(e,n){return Tt(e)&&Tt(n)?e-n:zh(e)&&zh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Lm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function aI(t){"@babel/helpers - typeof";return aI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aI(t)}var Dwe=["viewBox","children"],Owe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tU=["points","pathLength"],xB={svg:Dwe,polygon:tU,polyline:tU},E3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uC=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!A0(r))return null;var i={};return Object.keys(r).forEach(function(a){E3.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Fwe=function(e,n,r){return function(i){return e(n,r,i),null}},Vh=function(e,n,r){if(!A0(e)||aI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];E3.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Fwe(s,n,r))}),i},Lwe=["children"],Mwe=["children"];function nU(t,e){if(t==null)return{};var n=Rwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sI(t){"@babel/helpers - typeof";return sI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sI(t)}var rU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},jA=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iU=null,wB=null,_3=function t(e){if(e===iU&&Array.isArray(wB))return wB;var n=[];return P.Children.forEach(e,function(r){On(r)||(xwe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),wB=n,iU=e,n};function Il(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return jA(i)}):r=[jA(e)],_3(t).forEach(function(i){var a=jl(i,"type.displayName")||jl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function bl(t,e){var n=Il(t,e);return n&&n[0]}var aU=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Tt(r)||r<=0||!Tt(i)||i<=0)},Uwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qwe=function(e){return e&&e.type&&zh(e.type)&&Uwe.indexOf(e.type)>=0},NX=function(e){return e&&sI(e)==="object"&&"clipDot"in e},Hwe=function(e,n,r,i){var a,s=(a=xB==null?void 0:xB[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Nn(e)&&(i&&s.includes(n)||Owe.includes(n))||r&&E3.includes(n)},yn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!A0(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Hwe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},oI=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return sU(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!sU(a,s))return!1}return!0},sU=function(e,n){if(On(e)&&On(n))return!0;if(!On(e)&&!On(n)){var r=e.props||{},i=r.children,a=nU(r,Lwe),s=n.props||{},o=s.children,l=nU(s,Mwe);return i&&o?Lm(a,l)&&oI(i,o):!i&&!o?Lm(a,l):!1}return!1},oU=function(e,n){var r=[],i={};return _3(e).forEach(function(a,s){if(Qwe(a))r.push(a);else if(a){var o=jA(a.type),l=n[o]||{},u=l.handler,A=l.once;if(u&&(!A||!i[o])){var d=u(a,o,s);r.push(d),i[o]=!0}}}),r},zwe=function(e){var n=e&&e.type;return n&&rU[n]?rU[n]:null},Vwe=function(e,n){return _3(n).indexOf(e)},$we=["children","width","height","viewBox","className","style","title","desc"];function lI(){return lI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lI.apply(this,arguments)}function Kwe(t,e){if(t==null)return{};var n=Wwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cI(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=Kwe(t,$we),A=i||{width:n,height:r,x:0,y:0},d=Hn("recharts-surface",a);return be.createElement("svg",lI({},yn(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height)}),be.createElement("title",null,o),be.createElement("desc",null,l),e)}var Gwe=["children","className"];function uI(){return uI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uI.apply(this,arguments)}function qwe(t,e){if(t==null)return{};var n=Ywe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ywe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ir=be.forwardRef(function(t,e){var n=t.children,r=t.className,i=qwe(t,Gwe),a=Hn("recharts-layer",r);return be.createElement("g",uI({className:a},yn(i,!0),{ref:e}),n)}),Gc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Xwe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Jwe=Xwe,Zwe=Jwe;function e2e(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Zwe(t,e,n)}var t2e=e2e,n2e="\\ud800-\\udfff",r2e="\\u0300-\\u036f",i2e="\\ufe20-\\ufe2f",a2e="\\u20d0-\\u20ff",s2e=r2e+i2e+a2e,o2e="\\ufe0e\\ufe0f",l2e="\\u200d",c2e=RegExp("["+l2e+n2e+s2e+o2e+"]");function u2e(t){return c2e.test(t)}var jX=u2e;function A2e(t){return t.split("")}var d2e=A2e,IX="\\ud800-\\udfff",f2e="\\u0300-\\u036f",h2e="\\ufe20-\\ufe2f",p2e="\\u20d0-\\u20ff",m2e=f2e+h2e+p2e,g2e="\\ufe0e\\ufe0f",v2e="["+IX+"]",AI="["+m2e+"]",dI="\\ud83c[\\udffb-\\udfff]",y2e="(?:"+AI+"|"+dI+")",TX="[^"+IX+"]",kX="(?:\\ud83c[\\udde6-\\uddff]){2}",PX="[\\ud800-\\udbff][\\udc00-\\udfff]",b2e="\\u200d",DX=y2e+"?",OX="["+g2e+"]?",x2e="(?:"+b2e+"(?:"+[TX,kX,PX].join("|")+")"+OX+DX+")*",w2e=OX+DX+x2e,C2e="(?:"+[TX+AI+"?",AI,kX,PX,v2e].join("|")+")",S2e=RegExp(dI+"(?="+dI+")|"+C2e+w2e,"g");function E2e(t){return t.match(S2e)||[]}var _2e=E2e,B2e=d2e,N2e=jX,j2e=_2e;function I2e(t){return N2e(t)?j2e(t):B2e(t)}var T2e=I2e,k2e=t2e,P2e=jX,D2e=T2e,O2e=wX;function F2e(t){return function(e){e=O2e(e);var n=P2e(e)?D2e(e):void 0,r=n?n[0]:e.charAt(0),i=n?k2e(n,1).join(""):e.slice(1);return r[t]()+i}}var L2e=F2e,M2e=L2e,R2e=M2e("toUpperCase"),U2e=R2e;const nE=Rr(U2e);function ci(t){return function(){return t}}const FX=Math.cos,AC=Math.sin,ou=Math.sqrt,dC=Math.PI,rE=2*dC,fI=Math.PI,hI=2*fI,qf=1e-6,Q2e=hI-qf;function LX(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function H2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return LX;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class z2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?LX:H2e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,A=s-e,d=o-n,f=A*A+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>qf)if(!(Math.abs(d*l-u*A)>qf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,p=i-o,m=l*l+u*u,v=h*h+p*p,g=Math.sqrt(m),y=Math.sqrt(f),x=a*Math.tan((fI-Math.acos((m+f-v)/(2*g*y)))/2),S=x/y,E=x/g;Math.abs(S-1)>qf&&this._append`L${e+S*A},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*h>A*p)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,A=n+l,d=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>qf||Math.abs(this._y1-A)>qf)&&this._append`L${u},${A}`,r&&(f<0&&(f=f%hI+hI),f>Q2e?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=A}`:f>qf&&this._append`A${r},${r},0,${+(f>=fI)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function B3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new z2e(e)}function N3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MX(t){this._context=t}MX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function iE(t){return new MX(t)}function RX(t){return t[0]}function UX(t){return t[1]}function QX(t,e){var n=ci(!0),r=null,i=iE,a=null,s=B3(o);t=typeof t=="function"?t:t===void 0?RX:ci(t),e=typeof e=="function"?e:e===void 0?UX:ci(e);function o(l){var u,A=(l=N3(l)).length,d,f=!1,h;for(r==null&&(a=i(h=s())),u=0;u<=A;++u)!(u<A&&n(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,u,l),+e(d,u,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ci(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ci(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ci(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function x1(t,e,n){var r=null,i=ci(!0),a=null,s=iE,o=null,l=B3(u);t=typeof t=="function"?t:t===void 0?RX:ci(+t),e=typeof e=="function"?e:ci(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?UX:ci(+n);function u(d){var f,h,p,m=(d=N3(d)).length,v,g=!1,y,x=new Array(m),S=new Array(m);for(a==null&&(o=s(y=l())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===g)if(g=!g)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=f-1;p>=h;--p)o.point(x[p],S[p]);o.lineEnd(),o.areaEnd()}g&&(x[f]=+t(v,f,d),S[f]=+e(v,f,d),o.point(r?+r(v,f,d):x[f],n?+n(v,f,d):S[f]))}if(y)return o=null,y+""||null}function A(){return QX().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ci(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ci(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ci(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ci(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ci(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ci(+d),u):n},u.lineX0=u.lineY0=function(){return A().x(t).y(e)},u.lineY1=function(){return A().x(t).y(n)},u.lineX1=function(){return A().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ci(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class HX{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function V2e(t){return new HX(t,!0)}function $2e(t){return new HX(t,!1)}const j3={draw(t,e){const n=ou(e/dC);t.moveTo(n,0),t.arc(0,0,n,0,rE)}},K2e={draw(t,e){const n=ou(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},zX=ou(1/3),W2e=zX*2,G2e={draw(t,e){const n=ou(e/W2e),r=n*zX;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},q2e={draw(t,e){const n=ou(e),r=-n/2;t.rect(r,r,n,n)}},Y2e=.8908130915292852,VX=AC(dC/10)/AC(7*dC/10),X2e=AC(rE/10)*VX,J2e=-FX(rE/10)*VX,Z2e={draw(t,e){const n=ou(e*Y2e),r=X2e*n,i=J2e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=rE*a/5,o=FX(s),l=AC(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},CB=ou(3),eCe={draw(t,e){const n=-ou(e/(CB*3));t.moveTo(0,n*2),t.lineTo(-CB*n,-n),t.lineTo(CB*n,-n),t.closePath()}},ec=-.5,tc=ou(3)/2,pI=1/ou(12),tCe=(pI/2+1)*3,nCe={draw(t,e){const n=ou(e/tCe),r=n/2,i=n*pI,a=r,s=n*pI+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(ec*r-tc*i,tc*r+ec*i),t.lineTo(ec*a-tc*s,tc*a+ec*s),t.lineTo(ec*o-tc*l,tc*o+ec*l),t.lineTo(ec*r+tc*i,ec*i-tc*r),t.lineTo(ec*a+tc*s,ec*s-tc*a),t.lineTo(ec*o+tc*l,ec*l-tc*o),t.closePath()}};function rCe(t,e){let n=null,r=B3(i);t=typeof t=="function"?t:ci(t||j3),e=typeof e=="function"?e:ci(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ci(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ci(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function fC(){}function hC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $X(t){this._context=t}$X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iCe(t){return new $X(t)}function KX(t){this._context=t}KX.prototype={areaStart:fC,areaEnd:fC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aCe(t){return new KX(t)}function WX(t){this._context=t}WX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sCe(t){return new WX(t)}function GX(t){this._context=t}GX.prototype={areaStart:fC,areaEnd:fC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function oCe(t){return new GX(t)}function lU(t){return t<0?-1:1}function cU(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(lU(a)+lU(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function uU(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function SB(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function pC(t){this._context=t}pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SB(this,this._t0,uU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,SB(this,uU(this,n=cU(this,t,e)),n);break;default:SB(this,this._t0,n=cU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function qX(t){this._context=new YX(t)}(qX.prototype=Object.create(pC.prototype)).point=function(t,e){pC.prototype.point.call(this,e,t)};function YX(t){this._context=t}YX.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function lCe(t){return new pC(t)}function cCe(t){return new qX(t)}function XX(t){this._context=t}XX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AU(t),i=AU(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AU(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function uCe(t){return new XX(t)}function aE(t,e){this._context=t,this._t=e}aE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ACe(t){return new aE(t,.5)}function dCe(t){return new aE(t,0)}function fCe(t){return new aE(t,1)}function bg(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mI(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hCe(t,e){return t[e]}function pCe(t){const e=[];return e.key=t,e}function mCe(){var t=ci([]),e=mI,n=bg,r=hCe;function i(a){var s=Array.from(t.apply(this,arguments),pCe),o,l=s.length,u=-1,A;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(d,s[o].key,u,a)]).data=d;for(o=0,A=N3(e(s));o<l;++o)s[A[o]].index=o;return n(s,A),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ci(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ci(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?mI:typeof a=="function"?a:ci(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??bg,i):n},i}function gCe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}bg(t,e)}}function vCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}bg(t,e)}}function yCe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var A=t[e[o]],d=A[r][1]||0,f=A[r-1][1]||0,h=(d-f)/2,p=0;p<o;++p){var m=t[e[p]],v=m[r][1]||0,g=m[r-1][1]||0;h+=v-g}l+=d,u+=h*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,bg(t,e)}}function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}var bCe=["type","size","sizeType"];function gI(){return gI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gI.apply(this,arguments)}function dU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(n),!0).forEach(function(r){xCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xCe(t,e,n){return e=wCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wCe(t){var e=CCe(t,"string");return Xy(e)=="symbol"?e:e+""}function CCe(t,e){if(Xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SCe(t,e){if(t==null)return{};var n=ECe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ECe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var JX={symbolCircle:j3,symbolCross:K2e,symbolDiamond:G2e,symbolSquare:q2e,symbolStar:Z2e,symbolTriangle:eCe,symbolWye:nCe},_Ce=Math.PI/180,BCe=function(e){var n="symbol".concat(nE(e));return JX[n]||j3},NCe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_Ce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jCe=function(e,n){JX["symbol".concat(nE(e))]=n},I3=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=SCe(e,bCe),u=fU(fU({},l),{},{type:r,size:a,sizeType:o}),A=function(){var v=BCe(r),g=rCe().type(v).size(NCe(a,o,r));return g()},d=u.className,f=u.cx,h=u.cy,p=yn(u,!0);return f===+f&&h===+h&&a===+a?be.createElement("path",gI({},p,{className:Hn("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:A()})):null};I3.registerSymbol=jCe;function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function vI(){return vI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vI.apply(this,arguments)}function hU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ICe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eJ(r.key),r)}}function PCe(t,e,n){return e&&kCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DCe(t,e,n){return e=mC(e),OCe(t,ZX()?Reflect.construct(e,n||[],mC(t).constructor):e.apply(t,n))}function OCe(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FCe(t)}function FCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZX=function(){return!!t})()}function mC(t){return mC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mC(t)}function LCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yI(t,e)}function yI(t,e){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yI(t,e)}function Jy(t,e,n){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJ(t){var e=MCe(t,"string");return xg(e)=="symbol"?e:e+""}function MCe(t,e){if(xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nc=32,T3=function(t){function e(){return TCe(this,e),DCe(this,e,arguments)}return LCe(e,t),PCe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=nc/2,s=nc/6,o=nc/3,l=r.inactive?i:r.color;if(r.type==="plainline")return be.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:nc,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return be.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(nc,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return be.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(nc/8,"h").concat(nc,"v").concat(nc*3/4,"h").concat(-nc,"z"),className:"recharts-legend-icon"});if(be.isValidElement(r.legendIcon)){var u=ICe({},r);return delete u.legendIcon,be.cloneElement(r.legendIcon,u)}return be.createElement(I3,{fill:l,cx:a,cy:a,size:nc,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,A={x:0,y:0,width:nc,height:nc},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,p){var m=h.formatter||l,v=Hn(Jy(Jy({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var g=Nn(h.value)?null:h.value;Gc(!Nn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?u:h.color;return be.createElement("li",vI({className:v,style:d,key:"legend-item-".concat(p)},Vh(r.props,h,p)),be.createElement(cI,{width:s,height:s,viewBox:A,style:f},r.renderIcon(h)),be.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(g,h,p):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return be.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(P.PureComponent);Jy(T3,"displayName","Legend");Jy(T3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var RCe=z5;function UCe(){this.__data__=new RCe,this.size=0}var QCe=UCe;function HCe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var zCe=HCe;function VCe(t){return this.__data__.get(t)}var $Ce=VCe;function KCe(t){return this.__data__.has(t)}var WCe=KCe,GCe=z5,qCe=v3,YCe=y3,XCe=200;function JCe(t,e){var n=this.__data__;if(n instanceof GCe){var r=n.__data__;if(!qCe||r.length<XCe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new YCe(r)}return n.set(t,e),this.size=n.size,this}var ZCe=JCe,eSe=z5,tSe=QCe,nSe=zCe,rSe=$Ce,iSe=WCe,aSe=ZCe;function m0(t){var e=this.__data__=new eSe(t);this.size=e.size}m0.prototype.clear=tSe;m0.prototype.delete=nSe;m0.prototype.get=rSe;m0.prototype.has=iSe;m0.prototype.set=aSe;var tJ=m0,sSe="__lodash_hash_undefined__";function oSe(t){return this.__data__.set(t,sSe),this}var lSe=oSe;function cSe(t){return this.__data__.has(t)}var uSe=cSe,ASe=y3,dSe=lSe,fSe=uSe;function gC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ASe;++e<n;)this.add(t[e])}gC.prototype.add=gC.prototype.push=dSe;gC.prototype.has=fSe;var nJ=gC;function hSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rJ=hSe;function pSe(t,e){return t.has(e)}var iJ=pSe,mSe=nJ,gSe=rJ,vSe=iJ,ySe=1,bSe=2;function xSe(t,e,n,r,i,a){var s=n&ySe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),A=a.get(e);if(u&&A)return u==e&&A==t;var d=-1,f=!0,h=n&bSe?new mSe:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var p=t[d],m=e[d];if(r)var v=s?r(m,p,d,e,t,a):r(p,m,d,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!gSe(e,function(g,y){if(!vSe(h,y)&&(p===g||i(p,g,n,r,a)))return h.push(y)})){f=!1;break}}else if(!(p===m||i(p,m,n,r,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var aJ=xSe,wSe=Wu,CSe=wSe.Uint8Array,SSe=CSe;function ESe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _Se=ESe;function BSe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var k3=BSe,pU=dx,mU=SSe,NSe=g3,jSe=aJ,ISe=_Se,TSe=k3,kSe=1,PSe=2,DSe="[object Boolean]",OSe="[object Date]",FSe="[object Error]",LSe="[object Map]",MSe="[object Number]",RSe="[object RegExp]",USe="[object Set]",QSe="[object String]",HSe="[object Symbol]",zSe="[object ArrayBuffer]",VSe="[object DataView]",gU=pU?pU.prototype:void 0,EB=gU?gU.valueOf:void 0;function $Se(t,e,n,r,i,a,s){switch(n){case VSe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zSe:return!(t.byteLength!=e.byteLength||!a(new mU(t),new mU(e)));case DSe:case OSe:case MSe:return NSe(+t,+e);case FSe:return t.name==e.name&&t.message==e.message;case RSe:case QSe:return t==e+"";case LSe:var o=ISe;case USe:var l=r&kSe;if(o||(o=TSe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=PSe,s.set(t,e);var A=jSe(o(t),o(e),r,i,a,s);return s.delete(t),A;case HSe:if(EB)return EB.call(t)==EB.call(e)}return!1}var KSe=$Se;function WSe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var sJ=WSe,GSe=sJ,qSe=qo;function YSe(t,e,n){var r=e(t);return qSe(t)?r:GSe(r,n(t))}var XSe=YSe;function JSe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var ZSe=JSe;function e5e(){return[]}var t5e=e5e,n5e=ZSe,r5e=t5e,i5e=Object.prototype,a5e=i5e.propertyIsEnumerable,vU=Object.getOwnPropertySymbols,s5e=vU?function(t){return t==null?[]:(t=Object(t),n5e(vU(t),function(e){return a5e.call(t,e)}))}:r5e,o5e=s5e;function l5e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var c5e=l5e,u5e=XA,A5e=JA,d5e="[object Arguments]";function f5e(t){return A5e(t)&&u5e(t)==d5e}var h5e=f5e,yU=h5e,p5e=JA,oJ=Object.prototype,m5e=oJ.hasOwnProperty,g5e=oJ.propertyIsEnumerable,v5e=yU(function(){return arguments}())?yU:function(t){return p5e(t)&&m5e.call(t,"callee")&&!g5e.call(t,"callee")},P3=v5e,vC={exports:{}};function y5e(){return!1}var b5e=y5e;vC.exports;(function(t,e){var n=Wu,r=b5e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(vC,vC.exports);var lJ=vC.exports,x5e=9007199254740991,w5e=/^(?:0|[1-9]\d*)$/;function C5e(t,e){var n=typeof t;return e=e??x5e,!!e&&(n=="number"||n!="symbol"&&w5e.test(t))&&t>-1&&t%1==0&&t<e}var D3=C5e,S5e=9007199254740991;function E5e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=S5e}var O3=E5e,_5e=XA,B5e=O3,N5e=JA,j5e="[object Arguments]",I5e="[object Array]",T5e="[object Boolean]",k5e="[object Date]",P5e="[object Error]",D5e="[object Function]",O5e="[object Map]",F5e="[object Number]",L5e="[object Object]",M5e="[object RegExp]",R5e="[object Set]",U5e="[object String]",Q5e="[object WeakMap]",H5e="[object ArrayBuffer]",z5e="[object DataView]",V5e="[object Float32Array]",$5e="[object Float64Array]",K5e="[object Int8Array]",W5e="[object Int16Array]",G5e="[object Int32Array]",q5e="[object Uint8Array]",Y5e="[object Uint8ClampedArray]",X5e="[object Uint16Array]",J5e="[object Uint32Array]",xi={};xi[V5e]=xi[$5e]=xi[K5e]=xi[W5e]=xi[G5e]=xi[q5e]=xi[Y5e]=xi[X5e]=xi[J5e]=!0;xi[j5e]=xi[I5e]=xi[H5e]=xi[T5e]=xi[z5e]=xi[k5e]=xi[P5e]=xi[D5e]=xi[O5e]=xi[F5e]=xi[L5e]=xi[M5e]=xi[R5e]=xi[U5e]=xi[Q5e]=!1;function Z5e(t){return N5e(t)&&B5e(t.length)&&!!xi[_5e(t)]}var eEe=Z5e;function tEe(t){return function(e){return t(e)}}var cJ=tEe,yC={exports:{}};yC.exports;(function(t,e){var n=mX,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(yC,yC.exports);var nEe=yC.exports,rEe=eEe,iEe=cJ,bU=nEe,xU=bU&&bU.isTypedArray,aEe=xU?iEe(xU):rEe,uJ=aEe,sEe=c5e,oEe=P3,lEe=qo,cEe=lJ,uEe=D3,AEe=uJ,dEe=Object.prototype,fEe=dEe.hasOwnProperty;function hEe(t,e){var n=lEe(t),r=!n&&oEe(t),i=!n&&!r&&cEe(t),a=!n&&!r&&!i&&AEe(t),s=n||r||i||a,o=s?sEe(t.length,String):[],l=o.length;for(var u in t)(e||fEe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||uEe(u,l)))&&o.push(u);return o}var pEe=hEe,mEe=Object.prototype;function gEe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||mEe;return t===n}var vEe=gEe;function yEe(t,e){return function(n){return t(e(n))}}var AJ=yEe,bEe=AJ,xEe=bEe(Object.keys,Object),wEe=xEe,CEe=vEe,SEe=wEe,EEe=Object.prototype,_Ee=EEe.hasOwnProperty;function BEe(t){if(!CEe(t))return SEe(t);var e=[];for(var n in Object(t))_Ee.call(t,n)&&n!="constructor"&&e.push(n);return e}var NEe=BEe,jEe=m3,IEe=O3;function TEe(t){return t!=null&&IEe(t.length)&&!jEe(t)}var fx=TEe,kEe=pEe,PEe=NEe,DEe=fx;function OEe(t){return DEe(t)?kEe(t):PEe(t)}var sE=OEe,FEe=XSe,LEe=o5e,MEe=sE;function REe(t){return FEe(t,MEe,LEe)}var UEe=REe,wU=UEe,QEe=1,HEe=Object.prototype,zEe=HEe.hasOwnProperty;function VEe(t,e,n,r,i,a){var s=n&QEe,o=wU(t),l=o.length,u=wU(e),A=u.length;if(l!=A&&!s)return!1;for(var d=l;d--;){var f=o[d];if(!(s?f in e:zEe.call(e,f)))return!1}var h=a.get(t),p=a.get(e);if(h&&p)return h==e&&p==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){f=o[d];var g=t[f],y=e[f];if(r)var x=s?r(y,g,f,e,t,a):r(g,y,f,t,e,a);if(!(x===void 0?g===y||i(g,y,n,r,a):x)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(m=!1)}return a.delete(t),a.delete(e),m}var $Ee=VEe,KEe=dp,WEe=Wu,GEe=KEe(WEe,"DataView"),qEe=GEe,YEe=dp,XEe=Wu,JEe=YEe(XEe,"Promise"),ZEe=JEe,e_e=dp,t_e=Wu,n_e=e_e(t_e,"Set"),dJ=n_e,r_e=dp,i_e=Wu,a_e=r_e(i_e,"WeakMap"),s_e=a_e,bI=qEe,xI=v3,wI=ZEe,CI=dJ,SI=s_e,fJ=XA,g0=vX,CU="[object Map]",o_e="[object Object]",SU="[object Promise]",EU="[object Set]",_U="[object WeakMap]",BU="[object DataView]",l_e=g0(bI),c_e=g0(xI),u_e=g0(wI),A_e=g0(CI),d_e=g0(SI),Yf=fJ;(bI&&Yf(new bI(new ArrayBuffer(1)))!=BU||xI&&Yf(new xI)!=CU||wI&&Yf(wI.resolve())!=SU||CI&&Yf(new CI)!=EU||SI&&Yf(new SI)!=_U)&&(Yf=function(t){var e=fJ(t),n=e==o_e?t.constructor:void 0,r=n?g0(n):"";if(r)switch(r){case l_e:return BU;case c_e:return CU;case u_e:return SU;case A_e:return EU;case d_e:return _U}return e});var f_e=Yf,_B=tJ,h_e=aJ,p_e=KSe,m_e=$Ee,NU=f_e,jU=qo,IU=lJ,g_e=uJ,v_e=1,TU="[object Arguments]",kU="[object Array]",w1="[object Object]",y_e=Object.prototype,PU=y_e.hasOwnProperty;function b_e(t,e,n,r,i,a){var s=jU(t),o=jU(e),l=s?kU:NU(t),u=o?kU:NU(e);l=l==TU?w1:l,u=u==TU?w1:u;var A=l==w1,d=u==w1,f=l==u;if(f&&IU(t)){if(!IU(e))return!1;s=!0,A=!1}if(f&&!A)return a||(a=new _B),s||g_e(t)?h_e(t,e,n,r,i,a):p_e(t,e,l,n,r,i,a);if(!(n&v_e)){var h=A&&PU.call(t,"__wrapped__"),p=d&&PU.call(e,"__wrapped__");if(h||p){var m=h?t.value():t,v=p?e.value():e;return a||(a=new _B),i(m,v,n,r,a)}}return f?(a||(a=new _B),m_e(t,e,n,r,i,a)):!1}var x_e=b_e,w_e=x_e,DU=JA;function hJ(t,e,n,r,i){return t===e?!0:t==null||e==null||!DU(t)&&!DU(e)?t!==t&&e!==e:w_e(t,e,n,r,hJ,i)}var F3=hJ,C_e=tJ,S_e=F3,E_e=1,__e=2;function B_e(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],u=t[l],A=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var d=new C_e;if(r)var f=r(u,A,l,t,e,d);if(!(f===void 0?S_e(A,u,E_e|__e,r,d):f))return!1}}return!0}var N_e=B_e,j_e=xf;function I_e(t){return t===t&&!j_e(t)}var pJ=I_e,T_e=pJ,k_e=sE;function P_e(t){for(var e=k_e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,T_e(i)]}return e}var D_e=P_e;function O_e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var mJ=O_e,F_e=N_e,L_e=D_e,M_e=mJ;function R_e(t){var e=L_e(t);return e.length==1&&e[0][2]?M_e(e[0][0],e[0][1]):function(n){return n===t||F_e(n,t,e)}}var U_e=R_e;function Q_e(t,e){return t!=null&&e in Object(t)}var H_e=Q_e,z_e=CX,V_e=P3,$_e=qo,K_e=D3,W_e=O3,G_e=$5;function q_e(t,e,n){e=z_e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=G_e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&W_e(i)&&K_e(s,i)&&($_e(t)||V_e(t)))}var Y_e=q_e,X_e=H_e,J_e=Y_e;function Z_e(t,e){return t!=null&&J_e(t,e,X_e)}var eBe=Z_e,tBe=F3,nBe=SX,rBe=eBe,iBe=p3,aBe=pJ,sBe=mJ,oBe=$5,lBe=1,cBe=2;function uBe(t,e){return iBe(t)&&aBe(e)?sBe(oBe(t),e):function(n){var r=nBe(n,t);return r===void 0&&r===e?rBe(n,t):tBe(e,r,lBe|cBe)}}var ABe=uBe;function dBe(t){return t}var v0=dBe;function fBe(t){return function(e){return e==null?void 0:e[t]}}var hBe=fBe,pBe=w3;function mBe(t){return function(e){return pBe(e,t)}}var gBe=mBe,vBe=hBe,yBe=gBe,bBe=p3,xBe=$5;function wBe(t){return bBe(t)?vBe(xBe(t)):yBe(t)}var CBe=wBe,SBe=U_e,EBe=ABe,_Be=v0,BBe=qo,NBe=CBe;function jBe(t){return typeof t=="function"?t:t==null?_Be:typeof t=="object"?BBe(t)?EBe(t[0],t[1]):SBe(t):NBe(t)}var Gu=jBe;function IBe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var gJ=IBe;function TBe(t){return t!==t}var kBe=TBe;function PBe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var DBe=PBe,OBe=gJ,FBe=kBe,LBe=DBe;function MBe(t,e,n){return e===e?LBe(t,e,n):OBe(t,FBe,n)}var RBe=MBe,UBe=RBe;function QBe(t,e){var n=t==null?0:t.length;return!!n&&UBe(t,e,0)>-1}var HBe=QBe;function zBe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var VBe=zBe;function $Be(){}var KBe=$Be,BB=dJ,WBe=KBe,GBe=k3,qBe=1/0,YBe=BB&&1/GBe(new BB([,-0]))[1]==qBe?function(t){return new BB(t)}:WBe,XBe=YBe,JBe=nJ,ZBe=HBe,e4e=VBe,t4e=iJ,n4e=XBe,r4e=k3,i4e=200;function a4e(t,e,n){var r=-1,i=ZBe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=e4e;else if(a>=i4e){var u=e?null:n4e(t);if(u)return r4e(u);s=!1,i=t4e,l=new JBe}else l=e?[]:o;e:for(;++r<a;){var A=t[r],d=e?e(A):A;if(A=n||A!==0?A:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(A)}else i(l,d,n)||(l!==o&&l.push(d),o.push(A))}return o}var s4e=a4e,o4e=Gu,l4e=s4e;function c4e(t,e){return t&&t.length?l4e(t,o4e(e)):[]}var u4e=c4e;const OU=Rr(u4e);function vJ(t,e,n){return e===!0?OU(t,n):Nn(e)?OU(t,e):t}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}var A4e=["ref"];function FU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(n),!0).forEach(function(r){oE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bJ(r.key),r)}}function f4e(t,e,n){return e&&LU(t.prototype,e),n&&LU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h4e(t,e,n){return e=bC(e),p4e(t,yJ()?Reflect.construct(e,n||[],bC(t).constructor):e.apply(t,n))}function p4e(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m4e(t)}function m4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yJ=function(){return!!t})()}function bC(t){return bC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bC(t)}function g4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EI(t,e)}function EI(t,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EI(t,e)}function oE(t,e,n){return e=bJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=v4e(t,"string");return wg(e)=="symbol"?e:e+""}function v4e(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function y4e(t,e){if(t==null)return{};var n=b4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x4e(t){return t.value}function w4e(t,e){if(be.isValidElement(t))return be.cloneElement(t,e);if(typeof t=="function")return be.createElement(t,e);e.ref;var n=y4e(e,A4e);return be.createElement(T3,n)}var MU=1,qc=function(t){function e(){var n;d4e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=h4e(this,e,[].concat(i)),oE(n,"lastBoundingBox",{width:-1,height:-1}),n}return g4e(e,t),f4e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>MU||Math.abs(i.height-this.lastBoundingBox.height)>MU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?sA({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,A=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((u||0)-h.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var p=this.getBBoxSnapshot();f={top:((A||0)-p.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return sA(sA({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,A=i.payload,d=sA(sA({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return be.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){r.wrapperNode=h}},w4e(a,sA(sA({},this.props),{},{payload:vJ(A,u,x4e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=sA(sA({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&Tt(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(P.PureComponent);oE(qc,"displayName","Legend");oE(qc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RU=dx,C4e=P3,S4e=qo,UU=RU?RU.isConcatSpreadable:void 0;function E4e(t){return S4e(t)||C4e(t)||!!(UU&&t&&t[UU])}var _4e=E4e,B4e=sJ,N4e=_4e;function xJ(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=N4e),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?xJ(o,e-1,n,r,i):B4e(i,o):r||(i[i.length]=o)}return i}var wJ=xJ;function j4e(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var I4e=j4e,T4e=I4e,k4e=T4e(),P4e=k4e,D4e=P4e,O4e=sE;function F4e(t,e){return t&&D4e(t,e,O4e)}var CJ=F4e,L4e=fx;function M4e(t,e){return function(n,r){if(n==null)return n;if(!L4e(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var R4e=M4e,U4e=CJ,Q4e=R4e,H4e=Q4e(U4e),L3=H4e,z4e=L3,V4e=fx;function $4e(t,e){var n=-1,r=V4e(t)?Array(t.length):[];return z4e(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var SJ=$4e;function K4e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var W4e=K4e,QU=u0;function G4e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=QU(t),s=e!==void 0,o=e===null,l=e===e,u=QU(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var q4e=G4e,Y4e=q4e;function X4e(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Y4e(i[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var J4e=X4e,NB=x3,Z4e=w3,eNe=Gu,tNe=SJ,nNe=W4e,rNe=cJ,iNe=J4e,aNe=v0,sNe=qo;function oNe(t,e,n){e.length?e=NB(e,function(a){return sNe(a)?function(s){return Z4e(s,a.length===1?a[0]:a)}:a}):e=[aNe];var r=-1;e=NB(e,rNe(eNe));var i=tNe(t,function(a,s,o){var l=NB(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return nNe(i,function(a,s){return iNe(a,s,n)})}var lNe=oNe;function cNe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var uNe=cNe,ANe=uNe,HU=Math.max;function dNe(t,e,n){return e=HU(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=HU(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),ANe(t,this,o)}}var fNe=dNe;function hNe(t){return function(){return t}}var pNe=hNe,mNe=dp,gNe=function(){try{var t=mNe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),EJ=gNe,vNe=pNe,zU=EJ,yNe=v0,bNe=zU?function(t,e){return zU(t,"toString",{configurable:!0,enumerable:!1,value:vNe(e),writable:!0})}:yNe,xNe=bNe,wNe=800,CNe=16,SNe=Date.now;function ENe(t){var e=0,n=0;return function(){var r=SNe(),i=CNe-(r-n);if(n=r,i>0){if(++e>=wNe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _Ne=ENe,BNe=xNe,NNe=_Ne,jNe=NNe(BNe),INe=jNe,TNe=v0,kNe=fNe,PNe=INe;function DNe(t,e){return PNe(kNe(t,e,TNe),t+"")}var ONe=DNe,FNe=g3,LNe=fx,MNe=D3,RNe=xf;function UNe(t,e,n){if(!RNe(n))return!1;var r=typeof e;return(r=="number"?LNe(n)&&MNe(e,n.length):r=="string"&&e in n)?FNe(n[e],t):!1}var lE=UNe,QNe=wJ,HNe=lNe,zNe=ONe,VU=lE,VNe=zNe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&VU(t,e[0],e[1])?e=[]:n>2&&VU(e[0],e[1],e[2])&&(e=[e[0]]),HNe(t,QNe(e,1),[])}),$Ne=VNe;const M3=Rr($Ne);function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function _I(){return _I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_I.apply(this,arguments)}function KNe(t,e){return YNe(t)||qNe(t,e)||GNe(t,e)||WNe()}function WNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GNe(t,e){if(t){if(typeof t=="string")return $U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $U(t,e)}}function $U(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function YNe(t){if(Array.isArray(t))return t}function KU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(n),!0).forEach(function(r){XNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XNe(t,e,n){return e=JNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JNe(t){var e=ZNe(t,"string");return Zy(e)=="symbol"?e:e+""}function ZNe(t,e){if(Zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eje(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var tje=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,A=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,v=e.labelFormatter,g=e.accessibilityLayer,y=g===void 0?!1:g,x=function(){if(A&&A.length){var O={padding:0,margin:0},L=(f?M3(A,f):A).map(function(H,q){if(H.type==="none")return null;var Y=jB({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),ee=H.formatter||d||eje,K=H.value,te=H.name,le=K,se=te;if(ee&&le!=null&&se!=null){var M=ee(K,te,H,q,A);if(Array.isArray(M)){var $=KNe(M,2);le=$[0],se=$[1]}else le=M}return be.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:Y},Xa(se)?be.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Xa(se)?be.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,be.createElement("span",{className:"recharts-tooltip-item-value"},le),be.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return be.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},S=jB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=jB({margin:0},u),N=!On(m),_=N?m:"",B=Hn("recharts-default-tooltip",h),j=Hn("recharts-tooltip-label",p);N&&v&&A!==void 0&&A!==null&&(_=v(m,A));var D=y?{role:"status","aria-live":"assertive"}:{};return be.createElement("div",_I({className:B,style:S},D),be.createElement("p",{className:j,style:E},be.isValidElement(_)?_:"".concat(_)),x())};function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}function C1(t,e,n){return e=nje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nje(t){var e=rje(t,"string");return eb(e)=="symbol"?e:e+""}function rje(t,e){if(eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K0="recharts-tooltip-wrapper",ije={visibility:"hidden"};function aje(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Hn(K0,C1(C1(C1(C1({},"".concat(K0,"-right"),Tt(n)&&e&&Tt(e.x)&&n>=e.x),"".concat(K0,"-left"),Tt(n)&&e&&Tt(e.x)&&n<e.x),"".concat(K0,"-bottom"),Tt(r)&&e&&Tt(e.y)&&r>=e.y),"".concat(K0,"-top"),Tt(r)&&e&&Tt(e.y)&&r<e.y))}function WU(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Tt(a[r]))return a[r];var A=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?A:d;if(s[r]){var f=A,h=l[r];return f<h?Math.max(d,l[r]):Math.max(A,l[r])}var p=d+o,m=l[r]+u;return p>m?Math.max(A,l[r]):Math.max(d,l[r])}function sje(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oje(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,A,d;return s.height>0&&s.width>0&&n?(A=WU({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=WU({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=sje({translateX:A,translateY:d,useTranslate3d:o})):u=ije,{cssProperties:u,cssClasses:aje({translateX:A,translateY:d,coordinate:n})}}function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function GU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GU(Object(n),!0).forEach(function(r){NI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BJ(r.key),r)}}function uje(t,e,n){return e&&cje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aje(t,e,n){return e=xC(e),dje(t,_J()?Reflect.construct(e,n||[],xC(t).constructor):e.apply(t,n))}function dje(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fje(t)}function fje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_J=function(){return!!t})()}function xC(t){return xC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xC(t)}function hje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BI(t,e)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BI(t,e)}function NI(t,e,n){return e=BJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BJ(t){var e=pje(t,"string");return Cg(e)=="symbol"?e:e+""}function pje(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YU=1,mje=function(t){function e(){var n;lje(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Aje(this,e,[].concat(i)),NI(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NI(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,A;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(A=n.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&u!==void 0?u:0}})}}),n}return hje(e,t),uje(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>YU||Math.abs(r.height-this.state.lastBoundingBox.height)>YU)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,A=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,p=i.position,m=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,y=i.wrapperStyle,x=oje({allowEscapeViewBox:s,coordinate:A,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),S=x.cssClasses,E=x.cssProperties,N=qU(qU({transition:f&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return be.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(B){r.wrapperNode=B}},u)}}])}(P.PureComponent),gje=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wf={isSsr:gje()};function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function XU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(n),!0).forEach(function(r){R3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jJ(r.key),r)}}function bje(t,e,n){return e&&yje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xje(t,e,n){return e=wC(e),wje(t,NJ()?Reflect.construct(e,n||[],wC(t).constructor):e.apply(t,n))}function wje(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cje(t)}function Cje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NJ=function(){return!!t})()}function wC(t){return wC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wC(t)}function Sje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jI(t,e)}function jI(t,e){return jI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jI(t,e)}function R3(t,e,n){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jJ(t){var e=Eje(t,"string");return Sg(e)=="symbol"?e:e+""}function Eje(t,e){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _je(t){return t.dataKey}function Bje(t,e){return be.isValidElement(t)?be.cloneElement(t,e):typeof t=="function"?be.createElement(t,e):be.createElement(tje,e)}var Dr=function(t){function e(){return vje(this,e),xje(this,e,arguments)}return Sje(e,t),bje(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,A=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,p=i.payload,m=i.payloadUniqBy,v=i.position,g=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,E=p??[];d&&E.length&&(E=vJ(p.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),m,_je));var N=E.length>0;return be.createElement(mje,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:f,active:a,coordinate:A,hasPayload:N,offset:h,position:v,reverseDirection:g,useTranslate3d:y,viewBox:x,wrapperStyle:S},Bje(u,JU(JU({},this.props),{},{payload:E})))}}])}(P.PureComponent);R3(Dr,"displayName","Tooltip");R3(Dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Nje=Wu,jje=function(){return Nje.Date.now()},Ije=jje,Tje=/\s/;function kje(t){for(var e=t.length;e--&&Tje.test(t.charAt(e)););return e}var Pje=kje,Dje=Pje,Oje=/^\s+/;function Fje(t){return t&&t.slice(0,Dje(t)+1).replace(Oje,"")}var Lje=Fje,Mje=Lje,ZU=xf,Rje=u0,e8=NaN,Uje=/^[-+]0x[0-9a-f]+$/i,Qje=/^0b[01]+$/i,Hje=/^0o[0-7]+$/i,zje=parseInt;function Vje(t){if(typeof t=="number")return t;if(Rje(t))return e8;if(ZU(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ZU(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Mje(t);var n=Qje.test(t);return n||Hje.test(t)?zje(t.slice(2),n?2:8):Uje.test(t)?e8:+t}var IJ=Vje,$je=xf,IB=Ije,t8=IJ,Kje="Expected a function",Wje=Math.max,Gje=Math.min;function qje(t,e,n){var r,i,a,s,o,l,u=0,A=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Kje);e=t8(e)||0,$je(n)&&(A=!!n.leading,d="maxWait"in n,a=d?Wje(t8(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f);function h(N){var _=r,B=i;return r=i=void 0,u=N,s=t.apply(B,_),s}function p(N){return u=N,o=setTimeout(g,e),A?h(N):s}function m(N){var _=N-l,B=N-u,j=e-_;return d?Gje(j,a-B):j}function v(N){var _=N-l,B=N-u;return l===void 0||_>=e||_<0||d&&B>=a}function g(){var N=IB();if(v(N))return y(N);o=setTimeout(g,m(N))}function y(N){return o=void 0,f&&r?h(N):(r=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function S(){return o===void 0?s:y(IB())}function E(){var N=IB(),_=v(N);if(r=arguments,i=this,l=N,_){if(o===void 0)return p(l);if(d)return clearTimeout(o),o=setTimeout(g,e),h(l)}return o===void 0&&(o=setTimeout(g,e)),s}return E.cancel=x,E.flush=S,E}var Yje=qje,Xje=Yje,Jje=xf,Zje="Expected a function";function eIe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Zje);return Jje(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Xje(t,e,{leading:r,maxWait:e,trailing:i})}var tIe=eIe;const TJ=Rr(tIe);function tb(t){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}function n8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(n),!0).forEach(function(r){nIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nIe(t,e,n){return e=rIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rIe(t){var e=iIe(t,"string");return tb(e)=="symbol"?e:e+""}function iIe(t,e){if(tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aIe(t,e){return cIe(t)||lIe(t,e)||oIe(t,e)||sIe()}function sIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oIe(t,e){if(t){if(typeof t=="string")return r8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r8(t,e)}}function r8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function cIe(t){if(Array.isArray(t))return t}var ea=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,A=u===void 0?0:u,d=t.minHeight,f=t.maxHeight,h=t.children,p=t.debounce,m=p===void 0?0:p,v=t.id,g=t.className,y=t.onResize,x=t.style,S=x===void 0?{}:x,E=P.useRef(null),N=P.useRef();N.current=y,P.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=P.useState({containerWidth:i.width,containerHeight:i.height}),B=aIe(_,2),j=B[0],D=B[1],k=P.useCallback(function(L,H){D(function(q){var Y=Math.round(L),ee=Math.round(H);return q.containerWidth===Y&&q.containerHeight===ee?q:{containerWidth:Y,containerHeight:ee}})},[]);P.useEffect(function(){var L=function(te){var le,se=te[0].contentRect,M=se.width,$=se.height;k(M,$),(le=N.current)===null||le===void 0||le.call(N,M,$)};m>0&&(L=TJ(L,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(L),q=E.current.getBoundingClientRect(),Y=q.width,ee=q.height;return k(Y,ee),H.observe(E.current),function(){H.disconnect()}},[k,m]);var O=P.useMemo(function(){var L=j.containerWidth,H=j.containerHeight;if(L<0||H<0)return null;Gc(dh(s)||dh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Gc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=dh(s)?L:s,Y=dh(l)?H:l;n&&n>0&&(q?Y=q/n:Y&&(q=Y*n),f&&Y>f&&(Y=f)),Gc(q>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,Y,s,l,A,d,n);var ee=!Array.isArray(h)&&jA(h.type).endsWith("Chart");return be.Children.map(h,function(K){return be.isValidElement(K)?P.cloneElement(K,S1({width:q,height:Y},ee?{style:S1({height:"100%",width:"100%",maxHeight:Y,maxWidth:q},K.props.style)}:{})):K})},[n,h,l,f,d,A,j,s]);return be.createElement("div",{id:v?"".concat(v):void 0,className:Hn("recharts-responsive-container",g),style:S1(S1({},S),{},{width:s,height:l,minWidth:A,minHeight:d,maxHeight:f}),ref:E},O)}),mc=function(e){return null};mc.displayName="Cell";function nb(t){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}function i8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(n),!0).forEach(function(r){uIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uIe(t,e,n){return e=AIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AIe(t){var e=dIe(t,"string");return nb(e)=="symbol"?e:e+""}function dIe(t,e){if(nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jp={widthCache:{},cacheCount:0},fIe=2e3,hIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},a8="recharts_measurement_span";function pIe(t){var e=II({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Yv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wf.isSsr)return{width:0,height:0};var r=pIe(n),i=JSON.stringify({text:e,copyStyle:r});if(jp.widthCache[i])return jp.widthCache[i];try{var a=document.getElementById(a8);a||(a=document.createElement("span"),a.setAttribute("id",a8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=II(II({},hIe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return jp.widthCache[i]=l,++jp.cacheCount>fIe&&(jp.cacheCount=0,jp.widthCache={}),l}catch{return{width:0,height:0}}},mIe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rb(t){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}function CC(t,e){return bIe(t)||yIe(t,e)||vIe(t,e)||gIe()}function gIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vIe(t,e){if(t){if(typeof t=="string")return s8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s8(t,e)}}function s8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function bIe(t){if(Array.isArray(t))return t}function xIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CIe(r.key),r)}}function wIe(t,e,n){return e&&o8(t.prototype,e),n&&o8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CIe(t){var e=SIe(t,"string");return rb(e)=="symbol"?e:e+""}function SIe(t,e){if(rb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Ie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BIe=Object.keys(kJ),ym="NaN";function NIe(t,e){return t*kJ[e]}var E1=function(){function t(e,n){xIe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!EIe.test(n)&&(this.num=NaN,this.unit=""),BIe.includes(n)&&(this.num=NIe(e,n),this.unit="px")}return wIe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_Ie.exec(n))!==null&&r!==void 0?r:[],a=CC(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function PJ(t){if(t.includes(ym))return ym;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=l8.exec(e))!==null&&n!==void 0?n:[],i=CC(r,4),a=i[1],s=i[2],o=i[3],l=E1.parse(a??""),u=E1.parse(o??""),A=s==="*"?l.multiply(u):l.divide(u);if(A.isNaN())return ym;e=e.replace(l8,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=c8.exec(e))!==null&&d!==void 0?d:[],h=CC(f,4),p=h[1],m=h[2],v=h[3],g=E1.parse(p??""),y=E1.parse(v??""),x=m==="+"?g.add(y):g.subtract(y);if(x.isNaN())return ym;e=e.replace(c8,x.toString())}return e}var u8=/\(([^()]*)\)/;function jIe(t){for(var e=t;e.includes("(");){var n=u8.exec(e),r=CC(n,2),i=r[1];e=e.replace(u8,PJ(i))}return e}function IIe(t){var e=t.replace(/\s+/g,"");return e=jIe(e),e=PJ(e),e}function TIe(t){try{return IIe(t)}catch{return ym}}function TB(t){var e=TIe(t.slice(5,-1));return e===ym?"":e}var kIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PIe=["dx","dy","angle","className","breakAll"];function TI(){return TI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TI.apply(this,arguments)}function A8(t,e){if(t==null)return{};var n=DIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function d8(t,e){return MIe(t)||LIe(t,e)||FIe(t,e)||OIe()}function OIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FIe(t,e){if(t){if(typeof t=="string")return f8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f8(t,e)}}function f8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function MIe(t){if(Array.isArray(t))return t}var DJ=/[ \f\n\r\t\v\u2028\u2029]+/,OJ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];On(n)||(r?a=n.toString().split(""):a=n.toString().split(DJ));var s=a.map(function(l){return{word:l,width:Yv(l,i).width}}),o=r?0:Yv("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},RIe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,A=Tt(s),d=o,f=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(Y,ee){var K=ee.word,te=ee.width,le=Y[Y.length-1];if(le&&(i==null||a||le.width+te+r<Number(i)))le.words.push(K),le.width+=te+r;else{var se={words:[K],width:te};Y.push(se)}return Y},[])},h=f(n),p=function(q){return q.reduce(function(Y,ee){return Y.width>ee.width?Y:ee})};if(!A)return h;for(var m="",v=function(q){var Y=d.slice(0,q),ee=OJ({breakAll:u,style:l,children:Y+m}).wordsWithComputedWidth,K=f(ee),te=K.length>s||p(K).width>Number(i);return[te,K]},g=0,y=d.length-1,x=0,S;g<=y&&x<=d.length-1;){var E=Math.floor((g+y)/2),N=E-1,_=v(N),B=d8(_,2),j=B[0],D=B[1],k=v(E),O=d8(k,1),L=O[0];if(!j&&!L&&(g=E+1),j&&L&&(y=E-1),!j&&L){S=D;break}x++}return S||h},h8=function(e){var n=On(e)?[]:e.toString().split(DJ);return[{words:n}]},UIe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!wf.isSsr){var l,u,A=OJ({breakAll:s,children:i,style:a});if(A){var d=A.wordsWithComputedWidth,f=A.spaceWidth;l=d,u=f}else return h8(i);return RIe({breakAll:s,children:i,maxLines:o,style:a},l,u,n,r)}return h8(i)},p8="#808080",$h=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,A=e.scaleToFit,d=A===void 0?!1:A,f=e.textAnchor,h=f===void 0?"start":f,p=e.verticalAnchor,m=p===void 0?"end":p,v=e.fill,g=v===void 0?p8:v,y=A8(e,kIe),x=P.useMemo(function(){return UIe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),S=y.dx,E=y.dy,N=y.angle,_=y.className,B=y.breakAll,j=A8(y,PIe);if(!Xa(r)||!Xa(a))return null;var D=r+(Tt(S)?S:0),k=a+(Tt(E)?E:0),O;switch(m){case"start":O=TB("calc(".concat(u,")"));break;case"middle":O=TB("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=TB("calc(".concat(x.length-1," * -").concat(o,")"));break}var L=[];if(d){var H=x[0].width,q=y.width;L.push("scale(".concat((Tt(q)?q/H:1)/H,")"))}return N&&L.push("rotate(".concat(N,", ").concat(D,", ").concat(k,")")),L.length&&(j.transform=L.join(" ")),be.createElement("text",TI({},yn(j,!0),{x:D,y:k,className:Hn("recharts-text",_),textAnchor:h,fill:g.includes("url")?p8:g}),x.map(function(Y,ee){var K=Y.words.join(B?"":" ");return be.createElement("tspan",{x:D,dy:ee===0?O:o,key:"".concat(K,"-").concat(ee)},K)}))};function Jd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U3(t){let e,n,r;t.length!==2?(e=Jd,n=(o,l)=>Jd(t(o),l),r=(o,l)=>t(o)-l):(e=t===Jd||t===QIe?t:HIe,n=t,r=t);function i(o,l,u=0,A=o.length){if(u<A){if(e(l,l)!==0)return A;do{const d=u+A>>>1;n(o[d],l)<0?u=d+1:A=d}while(u<A)}return u}function a(o,l,u=0,A=o.length){if(u<A){if(e(l,l)!==0)return A;do{const d=u+A>>>1;n(o[d],l)<=0?u=d+1:A=d}while(u<A)}return u}function s(o,l,u=0,A=o.length){const d=i(o,l,u,A-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function HIe(){return 0}function FJ(t){return t===null?NaN:+t}function*zIe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const VIe=U3(Jd),hx=VIe.right;U3(FJ).center;class m8 extends Map{constructor(e,n=WIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(g8(this,e))}has(e){return super.has(g8(this,e))}set(e,n){return super.set($Ie(this,e),n)}delete(e){return super.delete(KIe(this,e))}}function g8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function $Ie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function KIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function WIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GIe(t=Jd){if(t===Jd)return LJ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function LJ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qIe=Math.sqrt(50),YIe=Math.sqrt(10),XIe=Math.sqrt(2);function SC(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=qIe?10:a>=YIe?5:a>=XIe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?SC(t,e,n*2):[o,l,u]}function kI(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?SC(e,t,n):SC(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function PI(t,e,n){return e=+e,t=+t,n=+n,SC(t,e,n)[2]}function DI(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?PI(e,t,n):PI(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function v8(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function y8(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function MJ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?LJ:GIe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,A=Math.log(l),d=.5*Math.exp(2*A/3),f=.5*Math.sqrt(A*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*d/l+f)),p=Math.min(r,Math.floor(e+(l-u)*d/l+f));MJ(t,e,h,p,i)}const a=t[e];let s=n,o=r;for(W0(t,n,e),i(t[r],a)>0&&W0(t,n,r);s<o;){for(W0(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?W0(t,n,o):(++o,W0(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function W0(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function JIe(t,e,n){if(t=Float64Array.from(zIe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return y8(t);if(e>=1)return v8(t);var r,i=(r-1)*e,a=Math.floor(i),s=v8(MJ(t,a).subarray(0,a+1)),o=y8(t.subarray(a+1));return s+(o-s)*(i-a)}}function ZIe(t,e,n=FJ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function eTe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function wc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ZA(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const OI=Symbol("implicit");function Q3(){var t=new m8,e=[],n=[],r=OI;function i(a){let s=t.get(a);if(s===void 0){if(r!==OI)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new m8;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Q3(e,n).unknown(r)},wc.apply(i,arguments),i}function ib(){var t=Q3().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,A=.5;delete t.unknown;function d(){var f=e().length,h=i<r,p=h?i:r,m=h?r:i;a=(m-p)/Math.max(1,f-l+u*2),o&&(a=Math.floor(a)),p+=(m-p-a*(f-l))*A,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var v=eTe(f).map(function(g){return p+a*g});return n(h?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(A=Math.max(0,Math.min(1,f)),d()):A},t.copy=function(){return ib(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(A)},wc.apply(d(),arguments)}function RJ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return RJ(e())},t}function Xv(){return RJ(ib.apply(null,arguments).paddingInner(1))}function H3(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function UJ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function px(){}var ab=.7,EC=1/ab,Mm="\\s*([+-]?\\d+)\\s*",sb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tTe=/^#([0-9a-f]{3,8})$/,nTe=new RegExp(`^rgb\\(${Mm},${Mm},${Mm}\\)$`),rTe=new RegExp(`^rgb\\(${Lu},${Lu},${Lu}\\)$`),iTe=new RegExp(`^rgba\\(${Mm},${Mm},${Mm},${sb}\\)$`),aTe=new RegExp(`^rgba\\(${Lu},${Lu},${Lu},${sb}\\)$`),sTe=new RegExp(`^hsl\\(${sb},${Lu},${Lu}\\)$`),oTe=new RegExp(`^hsla\\(${sb},${Lu},${Lu},${sb}\\)$`),b8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H3(px,ob,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:x8,formatHex:x8,formatHex8:lTe,formatHsl:cTe,formatRgb:w8,toString:w8});function x8(){return this.rgb().formatHex()}function lTe(){return this.rgb().formatHex8()}function cTe(){return QJ(this).formatHsl()}function w8(){return this.rgb().formatRgb()}function ob(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tTe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?C8(e):n===3?new Ro(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nTe.exec(t))?new Ro(e[1],e[2],e[3],1):(e=rTe.exec(t))?new Ro(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iTe.exec(t))?_1(e[1],e[2],e[3],e[4]):(e=aTe.exec(t))?_1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sTe.exec(t))?_8(e[1],e[2]/100,e[3]/100,1):(e=oTe.exec(t))?_8(e[1],e[2]/100,e[3]/100,e[4]):b8.hasOwnProperty(t)?C8(b8[t]):t==="transparent"?new Ro(NaN,NaN,NaN,0):null}function C8(t){return new Ro(t>>16&255,t>>8&255,t&255,1)}function _1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ro(t,e,n,r)}function uTe(t){return t instanceof px||(t=ob(t)),t?(t=t.rgb(),new Ro(t.r,t.g,t.b,t.opacity)):new Ro}function FI(t,e,n,r){return arguments.length===1?uTe(t):new Ro(t,e,n,r??1)}function Ro(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}H3(Ro,FI,UJ(px,{brighter(t){return t=t==null?EC:Math.pow(EC,t),new Ro(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ab:Math.pow(ab,t),new Ro(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ro(Bh(this.r),Bh(this.g),Bh(this.b),_C(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S8,formatHex:S8,formatHex8:ATe,formatRgb:E8,toString:E8}));function S8(){return`#${fh(this.r)}${fh(this.g)}${fh(this.b)}`}function ATe(){return`#${fh(this.r)}${fh(this.g)}${fh(this.b)}${fh((isNaN(this.opacity)?1:this.opacity)*255)}`}function E8(){const t=_C(this.opacity);return`${t===1?"rgb(":"rgba("}${Bh(this.r)}, ${Bh(this.g)}, ${Bh(this.b)}${t===1?")":`, ${t})`}`}function _C(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fh(t){return t=Bh(t),(t<16?"0":"")+t.toString(16)}function _8(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $c(t,e,n,r)}function QJ(t){if(t instanceof $c)return new $c(t.h,t.s,t.l,t.opacity);if(t instanceof px||(t=ob(t)),!t)return new $c;if(t instanceof $c)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new $c(s,o,l,t.opacity)}function dTe(t,e,n,r){return arguments.length===1?QJ(t):new $c(t,e,n,r??1)}function $c(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}H3($c,dTe,UJ(px,{brighter(t){return t=t==null?EC:Math.pow(EC,t),new $c(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ab:Math.pow(ab,t),new $c(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ro(kB(t>=240?t-240:t+120,i,r),kB(t,i,r),kB(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $c(B8(this.h),B1(this.s),B1(this.l),_C(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_C(this.opacity);return`${t===1?"hsl(":"hsla("}${B8(this.h)}, ${B1(this.s)*100}%, ${B1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function B8(t){return t=(t||0)%360,t<0?t+360:t}function B1(t){return Math.max(0,Math.min(1,t||0))}function kB(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const z3=t=>()=>t;function fTe(t,e){return function(n){return t+n*e}}function hTe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pTe(t){return(t=+t)==1?HJ:function(e,n){return n-e?hTe(e,n,t):z3(isNaN(e)?n:e)}}function HJ(t,e){var n=e-t;return n?fTe(t,n):z3(isNaN(t)?e:t)}const N8=function t(e){var n=pTe(e);function r(i,a){var s=n((i=FI(i)).r,(a=FI(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=HJ(i.opacity,a.opacity);return function(A){return i.r=s(A),i.g=o(A),i.b=l(A),i.opacity=u(A),i+""}}return r.gamma=t,r}(1);function mTe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function gTe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vTe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=y0(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function yTe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function BC(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bTe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=y0(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var LI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,PB=new RegExp(LI.source,"g");function xTe(t){return function(){return t}}function wTe(t){return function(e){return t(e)+""}}function CTe(t,e){var n=LI.lastIndex=PB.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=LI.exec(t))&&(i=PB.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:BC(r,i)})),n=PB.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?wTe(l[0].x):xTe(e):(e=l.length,function(u){for(var A=0,d;A<e;++A)o[(d=l[A]).i]=d.x(u);return o.join("")})}function y0(t,e){var n=typeof e,r;return e==null||n==="boolean"?z3(e):(n==="number"?BC:n==="string"?(r=ob(e))?(e=r,N8):CTe:e instanceof ob?N8:e instanceof Date?yTe:gTe(e)?mTe:Array.isArray(e)?vTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bTe:BC)(t,e)}function V3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function STe(t,e){e===void 0&&(e=t,t=y0);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function ETe(t){return function(){return t}}function NC(t){return+t}var j8=[0,1];function wo(t){return t}function MI(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ETe(isNaN(e)?NaN:.5)}function _Te(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function BTe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=MI(i,r),a=n(s,a)):(r=MI(r,i),a=n(a,s)),function(o){return a(r(o))}}function NTe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=MI(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=hx(t,o,1,r)-1;return a[l](i[l](o))}}function mx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cE(){var t=j8,e=j8,n=y0,r,i,a,s=wo,o,l,u;function A(){var f=Math.min(t.length,e.length);return s!==wo&&(s=_Te(t[0],t[f-1])),o=f>2?NTe:BTe,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=o(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=o(e,t.map(r),BC)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,NC),A()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),A()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=V3,A()},d.clamp=function(f){return arguments.length?(s=f?!0:wo,A()):s!==wo},d.interpolate=function(f){return arguments.length?(n=f,A()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return r=f,i=h,A()}}function $3(){return cE()(wo,wo)}function jTe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Eg(t){return t=jC(Math.abs(t)),t?t[1]:NaN}function ITe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function TTe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lb(t){if(!(e=kTe.exec(t)))throw new Error("invalid format: "+t);var e;return new K3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lb.prototype=K3.prototype;function K3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}K3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PTe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zJ;function DTe(t,e){var n=jC(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(zJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+jC(t,Math.max(0,e+a-1))[0]}function I8(t,e){var n=jC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const T8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jTe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>I8(t*100,e),r:I8,s:DTe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function k8(t){return t}var P8=Array.prototype.map,D8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OTe(t){var e=t.grouping===void 0||t.thousands===void 0?k8:ITe(P8.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?k8:TTe(P8.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=lb(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,v=d.zero,g=d.width,y=d.comma,x=d.precision,S=d.trim,E=d.type;E==="n"?(y=!0,E="g"):T8[E]||(x===void 0&&(x=12),S=!0,E="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var N=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=m==="$"?r:/[%p]/.test(E)?s:"",B=T8[E],j=/[defgprs%]/.test(E);x=x===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function D(k){var O=N,L=_,H,q,Y;if(E==="c")L=B(k)+L,k="";else{k=+k;var ee=k<0||1/k<0;if(k=isNaN(k)?l:B(Math.abs(k),x),S&&(k=PTe(k)),ee&&+k==0&&p!=="+"&&(ee=!1),O=(ee?p==="("?p:o:p==="-"||p==="("?"":p)+O,L=(E==="s"?D8[8+zJ/3]:"")+L+(ee&&p==="("?")":""),j){for(H=-1,q=k.length;++H<q;)if(Y=k.charCodeAt(H),48>Y||Y>57){L=(Y===46?i+k.slice(H+1):k.slice(H))+L,k=k.slice(0,H);break}}}y&&!v&&(k=e(k,1/0));var K=O.length+k.length+L.length,te=K<g?new Array(g-K+1).join(f):"";switch(y&&v&&(k=e(te+k,te.length?g-L.length:1/0),te=""),h){case"<":k=O+k+L+te;break;case"=":k=O+te+k+L;break;case"^":k=te.slice(0,K=te.length>>1)+O+k+L+te.slice(K);break;default:k=te+O+k+L;break}return a(k)}return D.toString=function(){return d+""},D}function A(d,f){var h=u((d=lb(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Eg(f)/3)))*3,m=Math.pow(10,-p),v=D8[8+p/3];return function(g){return h(m*g)+v}}return{format:u,formatPrefix:A}}var N1,W3,VJ;FTe({thousands:",",grouping:[3],currency:["$",""]});function FTe(t){return N1=OTe(t),W3=N1.format,VJ=N1.formatPrefix,N1}function LTe(t){return Math.max(0,-Eg(Math.abs(t)))}function MTe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Eg(e)/3)))*3-Eg(Math.abs(t)))}function RTe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Eg(e)-Eg(t))+1}function $J(t,e,n,r){var i=DI(t,e,n),a;switch(r=lb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=MTe(i,s))&&(r.precision=a),VJ(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=RTe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=LTe(i))&&(r.precision=a-(r.type==="%")*2);break}}return W3(r)}function Cf(t){var e=t.domain;return t.ticks=function(n){var r=e();return kI(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return $J(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,A=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);A-- >0;){if(u=PI(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function IC(){var t=$3();return t.copy=function(){return mx(t,IC())},wc.apply(t,arguments),Cf(t)}function KJ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,NC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return KJ(t).unknown(e)},t=arguments.length?Array.from(t,NC):[0,1],Cf(n)}function WJ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function O8(t){return Math.log(t)}function F8(t){return Math.exp(t)}function UTe(t){return-Math.log(-t)}function QTe(t){return-Math.exp(-t)}function HTe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zTe(t){return t===10?HTe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VTe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function L8(t){return(e,n)=>-t(-e,n)}function G3(t){const e=t(O8,F8),n=e.domain;let r=10,i,a;function s(){return i=VTe(r),a=zTe(r),n()[0]<0?(i=L8(i),a=L8(a),t(UTe,QTe)):t(O8,F8),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],A=l[l.length-1];const d=A<u;d&&([u,A]=[A,u]);let f=i(u),h=i(A),p,m;const v=o==null?10:+o;let g=[];if(!(r%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/a(-f):p*a(f),!(m<u)){if(m>A)break;g.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/a(-f):p*a(f),!(m<u)){if(m>A)break;g.push(m)}g.length*2<v&&(g=kI(u,A,v))}else g=kI(f,h,Math.min(h-f,v)).map(a);return d?g.reverse():g},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lb(l)).precision==null&&(l.trim=!0),l=W3(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return A=>{let d=A/a(Math.round(i(A)));return d*r<r-.5&&(d*=r),d<=u?l(A):""}},e.nice=()=>n(WJ(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function GJ(){const t=G3(cE()).domain([1,10]);return t.copy=()=>mx(t,GJ()).base(t.base()),wc.apply(t,arguments),t}function M8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function R8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function q3(t){var e=1,n=t(M8(e),R8(e));return n.constant=function(r){return arguments.length?t(M8(e=+r),R8(e)):e},Cf(n)}function qJ(){var t=q3(cE());return t.copy=function(){return mx(t,qJ()).constant(t.constant())},wc.apply(t,arguments)}function U8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $Te(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KTe(t){return t<0?-t*t:t*t}function Y3(t){var e=t(wo,wo),n=1;function r(){return n===1?t(wo,wo):n===.5?t($Te,KTe):t(U8(n),U8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Cf(e)}function X3(){var t=Y3(cE());return t.copy=function(){return mx(t,X3()).exponent(t.exponent())},wc.apply(t,arguments),t}function WTe(){return X3.apply(null,arguments).exponent(.5)}function Q8(t){return Math.sign(t)*t*t}function GTe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YJ(){var t=$3(),e=[0,1],n=!1,r;function i(a){var s=GTe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(Q8(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,NC)).map(Q8)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return YJ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wc.apply(i,arguments),Cf(i)}function XJ(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=ZIe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[hx(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Jd),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return XJ().domain(t).range(e).unknown(r)},wc.apply(a,arguments)}function JJ(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[hx(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return JJ().domain([t,e]).range(i).unknown(a)},wc.apply(Cf(s),arguments)}function ZJ(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[hx(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ZJ().domain(t).range(e).unknown(n)},wc.apply(i,arguments)}const DB=new Date,OB=new Date;function es(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>es(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(DB.setTime(+a),OB.setTime(+s),t(DB),t(OB),Math.floor(n(DB,OB))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const TC=es(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);TC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?es(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):TC);TC.range;const wA=1e3,uc=wA*60,CA=uc*60,QA=CA*24,J3=QA*7,H8=QA*30,FB=QA*365,hh=es(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wA)},(t,e)=>(e-t)/wA,t=>t.getUTCSeconds());hh.range;const Z3=es(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wA)},(t,e)=>{t.setTime(+t+e*uc)},(t,e)=>(e-t)/uc,t=>t.getMinutes());Z3.range;const eO=es(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*uc)},(t,e)=>(e-t)/uc,t=>t.getUTCMinutes());eO.range;const tO=es(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wA-t.getMinutes()*uc)},(t,e)=>{t.setTime(+t+e*CA)},(t,e)=>(e-t)/CA,t=>t.getHours());tO.range;const nO=es(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*CA)},(t,e)=>(e-t)/CA,t=>t.getUTCHours());nO.range;const gx=es(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*uc)/QA,t=>t.getDate()-1);gx.range;const uE=es(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/QA,t=>t.getUTCDate()-1);uE.range;const eZ=es(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/QA,t=>Math.floor(t/QA));eZ.range;function hp(t){return es(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*uc)/J3)}const AE=hp(0),kC=hp(1),qTe=hp(2),YTe=hp(3),_g=hp(4),XTe=hp(5),JTe=hp(6);AE.range;kC.range;qTe.range;YTe.range;_g.range;XTe.range;JTe.range;function pp(t){return es(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/J3)}const dE=pp(0),PC=pp(1),ZTe=pp(2),eke=pp(3),Bg=pp(4),tke=pp(5),nke=pp(6);dE.range;PC.range;ZTe.range;eke.range;Bg.range;tke.range;nke.range;const rO=es(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rO.range;const iO=es(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iO.range;const HA=es(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());HA.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:es(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});HA.range;const zA=es(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zA.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:es(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zA.range;function tZ(t,e,n,r,i,a){const s=[[hh,1,wA],[hh,5,5*wA],[hh,15,15*wA],[hh,30,30*wA],[a,1,uc],[a,5,5*uc],[a,15,15*uc],[a,30,30*uc],[i,1,CA],[i,3,3*CA],[i,6,6*CA],[i,12,12*CA],[r,1,QA],[r,2,2*QA],[n,1,J3],[e,1,H8],[e,3,3*H8],[t,1,FB]];function o(u,A,d){const f=A<u;f&&([u,A]=[A,u]);const h=d&&typeof d.range=="function"?d:l(u,A,d),p=h?h.range(u,+A+1):[];return f?p.reverse():p}function l(u,A,d){const f=Math.abs(A-u)/d,h=U3(([,,v])=>v).right(s,f);if(h===s.length)return t.every(DI(u/FB,A/FB,d));if(h===0)return TC.every(Math.max(DI(u,A,d),1));const[p,m]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return p.every(m)}return[o,l]}const[rke,ike]=tZ(zA,iO,dE,eZ,nO,eO),[ake,ske]=tZ(HA,rO,AE,gx,tO,Z3);function LB(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function MB(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function G0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function oke(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=q0(i),A=Y0(i),d=q0(a),f=Y0(a),h=q0(s),p=Y0(s),m=q0(o),v=Y0(o),g=q0(l),y=Y0(l),x={a:ee,A:K,b:te,B:le,c:null,d:G8,e:G8,f:Ike,g:Uke,G:Hke,H:Bke,I:Nke,j:jke,L:nZ,m:Tke,M:kke,p:se,q:M,Q:X8,s:J8,S:Pke,u:Dke,U:Oke,V:Fke,w:Lke,W:Mke,x:null,X:null,y:Rke,Y:Qke,Z:zke,"%":Y8},S={a:$,A:J,b:ne,B:he,c:null,d:q8,e:q8,f:Wke,g:rPe,G:aPe,H:Vke,I:$ke,j:Kke,L:iZ,m:Gke,M:qke,p:we,q:Se,Q:X8,s:J8,S:Yke,u:Xke,U:Jke,V:Zke,w:ePe,W:tPe,x:null,X:null,y:nPe,Y:iPe,Z:sPe,"%":Y8},E={a:D,A:k,b:O,B:L,c:H,d:K8,e:K8,f:Cke,g:$8,G:V8,H:W8,I:W8,j:yke,L:wke,m:vke,M:bke,p:j,q:gke,Q:Eke,s:_ke,S:xke,u:dke,U:fke,V:hke,w:Ake,W:pke,x:q,X:Y,y:$8,Y:V8,Z:mke,"%":Ske};x.x=N(n,x),x.X=N(r,x),x.c=N(e,x),S.x=N(n,S),S.X=N(r,S),S.c=N(e,S);function N(Ae,ge){return function(xe){var ae=[],Ve=-1,Oe=0,fe=Ae.length,$e,ft,vt;for(xe instanceof Date||(xe=new Date(+xe));++Ve<fe;)Ae.charCodeAt(Ve)===37&&(ae.push(Ae.slice(Oe,Ve)),(ft=z8[$e=Ae.charAt(++Ve)])!=null?$e=Ae.charAt(++Ve):ft=$e==="e"?" ":"0",(vt=ge[$e])&&($e=vt(xe,ft)),ae.push($e),Oe=Ve+1);return ae.push(Ae.slice(Oe,Ve)),ae.join("")}}function _(Ae,ge){return function(xe){var ae=G0(1900,void 0,1),Ve=B(ae,Ae,xe+="",0),Oe,fe;if(Ve!=xe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ge&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Oe=MB(G0(ae.y,0,1)),fe=Oe.getUTCDay(),Oe=fe>4||fe===0?PC.ceil(Oe):PC(Oe),Oe=uE.offset(Oe,(ae.V-1)*7),ae.y=Oe.getUTCFullYear(),ae.m=Oe.getUTCMonth(),ae.d=Oe.getUTCDate()+(ae.w+6)%7):(Oe=LB(G0(ae.y,0,1)),fe=Oe.getDay(),Oe=fe>4||fe===0?kC.ceil(Oe):kC(Oe),Oe=gx.offset(Oe,(ae.V-1)*7),ae.y=Oe.getFullYear(),ae.m=Oe.getMonth(),ae.d=Oe.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),fe="Z"in ae?MB(G0(ae.y,0,1)).getUTCDay():LB(G0(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(fe+5)%7:ae.w+ae.U*7-(fe+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,MB(ae)):LB(ae)}}function B(Ae,ge,xe,ae){for(var Ve=0,Oe=ge.length,fe=xe.length,$e,ft;Ve<Oe;){if(ae>=fe)return-1;if($e=ge.charCodeAt(Ve++),$e===37){if($e=ge.charAt(Ve++),ft=E[$e in z8?ge.charAt(Ve++):$e],!ft||(ae=ft(Ae,xe,ae))<0)return-1}else if($e!=xe.charCodeAt(ae++))return-1}return ae}function j(Ae,ge,xe){var ae=u.exec(ge.slice(xe));return ae?(Ae.p=A.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function D(Ae,ge,xe){var ae=h.exec(ge.slice(xe));return ae?(Ae.w=p.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function k(Ae,ge,xe){var ae=d.exec(ge.slice(xe));return ae?(Ae.w=f.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function O(Ae,ge,xe){var ae=g.exec(ge.slice(xe));return ae?(Ae.m=y.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function L(Ae,ge,xe){var ae=m.exec(ge.slice(xe));return ae?(Ae.m=v.get(ae[0].toLowerCase()),xe+ae[0].length):-1}function H(Ae,ge,xe){return B(Ae,e,ge,xe)}function q(Ae,ge,xe){return B(Ae,n,ge,xe)}function Y(Ae,ge,xe){return B(Ae,r,ge,xe)}function ee(Ae){return s[Ae.getDay()]}function K(Ae){return a[Ae.getDay()]}function te(Ae){return l[Ae.getMonth()]}function le(Ae){return o[Ae.getMonth()]}function se(Ae){return i[+(Ae.getHours()>=12)]}function M(Ae){return 1+~~(Ae.getMonth()/3)}function $(Ae){return s[Ae.getUTCDay()]}function J(Ae){return a[Ae.getUTCDay()]}function ne(Ae){return l[Ae.getUTCMonth()]}function he(Ae){return o[Ae.getUTCMonth()]}function we(Ae){return i[+(Ae.getUTCHours()>=12)]}function Se(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var ge=N(Ae+="",x);return ge.toString=function(){return Ae},ge},parse:function(Ae){var ge=_(Ae+="",!1);return ge.toString=function(){return Ae},ge},utcFormat:function(Ae){var ge=N(Ae+="",S);return ge.toString=function(){return Ae},ge},utcParse:function(Ae){var ge=_(Ae+="",!0);return ge.toString=function(){return Ae},ge}}}var z8={"-":"",_:" ",0:"0"},ds=/^\s*\d+/,lke=/^%/,cke=/[\\^$*+?|[\]().{}]/g;function Nr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function uke(t){return t.replace(cke,"\\$&")}function q0(t){return new RegExp("^(?:"+t.map(uke).join("|")+")","i")}function Y0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ake(t,e,n){var r=ds.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dke(t,e,n){var r=ds.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function fke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function pke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function V8(t,e,n){var r=ds.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $8(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mke(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gke(t,e,n){var r=ds.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function vke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function K8(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function yke(t,e,n){var r=ds.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function W8(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xke(t,e,n){var r=ds.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wke(t,e,n){var r=ds.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Cke(t,e,n){var r=ds.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ske(t,e,n){var r=lke.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Eke(t,e,n){var r=ds.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _ke(t,e,n){var r=ds.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function G8(t,e){return Nr(t.getDate(),e,2)}function Bke(t,e){return Nr(t.getHours(),e,2)}function Nke(t,e){return Nr(t.getHours()%12||12,e,2)}function jke(t,e){return Nr(1+gx.count(HA(t),t),e,3)}function nZ(t,e){return Nr(t.getMilliseconds(),e,3)}function Ike(t,e){return nZ(t,e)+"000"}function Tke(t,e){return Nr(t.getMonth()+1,e,2)}function kke(t,e){return Nr(t.getMinutes(),e,2)}function Pke(t,e){return Nr(t.getSeconds(),e,2)}function Dke(t){var e=t.getDay();return e===0?7:e}function Oke(t,e){return Nr(AE.count(HA(t)-1,t),e,2)}function rZ(t){var e=t.getDay();return e>=4||e===0?_g(t):_g.ceil(t)}function Fke(t,e){return t=rZ(t),Nr(_g.count(HA(t),t)+(HA(t).getDay()===4),e,2)}function Lke(t){return t.getDay()}function Mke(t,e){return Nr(kC.count(HA(t)-1,t),e,2)}function Rke(t,e){return Nr(t.getFullYear()%100,e,2)}function Uke(t,e){return t=rZ(t),Nr(t.getFullYear()%100,e,2)}function Qke(t,e){return Nr(t.getFullYear()%1e4,e,4)}function Hke(t,e){var n=t.getDay();return t=n>=4||n===0?_g(t):_g.ceil(t),Nr(t.getFullYear()%1e4,e,4)}function zke(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nr(e/60|0,"0",2)+Nr(e%60,"0",2)}function q8(t,e){return Nr(t.getUTCDate(),e,2)}function Vke(t,e){return Nr(t.getUTCHours(),e,2)}function $ke(t,e){return Nr(t.getUTCHours()%12||12,e,2)}function Kke(t,e){return Nr(1+uE.count(zA(t),t),e,3)}function iZ(t,e){return Nr(t.getUTCMilliseconds(),e,3)}function Wke(t,e){return iZ(t,e)+"000"}function Gke(t,e){return Nr(t.getUTCMonth()+1,e,2)}function qke(t,e){return Nr(t.getUTCMinutes(),e,2)}function Yke(t,e){return Nr(t.getUTCSeconds(),e,2)}function Xke(t){var e=t.getUTCDay();return e===0?7:e}function Jke(t,e){return Nr(dE.count(zA(t)-1,t),e,2)}function aZ(t){var e=t.getUTCDay();return e>=4||e===0?Bg(t):Bg.ceil(t)}function Zke(t,e){return t=aZ(t),Nr(Bg.count(zA(t),t)+(zA(t).getUTCDay()===4),e,2)}function ePe(t){return t.getUTCDay()}function tPe(t,e){return Nr(PC.count(zA(t)-1,t),e,2)}function nPe(t,e){return Nr(t.getUTCFullYear()%100,e,2)}function rPe(t,e){return t=aZ(t),Nr(t.getUTCFullYear()%100,e,2)}function iPe(t,e){return Nr(t.getUTCFullYear()%1e4,e,4)}function aPe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bg(t):Bg.ceil(t),Nr(t.getUTCFullYear()%1e4,e,4)}function sPe(){return"+0000"}function Y8(){return"%"}function X8(t){return+t}function J8(t){return Math.floor(+t/1e3)}var Ip,sZ,oZ;oPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oPe(t){return Ip=oke(t),sZ=Ip.format,Ip.parse,oZ=Ip.utcFormat,Ip.utcParse,Ip}function lPe(t){return new Date(t)}function cPe(t){return t instanceof Date?+t:+new Date(+t)}function aO(t,e,n,r,i,a,s,o,l,u){var A=$3(),d=A.invert,f=A.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),x=u("%B"),S=u("%Y");function E(N){return(l(N)<N?h:o(N)<N?p:s(N)<N?m:a(N)<N?v:r(N)<N?i(N)<N?g:y:n(N)<N?x:S)(N)}return A.invert=function(N){return new Date(d(N))},A.domain=function(N){return arguments.length?f(Array.from(N,cPe)):f().map(lPe)},A.ticks=function(N){var _=f();return t(_[0],_[_.length-1],N??10)},A.tickFormat=function(N,_){return _==null?E:u(_)},A.nice=function(N){var _=f();return(!N||typeof N.range!="function")&&(N=e(_[0],_[_.length-1],N??10)),N?f(WJ(_,N)):A},A.copy=function(){return mx(A,aO(t,e,n,r,i,a,s,o,l,u))},A}function uPe(){return wc.apply(aO(ake,ske,HA,rO,AE,gx,tO,Z3,hh,sZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function APe(){return wc.apply(aO(rke,ike,zA,iO,dE,uE,nO,eO,hh,oZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fE(){var t=0,e=1,n,r,i,a,s=wo,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function A(d){return function(f){var h,p;return arguments.length?([h,p]=f,s=d(h,p),u):[s(0),s(1)]}}return u.range=A(y0),u.rangeRound=A(V3),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Sf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lZ(){var t=Cf(fE()(wo));return t.copy=function(){return Sf(t,lZ())},ZA.apply(t,arguments)}function cZ(){var t=G3(fE()).domain([1,10]);return t.copy=function(){return Sf(t,cZ()).base(t.base())},ZA.apply(t,arguments)}function uZ(){var t=q3(fE());return t.copy=function(){return Sf(t,uZ()).constant(t.constant())},ZA.apply(t,arguments)}function sO(){var t=Y3(fE());return t.copy=function(){return Sf(t,sO()).exponent(t.exponent())},ZA.apply(t,arguments)}function dPe(){return sO.apply(null,arguments).exponent(.5)}function AZ(){var t=[],e=wo;function n(r){if(r!=null&&!isNaN(r=+r))return e((hx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>JIe(t,a/r))},n.copy=function(){return AZ(e).domain(t)},ZA.apply(n,arguments)}function hE(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=wo,A,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+A(m))-a)*(r*m<r*a?o:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,n]=m,i=A(t=+t),a=A(e=+e),s=A(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(v){var g,y,x;return arguments.length?([g,y,x]=v,u=STe(m,[g,y,x]),h):[u(0),u(.5),u(1)]}}return h.range=p(y0),h.rangeRound=p(V3),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return A=m,i=m(t),a=m(e),s=m(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h}}function dZ(){var t=Cf(hE()(wo));return t.copy=function(){return Sf(t,dZ())},ZA.apply(t,arguments)}function fZ(){var t=G3(hE()).domain([.1,1,10]);return t.copy=function(){return Sf(t,fZ()).base(t.base())},ZA.apply(t,arguments)}function hZ(){var t=q3(hE());return t.copy=function(){return Sf(t,hZ()).constant(t.constant())},ZA.apply(t,arguments)}function oO(){var t=Y3(hE());return t.copy=function(){return Sf(t,oO()).exponent(t.exponent())},ZA.apply(t,arguments)}function fPe(){return oO.apply(null,arguments).exponent(.5)}const Z8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ib,scaleDiverging:dZ,scaleDivergingLog:fZ,scaleDivergingPow:oO,scaleDivergingSqrt:fPe,scaleDivergingSymlog:hZ,scaleIdentity:KJ,scaleImplicit:OI,scaleLinear:IC,scaleLog:GJ,scaleOrdinal:Q3,scalePoint:Xv,scalePow:X3,scaleQuantile:XJ,scaleQuantize:JJ,scaleRadial:YJ,scaleSequential:lZ,scaleSequentialLog:cZ,scaleSequentialPow:sO,scaleSequentialQuantile:AZ,scaleSequentialSqrt:dPe,scaleSequentialSymlog:uZ,scaleSqrt:WTe,scaleSymlog:qJ,scaleThreshold:ZJ,scaleTime:uPe,scaleUtc:APe,tickFormat:$J},Symbol.toStringTag,{value:"Module"}));var hPe=u0;function pPe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!hPe(s):n(s,o)))var o=s,l=a}return l}var pE=pPe;function mPe(t,e){return t>e}var pZ=mPe,gPe=pE,vPe=pZ,yPe=v0;function bPe(t){return t&&t.length?gPe(t,yPe,vPe):void 0}var xPe=bPe;const kd=Rr(xPe);function wPe(t,e){return t<e}var mZ=wPe,CPe=pE,SPe=mZ,EPe=v0;function _Pe(t){return t&&t.length?CPe(t,EPe,SPe):void 0}var BPe=_Pe;const mE=Rr(BPe);var NPe=x3,jPe=Gu,IPe=SJ,TPe=qo;function kPe(t,e){var n=TPe(t)?NPe:IPe;return n(t,jPe(e))}var PPe=kPe,DPe=wJ,OPe=PPe;function FPe(t,e){return DPe(OPe(t,e),1)}var LPe=FPe;const MPe=Rr(LPe);var RPe=F3;function UPe(t,e){return RPe(t,e)}var QPe=UPe;const Kh=Rr(QPe);var b0=1e9,HPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cO,Ii=!0,gc="[DecimalError] ",Nh=gc+"Invalid argument: ",lO=gc+"Exponent out of range: ",x0=Math.floor,Xf=Math.pow,zPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xl,as=1e7,wi=7,gZ=9007199254740991,DC=x0(gZ/wi),sn={};sn.absoluteValue=sn.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};sn.comparedTo=sn.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};sn.decimalPlaces=sn.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wi;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};sn.dividedBy=sn.div=function(t){return IA(this,new this.constructor(t))};sn.dividedToIntegerBy=sn.idiv=function(t){var e=this,n=e.constructor;return ri(IA(e,new n(t),0,1),n.precision)};sn.equals=sn.eq=function(t){return!this.cmp(t)};sn.exponent=function(){return ka(this)};sn.greaterThan=sn.gt=function(t){return this.cmp(t)>0};sn.greaterThanOrEqualTo=sn.gte=function(t){return this.cmp(t)>=0};sn.isInteger=sn.isint=function(){return this.e>this.d.length-2};sn.isNegative=sn.isneg=function(){return this.s<0};sn.isPositive=sn.ispos=function(){return this.s>0};sn.isZero=function(){return this.s===0};sn.lessThan=sn.lt=function(t){return this.cmp(t)<0};sn.lessThanOrEqualTo=sn.lte=function(t){return this.cmp(t)<1};sn.logarithm=sn.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(xl))throw Error(gc+"NaN");if(n.s<1)throw Error(gc+(n.s?"NaN":"-Infinity"));return n.eq(xl)?new r(0):(Ii=!1,e=IA(cb(n,a),cb(t,a),a),Ii=!0,ri(e,i))};sn.minus=sn.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bZ(e,t):vZ(e,(t.s=-t.s,t))};sn.modulo=sn.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gc+"NaN");return n.s?(Ii=!1,e=IA(n,t,0,1).times(t),Ii=!0,n.minus(e)):ri(new r(n),i)};sn.naturalExponential=sn.exp=function(){return yZ(this)};sn.naturalLogarithm=sn.ln=function(){return cb(this)};sn.negated=sn.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};sn.plus=sn.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vZ(e,t):bZ(e,(t.s=-t.s,t))};sn.precision=sn.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Nh+t);if(e=ka(i)+1,r=i.d.length-1,n=r*wi+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};sn.squareRoot=sn.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(gc+"NaN")}for(t=ka(o),Ii=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Bu(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=x0((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(IA(o,a,s+2)).times(.5),Bu(a.d).slice(0,s)===(e=Bu(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ri(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Ii=!0,ri(r,n)};sn.times=sn.mul=function(t){var e,n,r,i,a,s,o,l,u,A=this,d=A.constructor,f=A.d,h=(t=new d(t)).d;if(!A.s||!t.s)return new d(0);for(t.s*=A.s,n=A.e+t.e,l=f.length,u=h.length,l<u&&(a=f,f=h,h=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+h[r]*f[i-r-1]+e,a[i--]=o%as|0,e=o/as|0;a[i]=(a[i]+e)%as|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ii?ri(t,d.precision):t};sn.toDecimalPlaces=sn.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(zu(t,0,b0),e===void 0?e=r.rounding:zu(e,0,8),ri(n,t+ka(n)+1,e))};sn.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Wh(r,!0):(zu(t,0,b0),e===void 0?e=i.rounding:zu(e,0,8),r=ri(new i(r),t+1,e),n=Wh(r,!0,t+1)),n};sn.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Wh(i):(zu(t,0,b0),e===void 0?e=a.rounding:zu(e,0,8),r=ri(new a(i),t+ka(i)+1,e),n=Wh(r.abs(),!1,t+ka(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};sn.toInteger=sn.toint=function(){var t=this,e=t.constructor;return ri(new e(t),ka(t)+1,e.rounding)};sn.toNumber=function(){return+this};sn.toPower=sn.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,A=+(t=new l(t));if(!t.s)return new l(xl);if(o=new l(o),!o.s){if(t.s<1)throw Error(gc+"Infinity");return o}if(o.eq(xl))return o;if(r=l.precision,t.eq(xl))return ri(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=A<0?-A:A)<=gZ){for(i=new l(xl),e=Math.ceil(r/wi+4),Ii=!1;n%2&&(i=i.times(o),tQ(i.d,e)),n=x0(n/2),n!==0;)o=o.times(o),tQ(o.d,e);return Ii=!0,t.s<0?new l(xl).div(i):ri(i,r)}}else if(a<0)throw Error(gc+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Ii=!1,i=t.times(cb(o,r+u)),Ii=!0,i=yZ(i),i.s=a,i};sn.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ka(i),r=Wh(i,n<=a.toExpNeg||n>=a.toExpPos)):(zu(t,1,b0),e===void 0?e=a.rounding:zu(e,0,8),i=ri(new a(i),t,e),n=ka(i),r=Wh(i,t<=n||n<=a.toExpNeg,t)),r};sn.toSignificantDigits=sn.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(zu(t,1,b0),e===void 0?e=r.rounding:zu(e,0,8)),ri(new r(n),t,e)};sn.toString=sn.valueOf=sn.val=sn.toJSON=sn[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ka(t),n=t.constructor;return Wh(t,e<=n.toExpNeg||e>=n.toExpPos)};function vZ(t,e){var n,r,i,a,s,o,l,u,A=t.constructor,d=A.precision;if(!t.s||!e.s)return e.s||(e=new A(t)),Ii?ri(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(d/wi),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/as|0,l[a]%=as;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Ii?ri(e,d):e}function zu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Nh+t)}function Bu(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=wi-r.length,n&&(a+=Cd(n)),a+=r;s=t[e],r=s+"",n=wi-r.length,n&&(a+=Cd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var IA=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%as|0,s=a/as|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*as+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,A,d,f,h,p,m,v,g,y,x,S,E,N,_,B,j=r.constructor,D=r.s==i.s?1:-1,k=r.d,O=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(gc+"Division by zero");for(l=r.e-i.e,_=O.length,E=k.length,h=new j(D),p=h.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--l,a==null?y=a=j.precision:s?y=a+(ka(r)-ka(i))+1:y=a,y<0)return new j(0);if(y=y/wi+2|0,u=0,_==1)for(A=0,O=O[0],y++;(u<E||A)&&y--;u++)x=A*as+(k[u]||0),p[u]=x/O|0,A=x%O|0;else{for(A=as/(O[0]+1)|0,A>1&&(O=t(O,A),k=t(k,A),_=O.length,E=k.length),S=_,m=k.slice(0,_),v=m.length;v<_;)m[v++]=0;B=O.slice(),B.unshift(0),N=O[0],O[1]>=as/2&&++N;do A=0,o=e(O,m,_,v),o<0?(g=m[0],_!=v&&(g=g*as+(m[1]||0)),A=g/N|0,A>1?(A>=as&&(A=as-1),d=t(O,A),f=d.length,v=m.length,o=e(d,m,f,v),o==1&&(A--,n(d,_<f?B:O,f))):(A==0&&(o=A=1),d=O.slice()),f=d.length,f<v&&d.unshift(0),n(m,d,v),o==-1&&(v=m.length,o=e(O,m,_,v),o<1&&(A++,n(m,_<v?B:O,v))),v=m.length):o===0&&(A++,m=[0]),p[u++]=A,o&&m[0]?m[v++]=k[S]||0:(m=[k[S]],v=1);while((S++<E||m[0]!==void 0)&&y--)}return p[0]||p.shift(),h.e=l,ri(h,s?a+ka(h)+1:a)}}();function yZ(t,e){var n,r,i,a,s,o,l=0,u=0,A=t.constructor,d=A.precision;if(ka(t)>16)throw Error(lO+ka(t));if(!t.s)return new A(xl);for(Ii=!1,o=d,s=new A(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Xf(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new A(xl),A.precision=o;;){if(i=ri(i.times(t),o),n=n.times(++l),s=a.plus(IA(i,n,o)),Bu(s.d).slice(0,o)===Bu(a.d).slice(0,o)){for(;u--;)a=ri(a.times(a),o);return A.precision=d,e==null?(Ii=!0,ri(a,d)):a}a=s}}function ka(t){for(var e=t.e*wi,n=t.d[0];n>=10;n/=10)e++;return e}function RB(t,e,n){if(e>t.LN10.sd())throw Ii=!0,n&&(t.precision=n),Error(gc+"LN10 precision limit exceeded");return ri(new t(t.LN10),e)}function Cd(t){for(var e="";t--;)e+="0";return e}function cb(t,e){var n,r,i,a,s,o,l,u,A,d=1,f=10,h=t,p=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(gc+(h.s?"NaN":"-Infinity"));if(h.eq(xl))return new m(0);if(e==null?(Ii=!1,u=v):u=e,h.eq(10))return e==null&&(Ii=!0),RB(m,u);if(u+=f,m.precision=u,n=Bu(p),r=n.charAt(0),a=ka(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Bu(h.d),r=n.charAt(0),d++;a=ka(h),r>1?(h=new m("0."+n),a++):h=new m(r+"."+n.slice(1))}else return l=RB(m,u+2,v).times(a+""),h=cb(new m(r+"."+n.slice(1)),u-f).plus(l),m.precision=v,e==null?(Ii=!0,ri(h,v)):h;for(o=s=h=IA(h.minus(xl),h.plus(xl),u),A=ri(h.times(h),u),i=3;;){if(s=ri(s.times(A),u),l=o.plus(IA(s,new m(i),u)),Bu(l.d).slice(0,u)===Bu(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(RB(m,u+2,v).times(a+""))),o=IA(o,new m(d),u),m.precision=v,e==null?(Ii=!0,ri(o,v)):o;o=l,i+=2}}function eQ(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=x0(n/wi),t.d=[],r=(n+1)%wi,n<0&&(r+=wi),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=wi;r<i;)t.d.push(+e.slice(r,r+=wi));e=e.slice(r),r=wi-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ii&&(t.e>DC||t.e<-DC))throw Error(lO+n)}else t.s=0,t.e=0,t.d=[0];return t}function ri(t,e,n){var r,i,a,s,o,l,u,A,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=wi,i=e,u=d[A=0];else{if(A=Math.ceil((r+1)/wi),a=d.length,A>=a)return t;for(u=a=d[A],s=1;a>=10;a/=10)s++;r%=wi,i=r-wi+s}if(n!==void 0&&(a=Xf(10,s-i-1),o=u/a%10|0,l=e<0||d[A+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Xf(10,s-i):0:d[A-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=ka(t),d.length=1,e=e-a-1,d[0]=Xf(10,(wi-e%wi)%wi),t.e=x0(-e/wi)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=A,a=1,A--):(d.length=A+1,a=Xf(10,wi-r),d[A]=i>0?(u/Xf(10,s-i)%Xf(10,i)|0)*a:0),l)for(;;)if(A==0){(d[0]+=a)==as&&(d[0]=1,++t.e);break}else{if(d[A]+=a,d[A]!=as)break;d[A--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Ii&&(t.e>DC||t.e<-DC))throw Error(lO+ka(t));return t}function bZ(t,e){var n,r,i,a,s,o,l,u,A,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Ii?ri(e,h):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(A=s<0,A?(n=l,s=-s,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(h/wi),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,A=i<o,A&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){A=l[i]<d[i];break}s=0}for(A&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=as-1;--l[a],l[i]+=as}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ii?ri(e,h):e):new f(0)}function Wh(t,e,n){var r,i=ka(t),a=Bu(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Cd(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Cd(-i-1)+a,n&&(r=n-s)>0&&(a+=Cd(r))):i>=s?(a+=Cd(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Cd(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Cd(r))),t.s<0?"-"+a:a}function tQ(t,e){if(t.length>e)return t.length=e,!0}function xZ(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Nh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return eQ(s,a.toString())}else if(typeof a!="string")throw Error(Nh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,zPe.test(a))eQ(s,a);else throw Error(Nh+a)}if(i.prototype=sn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xZ,i.config=i.set=VPe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function VPe(t){if(!t||typeof t!="object")throw Error(gc+"Object expected");var e,n,r,i=["precision",1,b0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(x0(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Nh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Nh+n+": "+r);return this}var cO=xZ(HPe);xl=new cO(1);const qr=cO;function $Pe(t){return qPe(t)||GPe(t)||WPe(t)||KPe()}function KPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WPe(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function GPe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qPe(t){if(Array.isArray(t))return RI(t)}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YPe=function(e){return e},wZ={},CZ=function(e){return e===wZ},nQ=function(e){return function n(){return arguments.length===0||arguments.length===1&&CZ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},XPe=function t(e,n){return e===1?n:nQ(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==wZ}).length;return s>=e?n.apply(void 0,i):t(e-s,nQ(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var A=i.map(function(d){return CZ(d)?l.shift():d});return n.apply(void 0,$Pe(A).concat(l))}))})},gE=function(e){return XPe(e.length,e)},UI=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},JPe=gE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ZPe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return YPe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},QI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SZ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function eDe(t){var e;return t===0?e=1:e=Math.floor(new qr(t).abs().log(10).toNumber())+1,e}function tDe(t,e,n){for(var r=new qr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var nDe=gE(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),rDe=gE(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),iDe=gE(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vE={rangeStep:tDe,getDigitCount:eDe,interpolateNumber:nDe,uninterpolateNumber:rDe,uninterpolateTruncation:iDe};function HI(t){return oDe(t)||sDe(t)||EZ(t)||aDe()}function aDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oDe(t){if(Array.isArray(t))return zI(t)}function ub(t,e){return uDe(t)||cDe(t,e)||EZ(t,e)||lDe()}function lDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(t,e){if(t){if(typeof t=="string")return zI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(t,e)}}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cDe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function uDe(t){if(Array.isArray(t))return t}function _Z(t){var e=ub(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function BZ(t,e,n){if(t.lte(0))return new qr(0);var r=vE.getDigitCount(t.toNumber()),i=new qr(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new qr(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new qr(Math.ceil(l))}function ADe(t,e,n){var r=1,i=new qr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new qr(10).pow(vE.getDigitCount(t)-1),i=new qr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new qr(Math.floor(t)))}else t===0?i=new qr(Math.floor((e-1)/2)):n||(i=new qr(Math.floor(t)));var s=Math.floor((e-1)/2),o=ZPe(JPe(function(l){return i.add(new qr(l-s).mul(r)).toNumber()}),UI);return o(0,e)}function NZ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qr(0),tickMin:new qr(0),tickMax:new qr(0)};var a=BZ(new qr(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new qr(0):(s=new qr(t).add(e).div(2),s=s.sub(new qr(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new qr(e).sub(s).div(a).toNumber()),u=o+l+1;return u>n?NZ(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new qr(o).mul(a)),tickMax:s.add(new qr(l).mul(a))})}function dDe(t){var e=ub(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=_Z([n,r]),l=ub(o,2),u=l[0],A=l[1];if(u===-1/0||A===1/0){var d=A===1/0?[u].concat(HI(UI(0,i-1).map(function(){return 1/0}))):[].concat(HI(UI(0,i-1).map(function(){return-1/0})),[A]);return n>r?QI(d):d}if(u===A)return ADe(u,i,a);var f=NZ(u,A,s,a),h=f.step,p=f.tickMin,m=f.tickMax,v=vE.rangeStep(p,m.add(new qr(.1).mul(h)),h);return n>r?QI(v):v}function fDe(t,e){var n=ub(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=_Z([r,i]),o=ub(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var A=Math.max(e,2),d=BZ(new qr(u).sub(l).div(A-1),a,0),f=[].concat(HI(vE.rangeStep(new qr(l),new qr(u).sub(new qr(.99).mul(d)),d)),[u]);return r>i?QI(f):f}var hDe=SZ(dDe),pDe=SZ(fDe),mDe="Invariant failed";function Gh(t,e){throw new Error(mDe)}var gDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OC.apply(this,arguments)}function vDe(t,e){return wDe(t)||xDe(t,e)||bDe(t,e)||yDe()}function yDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bDe(t,e){if(t){if(typeof t=="string")return rQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rQ(t,e)}}function rQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function wDe(t){if(Array.isArray(t))return t}function CDe(t,e){if(t==null)return{};var n=SDe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TZ(r.key),r)}}function BDe(t,e,n){return e&&_De(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NDe(t,e,n){return e=FC(e),jDe(t,jZ()?Reflect.construct(e,n||[],FC(t).constructor):e.apply(t,n))}function jDe(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IDe(t)}function IDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jZ=function(){return!!t})()}function FC(t){return FC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FC(t)}function TDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VI(t,e)}function VI(t,e){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VI(t,e)}function IZ(t,e,n){return e=TZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TZ(t){var e=kDe(t,"string");return Ng(e)=="symbol"?e:e+""}function kDe(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vx=function(t){function e(){return EDe(this,e),NDe(this,e,arguments)}return TDe(e,t),BDe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,A=r.xAxis,d=r.yAxis,f=CDe(r,gDe),h=yn(f,!1);this.props.direction==="x"&&A.type!=="number"&&Gh();var p=l.map(function(m){var v=u(m,o),g=v.x,y=v.y,x=v.value,S=v.errorVal;if(!S)return null;var E=[],N,_;if(Array.isArray(S)){var B=vDe(S,2);N=B[0],_=B[1]}else N=_=S;if(a==="vertical"){var j=A.scale,D=y+i,k=D+s,O=D-s,L=j(x-N),H=j(x+_);E.push({x1:H,y1:k,x2:H,y2:O}),E.push({x1:L,y1:D,x2:H,y2:D}),E.push({x1:L,y1:k,x2:L,y2:O})}else if(a==="horizontal"){var q=d.scale,Y=g+i,ee=Y-s,K=Y+s,te=q(x-N),le=q(x+_);E.push({x1:ee,y1:le,x2:K,y2:le}),E.push({x1:Y,y1:te,x2:Y,y2:le}),E.push({x1:ee,y1:te,x2:K,y2:te})}return be.createElement(ir,OC({className:"recharts-errorBar",key:"bar-".concat(E.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),E.map(function(se){return be.createElement("line",OC({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return be.createElement(ir,{className:"recharts-errorBars"},p)}}])}(be.Component);IZ(vx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IZ(vx,"displayName","ErrorBar");function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}function iQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iQ(Object(n),!0).forEach(function(r){PDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PDe(t,e,n){return e=DDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DDe(t){var e=ODe(t,"string");return Ab(e)=="symbol"?e:e+""}function ODe(t,e){if(Ab(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ab(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kZ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=bl(n,qc);if(!s)return null;var o=qc.defaultProps,l=o!==void 0?Lf(Lf({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(A,d){var f=d.item,h=d.props,p=h.sectors||h.data||[];return A.concat(p.map(function(m){return{type:s.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(A){var d=A.item,f=d.type.defaultProps,h=f!==void 0?Lf(Lf({},f),d.props):{},p=h.dataKey,m=h.name,v=h.legendType,g=h.hide;return{inactive:g,dataKey:p,type:l.iconType||v||"square",color:uO(d),value:m||p,payload:h}}),Lf(Lf(Lf({},l),qc.getWithHeight(s,i)),{},{payload:u,item:s})};function db(t){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}function aQ(t){return RDe(t)||MDe(t)||LDe(t)||FDe()}function FDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LDe(t,e){if(t){if(typeof t=="string")return $I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $I(t,e)}}function MDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RDe(t){if(Array.isArray(t))return $I(t)}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sQ(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rm(t,e,n){return e=UDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UDe(t){var e=QDe(t,"string");return db(e)=="symbol"?e:e+""}function QDe(t,e){if(db(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ya(t,e,n){return On(t)||On(e)?n:Xa(e)?jl(t,e,n):Nn(e)?e(t):n}function Jv(t,e,n,r){var i=MPe(t,function(o){return ya(o,e)});if(n==="number"){var a=i.filter(function(o){return Tt(o)||parseFloat(o)});return a.length?[mE(a),kd(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!On(o)}):i;return s.map(function(o){return Xa(o)||o instanceof Date?o:""})}var HDe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var A=u>0?i[u-1].coordinate:i[o-1].coordinate,d=i[u].coordinate,f=u>=o-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(bo(d-A)!==bo(f-d)){var p=[];if(bo(f-d)===bo(l[1]-l[0])){h=f;var m=d+l[1]-l[0];p[0]=Math.min(m,(m+A)/2),p[1]=Math.max(m,(m+A)/2)}else{h=A;var v=f+l[1]-l[0];p[0]=Math.min(d,(v+d)/2),p[1]=Math.max(d,(v+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){s=i[u].index;break}}else{var y=Math.min(A,f),x=Math.max(A,f);if(e>(y+d)/2&&e<=(x+d)/2){s=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){s=r[S].index;break}return s},uO=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Xi(Xi({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},zDe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var A=a[o[l]].stackGroups,d=Object.keys(A),f=0,h=d.length;f<h;f++){var p=A[d[f]],m=p.items,v=p.cateAxisId,g=m.filter(function(_){return jA(_.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,x=y!==void 0?Xi(Xi({},y),g[0].props):g[0].props,S=x.barSize,E=x[v];s[E]||(s[E]=[]);var N=On(S)?n:S;s[E].push({item:g[0],stackList:g.slice(1),barSize:On(N)?void 0:xo(N,r,0)})}}return s},VDe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=xo(n,i,0,!0),A,d=[];if(s[0].barSize===+s[0].barSize){var f=!1,h=i/l,p=s.reduce(function(S,E){return S+E.barSize||0},0);p+=(l-1)*u,p>=i&&(p-=(l-1)*u,u=0),p>=i&&h>0&&(f=!0,h*=.9,p=l*h);var m=(i-p)/2>>0,v={offset:m-u,size:0};A=s.reduce(function(S,E){var N={item:E.item,position:{offset:v.offset+v.size+u,size:f?h:E.barSize}},_=[].concat(aQ(S),[N]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(B){_.push({item:B,position:v})}),_},d)}else{var g=xo(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var y=(i-2*g-(l-1)*u)/l;y>1&&(y>>=0);var x=o===+o?Math.min(y,o):y;A=s.reduce(function(S,E,N){var _=[].concat(aQ(S),[{item:E.item,position:{offset:g+(y+u)*N+(y-x)/2,size:x}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(B){_.push({item:B,position:_[_.length-1].position})}),_},d)}return A},$De=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=kZ({children:a,legendWidth:l});if(u){var A=i||{},d=A.width,f=A.height,h=u.align,p=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&p==="middle")&&h!=="center"&&Tt(e[h]))return Xi(Xi({},e),{},Rm({},h,e[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&p!=="middle"&&Tt(e[p]))return Xi(Xi({},e),{},Rm({},p,e[p]+(f||0)))}return e},KDe=function(e,n,r){return On(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},PZ=function(e,n,r,i,a){var s=n.props.children,o=Il(s,vx).filter(function(u){return KDe(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,A){var d=ya(A,r);if(On(d))return u;var f=Array.isArray(d)?[mE(d),kd(d)]:[d,d],h=l.reduce(function(p,m){var v=ya(A,m,0),g=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},WDe=function(e,n,r,i,a){var s=n.map(function(o){return PZ(e,o,r,a,i)}).filter(function(o){return!On(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},DZ=function(e,n,r,i,a){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&PZ(e,l,u,i)||Jv(e,u,r,a)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var A=0,d=u.length;A<d;A++)o[u[A]]||(o[u[A]]=!0,l.push(u[A]));return l},[])},OZ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},FZ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},SA=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?bo(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var A=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return A.filter(function(d){return!p0(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:a?a[d]:d,index:f,offset:u}})},UB=new WeakMap,j1=function(e,n){if(typeof n!="function")return e;UB.has(e)||UB.set(e,new WeakMap);var r=UB.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},LZ=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:ib(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:IC(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xv(),realScaleType:"point"}:a==="category"?{scale:ib(),realScaleType:"band"}:{scale:IC(),realScaleType:"linear"};if(zh(i)){var l="scale".concat(nE(i));return{scale:(Z8[l]||Xv)(),realScaleType:Z8[l]?l:"point"}}return Nn(i)?{scale:i}:{scale:Xv(),realScaleType:"point"}},oQ=1e-4,MZ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-oQ,s=Math.max(i[0],i[1])+oQ,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},GDe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},qDe=function(e,n){if(!n||n.length!==2||!Tt(n[0])||!Tt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Tt(e[0])||e[0]<r)&&(a[0]=r),(!Tt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},YDe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=p0(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},XDe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=p0(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},JDe={sign:YDe,expand:gCe,none:bg,silhouette:vCe,wiggle:yCe,positive:XDe},ZDe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=JDe[r],s=mCe().keys(i).value(function(o,l){return+ya(o,l,0)}).order(mI).offset(a);return s(e)},e3e=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(d,f){var h,p=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Xi(Xi({},f.type.defaultProps),f.props):f.props,m=p.stackId,v=p.hide;if(v)return d;var g=p[r],y=d[g]||{hasStack:!1,stackGroups:{}};if(Xa(m)){var x=y.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(f),y.hasStack=!0,y.stackGroups[m]=x}else y.stackGroups[fp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Xi(Xi({},d),{},Rm({},g,y))},l),A={};return Object.keys(u).reduce(function(d,f){var h=u[f];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var g=h.stackGroups[v];return Xi(Xi({},m),{},Rm({},v,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:ZDe(e,g.items,a)}))},p)}return Xi(Xi({},d),{},Rm({},f,h))},A)},RZ=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var A=hDe(u,a,o);return e.domain([mE(A),kd(A)]),{niceTicks:A}}if(a&&i==="number"){var d=e.domain(),f=pDe(d,a,o);return{niceTicks:f}}return null};function LC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!On(i[e.dataKey])){var o=cC(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ya(i,On(s)?e.dataKey:s);return On(l)?null:e.scale(l)}var lQ=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=ya(s,n.dataKey,n.domain[o]);return On(l)?null:n.scale(l)-a/2+i},t3e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},n3e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Xi(Xi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Xa(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},r3e=function(e){return e.reduce(function(n,r){return[mE(r.concat([n[0]]).filter(Tt)),kd(r.concat([n[1]]).filter(Tt))]},[1/0,-1/0])},UZ=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,A){var d=r3e(A.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},cQ=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uQ=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KI=function(e,n,r){if(Nn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Tt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(cQ.test(e[0])){var a=+cQ.exec(e[0])[1];i[0]=n[0]-a}else Nn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Tt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(uQ.test(e[1])){var s=+uQ.exec(e[1])[1];i[1]=n[1]+s}else Nn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},MC=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=M3(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],A=a[o-1];s=Math.min((u.coordinate||0)-(A.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},AQ=function(e,n,r){return!e||!e.length||Kh(e,jl(r,"type.defaultProps.domain"))?n:e},QZ=function(e,n){var r=e.type.defaultProps?Xi(Xi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,A=r.hide;return Xi(Xi({},yn(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:uO(e),value:ya(n,i),type:l,payload:n,chartType:u,hide:A})};function fb(t){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function dQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dQ(Object(n),!0).forEach(function(r){HZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HZ(t,e,n){return e=i3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i3e(t){var e=a3e(t,"string");return fb(e)=="symbol"?e:e+""}function a3e(t,e){if(fb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s3e(t,e){return u3e(t)||c3e(t,e)||l3e(t,e)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(t,e){if(t){if(typeof t=="string")return fQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fQ(t,e)}}function fQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function u3e(t){if(Array.isArray(t))return t}var RC=Math.PI/180,A3e=function(e){return e*180/Math.PI},di=function(e,n,r,i){return{x:e+Math.cos(-RC*i)*r,y:n+Math.sin(-RC*i)*r}},zZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},d3e=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,u=e.endAngle,A=xo(e.cx,s,s/2),d=xo(e.cy,o,o/2),f=zZ(s,o,r),h=xo(e.innerRadius,f,0),p=xo(e.outerRadius,f,f*.8),m=Object.keys(n);return m.reduce(function(v,g){var y=n[g],x=y.domain,S=y.reversed,E;if(On(y.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[h,p]),S&&(E=[E[1],E[0]]);else{E=y.range;var N=E,_=s3e(N,2);l=_[0],u=_[1]}var B=LZ(y,a),j=B.realScaleType,D=B.scale;D.domain(x).range(E),MZ(D);var k=RZ(D,pA(pA({},y),{},{realScaleType:j})),O=pA(pA(pA({},y),k),{},{range:E,radius:p,realScaleType:j,scale:D,cx:A,cy:d,innerRadius:h,outerRadius:p,startAngle:l,endAngle:u});return pA(pA({},v),{},HZ({},g,O))},{})},f3e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},h3e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=f3e({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:A3e(u),angleInRadian:u}},p3e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},m3e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},hQ=function(e,n){var r=e.x,i=e.y,a=h3e({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var A=p3e(n),d=A.startAngle,f=A.endAngle,h=o,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?pA(pA({},n),{},{radius:s,angle:m3e(h,n)}):null},VZ=function(e){return!P.isValidElement(e)&&!Nn(e)&&typeof e!="boolean"?e.className:""};function hb(t){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}var g3e=["offset"];function v3e(t){return w3e(t)||x3e(t)||b3e(t)||y3e()}function y3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function x3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w3e(t){if(Array.isArray(t))return WI(t)}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C3e(t,e){if(t==null)return{};var n=S3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pQ(Object(n),!0).forEach(function(r){E3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E3e(t,e,n){return e=_3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _3e(t){var e=B3e(t,"string");return hb(e)=="symbol"?e:e+""}function B3e(t,e){if(hb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}var N3e=function(e){var n=e.value,r=e.formatter,i=On(e.children)?n:e.children;return Nn(r)?r(i):i},j3e=function(e,n){var r=bo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},I3e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,A=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,p=l.endAngle,m=l.clockWise,v=(d+f)/2,g=j3e(h,p),y=g>=0?1:-1,x,S;i==="insideStart"?(x=h+y*s,S=m):i==="insideEnd"?(x=p-y*s,S=!m):i==="end"&&(x=p+y*s,S=m),S=g<=0?S:!S;var E=di(u,A,v,x),N=di(u,A,v,x+(S?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),B=On(e.id)?fp("recharts-radial-line-"):e.id;return be.createElement("text",pb({},r,{dominantBaseline:"central",className:Hn("recharts-radial-bar-label",o)}),be.createElement("defs",null,be.createElement("path",{id:B,d:_})),be.createElement("textPath",{xlinkHref:"#".concat(B)},n))},T3e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,A=a.startAngle,d=a.endAngle,f=(A+d)/2;if(i==="outside"){var h=di(s,o,u+r,f),p=h.x,m=h.y;return{x:p,y:m,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,g=di(s,o,v,f),y=g.x,x=g.y;return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},k3e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,u=s.width,A=s.height,d=A>=0?1:-1,f=d*i,h=d>0?"end":"start",p=d>0?"start":"end",m=u>=0?1:-1,v=m*i,g=m>0?"end":"start",y=m>0?"start":"end";if(a==="top"){var x={x:o+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return Ka(Ka({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var S={x:o+u/2,y:l+A+f,textAnchor:"middle",verticalAnchor:p};return Ka(Ka({},S),r?{height:Math.max(r.y+r.height-(l+A),0),width:u}:{})}if(a==="left"){var E={x:o-v,y:l+A/2,textAnchor:g,verticalAnchor:"middle"};return Ka(Ka({},E),r?{width:Math.max(E.x-r.x,0),height:A}:{})}if(a==="right"){var N={x:o+u+v,y:l+A/2,textAnchor:y,verticalAnchor:"middle"};return Ka(Ka({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:A}:{})}var _=r?{width:u,height:A}:{};return a==="insideLeft"?Ka({x:o+v,y:l+A/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideRight"?Ka({x:o+u-v,y:l+A/2,textAnchor:g,verticalAnchor:"middle"},_):a==="insideTop"?Ka({x:o+u/2,y:l+f,textAnchor:"middle",verticalAnchor:p},_):a==="insideBottom"?Ka({x:o+u/2,y:l+A-f,textAnchor:"middle",verticalAnchor:h},_):a==="insideTopLeft"?Ka({x:o+v,y:l+f,textAnchor:y,verticalAnchor:p},_):a==="insideTopRight"?Ka({x:o+u-v,y:l+f,textAnchor:g,verticalAnchor:p},_):a==="insideBottomLeft"?Ka({x:o+v,y:l+A-f,textAnchor:y,verticalAnchor:h},_):a==="insideBottomRight"?Ka({x:o+u-v,y:l+A-f,textAnchor:g,verticalAnchor:h},_):A0(a)&&(Tt(a.x)||dh(a.x))&&(Tt(a.y)||dh(a.y))?Ka({x:o+xo(a.x,u),y:l+xo(a.y,A),textAnchor:"end",verticalAnchor:"end"},_):Ka({x:o+u/2,y:l+A/2,textAnchor:"middle",verticalAnchor:"middle"},_)},P3e=function(e){return"cx"in e&&Tt(e.cx)};function ls(t){var e=t.offset,n=e===void 0?5:e,r=C3e(t,g3e),i=Ka({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,A=i.className,d=A===void 0?"":A,f=i.textBreakAll;if(!a||On(o)&&On(l)&&!P.isValidElement(u)&&!Nn(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var h;if(Nn(u)){if(h=P.createElement(u,i),P.isValidElement(h))return h}else h=N3e(i);var p=P3e(a),m=yn(i,!0);if(p&&(s==="insideStart"||s==="insideEnd"||s==="end"))return I3e(i,h,m);var v=p?T3e(i):k3e(i);return be.createElement($h,pb({className:Hn("recharts-label",d)},m,v,{breakAll:f}),h)}ls.displayName="Label";var $Z=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,A=e.outerRadius,d=e.x,f=e.y,h=e.top,p=e.left,m=e.width,v=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Tt(m)&&Tt(v)){if(Tt(d)&&Tt(f))return{x:d,y:f,width:m,height:v};if(Tt(h)&&Tt(p))return{x:h,y:p,width:m,height:v}}return Tt(d)&&Tt(f)?{x:d,y:f,width:0,height:0}:Tt(n)&&Tt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:A||l||o||0,clockWise:g}:e.viewBox?e.viewBox:{}},D3e=function(e,n){return e?e===!0?be.createElement(ls,{key:"label-implicit",viewBox:n}):Xa(e)?be.createElement(ls,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===ls?P.cloneElement(e,{key:"label-implicit",viewBox:n}):be.createElement(ls,{key:"label-implicit",content:e,viewBox:n}):Nn(e)?be.createElement(ls,{key:"label-implicit",content:e,viewBox:n}):A0(e)?be.createElement(ls,pb({viewBox:n},e,{key:"label-implicit"})):null:null},O3e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=$Z(e),s=Il(i,ls).map(function(l,u){return P.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=D3e(e.label,n||a);return[o].concat(v3e(s))};ls.parseViewBox=$Z;ls.renderCallByParent=O3e;function F3e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var L3e=F3e;const M3e=Rr(L3e);function mb(t){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(t)}var R3e=["valueAccessor"],U3e=["data","dataKey","clockWise","id","textBreakAll"];function Q3e(t){return $3e(t)||V3e(t)||z3e(t)||H3e()}function H3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3e(t,e){if(t){if(typeof t=="string")return GI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(t,e)}}function V3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $3e(t){if(Array.isArray(t))return GI(t)}function GI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UC.apply(this,arguments)}function mQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mQ(Object(n),!0).forEach(function(r){K3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K3e(t,e,n){return e=W3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W3e(t){var e=G3e(t,"string");return mb(e)=="symbol"?e:e+""}function G3e(t,e){if(mb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vQ(t,e){if(t==null)return{};var n=q3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Y3e=function(e){return Array.isArray(e.value)?M3e(e.value):e.value};function Ko(t){var e=t.valueAccessor,n=e===void 0?Y3e:e,r=vQ(t,R3e),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=vQ(r,U3e);return!i||!i.length?null:be.createElement(ir,{className:"recharts-label-list"},i.map(function(A,d){var f=On(a)?n(A,d):ya(A&&A.payload,a),h=On(o)?{}:{id:"".concat(o,"-").concat(d)};return be.createElement(ls,UC({},yn(A,!0),u,h,{parentViewBox:A.parentViewBox,value:f,textBreakAll:l,viewBox:ls.parseViewBox(On(s)?A:gQ(gQ({},A),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Ko.displayName="LabelList";function X3e(t,e){return t?t===!0?be.createElement(Ko,{key:"labelList-implicit",data:e}):be.isValidElement(t)||Nn(t)?be.createElement(Ko,{key:"labelList-implicit",data:e,content:t}):A0(t)?be.createElement(Ko,UC({data:e},t,{key:"labelList-implicit"})):null:null}function J3e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Il(r,Ko).map(function(s,o){return P.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=X3e(t.label,e);return[a].concat(Q3e(i))}Ko.renderCallByParent=J3e;function gb(t){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}function qI(){return qI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qI.apply(this,arguments)}function yQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yQ(Object(n),!0).forEach(function(r){Z3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z3e(t,e,n){return e=eOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eOe(t){var e=tOe(t,"string");return gb(e)=="symbol"?e:e+""}function tOe(t,e){if(gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nOe=function(e,n){var r=bo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},I1=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,A=l*(o?1:-1)+i,d=Math.asin(l/A)/RC,f=u?a:a+s*d,h=di(n,r,A,f),p=di(n,r,i,f),m=u?a-s*d:a,v=di(n,r,A*Math.cos(d*RC),m);return{center:h,circleTangency:p,lineTangency:v,theta:d}},KZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=nOe(s,o),u=s+l,A=di(n,r,a,s),d=di(n,r,a,u),f="M ".concat(A.x,",").concat(A.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=di(n,r,i,s),p=di(n,r,i,u);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},rOe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,A=e.endAngle,d=bo(A-u),f=I1({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),h=f.circleTangency,p=f.lineTangency,m=f.theta,v=I1({cx:n,cy:r,radius:a,angle:A,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=v.circleTangency,y=v.lineTangency,x=v.theta,S=l?Math.abs(u-A):Math.abs(u-A)-m-x;if(S<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):KZ({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:A});var E="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var N=I1({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=N.circleTangency,B=N.lineTangency,j=N.theta,D=I1({cx:n,cy:r,radius:i,angle:A,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=D.circleTangency,O=D.lineTangency,L=D.theta,H=l?Math.abs(u-A):Math.abs(u-A)-j-L;if(H<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},iOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WZ=function(e){var n=bQ(bQ({},iOe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,A=n.startAngle,d=n.endAngle,f=n.className;if(s<a||A===d)return null;var h=Hn("recharts-sector",f),p=s-a,m=xo(o,p,0,!0),v;return m>0&&Math.abs(A-d)<360?v=rOe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:A,endAngle:d}):v=KZ({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:A,endAngle:d}),be.createElement("path",qI({},yn(n,!0),{className:h,d:v,role:"img"}))};function vb(t){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YI.apply(this,arguments)}function xQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xQ(Object(n),!0).forEach(function(r){aOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aOe(t,e,n){return e=sOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sOe(t){var e=oOe(t,"string");return vb(e)=="symbol"?e:e+""}function oOe(t,e){if(vb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CQ={curveBasisClosed:aCe,curveBasisOpen:sCe,curveBasis:iCe,curveBumpX:V2e,curveBumpY:$2e,curveLinearClosed:oCe,curveLinear:iE,curveMonotoneX:lCe,curveMonotoneY:cCe,curveNatural:uCe,curveStep:ACe,curveStepAfter:fCe,curveStepBefore:dCe},T1=function(e){return e.x===+e.x&&e.y===+e.y},X0=function(e){return e.x},J0=function(e){return e.y},lOe=function(e,n){if(Nn(e))return e;var r="curve".concat(nE(e));return(r==="curveMonotone"||r==="curveBump")&&n?CQ["".concat(r).concat(n==="vertical"?"Y":"X")]:CQ[r]||iE},cOe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,A=lOe(r,o),d=u?a.filter(function(m){return T1(m)}):a,f;if(Array.isArray(s)){var h=u?s.filter(function(m){return T1(m)}):s,p=d.map(function(m,v){return wQ(wQ({},m),{},{base:h[v]})});return o==="vertical"?f=x1().y(J0).x1(X0).x0(function(m){return m.base.x}):f=x1().x(X0).y1(J0).y0(function(m){return m.base.y}),f.defined(T1).curve(A),f(p)}return o==="vertical"&&Tt(s)?f=x1().y(J0).x1(X0).x0(s):Tt(s)?f=x1().x(X0).y1(J0).y0(s):f=QX().x(X0).y(J0),f.defined(T1).curve(A),f(d)},jh=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?cOe(e):i;return P.createElement("path",YI({},yn(e,!1),uC(e),{className:Hn("recharts-curve",n),d:s,ref:a}))},GZ={exports:{}},uOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AOe=uOe,dOe=AOe;function qZ(){}function YZ(){}YZ.resetWarningCache=qZ;var fOe=function(){function t(r,i,a,s,o,l){if(l!==dOe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YZ,resetWarningCache:qZ};return n.PropTypes=n,n};GZ.exports=fOe();var hOe=GZ.exports;const Lr=Rr(hOe);var pOe=Object.getOwnPropertyNames,mOe=Object.getOwnPropertySymbols,gOe=Object.prototype.hasOwnProperty;function SQ(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function k1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function vOe(t){return t!=null?t[Symbol.toStringTag]:void 0}function EQ(t){return pOe(t).concat(mOe(t))}var yOe=Object.hasOwn||function(t,e){return gOe.call(t,e)};function mp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var bOe="__v",xOe="__o",wOe="_owner",_Q=Object.getOwnPropertyDescriptor,BQ=Object.keys;function COe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function SOe(t,e){return mp(t.getTime(),e.getTime())}function EOe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function _Oe(t,e){return t===e}function NQ(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),A=!1,d=0;(o=u.next())&&!o.done;){if(i[d]){d++;continue}var f=s.value,h=o.value;if(n.equals(f[0],h[0],l,d,t,e,n)&&n.equals(f[1],h[1],f[0],h[0],t,e,n)){A=i[d]=!0;break}d++}if(!A)return!1;l++}return!0}var BOe=mp;function NOe(t,e,n){var r=BQ(t),i=r.length;if(BQ(e).length!==i)return!1;for(;i-- >0;)if(!XZ(t,e,n,r[i]))return!1;return!0}function Z0(t,e,n){var r=EQ(t),i=r.length;if(EQ(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],!XZ(t,e,n,a)||(s=_Q(t,a),o=_Q(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function jOe(t,e){return mp(t.valueOf(),e.valueOf())}function IOe(t,e){return t.source===e.source&&t.flags===e.flags}function jQ(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,A=0;(o=l.next())&&!o.done;){if(!i[A]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[A]=!0;break}A++}if(!u)return!1}return!0}function TOe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function kOe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function XZ(t,e,n,r){return(r===wOe||r===xOe||r===bOe)&&(t.$$typeof||e.$$typeof)?!0:yOe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var POe="[object Arguments]",DOe="[object Boolean]",OOe="[object Date]",FOe="[object Error]",LOe="[object Map]",MOe="[object Number]",ROe="[object Object]",UOe="[object RegExp]",QOe="[object Set]",HOe="[object String]",zOe="[object URL]",VOe=Array.isArray,IQ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,TQ=Object.assign,$Oe=Object.prototype.toString.call.bind(Object.prototype.toString);function KOe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,A=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual,h=t.unknownTagComparators;return function(m,v,g){if(m===v)return!0;if(m==null||v==null)return!1;var y=typeof m;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?s(m,v,g):y==="function"?i(m,v,g):!1;var x=m.constructor;if(x!==v.constructor)return!1;if(x===Object)return o(m,v,g);if(VOe(m))return e(m,v,g);if(IQ!=null&&IQ(m))return d(m,v,g);if(x===Date)return n(m,v,g);if(x===RegExp)return u(m,v,g);if(x===Map)return a(m,v,g);if(x===Set)return A(m,v,g);var S=$Oe(m);if(S===OOe)return n(m,v,g);if(S===UOe)return u(m,v,g);if(S===LOe)return a(m,v,g);if(S===QOe)return A(m,v,g);if(S===ROe)return typeof m.then!="function"&&typeof v.then!="function"&&o(m,v,g);if(S===zOe)return f(m,v,g);if(S===FOe)return r(m,v,g);if(S===POe)return o(m,v,g);if(S===DOe||S===MOe||S===HOe)return l(m,v,g);if(h){var E=h[S];if(!E){var N=vOe(m);N&&(E=h[N])}if(E)return E(m,v,g)}return!1}}function WOe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Z0:COe,areDatesEqual:SOe,areErrorsEqual:EOe,areFunctionsEqual:_Oe,areMapsEqual:r?SQ(NQ,Z0):NQ,areNumbersEqual:BOe,areObjectsEqual:r?Z0:NOe,arePrimitiveWrappersEqual:jOe,areRegExpsEqual:IOe,areSetsEqual:r?SQ(jQ,Z0):jQ,areTypedArraysEqual:r?Z0:TOe,areUrlsEqual:kOe,unknownTagComparators:void 0};if(n&&(i=TQ({},i,n(i))),e){var a=k1(i.areArraysEqual),s=k1(i.areMapsEqual),o=k1(i.areObjectsEqual),l=k1(i.areSetsEqual);i=TQ({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function GOe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function qOe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var A=r(),d=A.cache,f=d===void 0?e?new WeakMap:void 0:d,h=A.meta;return n(l,u,{cache:f,equals:i,meta:h,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,s)}}var YOe=Ef();Ef({strict:!0});Ef({circular:!0});Ef({circular:!0,strict:!0});Ef({createInternalComparator:function(){return mp}});Ef({strict:!0,createInternalComparator:function(){return mp}});Ef({circular:!0,createInternalComparator:function(){return mp}});Ef({circular:!0,createInternalComparator:function(){return mp},strict:!0});function Ef(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=WOe(t),l=KOe(o),u=r?r(l):GOe(l);return qOe({circular:n,comparator:l,createState:i,equals:u,strict:s})}function XOe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function kQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):XOe(i)};requestAnimationFrame(r)}function XI(t){"@babel/helpers - typeof";return XI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XI(t)}function JOe(t){return nFe(t)||tFe(t)||eFe(t)||ZOe()}function ZOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eFe(t,e){if(t){if(typeof t=="string")return PQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PQ(t,e)}}function PQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nFe(t){if(Array.isArray(t))return t}function rFe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=JOe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){kQ(i.bind(null,u),l);return}i(l),kQ(i.bind(null,u));return}XI(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function yb(t){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}function DQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DQ(Object(n),!0).forEach(function(r){JZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JZ(t,e,n){return e=iFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iFe(t){var e=aFe(t,"string");return yb(e)==="symbol"?e:String(e)}function aFe(t,e){if(yb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sFe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},oFe=function(e){return e},lFe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zv=function(e,n){return Object.keys(n).reduce(function(r,i){return OQ(OQ({},r),{},JZ({},i,e(i,n[i])))},{})},FQ=function(e,n,r){return e.map(function(i){return"".concat(lFe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function cFe(t,e){return dFe(t)||AFe(t,e)||ZZ(t,e)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function dFe(t){if(Array.isArray(t))return t}function fFe(t){return mFe(t)||pFe(t)||ZZ(t)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZZ(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function pFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mFe(t){if(Array.isArray(t))return JI(t)}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var QC=1e-4,eee=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},tee=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},LQ=function(e,n){return function(r){var i=eee(e,n);return tee(i,r)}},gFe=function(e,n){return function(r){var i=eee(e,n),a=[].concat(fFe(i.map(function(s,o){return s*o}).slice(1)),[0]);return tee(a,r)}},MQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),A=cFe(u,4);i=A[0],a=A[1],s=A[2],o=A[3]}}}var d=LQ(i,s),f=LQ(a,o),h=gFe(i,s),p=function(g){return g>1?1:g<0?0:g},m=function(g){for(var y=g>1?1:g,x=y,S=0;S<8;++S){var E=d(x)-y,N=h(x);if(Math.abs(E-y)<QC||N<QC)return f(x);x=p(x-E/N)}return f(x)};return m.isStepper=!1,m},vFe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(A,d,f){var h=-(A-d)*r,p=f*a,m=f+(h-p)*o/1e3,v=f*o/1e3+A;return Math.abs(v-d)<QC&&Math.abs(m)<QC?[d,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},yFe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MQ(i);case"spring":return vFe();default:if(i.split("(")[0]==="cubic-bezier")return MQ(i)}return typeof i=="function"?i:null};function bb(t){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(t)}function RQ(t){return wFe(t)||xFe(t)||nee(t)||bFe()}function bFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wFe(t){if(Array.isArray(t))return eT(t)}function UQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UQ(Object(n),!0).forEach(function(r){ZI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZI(t,e,n){return e=CFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CFe(t){var e=SFe(t,"string");return bb(e)==="symbol"?e:String(e)}function SFe(t,e){if(bb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EFe(t,e){return NFe(t)||BFe(t,e)||nee(t,e)||_Fe()}function _Fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nee(t,e){if(t){if(typeof t=="string")return eT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(t,e)}}function eT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function NFe(t){if(Array.isArray(t))return t}var HC=function(e,n,r){return e+(n-e)*r},tT=function(e){var n=e.from,r=e.to;return n!==r},jFe=function t(e,n,r){var i=Zv(function(a,s){if(tT(s)){var o=e(s.from,s.to,s.velocity),l=EFe(o,2),u=l[0],A=l[1];return xs(xs({},s),{},{from:u,velocity:A})}return s},n);return r<1?Zv(function(a,s){return tT(s)?xs(xs({},s),{},{velocity:HC(s.velocity,i[a].velocity,r),from:HC(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const IFe=function(t,e,n,r,i){var a=sFe(t,e),s=a.reduce(function(v,g){return xs(xs({},v),{},ZI({},g,[t[g],e[g]]))},{}),o=a.reduce(function(v,g){return xs(xs({},v),{},ZI({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,A,d=function(){return null},f=function(){return Zv(function(g,y){return y.from},o)},h=function(){return!Object.values(o).filter(tT).length},p=function(g){u||(u=g);var y=g-u,x=y/n.dt;o=jFe(n,o,x),i(xs(xs(xs({},t),e),f())),u=g,h()||(l=requestAnimationFrame(d))},m=function(g){A||(A=g);var y=(g-A)/r,x=Zv(function(E,N){return HC.apply(void 0,RQ(N).concat([n(y)]))},s);if(i(xs(xs(xs({},t),e),x)),y<1)l=requestAnimationFrame(d);else{var S=Zv(function(E,N){return HC.apply(void 0,RQ(N).concat([n(1)]))},s);i(xs(xs(xs({},t),e),S))}};return d=n.isStepper?p:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}var TFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kFe(t,e){if(t==null)return{};var n=PFe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PFe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QB(t){return LFe(t)||FFe(t)||OFe(t)||DFe()}function DFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OFe(t,e){if(t){if(typeof t=="string")return nT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nT(t,e)}}function FFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LFe(t){if(Array.isArray(t))return nT(t)}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QQ(Object(n),!0).forEach(function(r){xv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xv(t,e,n){return e=ree(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ree(r.key),r)}}function UFe(t,e,n){return e&&RFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ree(t){var e=QFe(t,"string");return jg(e)==="symbol"?e:String(e)}function QFe(t,e){if(jg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rT(t,e)}function rT(t,e){return rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rT(t,e)}function zFe(t){var e=VFe();return function(){var r=zC(t),i;if(e){var a=zC(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return iT(this,i)}}function iT(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aT(t)}function aT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zC(t){return zC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zC(t)}var tu=function(t){HFe(n,t);var e=zFe(n);function n(r,i){var a;MFe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,A=s.to,d=s.steps,f=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(aT(a)),a.changeStyle=a.changeStyle.bind(aT(a)),!o||h<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:A}),iT(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof f=="function")return a.state={style:u},iT(a);a.state={style:l?xv({},l,u):u}}else a.state={style:{}};return a}return UFe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,A=a.to,d=a.from,f=this.state.style;if(o){if(!s){var h={style:l?xv({},l,A):A};this.state&&f&&(l&&f[l]!==A||!l&&f!==A)&&this.setState(h);return}if(!(YOe(i.to,A)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||u?d:i.to;if(this.state&&f){var v={style:l?xv({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(v)}this.runAnimation(Fc(Fc({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,A=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=IFe(s,o,yFe(u),l,this.changeStyle),p=function(){a.stopJSAnimation=h()};this.manager.start([f,A,p,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],A=u.style,d=u.duration,f=d===void 0?0:d,h=function(m,v,g){if(g===0)return m;var y=v.duration,x=v.easing,S=x===void 0?"ease":x,E=v.style,N=v.properties,_=v.onAnimationEnd,B=g>0?s[g-1]:v,j=N||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(QB(m),[a.runJSAnimation.bind(a,{from:B.style,to:E,duration:y,easing:S}),y]);var D=FQ(j,y,S),k=Fc(Fc(Fc({},B.style),E),{},{transition:D});return[].concat(QB(m),[k,y,_]).filter(oFe)};return this.manager.start([l].concat(QB(s.reduce(h,[A,Math.max(f,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=rFe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,A=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=o?xv({},o,l):l,v=FQ(Object.keys(m),s,u);p.start([A,a,Fc(Fc({},m),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=kFe(i,TFe),u=P.Children.count(a),A=this.state.style;if(typeof a=="function")return a(A);if(!o||u===0||s<=0)return a;var d=function(h){var p=h.props,m=p.style,v=m===void 0?{}:m,g=p.className,y=P.cloneElement(h,Fc(Fc({},l),{},{style:Fc(Fc({},v),A),className:g}));return y};return u===1?d(P.Children.only(a)):be.createElement("div",null,P.Children.map(a,function(f){return d(f)}))}}]),n}(P.PureComponent);tu.displayName="Animate";tu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};tu.propTypes={from:Lr.oneOfType([Lr.object,Lr.string]),to:Lr.oneOfType([Lr.object,Lr.string]),attributeName:Lr.string,duration:Lr.number,begin:Lr.number,easing:Lr.oneOfType([Lr.string,Lr.func]),steps:Lr.arrayOf(Lr.shape({duration:Lr.number.isRequired,style:Lr.object.isRequired,easing:Lr.oneOfType([Lr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lr.func]),properties:Lr.arrayOf("string"),onAnimationEnd:Lr.func})),children:Lr.oneOfType([Lr.node,Lr.func]),isActive:Lr.bool,canBegin:Lr.bool,onAnimationEnd:Lr.func,shouldReAnimate:Lr.bool,onAnimationStart:Lr.func,onAnimationReStart:Lr.func};function xb(t){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(this,arguments)}function $Fe(t,e){return qFe(t)||GFe(t,e)||WFe(t,e)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WFe(t,e){if(t){if(typeof t=="string")return HQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HQ(t,e)}}function HQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function qFe(t){if(Array.isArray(t))return t}function zQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zQ(Object(n),!0).forEach(function(r){YFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YFe(t,e,n){return e=XFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XFe(t){var e=JFe(t,"string");return xb(e)=="symbol"?e:e+""}function JFe(t,e){if(xb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Q=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,A;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];A="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(A+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),A+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(A+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*d[1])),A+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(A+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),A+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(A+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*d[3])),A+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);A="M ".concat(e,",").concat(n+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(n,`
            L `).concat(e+r-l*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*p,`
            L `).concat(e+r,",").concat(n+i-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r-l*p,",").concat(n+i,`
            L `).concat(e+l*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*p," Z")}else A="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return A},ZFe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),A=Math.max(a,a+o),d=Math.min(s,s+l),f=Math.max(s,s+l);return r>=u&&r<=A&&i>=d&&i<=f}return!1},eLe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AO=function(e){var n=VQ(VQ({},eLe),e),r=P.useRef(),i=P.useState(-1),a=$Fe(i,2),s=a[0],o=a[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,u=n.y,A=n.width,d=n.height,f=n.radius,h=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||A!==+A||d!==+d||A===0||d===0)return null;var x=Hn("recharts-rectangle",h);return y?be.createElement(tu,{canBegin:s>0,from:{width:A,height:d,x:l,y:u},to:{width:A,height:d,x:l,y:u},duration:m,animationEasing:p,isActive:y},function(S){var E=S.width,N=S.height,_=S.x,B=S.y;return be.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:g,easing:p},be.createElement("path",VC({},yn(n,!0),{className:x,d:$Q(_,B,E,N,f),ref:r})))}):be.createElement("path",VC({},yn(n,!0),{className:x,d:$Q(l,u,A,d,f)}))},tLe=["points","className","baseLinePoints","connectNulls"];function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function nLe(t,e){if(t==null)return{};var n=rLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KQ(t){return oLe(t)||sLe(t)||aLe(t)||iLe()}function iLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aLe(t,e){if(t){if(typeof t=="string")return sT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sT(t,e)}}function sLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oLe(t){if(Array.isArray(t))return sT(t)}function sT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WQ=function(e){return e&&e.x===+e.x&&e.y===+e.y},lLe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){WQ(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),WQ(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ey=function(e,n){var r=lLe(e);n&&(r=[r.reduce(function(a,s){return[].concat(KQ(a),KQ(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},cLe=function(e,n,r){var i=ey(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ey(n.reverse(),r).slice(1))},uLe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=nLe(e,tLe);if(!n||!n.length)return null;var o=Hn("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=cLe(n,i,a);return be.createElement("g",{className:o},be.createElement("path",bm({},yn(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?be.createElement("path",bm({},yn(s,!0),{fill:"none",d:ey(n,a)})):null,l?be.createElement("path",bm({},yn(s,!0),{fill:"none",d:ey(i,a)})):null)}var A=ey(n,a);return be.createElement("path",bm({},yn(s,!0),{fill:A.slice(-1)==="Z"?s.fill:"none",className:o,d:A}))};function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oT.apply(this,arguments)}var yx=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Hn("recharts-dot",a);return n===+n&&r===+r&&i===+i?P.createElement("circle",oT({},yn(e,!1),uC(e),{className:s,cx:n,cy:r,r:i})):null};function wb(t){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}var ALe=["x","y","top","left","width","height","className"];function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(this,arguments)}function GQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dLe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GQ(Object(n),!0).forEach(function(r){fLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fLe(t,e,n){return e=hLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hLe(t){var e=pLe(t,"string");return wb(e)=="symbol"?e:e+""}function pLe(t,e){if(wb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mLe(t,e){if(t==null)return{};var n=gLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vLe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},yLe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,A=e.width,d=A===void 0?0:A,f=e.height,h=f===void 0?0:f,p=e.className,m=mLe(e,ALe),v=dLe({x:r,y:a,top:o,left:u,width:d,height:h},m);return!Tt(r)||!Tt(a)||!Tt(d)||!Tt(h)||!Tt(o)||!Tt(u)?null:be.createElement("path",lT({},yn(v,!0),{className:Hn("recharts-cross",p),d:vLe(r,a,d,h,o,u)}))},bLe=pE,xLe=pZ,wLe=Gu;function CLe(t,e){return t&&t.length?bLe(t,wLe(e),xLe):void 0}var SLe=CLe;const ELe=Rr(SLe);var _Le=pE,BLe=Gu,NLe=mZ;function jLe(t,e){return t&&t.length?_Le(t,BLe(e),NLe):void 0}var ILe=jLe;const TLe=Rr(ILe);var kLe=["cx","cy","angle","ticks","axisLine"],PLe=["ticks","tick","angle","tickFormatter","stroke"];function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function qQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qQ(Object(n),!0).forEach(function(r){yE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e){if(t==null)return{};var n=DLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aee(r.key),r)}}function FLe(t,e,n){return e&&XQ(t.prototype,e),n&&XQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LLe(t,e,n){return e=$C(e),MLe(t,iee()?Reflect.construct(e,n||[],$C(t).constructor):e.apply(t,n))}function MLe(t,e){if(e&&(Ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RLe(t)}function RLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iee=function(){return!!t})()}function $C(t){return $C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$C(t)}function ULe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cT(t,e)}function cT(t,e){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cT(t,e)}function yE(t,e,n){return e=aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aee(t){var e=QLe(t,"string");return Ig(e)=="symbol"?e:e+""}function QLe(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bE=function(t){function e(){return OLe(this,e),LLe(this,e,arguments)}return ULe(e,t),FLe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return di(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=ELe(o,function(A){return A.coordinate||0}),u=TLe(o,function(A){return A.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,u=YQ(r,kLe),A=o.reduce(function(p,m){return[Math.min(p[0],m.coordinate),Math.max(p[1],m.coordinate)]},[1/0,-1/0]),d=di(i,a,A[0],s),f=di(i,a,A[1],s),h=Mf(Mf(Mf({},yn(u,!1)),{},{fill:"none"},yn(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return be.createElement("line",ty({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,A=YQ(i,PLe),d=this.getTickTextAnchor(),f=yn(A,!1),h=yn(s,!1),p=a.map(function(m,v){var g=r.getTickValueCoord(m),y=Mf(Mf(Mf(Mf({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(g.x,", ").concat(g.y,")")},f),{},{stroke:"none",fill:u},h),{},{index:v},g),{},{payload:m});return be.createElement(ir,ty({className:Hn("recharts-polar-radius-axis-tick",VZ(s)),key:"tick-".concat(m.coordinate)},Vh(r.props,m,v)),e.renderTickItem(s,y,l?l(m.value,v):m.value))});return be.createElement(ir,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:be.createElement(ir,{className:Hn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),ls.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return be.isValidElement(r)?s=be.cloneElement(r,i):Nn(r)?s=r(i):s=be.createElement($h,ty({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(P.PureComponent);yE(bE,"displayName","PolarRadiusAxis");yE(bE,"axisType","radiusAxis");yE(bE,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function JQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JQ(Object(n),!0).forEach(function(r){xE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oee(r.key),r)}}function zLe(t,e,n){return e&&ZQ(t.prototype,e),n&&ZQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VLe(t,e,n){return e=KC(e),$Le(t,see()?Reflect.construct(e,n||[],KC(t).constructor):e.apply(t,n))}function $Le(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KLe(t)}function KLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function see(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(see=function(){return!!t})()}function KC(t){return KC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KC(t)}function WLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}function uT(t,e){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uT(t,e)}function xE(t,e,n){return e=oee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=GLe(t,"string");return Tg(e)=="symbol"?e:e+""}function GLe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qLe=Math.PI/180,e7=1e-5,wE=function(t){function e(){return HLe(this,e),VLe(this,e,arguments)}return WLe(e,t),zLe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,A=u||8,d=di(a,s,o,r.coordinate),f=di(a,s,o+(l==="inner"?-1:1)*A,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*qLe),s;return a>e7?s=i==="outer"?"start":"end":a<-e7?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,u=Rf(Rf({},yn(this.props,!1)),{},{fill:"none"},yn(o,!1));if(l==="circle")return be.createElement(yx,nh({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var A=this.props.ticks,d=A.map(function(f){return di(i,a,s,f.coordinate)});return be.createElement(uLe,nh({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,A=yn(this.props,!1),d=yn(s,!1),f=Rf(Rf({},A),{},{fill:"none"},yn(o,!1)),h=a.map(function(p,m){var v=r.getTickLineCoord(p),g=r.getTickTextAnchor(p),y=Rf(Rf(Rf({textAnchor:g},A),{},{stroke:"none",fill:u},d),{},{index:m,payload:p,x:v.x2,y:v.y2});return be.createElement(ir,nh({className:Hn("recharts-polar-angle-axis-tick",VZ(s)),key:"tick-".concat(p.coordinate)},Vh(r.props,p,m)),o&&be.createElement("line",nh({className:"recharts-polar-angle-axis-tick-line"},f,v)),s&&e.renderTickItem(s,y,l?l(p.value,m):p.value))});return be.createElement(ir,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:be.createElement(ir,{className:Hn("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return be.isValidElement(r)?s=be.cloneElement(r,i):Nn(r)?s=r(i):s=be.createElement($h,nh({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(P.PureComponent);xE(wE,"displayName","PolarAngleAxis");xE(wE,"axisType","angleAxis");xE(wE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YLe=AJ,XLe=YLe(Object.getPrototypeOf,Object),JLe=XLe,ZLe=XA,eMe=JLe,tMe=JA,nMe="[object Object]",rMe=Function.prototype,iMe=Object.prototype,lee=rMe.toString,aMe=iMe.hasOwnProperty,sMe=lee.call(Object);function oMe(t){if(!tMe(t)||ZLe(t)!=nMe)return!1;var e=eMe(t);if(e===null)return!0;var n=aMe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&lee.call(n)==sMe}var lMe=oMe;const cMe=Rr(lMe);var uMe=XA,AMe=JA,dMe="[object Boolean]";function fMe(t){return t===!0||t===!1||AMe(t)&&uMe(t)==dMe}var hMe=fMe;const pMe=Rr(hMe);function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WC.apply(this,arguments)}function mMe(t,e){return bMe(t)||yMe(t,e)||vMe(t,e)||gMe()}function gMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vMe(t,e){if(t){if(typeof t=="string")return t7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t7(t,e)}}function t7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function bMe(t){if(Array.isArray(t))return t}function n7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(n),!0).forEach(function(r){xMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xMe(t,e,n){return e=wMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wMe(t){var e=CMe(t,"string");return Cb(e)=="symbol"?e:e+""}function CMe(t,e){if(Cb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i7=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},SMe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EMe=function(e){var n=r7(r7({},SMe),e),r=P.useRef(),i=P.useState(-1),a=mMe(i,2),s=a[0],o=a[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,u=n.y,A=n.upperWidth,d=n.lowerWidth,f=n.height,h=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||A!==+A||d!==+d||f!==+f||A===0&&d===0||f===0)return null;var y=Hn("recharts-trapezoid",h);return g?be.createElement(tu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:A,lowerWidth:d,height:f,x:l,y:u},duration:m,animationEasing:p,isActive:g},function(x){var S=x.upperWidth,E=x.lowerWidth,N=x.height,_=x.x,B=x.y;return be.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:p},be.createElement("path",WC({},yn(n,!0),{className:y,d:i7(_,B,S,E,N),ref:r})))}):be.createElement("g",null,be.createElement("path",WC({},yn(n,!0),{className:y,d:i7(l,u,A,d,f)})))},_Me=["option","shapeType","propTransformer","activeClassName","isActive"];function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}function BMe(t,e){if(t==null)return{};var n=NMe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(n),!0).forEach(function(r){jMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jMe(t,e,n){return e=IMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IMe(t){var e=TMe(t,"string");return Sb(e)=="symbol"?e:e+""}function TMe(t,e){if(Sb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kMe(t,e){return GC(GC({},e),t)}function PMe(t,e){return t==="symbols"}function s7(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return be.createElement(AO,n);case"trapezoid":return be.createElement(EMe,n);case"sector":return be.createElement(WZ,n);case"symbols":if(PMe(e))return be.createElement(I3,n);break;default:return null}}function DMe(t){return P.isValidElement(t)?t.props:t}function cee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?kMe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=BMe(t,_Me),u;if(P.isValidElement(e))u=P.cloneElement(e,GC(GC({},l),DMe(e)));else if(Nn(e))u=e(l);else if(cMe(e)&&!pMe(e)){var A=i(e,l);u=be.createElement(s7,{shapeType:n,elementProps:A})}else{var d=l;u=be.createElement(s7,{shapeType:n,elementProps:d})}return o?be.createElement(ir,{className:s},u):u}function CE(t,e){return e!=null&&"trapezoids"in t.props}function SE(t,e){return e!=null&&"sectors"in t.props}function Eb(t,e){return e!=null&&"points"in t.props}function OMe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function FMe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function LMe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function MMe(t,e){var n;return CE(t,e)?n=OMe:SE(t,e)?n=FMe:Eb(t,e)&&(n=LMe),n}function RMe(t,e){var n;return CE(t,e)?n="trapezoids":SE(t,e)?n="sectors":Eb(t,e)&&(n="points"),n}function UMe(t,e){if(CE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(SE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Eb(t,e)?e.payload:{}}function QMe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=RMe(n,e),a=UMe(n,e),s=r.filter(function(l,u){var A=Kh(a,l),d=n.props[i].filter(function(p){var m=MMe(n,e);return m(p,e)}),f=n.props[i].indexOf(d[d.length-1]),h=u===f;return A&&h}),o=r.indexOf(s[s.length-1]);return o}var Xw;function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function o7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(n),!0).forEach(function(r){lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aee(r.key),r)}}function zMe(t,e,n){return e&&l7(t.prototype,e),n&&l7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VMe(t,e,n){return e=qC(e),$Me(t,uee()?Reflect.construct(e,n||[],qC(t).constructor):e.apply(t,n))}function $Me(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KMe(t)}function KMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uee=function(){return!!t})()}function qC(t){return qC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qC(t)}function WMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AT(t,e)}function AT(t,e){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AT(t,e)}function lc(t,e,n){return e=Aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=GMe(t,"string");return kg(e)=="symbol"?e:e+""}function GMe(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nu=function(t){function e(n){var r;return HMe(this,e),r=VMe(this,e,[n]),lc(r,"pieRef",null),lc(r,"sectorRefs",[]),lc(r,"id",fp("recharts-pie-")),lc(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Nn(i)&&i()}),lc(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Nn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return WMe(e,t),zMe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,u=a.valueKey,A=yn(this.props,!1),d=yn(s,!1),f=yn(o,!1),h=s&&s.offsetRadius||20,p=r.map(function(m,v){var g=(m.startAngle+m.endAngle)/2,y=di(m.cx,m.cy,m.outerRadius+h,g),x=li(li(li(li({},A),m),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(y.x,m.cx)},y),S=li(li(li(li({},A),m),{},{fill:"none",stroke:m.fill},f),{},{index:v,points:[di(m.cx,m.cy,m.outerRadius,g),y]}),E=l;return On(l)&&On(u)?E="value":On(l)&&(E=u),be.createElement(ir,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,S,"line"),e.renderLabelItem(s,x,ya(m,E)))});return be.createElement(ir,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(u,A){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(A),f=l&&i.hasActiveIndex()?l:null,h=d?s:f,p=li(li({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return be.createElement(ir,xm({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Vh(i.props,u,A),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(A)}),be.createElement(cee,xm({option:h,isActive:d,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,A=i.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return be.createElement(tu,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(A,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var m=p.t,v=[],g=a&&a[0],y=g.startAngle;return a.forEach(function(x,S){var E=f&&f[S],N=S>0?jl(x,"paddingAngle",0):0;if(E){var _=Ga(E.endAngle-E.startAngle,x.endAngle-x.startAngle),B=li(li({},x),{},{startAngle:y+N,endAngle:y+_(m)+N});v.push(B),y=B.endAngle}else{var j=x.endAngle,D=x.startAngle,k=Ga(0,j-D),O=k(m),L=li(li({},x),{},{startAngle:y+N,endAngle:y+O+N});v.push(L),y=L.endAngle}}),be.createElement(ir,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Kh(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,u=i.cx,A=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.isAnimationActive,p=this.state.isAnimationFinished;if(a||!s||!s.length||!Tt(u)||!Tt(A)||!Tt(d)||!Tt(f))return null;var m=Hn("recharts-pie",o);return be.createElement(ir,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){r.pieRef=g}},this.renderSectors(),l&&this.renderLabels(s),ls.renderCallByParent(this.props,null,!1),(!h||p)&&Ko.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(be.isValidElement(r))return be.cloneElement(r,i);if(Nn(r))return r(i);var s=Hn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return be.createElement(jh,xm({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(be.isValidElement(r))return be.cloneElement(r,i);var s=a;if(Nn(r)&&(s=r(i),be.isValidElement(s)))return s;var o=Hn("recharts-pie-label-text",typeof r!="boolean"&&!Nn(r)?r.className:"");return be.createElement($h,xm({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(P.PureComponent);Xw=nu;lc(nu,"displayName","Pie");lc(nu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});lc(nu,"parseDeltaAngle",function(t,e){var n=bo(e-t),r=Math.min(Math.abs(e-t),360);return n*r});lc(nu,"getRealPieData",function(t){var e=t.data,n=t.children,r=yn(t,!1),i=Il(n,mc);return e&&e.length?e.map(function(a,s){return li(li(li({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return li(li({},r),a.props)}):[]});lc(nu,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=zZ(i,a),o=r+xo(t.cx,i,i/2),l=n+xo(t.cy,a,a/2),u=xo(t.innerRadius,s,0),A=xo(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:A,maxRadius:d}});lc(nu,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?li(li({},e.type.defaultProps),e.props):e.props,i=Xw.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,u=r.dataKey,A=r.nameKey,d=r.valueKey,f=r.tooltipType,h=Math.abs(r.minAngle),p=Xw.parseCoordinateOfPie(r,n),m=Xw.parseDeltaAngle(s,o),v=Math.abs(m),g=u;On(u)&&On(d)?(Gc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):On(u)&&(Gc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=d);var y=i.filter(function(B){return ya(B,g,0)!==0}).length,x=(v>=360?y:y-1)*l,S=v-y*h-x,E=i.reduce(function(B,j){var D=ya(j,g,0);return B+(Tt(D)?D:0)},0),N;if(E>0){var _;N=i.map(function(B,j){var D=ya(B,g,0),k=ya(B,A,j),O=(Tt(D)?D:0)/E,L;j?L=_.endAngle+bo(m)*l*(D!==0?1:0):L=s;var H=L+bo(m)*((D!==0?h:0)+O*S),q=(L+H)/2,Y=(p.innerRadius+p.outerRadius)/2,ee=[{name:k,value:D,payload:B,dataKey:g,type:f}],K=di(p.cx,p.cy,Y,q);return _=li(li(li({percent:O,cornerRadius:a,name:k,tooltipPayload:ee,midAngle:q,middleRadius:Y,tooltipPosition:K},B),p),{},{value:ya(B,g),startAngle:L,endAngle:H,payload:B,paddingAngle:bo(m)*l}),_})}return li(li({},p),{},{sectors:N,data:i})});var qMe=Math.ceil,YMe=Math.max;function XMe(t,e,n,r){for(var i=-1,a=YMe(qMe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var JMe=XMe,ZMe=IJ,c7=1/0,eRe=17976931348623157e292;function tRe(t){if(!t)return t===0?t:0;if(t=ZMe(t),t===c7||t===-c7){var e=t<0?-1:1;return e*eRe}return t===t?t:0}var dee=tRe,nRe=JMe,rRe=lE,HB=dee;function iRe(t){return function(e,n,r){return r&&typeof r!="number"&&rRe(e,n,r)&&(n=r=void 0),e=HB(e),n===void 0?(n=e,e=0):n=HB(n),r=r===void 0?e<n?1:-1:HB(r),nRe(e,n,r,t)}}var aRe=iRe,sRe=aRe,oRe=sRe(),lRe=oRe;const YC=Rr(lRe);function _b(t){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function u7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u7(Object(n),!0).forEach(function(r){fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fee(t,e,n){return e=cRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cRe(t){var e=uRe(t,"string");return _b(e)=="symbol"?e:e+""}function uRe(t,e){if(_b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_b(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ARe=["Webkit","Moz","O","ms"],dRe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ARe.reduce(function(a,s){return A7(A7({},a),{},fee({},s+r,n))},{});return i[e]=n,i};function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XC.apply(this,arguments)}function d7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d7(Object(n),!0).forEach(function(r){vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pee(r.key),r)}}function hRe(t,e,n){return e&&f7(t.prototype,e),n&&f7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pRe(t,e,n){return e=JC(e),mRe(t,hee()?Reflect.construct(e,n||[],JC(t).constructor):e.apply(t,n))}function mRe(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gRe(t)}function gRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hee=function(){return!!t})()}function JC(t){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JC(t)}function vRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dT(t,e)}function vl(t,e,n){return e=pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pee(t){var e=yRe(t,"string");return Pg(e)=="symbol"?e:e+""}function yRe(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bRe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Xv().domain(YC(0,l)).range([a,a+s-o]),A=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:A}},h7=function(e){return e.changedTouches&&!!e.changedTouches.length},Dg=function(t){function e(n){var r;return fRe(this,e),r=pRe(this,e,[n]),vl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),vl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),vl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),vl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vl(r,"handleSlideDragStart",function(i){var a=h7(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return vRe(e,t),hRe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,A=u.length-1,d=Math.min(i,a),f=Math.max(i,a),h=e.getIndexInRange(s,d),p=e.getIndexInRange(s,f);return{startIndex:h-h%l,endIndex:p===A?A:p-p%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=ya(a[r],o,r);return Nn(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,A=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,p=l.onChange,m=r.pageX-a;m>0?m=Math.min(m,u+A-d-o,u+A-d-s):m<0&&(m=Math.max(m,u-s,u-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==f||v.endIndex!==h)&&p&&p(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=h7(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],A=this.props,d=A.x,f=A.width,h=A.travellerWidth,p=A.onChange,m=A.gap,v=A.data,g={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,d+f-h-u):y<0&&(y=Math.max(y,d-u)),g[s]=u+y;var x=this.getIndex(g),S=x.startIndex,E=x.endIndex,N=function(){var B=v.length-1;return s==="startX"&&(o>l?S%m===0:E%m===0)||o<l&&E===B||s==="endX"&&(o>l?E%m===0:S%m===0)||o>l&&E===B};this.setState(vl(vl({},s,u+y),"brushMoveStartX",r.pageX),function(){p&&N()&&p(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,A=this.state[i],d=o.indexOf(A);if(d!==-1){var f=d+r;if(!(f===-1||f>=o.length)){var h=o[f];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(vl({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return be.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,u=r.children,A=r.padding,d=P.Children.only(u);return d?be.cloneElement(d,{x:i,y:a,width:s,height:o,margin:A,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,u=l.y,A=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,p=l.data,m=l.startIndex,v=l.endIndex,g=Math.max(r,this.props.x),y=zB(zB({},yn(this.props,!1)),{},{x:g,y:u,width:A,height:d}),x=h||"Min value: ".concat((a=p[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=p[v])===null||s===void 0?void 0:s.name);return be.createElement(ir,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,A=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return be.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:A,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,A=this.state,d=A.startX,f=A.endX,h=5,p={pointerEvents:"none",fill:u};return be.createElement(ir,{className:"recharts-brush-texts"},be.createElement($h,XC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:s+o/2},p),this.getTextOfTick(i)),be.createElement($h,XC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:s+o/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,u=r.width,A=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,p=f.endX,m=f.isTextActive,v=f.isSlideMoving,g=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!Tt(o)||!Tt(l)||!Tt(u)||!Tt(A)||u<=0||A<=0)return null;var x=Hn("recharts-brush",a),S=be.Children.count(s)===1,E=dRe("userSelect","none");return be.createElement(ir,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(m||v||g||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(a+o/2)-1;return be.createElement(be.Fragment,null,be.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),be.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),be.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return be.isValidElement(r)?a=be.cloneElement(r,i):Nn(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,A=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return zB({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?bRe({data:a,width:s,x:o,travellerWidth:l,startIndex:A,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(P.PureComponent);vl(Dg,"displayName","Brush");vl(Dg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xRe=L3;function wRe(t,e){var n;return xRe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var CRe=wRe,SRe=rJ,ERe=Gu,_Re=CRe,BRe=qo,NRe=lE;function jRe(t,e,n){var r=BRe(t)?SRe:_Re;return n&&NRe(t,e,n)&&(e=void 0),r(t,ERe(e))}var IRe=jRe;const TRe=Rr(IRe);var Mu=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},p7=EJ;function kRe(t,e,n){e=="__proto__"&&p7?p7(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var PRe=kRe,DRe=PRe,ORe=CJ,FRe=Gu;function LRe(t,e){var n={};return e=FRe(e),ORe(t,function(r,i,a){DRe(n,i,e(r,i,a))}),n}var MRe=LRe;const RRe=Rr(MRe);function URe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var QRe=URe,HRe=L3;function zRe(t,e){var n=!0;return HRe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var VRe=zRe,$Re=QRe,KRe=VRe,WRe=Gu,GRe=qo,qRe=lE;function YRe(t,e,n){var r=GRe(t)?$Re:KRe;return n&&qRe(t,e,n)&&(e=void 0),r(t,WRe(e))}var XRe=YRe;const mee=Rr(XRe);var JRe=["x","y"];function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function fT(){return fT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fT.apply(this,arguments)}function m7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m7(Object(n),!0).forEach(function(r){ZRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZRe(t,e,n){return e=e6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e6e(t){var e=t6e(t,"string");return Bb(e)=="symbol"?e:e+""}function t6e(t,e){if(Bb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n6e(t,e){if(t==null)return{};var n=r6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i6e(t,e){var n=t.x,r=t.y,i=n6e(t,JRe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),A=parseInt(u,10),d="".concat(e.width||i.width),f=parseInt(d,10);return ev(ev(ev(ev(ev({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:A,width:f,name:e.name,radius:e.radius})}function g7(t){return be.createElement(cee,fT({shapeType:"rectangle",propTransformer:i6e,activeClassName:"recharts-active-bar"},t))}var a6e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Tt(r)||Iwe(r);return a?e(r,i):(a||Gh(),n)}},s6e=["value","background"],gee;function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function o6e(t,e){if(t==null)return{};var n=l6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZC.apply(this,arguments)}function v7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v7(Object(n),!0).forEach(function(r){Pd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yee(r.key),r)}}function u6e(t,e,n){return e&&y7(t.prototype,e),n&&y7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A6e(t,e,n){return e=eS(e),d6e(t,vee()?Reflect.construct(e,n||[],eS(t).constructor):e.apply(t,n))}function d6e(t,e){if(e&&(Og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f6e(t)}function f6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vee=function(){return!!t})()}function eS(t){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eS(t)}function h6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hT(t,e)}function Pd(t,e,n){return e=yee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=p6e(t,"string");return Og(e)=="symbol"?e:e+""}function p6e(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ja=function(t){function e(){var n;c6e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=A6e(this,e,[].concat(i)),Pd(n,"state",{isAnimationFinished:!1}),Pd(n,"id",fp("recharts-bar-")),Pd(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Pd(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return h6e(e,t),u6e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,A=yn(this.props,!1);return r&&r.map(function(d,f){var h=f===l,p=h?u:s,m=_a(_a(_a({},A),d),{},{isActive:h,option:p,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return be.createElement(ir,ZC({className:"recharts-bar-rectangle"},Vh(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),be.createElement(g7,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,A=i.animationEasing,d=i.animationId,f=this.state.prevData;return be.createElement(tu,{begin:l,duration:u,isActive:o,easing:A,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=a.map(function(v,g){var y=f&&f[g];if(y){var x=Ga(y.x,v.x),S=Ga(y.y,v.y),E=Ga(y.width,v.width),N=Ga(y.height,v.height);return _a(_a({},v),{},{x:x(p),y:S(p),width:E(p),height:N(p)})}if(s==="horizontal"){var _=Ga(0,v.height),B=_(p);return _a(_a({},v),{},{y:v.y+v.height-B,height:B})}var j=Ga(0,v.width),D=j(p);return _a(_a({},v),{},{width:D})});return be.createElement(ir,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Kh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=yn(this.props.background,!1);return a.map(function(u,A){u.value;var d=u.background,f=o6e(u,s6e);if(!d)return null;var h=_a(_a(_a(_a(_a({},f),{},{fill:"#eee"},d),l),Vh(r.props,u,A)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:A,className:"recharts-bar-background-rectangle"});return be.createElement(g7,ZC({key:"background-bar-".concat(A),option:r.props.background,isActive:A===o},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,A=a.children,d=Il(A,vx);if(!d)return null;var f=u==="vertical"?s[0].height/2:s[0].width/2,h=function(v,g){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:ya(v,g)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return be.createElement(ir,p,d.map(function(m){return be.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,A=r.top,d=r.width,f=r.height,h=r.isAnimationActive,p=r.background,m=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,g=Hn("recharts-bar",s),y=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,S=y||x,E=On(m)?this.id:m;return be.createElement(ir,{className:g},y||x?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(E)},be.createElement("rect",{x:y?u:u-d/2,y:x?A:A-f/2,width:y?d:d*2,height:x?f:f*2}))):null,be.createElement(ir,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!h||v)&&Ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(P.PureComponent);gee=Ja;Pd(Ja,"displayName","Bar");Pd(Ja,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pd(Ja,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,f=t.offset,h=GDe(r,n);if(!h)return null;var p=e.layout,m=n.type.defaultProps,v=m!==void 0?_a(_a({},m),n.props):n.props,g=v.dataKey,y=v.children,x=v.minPointSize,S=p==="horizontal"?s:a,E=u?S.scale.domain():null,N=t3e({numericAxis:S}),_=Il(y,mc),B=d.map(function(j,D){var k,O,L,H,q,Y;u?k=qDe(u[A+D],E):(k=ya(j,g),Array.isArray(k)||(k=[N,k]));var ee=a6e(x,gee.defaultProps.minPointSize)(k[1],D);if(p==="horizontal"){var K,te=[s.scale(k[0]),s.scale(k[1])],le=te[0],se=te[1];O=lQ({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:j,index:D}),L=(K=se??le)!==null&&K!==void 0?K:void 0,H=h.size;var M=le-se;if(q=Number.isNaN(M)?0:M,Y={x:O,y:s.y,width:H,height:s.height},Math.abs(ee)>0&&Math.abs(q)<Math.abs(ee)){var $=bo(q||ee)*(Math.abs(ee)-Math.abs(q));L-=$,q+=$}}else{var J=[a.scale(k[0]),a.scale(k[1])],ne=J[0],he=J[1];if(O=ne,L=lQ({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:j,index:D}),H=he-ne,q=h.size,Y={x:a.x,y:L,width:a.width,height:q},Math.abs(ee)>0&&Math.abs(H)<Math.abs(ee)){var we=bo(H||ee)*(Math.abs(ee)-Math.abs(H));H+=we}}return _a(_a(_a({},j),{},{x:O,y:L,width:H,height:q,value:u?k:k[1],payload:j,background:Y},_&&_[D]&&_[D].props),{},{tooltipPayload:[QZ(n,j)],tooltipPosition:{x:O+H/2,y:L+q/2}})});return _a({data:B,layout:p},f)});function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function m6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bee(r.key),r)}}function g6e(t,e,n){return e&&b7(t.prototype,e),n&&b7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(n),!0).forEach(function(r){EE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EE(t,e,n){return e=bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=v6e(t,"string");return Nb(e)=="symbol"?e:e+""}function v6e(t,e){if(Nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dO=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,A=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},f=!!bl(u,Ja);return A.reduce(function(h,p){var m=n[p],v=m.orientation,g=m.domain,y=m.padding,x=y===void 0?{}:y,S=m.mirror,E=m.reversed,N="".concat(v).concat(S?"Mirror":""),_,B,j,D,k;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=g[1]-g[0],L=1/0,H=m.categoricalDomain.sort(Pwe);if(H.forEach(function(J,ne){ne>0&&(L=Math.min((J||0)-(H[ne-1]||0),L))}),Number.isFinite(L)){var q=L/O,Y=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(_=q*Y/2),m.padding==="no-gap"){var ee=xo(e.barCategoryGap,q*Y),K=q*Y/2;_=K-ee-(K-ee)/Y*ee}}}i==="xAxis"?B=[r.left+(x.left||0)+(_||0),r.left+r.width-(x.right||0)-(_||0)]:i==="yAxis"?B=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(_||0),r.top+r.height-(x.bottom||0)-(_||0)]:B=m.range,E&&(B=[B[1],B[0]]);var te=LZ(m,a,f),le=te.scale,se=te.realScaleType;le.domain(g).range(B),MZ(le);var M=RZ(le,Hc(Hc({},m),{},{realScaleType:se}));i==="xAxis"?(k=v==="top"&&!S||v==="bottom"&&S,j=r.left,D=d[N]-k*m.height):i==="yAxis"&&(k=v==="left"&&!S||v==="right"&&S,j=d[N]-k*m.width,D=r.top);var $=Hc(Hc(Hc({},m),M),{},{realScaleType:se,x:j,y:D,scale:le,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return $.bandSize=MC($,M),!m.hide&&i==="xAxis"?d[N]+=(k?-1:1)*$.height:m.hide||(d[N]+=(k?-1:1)*$.width),Hc(Hc({},h),{},EE({},p,$))},{})},xee=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},y6e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return xee({x:n,y:r},{x:i,y:a})},wee=function(){function t(e){m6e(this,t),this.scale=e}return g6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();EE(wee,"EPS",1e-4);var fO=function(e){var n=Object.keys(e).reduce(function(r,i){return Hc(Hc({},r),{},EE({},i,wee.create(e[i])))},{});return Hc(Hc({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return RRe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return mee(i,function(a,s){return n[s].isInRange(a)})}})};function b6e(t){return(t%180+180)%180}var x6e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=b6e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},w6e=Gu,C6e=fx,S6e=sE;function E6e(t){return function(e,n,r){var i=Object(e);if(!C6e(e)){var a=w6e(n);e=S6e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var _6e=E6e,B6e=dee;function N6e(t){var e=B6e(t),n=e%1;return e===e?n?e-n:e:0}var j6e=N6e,I6e=gJ,T6e=Gu,k6e=j6e,P6e=Math.max;function D6e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:k6e(n);return i<0&&(i=P6e(r+i,0)),I6e(t,T6e(e),i)}var O6e=D6e,F6e=_6e,L6e=O6e,M6e=F6e(L6e),R6e=M6e;const U6e=Rr(R6e);var Q6e=F1e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hO=P.createContext(void 0),pO=P.createContext(void 0),Cee=P.createContext(void 0),See=P.createContext({}),Eee=P.createContext(void 0),_ee=P.createContext(0),Bee=P.createContext(0),w7=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,A=Q6e(a);return be.createElement(hO.Provider,{value:r},be.createElement(pO.Provider,{value:i},be.createElement(See.Provider,{value:a},be.createElement(Cee.Provider,{value:A},be.createElement(Eee.Provider,{value:s},be.createElement(_ee.Provider,{value:u},be.createElement(Bee.Provider,{value:l},o)))))))},H6e=function(){return P.useContext(Eee)},Nee=function(e){var n=P.useContext(hO);n==null&&Gh();var r=n[e];return r==null&&Gh(),r},z6e=function(){var e=P.useContext(hO);return Bd(e)},V6e=function(){var e=P.useContext(pO),n=U6e(e,function(r){return mee(r.domain,Number.isFinite)});return n||Bd(e)},jee=function(e){var n=P.useContext(pO);n==null&&Gh();var r=n[e];return r==null&&Gh(),r},$6e=function(){var e=P.useContext(Cee);return e},K6e=function(){return P.useContext(See)},mO=function(){return P.useContext(Bee)},gO=function(){return P.useContext(_ee)};function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function W6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tee(r.key),r)}}function q6e(t,e,n){return e&&G6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y6e(t,e,n){return e=tS(e),X6e(t,Iee()?Reflect.construct(e,n||[],tS(t).constructor):e.apply(t,n))}function X6e(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J6e(t)}function J6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iee=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tS(t)}function Z6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pT(t,e)}function pT(t,e){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pT(t,e)}function C7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(n),!0).forEach(function(r){vO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vO(t,e,n){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=eUe(t,"string");return Fg(e)=="symbol"?e:e+""}function eUe(t,e){if(Fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tUe(t,e){return aUe(t)||iUe(t,e)||rUe(t,e)||nUe()}function nUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rUe(t,e){if(t){if(typeof t=="string")return E7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E7(t,e)}}function E7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function aUe(t){if(Array.isArray(t))return t}function mT(){return mT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mT.apply(this,arguments)}var sUe=function(e,n){var r;return be.isValidElement(e)?r=be.cloneElement(e,n):Nn(e)?r=e(n):r=be.createElement("line",mT({},n,{className:"recharts-reference-line-line"})),r},oUe=function(e,n,r,i,a,s,o,l,u){var A=a.x,d=a.y,f=a.width,h=a.height;if(r){var p=u.y,m=e.y.apply(p,{position:s});if(Mu(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:A+f,y:m},{x:A,y:m}];return l==="left"?v.reverse():v}if(n){var g=u.x,y=e.x.apply(g,{position:s});if(Mu(u,"discard")&&!e.x.isInRange(y))return null;var x=[{x:y,y:d+h},{x:y,y:d}];return o==="top"?x.reverse():x}if(i){var S=u.segment,E=S.map(function(N){return e.apply(N,{position:s})});return Mu(u,"discard")&&TRe(E,function(N){return!e.isInRange(N)})?null:E}return null};function lUe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=H6e(),A=Nee(i),d=jee(a),f=$6e();if(!u||!f)return null;Gc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=fO({x:A.scale,y:d.scale}),p=Xa(e),m=Xa(n),v=r&&r.length===2,g=oUe(h,p,m,v,f,t.position,A.orientation,d.orientation,t);if(!g)return null;var y=tUe(g,2),x=y[0],S=x.x,E=x.y,N=y[1],_=N.x,B=N.y,j=Mu(t,"hidden")?"url(#".concat(u,")"):void 0,D=S7(S7({clipPath:j},yn(t,!0)),{},{x1:S,y1:E,x2:_,y2:B});return be.createElement(ir,{className:Hn("recharts-reference-line",o)},sUe(s,D),ls.renderCallByParent(t,y6e({x1:S,y1:E,x2:_,y2:B})))}var bx=function(t){function e(){return W6e(this,e),Y6e(this,e,arguments)}return Z6e(e,t),q6e(e,[{key:"render",value:function(){return be.createElement(lUe,this.props)}}])}(be.Component);vO(bx,"displayName","ReferenceLine");vO(bx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gT.apply(this,arguments)}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function _7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_7(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pee(r.key),r)}}function AUe(t,e,n){return e&&uUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dUe(t,e,n){return e=nS(e),fUe(t,kee()?Reflect.construct(e,n||[],nS(t).constructor):e.apply(t,n))}function fUe(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hUe(t)}function hUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kee=function(){return!!t})()}function nS(t){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nS(t)}function pUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vT(t,e)}function vT(t,e){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vT(t,e)}function _E(t,e,n){return e=Pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=mUe(t,"string");return Lg(e)=="symbol"?e:e+""}function mUe(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gUe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=fO({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Mu(e,"discard")&&!s.isInRange(o)?null:o},BE=function(t){function e(){return cUe(this,e),dUe(this,e,arguments)}return pUe(e,t),AUe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=Xa(i),A=Xa(a);if(Gc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!A)return null;var d=gUe(this.props);if(!d)return null;var f=d.x,h=d.y,p=this.props,m=p.shape,v=p.className,g=Mu(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=B7(B7({clipPath:g},yn(this.props,!0)),{},{cx:f,cy:h});return be.createElement(ir,{className:Hn("recharts-reference-dot",v)},e.renderDot(m,y),ls.renderCallByParent(this.props,{x:f-s,y:h-s,width:2*s,height:2*s}))}}])}(be.Component);_E(BE,"displayName","ReferenceDot");_E(BE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_E(BE,"renderDot",function(t,e){var n;return be.isValidElement(t)?n=be.cloneElement(t,e):Nn(t)?n=t(e):n=be.createElement(yx,gT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT.apply(this,arguments)}function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function N7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(n),!0).forEach(function(r){NE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oee(r.key),r)}}function bUe(t,e,n){return e&&yUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xUe(t,e,n){return e=rS(e),wUe(t,Dee()?Reflect.construct(e,n||[],rS(t).constructor):e.apply(t,n))}function wUe(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CUe(t)}function CUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dee=function(){return!!t})()}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(t)}function SUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bT(t,e)}function NE(t,e,n){return e=Oee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oee(t){var e=EUe(t,"string");return Mg(e)=="symbol"?e:e+""}function EUe(t,e){if(Mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Ue=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,A=a.xAxis,d=a.yAxis;if(!A||!d)return null;var f=fO({x:A.scale,y:d.scale}),h={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},p={x:n?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Mu(a,"discard")&&(!f.isInRange(h)||!f.isInRange(p))?null:xee(h,p)},jE=function(t){function e(){return vUe(this,e),xUe(this,e,arguments)}return SUe(e,t),bUe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,A=r.clipPathId;Gc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Xa(i),f=Xa(a),h=Xa(s),p=Xa(o),m=this.props.shape;if(!d&&!f&&!h&&!p&&!m)return null;var v=_Ue(d,f,h,p,this.props);if(!v&&!m)return null;var g=Mu(this.props,"hidden")?"url(#".concat(A,")"):void 0;return be.createElement(ir,{className:Hn("recharts-reference-area",l)},e.renderRect(m,j7(j7({clipPath:g},yn(this.props,!0)),v)),ls.renderCallByParent(this.props,v))}}])}(be.Component);NE(jE,"displayName","ReferenceArea");NE(jE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});NE(jE,"renderRect",function(t,e){var n;return be.isValidElement(t)?n=be.cloneElement(t,e):Nn(t)?n=t(e):n=be.createElement(AO,yT({},e,{className:"recharts-reference-area-rect"})),n});function Fee(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function BUe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return x6e(r,n)}function NUe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function iS(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function jUe(t,e){return Fee(t,e+1)}function IUe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,u=1,A=s,d=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:Fee(r,u)};var m=l,v,g=function(){return v===void 0&&(v=n(p,m)),v},y=p.coordinate,x=l===0||iS(t,y,g,A,o);x||(l=0,A=s,u+=1),x&&(A=y+t*(g()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function I7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(n),!0).forEach(function(r){TUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TUe(t,e,n){return e=kUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kUe(t){var e=PUe(t,"string");return jb(e)=="symbol"?e:e+""}function PUe(t,e){if(jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DUe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(f){var h=a[f],p,m=function(){return p===void 0&&(p=n(h,f)),p};if(f===s-1){var v=t*(h.coordinate+t*m()/2-l);a[f]=h=Zs(Zs({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else a[f]=h=Zs(Zs({},h),{},{tickCoord:h.coordinate});var g=iS(t,h.tickCoord,m,o,l);g&&(l=h.tickCoord-t*(m()/2+i),a[f]=Zs(Zs({},h),{},{isShow:!0}))},A=s-1;A>=0;A--)u(A);return a}function OUe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var A=r[o-1],d=n(A,o-1),f=t*(A.coordinate+t*d/2-u);s[o-1]=A=Zs(Zs({},A),{},{tickCoord:f>0?A.coordinate-f*t:A.coordinate});var h=iS(t,A.tickCoord,function(){return d},l,u);h&&(u=A.tickCoord-t*(d/2+i),s[o-1]=Zs(Zs({},A),{},{isShow:!0}))}for(var p=a?o-1:o,m=function(y){var x=s[y],S,E=function(){return S===void 0&&(S=n(x,y)),S};if(y===0){var N=t*(x.coordinate-t*E()/2-l);s[y]=x=Zs(Zs({},x),{},{tickCoord:N<0?x.coordinate-N*t:x.coordinate})}else s[y]=x=Zs(Zs({},x),{},{tickCoord:x.coordinate});var _=iS(t,x.tickCoord,E,l,u);_&&(l=x.tickCoord+t*(E()/2+i),s[y]=Zs(Zs({},x),{},{isShow:!0}))},v=0;v<p;v++)m(v);return s}function yO(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,A=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Tt(l)||wf.isSsr)return jUe(i,typeof l=="number"&&Tt(l)?l:0);var f=[],h=o==="top"||o==="bottom"?"width":"height",p=A&&h==="width"?Yv(A,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(x,S){var E=Nn(u)?u(x.value,S):x.value;return h==="width"?BUe(Yv(E,{fontSize:e,letterSpacing:n}),p,d):Yv(E,{fontSize:e,letterSpacing:n})[h]},v=i.length>=2?bo(i[1].coordinate-i[0].coordinate):1,g=NUe(a,v,h);return l==="equidistantPreserveStart"?IUe(v,g,m,i,s):(l==="preserveStart"||l==="preserveStartEnd"?f=OUe(v,g,m,i,s,l==="preserveStartEnd"):f=DUe(v,g,m,i,s),f.filter(function(y){return y.isShow}))}var FUe=["viewBox"],LUe=["viewBox"],MUe=["ticks"];function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function T7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T7(Object(n),!0).forEach(function(r){bO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VB(t,e){if(t==null)return{};var n=RUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mee(r.key),r)}}function QUe(t,e,n){return e&&k7(t.prototype,e),n&&k7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HUe(t,e,n){return e=aS(e),zUe(t,Lee()?Reflect.construct(e,n||[],aS(t).constructor):e.apply(t,n))}function zUe(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VUe(t)}function VUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lee=function(){return!!t})()}function aS(t){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aS(t)}function $Ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xT(t,e)}function xT(t,e){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xT(t,e)}function bO(t,e,n){return e=Mee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mee(t){var e=KUe(t,"string");return Rg(e)=="symbol"?e:e+""}function KUe(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var w0=function(t){function e(n){var r;return UUe(this,e),r=HUe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return $Ue(e,t),QUe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=VB(r,FUe),o=this.props,l=o.viewBox,u=VB(o,LUe);return!Lm(a,l)||!Lm(s,u)||!Lm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,A=i.tickSize,d=i.mirror,f=i.tickMargin,h,p,m,v,g,y,x=d?-1:1,S=r.tickSize||A,E=Tt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=p=r.coordinate,v=s+ +!d*l,m=v-x*S,y=m-x*f,g=E;break;case"left":m=v=r.coordinate,p=a+ +!d*o,h=p-x*S,g=h-x*f,y=E;break;case"right":m=v=r.coordinate,p=a+ +d*o,h=p+x*S,g=h+x*f,y=E;break;default:h=p=r.coordinate,v=s+ +d*l,m=v+x*S,y=m+x*f,g=E;break}return{line:{x1:h,y1:m,x2:p,y2:v},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,A=r.axisLine,d=Va(Va(Va({},yn(this.props,!1)),yn(A,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);d=Va(Va({},d),{},{x1:i,y1:a+f*o,x2:i+s,y2:a+f*o})}else{var h=+(l==="left"&&!u||l==="right"&&u);d=Va(Va({},d),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return be.createElement("line",wm({},d,{className:Hn("recharts-cartesian-axis-line",jl(A,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,A=o.tick,d=o.tickFormatter,f=o.unit,h=yO(Va(Va({},this.props),{},{ticks:r}),i,a),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=yn(this.props,!1),g=yn(A,!1),y=Va(Va({},v),{},{fill:"none"},yn(l,!1)),x=h.map(function(S,E){var N=s.getTickLineCoord(S),_=N.line,B=N.tick,j=Va(Va(Va(Va({textAnchor:p,verticalAnchor:m},v),{},{stroke:"none",fill:u},g),B),{},{index:E,payload:S,visibleTicksCount:h.length,tickFormatter:d});return be.createElement(ir,wm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Vh(s.props,S,E)),l&&be.createElement("line",wm({},y,_,{className:Hn("recharts-cartesian-axis-tick-line",jl(l,"className"))})),A&&e.renderTickItem(A,j,"".concat(Nn(d)?d(S.value,E):S.value).concat(f||"")))});return be.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,A=i.hide;if(A)return null;var d=this.props,f=d.ticks,h=VB(d,MUe),p=f;return Nn(l)&&(p=f&&f.length>0?l(this.props):l(h)),s<=0||o<=0||!p||!p.length?null:be.createElement(ir,{className:Hn("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),ls.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=Hn(i.className,"recharts-cartesian-axis-tick-value");return be.isValidElement(r)?s=be.cloneElement(r,Va(Va({},i),{},{className:o})):Nn(r)?s=r(Va(Va({},i),{},{className:o})):s=be.createElement($h,wm({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(P.Component);bO(w0,"displayName","CartesianAxis");bO(w0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WUe=["x1","y1","x2","y2","key"],GUe=["offset"];function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function P7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P7(Object(n),!0).forEach(function(r){qUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qUe(t,e,n){return e=YUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YUe(t){var e=XUe(t,"string");return qh(e)=="symbol"?e:e+""}function XUe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function D7(t,e){if(t==null)return{};var n=JUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ZUe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return be.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Ree(t,e){var n;if(be.isValidElement(t))n=be.cloneElement(t,e);else if(Nn(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=D7(e,WUe),u=yn(l,!1);u.offset;var A=D7(u,GUe);n=be.createElement("line",ph({},A,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function e8e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=io(io({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return Ree(i,u)});return be.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function t8e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=io(io({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return Ree(i,u)});return be.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function n8e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var A=o.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==A[0]&&A.unshift(0);var d=A.map(function(f,h){var p=!A[h+1],m=p?i+s-f:A[h+1]-f;if(m<=0)return null;var v=h%e.length;return be.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function r8e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var A=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,h){return f-h});a!==A[0]&&A.unshift(0);var d=A.map(function(f,h){var p=!A[h+1],m=p?a+o-f:A[h+1]-f;if(m<=0)return null;var v=h%r.length;return be.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var i8e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return FZ(yO(io(io(io({},w0.defaultProps),r),{},{ticks:SA(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},a8e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return FZ(yO(io(io(io({},w0.defaultProps),r),{},{ticks:SA(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Tp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ed(t){var e,n,r,i,a,s,o=mO(),l=gO(),u=K6e(),A=io(io({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Tp.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Tp.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Tp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Tp.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Tp.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Tp.verticalFill,x:Tt(t.x)?t.x:u.left,y:Tt(t.y)?t.y:u.top,width:Tt(t.width)?t.width:u.width,height:Tt(t.height)?t.height:u.height}),d=A.x,f=A.y,h=A.width,p=A.height,m=A.syncWithTicks,v=A.horizontalValues,g=A.verticalValues,y=z6e(),x=V6e();if(!Tt(h)||h<=0||!Tt(p)||p<=0||!Tt(d)||d!==+d||!Tt(f)||f!==+f)return null;var S=A.verticalCoordinatesGenerator||i8e,E=A.horizontalCoordinatesGenerator||a8e,N=A.horizontalPoints,_=A.verticalPoints;if((!N||!N.length)&&Nn(E)){var B=v&&v.length,j=E({yAxis:x?io(io({},x),{},{ticks:B?v:x.ticks}):void 0,width:o,height:l,offset:u},B?!0:m);Gc(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qh(j),"]")),Array.isArray(j)&&(N=j)}if((!_||!_.length)&&Nn(S)){var D=g&&g.length,k=S({xAxis:y?io(io({},y),{},{ticks:D?g:y.ticks}):void 0,width:o,height:l,offset:u},D?!0:m);Gc(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qh(k),"]")),Array.isArray(k)&&(_=k)}return be.createElement("g",{className:"recharts-cartesian-grid"},be.createElement(ZUe,{fill:A.fill,fillOpacity:A.fillOpacity,x:A.x,y:A.y,width:A.width,height:A.height,ry:A.ry}),be.createElement(e8e,ph({},A,{offset:u,horizontalPoints:N,xAxis:y,yAxis:x})),be.createElement(t8e,ph({},A,{offset:u,verticalPoints:_,xAxis:y,yAxis:x})),be.createElement(n8e,ph({},A,{horizontalPoints:N})),be.createElement(r8e,ph({},A,{verticalPoints:_})))}ed.displayName="CartesianGrid";var s8e=["type","layout","connectNulls","ref"],o8e=["key"];function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function O7(t,e){if(t==null)return{};var n=l8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(this,arguments)}function F7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F7(Object(n),!0).forEach(function(r){zc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kp(t){return d8e(t)||A8e(t)||u8e(t)||c8e()}function c8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u8e(t,e){if(t){if(typeof t=="string")return wT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wT(t,e)}}function A8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d8e(t){if(Array.isArray(t))return wT(t)}function wT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qee(r.key),r)}}function h8e(t,e,n){return e&&L7(t.prototype,e),n&&L7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p8e(t,e,n){return e=sS(e),m8e(t,Uee()?Reflect.construct(e,n||[],sS(t).constructor):e.apply(t,n))}function m8e(t,e){if(e&&(Ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g8e(t)}function g8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uee=function(){return!!t})()}function sS(t){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sS(t)}function v8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CT(t,e)}function CT(t,e){return CT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CT(t,e)}function zc(t,e,n){return e=Qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qee(t){var e=y8e(t,"string");return Ug(e)=="symbol"?e:e+""}function y8e(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yh=function(t){function e(){var n;f8e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=p8e(this,e,[].concat(i)),zc(n,"state",{isAnimationFinished:!0,totalLength:0}),zc(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),zc(n,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(g,y){return g+y});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var A=Math.floor(s/u),d=s%u,f=o-s,h=[],p=0,m=0;p<l.length;m+=l[p],++p)if(m+l[p]>d){h=[].concat(kp(l.slice(0,p)),[d-m]);break}var v=h.length%2===0?[0,f]:[f];return[].concat(kp(e.repeat(l,A)),kp(h),v).map(function(g){return"".concat(g,"px")}).join(", ")}),zc(n,"id",fp("recharts-line-")),zc(n,"pathRef",function(s){n.mainCurve=s}),zc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),zc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return v8e(e,t),h8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,A=a.children,d=Il(A,vx);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:ya(m.payload,v)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return be.createElement(ir,h,d.map(function(p){return be.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,A=o.dataKey,d=yn(this.props,!1),f=yn(l,!0),h=u.map(function(m,v){var g=ml(ml(ml({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:A,payload:m.payload,points:u});return e.renderDotItem(l,g)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return be.createElement(ir,ny({className:"recharts-line-dots",key:"dots"},p),h)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,u=o.layout,A=o.connectNulls;o.ref;var d=O7(o,s8e),f=ml(ml(ml({},yn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:A});return be.createElement(jh,ny({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,A=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,p=s.animateNewValues,m=s.width,v=s.height,g=this.state,y=g.prevPoints,x=g.totalLength;return be.createElement(tu,{begin:A,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var E=S.t;if(y){var N=y.length/o.length,_=o.map(function(O,L){var H=Math.floor(L*N);if(y[H]){var q=y[H],Y=Ga(q.x,O.x),ee=Ga(q.y,O.y);return ml(ml({},O),{},{x:Y(E),y:ee(E)})}if(p){var K=Ga(m*2,O.x),te=Ga(v/2,O.y);return ml(ml({},O),{},{x:K(E),y:te(E)})}return ml(ml({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(_,r,i)}var B=Ga(0,x),j=B(E),D;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});D=a.getStrokeDasharray(j,x,k)}else D=a.generateSimpleStrokeDasharray(x,j);return a.renderCurveStatically(o,r,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,A=l.totalLength;return o&&s&&s.length&&(!u&&A>0||!Kh(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,A=i.yAxis,d=i.top,f=i.left,h=i.width,p=i.height,m=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=o.length===1,x=Hn("recharts-line",l),S=u&&u.allowDataOverflow,E=A&&A.allowDataOverflow,N=S||E,_=On(v)?this.id:v,B=(r=yn(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=B.r,D=j===void 0?3:j,k=B.strokeWidth,O=k===void 0?2:k,L=NX(s)?s:{},H=L.clipDot,q=H===void 0?!0:H,Y=D*2+O;return be.createElement(ir,{className:x},S||E?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(_)},be.createElement("rect",{x:S?f:f-h/2,y:E?d:d-p/2,width:S?h:h*2,height:E?p:p*2})),!q&&be.createElement("clipPath",{id:"clipPath-dots-".concat(_)},be.createElement("rect",{x:f-Y/2,y:d-Y/2,width:h+Y,height:p+Y}))):null,!y&&this.renderCurve(N,_),this.renderErrorBar(N,_),(y||s)&&this.renderDots(N,q,_),(!m||g)&&Ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(kp(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(kp(s),kp(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(be.isValidElement(r))a=be.cloneElement(r,i);else if(Nn(r))a=r(i);else{var s=i.key,o=O7(i,o8e),l=Hn("recharts-line-dot",typeof r!="boolean"?r.className:"");a=be.createElement(yx,ny({key:s},o,{className:l}))}return a}}])}(P.PureComponent);zc(Yh,"displayName","Line");zc(Yh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});zc(Yh,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,A=e.layout,d=l.map(function(f,h){var p=ya(f,s);return A==="horizontal"?{x:LC({axis:n,ticks:i,bandSize:o,entry:f,index:h}),y:On(p)?null:r.scale(p),value:p,payload:f}:{x:On(p)?null:n.scale(p),y:LC({axis:r,ticks:a,bandSize:o,entry:f,index:h}),value:p,payload:f}});return ml({points:d,layout:A},u)});var b8e=["layout","type","stroke","connectNulls","isRange","ref"],x8e=["key"],Hee;function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function zee(t,e){if(t==null)return{};var n=w8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function M7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M7(Object(n),!0).forEach(function(r){Nu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$ee(r.key),r)}}function S8e(t,e,n){return e&&R7(t.prototype,e),n&&R7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E8e(t,e,n){return e=oS(e),_8e(t,Vee()?Reflect.construct(e,n||[],oS(t).constructor):e.apply(t,n))}function _8e(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B8e(t)}function B8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vee=function(){return!!t})()}function oS(t){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oS(t)}function N8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ST(t,e)}function ST(t,e){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ST(t,e)}function Nu(t,e,n){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=j8e(t,"string");return Qg(e)=="symbol"?e:e+""}function j8e(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fl=function(t){function e(){var n;C8e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=E8e(this,e,[].concat(i)),Nu(n,"state",{isAnimationFinished:!0}),Nu(n,"id",fp("recharts-area-")),Nu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nn(s)&&s()}),Nu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nn(s)&&s()}),n}return N8e(e,t),S8e(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,A=l.points,d=l.dataKey,f=yn(this.props,!1),h=yn(u,!0),p=A.map(function(v,g){var y=vd(vd(vd({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:A});return e.renderDotItem(u,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return be.createElement(ir,mh({className:"recharts-area-dots"},m),p)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,A=r*Math.abs(l-u),d=kd(s.map(function(f){return f.y||0}));return Tt(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(kd(a.map(function(f){return f.y||0})),d)),Tt(d)?be.createElement("rect",{x:l<u?l:l-A,y:0,width:A,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,A=r*Math.abs(l-u),d=kd(s.map(function(f){return f.x||0}));return Tt(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(kd(a.map(function(f){return f.x||0})),d)),Tt(d)?be.createElement("rect",{x:0,y:l<u?l:l-A,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(A)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,u=o.type,A=o.stroke,d=o.connectNulls,f=o.isRange;o.ref;var h=zee(o,b8e);return be.createElement(ir,{clipPath:a?"url(#clipPath-".concat(s,")"):null},be.createElement(jh,mh({},yn(h,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),A!=="none"&&be.createElement(jh,mh({},yn(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),A!=="none"&&f&&be.createElement(jh,mh({},yn(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,A=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,p=this.state,m=p.prevPoints,v=p.prevBaseLine;return be.createElement(tu,{begin:A,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t;if(m){var x=m.length/o.length,S=o.map(function(B,j){var D=Math.floor(j*x);if(m[D]){var k=m[D],O=Ga(k.x,B.x),L=Ga(k.y,B.y);return vd(vd({},B),{},{x:O(y),y:L(y)})}return B}),E;if(Tt(l)&&typeof l=="number"){var N=Ga(v,l);E=N(y)}else if(On(l)||p0(l)){var _=Ga(v,0);E=_(y)}else E=l.map(function(B,j){var D=Math.floor(j*x);if(v[D]){var k=v[D],O=Ga(k.x,B.x),L=Ga(k.y,B.y);return vd(vd({},B),{},{x:O(y),y:L(y)})}return B});return a.renderAreaStatically(S,E,r,i)}return be.createElement(ir,null,be.createElement("defs",null,be.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),be.createElement(ir,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,u=this.state,A=u.prevPoints,d=u.prevBaseLine,f=u.totalLength;return l&&s&&s.length&&(!A&&f>0||!Kh(A,s)||!Kh(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.top,A=i.left,d=i.xAxis,f=i.yAxis,h=i.width,p=i.height,m=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=o.length===1,x=Hn("recharts-area",l),S=d&&d.allowDataOverflow,E=f&&f.allowDataOverflow,N=S||E,_=On(v)?this.id:v,B=(r=yn(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=B.r,D=j===void 0?3:j,k=B.strokeWidth,O=k===void 0?2:k,L=NX(s)?s:{},H=L.clipDot,q=H===void 0?!0:H,Y=D*2+O;return be.createElement(ir,{className:x},S||E?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(_)},be.createElement("rect",{x:S?A:A-h/2,y:E?u:u-p/2,width:S?h:h*2,height:E?p:p*2})),!q&&be.createElement("clipPath",{id:"clipPath-dots-".concat(_)},be.createElement("rect",{x:A-Y/2,y:u-Y/2,width:h+Y,height:p+Y}))):null,y?null:this.renderArea(N,_),(s||y)&&this.renderDots(N,q,_),(!m||g)&&Ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(P.PureComponent);Hee=Fl;Nu(Fl,"displayName","Area");Nu(Fl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Nu(Fl,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(Tt(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var A=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return o==="dataMin"?d:o==="dataMax"||A<0?A:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Nu(Fl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,f=t.offset,h=e.layout,p=u&&u.length,m=Hee.getBaseValue(e,n,r,i),v=h==="horizontal",g=!1,y=d.map(function(S,E){var N;p?N=u[A+E]:(N=ya(S,l),Array.isArray(N)?g=!0:N=[m,N]);var _=N[1]==null||p&&ya(S,l)==null;return v?{x:LC({axis:r,ticks:a,bandSize:o,entry:S,index:E}),y:_?null:i.scale(N[1]),value:N,payload:S}:{x:_?null:r.scale(N[1]),y:LC({axis:i,ticks:s,bandSize:o,entry:S,index:E}),value:N,payload:S}}),x;return p||g?x=y.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:E!=null&&S.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:S.y}}):x=v?i.scale(m):r.scale(m),vd({points:y,baseLine:x,layout:h,isRange:g},f)});Nu(Fl,"renderDotItem",function(t,e){var n;if(be.isValidElement(t))n=be.cloneElement(t,e);else if(Nn(t))n=t(e);else{var r=Hn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=zee(e,x8e);n=be.createElement(yx,mh({},a,{key:i,className:r}))}return n});function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function I8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gee(r.key),r)}}function k8e(t,e,n){return e&&T8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P8e(t,e,n){return e=lS(e),D8e(t,Kee()?Reflect.construct(e,n||[],lS(t).constructor):e.apply(t,n))}function D8e(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O8e(t)}function O8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kee=function(){return!!t})()}function lS(t){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lS(t)}function F8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ET(t,e)}function ET(t,e){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ET(t,e)}function Wee(t,e,n){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gee(t){var e=L8e(t,"string");return Hg(e)=="symbol"?e:e+""}function L8e(t,e){if(Hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_T.apply(this,arguments)}function M8e(t){var e=t.xAxisId,n=mO(),r=gO(),i=Nee(e);return i==null?null:P.createElement(w0,_T({},i,{className:Hn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return SA(s,!0)}}))}var Pi=function(t){function e(){return I8e(this,e),P8e(this,e,arguments)}return F8e(e,t),k8e(e,[{key:"render",value:function(){return P.createElement(M8e,this.props)}}])}(P.Component);Wee(Pi,"displayName","XAxis");Wee(Pi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function R8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xee(r.key),r)}}function Q8e(t,e,n){return e&&U8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H8e(t,e,n){return e=cS(e),z8e(t,qee()?Reflect.construct(e,n||[],cS(t).constructor):e.apply(t,n))}function z8e(t,e){if(e&&(zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V8e(t)}function V8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qee=function(){return!!t})()}function cS(t){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cS(t)}function $8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BT(t,e)}function BT(t,e){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BT(t,e)}function Yee(t,e,n){return e=Xee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=K8e(t,"string");return zg(e)=="symbol"?e:e+""}function K8e(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(this,arguments)}var W8e=function(e){var n=e.yAxisId,r=mO(),i=gO(),a=jee(n);return a==null?null:P.createElement(w0,NT({},a,{className:Hn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return SA(o,!0)}}))},Qi=function(t){function e(){return R8e(this,e),H8e(this,e,arguments)}return $8e(e,t),Q8e(e,[{key:"render",value:function(){return P.createElement(W8e,this.props)}}])}(P.Component);Yee(Qi,"displayName","YAxis");Yee(Qi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function U7(t){return X8e(t)||Y8e(t)||q8e(t)||G8e()}function G8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8e(t,e){if(t){if(typeof t=="string")return jT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jT(t,e)}}function Y8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X8e(t){if(Array.isArray(t))return jT(t)}function jT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var IT=function(e,n,r,i,a){var s=Il(e,bx),o=Il(e,BE),l=[].concat(U7(s),U7(o)),u=Il(e,jE),A="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(m,v){if(v.props[A]===r&&Mu(v.props,"extendDomain")&&Tt(v.props[d])){var g=v.props[d];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},f)),u.length){var h="".concat(d,"1"),p="".concat(d,"2");f=u.reduce(function(m,v){if(v.props[A]===r&&Mu(v.props,"extendDomain")&&Tt(v.props[h])&&Tt(v.props[p])){var g=v.props[h],y=v.props[p];return[Math.min(m[0],g,y),Math.max(m[1],g,y)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,v){return Tt(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},Jee={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,A){this.fn=l,this.context=u,this.once=A||!1}function a(l,u,A,d,f){if(typeof A!="function")throw new TypeError("The listener must be a function");var h=new i(A,d||l,f),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],A,d;if(this._eventsCount===0)return u;for(d in A=this._events)e.call(A,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},o.prototype.listeners=function(u){var A=n?n+u:u,d=this._events[A];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},o.prototype.listenerCount=function(u){var A=n?n+u:u,d=this._events[A];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,A,d,f,h,p){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,A),!0;case 3:return v.fn.call(v.context,A,d),!0;case 4:return v.fn.call(v.context,A,d,f),!0;case 5:return v.fn.call(v.context,A,d,f,h),!0;case 6:return v.fn.call(v.context,A,d,f,h,p),!0}for(x=1,y=new Array(g-1);x<g;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var S=v.length,E;for(x=0;x<S;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),g){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,A);break;case 3:v[x].fn.call(v[x].context,A,d);break;case 4:v[x].fn.call(v[x].context,A,d,f);break;default:if(!y)for(E=1,y=new Array(g-1);E<g;E++)y[E-1]=arguments[E];v[x].fn.apply(v[x].context,y)}}return!0},o.prototype.on=function(u,A,d){return a(this,u,A,d,!1)},o.prototype.once=function(u,A,d){return a(this,u,A,d,!0)},o.prototype.removeListener=function(u,A,d,f){var h=n?n+u:u;if(!this._events[h])return this;if(!A)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===A&&(!f||p.once)&&(!d||p.context===d)&&s(this,h);else{for(var m=0,v=[],g=p.length;m<g;m++)(p[m].fn!==A||f&&!p[m].once||d&&p[m].context!==d)&&v.push(p[m]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var A;return u?(A=n?n+u:u,this._events[A]&&s(this,A)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Jee);var J8e=Jee.exports;const Z8e=Rr(J8e);var $B=new Z8e,KB="recharts.syncMouseEvents";function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function eQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zee(r.key),r)}}function nQe(t,e,n){return e&&tQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WB(t,e,n){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=rQe(t,"string");return Ib(e)=="symbol"?e:e+""}function rQe(t,e){if(Ib(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iQe=function(){function t(){eQe(this,t),WB(this,"activeIndex",0),WB(this,"coordinateList",[]),WB(this,"layout","horizontal")}return nQe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,A=n.offset,d=A===void 0?null:A,f=n.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,A=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,f=s+this.offset.top+o/2+A;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function aQe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Tt(r)&&Tt(i))return!0}return!1}function sQe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ete(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=di(e,n,r,i),o=di(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function oQe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,A=e.outerRadius,d=e.angle,f=di(o,l,u,d),h=di(o,l,A,d);r=f.x,i=f.y,a=h.x,s=h.y}else return ete(e);return[{x:r,y:i},{x:a,y:s}]}function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function Q7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(n),!0).forEach(function(r){lQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lQe(t,e,n){return e=cQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cQe(t){var e=uQe(t,"string");return Tb(e)=="symbol"?e:e+""}function uQe(t,e){if(Tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AQe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,A=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!a||!s||f!=="ScatterChart"&&i!=="axis")return null;var p,m=jh;if(f==="ScatterChart")p=s,m=yLe;else if(f==="BarChart")p=sQe(d,s,l,A),m=AO;else if(d==="radial"){var v=ete(s),g=v.cx,y=v.cy,x=v.radius,S=v.startAngle,E=v.endAngle;p={cx:g,cy:y,startAngle:S,endAngle:E,innerRadius:x,outerRadius:x},m=WZ}else p={points:oQe(d,s,l)},m=jh;var N=P1(P1(P1(P1({stroke:"#ccc",pointerEvents:"none"},l),p),yn(h,!1)),{},{payload:o,payloadIndex:u,className:Hn("recharts-tooltip-cursor",h.className)});return P.isValidElement(h)?P.cloneElement(h,N):P.createElement(m,N)}var dQe=["item"],fQe=["children","className","width","height","style","compact","title","desc"];function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function H7(t,e){return mQe(t)||pQe(t,e)||nte(t,e)||hQe()}function hQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function mQe(t){if(Array.isArray(t))return t}function z7(t,e){if(t==null)return{};var n=gQe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rte(r.key),r)}}function bQe(t,e,n){return e&&yQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xQe(t,e,n){return e=uS(e),wQe(t,tte()?Reflect.construct(e,n||[],uS(t).constructor):e.apply(t,n))}function wQe(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CQe(t)}function CQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tte=function(){return!!t})()}function uS(t){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uS(t)}function SQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TT(t,e)}function TT(t,e){return TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TT(t,e)}function $g(t){return BQe(t)||_Qe(t)||nte(t)||EQe()}function EQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(t,e){if(t){if(typeof t=="string")return kT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kT(t,e)}}function _Qe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BQe(t){if(Array.isArray(t))return kT(t)}function kT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(n),!0).forEach(function(r){_n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _n(t,e,n){return e=rte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=NQe(t,"string");return Vg(e)=="symbol"?e:e+""}function NQe(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jQe={xAxis:["bottom","top"],yAxis:["left","right"]},IQe={width:"100%",height:"100%"},ite={x:0,y:0};function D1(t){return t}var TQe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},kQe=function(e,n,r,i){var a=n.find(function(A){return A&&A.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return ot(ot(ot({},i),di(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return ot(ot(ot({},i),di(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return ite},IE=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat($g(o),$g(u)):o},[]);return s.length>0?s:e&&e.length&&Tt(i)&&Tt(a)?e.slice(i,a+1):[]};function ate(t){return t==="number"?[0,"auto"]:void 0}var PT=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=IE(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,u){var A,d=(A=u.props.data)!==null&&A!==void 0?A:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var h=d===void 0?o:d;f=cC(h,s.dataKey,i)}else f=d&&d[r]||o[r];return f?[].concat($g(l),[QZ(u,f)]):l},[])},$7=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=TQe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,A=HDe(s,o,u,l);if(A>=0&&u){var d=u[A]&&u[A].value,f=PT(e,n,A,d),h=kQe(r,o,A,a);return{activeTooltipIndex:A,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},PQe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.layout,d=e.children,f=e.stackOffset,h=OZ(A,a);return r.reduce(function(p,m){var v,g=m.type.defaultProps!==void 0?ot(ot({},m.type.defaultProps),m.props):m.props,y=g.type,x=g.dataKey,S=g.allowDataOverflow,E=g.allowDuplicatedCategory,N=g.scale,_=g.ticks,B=g.includeHidden,j=g[s];if(p[j])return p;var D=IE(e.data,{graphicalItems:i.filter(function(M){var $,J=s in M.props?M.props[s]:($=M.type.defaultProps)===null||$===void 0?void 0:$[s];return J===j}),dataStartIndex:l,dataEndIndex:u}),k=D.length,O,L,H;aQe(g.domain,S,y)&&(O=KI(g.domain,null,S),h&&(y==="number"||N!=="auto")&&(H=Jv(D,x,"category")));var q=ate(y);if(!O||O.length===0){var Y,ee=(Y=g.domain)!==null&&Y!==void 0?Y:q;if(x){if(O=Jv(D,x,y),y==="category"&&h){var K=kwe(O);E&&K?(L=O,O=YC(0,k)):E||(O=AQ(ee,O,m).reduce(function(M,$){return M.indexOf($)>=0?M:[].concat($g(M),[$])},[]))}else if(y==="category")E?O=O.filter(function(M){return M!==""&&!On(M)}):O=AQ(ee,O,m).reduce(function(M,$){return M.indexOf($)>=0||$===""||On($)?M:[].concat($g(M),[$])},[]);else if(y==="number"){var te=WDe(D,i.filter(function(M){var $,J,ne=s in M.props?M.props[s]:($=M.type.defaultProps)===null||$===void 0?void 0:$[s],he="hide"in M.props?M.props.hide:(J=M.type.defaultProps)===null||J===void 0?void 0:J.hide;return ne===j&&(B||!he)}),x,a,A);te&&(O=te)}h&&(y==="number"||N!=="auto")&&(H=Jv(D,x,"category"))}else h?O=YC(0,k):o&&o[j]&&o[j].hasStack&&y==="number"?O=f==="expand"?[0,1]:UZ(o[j].stackGroups,l,u):O=DZ(D,i.filter(function(M){var $=s in M.props?M.props[s]:M.type.defaultProps[s],J="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return $===j&&(B||!J)}),y,A,!0);if(y==="number")O=IT(d,O,j,a,_),ee&&(O=KI(ee,O,S));else if(y==="category"&&ee){var le=ee,se=O.every(function(M){return le.indexOf(M)>=0});se&&(O=le)}}return ot(ot({},p),{},_n({},j,ot(ot({},g),{},{axisType:a,domain:O,categoricalDomain:H,duplicateDomain:L,originalDomain:(v=g.domain)!==null&&v!==void 0?v:q,isCategorical:h,layout:A})))},{})},DQe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.layout,d=e.children,f=IE(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=f.length,p=OZ(A,a),m=-1;return r.reduce(function(v,g){var y=g.type.defaultProps!==void 0?ot(ot({},g.type.defaultProps),g.props):g.props,x=y[s],S=ate("number");if(!v[x]){m++;var E;return p?E=YC(0,h):o&&o[x]&&o[x].hasStack?(E=UZ(o[x].stackGroups,l,u),E=IT(d,E,x,a)):(E=KI(S,DZ(f,r.filter(function(N){var _,B,j=s in N.props?N.props[s]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[s],D="hide"in N.props?N.props.hide:(B=N.type.defaultProps)===null||B===void 0?void 0:B.hide;return j===x&&!D}),"number",A),i.defaultProps.allowDataOverflow),E=IT(d,E,x,a)),ot(ot({},v),{},_n({},x,ot(ot({axisType:a},i.defaultProps),{},{hide:!0,orientation:jl(jQe,"".concat(a,".").concat(m%2),null),domain:E,originalDomain:S,isCategorical:p,layout:A})))}return v},{})},OQe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,A=e.children,d="".concat(i,"Id"),f=Il(A,a),h={};return f&&f.length?h=PQe(e,{axes:f,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(h=DQe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),h},FQe=function(e){var n=Bd(e),r=SA(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:M3(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:MC(n,r)}},K7=function(e){var n=e.children,r=e.defaultShowTooltip,i=bl(n,Dg),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},LQe=function(e){return!e||!e.length?!1:e.some(function(n){var r=jA(n&&n.type);return r&&r.indexOf("Bar")>=0})},W7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},MQe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,A=r.height,d=r.children,f=r.margin||{},h=bl(d,Dg),p=bl(d,qc),m=Object.keys(l).reduce(function(E,N){var _=l[N],B=_.orientation;return!_.mirror&&!_.hide?ot(ot({},E),{},_n({},B,E[B]+_.width)):E},{left:f.left||0,right:f.right||0}),v=Object.keys(s).reduce(function(E,N){var _=s[N],B=_.orientation;return!_.mirror&&!_.hide?ot(ot({},E),{},_n({},B,jl(E,"".concat(B))+_.height)):E},{top:f.top||0,bottom:f.bottom||0}),g=ot(ot({},v),m),y=g.bottom;h&&(g.bottom+=h.props.height||Dg.defaultProps.height),p&&n&&(g=$De(g,i,r,n));var x=u-g.left-g.right,S=A-g.top-g.bottom;return ot(ot({brushBottom:y},g),{},{width:Math.max(x,0),height:Math.max(S,0)})},RQe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},TE=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,A=e.formatAxisMap,d=e.defaultProps,f=function(g,y){var x=y.graphicalItems,S=y.stackGroups,E=y.offset,N=y.updateId,_=y.dataStartIndex,B=y.dataEndIndex,j=g.barSize,D=g.layout,k=g.barGap,O=g.barCategoryGap,L=g.maxBarSize,H=W7(D),q=H.numericAxisName,Y=H.cateAxisName,ee=LQe(x),K=[];return x.forEach(function(te,le){var se=IE(g.data,{graphicalItems:[te],dataStartIndex:_,dataEndIndex:B}),M=te.type.defaultProps!==void 0?ot(ot({},te.type.defaultProps),te.props):te.props,$=M.dataKey,J=M.maxBarSize,ne=M["".concat(q,"Id")],he=M["".concat(Y,"Id")],we={},Se=l.reduce(function(pt,ct){var jt=y["".concat(ct.axisType,"Map")],Xt=M["".concat(ct.axisType,"Id")];jt&&jt[Xt]||ct.axisType==="zAxis"||Gh();var Zt=jt[Xt];return ot(ot({},pt),{},_n(_n({},ct.axisType,Zt),"".concat(ct.axisType,"Ticks"),SA(Zt)))},we),Ae=Se[Y],ge=Se["".concat(Y,"Ticks")],xe=S&&S[ne]&&S[ne].hasStack&&n3e(te,S[ne].stackGroups),ae=jA(te.type).indexOf("Bar")>=0,Ve=MC(Ae,ge),Oe=[],fe=ee&&zDe({barSize:j,stackGroups:S,totalSize:RQe(Se,Y)});if(ae){var $e,ft,vt=On(J)?L:J,Ye=($e=(ft=MC(Ae,ge,!0))!==null&&ft!==void 0?ft:vt)!==null&&$e!==void 0?$e:0;Oe=VDe({barGap:k,barCategoryGap:O,bandSize:Ye!==Ve?Ye:Ve,sizeList:fe[he],maxBarSize:vt}),Ye!==Ve&&(Oe=Oe.map(function(pt){return ot(ot({},pt),{},{position:ot(ot({},pt.position),{},{offset:pt.position.offset-Ye/2})})}))}var Dt=te&&te.type&&te.type.getComposedData;Dt&&K.push({props:ot(ot({},Dt(ot(ot({},Se),{},{displayedData:se,props:g,dataKey:$,item:te,bandSize:Ve,barPosition:Oe,offset:E,stackedData:xe,layout:D,dataStartIndex:_,dataEndIndex:B}))),{},_n(_n(_n({key:te.key||"item-".concat(le)},q,Se[q]),Y,Se[Y]),"animationId",N)),childIndex:Vwe(te,g.children),item:te})}),K},h=function(g,y){var x=g.props,S=g.dataStartIndex,E=g.dataEndIndex,N=g.updateId;if(!aU({props:x}))return null;var _=x.children,B=x.layout,j=x.stackOffset,D=x.data,k=x.reverseStackOrder,O=W7(B),L=O.numericAxisName,H=O.cateAxisName,q=Il(_,r),Y=e3e(D,q,"".concat(L,"Id"),"".concat(H,"Id"),j,k),ee=l.reduce(function(M,$){var J="".concat($.axisType,"Map");return ot(ot({},M),{},_n({},J,OQe(x,ot(ot({},$),{},{graphicalItems:q,stackGroups:$.axisType===L&&Y,dataStartIndex:S,dataEndIndex:E}))))},{}),K=MQe(ot(ot({},ee),{},{props:x,graphicalItems:q}),y==null?void 0:y.legendBBox);Object.keys(ee).forEach(function(M){ee[M]=A(x,ee[M],K,M.replace("Map",""),n)});var te=ee["".concat(H,"Map")],le=FQe(te),se=f(x,ot(ot({},ee),{},{dataStartIndex:S,dataEndIndex:E,updateId:N,graphicalItems:q,stackGroups:Y,offset:K}));return ot(ot({formattedGraphicalItems:se,graphicalItems:q,offset:K,stackGroups:Y},le),ee)},p=function(v){function g(y){var x,S,E;return vQe(this,g),E=xQe(this,g,[y]),_n(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_n(E,"accessibilityManager",new iQe),_n(E,"handleLegendBBoxUpdate",function(N){if(N){var _=E.state,B=_.dataStartIndex,j=_.dataEndIndex,D=_.updateId;E.setState(ot({legendBBox:N},h({props:E.props,dataStartIndex:B,dataEndIndex:j,updateId:D},ot(ot({},E.state),{},{legendBBox:N}))))}}),_n(E,"handleReceiveSyncEvent",function(N,_,B){if(E.props.syncId===N){if(B===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),_n(E,"handleBrushChange",function(N){var _=N.startIndex,B=N.endIndex;if(_!==E.state.dataStartIndex||B!==E.state.dataEndIndex){var j=E.state.updateId;E.setState(function(){return ot({dataStartIndex:_,dataEndIndex:B},h({props:E.props,dataStartIndex:_,dataEndIndex:B,updateId:j},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:B})}}),_n(E,"handleMouseEnter",function(N){var _=E.getMouseInfo(N);if(_){var B=ot(ot({},_),{},{isTooltipActive:!0});E.setState(B),E.triggerSyncEvent(B);var j=E.props.onMouseEnter;Nn(j)&&j(B,N)}}),_n(E,"triggeredAfterMouseMove",function(N){var _=E.getMouseInfo(N),B=_?ot(ot({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(B),E.triggerSyncEvent(B);var j=E.props.onMouseMove;Nn(j)&&j(B,N)}),_n(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),_n(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),_n(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),_n(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var B=E.props.onMouseLeave;Nn(B)&&B(_,N)}),_n(E,"handleOuterEvent",function(N){var _=zwe(N),B=jl(E.props,"".concat(_));if(_&&Nn(B)){var j,D;/.*touch.*/i.test(_)?D=E.getMouseInfo(N.changedTouches[0]):D=E.getMouseInfo(N),B((j=D)!==null&&j!==void 0?j:{},N)}}),_n(E,"handleClick",function(N){var _=E.getMouseInfo(N);if(_){var B=ot(ot({},_),{},{isTooltipActive:!0});E.setState(B),E.triggerSyncEvent(B);var j=E.props.onClick;Nn(j)&&j(B,N)}}),_n(E,"handleMouseDown",function(N){var _=E.props.onMouseDown;if(Nn(_)){var B=E.getMouseInfo(N);_(B,N)}}),_n(E,"handleMouseUp",function(N){var _=E.props.onMouseUp;if(Nn(_)){var B=E.getMouseInfo(N);_(B,N)}}),_n(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),_n(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),_n(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),_n(E,"handleDoubleClick",function(N){var _=E.props.onDoubleClick;if(Nn(_)){var B=E.getMouseInfo(N);_(B,N)}}),_n(E,"handleContextMenu",function(N){var _=E.props.onContextMenu;if(Nn(_)){var B=E.getMouseInfo(N);_(B,N)}}),_n(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&$B.emit(KB,E.props.syncId,N,E.eventEmitterSymbol)}),_n(E,"applySyncEvent",function(N){var _=E.props,B=_.layout,j=_.syncMethod,D=E.state.updateId,k=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(ot({dataStartIndex:k,dataEndIndex:O},h({props:E.props,dataStartIndex:k,dataEndIndex:O,updateId:D},E.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,H=N.chartY,q=N.activeTooltipIndex,Y=E.state,ee=Y.offset,K=Y.tooltipTicks;if(!ee)return;if(typeof j=="function")q=j(K,N);else if(j==="value"){q=-1;for(var te=0;te<K.length;te++)if(K[te].value===N.activeLabel){q=te;break}}var le=ot(ot({},ee),{},{x:ee.left,y:ee.top}),se=Math.min(L,le.x+le.width),M=Math.min(H,le.y+le.height),$=K[q]&&K[q].value,J=PT(E.state,E.props.data,q),ne=K[q]?{x:B==="horizontal"?K[q].coordinate:se,y:B==="horizontal"?M:K[q].coordinate}:ite;E.setState(ot(ot({},N),{},{activeLabel:$,activeCoordinate:ne,activePayload:J,activeTooltipIndex:q}))}else E.setState(N)}),_n(E,"renderCursor",function(N){var _,B=E.state,j=B.isTooltipActive,D=B.activeCoordinate,k=B.activePayload,O=B.offset,L=B.activeTooltipIndex,H=B.tooltipAxisBandSize,q=E.getTooltipEventType(),Y=(_=N.props.active)!==null&&_!==void 0?_:j,ee=E.props.layout,K=N.key||"_recharts-cursor";return be.createElement(AQe,{key:K,activeCoordinate:D,activePayload:k,activeTooltipIndex:L,chartName:n,element:N,isActive:Y,layout:ee,offset:O,tooltipAxisBandSize:H,tooltipEventType:q})}),_n(E,"renderPolarAxis",function(N,_,B){var j=jl(N,"type.axisType"),D=jl(E.state,"".concat(j,"Map")),k=N.type.defaultProps,O=k!==void 0?ot(ot({},k),N.props):N.props,L=D&&D[O["".concat(j,"Id")]];return P.cloneElement(N,ot(ot({},L),{},{className:Hn(j,L.className),key:N.key||"".concat(_,"-").concat(B),ticks:SA(L,!0)}))}),_n(E,"renderPolarGrid",function(N){var _=N.props,B=_.radialLines,j=_.polarAngles,D=_.polarRadius,k=E.state,O=k.radiusAxisMap,L=k.angleAxisMap,H=Bd(O),q=Bd(L),Y=q.cx,ee=q.cy,K=q.innerRadius,te=q.outerRadius;return P.cloneElement(N,{polarAngles:Array.isArray(j)?j:SA(q,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(D)?D:SA(H,!0).map(function(le){return le.coordinate}),cx:Y,cy:ee,innerRadius:K,outerRadius:te,key:N.key||"polar-grid",radialLines:B})}),_n(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,_=E.props,B=_.children,j=_.width,D=_.height,k=E.props.margin||{},O=j-(k.left||0)-(k.right||0),L=kZ({children:B,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!L)return null;var H=L.item,q=z7(L,dQe);return P.cloneElement(H,ot(ot({},q),{},{chartWidth:j,chartHeight:D,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),_n(E,"renderTooltip",function(){var N,_=E.props,B=_.children,j=_.accessibilityLayer,D=bl(B,Dr);if(!D)return null;var k=E.state,O=k.isTooltipActive,L=k.activeCoordinate,H=k.activePayload,q=k.activeLabel,Y=k.offset,ee=(N=D.props.active)!==null&&N!==void 0?N:O;return P.cloneElement(D,{viewBox:ot(ot({},Y),{},{x:Y.left,y:Y.top}),active:ee,label:q,payload:ee?H:[],coordinate:L,accessibilityLayer:j})}),_n(E,"renderBrush",function(N){var _=E.props,B=_.margin,j=_.data,D=E.state,k=D.offset,O=D.dataStartIndex,L=D.dataEndIndex,H=D.updateId;return P.cloneElement(N,{key:N.key||"_recharts-brush",onChange:j1(E.handleBrushChange,N.props.onChange),data:j,x:Tt(N.props.x)?N.props.x:k.left,y:Tt(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(B.bottom||0),width:Tt(N.props.width)?N.props.width:k.width,startIndex:O,endIndex:L,updateId:"brush-".concat(H)})}),_n(E,"renderReferenceElement",function(N,_,B){if(!N)return null;var j=E,D=j.clipPathId,k=E.state,O=k.xAxisMap,L=k.yAxisMap,H=k.offset,q=N.type.defaultProps||{},Y=N.props,ee=Y.xAxisId,K=ee===void 0?q.xAxisId:ee,te=Y.yAxisId,le=te===void 0?q.yAxisId:te;return P.cloneElement(N,{key:N.key||"".concat(_,"-").concat(B),xAxis:O[K],yAxis:L[le],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:D})}),_n(E,"renderActivePoints",function(N){var _=N.item,B=N.activePoint,j=N.basePoint,D=N.childIndex,k=N.isRange,O=[],L=_.props.key,H=_.item.type.defaultProps!==void 0?ot(ot({},_.item.type.defaultProps),_.item.props):_.item.props,q=H.activeDot,Y=H.dataKey,ee=ot(ot({index:D,dataKey:Y,cx:B.x,cy:B.y,r:4,fill:uO(_.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},yn(q,!1)),uC(q));return O.push(g.renderActiveDot(q,ee,"".concat(L,"-activePoint-").concat(D))),j?O.push(g.renderActiveDot(q,ot(ot({},ee),{},{cx:j.x,cy:j.y}),"".concat(L,"-basePoint-").concat(D))):k&&O.push(null),O}),_n(E,"renderGraphicChild",function(N,_,B){var j=E.filterFormatItem(N,_,B);if(!j)return null;var D=E.getTooltipEventType(),k=E.state,O=k.isTooltipActive,L=k.tooltipAxis,H=k.activeTooltipIndex,q=k.activeLabel,Y=E.props.children,ee=bl(Y,Dr),K=j.props,te=K.points,le=K.isRange,se=K.baseLine,M=j.item.type.defaultProps!==void 0?ot(ot({},j.item.type.defaultProps),j.item.props):j.item.props,$=M.activeDot,J=M.hide,ne=M.activeBar,he=M.activeShape,we=!!(!J&&O&&ee&&($||ne||he)),Se={};D!=="axis"&&ee&&ee.props.trigger==="click"?Se={onClick:j1(E.handleItemMouseEnter,N.props.onClick)}:D!=="axis"&&(Se={onMouseLeave:j1(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:j1(E.handleItemMouseEnter,N.props.onMouseEnter)});var Ae=P.cloneElement(N,ot(ot({},j.props),Se));function ge(ct){return typeof L.dataKey=="function"?L.dataKey(ct.payload):null}if(we)if(H>=0){var xe,ae;if(L.dataKey&&!L.allowDuplicatedCategory){var Ve=typeof L.dataKey=="function"?ge:"payload.".concat(L.dataKey.toString());xe=cC(te,Ve,q),ae=le&&se&&cC(se,Ve,q)}else xe=te==null?void 0:te[H],ae=le&&se&&se[H];if(he||ne){var Oe=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[P.cloneElement(N,ot(ot(ot({},j.props),Se),{},{activeIndex:Oe})),null,null]}if(!On(xe))return[Ae].concat($g(E.renderActivePoints({item:j,activePoint:xe,basePoint:ae,childIndex:H,isRange:le})))}else{var fe,$e=(fe=E.getItemByXY(E.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Ae},ft=$e.graphicalItem,vt=ft.item,Ye=vt===void 0?N:vt,Dt=ft.childIndex,pt=ot(ot(ot({},j.props),Se),{},{activeIndex:Dt});return[P.cloneElement(Ye,pt),null,null]}return le?[Ae,null,null]:[Ae,null]}),_n(E,"renderCustomized",function(N,_,B){return P.cloneElement(N,ot(ot({key:"recharts-customized-".concat(B)},E.props),E.state))}),_n(E,"renderMap",{CartesianGrid:{handler:D1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:D1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:D1},YAxis:{handler:D1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:fp("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=TJ(E.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return SQe(g,v),bQe(g,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,E=x.data,N=x.height,_=x.layout,B=bl(S,Dr);if(B){var j=B.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,k=PT(this.state,E,j,D),O=this.state.tooltipTicks[j].coordinate,L=(this.state.offset.top+N)/2,H=_==="horizontal",q=H?{x:O,y:L}:{y:O,x:L},Y=this.state.formattedGraphicalItems.find(function(K){var te=K.item;return te.type.name==="Scatter"});Y&&(q=ot(ot({},q),Y.props.points[j].tooltipPosition),k=Y.props.points[j].tooltipPayload);var ee={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:D,activePayload:k,activeCoordinate:q};this.setState(ee),this.renderCursor(B),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(x){oI([bl(x.children,Dr)],[bl(this.props.children,Dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=bl(this.props.children,Dr);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),N=mIe(E),_={chartX:Math.round(x.pageX-N.left),chartY:Math.round(x.pageY-N.top)},B=E.width/S.offsetWidth||1,j=this.inRange(_.chartX,_.chartY,B);if(!j)return null;var D=this.state,k=D.xAxisMap,O=D.yAxisMap,L=this.getTooltipEventType(),H=$7(this.state,this.props.data,this.props.layout,j);if(L!=="axis"&&k&&O){var q=Bd(k).scale,Y=Bd(O).scale,ee=q&&q.invert?q.invert(_.chartX):null,K=Y&&Y.invert?Y.invert(_.chartY):null;return ot(ot({},_),{},{xValue:ee,yValue:K},H)}return H?ot(ot({},_),H):null}},{key:"inRange",value:function(x,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=x/E,B=S/E;if(N==="horizontal"||N==="vertical"){var j=this.state.offset,D=_>=j.left&&_<=j.left+j.width&&B>=j.top&&B<=j.top+j.height;return D?{x:_,y:B}:null}var k=this.state,O=k.angleAxisMap,L=k.radiusAxisMap;if(O&&L){var H=Bd(O);return hQ({x:_,y:B},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),E=bl(x,Dr),N={};E&&S==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=uC(this.props,this.handleOuterEvent);return ot(ot({},_),N)}},{key:"addListener",value:function(){$B.on(KB,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$B.removeListener(KB,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,E){for(var N=this.state.formattedGraphicalItems,_=0,B=N.length;_<B;_++){var j=N[_];if(j.item===x||j.props.key===x.key||S===jA(j.item.type)&&E===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,E=S.left,N=S.top,_=S.height,B=S.width;return be.createElement("defs",null,be.createElement("clipPath",{id:x},be.createElement("rect",{x:E,y:N,height:_,width:B})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,E){var N=H7(E,2),_=N[0],B=N[1];return ot(ot({},S),{},_n({},_,B.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,E){var N=H7(E,2),_=N[0],B=N[1];return ot(ot({},S),{},_n({},_,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,E=S.formattedGraphicalItems,N=S.activeItem;if(E&&E.length)for(var _=0,B=E.length;_<B;_++){var j=E[_],D=j.props,k=j.item,O=k.type.defaultProps!==void 0?ot(ot({},k.type.defaultProps),k.props):k.props,L=jA(k.type);if(L==="Bar"){var H=(D.data||[]).find(function(K){return ZFe(x,K)});if(H)return{graphicalItem:j,payload:H}}else if(L==="RadialBar"){var q=(D.data||[]).find(function(K){return hQ(x,K)});if(q)return{graphicalItem:j,payload:q}}else if(CE(j,N)||SE(j,N)||Eb(j,N)){var Y=QMe({graphicalItem:j,activeTooltipItem:N,itemData:O.data}),ee=O.activeIndex===void 0?Y:O.activeIndex;return{graphicalItem:ot(ot({},j),{},{childIndex:ee}),payload:Eb(j,N)?O.data[Y]:j.props.data[Y]}}}return null}},{key:"render",value:function(){var x=this;if(!aU(this))return null;var S=this.props,E=S.children,N=S.className,_=S.width,B=S.height,j=S.style,D=S.compact,k=S.title,O=S.desc,L=z7(S,fQe),H=yn(L,!1);if(D)return be.createElement(w7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement(cI,Cm({},H,{width:_,height:B,title:k,desc:O}),this.renderClipPath(),oU(E,this.renderMap)));if(this.props.accessibilityLayer){var q,Y;H.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,H.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",H.onKeyDown=function(K){x.accessibilityManager.keyboardEvent(K)},H.onFocus=function(){x.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return be.createElement(w7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement("div",Cm({className:Hn("recharts-wrapper",N),style:ot({position:"relative",cursor:"default",width:_,height:B},j)},ee,{ref:function(te){x.container=te}}),be.createElement(cI,Cm({},H,{width:_,height:B,title:k,desc:O,style:IQe}),this.renderClipPath(),oU(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);_n(p,"displayName",n),_n(p,"defaultProps",ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),_n(p,"getDerivedStateFromProps",function(v,g){var y=v.dataKey,x=v.data,S=v.children,E=v.width,N=v.height,_=v.layout,B=v.stackOffset,j=v.margin,D=g.dataStartIndex,k=g.dataEndIndex;if(g.updateId===void 0){var O=K7(v);return ot(ot(ot({},O),{},{updateId:0},h(ot(ot({props:v},O),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:x,prevWidth:E,prevHeight:N,prevLayout:_,prevStackOffset:B,prevMargin:j,prevChildren:S})}if(y!==g.prevDataKey||x!==g.prevData||E!==g.prevWidth||N!==g.prevHeight||_!==g.prevLayout||B!==g.prevStackOffset||!Lm(j,g.prevMargin)){var L=K7(v),H={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},q=ot(ot({},$7(g,x,_)),{},{updateId:g.updateId+1}),Y=ot(ot(ot({},L),H),q);return ot(ot(ot({},Y),h(ot({props:v},Y),g)),{},{prevDataKey:y,prevData:x,prevWidth:E,prevHeight:N,prevLayout:_,prevStackOffset:B,prevMargin:j,prevChildren:S})}if(!oI(S,g.prevChildren)){var ee,K,te,le,se=bl(S,Dg),M=se&&(ee=(K=se.props)===null||K===void 0?void 0:K.startIndex)!==null&&ee!==void 0?ee:D,$=se&&(te=(le=se.props)===null||le===void 0?void 0:le.endIndex)!==null&&te!==void 0?te:k,J=M!==D||$!==k,ne=!On(x),he=ne&&!J?g.updateId:g.updateId+1;return ot(ot({updateId:he},h(ot(ot({props:v},g),{},{updateId:he,dataStartIndex:M,dataEndIndex:$}),g)),{},{prevChildren:S,dataStartIndex:M,dataEndIndex:$})}return null}),_n(p,"renderActiveDot",function(v,g,y){var x;return P.isValidElement(v)?x=P.cloneElement(v,g):Nn(v)?x=v(g):x=be.createElement(yx,g),be.createElement(ir,{className:"recharts-active-dot",key:y},x)});var m=P.forwardRef(function(g,y){return be.createElement(p,Cm({},g,{ref:y}))});return m.displayName=p.displayName,m},UQe=TE({chartName:"LineChart",GraphicalChild:Yh,axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:Qi}],formatAxisMap:dO}),Ll=TE({chartName:"BarChart",GraphicalChild:Ja,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:Qi}],formatAxisMap:dO}),DT=TE({chartName:"PieChart",GraphicalChild:nu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:wE},{axisType:"radiusAxis",AxisComp:bE}],formatAxisMap:d3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),xx=TE({chartName:"AreaChart",GraphicalChild:Fl,axisComponents:[{axisType:"xAxis",AxisComp:Pi},{axisType:"yAxis",AxisComp:Qi}],formatAxisMap:dO});const Pr={PREGNANT:{key:"PREGNANT",Icon:Pl,color:"text-pink-400",label:"Preada"},IN_SERVICE_CONFIRMED:{key:"IN_SERVICE_CONFIRMED",Icon:_pe,color:"text-pink-500",label:"Servicio Visto"},IN_SERVICE:{key:"IN_SERVICE",Icon:I5,color:"text-red-400",label:"En Monta"},EMPTY:{key:"EMPTY",Icon:Ape,color:"text-zinc-500",label:"Vaca"},SIRE_IN_SERVICE:{key:"SIRE_IN_SERVICE",Icon:Rpe,color:"text-blue-400",label:"Reproductor Activo"},MILKING:{key:"MILKING",Icon:Xpe,color:"text-blue-300",label:"En Ordeo"},DRYING_OFF:{key:"DRYING_OFF",Icon:cp,color:"text-yellow-400",label:"Secando"},DRY:{key:"DRY",Icon:yc,color:"text-zinc-400",label:"Seca"}},Yc=t=>{if(!t||t==="N/A")return-1;const e=new Date(t+"T00:00:00Z"),n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));if(isNaN(e.getTime()))return-1;const i=r.getTime()-e.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},lu=t=>{const e=Yc(t);if(e<0)return"N/A";if(e<=60)return`${e} da${e!==1?"s":""}`;const n=30.4375,r=Math.floor(e/n);if(r<12){const s=Math.round(e%n);return`${r} mes${r!==1?"es":""}${s>0?` y ${s} da${s!==1?"s":""}`:""}`}const i=Math.floor(r/12),a=Math.round(r%12);return`${i} ao${i!==1?"s":""}${a>0?` y ${a} mes${a!==1?"es":""}`:""}`},_f=(t,e)=>{const n=Yc(t.birthDate);return n<0?"Indefinido":t.sex==="Hembra"?t.weaningDate||n>60?e.some(i=>i.goatId===t.id)?"Cabra":"Cabritona":"Cabrita":n>=365?"Macho Cabro":t.weaningDate||n>60?"Macho de Levante":"Cabrito"},Bf=(t,e)=>{const n=new Date(t+"T00:00:00Z"),r=new Date(e+"T00:00:00Z");if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=r.getTime()-n.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},QQe=(t,e)=>{const r=1+(e-50)/(e+50),i=t*Math.max(.5,r);return parseFloat(i.toFixed(2))},xO=(t,e)=>{if(e.length===0)return{overall:null,recent:null};const n=[...e].sort((s,o)=>new Date(s.date).getTime()-new Date(o.date).getTime()),r=n[n.length-1];let i=null;if(t&&t>0){const s=Yc(r.date)-Yc(new Date().toISOString().split("T")[0])+Yc(new Date(r.date).toISOString().split("T")[0]);s>0&&(i=(r.kg-t)/s)}let a=null;if(n.length>=2){const s=r,o=n[n.length-2],l=(new Date(s.date).getTime()-new Date(o.date).getTime())/(1e3*60*60*24);l>0&&(a=(s.kg-o.kg)/l)}return{overall:i,recent:a}},ste=(t,e,n)=>{const r=t.map(A=>({age:(new Date(A.date).getTime()-new Date(e).getTime())/864e5,kg:A.kg})).sort((A,d)=>A.age-d.age);if(r.length<1)return null;const i=r.filter(A=>A.age<=n).pop(),a=r.find(A=>A.age>=n);if(i&&i.age===n)return i.kg;if(a&&a.age===n)return a.kg;if(!i||!a)return null;if(i.age===a.age)return i.kg;const s=a.age-i.age;if(s===0)return i.kg;const o=a.kg-i.kg,l=n-i.age,u=i.kg+l/s*o;return parseFloat(u.toFixed(2))},HQe=(t,e,n)=>{if(e===0)return 100;const r=t/e*100,i=1+(180-Math.min(n,180))/180*.1;return Math.round(r*i)},zQe=t=>{if(!t.weaningWeight||!t.weaningDate||!t.birthWeight||!t.birthDate)return null;const e=(new Date(t.weaningDate).getTime()-new Date(t.birthDate).getTime())/(1e3*60*60*24);if(e<=0)return null;const n=(t.weaningWeight-t.birthWeight)/e,r=t.birthWeight+n*60;return parseFloat(r.toFixed(2))},VQe=(t,e)=>{const n=e.filter(r=>r.animalId===t.id);return ste(n,t.birthDate,210)},ote=(t,e,n,r,i)=>{const a=[];if(!t)return[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Pr.MILKING):o.status==="en-secado"?a.push(Pr.DRYING_OFF):o.status==="seca"&&a.push(Pr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Pr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Pr.IN_SERVICE_CONFIRMED):a.push(Pr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Pr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Pr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Pr[o])},OT={A:"Alpina",S:"Saanen",N:"Anglo Nubian",AGC:"Canaria",C:"Canaria",T:"Toggenburger",CR:"Criolla"},FT=t=>{const e=new Map;if(!t)return e;const n=/(\d+(\.\d+)?)%?([A-Z]+)/g;let r;for(;(r=n.exec(t.toUpperCase()))!==null;){const i=parseFloat(r[1]),a=r[3],s=Object.keys(OT).includes(a);!isNaN(i)&&s&&e.set(a,(e.get(a)||0)+i)}return e},$Qe=t=>t.size===0?"":Array.from(t.entries()).filter(([,n])=>n>0).sort((n,r)=>r[1]-n[1]).map(([n,r])=>`${parseFloat(r.toFixed(2))}%${n}`).join(" "),KQe=(t,e)=>{const n=FT(t),r=FT(e),i=new Map;return new Set([...n.keys(),...r.keys()]).forEach(s=>{const o=n.get(s)||0,l=r.get(s)||0;i.set(s,o/2+l/2)}),$Qe(i)},wO=t=>{const e=FT(t);if(e.size===0)return"";const n=Array.from(e.entries()).sort((o,l)=>l[1]-o[1]);if(n.length===0)return"";const[r,i]=n[0],a=96.9,s=OT[r];for(const[o,l]of n)if(l>=a)return`${OT[o]} Pura`;return i>0?`Mestiza ${s}`:"Mestiza"},WQe=()=>{const{animals:t,parturitions:e,bodyWeighings:n,sireLots:r,breedingSeasons:i,weighings:a,appConfig:s}=Yt();return P.useMemo(()=>{const l=t.filter(se=>!se.isReference),u={cabras:[],cabritonas:[],cabritas:[],cabritos:[],machosLevante:[],reproductores:[]};l.forEach(se=>{switch(_f(se,e)){case"Cabra":u.cabras.push(se);break;case"Cabritona":u.cabritonas.push(se);break;case"Cabrita":u.cabritas.push(se);break;case"Cabrito":u.cabritos.push(se);break;case"Macho de Levante":u.machosLevante.push(se);break;case"Macho Cabro":u.reproductores.push(se);break}});const A=u.cabras.length+u.cabritonas.length+u.cabritas.length,d=e.filter(se=>se.status==="activa"&&u.cabras.some(M=>M.id===se.goatId)).length,f=u.cabras.length-d,h=u.cabras.filter(se=>se.reproductiveStatus==="Preada").length,p=u.cabras.filter(se=>se.reproductiveStatus==="Vaca"||se.reproductiveStatus==="Post-Parto"||se.reproductiveStatus==="Destetada").length,m=u.cabras.filter(se=>se.reproductiveStatus==="En Servicio").length,v=[{name:"Preadas",value:h,color:"#34C759"},{name:"Vacas",value:p,color:"#FF9500"},{name:"En Monta",value:m,color:"#007AFF"}].filter(se=>se.value>0),g=new Date().getFullYear(),y=[];for(let se=0;se<2;se++){const M=new Date(g,se*6,1),$=new Date(g,(se+1)*6,0),J=a.filter(Se=>{const Ae=new Date(Se.date+"T00:00:00");return Ae>=M&&Ae<=$}),ne=new Set(J.map(Se=>Se.goatId)),he=u.cabras.filter(Se=>!!e.find(ge=>ge.goatId===Se.id&&new Date(ge.parturitionDate)<=$)).length,we=he>0?ne.size/he*100:0;y.push({name:`Semestre ${se+1}`,"En Ordeo (%)":parseFloat(we.toFixed(1))})}const x=s.pesoPrimerServicioKg,S=x*.95,E=u.cabritonas.filter(se=>se.reproductiveStatus==="En Servicio").length,N=u.cabritonas.filter(se=>{const M=n.filter($=>$.animalId===se.id).sort(($,J)=>new Date(J.date).getTime()-new Date($.date).getTime())[0];return M?M.kg>=S&&M.kg<x||M.kg>=x&&se.reproductiveStatus!=="En Servicio"&&se.reproductiveStatus!=="Preada":!1}).length,_=u.cabritonas.length-E-h,B=u.cabritas.length,j=u.cabritos.length,D=B+j,k=[{name:"Hembras",value:B,color:"#FF2D55"},{name:"Machos",value:j,color:"#007AFF"}].filter(se=>se.value>0),O=[...u.cabritas,...u.cabritos].map(se=>{const M=Yc(se.birthDate),$=n.filter(ge=>ge.animalId===se.id).sort((ge,xe)=>new Date(xe.date).getTime()-new Date(ge.date).getTime())[0],J=($==null?void 0:$.kg)||0,ne=M>=52,he=J>=9.5,we=M>=45&&M<52,Se=M>=40&&M<45||J>=8.5&&J<9.5;let Ae="Amamantando";return ne&&he?Ae="Listo para Destete":we?Ae="En Fase Destete":Se&&(Ae="Prximo a Destete"),{id:se.id,status:Ae}}),L=O.filter(se=>se.status==="En Fase Destete").length,H=O.filter(se=>se.status==="Prximo a Destete").length,q=O.filter(se=>se.status==="Listo para Destete").length,Y=O.filter(se=>se.status==="Amamantando").length,ee=[{name:"Listo",value:q,color:"#34C759"},{name:"En Fase",value:L,color:"#FFD60A"},{name:"Prximo",value:H,color:"#FF9F0A"},{name:"Amamantando",value:Y,color:"#007AFF"}].filter(se=>se.value>0),K=new Set(i.filter(se=>se.status==="Activo").map(se=>se.id)),te=r.filter(se=>K.has(se.seasonId)),le=u.reproductores.filter(se=>te.some(M=>M.sireId===se.id)).map(se=>{const M=te.find(J=>J.sireId===se.id),$=t.filter(J=>J.sireLotId===M.id).length;return{...se,lotId:M.id,assignedFemales:$}});return{totalPoblacion:l.length,totalVientres:A,cabras:{total:u.cabras.length,enProduccion:d,secas:f,preadas:h,vacias:p,enMonta:m,reproductiveStatusData:v,milkingPercentageData:y},cabritonas:{total:u.cabritonas.length,enMonta:E,disponibles:_,proximasAServicio:N},crias:{total:D,hembras:B,machos:j,criasEnMaternidadData:k,enFaseDestete:L,proximasADestete:H,listasParaDestete:q,desteteStatusData:ee},reproductores:{total:u.reproductores.length,activos:le}}},[t,e,n,r,i,a,s.pesoPrimerServicioKg])},Ar=t=>{if(!t)return"N/A";const e=t.id,n=t.name,r=t.isReference,i=e?e.toUpperCase().trim():"ID_DESCONOCIDO",a=n?String(n).toUpperCase().trim():"";return r&&a.length>0&&i.startsWith("REF-")?a:a.length>0?`${i} ${a}`:i},O1=({title:t,value:e,icon:n,onClick:r})=>c.jsxs("button",{onClick:r,className:"bg-dashboard-surface backdrop-blur-xl rounded-2xl p-4 border border-brand-border/50 text-left hover:border-brand-orange/60 hover:bg-dashboard-surface-hover transition-all duration-200 w-full",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-brand-light-gray uppercase tracking-wider",children:t}),c.jsx(n,{className:"w-6 h-6 text-brand-orange"})]}),c.jsx("p",{className:"text-4xl font-semibold text-white mt-4",children:e})]}),dd=({title:t,children:e})=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-brand-light-gray mb-3 px-1",children:t}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-lg rounded-xl p-4 border border-brand-border/50",children:e})]}),fd=({label:t,value:e,unit:n,subLabel:r,icon:i})=>c.jsxs("div",{className:"flex justify-between items-center py-2.5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[i&&c.jsx(i,{className:"w-5 h-5 text-zinc-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-base text-white",children:t}),r&&c.jsx("p",{className:"text-xs text-brand-medium-gray mt-0.5",children:r})]})]}),c.jsxs("div",{className:"flex items-baseline gap-1.5",children:[c.jsx("p",{className:"text-xl font-semibold text-white",children:e}),c.jsx("p",{className:"text-sm text-brand-medium-gray",children:n})]})]}),GB=({active:t,payload:e,label:n})=>t&&e&&e.length?c.jsxs("div",{className:"p-2 bg-zinc-800/80 backdrop-blur-md rounded-lg border border-zinc-700 text-white text-sm",children:[c.jsx("p",{className:"font-semibold mb-1",children:n||e[0].name}),e.map((r,i)=>c.jsxs("p",{style:{color:r.color},children:[r.name,": ",c.jsxs("span",{className:"font-bold",children:[r.value,r.unit]})]},`item-${i}`))]}):null;function G7({navigateTo:t}){const[e,n]=P.useState("physical"),[r,i]=P.useState(!1),[a,s]=P.useState(!1),[o,l]=P.useState(!1),[u,A]=P.useState(!1),[d,f]=P.useState(!1),h=WQe();return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-lg mx-auto space-y-6 pb-24 pt-4",children:[c.jsxs("div",{className:"text-center mb-6 px-4",children:[c.jsxs("p",{className:"text-base text-zinc-300 font-light",children:["Poblacin Total del Rebao: ",c.jsx("span",{className:"font-bold text-white",children:h.totalPoblacion})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Total de Vientres: ",c.jsx("span",{className:"font-bold text-zinc-200",children:h.totalVientres})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 px-4",children:[c.jsx(O1,{title:"Cabras",value:h.cabras.total,icon:j5,onClick:()=>s(!0)}),c.jsx(O1,{title:"Cabritonas",value:h.cabritonas.total,icon:Ta,onClick:()=>l(!0)}),c.jsx(O1,{title:"Cras",value:h.crias.total,icon:Pl,onClick:()=>A(!0)}),c.jsx(O1,{title:"Reproductores",value:h.reproductores.total,icon:bpe,onClick:()=>f(!0)})]}),c.jsx("div",{className:"pt-4 px-4",children:c.jsxs("div",{className:"relative bg-brand-glass rounded-xl p-1 border border-brand-border flex items-center",children:[c.jsxs("button",{onClick:()=>n("physical"),className:`w-1/2 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="physical"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(Qu,{size:16})," ",c.jsx("span",{className:"text-sm font-semibold",children:"Lotes Fsicos"}),c.jsx("span",{onClick:p=>{p.stopPropagation(),i(!0)},className:"ml-2 p-1 rounded-full hover:bg-brand-orange/50",children:c.jsx(na,{size:18})})]}),c.jsxs("button",{onClick:()=>n("breeding"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="breeding"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(sx,{size:16})," Lotes de Monta"]})]})}),c.jsxs("div",{className:"pt-0",children:[" ",e==="physical"&&c.jsx(Gye,{navigateTo:t}),e==="breeding"&&c.jsx(Zye,{navigateTo:t})]})]}),c.jsx(An,{isOpen:a,onClose:()=>s(!1),title:"Anlisis de Hembras Adultas",children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs(dd,{title:"Estado Productivo y Reproductivo",children:[c.jsx(fd,{icon:Spe,label:"En Produccin",unit:"cabras",value:h.cabras.enProduccion,subLabel:`${(h.cabras.total>0?h.cabras.enProduccion/h.cabras.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(fd,{icon:yc,label:"Secas",unit:"cabras",value:h.cabras.secas,subLabel:`${(h.cabras.total>0?h.cabras.secas/h.cabras.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(fd,{icon:ER,label:"En Monta Activa",unit:"cabras",value:h.cabras.enMonta})]}),c.jsx(dd,{title:"Estado Reproductivo (Vientres)",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{width:"100%",height:"100%",children:c.jsxs(DT,{children:[c.jsx(nu,{data:h.cabras.reproductiveStatusData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,cornerRadius:5,children:h.cabras.reproductiveStatusData.map(p=>c.jsx(mc,{fill:p.color,stroke:"none"},`cell-${p.name}`))}),c.jsx(Dr,{content:c.jsx(GB,{})}),c.jsx(qc,{iconSize:10,wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})}),c.jsx(dd,{title:"Rendimiento Anual en Ordeo",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{width:"100%",height:"100%",children:c.jsxs(Ll,{data:h.cabras.milkingPercentageData,margin:{top:15,right:10,left:-20,bottom:0},children:[c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},axisLine:!1,tickLine:!1}),c.jsx(Qi,{tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},unit:"%",axisLine:!1,tickLine:!1}),c.jsx(Dr,{content:c.jsx(GB,{unit:"%"}),cursor:{fill:"rgba(255, 255, 255, 0.08)"}}),c.jsx(Ja,{dataKey:"En Ordeo (%)",fill:"#FF9500",radius:[8,8,0,0],animationDuration:500})]})})})})]})}),c.jsx(An,{isOpen:o,onClose:()=>l(!1),title:"Anlisis de Cabritonas",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs(dd,{title:"Disponibilidad para Monta",children:[c.jsx(fd,{icon:ER,label:"En Monta",unit:"cabritonas",value:h.cabritonas.enMonta,subLabel:`${(h.cabritonas.total>0?h.cabritonas.enMonta/h.cabritonas.total*100:0).toFixed(0)}% del total`}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(fd,{icon:Qu,label:"Disponibles",unit:"cabritonas",value:h.cabritonas.disponibles})]}),c.jsx(dd,{title:"Prximas a Servicio",children:c.jsx(fd,{icon:rme,label:"Con Peso ptimo",unit:"cabritonas",value:h.cabritonas.proximasAServicio,subLabel:"( 28.5 Kg y sin lote asignado)"})})]})}),c.jsx(An,{isOpen:u,onClose:()=>A(!1),title:"Anlisis de Cras en Maternidad",children:c.jsxs("div",{className:"space-y-5",children:[c.jsx(dd,{title:"Distribucin por Sexo",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{width:"100%",height:"100%",children:c.jsxs(DT,{children:[c.jsx(nu,{data:h.crias.criasEnMaternidadData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,cornerRadius:5,children:h.crias.criasEnMaternidadData.map(p=>c.jsx(mc,{fill:p.color,stroke:"none"},`cell-${p.name}`))}),c.jsx(Dr,{content:c.jsx(GB,{})}),c.jsx(qc,{iconSize:10,wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})}),c.jsxs(dd,{title:"Estado de Destete",children:[c.jsx(fd,{icon:Pl,label:"Listas para Destete",unit:"cras",value:h.crias.listasParaDestete,subLabel:" 52 das y  9.5 Kg"}),c.jsx("div",{className:"border-b border-brand-border/50 mx-2"}),c.jsx(fd,{icon:upe,label:"En Fase de Destete",unit:"cras",value:h.crias.enFaseDestete,subLabel:"45-52 das"})]})]})}),c.jsx(An,{isOpen:d,onClose:()=>f(!1),title:"Estado de Reproductores",children:c.jsx("div",{className:"space-y-4",children:c.jsx(dd,{title:"Activos en Temporada de Monta",children:h.reproductores.activos.length>0?h.reproductores.activos.map((p,m)=>c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>{f(!1),t({name:"sire-lot-detail",lotId:p.lotId})},className:"w-full text-left p-2 rounded-lg flex justify-between items-center hover:bg-brand-glass transition-colors group",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:Ar(p)}),c.jsx("p",{className:"text-xs text-brand-medium-gray",children:"Ver lote de monta asignado"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-base font-semibold text-brand-orange",children:[p.assignedFemales," hembras"]}),c.jsx(ta,{className:"text-zinc-500 group-hover:text-white transition-colors"})]})]}),m<h.reproductores.activos.length-1&&c.jsx("div",{className:"border-b border-brand-border/50 mx-2"})]},p.id)):c.jsx("p",{className:"text-sm text-brand-medium-gray text-center py-4",children:"No hay reproductores activos en una temporada de monta actualmente."})})})}),c.jsx(ime,{isOpen:r,onClose:()=>i(!1)})]})}const GQe=()=>({isRelated:P.useCallback((e,n,r)=>{if(!e||!n)return!1;const i=r.find(a=>a.id===e);if(!i)return!1;if(i.fatherId===n)return!0;if(i.motherId){const a=r.find(s=>s.id===i.motherId);if(a&&a.fatherId===n)return!0}return!1},[])}),qQe=(t,e,n,r,i)=>{const a=[];if(!t)return[];if(t.sex==="Hembra"){const s=e.filter(o=>o.goatId===t.id&&o.status!=="finalizada").sort((o,l)=>new Date(l.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];s&&(s.status==="activa"?a.push("MILKING"):s.status==="en-secado"?a.push("DRYING_OFF"):a.push("DRY"))}if(t.reproductiveStatus==="Preada"?a.push("PREGNANT"):t.reproductiveStatus==="En Servicio"?n.some(o=>o.femaleId===t.id&&o.sireLotId===t.sireLotId)?a.push("IN_SERVICE_CONFIRMED"):a.push("IN_SERVICE"):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push("EMPTY"),t.sex==="Macho"){const s=i.filter(u=>u.status==="Activo"),o=new Set(s.map(u=>u.id));r.some(u=>u.sireId===t.id&&o.has(u.seasonId))&&a.push("SIRE_IN_SERVICE")}return Array.from(new Set(a))},YQe=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Macho Cabro"],q7=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-zinc-400 mb-2",children:t}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",onClick:()=>r("ALL"),className:`px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const a=i.Icon||null;return c.jsxs("button",{type:"button",onClick:()=>r(i.key),className:`flex items-center gap-1.5 px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n===i.key?"bg-brand-blue text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[a&&c.jsx(a,{size:14}),i.label]},i.key)})]})]}),XQe=({activeMode:t,setActiveMode:e})=>c.jsxs("div",{className:"flex bg-zinc-900 rounded-xl p-1 w-full flex-shrink-0",children:[c.jsxs("button",{onClick:()=>e("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${t==="Activo"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(Qu,{size:16})," Activos"]}),c.jsxs("button",{onClick:()=>e("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${t==="Referencia"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[c.jsx(bq,{size:16})," Referencia"]})]}),JQe=({animal:t,isSelected:e,onToggle:n,inbreedingRisk:r})=>{const i=t.name?String(t.name).toUpperCase().trim():"";return c.jsx("div",{onClick:()=>n(t.id),className:`w-full text-left p-3 rounded-xl cursor-pointer transition-colors flex items-center justify-between min-h-[70px]
    	 	 ${r?"bg-yellow-900/50 border border-yellow-500/60 hover:bg-yellow-800/50":"bg-zinc-800/50 hover:bg-zinc-700"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"flex-shrink-0",children:e?c.jsx(T5,{className:"text-brand-green",size:20}):c.jsx(k5,{className:"text-zinc-500",size:20})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]})]})})},kE=({isOpen:t,onClose:e,onSelect:n,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:l,sireIdForInbreedingCheck:u,sessionType:A})=>{const{isRelated:d}=GQe(),[f,h]=P.useState(""),[p,m]=P.useState("Activo"),[v,g]=P.useState(new Set),[y,x]=P.useState(!1),[S,E]=P.useState("ALL"),[N,_]=P.useState("ALL"),[B,j]=P.useState("ALL"),[D,k]=P.useState("ALL"),O=()=>{E("ALL"),_("ALL"),j("ALL"),k("ALL")},L=P.useMemo(()=>r.map(M=>({...M,statuses:qQe(M,i,a,o,s),formattedAge:lu(M.birthDate),zootecnicCategory:_f(M,i)})),[r,i,a,o,s]);P.useEffect(()=>{t&&A&&(O(),A==="leche"&&_("MILKING"))},[t,A]);const H=P.useMemo(()=>{let M=L;if(M=M.filter($=>p==="Activo"?$.status==="Activo"&&!$.isReference&&!$.sireLotId:$.isReference),S!=="ALL"&&(M=M.filter($=>$.zootecnicCategory===S)),p==="Activo"?(N!=="ALL"&&(M=M.filter($=>$.statuses.includes(N))),B!=="ALL"&&(M=M.filter($=>$.statuses.includes(B)))):D!=="ALL"&&(M=M.filter($=>$.status===D)),A==="leche"&&(M=M.filter($=>$.statuses.includes("MILKING"))),f){const $=f.toLowerCase();M=M.filter(J=>J.id.toLowerCase().includes($)||J.name&&J.name.toLowerCase().includes($))}return M.sort(($,J)=>$.id.localeCompare(J.id))},[L,S,N,B,D,p,f,A]);P.useEffect(()=>{t&&A&&g(new Set(H.map(M=>M.id)))},[H,t,A]);const q=P.useMemo(()=>H.length>0&&H.every(M=>v.has(M.id)),[H,v]),Y=P.useMemo(()=>v.size>0&&!q,[v,q]),ee=()=>{g(q?new Set:new Set(H.map(M=>M.id)))},K=M=>{g($=>{const J=new Set($);return J.has(M)?J.delete(M):J.add(M),J})},te=()=>{n(Array.from(v)),le()},le=()=>{g(new Set),h(""),x(!1),e()},se=l.replace("Aadir animales a:","Lote:");return c.jsxs(c.Fragment,{children:[c.jsx(An,{isOpen:t,onClose:le,title:se,size:"fullscreen",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"flex-shrink-0 space-y-3 px-2 pt-4 pb-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(Uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),c.jsx("input",{type:"search",placeholder:"Buscar ID o Nombre...",value:f,onChange:M=>h(M.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-orange"})]})}),c.jsxs("div",{className:"flex-grow overflow-y-auto space-y-2 px-2 min-h-[10rem]",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[c.jsxs("div",{onClick:ee,className:"flex items-center gap-3 cursor-pointer p-1",children:[q?c.jsx(T5,{className:"text-brand-green",size:20}):Y?c.jsx(Dpe,{className:"text-zinc-500",size:20}):c.jsx(k5,{className:"text-zinc-500",size:20}),c.jsxs("span",{className:"text-sm font-semibold text-zinc-300",children:[q?"Deseleccionar Todos":"Seleccionar Todos"," (",H.length,")"]})]}),c.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-1.5 text-brand-blue font-semibold p-2 rounded-lg hover:bg-zinc-800",children:[c.jsx(xq,{size:16}),"Filtros"]})]}),H.length>0?H.map(M=>{const $=u?d(M.id,u,r):!1;return c.jsx(JQe,{animal:M,isSelected:v.has(M.id),onToggle:K,inbreedingRisk:$},M.id)}):c.jsx("p",{className:"text-zinc-500 text-center py-8",children:f?`No se encontraron resultados para "${f}"`:"No hay animales con estos filtros."})]}),c.jsx("div",{className:"flex-shrink-0 px-2 py-4 border-t border-zinc-700/50 bg-ios-modal-bg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{onClick:le,className:"text-zinc-400 hover:text-white px-4 py-2",children:c.jsx("span",{className:"font-semibold",children:"Cancelar"})}),c.jsxs("button",{onClick:te,disabled:v.size===0,className:"bg-brand-green hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl disabled:opacity-50 transition-colors",children:["Seleccionar (",v.size,")"]})]})})]})}),c.jsx(An,{isOpen:y,onClose:()=>x(!1),title:"Filtros",size:"default",children:c.jsxs("div",{className:"space-y-4 px-4 pb-4",children:[c.jsx(XQe,{activeMode:p,setActiveMode:m}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Categora Zootcnica"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>E("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${S==="ALL"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Todos"}),YQe.map(M=>c.jsx("button",{onClick:()=>E(M),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${S===M?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:M},M))]})]}),p==="Activo"&&c.jsxs(c.Fragment,{children:[c.jsx(q7,{title:"Filtros Productivos",filters:["MILKING","DRYING_OFF","DRY"].map(M=>Pr[M]).filter(Boolean),activeFilter:N,onFilterChange:_}),c.jsx(q7,{title:"Filtros Reproductivos",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"].map(M=>Pr[M]).filter(Boolean),activeFilter:B,onFilterChange:j})]}),p==="Referencia"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Causa de Baja"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>k("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="ALL"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Todas"}),c.jsx("button",{onClick:()=>k("Venta"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Venta"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Venta"}),c.jsx("button",{onClick:()=>k("Muerte"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Muerte"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Muerte"}),c.jsx("button",{onClick:()=>k("Descarte"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${D==="Descarte"?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:"Descarte"})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-zinc-700/50",children:[c.jsxs("button",{onClick:O,className:"flex-shrink-0 p-2 rounded-xl border border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:[c.jsx(ED,{size:16})," ",c.jsx("span",{className:"ml-1 text-sm",children:"Limpiar Filtros"})]}),c.jsx("button",{onClick:()=>x(!1),className:"px-5 py-2 bg-brand-blue text-white font-bold rounded-lg",children:"Ver Resultados"})]})]})})]})},ZQe=({isOpen:t,onClose:e,animalsToTransfer:n,fromLot:r})=>{const{lots:i,updateAnimal:a}=Yt(),[s,o]=P.useState(""),l=P.useMemo(()=>i.filter(A=>A.name!==r),[i,r]),u=async()=>{if(!s||n.length===0)return;const A=n.map(d=>a(d,{location:s}));try{await Promise.all(A),e()}catch(d){console.error("Error al transferir animales:",d)}};return c.jsx(An,{isOpen:t,onClose:e,title:`Transferir ${n.length} animales`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:["Transferir desde: ",c.jsx("span",{className:"font-semibold text-white",children:r})]}),c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1 mt-4",children:"Hacia el lote:"}),c.jsxs("select",{value:s,onChange:A=>o(A.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[c.jsx("option",{value:"",children:"Seleccionar lote de destino..."}),l.map(A=>c.jsx("option",{value:A.name,children:A.name},A.id))]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:u,disabled:!s,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:"Confirmar Transferencia"})]})]})})};function Pp(t,e,n){let r=n.initialDeps??[],i;function a(){var s,o,l,u;let A;n.key&&((s=n.debug)!=null&&s.call(n))&&(A=Date.now());const d=t();if(!(d.length!==r.length||d.some((p,m)=>r[m]!==p)))return i;r=d;let h;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(h=Date.now()),i=e(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-A)*100)/100,m=Math.round((Date.now()-h)*100)/100,v=m/16,g=(y,x)=>{for(y=String(y);y.length<x;)y=" "+y;return y};console.info(`%c ${g(m,5)} /${g(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,i),i}return a.updateDeps=s=>{r=s},a}function Y7(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const e7e=(t,e)=>Math.abs(t-e)<1.01,t7e=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},X7=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},n7e=t=>t,r7e=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},i7e=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=s=>{const{width:o,height:l}=s;e({width:Math.round(o),height:Math.round(l)})};if(i(X7(n)),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(s=>{const o=()=>{const l=s[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(X7(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},J7={passive:!0},Z7=typeof window>"u"?!0:"onscrollend"in window,a7e=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const a=t.options.useScrollendEvent&&Z7?()=>{}:t7e(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),s=A=>()=>{const{horizontal:d,isRtl:f}=t.options;i=d?n.scrollLeft*(f&&-1||1):n.scrollTop,a(),e(i,A)},o=s(!0),l=s(!1);l(),n.addEventListener("scroll",o,J7);const u=t.options.useScrollendEvent&&Z7;return u&&n.addEventListener("scrollend",l,J7),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",l)}},s7e=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},o7e=(t,{adjustments:e=0,behavior:n},r)=>{var i,a;const s=t+e;(a=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class l7e{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const s=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var a;return(a=r())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=r())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:n7e,rangeExtractor:r7e,onChange:()=>{},measureElement:s7e,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Pp(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,a=new Map;for(let s=r-1;s>=0;s--){const o=n[s];if(i.has(o.lane))continue;const l=a.get(o.lane);if(l==null||o.end>l.end?a.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((s,o)=>s.end===o.end?s.index-o.index:s.end-o.end)[0]:void 0},this.getMeasurementOptions=Pp(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,a,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s}),{key:!1}),this.getMeasurements=Pp(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(A=>{this.itemSizeCache.set(A.key,A.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let A=l;A<n;A++){const d=a(A),f=this.options.lanes===1?u[A-1]:this.getFurthestMeasurement(u,A),h=f?f.end+this.options.gap:r+i,p=o.get(d),m=typeof p=="number"?p:this.options.estimateSize(A),v=h+m,g=f?f.lane:A%this.options.lanes;u[A]={index:A,start:h,size:m,end:v,key:d,lane:g}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Pp(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,a)=>this.range=n.length>0&&r>0?c7e({measurements:n,outerSize:r,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Pp(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,a,s)=>a===null||s===null?[]:n({startIndex:a,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),a=this.measurementsCache[i];if(!a)return;const s=a.key,o=this.elementsCache.get(s);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,s=r-a;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Pp(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let a=0,s=n.length;a<s;a++){const o=n[a],l=r[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Y7(r[lte(0,r.length-1,i=>Y7(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const a=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+a?"end":"start"),r==="center"?n+=(i-a)/2:r==="end"&&(n-=a);const o=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const a=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+a-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let a=0;const s=10,o=u=>{if(!this.targetWindow)return;const A=this.getOffsetForIndex(n,u);if(!A){console.warn("Failed to get offset for index:",n);return}const[d,f]=A;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const h=this.getScrollOffset(),p=this.getOffsetForIndex(n,f);if(!p){console.warn("Failed to get offset for index:",n);return}e7e(p[0],h)||l(f)})},l=u=>{this.targetWindow&&(a++,a<s?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&a.some(o=>o===null);){const o=r[s];a[o.lane]===null&&(a[o.lane]=o.end),s--}i=Math.max(...a.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const lte=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,a=n(i);if(a<r)t=i+1;else if(a>r)e=i-1;else return i}return t>0?t-1:0};function c7e({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,a=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let s=lte(0,i,a,n),o=s;if(r===1)for(;o<i&&t[o].end<n+e;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<i&&l.some(A=>A<n+e);){const A=t[o];l[A.lane]=A.end,o++}const u=Array(r).fill(n+e);for(;s>=0&&u.some(A=>A>=n);){const A=t[s];u[A.lane]=A.start,s--}s=Math.max(0,s-s%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:s,endIndex:o}}const eH=typeof document<"u"?P.useLayoutEffect:P.useEffect;function u7e(t){const e=P.useReducer(()=>({}),{})[1],n={...t,onChange:(i,a)=>{var s;a?Py.flushSync(e):e(),(s=t.onChange)==null||s.call(t,i,a)}},[r]=P.useState(()=>new l7e(n));return r.setOptions(n),eH(()=>r._didMount(),[]),eH(()=>r._willUpdate()),r}function cte(t){return u7e({observeElementRect:i7e,observeElementOffset:a7e,scrollToFn:o7e,...t})}const ute=({statuses:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((n,r)=>{const i=["MILKING","DRYING_OFF","DRY","PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"];return i.indexOf(n.key)-i.indexOf(r.key)});return c.jsx("div",{className:"flex items-center space-x-1.5",children:e.map(({key:n,Icon:r,color:i,label:a})=>c.jsx("span",{title:a,children:c.jsx(r,{className:i,size:16,strokeWidth:2.5})},n))})},CO=({animal:t,onSelect:e,onOpenActions:n})=>{const r=Ap(),i=P.useRef(!1),a=(l,u)=>{const A=u.offset.x,d=u.velocity.x;(A<-80/2||d<-500)&&n(t),r.start({x:0}),setTimeout(()=>{i.current=!1},50)},s=t.isReference?t.sex==="Macho"?"bg-blue-400":"bg-pink-400":null,o=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border min-h-[80px]",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("div",{className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(na,{size:20}),c.jsx("span",{className:"text-[10px] mt-0.5 font-semibold",children:"Acciones"})]})}),s&&c.jsx("div",{className:`absolute top-2 right-2 w-2 h-2 rounded-full ${s} z-20`,title:t.sex}),c.jsx(Ji.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{i.current=!0},onDragEnd:a,onTap:()=>{i.current||e(t.id)},animate:r,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-3 flex items-center min-h-[80px]",children:c.jsxs("div",{className:"flex justify-between items-center w-full",children:[" ",c.jsxs("div",{className:"min-w-0 pr-3",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),o&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:o}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]}),t.sireName&&c.jsxs("span",{className:"block sm:inline sm:ml-2",children:["(Rep: ",t.sireName,")"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[" ",c.jsx(ute,{statuses:t.statusObjects})," ",c.jsx(ta,{className:"text-zinc-600 w-5 h-5"})," "]})]})})]})},SO=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState(""),{fathers:u}=Yt(),A=()=>{l("");const d=r.trim().toUpperCase(),f=a.trim();if(!d||!f){l("Ambos campos son obligatorios.");return}if(u.some(h=>h.id===d)){l("Este ID ya est en uso. Por favor, elige otro.");return}n({id:d,name:f}),i(""),s("")};return c.jsx(An,{isOpen:t,onClose:e,title:"Aadir Nuevo Padre",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce un ID nico y el nombre del nuevo semental."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"ID del Padre (ej. P002)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"}),c.jsx("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"Nombre del Padre (ej. Sansn)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),o&&c.jsx("p",{className:"text-sm text-brand-red",children:o}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500 font-semibold",children:"Cancelar"}),c.jsx("button",{onClick:A,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Padre"})]})]})})};function Sr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ml(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function yo(t,e){const n=Sr(t);return isNaN(e)?Ml(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ru(t,e){const n=Sr(t);if(isNaN(e))return Ml(t,NaN);if(!e)return n;const r=n.getDate(),i=Ml(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const EO=6048e5,A7e=864e5;let d7e={};function wx(){return d7e}function Vu(t,e){var o,l,u,A;const n=wx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,i=Sr(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Xh(t){return Vu(t,{weekStartsOn:1})}function Ate(t){const e=Sr(t),n=e.getFullYear(),r=Ml(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Xh(r),a=Ml(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Xh(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Kg(t){const e=Sr(t);return e.setHours(0,0,0,0),e}function AS(t){const e=Sr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ju(t,e){const n=Kg(t),r=Kg(e),i=+n-AS(n),a=+r-AS(r);return Math.round((i-a)/A7e)}function f7e(t){const e=Ate(t),n=Ml(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Xh(n)}function LT(t,e){const n=e*7;return yo(t,n)}function h7e(t,e){return ru(t,e*12)}function p7e(t){let e;return t.forEach(function(n){const r=Sr(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function m7e(t){let e;return t.forEach(n=>{const r=Sr(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Uo(t,e){const n=Kg(t),r=Kg(e);return+n==+r}function _O(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function g7e(t){if(!_O(t)&&typeof t!="number")return!1;const e=Sr(t);return!isNaN(Number(e))}function kb(t,e){const n=Sr(t),r=Sr(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function v7e(t,e,n){const r=Vu(t,n),i=Vu(e,n),a=+r-AS(r),s=+i-AS(i);return Math.round((a-s)/EO)}function BO(t){const e=Sr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Wo(t){const e=Sr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function dte(t){const e=Sr(t),n=Ml(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function NO(t,e){var o,l,u,A;const n=wx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,i=Sr(t),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function fte(t){return NO(t,{weekStartsOn:1})}const y7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b7e=(t,e,n)=>{let r;const i=y7e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Um(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const x7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},w7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S7e={date:Um({formats:x7e,defaultWidth:"full"}),time:Um({formats:w7e,defaultWidth:"full"}),dateTime:Um({formats:C7e,defaultWidth:"full"})},E7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_7e=(t,e,n,r)=>E7e[t];function Eu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const B7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},I7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},T7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},P7e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},D7e={ordinalNumber:P7e,era:Eu({values:B7e,defaultWidth:"wide"}),quarter:Eu({values:N7e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Eu({values:j7e,defaultWidth:"wide"}),day:Eu({values:I7e,defaultWidth:"wide"}),dayPeriod:Eu({values:T7e,defaultWidth:"wide",formattingValues:k7e,defaultFormattingWidth:"wide"})};function _u(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?F7e(o,d=>d.test(s)):O7e(o,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const A=e.slice(s.length);return{value:u,rest:A}}}function O7e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function F7e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hte(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const L7e=/^(\d+)(th|st|nd|rd)?/i,M7e=/\d+/i,R7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U7e={any:[/^b/i,/^(a|c)/i]},Q7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},H7e={any:[/1/i,/2/i,/3/i,/4/i]},z7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V7e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$7e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K7e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W7e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},q7e={ordinalNumber:hte({matchPattern:L7e,parsePattern:M7e,valueCallback:t=>parseInt(t,10)}),era:_u({matchPatterns:R7e,defaultMatchWidth:"wide",parsePatterns:U7e,defaultParseWidth:"any"}),quarter:_u({matchPatterns:Q7e,defaultMatchWidth:"wide",parsePatterns:H7e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_u({matchPatterns:z7e,defaultMatchWidth:"wide",parsePatterns:V7e,defaultParseWidth:"any"}),day:_u({matchPatterns:$7e,defaultMatchWidth:"wide",parsePatterns:K7e,defaultParseWidth:"any"}),dayPeriod:_u({matchPatterns:W7e,defaultMatchWidth:"any",parsePatterns:G7e,defaultParseWidth:"any"})},pte={code:"en-US",formatDistance:b7e,formatLong:S7e,formatRelative:_7e,localize:D7e,match:q7e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y7e(t){const e=Sr(t);return ju(e,dte(e))+1}function mte(t){const e=Sr(t),n=+Xh(e)-+f7e(e);return Math.round(n/EO)+1}function gte(t,e){var A,d,f,h;const n=Sr(t),r=n.getFullYear(),i=wx(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=Ml(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Vu(s,e),l=Ml(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=Vu(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function X7e(t,e){var o,l,u,A;const n=wx(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((A=(u=n.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,i=gte(t,e),a=Ml(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Vu(a,e)}function vte(t,e){const n=Sr(t),r=+Vu(n,e)-+X7e(n,e);return Math.round(r/EO)+1}function zr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const hd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return zr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):zr(n+1,2)},d(t,e){return zr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return zr(t.getHours()%12||12,e.length)},H(t,e){return zr(t.getHours(),e.length)},m(t,e){return zr(t.getMinutes(),e.length)},s(t,e){return zr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return zr(i,e.length)}},Dp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tH={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return hd.y(t,e)},Y:function(t,e,n,r){const i=gte(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return zr(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):zr(a,e.length)},R:function(t,e){const n=Ate(t);return zr(n,e.length)},u:function(t,e){const n=t.getFullYear();return zr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return zr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return zr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return hd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return zr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=vte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):zr(i,e.length)},I:function(t,e,n){const r=mte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):zr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):hd.d(t,e)},D:function(t,e,n){const r=Y7e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return zr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return zr(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return zr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Dp.noon:r===0?i=Dp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Dp.evening:r>=12?i=Dp.afternoon:r>=4?i=Dp.morning:i=Dp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return hd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):hd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):zr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):hd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):hd.s(t,e)},S:function(t,e){return hd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return rH(r);case"XXXX":case"XX":return Jf(r);case"XXXXX":case"XXX":default:return Jf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return rH(r);case"xxxx":case"xx":return Jf(r);case"xxxxx":case"xxx":default:return Jf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nH(r,":");case"OOOO":default:return"GMT"+Jf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nH(r,":");case"zzzz":default:return"GMT"+Jf(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return zr(r,e.length)},T:function(t,e,n){const r=t.getTime();return zr(r,e.length)}};function nH(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+zr(a,2)}function rH(t,e){return t%60===0?(t>0?"-":"+")+zr(Math.abs(t)/60,2):Jf(t,e)}function Jf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=zr(Math.trunc(r/60),2),a=zr(r%60,2);return n+i+e+a}const iH=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yte=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},J7e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return iH(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",iH(r,e)).replace("{{time}}",yte(i,e))},Z7e={p:yte,P:J7e},eHe=/^D+$/,tHe=/^Y+$/,nHe=["D","DD","YY","YYYY"];function rHe(t){return eHe.test(t)}function iHe(t){return tHe.test(t)}function aHe(t,e,n){const r=sHe(t,e,n);if(console.warn(r),nHe.includes(t))throw new RangeError(r)}function sHe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oHe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lHe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cHe=/^'([^]*?)'?$/,uHe=/''/g,AHe=/[a-zA-Z]/;function gp(t,e,n){var A,d,f,h,p,m,v,g;const r=wx(),i=(n==null?void 0:n.locale)??r.locale??pte,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((g=(v=r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,o=Sr(t);if(!g7e(o))throw new RangeError("Invalid time value");let l=e.match(lHe).map(y=>{const x=y[0];if(x==="p"||x==="P"){const S=Z7e[x];return S(y,i.formatLong)}return y}).join("").match(oHe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:dHe(y)};if(tH[x])return{isToken:!0,value:y};if(x.match(AHe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&iHe(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&rHe(x))&&aHe(x,e,String(t));const S=tH[x[0]];return S(o,x,i.localize,u)}).join("")}function dHe(t){const e=t.match(cHe);return e?e[1].replace(uHe,"'"):t}function fHe(t){const e=Sr(t),n=e.getFullYear(),r=e.getMonth(),i=Ml(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function hHe(t){return Math.trunc(+Sr(t)/1e3)}function pHe(t){const e=Sr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function mHe(t,e){return v7e(pHe(t),Wo(t),e)+1}function MT(t,e){const n=Sr(t),r=Sr(e);return n.getTime()>r.getTime()}function bte(t,e){const n=Sr(t),r=Sr(e);return+n<+r}function jO(t,e){const n=Sr(t),r=Sr(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function gHe(t,e){const n=Sr(t),r=Sr(e);return n.getFullYear()===r.getFullYear()}function qB(t,e){return yo(t,-e)}function YB(t,e){const n=Sr(t),r=n.getFullYear(),i=n.getDate(),a=Ml(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const s=fHe(a);return n.setMonth(e,Math.min(i,s)),n}function aH(t,e){const n=Sr(t);return isNaN(+n)?Ml(t,NaN):(n.setFullYear(e),n)}const vHe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},yHe=(t,e,n)=>{let r;const i=vHe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},bHe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},xHe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},wHe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CHe={date:Um({formats:bHe,defaultWidth:"full"}),time:Um({formats:xHe,defaultWidth:"full"}),dateTime:Um({formats:wHe,defaultWidth:"full"})},SHe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},EHe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},_He=(t,e,n,r)=>e.getHours()!==1?EHe[t]:SHe[t],BHe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},NHe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},jHe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},IHe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},THe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},kHe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},PHe=(t,e)=>Number(t)+"",DHe={ordinalNumber:PHe,era:Eu({values:BHe,defaultWidth:"wide"}),quarter:Eu({values:NHe,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Eu({values:jHe,defaultWidth:"wide"}),day:Eu({values:IHe,defaultWidth:"wide"}),dayPeriod:Eu({values:THe,defaultWidth:"wide",formattingValues:kHe,defaultFormattingWidth:"wide"})},OHe=/^(\d+)()?/i,FHe=/\d+/i,LHe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},MHe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},RHe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},UHe={any:[/1/i,/2/i,/3/i,/4/i]},QHe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},HHe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},zHe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},VHe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},$He={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},KHe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},WHe={ordinalNumber:hte({matchPattern:OHe,parsePattern:FHe,valueCallback:function(t){return parseInt(t,10)}}),era:_u({matchPatterns:LHe,defaultMatchWidth:"wide",parsePatterns:MHe,defaultParseWidth:"any"}),quarter:_u({matchPatterns:RHe,defaultMatchWidth:"wide",parsePatterns:UHe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_u({matchPatterns:QHe,defaultMatchWidth:"wide",parsePatterns:HHe,defaultParseWidth:"any"}),day:_u({matchPatterns:zHe,defaultMatchWidth:"wide",parsePatterns:VHe,defaultParseWidth:"any"}),dayPeriod:_u({matchPatterns:$He,defaultMatchWidth:"any",parsePatterns:KHe,defaultParseWidth:"any"})},Cx={code:"es",formatDistance:yHe,formatLong:CHe,formatRelative:_He,localize:DHe,match:WHe,options:{weekStartsOn:1,firstWeekContainsDate:1}};var In=function(){return In=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},In.apply(this,arguments)};function GHe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xte(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Sx(t){return t.mode==="multiple"}function Ex(t){return t.mode==="range"}function PE(t){return t.mode==="single"}var qHe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function YHe(t,e){return gp(t,"LLLL y",e)}function XHe(t,e){return gp(t,"d",e)}function JHe(t,e){return gp(t,"LLLL",e)}function ZHe(t){return"".concat(t)}function eze(t,e){return gp(t,"cccccc",e)}function tze(t,e){return gp(t,"yyyy",e)}var nze=Object.freeze({__proto__:null,formatCaption:YHe,formatDay:XHe,formatMonthCaption:JHe,formatWeekNumber:ZHe,formatWeekdayName:eze,formatYearCaption:tze}),rze=function(t,e,n){return gp(t,"do MMMM (EEEE)",n)},ize=function(){return"Month: "},aze=function(){return"Go to next month"},sze=function(){return"Go to previous month"},oze=function(t,e){return gp(t,"cccc",e)},lze=function(t){return"Week n. ".concat(t)},cze=function(){return"Year: "},uze=Object.freeze({__proto__:null,labelDay:rze,labelMonthDropdown:ize,labelNext:aze,labelPrevious:sze,labelWeekNumber:lze,labelWeekday:oze,labelYearDropdown:cze});function Aze(){var t="buttons",e=qHe,n=pte,r={},i={},a=1,s={},o=new Date;return{captionLayout:t,classNames:e,formatters:nze,labels:uze,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:s,today:o,mode:"default"}}function dze(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,s=t.toDate;return r?a=Wo(r):e&&(a=new Date(e,0,1)),i?s=BO(i):n&&(s=new Date(n,11,31)),{fromDate:a?Kg(a):void 0,toDate:s?Kg(s):void 0}}var wte=P.createContext(void 0);function fze(t){var e,n=t.initialProps,r=Aze(),i=dze(n),a=i.fromDate,s=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!a||!s)&&(o="buttons");var l;(PE(n)||Sx(n)||Ex(n))&&(l=n.onSelect);var u=In(In(In({},r),n),{captionLayout:o,classNames:In(In({},r.classNames),n.classNames),components:In({},n.components),formatters:In(In({},r.formatters),n.formatters),fromDate:a,labels:In(In({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:In(In({},r.modifiers),n.modifiers),modifiersClassNames:In(In({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:In(In({},r.styles),n.styles),toDate:s});return c.jsx(wte.Provider,{value:u,children:t.children})}function hi(){var t=P.useContext(wte);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Cte(t){var e=hi(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return c.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function hze(t){return c.jsx("svg",In({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ste(t){var e,n,r=t.onChange,i=t.value,a=t.children,s=t.caption,o=t.className,l=t.style,u=hi(),A=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:hze;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,c.jsx(A,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function pze(t){var e,n=hi(),r=n.fromDate,i=n.toDate,a=n.styles,s=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,A=n.labels.labelMonthDropdown;if(!r)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var d=[];if(gHe(r,i))for(var f=Wo(r),h=r.getMonth();h<=i.getMonth();h++)d.push(YB(f,h));else for(var f=Wo(new Date),h=0;h<=11;h++)d.push(YB(f,h));var p=function(v){var g=Number(v.target.value),y=YB(Wo(t.displayMonth),g);t.onChange(y)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:Ste;return c.jsx(m,{name:"months","aria-label":A(),className:l.dropdown_month,style:a.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:s}),children:d.map(function(v){return c.jsx("option",{value:v.getMonth(),children:o(v,{locale:s})},v.getMonth())})})}function mze(t){var e,n=t.displayMonth,r=hi(),i=r.fromDate,a=r.toDate,s=r.locale,o=r.styles,l=r.classNames,u=r.components,A=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,f=[];if(!i)return c.jsx(c.Fragment,{});if(!a)return c.jsx(c.Fragment,{});for(var h=i.getFullYear(),p=a.getFullYear(),m=h;m<=p;m++)f.push(aH(dte(new Date),m));var v=function(y){var x=aH(Wo(n),Number(y.target.value));t.onChange(x)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:Ste;return c.jsx(g,{name:"years","aria-label":d(),className:l.dropdown_year,style:o.dropdown_year,onChange:v,value:n.getFullYear(),caption:A(n,{locale:s}),children:f.map(function(y){return c.jsx("option",{value:y.getFullYear(),children:A(y,{locale:s})},y.getFullYear())})})}function gze(t,e){var n=P.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function vze(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,s=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(a&&kb(a,i)<0){var u=-1*(l-1);i=ru(a,u)}return s&&kb(i,s)<0&&(i=s),Wo(i)}function yze(){var t=hi(),e=vze(t),n=gze(e,t.month),r=n[0],i=n[1],a=function(s){var o;if(!t.disableNavigation){var l=Wo(s);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[r,a]}function bze(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Wo(t),a=Wo(ru(i,r)),s=kb(a,i),o=[],l=0;l<s;l++){var u=ru(i,l);o.push(u)}return n&&(o=o.reverse()),o}function xze(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=r?a:1,o=Wo(t);if(!n)return ru(o,s);var l=kb(n,t);if(!(l<a))return ru(o,s)}}function wze(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=r?a:1,o=Wo(t);if(!n)return ru(o,-s);var l=kb(o,n);if(!(l<=0))return ru(o,-s)}}var Ete=P.createContext(void 0);function Cze(t){var e=hi(),n=yze(),r=n[0],i=n[1],a=bze(r,e),s=xze(r,e),o=wze(r,e),l=function(d){return a.some(function(f){return jO(d,f)})},u=function(d,f){l(d)||(f&&bte(d,f)?i(ru(d,1+e.numberOfMonths*-1)):i(d))},A={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:l};return c.jsx(Ete.Provider,{value:A,children:t.children})}function _x(){var t=P.useContext(Ete);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function sH(t){var e,n=hi(),r=n.classNames,i=n.styles,a=n.components,s=_x().goToMonth,o=function(A){s(ru(A,t.displayIndex?-t.displayIndex:0))},l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:Cte,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:r.vhidden,children:u}),c.jsx(pze,{onChange:o,displayMonth:t.displayMonth}),c.jsx(mze,{onChange:o,displayMonth:t.displayMonth})]})}function Sze(t){return c.jsx("svg",In({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Eze(t){return c.jsx("svg",In({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var dS=P.forwardRef(function(t,e){var n=hi(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var s=a.join(" "),o=In(In({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),c.jsx("button",In({},t,{ref:e,type:"button",className:s,style:o}))});function _ze(t){var e,n,r=hi(),i=r.dir,a=r.locale,s=r.classNames,o=r.styles,l=r.labels,u=l.labelPrevious,A=l.labelNext,d=r.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var f=u(t.previousMonth,{locale:a}),h=[s.nav_button,s.nav_button_previous].join(" "),p=A(t.nextMonth,{locale:a}),m=[s.nav_button,s.nav_button_next].join(" "),v=(e=d==null?void 0:d.IconRight)!==null&&e!==void 0?e:Eze,g=(n=d==null?void 0:d.IconLeft)!==null&&n!==void 0?n:Sze;return c.jsxs("div",{className:s.nav,style:o.nav,children:[!t.hidePrevious&&c.jsx(dS,{name:"previous-month","aria-label":f,className:h,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?c.jsx(v,{className:s.nav_icon,style:o.nav_icon}):c.jsx(g,{className:s.nav_icon,style:o.nav_icon})}),!t.hideNext&&c.jsx(dS,{name:"next-month","aria-label":p,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?c.jsx(g,{className:s.nav_icon,style:o.nav_icon}):c.jsx(v,{className:s.nav_icon,style:o.nav_icon})})]})}function oH(t){var e=hi().numberOfMonths,n=_x(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,s=n.displayMonths,o=s.findIndex(function(p){return jO(t.displayMonth,p)}),l=o===0,u=o===s.length-1,A=e>1&&(l||!u),d=e>1&&(u||!l),f=function(){r&&a(r)},h=function(){i&&a(i)};return c.jsx(_ze,{displayMonth:t.displayMonth,hideNext:A,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:f,onNextClick:h})}function Bze(t){var e,n=hi(),r=n.classNames,i=n.disableNavigation,a=n.styles,s=n.captionLayout,o=n.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:Cte,u;return i?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=c.jsx(sH,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(sH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(oH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(oH,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:r.caption,style:a.caption,children:u})}function Nze(t){var e=hi(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?c.jsx("tfoot",{className:i,style:r.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:n})})}):c.jsx(c.Fragment,{})}function jze(t,e,n){for(var r=n?Xh(new Date):Vu(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var s=yo(r,a);i.push(s)}return i}function Ize(){var t=hi(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,s=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=jze(i,a,s);return c.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&c.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(A,d){return c.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(A,{locale:i}),children:o(A,{locale:i})},d)})]})}function Tze(){var t,e=hi(),n=e.classNames,r=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Ize;return c.jsx("thead",{style:r.head,className:n.head,children:c.jsx(a,{})})}function kze(t){var e=hi(),n=e.locale,r=e.formatters.formatDay;return c.jsx(c.Fragment,{children:r(t.date,{locale:n})})}var IO=P.createContext(void 0);function Pze(t){if(!Sx(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(IO.Provider,{value:e,children:t.children})}return c.jsx(Dze,{initialProps:t.initialProps,children:t.children})}function Dze(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,s=function(u,A,d){var f,h;(f=e.onDayClick)===null||f===void 0||f.call(e,u,A,d);var p=!!(A.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var m=!!(!A.selected&&a&&(r==null?void 0:r.length)===a);if(!m){var v=r?xte([],r):[];if(A.selected){var g=v.findIndex(function(y){return Uo(u,y)});v.splice(g,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,A,d)}}},o={disabled:[]};r&&o.disabled.push(function(u){var A=a&&r.length>a-1,d=r.some(function(f){return Uo(f,u)});return!!(A&&!d)});var l={selected:r,onDayClick:s,modifiers:o};return c.jsx(IO.Provider,{value:l,children:n})}function TO(){var t=P.useContext(IO);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Oze(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Uo(i,t)&&Uo(r,t)?void 0:Uo(i,t)?{from:i,to:void 0}:Uo(r,t)?void 0:MT(r,t)?{from:t,to:i}:{from:r,to:t}:i?MT(t,i)?{from:i,to:t}:{from:t,to:i}:r?bte(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var kO=P.createContext(void 0);function Fze(t){if(!Ex(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(kO.Provider,{value:e,children:t.children})}return c.jsx(Lze,{initialProps:t.initialProps,children:t.children})}function Lze(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,s=i.to,o=e.min,l=e.max,u=function(h,p,m){var v,g;(v=e.onDayClick)===null||v===void 0||v.call(e,h,p,m);var y=Oze(h,r);(g=e.onSelect)===null||g===void 0||g.call(e,y,h,p,m)},A={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(A.range_start=[a],s?(A.range_end=[s],Uo(a,s)||(A.range_middle=[{after:a,before:s}])):A.range_end=[a]):s&&(A.range_start=[s],A.range_end=[s]),o&&(a&&!s&&A.disabled.push({after:qB(a,o-1),before:yo(a,o-1)}),a&&s&&A.disabled.push({after:a,before:yo(a,o-1)}),!a&&s&&A.disabled.push({after:qB(s,o-1),before:yo(s,o-1)})),l){if(a&&!s&&(A.disabled.push({before:yo(a,-l+1)}),A.disabled.push({after:yo(a,l-1)})),a&&s){var d=ju(s,a)+1,f=l-d;A.disabled.push({before:qB(a,f)}),A.disabled.push({after:yo(s,f)})}!a&&s&&(A.disabled.push({before:yo(s,-l+1)}),A.disabled.push({after:yo(s,l-1)}))}return c.jsx(kO.Provider,{value:{selected:r,onDayClick:u,modifiers:A},children:n})}function PO(){var t=P.useContext(kO);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Jw(t){return Array.isArray(t)?xte([],t):t!==void 0?[t]:[]}function Mze(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=Jw(i)}),e}var iu;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(iu||(iu={}));var Rze=iu.Selected,oA=iu.Disabled,Uze=iu.Hidden,Qze=iu.Today,XB=iu.RangeEnd,JB=iu.RangeMiddle,ZB=iu.RangeStart,Hze=iu.Outside;function zze(t,e,n){var r,i=(r={},r[Rze]=Jw(t.selected),r[oA]=Jw(t.disabled),r[Uze]=Jw(t.hidden),r[Qze]=[t.today],r[XB]=[],r[JB]=[],r[ZB]=[],r[Hze]=[],r);return t.fromDate&&i[oA].push({before:t.fromDate}),t.toDate&&i[oA].push({after:t.toDate}),Sx(t)?i[oA]=i[oA].concat(e.modifiers[oA]):Ex(t)&&(i[oA]=i[oA].concat(n.modifiers[oA]),i[ZB]=n.modifiers[ZB],i[JB]=n.modifiers[JB],i[XB]=n.modifiers[XB]),i}var _te=P.createContext(void 0);function Vze(t){var e=hi(),n=TO(),r=PO(),i=zze(e,n,r),a=Mze(e.modifiers),s=In(In({},i),a);return c.jsx(_te.Provider,{value:s,children:t.children})}function Bte(){var t=P.useContext(_te);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function $ze(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Kze(t){return!!(t&&typeof t=="object"&&"from"in t)}function Wze(t){return!!(t&&typeof t=="object"&&"after"in t)}function Gze(t){return!!(t&&typeof t=="object"&&"before"in t)}function qze(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Yze(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=ju(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var s=ju(t,r)>=0&&ju(i,t)>=0;return s}return i?Uo(i,t):r?Uo(r,t):!1}function Xze(t){return _O(t)}function Jze(t){return Array.isArray(t)&&t.every(_O)}function Zze(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Xze(n))return Uo(t,n);if(Jze(n))return n.includes(t);if(Kze(n))return Yze(t,n);if(qze(n))return n.dayOfWeek.includes(t.getDay());if($ze(n)){var r=ju(n.before,t),i=ju(n.after,t),a=r>0,s=i<0,o=MT(n.before,n.after);return o?s&&a:a||s}return Wze(n)?ju(t,n.after)>0:Gze(n)?ju(n.before,t)>0:typeof n=="function"?n(t):!1})}function DO(t,e,n){var r=Object.keys(e).reduce(function(a,s){var o=e[s];return Zze(t,o)&&a.push(s),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!jO(t,n)&&(i.outside=!0),i}function e9e(t,e){for(var n=Wo(t[0]),r=BO(t[t.length-1]),i,a,s=n;s<=r;){var o=DO(s,e),l=!o.disabled&&!o.hidden;if(!l){s=yo(s,1);continue}if(o.selected)return s;o.today&&!a&&(a=s),i||(i=s),s=yo(s,1)}return a||i}var t9e=365;function Nte(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,s=e.retry,o=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,u=i.fromDate,A=i.toDate,d=i.locale,f={day:yo,week:LT,month:ru,year:h7e,startOfWeek:function(v){return i.ISOWeek?Xh(v):Vu(v,{locale:d,weekStartsOn:l})},endOfWeek:function(v){return i.ISOWeek?fte(v):NO(v,{locale:d,weekStartsOn:l})}},h=f[n](t,r==="after"?1:-1);r==="before"&&u?h=p7e([u,h]):r==="after"&&A&&(h=m7e([A,h]));var p=!0;if(a){var m=DO(h,a);p=!m.disabled&&!m.hidden}return p?h:o.count>t9e?o.lastFocused:Nte(h,{moveBy:n,direction:r,context:i,modifiers:a,retry:In(In({},o),{count:o.count+1})})}var jte=P.createContext(void 0);function n9e(t){var e=_x(),n=Bte(),r=P.useState(),i=r[0],a=r[1],s=P.useState(),o=s[0],l=s[1],u=e9e(e.displayMonths,n),A=i??(o&&e.isDateDisplayed(o))?o:u,d=function(){l(i),a(void 0)},f=function(v){a(v)},h=hi(),p=function(v,g){if(i){var y=Nte(i,{moveBy:v,direction:g,context:h,modifiers:n});Uo(i,y)||(e.goToDate(y,i),f(y))}},m={focusedDay:i,focusTarget:A,blur:d,focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return c.jsx(jte.Provider,{value:m,children:t.children})}function OO(){var t=P.useContext(jte);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function r9e(t,e){var n=Bte(),r=DO(t,n,e);return r}var FO=P.createContext(void 0);function i9e(t){if(!PE(t.initialProps)){var e={selected:void 0};return c.jsx(FO.Provider,{value:e,children:t.children})}return c.jsx(a9e,{initialProps:t.initialProps,children:t.children})}function a9e(t){var e=t.initialProps,n=t.children,r=function(a,s,o){var l,u,A;if((l=e.onDayClick)===null||l===void 0||l.call(e,a,s,o),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,s,o);return}(A=e.onSelect)===null||A===void 0||A.call(e,a,a,s,o)},i={selected:e.selected,onDayClick:r};return c.jsx(FO.Provider,{value:i,children:n})}function Ite(){var t=P.useContext(FO);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function s9e(t,e){var n=hi(),r=Ite(),i=TO(),a=PO(),s=OO(),o=s.focusDayAfter,l=s.focusDayBefore,u=s.focusWeekAfter,A=s.focusWeekBefore,d=s.blur,f=s.focus,h=s.focusMonthBefore,p=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,g=s.focusStartOfWeek,y=s.focusEndOfWeek,x=function(ee){var K,te,le,se;PE(n)?(K=r.onDayClick)===null||K===void 0||K.call(r,t,e,ee):Sx(n)?(te=i.onDayClick)===null||te===void 0||te.call(i,t,e,ee):Ex(n)?(le=a.onDayClick)===null||le===void 0||le.call(a,t,e,ee):(se=n.onDayClick)===null||se===void 0||se.call(n,t,e,ee)},S=function(ee){var K;f(t),(K=n.onDayFocus)===null||K===void 0||K.call(n,t,e,ee)},E=function(ee){var K;d(),(K=n.onDayBlur)===null||K===void 0||K.call(n,t,e,ee)},N=function(ee){var K;(K=n.onDayMouseEnter)===null||K===void 0||K.call(n,t,e,ee)},_=function(ee){var K;(K=n.onDayMouseLeave)===null||K===void 0||K.call(n,t,e,ee)},B=function(ee){var K;(K=n.onDayPointerEnter)===null||K===void 0||K.call(n,t,e,ee)},j=function(ee){var K;(K=n.onDayPointerLeave)===null||K===void 0||K.call(n,t,e,ee)},D=function(ee){var K;(K=n.onDayTouchCancel)===null||K===void 0||K.call(n,t,e,ee)},k=function(ee){var K;(K=n.onDayTouchEnd)===null||K===void 0||K.call(n,t,e,ee)},O=function(ee){var K;(K=n.onDayTouchMove)===null||K===void 0||K.call(n,t,e,ee)},L=function(ee){var K;(K=n.onDayTouchStart)===null||K===void 0||K.call(n,t,e,ee)},H=function(ee){var K;(K=n.onDayKeyUp)===null||K===void 0||K.call(n,t,e,ee)},q=function(ee){var K;switch(ee.key){case"ArrowLeft":ee.preventDefault(),ee.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":ee.preventDefault(),ee.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":ee.preventDefault(),ee.stopPropagation(),u();break;case"ArrowUp":ee.preventDefault(),ee.stopPropagation(),A();break;case"PageUp":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?m():h();break;case"PageDown":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?v():p();break;case"Home":ee.preventDefault(),ee.stopPropagation(),g();break;case"End":ee.preventDefault(),ee.stopPropagation(),y();break}(K=n.onDayKeyDown)===null||K===void 0||K.call(n,t,e,ee)},Y={onClick:x,onFocus:S,onBlur:E,onKeyDown:q,onKeyUp:H,onMouseEnter:N,onMouseLeave:_,onPointerEnter:B,onPointerLeave:j,onTouchCancel:D,onTouchEnd:k,onTouchMove:O,onTouchStart:L};return Y}function o9e(){var t=hi(),e=Ite(),n=TO(),r=PO(),i=PE(t)?e.selected:Sx(t)?n.selected:Ex(t)?r.selected:void 0;return i}function l9e(t){return Object.values(iu).includes(t)}function c9e(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(l9e(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function u9e(t,e){var n=In({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=In(In({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function A9e(t,e,n){var r,i,a,s=hi(),o=OO(),l=r9e(t,e),u=s9e(t,l),A=o9e(),d=!!(s.onDayClick||s.mode!=="default");P.useEffect(function(){var N;l.outside||o.focusedDay&&d&&Uo(o.focusedDay,t)&&((N=n.current)===null||N===void 0||N.focus())},[o.focusedDay,t,n,d,l.outside]);var f=c9e(s,l).join(" "),h=u9e(s,l),p=!!(l.outside&&!s.showOutsideDays||l.hidden),m=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:kze,v=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),g={style:h,className:f,children:v,role:"gridcell"},y=o.focusTarget&&Uo(o.focusTarget,t)&&!l.outside,x=o.focusedDay&&Uo(o.focusedDay,t),S=In(In(In({},g),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=x||y?0:-1,r)),u),E={isButton:d,isHidden:p,activeModifiers:l,selectedDays:A,buttonProps:S,divProps:g};return E}function d9e(t){var e=P.useRef(null),n=A9e(t.date,t.displayMonth,e);return n.isHidden?c.jsx("div",{role:"gridcell"}):n.isButton?c.jsx(dS,In({name:"day",ref:e},n.buttonProps)):c.jsx("div",In({},n.divProps))}function f9e(t){var e=t.number,n=t.dates,r=hi(),i=r.onWeekNumberClick,a=r.styles,s=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,A=u(Number(e),{locale:o});if(!i)return c.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:A});var d=l(Number(e),{locale:o}),f=function(h){i(e,n,h)};return c.jsx(dS,{name:"week-number","aria-label":d,className:s.weeknumber,style:a.weeknumber,onClick:f,children:A})}function h9e(t){var e,n,r=hi(),i=r.styles,a=r.classNames,s=r.showWeekNumber,o=r.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:d9e,u=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:f9e,A;return s&&(A=c.jsx("td",{className:a.cell,style:i.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:a.row,style:i.row,children:[A,t.dates.map(function(d){return c.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:d})},hHe(d))})]})}function lH(t,e,n){for(var r=n!=null&&n.ISOWeek?fte(e):NO(e,n),i=n!=null&&n.ISOWeek?Xh(t):Vu(t,n),a=ju(r,i),s=[],o=0;o<=a;o++)s.push(yo(i,o));var l=s.reduce(function(u,A){var d=n!=null&&n.ISOWeek?mte(A):vte(A,n),f=u.find(function(h){return h.weekNumber===d});return f?(f.dates.push(A),u):(u.push({weekNumber:d,dates:[A]}),u)},[]);return l}function p9e(t,e){var n=lH(Wo(t),BO(t),e);if(e!=null&&e.useFixedWeeks){var r=mHe(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],s=LT(a,6-r),o=lH(LT(a,1),s,e);n.push.apply(n,o)}}return n}function m9e(t){var e,n,r,i=hi(),a=i.locale,s=i.classNames,o=i.styles,l=i.hideHead,u=i.fixedWeeks,A=i.components,d=i.weekStartsOn,f=i.firstWeekContainsDate,h=i.ISOWeek,p=p9e(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:a,weekStartsOn:d,firstWeekContainsDate:f}),m=(e=A==null?void 0:A.Head)!==null&&e!==void 0?e:Tze,v=(n=A==null?void 0:A.Row)!==null&&n!==void 0?n:h9e,g=(r=A==null?void 0:A.Footer)!==null&&r!==void 0?r:Nze;return c.jsxs("table",{id:t.id,className:s.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:s.tbody,style:o.tbody,children:p.map(function(y){return c.jsx(v,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),c.jsx(g,{displayMonth:t.displayMonth})]})}function g9e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var v9e=g9e()?P.useLayoutEffect:P.useEffect,e4=!1,y9e=0;function cH(){return"react-day-picker-".concat(++y9e)}function b9e(t){var e,n=t??(e4?cH():null),r=P.useState(n),i=r[0],a=r[1];return v9e(function(){i===null&&a(cH())},[]),P.useEffect(function(){e4===!1&&(e4=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function x9e(t){var e,n,r=hi(),i=r.dir,a=r.classNames,s=r.styles,o=r.components,l=_x().displayMonths,u=b9e(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),A=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,d=[a.month],f=s.month,h=t.displayIndex===0,p=t.displayIndex===l.length-1,m=!h&&!p;i==="rtl"&&(e=[h,p],p=e[0],h=e[1]),h&&(d.push(a.caption_start),f=In(In({},f),s.caption_start)),p&&(d.push(a.caption_end),f=In(In({},f),s.caption_end)),m&&(d.push(a.caption_between),f=In(In({},f),s.caption_between));var v=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:Bze;return c.jsxs("div",{className:d.join(" "),style:f,children:[c.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(m9e,{id:A,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function w9e(t){var e=hi(),n=e.classNames,r=e.styles;return c.jsx("div",{className:n.months,style:r.months,children:t.children})}function C9e(t){var e,n,r=t.initialProps,i=hi(),a=OO(),s=_x(),o=P.useState(!1),l=o[0],u=o[1];P.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var A=[i.classNames.root,i.className];i.numberOfMonths>1&&A.push(i.classNames.multiple_months),i.showWeekNumber&&A.push(i.classNames.with_weeknumber);var d=In(In({},i.styles.root),i.style),f=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,m){var v;return In(In({},p),(v={},v[m]=r[m],v))},{}),h=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:w9e;return c.jsx("div",In({className:A.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:c.jsx(h,{children:s.displayMonths.map(function(p,m){return c.jsx(x9e,{displayIndex:m,displayMonth:p},m)})})}))}function S9e(t){var e=t.children,n=GHe(t,["children"]);return c.jsx(fze,{initialProps:n,children:c.jsx(Cze,{children:c.jsx(i9e,{initialProps:n,children:c.jsx(Pze,{initialProps:n,children:c.jsx(Fze,{initialProps:n,children:c.jsx(Vze,{children:c.jsx(n9e,{children:e})})})})})})})}function vp(t){return c.jsx(S9e,In({},t,{children:c.jsx(C9e,{initialProps:t})}))}const uH=[{count:1,name:"Simple"},{count:2,name:"Doble"},{count:3,name:"Triple"},{count:4,name:"Cudruple"},{count:5,name:"Quntuple"}],AH=140,dH=7,E9e=`
  .rdp {
    --rdp-cell-size: 40px; --rdp-accent-color: #FF9500; --rdp-background-color: transparent;
    --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: transparent;
    --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; margin: 1em auto;
  }
  .rdp-caption_label { color: #FFF; font-weight: bold;}
  .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; }
  .rdp-day { color: #FFF;}
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
  .rdp-day_today { font-weight: bold; color: #FF9500; }
  .rdp-day_disabled { color: #505054; }
  .rdp-day_outside { color: #505054; }
  .rdp-caption_dropdowns { display: flex; gap: 10px; }
   .rdp-dropdown { background-color: #333; border: 1px solid #555; color: #FFF; padding: 4px 8px; border-radius: 6px; }
`,yp=({isOpen:t,onClose:e,motherId:n})=>{const{animals:r,fathers:i,addFather:a,addParturition:s,parturitions:o}=Yt(),[l,u]=P.useState(1),[A,d]=P.useState(new Date().toISOString().split("T")[0]),[f,h]=P.useState(""),[p,m]=P.useState(1),[v,g]=P.useState([]),[y,x]=P.useState(!1),[S,E]=P.useState(!1),[N,_]=P.useState(!1),[B,j]=P.useState(""),D=P.useMemo(()=>r.find(te=>te.id===n),[r,n]),k=D!=null&&D.name?String(D.name).toUpperCase().trim():"";P.useEffect(()=>{t&&(u(1),d(new Date().toISOString().split("T")[0]),h(""),m(1),g([]),_(!1),j(""))},[t]);const O=()=>u(te=>te<4?te+1:te),L=()=>u(te=>te>1?te-1:te),H=te=>{m(te),g(Array.from({length:te},(le,se)=>({id:`kid_${se}_${Date.now()}`,sex:"Hembra",status:"Viva",correlative:"",birthWeight:""}))),O()},q=(te,le,se)=>{const M=[...v];let $=se;le==="birthWeight"&&parseFloat(se)>dH&&($=dH.toString()),M[te]={...M[te],[le]:$},g(M)},Y=async()=>{var M;_(!0),j("");const te=o.filter($=>$.goatId.toUpperCase()===n.toUpperCase()),le=new Date(A).getTime();if(te.some($=>{const J=new Date($.parturitionDate).getTime();return Math.abs(le-J)/(1e3*60*60*24)<AH})){j(`Ya existe un parto registrado para ${n} en una fecha demasiado cercana (menos de ${AH} das).`),_(!1);return}try{const $=i.find(we=>we.id===f);if(!$)throw new Error("Padre (semental) no encontrado en la base de datos.");const J=v.filter(we=>we.status==="Viva"),ne=v.some(we=>we.status==="Mortinato"),he=J.map(we=>({sex:we.sex,birthWeight:we.birthWeight,id:`${we.sex==="Macho"?"X":Ar($).charAt(0).toUpperCase()||"?"}${we.correlative}`}));await s({motherId:n.toUpperCase(),parturitionDate:A,sireId:f,parturitionType:((M=uH.find(we=>we.count===p))==null?void 0:M.name)||"Simple",offspringCount:v.length,liveOffspring:he,parturitionOutcome:ne?"Con Mortinatos":"Normal",inducedLactation:!0}),O(),setTimeout(e,2e3)}catch($){j($.message||"Error al registrar el parto. Revisa los datos e IDs de las cras."),console.error($),_(!1)}},ee=P.useMemo(()=>i.find(te=>te.id===f),[f,i]),K=async te=>{try{await a(te),h(te.id),x(!1)}catch(le){j(le.message||"No se pudo guardar el nuevo padre."),console.error("Error saving new father:",le)}};return t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex flex-col justify-end z-50 animate-fade-in",onClick:e,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:te=>te.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[l>1&&l<4&&c.jsx("button",{onClick:L,className:"p-2 text-zinc-400 hover:text-white",children:c.jsx(Di,{size:24})}),c.jsx("h1",{className:"text-xl font-bold tracking-tight text-white mx-auto",children:l===4?"xito":"Registrar Parto"}),l<4?c.jsx("button",{onClick:e,className:"p-2 text-zinc-400 hover:text-white",children:c.jsx(Bo,{size:24})}):c.jsx("div",{className:"w-10"})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:[l===1&&c.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:D==null?void 0:D.id.toUpperCase()}),k&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:k})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Fecha del Parto"}),c.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg text-left flex justify-between items-center text-white",children:[c.jsx("span",{children:A?new Date(A+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):"Seleccionar Fecha"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Padre (Semental)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:f,onChange:te=>h(te.target.value),className:"w-full bg-zinc-800 p-4 rounded-xl text-lg appearance-none text-white",children:[c.jsx("option",{value:"",className:"text-zinc-500",children:"Seleccionar Padre..."}),i.map(te=>c.jsx("option",{value:te.id,className:"text-white",children:Ar(te)},te.id))]}),c.jsx("button",{type:"button",onClick:()=>x(!0),className:"flex-shrink-0 p-4 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(na,{size:24})})]})]}),c.jsx("button",{onClick:O,disabled:!A||!f,className:"w-full bg-brand-orange text-white font-bold py-4 rounded-xl text-lg disabled:opacity-50",children:"Siguiente"})]}),l===2&&c.jsxs("div",{className:"space-y-6 text-center max-w-md mx-auto",children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Cuntas cras nacieron?"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:uH.map(te=>c.jsx("button",{onClick:()=>H(te.count),className:"bg-zinc-800 hover:bg-zinc-700 text-white font-bold py-8 rounded-2xl text-2xl transition-colors",children:te.name},te.count))})]}),l===3&&c.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:D==null?void 0:D.id.toUpperCase()}),k&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:k})]}),v.map((te,le)=>{const se=te.status==="Mortinato";return c.jsxs("div",{className:`bg-black/20 rounded-2xl p-4 border transition-colors ${se?"border-red-500/30":"border-zinc-700"} space-y-3`,children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("p",{className:"font-semibold text-brand-orange",children:["Cra ",le+1]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:"w-32",children:c.jsxs("div",{className:"flex bg-zinc-800 rounded-lg p-1",children:[c.jsx("button",{type:"button",onClick:()=>q(le,"status","Viva"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${se?"text-zinc-400":"bg-green-600 text-white"}`,children:"Viva"}),c.jsx("button",{type:"button",onClick:()=>q(le,"status","Mortinato"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${se?"bg-red-600 text-white":"text-zinc-400"}`,children:"Mortinato"})]})}),c.jsx("div",{className:"w-32",children:c.jsxs("div",{className:"flex bg-zinc-800 rounded-lg p-1",children:[c.jsx("button",{type:"button",onClick:()=>q(le,"sex","Hembra"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${te.sex==="Hembra"?"bg-pink-500 text-white":"text-zinc-400"}`,children:"Hembra"}),c.jsx("button",{type:"button",onClick:()=>q(le,"sex","Macho"),className:`w-1/2 text-xs rounded-md py-1 transition-all ${te.sex==="Macho"?"bg-blue-500 text-white":"text-zinc-400"}`,children:"Macho"})]})})]})]}),c.jsxs("div",{className:`grid grid-cols-2 gap-3 items-center transition-opacity ${se?"opacity-40 pointer-events-none":"opacity-100"}`,children:[c.jsxs("div",{className:"flex items-center bg-zinc-800 p-3 rounded-xl gap-2",children:[c.jsx("span",{className:"font-mono text-zinc-400 text-lg",children:te.sex==="Macho"?"X":Ar(ee).charAt(0).toUpperCase()||"?"}),c.jsx("input",{autoFocus:le===0,value:te.correlative,onChange:M=>q(le,"correlative",M.target.value.toUpperCase()),placeholder:"ID",className:"w-full bg-transparent text-lg text-white focus:outline-none",disabled:se,required:!se})]}),c.jsx("input",{value:te.birthWeight,onChange:M=>q(le,"birthWeight",M.target.value),placeholder:"Peso (Kg)",type:"number",step:"0.1",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",disabled:se,required:!se})]})]},te.id)}),c.jsx("button",{onClick:Y,disabled:N||v.some(te=>te.status==="Viva"&&(!te.correlative||!te.birthWeight)),className:"w-full bg-brand-green text-white font-bold py-4 rounded-xl text-lg disabled:opacity-50",children:N?"Guardando...":`Guardar Parto y ${p} Cra(s)`}),B&&c.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:B})]})]}),l===4&&c.jsxs("div",{className:"text-center flex flex-col justify-center items-center h-full",children:[c.jsx(Za,{size:80,className:"text-brand-green mb-4 animate-pulse"}),c.jsx("h2",{className:"text-3xl font-bold text-white",children:"xito!"}),c.jsxs("p",{className:"text-lg text-zinc-400",children:["El parto de ",c.jsx("span",{className:"font-mono font-bold text-white",children:D==null?void 0:D.id.toUpperCase()})," se ha registrado."]})]})]})]})}),c.jsxs(An,{isOpen:S,onClose:()=>E(!1),title:"Seleccionar Fecha del Parto",children:[c.jsx("style",{children:E9e}),c.jsx("div",{className:"flex justify-center",children:c.jsx(vp,{mode:"single",selected:new Date(A+"T00:00:00Z"),onSelect:te=>{te&&d(te.toISOString().split("T")[0]),E(!1)},locale:Cx,disabled:{after:new Date},captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-2,toYear:new Date().getFullYear()})})]}),c.jsx(SO,{isOpen:y,onClose:()=>x(!1),onSave:K})]}):null},LO=({isOpen:t,animal:e,onClose:n,onLogToSession:r,onStartNewSession:i,onStartDrying:a,onSetDry:s})=>{const{parturitions:o,weighings:l}=Yt(),[u,A]=P.useState(!1),d=P.useMemo(()=>o.filter(p=>p.goatId===e.id&&(p.status==="activa"||p.status==="en-secado")).sort((p,m)=>new Date(m.parturitionDate).getTime()-new Date(p.parturitionDate).getTime())[0],[o,e.id]),f=P.useMemo(()=>{const p=l.map(v=>v.date);return[...new Set(p)].sort((v,g)=>new Date(g).getTime()-new Date(v).getTime()).slice(0,3)},[l]),h=e.name?String(e.name).toUpperCase().trim():"";return!d&&!u?c.jsx(An,{isOpen:t,onClose:n,title:"Accin Requerida",children:c.jsxs("div",{className:"text-center space-y-4 text-white",children:[c.jsx(mr,{className:"mx-auto h-12 w-12 text-amber-400"}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),h&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:h})]}),c.jsx("h3",{className:"text-lg font-medium",children:"Animal sin Parto Activo"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Para registrar un pesaje o gestionar el secado, el animal debe tener un parto activo."}),c.jsxs("button",{onClick:()=>A(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(Pl,{size:18})," Declarar Parto Ahora"]})]})}):u?c.jsx(yp,{isOpen:!0,onClose:()=>{A(!1)},motherId:e.id}):c.jsx(An,{isOpen:t,onClose:n,title:"Acciones de Leche",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),h&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:h})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(BD,{size:16}),"Aadir a Sesin Reciente"]}),f.length>0?c.jsx("div",{className:"space-y-2",children:f.map(p=>c.jsxs("button",{onClick:()=>r(p),className:"w-full text-left bg-zinc-800/80 p-3 rounded-xl hover:bg-zinc-700 transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(So,{size:18,className:"text-zinc-500"}),c.jsx("span",{className:"text-base font-semibold text-white",children:new Date(p+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})})]}),c.jsx(ta,{size:20,className:"text-zinc-600 group-hover:text-white transition-colors"})]},p))}):c.jsx("p",{className:"text-center text-sm text-zinc-500 py-4",children:"No hay sesiones recientes."})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(Bl,{size:16}),"Iniciar Nueva Sesin de Pesaje"]}),c.jsxs("button",{onClick:i,className:"w-full text-left bg-brand-orange/20 border border-brand-orange/80 p-4 rounded-xl hover:bg-brand-orange/30 transition-colors flex justify-between items-center group",children:[c.jsx("span",{className:"text-lg font-bold text-white",children:"Construir Carga Masiva..."}),c.jsx(ta,{size:20,className:"text-brand-orange group-hover:text-orange-300 transition-colors"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:"Esto te permitir seleccionar un grupo de animales y registrar sus pesajes."})]}),d&&c.jsxs("div",{className:"pt-4 border-t border-brand-border",children:[c.jsx("h3",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Acciones de Lactancia"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>a(d.id),disabled:d.status!=="activa",className:"w-full flex items-center justify-center gap-2 bg-blue-600/20 text-blue-300 font-semibold py-3 px-3 rounded-lg hover:bg-blue-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(cp,{size:16})," ",d.status==="en-secado"?"Ya en Secado":"Iniciar Secado"]}),c.jsxs("button",{type:"button",onClick:()=>s(d.id),disabled:d.status==="seca"||d.status==="finalizada",className:"w-full flex items-center justify-center gap-2 bg-gray-600/20 text-gray-300 font-semibold py-3 px-3 rounded-lg hover:bg-gray-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(yc,{size:16})," ",d.status==="seca"?"Ya Seca":"Declarar Seca"]})]}),d.status==="en-secado"&&c.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]})})},MO=({isOpen:t,animal:e,onClose:n,onLogToSession:r,onStartNewSession:i,onSetReadyForMating:a})=>{const{bodyWeighings:s,parturitions:o}=Yt(),l=P.useMemo(()=>{const f=s.map(p=>p.date);return[...new Set(f)].sort((p,m)=>new Date(m).getTime()-new Date(p).getTime()).slice(0,3)},[s]),A=_f(e,o)==="Cabritona"&&e.reproductiveStatus==="Vaca",d=e.name?String(e.name).toUpperCase().trim():"";return c.jsx(An,{isOpen:t,onClose:n,title:"Pesaje Corporal",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-2",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:e.id.toUpperCase()}),d&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:d})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(BD,{size:16}),"Aadir a Sesin Reciente"]}),l.length>0?c.jsx("div",{className:"space-y-2",children:l.map(f=>c.jsxs("button",{onClick:()=>r(f),className:"w-full text-left bg-zinc-800/80 p-3 rounded-xl hover:bg-zinc-700 transition-colors flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(So,{size:18,className:"text-zinc-500"}),c.jsx("span",{className:"text-base font-semibold text-white",children:new Date(f+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})})]}),c.jsx(ta,{size:20,className:"text-zinc-600"})]},f))}):c.jsx("p",{className:"text-center text-sm text-zinc-500 py-4",children:"No hay sesiones recientes."})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(Bl,{size:16}),"Iniciar Nueva Sesin de Pesaje"]}),c.jsxs("button",{onClick:i,className:"w-full text-left bg-brand-green/20 border border-brand-green/80 p-4 rounded-xl hover:bg-brand-green/30 transition-colors flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-bold text-white",children:"Construir Carga Masiva..."}),c.jsx(ta,{size:20,className:"text-brand-green"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:"Esto te permitir seleccionar un grupo de animales y registrar sus pesos."})]}),A&&c.jsxs("div",{className:"pt-4 border-t border-brand-border",children:[c.jsx("h3",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Acciones de Desarrollo"}),c.jsx("div",{className:"flex",children:c.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 bg-pink-600/20 text-pink-300 font-semibold py-3 px-3 rounded-lg hover:bg-pink-600/40 transition-colors",children:[c.jsx(kq,{size:16})," Declarar en Peso de Monta"]})}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4 mt-2",children:'Si el animal tiene el peso y la edad adecuados, esto lo marcar como "En Servicio".'})]})]})})},DE=({animal:t,onConfirm:e,onCancel:n,reason:r,isOpen:i})=>{const[a,s]=P.useState(new Date().toISOString().split("T")[0]),[o,l]=P.useState(""),[u,A]=P.useState(""),[d,f]=P.useState("Cra"),[h,p]=P.useState(""),[m,v]=P.useState(),[g,y]=P.useState(""),x=["Baja produccin","Bajo ndice de crecimiento","Inflamacin articular","Linfadenitis caseosa","Sospecha de otras enfermedades"],S=t.name?String(t.name).toUpperCase().trim():"",E=()=>{const _={reason:r,date:a,salePrice:r==="Venta"&&parseFloat(o)||void 0,saleBuyer:r==="Venta"&&u||void 0,salePurpose:r==="Venta"?d:void 0,deathReason:r==="Muerte"&&h||void 0,cullReason:r==="Descarte"&&m||void 0,cullReasonDetails:r==="Descarte"&&m==="Sospecha de otras enfermedades"?g:void 0};e(_)},N=`Dar de baja por ${r}`;return i?c.jsx(An,{isOpen:i,onClose:n,title:N,children:c.jsxs("div",{className:"space-y-4 text-white",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),S&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:S})]}),c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Evento"}),c.jsx("input",{type:"date",value:a,onChange:_=>s(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",max:new Date().toISOString().split("T")[0],required:!0})]}),r==="Venta"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsx("input",{type:"number",step:"0.01",value:o,onChange:_=>l(_.target.value),placeholder:"Precio de Venta (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"}),c.jsx("input",{type:"text",value:u,onChange:_=>A(_.target.value),placeholder:"Comprador (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"}),c.jsxs("select",{value:d,onChange:_=>f(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",children:[c.jsx("option",{value:"Cra",children:"Para Cra"}),c.jsx("option",{value:"Carne",children:"Para Carne"})]})]}),r==="Muerte"&&c.jsx("div",{className:"animate-fade-in",children:c.jsx("textarea",{value:h,onChange:_=>p(_.target.value),placeholder:"Causa / Descripcin de la muerte...",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",rows:3})}),r==="Descarte"&&c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("select",{value:m||"",onChange:_=>v(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",children:[c.jsx("option",{value:"",children:"Seleccione una causa..."}),x.map(_=>c.jsx("option",{value:_,children:_},_))]}),m==="Sospecha de otras enfermedades"&&c.jsx("input",{type:"text",value:g,onChange:_=>y(_.target.value),placeholder:"Especificar sospecha o sntomas...",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center pt-2",children:'El animal ser movido a "Referencia".'}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:E,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg",children:"Confirmar Baja"})]})]})}):null},RO=({animal:t,onSaveSuccess:e,onCancel:n})=>{const{fathers:r,addFather:i,addParturition:a}=Yt(),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(""),[A,d]=P.useState(!0),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(!1),y=t.name?String(t.name).toUpperCase().trim():"",x=async E=>{if(E.preventDefault(),!l){m({type:"error",text:"Debe seleccionar el padre (semental)."});return}h(!0),m(null);try{await a({motherId:t.id,parturitionDate:s,sireId:l,parturitionType:"Simple",offspringCount:0,liveOffspring:[],parturitionOutcome:"Aborto",inducedLactation:A}),m({type:"success",text:`Aborto registrado para ${t.id.toUpperCase()}.`}),setTimeout(e,1500)}catch(N){m({type:"error",text:N.message||"No se pudo registrar el aborto."}),h(!1)}},S=async E=>{try{await i(E),u(E.id),g(!1)}catch(N){console.error("Error saving new father:",N),m({type:"error",text:N.message||"No se pudo guardar el nuevo padre."})}};return c.jsxs(c.Fragment,{children:[c.jsx(An,{isOpen:!v,onClose:n,title:"Registrar Aborto",children:c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),y&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:y})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Aborto"}),c.jsx("input",{type:"date",value:s,onChange:E=>o(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white",required:!0,max:new Date().toISOString().split("T")[0]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Padre (Semental Involucrado)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:l,onChange:E=>u(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-white appearance-none",required:!0,children:[c.jsx("option",{value:"",children:"Seleccionar Padre..."}),r.map(E=>c.jsx("option",{value:E.id,children:Ar(E)},E.id))]}),c.jsx("button",{type:"button",onClick:()=>g(!0),className:"flex-shrink-0 p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",title:"Aadir Nuevo Padre de Referencia",children:c.jsx(na,{size:24})})]})]}),c.jsxs("div",{className:"bg-black/20 rounded-xl p-3 border border-zinc-700 flex items-center justify-between",children:[c.jsx("label",{htmlFor:"inducedLactation",className:"text-sm font-medium text-zinc-300",children:"Se iniciar lactancia post-aborto?"}),c.jsx("input",{id:"inducedLactation",type:"checkbox",checked:A,onChange:E=>d(E.target.checked),className:"form-checkbox h-5 w-5 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'Marcar esta opcin iniciar una lactancia "atpica" para poder registrar los pesajes.'}),p&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${p.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[p.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:p.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg disabled:opacity-50",children:f?"Guardando...":"Confirmar Aborto"})]})]})}),c.jsx(SO,{isOpen:v,onClose:()=>g(!1),onSave:S})]})},Wg=({animalId:t,weightType:e,onSaveSuccess:n,onCancel:r,sessionDate:i})=>{const{addBodyWeighing:a,addWeighing:s,animals:o}=Yt(),[l,u]=P.useState(i||new Date().toISOString().split("T")[0]),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState(null),v=be.useMemo(()=>o.find(x=>x.id===t),[o,t]),g=v!=null&&v.name?String(v.name).toUpperCase().trim():"";P.useEffect(()=>{i&&u(i)},[i]);const y=async x=>{x.preventDefault(),m(null),h(!0);const S=parseFloat(A);if(isNaN(S)||S<=0){m({type:"error",text:"Por favor, introduce un peso vlido."}),h(!1);return}if(e==="corporal"&&S>150){m({type:"error",text:"El peso corporal parece irracionalmente alto."}),h(!1);return}if(e==="leche"&&S>8.5){m({type:"error",text:"La produccin de leche parece irracionalmente alta."}),h(!1);return}try{e==="corporal"?await a({animalId:t,date:l,kg:S}):await s({goatId:t,date:l,kg:S}),m({type:"success",text:`Pesaje de ${t} guardado con xito.`}),setTimeout(()=>{n()},1500)}catch(E){m({type:"error",text:E.message||"No se pudo guardar el pesaje."}),h(!1)}};return c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.toUpperCase()}),g&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:g})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha del Pesaje"}),c.jsx("input",{id:"weighingDate",type:"date",value:l,onChange:x=>u(x.target.value),disabled:!!i,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg disabled:opacity-70 disabled:bg-zinc-700",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingKg",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Peso (Kg)"}),c.jsx("input",{id:"weighingKg",type:"number",step:"0.1",value:A,onChange:x=>d(x.target.value),placeholder:"Ej: 3.5",autoFocus:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0})]}),p&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${p.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[p.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:p.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:f?c.jsx(eu,{size:18,className:"animate-spin"}):"Guardar Pesaje"})]})]})},UO=({weightType:t,animalsToWeigh:e,onSaveSuccess:n,onCancel:r})=>{const{addWeighing:i,addBodyWeighing:a,parturitions:s,startDryingProcess:o,setLactationAsDry:l}=Yt(),[u,A]=P.useState(new Date().toISOString().split("T")[0]),[d,f]=P.useState({}),[h,p]=P.useState(!1),[m,v]=P.useState(null),[g,y]=P.useState(null),x=P.useMemo(()=>Object.values(d).filter(j=>j.trim()!==""&&!isNaN(parseFloat(j))).length,[d]),S=P.useMemo(()=>{const j=new Map;if(t==="leche"){const D=new Set(e.map(k=>k.id));s.filter(k=>D.has(k.goatId)&&(k.status==="activa"||k.status==="en-secado")).forEach(k=>{const O=j.get(k.goatId);(!O||new Date(k.parturitionDate)>new Date(O.parturitionDate))&&j.set(k.goatId,k)})}return j},[s,e,t]),E=(j,D)=>{f(k=>({...k,[j]:D}))},N=async j=>{const D=S.get(j);if(!(!D||D.status!=="activa")){v(j),y(null);try{await o(D.id),S.set(j,{...D,status:"en-secado"})}catch(k){y({type:"error",text:`Error al secar ${j}: ${k.message}`})}finally{v(null)}}},_=async j=>{const D=S.get(j);if(!(!D||D.status==="seca"||D.status==="finalizada")){v(j),y(null);try{await l(D.id),S.set(j,{...D,status:"seca"})}catch(k){y({type:"error",text:`Error al secar ${j}: ${k.message}`})}finally{v(null)}}},B=async j=>{j.preventDefault(),y(null),p(!0);const D=Object.entries(d).map(([k,O])=>({animalId:k,kg:parseFloat(O)})).filter(k=>!isNaN(k.kg)&&k.kg>0);if(D.length===0){y({type:"error",text:"No se han introducido pesos vlidos."}),p(!1);return}try{const k=D.map(O=>t==="leche"?i({goatId:O.animalId,kg:O.kg,date:u}):a({animalId:O.animalId,kg:O.kg,date:u}));await Promise.all(k),y({type:"success",text:`${D.length} pesajes guardados con xito.`}),setTimeout(()=>{n()},1500)}catch(k){y({type:"error",text:"Ocurri un error al guardar los datos."}),p(!1),console.error("Error en escritura por lote de pesajes:",k)}};return c.jsxs("form",{onSubmit:B,className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 p-4 border-b border-brand-border",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:t==="leche"?"Sesin de Ordeo":"Sesin de Pesaje Corporal"}),c.jsx("input",{type:"date",value:u,onChange:j=>A(j.target.value),className:"bg-zinc-800 text-white p-2 rounded-lg text-sm"})]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Registrando ",x," / ",e.length," animales."]})]}),c.jsx("div",{className:"flex-grow overflow-y-auto p-4 space-y-2",children:e.map(j=>{const D=j.name?String(j.name).toUpperCase().trim():"";if(t==="corporal")return c.jsxs("div",{className:"grid grid-cols-2 items-center gap-4 p-2 bg-black/20 rounded-lg",children:[c.jsxs("div",{className:"min-w-0 col-span-1",children:[c.jsx("label",{htmlFor:`weight-${j.id}`,className:"font-mono font-semibold text-base text-white truncate block cursor-pointer",children:j.id.toUpperCase()}),D&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:D})]}),c.jsx("input",{id:`weight-${j.id}`,type:"number",step:"0.1",value:d[j.id]||"",onChange:L=>E(j.id,L.target.value),placeholder:"Kg",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center"})]},j.id);const k=S.get(j.id),O=m===j.id;return c.jsxs("div",{className:"grid grid-cols-3 items-center gap-2 p-2 bg-black/20 rounded-lg",children:[c.jsxs("div",{className:"min-w-0 col-span-1",children:[c.jsx("label",{htmlFor:`weight-${j.id}`,className:"font-mono font-semibold text-base text-white truncate block cursor-pointer",children:j.id.toUpperCase()}),D&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:D})]}),c.jsx("input",{id:`weight-${j.id}`,type:"number",step:"0.1",value:d[j.id]||"",onChange:L=>E(j.id,L.target.value),placeholder:"Kg",disabled:!k||k.status==="seca"||h,className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center col-span-1 disabled:opacity-50"}),c.jsx("div",{className:"col-span-1 flex items-center justify-end gap-1",children:O?c.jsx(eu,{className:"animate-spin text-zinc-400",size:20}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>N(j.id),disabled:!k||k.status!=="activa"||h,title:"Iniciar Secado",className:"p-2 bg-blue-600/20 text-blue-300 rounded-lg hover:bg-blue-600/40 disabled:opacity-30 disabled:cursor-not-allowed",children:c.jsx(cp,{size:16})}),c.jsx("button",{type:"button",onClick:()=>_(j.id),disabled:!k||k.status==="seca"||k.status==="finalizada"||h,title:"Declarar Seca",className:"p-2 bg-gray-600/20 text-gray-300 rounded-lg hover:bg-gray-600/40 disabled:opacity-30 disabled:cursor-not-allowed",children:c.jsx(yc,{size:16})})]})})]},j.id)})}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-ios-modal-bg",children:[g&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${g.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[g.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:g.text})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:h||x===0||m!==null,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[h?c.jsx(eu,{size:18,className:"animate-spin"}):c.jsx(o0,{size:18}),"Guardar ",x>0?`(${x})`:""]})]})]})]})},QO=({weightType:t,onBack:e,onAnimalsSelected:n})=>{const{animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o}=Yt(),[l,u]=P.useState(!0),A=`Nueva Sesin de Peso ${t==="corporal"?"Corporal":"Lechero"}`,d=h=>{const p=r.filter(m=>h.includes(m.id));n(h,p),u(!1)},f=()=>{u(!1),e()};return c.jsx(kE,{isOpen:l,onClose:f,onSelect:d,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:A,sessionType:t})},_9e=`
  .rdp {
    --rdp-cell-size: 40px; /* Size of day cells */
    --rdp-accent-color: #FF9500; /* Orange accent */
    --rdp-background-color: transparent; /* Transparent background */
    --rdp-accent-color-dark: #FF9500;
    --rdp-background-color-dark: transparent;
    --rdp-outline: 2px solid var(--rdp-accent-color); /* Outline for focused day */
    --rdp-border-radius: 12px; /* Rounded corners */
    color: #FFF; /* Default text color */
    margin: 1em auto; /* Centering */
  }
  .rdp-caption_label { color: #FFF; font-weight: bold; } /* Month/Year label */
  .rdp-nav_button { color: #FF9500; } /* Navigation arrows */
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; } /* Weekday names */
  .rdp-day { color: #FFF; } /* Day numbers */
  .rdp-day_today { font-weight: bold; color: #FF9500; } /* Today's date */
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; } /* Selected day */
  .rdp-day_disabled { color: #505054; } /* Disabled days */
  .rdp-day_outside { color: #505054; } /* Days outside current month */
  .rdp-caption_dropdowns { display: flex; gap: 10px; } /* Style dropdowns if used */
  .rdp-dropdown {
      background-color: #333; /* Dark background for dropdown */
      border: 1px solid #555;
      color: #FFF;
      padding: 4px 8px;
      border-radius: 6px;
  }
`,HO=({isOpen:t,onClose:e,onSave:n,animal:r})=>{if(!t)return null;const i=r.name?String(r.name).toUpperCase().trim():"",a=s=>{s&&n(s)};return c.jsxs(An,{isOpen:t,onClose:e,title:"Registrar Servicio",children:[c.jsx("style",{children:_9e}),c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:r.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i})]}),c.jsx("div",{className:"flex justify-center pb-4",children:c.jsx(vp,{mode:"single",onSelect:a,defaultMonth:new Date,locale:Cx,disabled:{after:new Date},captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-1,toYear:new Date().getFullYear()})})]})},B9e=({animal:t,isSelected:e,onSelect:n})=>{const r=t.name?String(t.name).toUpperCase().trim():"";return c.jsx("div",{onClick:()=>n(t.id),className:`w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border flex justify-between items-center transition-all cursor-pointer min-h-[80px] ${e?"border-brand-orange ring-2 ring-brand-orange/50":"border-brand-border"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[e?c.jsx(T5,{className:"text-brand-orange flex-shrink-0",size:20}):c.jsx(k5,{className:"text-zinc-500 flex-shrink-0",size:20}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge]})})]})]})})};function N9e({lotName:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,updateAnimal:l,addServiceRecord:u,startDryingProcess:A,setLactationAsDry:d,fathers:f}=Yt(),[h,p]=P.useState(!1),[m,v]=P.useState(!1),[g,y]=P.useState(new Set),[x,S]=P.useState(!1),[E,N]=P.useState(null),[_,B]=P.useState(!1),[j,D]=P.useState(null),[k,O]=P.useState(null),[L,H]=P.useState(null),[q,Y]=P.useState([]),[ee,K]=P.useState("corporal"),te=P.useMemo(()=>{const $e=new Map(o.map(vt=>[vt.id,vt])),ft=new Map(f.map(vt=>[vt.id,vt]));return r.filter(vt=>(vt.location||"Sin Asignar")===t&&!vt.isReference).sort((vt,Ye)=>vt.id.localeCompare(Ye.id)).map(vt=>{let Ye;if(vt.sireLotId){const Dt=$e.get(vt.sireLotId);if(Dt){const pt=ft.get(Dt.sireId)||r.find(ct=>ct.id===Dt.sireId);Ye=pt?Ar(pt):void 0}}return{...vt,formattedAge:lu(vt.birthDate),statusObjects:ote(vt,i,a,o,s),sireName:Ye}})},[r,t,i,a,o,s,f]),le=P.useRef(null),se=cte({count:te.length,getScrollElement:()=>le.current,estimateSize:()=>96,overscan:5}),M=$e=>{y(ft=>{const vt=new Set(ft);return vt.has($e)?vt.delete($e):vt.add($e),vt})},$=async()=>{const $e=Array.from(g).map(ft=>l(ft,{location:""}));try{await Promise.all($e),v(!1),y(new Set)}catch(ft){console.error("Error al quitar animales:",ft)}},J=async $e=>{if(!t)return;const ft=$e.map(vt=>l(vt,{location:t}));await Promise.all(ft),p(!1)},ne=$e=>{if(!$e)return[];const ft=[];return $e.sex==="Hembra"&&(ft.push({label:"Declarar Parto",icon:Pl,onClick:()=>{B(!1),D("parturition")}}),ft.push({label:"Declarar Aborto",icon:cf,onClick:()=>{B(!1),D("abortion")},color:"text-yellow-400"}),ft.push({label:"Acciones de Leche",icon:lf,onClick:()=>{B(!1),D("milkWeighingAction")}}),$e.sireLotId&&ft.push({label:"Registrar Servicio",icon:I5,onClick:()=>{B(!1),D("service")},color:"text-pink-400"})),ft.push({label:"Acciones de Peso",icon:qA,onClick:()=>{B(!1),D("bodyWeighingAction")}}),ft.push({label:"Dar de Baja",icon:yc,onClick:()=>{B(!1),D("decommissionSheet")},color:"text-brand-red"}),ft},he=[{label:"Por Venta",icon:Dl,onClick:()=>{O("Venta"),D("decommission")}},{label:"Por Muerte",icon:cf,onClick:()=>{O("Muerte"),D("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:_5,onClick:()=>{O("Descarte"),D("decommission")},color:"text-brand-red"}],we=$e=>{N($e),B(!0)},Se=()=>{D(null),N(null),H(null),Y([]),O(null)},Ae=async $e=>{if(!E)return;const ft={status:$e.reason,isReference:!0,endDate:$e.date};$e.reason==="Venta"&&Object.assign(ft,{salePrice:$e.salePrice,saleBuyer:$e.saleBuyer,salePurpose:$e.salePurpose}),$e.reason==="Muerte"&&(ft.deathReason=$e.deathReason),$e.reason==="Descarte"&&Object.assign(ft,{cullReason:$e.cullReason,cullReasonDetails:$e.cullReasonDetails}),await l(E.id,ft),Se()},ge=($e,ft)=>{H($e),D(ft==="leche"?"logSimpleMilk":"logSimpleBody")},xe=$e=>{K($e),D($e==="leche"?"newMilkSession":"newBodySession")},ae=async()=>{E&&(await l(E.id,{reproductiveStatus:"En Servicio"}),Se())},Ve=($e,ft)=>{Y(ft),D("bulkWeighing")},Oe=()=>{Se()},fe=async $e=>{if(!E||!E.sireLotId){console.error("Missing animal or sireLotId."),Se();return}await u({sireLotId:E.sireLotId,femaleId:E.id,serviceDate:$e.toISOString().split("T")[0]}),Se()};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:le,className:"w-full max-w-2xl mx-auto space-y-4 pb-4 animate-fade-in",style:{height:`calc(100vh - 64px - 65px - ${m&&g.size>0?"80px":"0px"})`,overflowY:"auto"},children:[c.jsxs("header",{className:"flex items-center justify-between pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),c.jsxs("p",{className:"text-lg text-zinc-400",children:[te.length," ",te.length===1?"animal":"animales"]})]}),m?c.jsx("button",{onClick:()=>{v(!1),y(new Set)},className:"text-brand-orange font-semibold px-2 py-1",children:"Listo"}):c.jsx("button",{onClick:()=>v(!0),className:"p-2 -mr-2 text-zinc-400 hover:text-white",children:c.jsx(yf,{size:20})})]}),!m&&c.jsx("div",{className:"px-4 pt-4",children:c.jsxs("button",{onClick:()=>p(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[c.jsx(na,{size:20})," Aadir Animales"]})}),c.jsx("div",{className:"pt-4",style:{height:"auto",position:"relative"},children:te.length>0?c.jsx("div",{style:{height:`${se.getTotalSize()}px`,width:"100%",position:"relative"},children:se.getVirtualItems().map($e=>{const ft=te[$e.index];return c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${$e.size}px`,transform:`translateY(${$e.start}px)`,padding:"0 1rem 1rem 1rem",boxSizing:"border-box"},children:m?c.jsx(B9e,{animal:ft,isSelected:g.has(ft.id),onSelect:M}):c.jsx(CO,{animal:ft,onSelect:vt=>n({name:"rebano-profile",animalId:vt}),onOpenActions:we})},$e.key)})}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-500",children:"Este lote est vaco."})})})]}),m&&g.size>0&&c.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-ios-modal-bg p-4 border-t border-brand-border animate-slide-up z-20",children:c.jsxs("div",{className:"max-w-2xl mx-auto flex gap-4",children:[c.jsxs("button",{onClick:$,className:"flex-1 flex items-center justify-center gap-2 bg-brand-red text-white font-bold py-3 rounded-xl",children:[c.jsx(bc,{size:18})," Quitar del Lote"]}),c.jsxs("button",{onClick:()=>S(!0),className:"flex-1 flex items-center justify-center gap-2 bg-brand-blue text-white font-bold py-3 rounded-xl",children:[c.jsx(jq,{size:18})," Transferir"]})]})}),c.jsx(kE,{isOpen:h,onClose:()=>p(!1),onSelect:J,animals:r,parturitions:i,serviceRecords:a,breedingSeasons:s,sireLots:o,title:`Aadir animales a: ${t}`}),c.jsx(ZQe,{isOpen:x,onClose:()=>{S(!1),v(!1),y(new Set)},animalsToTransfer:Array.from(g),fromLot:t}),c.jsx(Hu,{isOpen:_,onClose:()=>B(!1),title:`Acciones para ${Ar(E)}`,actions:ne(E)}),c.jsx(Hu,{isOpen:j==="decommissionSheet",onClose:Se,title:"Causa de la Baja",actions:he}),E&&c.jsxs(c.Fragment,{children:[j==="parturition"&&c.jsx(yp,{isOpen:!0,onClose:Se,motherId:E.id}),j==="abortion"&&c.jsx(RO,{animal:E,onCancel:Se,onSaveSuccess:Se}),j==="decommission"&&k&&c.jsx(DE,{isOpen:j==="decommission",animal:E,onCancel:Se,onConfirm:Ae,reason:k}),j==="service"&&c.jsx(HO,{isOpen:!0,onClose:Se,onSave:fe,animal:E}),j==="milkWeighingAction"&&c.jsx(LO,{isOpen:!0,animal:E,onClose:Se,onLogToSession:$e=>ge($e,"leche"),onStartNewSession:()=>xe("leche"),onStartDrying:A,onSetDry:d}),j==="bodyWeighingAction"&&c.jsx(MO,{isOpen:!0,animal:E,onClose:Se,onLogToSession:$e=>ge($e,"corporal"),onStartNewSession:()=>xe("corporal"),onSetReadyForMating:ae}),j==="logSimpleMilk"&&L&&c.jsx(An,{isOpen:!0,onClose:Se,title:`Aadir Pesaje Leche: ${Ar(E)}`,children:c.jsx(Wg,{animalId:E.id,weightType:"leche",onSaveSuccess:Se,onCancel:Se,sessionDate:L})}),j==="logSimpleBody"&&L&&c.jsx(An,{isOpen:!0,onClose:Se,title:`Aadir Peso Corporal: ${Ar(E)}`,children:c.jsx(Wg,{animalId:E.id,weightType:"corporal",onSaveSuccess:Se,onCancel:Se,sessionDate:L})}),(j==="newMilkSession"||j==="newBodySession")&&c.jsx(QO,{weightType:ee,onBack:Se,onAnimalsSelected:Ve}),j==="bulkWeighing"&&c.jsx(An,{isOpen:!0,onClose:Se,title:`Carga Masiva - ${ee==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(UO,{weightType:ee,animalsToWeigh:q,onSaveSuccess:Oe,onCancel:Se})})]})]})}const j9e=({activeFilter:t,setActiveFilter:e})=>c.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[c.jsx("button",{onClick:()=>e("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Activo"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"Activos"}),c.jsx("button",{onClick:()=>e("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"De Referencia"})]}),I9e=({activeFilter:t,setFilter:e})=>{const n=[{key:"all",label:"Todos"},{key:"Venta",label:"Vendidos"},{key:"Muerte",label:"Muertos"},{key:"Descarte",label:"Descartados"}];return c.jsxs("div",{className:"p-3 bg-black/20 rounded-lg",children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"Filtrar por estado:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(r=>c.jsx("button",{onClick:()=>e(r.key),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${t===r.key?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:r.label},r.key))})]})},fS=({isOpen:t,onClose:e,onSelect:n,animals:r,title:i,filterSex:a})=>{const[s,o]=P.useState(""),[l,u]=P.useState("Activo"),[A,d]=P.useState("all"),f=m=>{u(m),d("all")},h=P.useMemo(()=>r.filter(m=>{if(a&&m.sex&&m.sex!==a)return!1;const v=m.isReference;return l==="Referencia"?v?A!=="all"?m.status===A:!0:!1:!v}).filter(m=>{if(!s)return!0;const v=s.toLowerCase(),g=m.id.toLowerCase().includes(v),y=m.name&&m.name.toLowerCase().includes(v);return g||y}).sort((m,v)=>m.id.localeCompare(v.id)),[r,s,l,A,a]),p=m=>{n(m),o("")};return c.jsx(An,{isOpen:t,onClose:e,title:i,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),c.jsx("input",{type:"search",placeholder:"Buscar ID o Nombre...",value:s,onChange:m=>o(m.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),c.jsx(j9e,{activeFilter:l,setActiveFilter:f}),l==="Referencia"&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(I9e,{activeFilter:A,setFilter:d})}),c.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:h.length>0?h.map(m=>{const v=m.name?String(m.name).toUpperCase().trim():"";return c.jsx("button",{onClick:()=>p(m.id),className:"w-full text-left p-3 bg-zinc-800/50 hover:bg-zinc-700 rounded-lg transition-colors",children:c.jsxs("div",{className:"min-w-0",children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:m.id.toUpperCase()}),v&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:v}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[m.sex?`${m.sex}`:"",m.birthDate&&m.birthDate!=="N/A"?` | ${lu(m.birthDate)}`:"",` | Lote: ${m.location||"N/A"}`]})]})},m.id)}):c.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No se encontraron animales con estos filtros."})})]})})},Tte=(t,e)=>{if(!t||!e)return"Indefinido";const n=new Date,r=new Date(t+"T00:00:00");if(isNaN(r.getTime()))return"Indefinido";const i=(n.getTime()-r.getTime())/(1e3*60*60*24);return e==="Hembra"?i<=60?"Cabrita":i<=365?"Cabritona":"Cabra Adulta":i<=60?"Cabrito":i<=365?"Macho de Levante":"Macho Cabro"},Sm=be.forwardRef(({className:t,...e},n)=>c.jsx("input",{ref:n,...e,className:`w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange disabled:opacity-50 disabled:bg-brand-dark/50 ${t}`})),t4=be.forwardRef(({children:t,...e},n)=>c.jsxs("div",{className:"relative w-full",children:[c.jsx("select",{ref:n,...e,className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-orange",children:t}),c.jsx(Ky,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"})]})),Qm=({title:t,children:e})=>c.jsxs("div",{className:"bg-brand-glass rounded-2xl border border-brand-border p-4 space-y-4",children:[c.jsx("h2",{className:"text-zinc-400 font-semibold text-sm uppercase tracking-wide",children:t}),e]}),RT=({labelOn:t,labelOff:e,value:n,onChange:r})=>c.jsxs("div",{onClick:()=>r(!n),className:"w-full bg-brand-dark rounded-xl p-1 flex cursor-pointer",children:[c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"bg-zinc-700 text-white":"text-zinc-400"}`,children:t}),c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"text-zinc-400":"bg-zinc-700 text-white"}`,children:e})]}),T9e=({onSaveSuccess:t,onCancel:e})=>{const{addAnimal:n,animals:r,lots:i,fathers:a}=Yt(),[s,o]=P.useState("Activo"),[l,u]=P.useState("Hembra"),[A,d]=P.useState(""),[f,h]=P.useState(""),[p,m]=P.useState(""),[v,g]=P.useState("MN"),[y,x]=P.useState(""),[S,E]=P.useState(null),[N,_]=P.useState(null),[B,j]=P.useState(""),[D,k]=P.useState(""),[O,L]=P.useState(!1),[H,q]=P.useState(""),[Y,ee]=P.useState(null),[K,te]=P.useState(null),[le,se]=P.useState("Indefinido"),[M,$]=P.useState(!1),[J,ne]=P.useState(!1),[he,we]=P.useState(!1),[Se,Ae]=P.useState(!1),[ge,xe]=P.useState(!1),[ae,Ve]=P.useState(null),Oe=P.useMemo(()=>p?Tte(p,l):"Indefinido",[p,l]),fe=p?Oe:le;P.useEffect(()=>{k(wO(B))},[B]);const $e=P.useMemo(()=>r.filter(ct=>ct.sex==="Hembra"),[r]),ft=P.useMemo(()=>r.filter(ct=>ct.sex==="Macho"),[r]),vt=P.useMemo(()=>{const ct=ft,jt=a.map(Xt=>({id:Xt.id,name:Xt.name,sex:"Macho",status:"Activo",isReference:!0,birthDate:"N/A",lifecycleStage:"Macho Cabro",location:"Referencia",reproductiveStatus:"No Aplica",createdAt:0,lastWeighing:null}));return[...ct,...jt]},[ft,a]);P.useEffect(()=>{const ct=r.find(Xt=>Xt.id===N),jt=vt.find(Xt=>Xt.id===S);if(ct!=null&&ct.racialComposition&&(jt!=null&&jt.racialComposition)){const Xt=KQe(ct.racialComposition,jt.racialComposition);j(Xt),L(!0)}else(!ct||!jt)&&L(!1)},[N,S,r,vt]),P.useEffect(()=>{if(ee(null),A&&s==="Activo"){const ct=r.some(jt=>jt.id.toLowerCase()===A.toLowerCase());te(ct?`El ID "${A.toUpperCase()}" ya existe en el rebao principal.`:null)}else te(null)},[A,r,s]);const Ye=P.useMemo(()=>i,[i]),Dt=async ct=>{if(ct.preventDefault(),ee(null),te(null),s==="Activo"&&!A){ee({type:"error",text:"El ID del animal es obligatorio para animales Activos."});return}if(A&&s==="Activo"&&r.some(Zt=>Zt.id.toLowerCase()===A.toLowerCase())){te(`El ID "${A.toUpperCase()}" ya existe en el rebao principal.`),ee({type:"error",text:`El ID "${A.toUpperCase()}" ya existe.`});return}const jt={id:A.toUpperCase()||`REF-${Date.now()}`,name:f||void 0,birthDate:p||"N/A",sex:l,isReference:s==="Referencia",status:"Activo",lifecycleStage:fe,conceptionMethod:v||void 0,birthWeight:y?parseFloat(y):void 0,fatherId:S||void 0,motherId:N||void 0,racialComposition:B||void 0,breed:D||void 0,location:H||"",reproductiveStatus:l==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{await n(jt),ee({type:"success",text:`Animal ${Ar(jt)} agregado con xito.`}),setTimeout(t,1e3)}catch(Xt){ee({type:"error",text:Xt.message||"No se pudo guardar el animal."}),console.error("Error al guardar animal:",Xt)}},pt=ct=>{ae==="father"?E(ct.id):ae==="mother"&&_(ct.id),Ve(null)};return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:Dt,className:"w-full space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:["ID Animal ",s==="Activo"?"(Obligatorio)":"(Opcional para Referencia)"]}),c.jsx("input",{type:"text",value:A,onClick:()=>Ae(!0),readOnly:!0,placeholder:s==="Activo"?"T047":"Opcional...",className:`w-full bg-brand-glass border rounded-xl p-4 text-white text-center text-3xl font-mono tracking-widest placeholder-zinc-700 focus:outline-none focus:ring-2 cursor-pointer ${K?"border-brand-red ring-brand-red":"border-brand-border focus:ring-brand-orange"}`,required:s==="Activo"}),K&&c.jsxs("p",{className:"mt-2 text-sm text-brand-red flex items-center justify-center gap-1",children:[c.jsx(mr,{size:14})," ",K]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Nombre (Opcional)"}),c.jsx(Sm,{type:"text",value:f,onChange:ct=>h(ct.target.value.toUpperCase()),placeholder:"Ej: PRINCESA"})]}),c.jsxs(Qm,{title:"Categora",children:[c.jsx(RT,{labelOn:"Hembra",labelOff:"Macho",value:l==="Hembra",onChange:ct=>u(ct?"Hembra":"Macho")}),c.jsx(RT,{labelOn:"Activo",labelOff:"Referencia",value:s==="Activo",onChange:ct=>{o(ct?"Activo":"Referencia"),ct||te(null)}})]}),c.jsxs(Qm,{title:"Gentica y Nacimiento",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Fecha de Nacimiento (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>$(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white flex justify-between items-center",children:[c.jsx("span",{className:p?"text-white":"text-zinc-500",children:p?new Date(p+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Seleccionar fecha..."}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Estado (Categora Zootcnica)"}),p?c.jsx(Sm,{type:"text",value:Oe,readOnly:!0,disabled:!0}):c.jsxs(t4,{value:le,onChange:ct=>se(ct.target.value),children:[c.jsx("option",{value:"Indefinido",children:"Seleccionar Categora..."}),c.jsx("option",{value:"Cabrita",children:"Cabrita"}),c.jsx("option",{value:"Cabritona",children:"Cabritona"}),c.jsx("option",{value:"Cabra Adulta",children:"Cabra Adulta"}),c.jsx("option",{value:"Cabrito",children:"Cabrito"}),c.jsx("option",{value:"Macho de Levante",children:"Macho de Levante"}),c.jsx("option",{value:"Macho Cabro",children:"Macho Cabro (Reproductor)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs(t4,{value:v,onChange:ct=>g(ct.target.value),children:[c.jsx("option",{value:"MN",children:"Monta Natural (MN)"}),c.jsx("option",{value:"IA",children:"Inseminacin Artificial (IA)"}),c.jsx("option",{value:"TE",children:"Transferencia de Embriones (TE)"}),c.jsx("option",{value:"",children:"Otro/Desconocido"})]}),c.jsx(Sm,{type:"number",step:"0.1",value:y,onChange:ct=>x(ct.target.value),placeholder:"Peso al Nacer (Kg)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Padre (Semental)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>we(!0),className:"w-full text-left bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsx("span",{className:S?"text-white":"text-zinc-500",children:S?Ar(vt.find(ct=>ct.id===S))||S:"Seleccionar padre..."}),c.jsx(Uu,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>Ve("father"),className:"p-3 bg-brand-glass border border-brand-border rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(na,{size:20})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Madre"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>ne(!0),className:"w-full text-left bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsx("span",{className:N?"text-white":"text-zinc-500",children:N?Ar($e.find(ct=>ct.id===N))||N:"Seleccionar madre..."}),c.jsx(Uu,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>Ve("mother"),className:"p-3 bg-brand-glass border border-brand-border rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(na,{size:20})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Composicin Racial (Ej: 50%A 50%S)"}),c.jsx("input",{type:"text",value:B,onClick:()=>{O||xe(!0)},readOnly:!0,placeholder:"100%A  75%A 25%AGC",disabled:O,className:`w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange ${O?"opacity-50 bg-brand-dark/50":"cursor-pointer"}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:"Raza (Auto-calculada)"}),c.jsx(Sm,{type:"text",value:D,readOnly:!0,disabled:!0,placeholder:"Ej: Mestiza Alpina"})]})]}),c.jsxs(Qm,{title:"Manejo",children:[c.jsxs(t4,{value:H,onChange:ct=>q(ct.target.value),children:[c.jsx("option",{value:"",children:"Ubicacin / Lote (Opcional)..."}),Ye.map(ct=>c.jsx("option",{value:ct.name,children:ct.name},ct.id))]}),c.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'Si no se asigna un lote, se podr encontrar en el filtro "ltima Carga".'})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[Y&&!K&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${Y.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",Y.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18})," ",c.jsx("span",{children:Y.text})," "]}),c.jsx("button",{type:"submit",disabled:!!K,className:`w-full text-white font-bold py-4 rounded-xl text-lg ${K?"bg-zinc-600 cursor-not-allowed":"bg-brand-green hover:bg-green-600"}`,children:"Guardar Animal"}),c.jsx("button",{type:"button",onClick:e,className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-3 rounded-xl text-lg",children:"Cancelar"})]})]}),M&&c.jsx(kte,{onClose:()=>$(!1),onSelectDate:ct=>{ct&&m(ct.toISOString().split("T")[0]),$(!1)},currentValue:p?new Date(p+"T00:00:00"):new Date}),c.jsx(fS,{isOpen:J,onClose:()=>ne(!1),onSelect:ct=>{_(ct),ne(!1)},animals:$e,title:"Seleccionar Madre",filterSex:"Hembra"}),c.jsx(fS,{isOpen:he,onClose:()=>we(!1),onSelect:ct=>{E(ct),we(!1)},animals:vt,title:"Seleccionar Padre",filterSex:"Macho"}),Se&&c.jsx(Pte,{onClose:()=>Ae(!1),onInput:ct=>d(ct.toUpperCase()),currentValue:A}),ge&&c.jsx(Dte,{onClose:()=>xe(!1),onInput:j,currentValue:B}),ae&&c.jsx(k9e,{type:ae,onClose:()=>Ve(null),onSave:pt})]})},kte=({onClose:t,onSelectDate:e,currentValue:n})=>c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm animate-fade-in",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-ios-modal-bg rounded-t-2xl p-4 shadow-lg animate-slide-up",onClick:r=>r.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 1rem)"},children:[c.jsx("div",{onClick:t,className:"w-16 h-1.5 bg-zinc-700 rounded-full mx-auto mb-4 cursor-pointer"}),c.jsx("div",{className:"flex justify-center [&_.rdp]:bg-transparent [&_.rdp]:text-white [&_.rdp-caption_select]:bg-brand-glass [&_.rdp-caption_select]:border-brand-border [&_.rdp-caption_select]:text-white [&_.rdp-caption_select]:rounded-lg [&_.rdp-day_selected]:bg-brand-orange [&_.rdp-day_selected]:text-white [&_.rdp-day_today]:text-brand-orange [&_.rdp-nav_button]:text-zinc-400 [&_.rdp-head_cell]:text-zinc-500 [&_.rdp-day]:text-zinc-200 [&_.rdp-day_outside]:text-zinc-600",children:c.jsx(vp,{mode:"single",selected:n,onSelect:e,captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear(),defaultMonth:n,locale:Cx})})]})}),Pte=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","-","0","DEL"],a=o=>{if(o==="DEL"){s();return}o&&n.length<15&&e(n+o)},s=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:o=>o.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(o=>c.jsx("button",{onClick:()=>a(o),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:o},o))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(o=>c.jsx("button",{onClick:()=>a(o),className:"h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center",children:o==="DEL"?c.jsx(B5,{size:20}):o},o))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},Dte=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","%","0","DEL"],a=4,s=l=>{var m,v,g;if(l==="DEL"){o();return}if(n.length>=30)return;const u=n.split(" ").filter(y=>y!=="");let A=/[%A-Z]$/.test(n),d=n===""||n.endsWith(" ");if(u.length>=a&&d&&/\d/.test(l))return;let f=n;if(A&&/\d/.test(l))if(u.length<a)f+=" ";else return;if(l==="%"&&!/\d$/.test(f.slice(-1))&&!/[A-Z]$/.test(f.slice(-1))||l==="%"&&/%$/.test(f)||/[A-Z]/.test(l)&&!d&&!/\d$/.test(f.slice(-1))&&!/%$/.test(f.slice(-1))||/\d/.test(l)&&/[A-Z]$/.test(f))return;const h=((v=(m=f.split(" ").pop())==null?void 0:m.match(/\d+$/))==null?void 0:v[0])||"";if(!(l==="0"&&(d||/[%A-Z ]$/.test(f.slice(-1)))&&h.length===0)){if(l==="0"&&h==="0")return;/\d/.test(l)&&h==="0"&&(f=f.slice(0,-1))}const p=(g=(h+l).match(/\d+/))==null?void 0:g[0];p&&parseInt(p,10)>100||e(f+l)},o=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:l=>l.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(l=>c.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:l},l))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(l=>c.jsx("button",{onClick:()=>s(l),className:`h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center ${l==="%"?"text-brand-orange":""}`,children:l==="DEL"?c.jsx(B5,{size:20}):l},l))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},k9e=({type:t,onClose:e,onSave:n})=>{const{addAnimal:r,animals:i,fathers:a}=Yt(),[s,o]=P.useState("Referencia"),[l,u]=P.useState(""),[A,d]=P.useState(""),[f,h]=P.useState(""),[p,m]=P.useState(""),[v,g]=P.useState(""),[y,x]=P.useState(null),[S,E]=P.useState(!1),[N,_]=P.useState(!1),[B,j]=P.useState(!1);P.useEffect(()=>{g(wO(p))},[p]);const D=async()=>{if(x(null),s==="Activo"&&!l){x("El ID es obligatorio si el estado es Activo.");return}const k=l.toUpperCase()||`REF-${Date.now()}`,O=new Set([...i.map(q=>q.id.toLowerCase()),...a.map(q=>q.id.toLowerCase())]);if(l&&O.has(k.toLowerCase())){x("Este ID ya existe en la base de datos (rebao o referencias).");return}const L=t==="mother"?"Hembra":"Macho",H={id:k,name:A.toUpperCase()||void 0,birthDate:f||"N/A",sex:L,isReference:s==="Referencia",status:"Activo",lifecycleStage:f?Tte(f,L):L==="Hembra"?"Cabra Adulta":"Macho Cabro",racialComposition:p||void 0,breed:v||void 0,location:"Referencia",reproductiveStatus:L==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{await r(H),n(H)}catch(q){x(q.message||"Error al guardar el animal."),console.error("Error saving quick parent:",q)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm animate-fade-in flex items-center justify-center p-4",onClick:e,children:c.jsxs("div",{className:"w-full max-w-md bg-ios-modal-bg rounded-2xl shadow-lg animate-slide-up flex flex-col max-h-[85vh]",onClick:k=>k.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"}),c.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Agregar ",t==="mother"?"Madre":"Padre"," Rpido"]}),c.jsx("button",{onClick:e,className:"p-2 -mr-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50",children:c.jsx(Bo,{size:20})})]}),c.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[c.jsx(Qm,{title:"Categora",children:c.jsx(RT,{labelOn:"Activo",labelOff:"Referencia",value:s==="Activo",onChange:k=>o(k?"Activo":"Referencia")})}),c.jsxs(Qm,{title:"Identificacin",children:[c.jsx("input",{type:"text",value:l,onClick:()=>E(!0),readOnly:!0,placeholder:s==="Activo"?"ID (Obligatorio)":"ID (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(Sm,{value:A,onChange:k=>d(k.target.value.toUpperCase()),placeholder:"Nombre (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-left flex justify-between items-center",children:[c.jsx("span",{className:f?"text-white":"text-zinc-500",children:f?new Date(f+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Fecha de Nacimiento (Opcional)"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs(Qm,{title:"Raza",children:[c.jsx("input",{type:"text",value:p,onClick:()=>j(!0),readOnly:!0,placeholder:"Composicin Racial (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(Sm,{value:v,disabled:!0,readOnly:!0,placeholder:"Raza (Auto-calculada)"})]}),y&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:y})]}),c.jsx("footer",{className:"p-4 border-t border-brand-border flex-shrink-0",children:c.jsxs("button",{onClick:D,className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:["Guardar ",t==="mother"?"Madre":"Padre"]})})]})}),S&&c.jsx(Pte,{onClose:()=>E(!1),onInput:k=>u(k.toUpperCase()),currentValue:l}),N&&c.jsx(kte,{onClose:()=>_(!1),onSelectDate:k=>{k&&h(k.toISOString().split("T")[0]),_(!1)},currentValue:f?new Date(f+"T00:00:00"):new Date}),B&&c.jsx(Dte,{onClose:()=>j(!1),onInput:m,currentValue:p})]})};function P9e({onBack:t}){return c.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex flex-col justify-end animate-fade-in",onClick:t,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-4xl mx-auto h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:e=>e.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"})," ",c.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Ingresar Nuevo Animal"}),c.jsx("button",{onClick:t,className:"p-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50 transition-colors","aria-label":"Cerrar",children:c.jsx(Bo,{size:24})})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsx(T9e,{onSaveSuccess:t,onCancel:t})})})]})})}const zO=(t,e)=>{const[n,r]=P.useState(""),i=P.useMemo(()=>n?t.filter(a=>e.some(s=>{const o=a[s];return typeof o=="string"||typeof o=="number"?o.toString().toLowerCase().includes(n.toLowerCase()):!1})):t,[t,n,e]);return{searchTerm:n,setSearchTerm:r,filteredItems:i}},D9e=({title:t,subtitle:e,searchTerm:n,setSearchTerm:r})=>{const[i,a]=P.useState(!1),s=P.useRef(null);P.useEffect(()=>{var l;i&&((l=s.current)==null||l.focus())},[i]);const o=()=>{r(""),a(!1)};return c.jsxs("header",{className:"text-center pt-4 pb-4 relative overflow-hidden",children:[c.jsxs("div",{className:`transition-transform duration-300 ${i?"-translate-y-20":"translate-y-0"}`,children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:t}),c.jsx("p",{className:"text-md text-zinc-400",children:e})]}),c.jsx("div",{className:`absolute inset-0 transition-transform duration-300 flex items-center pt-2 ${i?"translate-y-0":"translate-y-20"}`,children:c.jsx("input",{ref:s,type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Buscar por ID...",className:"w-full bg-zinc-800 text-white text-lg placeholder-zinc-500 p-3 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"})}),c.jsx("div",{className:"absolute top-4 right-0 pt-1",children:c.jsx("button",{onClick:i?o:()=>a(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",children:i?c.jsx(Bo,{size:22}):c.jsx(Uu,{size:22})})})]})},C0=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?c.jsx(An,{isOpen:t,onClose:e,title:r,children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("p",{className:"text-zinc-300",children:i}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Confirmar"})]})]})}):null,O9e=(t,e,n,r,i)=>{if(!t||t.status!=="Activo"||t.isReference)return[];const a=[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Pr.MILKING):o.status==="en-secado"?a.push(Pr.DRYING_OFF):o.status==="seca"&&a.push(Pr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Pr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Pr.IN_SERVICE_CONFIRMED):a.push(Pr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Pr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Pr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Pr[o]).filter(Boolean)},F9e=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Macho Cabro"],n4=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>c.jsxs("div",{children:[t&&c.jsx("label",{className:"block text-sm font-semibold text-zinc-400 mb-2",children:t}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>r("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n==="all"||n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const a=i.Icon||null;return c.jsxs("button",{onClick:()=>r(i.key),className:`flex items-center gap-1.5 px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===i.key?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[a&&c.jsx(a,{size:14}),i.label]},i.key)})]})]});function L9e({navigateTo:t,locationFilter:e}){const{animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,isLoading:o,updateAnimal:l,startDryingProcess:u,setLactationAsDry:A,addServiceRecord:d,fathers:f,deleteAnimalPermanently:h}=Yt(),[p,m]=P.useState(null),[v,g]=P.useState(!1),[y,x]=P.useState(null),[S,E]=P.useState(null),[N,_]=P.useState(null),[B,j]=P.useState([]),[D,k]=P.useState("corporal"),[O,L]=P.useState("Activos"),[H,q]=P.useState("all"),[Y,ee]=P.useState("Todos"),[K,te]=P.useState(!1),[le,se]=P.useState("ALL"),[M,$]=P.useState("ALL"),[J,ne]=P.useState(!1),[he,we]=P.useState(!1),[Se,Ae]=P.useState(!1),ge=P.useMemo(()=>{const dt=new Map(s.map(Ft=>[Ft.id,Ft])),mt=new Map(f.map(Ft=>[Ft.id,Ft]));return n.map(Ft=>{let St;if(Ft.sireLotId){const Vt=dt.get(Ft.sireLotId);if(Vt){const hn=mt.get(Vt.sireId)||n.find(cn=>cn.id===Vt.sireId);St=hn?Ar(hn):void 0}}return{...Ft,statusObjects:O9e(Ft,r,i,s,a),formattedAge:lu(Ft.birthDate),zootecnicCategory:_f(Ft,r),sireName:St}})},[n,r,i,s,a,f]),xe=P.useMemo(()=>{let dt=O==="Activos"?ge.filter(mt=>!mt.isReference):ge.filter(mt=>mt.isReference);return e&&(dt=dt.filter(mt=>(mt.location||"Sin Asignar")===e)),K?dt.sort((mt,Ft)=>(Ft.endDate?new Date(Ft.endDate).getTime():Ft.createdAt||0)-(mt.endDate?new Date(mt.endDate).getTime():mt.createdAt||0)).slice(0,25):(O==="Activos"?(le!=="ALL"&&(dt=dt.filter(mt=>mt.statusObjects.some(Ft=>Ft.key===le))),M!=="ALL"&&(dt=dt.filter(mt=>mt.statusObjects.some(Ft=>Ft.key===M)))):H!=="all"&&(dt=dt.filter(mt=>mt.status===H)),Y!=="Todos"&&(dt=dt.filter(mt=>mt.zootecnicCategory===Y)),dt)},[ge,O,K,e,Y,le,M,H]),{searchTerm:ae,setSearchTerm:Ve,filteredItems:Oe}=zO(xe,["id","name"]),fe=()=>{ee("Todos"),te(!1),se("ALL"),$("ALL"),q("all"),Ve(""),ne(!1),we(!1)},$e=dt=>{if(!dt)return[];if(dt.isReference)return[{label:"Reintegrar a Activos",icon:Iq,onClick:bt},{label:"Eliminar Permanentemente",icon:bc,onClick:()=>{g(!1),Ae(!0)},color:"text-brand-red"}];const mt=[];return dt.sex==="Hembra"&&(mt.push({label:"Declarar Parto",icon:Pl,onClick:()=>{g(!1),x("parturition")}}),mt.push({label:"Declarar Aborto",icon:cf,onClick:()=>{g(!1),x("abortion")},color:"text-yellow-400"}),mt.push({label:"Acciones de Leche",icon:lf,onClick:()=>{g(!1),x("milkWeighingAction")}}),dt.sireLotId&&mt.push({label:"Registrar Servicio",icon:I5,onClick:()=>{g(!1),x("service")},color:"text-pink-400"})),mt.push({label:"Acciones de Peso",icon:qA,onClick:()=>{g(!1),x("bodyWeighingAction")}}),mt.push({label:"Mover a Lote",icon:jD,onClick:()=>t({name:"rebano-profile",animalId:dt.id,openAction:"move"})}),mt.push({label:"Dar de Baja",icon:yc,onClick:()=>{g(!1),x("decommissionSheet")},color:"text-brand-red"}),mt},ft=[{label:"Por Venta",icon:Dl,onClick:()=>{E("Venta"),x("decommission")}},{label:"Por Muerte",icon:cf,onClick:()=>{E("Muerte"),x("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:_5,onClick:()=>{E("Descarte"),x("decommission")},color:"text-brand-red"}],vt=dt=>{m(dt),g(!0)},Ye=()=>{x(null),m(null),_(null),j([]),E(null)},Dt=async dt=>{if(!p)return;const mt={status:dt.reason,isReference:!0,endDate:dt.date};dt.reason==="Venta"&&Object.assign(mt,{salePrice:dt.salePrice,saleBuyer:dt.saleBuyer,salePurpose:dt.salePurpose}),dt.reason==="Muerte"&&(mt.deathReason=dt.deathReason),dt.reason==="Descarte"&&Object.assign(mt,{cullReason:dt.cullReason,cullReasonDetails:dt.cullReasonDetails}),await l(p.id,mt),Ye()},pt=(dt,mt)=>{_(dt),x(mt==="leche"?"logSimpleMilk":"logSimpleBody")},ct=dt=>{k(dt),x(dt==="leche"?"newMilkSession":"newBodySession")},jt=async()=>{p&&(await l(p.id,{reproductiveStatus:"En Servicio"}),Ye())},Xt=(dt,mt)=>{j(mt),x("bulkWeighing")},Zt=()=>{Ye()},Ut=dt=>{u(dt),Ye()},rn=dt=>{A(dt),Ye()},st=async dt=>{if(!p||!p.sireLotId){console.error("Missing animal or sireLotId."),Ye();return}await d({sireLotId:p.sireLotId,femaleId:p.id,serviceDate:dt.toISOString().split("T")[0]}),Ye()},bt=async()=>{!p||!p.isReference||(await l(p.id,{isReference:!1,status:"Activo",endDate:void 0,reproductiveStatus:"Vaca"}),g(!1),m(null))},yt=async()=>{!p||!p.isReference||(await h(p.id),Ae(!1),g(!1),m(null))},tt=P.useRef(null),Qt=cte({count:Oe.length,getScrollElement:()=>tt.current,estimateSize:()=>96,overscan:5});return o?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando rebao..."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:tt,className:"w-full max-w-2xl mx-auto space-y-4 pb-12",style:{height:"calc(100vh - 64px - 65px)",overflowY:"auto"},children:[c.jsx(D9e,{title:e||"Mi Rebao",subtitle:`${Oe.length} animales en la vista`,searchTerm:ae,setSearchTerm:Ve}),c.jsxs("div",{className:"space-y-4 px-4",children:[c.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[c.jsxs("button",{onClick:()=>{L("Activos"),fe(),ee("Todos")},className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${O==="Activos"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(Qu,{size:16})," Activos"]}),c.jsxs("button",{onClick:()=>{L("Referencia"),fe()},className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${O==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(bq,{size:16})," Referencia"]})]}),O==="Activos"?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("button",{onClick:()=>t({name:"add-animal"}),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(na,{size:18})," Ingresar Nuevo Animal"]}),c.jsxs("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>ne(!J),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[c.jsx("span",{children:"Filtros Productivos"}),c.jsx(Ky,{className:`transition-transform ${J?"rotate-180":""}`,size:18})]}),J&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(n4,{title:"",filters:["MILKING","DRYING_OFF","DRY"].map(dt=>Pr[dt]).filter(Boolean),activeFilter:le,onFilterChange:se})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>we(!he),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[c.jsx("span",{children:"Filtros Reproductivos"}),c.jsx(Ky,{className:`transition-transform ${he?"rotate-180":""}`,size:18})]}),he&&c.jsx("div",{className:"animate-fade-in",children:c.jsx(n4,{title:"",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"].map(dt=>Pr[dt]).filter(Boolean),activeFilter:M,onFilterChange:$})})]})]})]}):c.jsx("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:c.jsx(n4,{title:"Filtrar por Causa de Baja",filters:[{key:"Venta",label:"Venta"},{key:"Muerte",label:"Muerte"},{key:"Descarte",label:"Descarte"}],activeFilter:H,onFilterChange:q})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>te(!K),title:K?"Mostrar todos":"Mostrar ltima carga",className:`flex items-center gap-2 py-1 px-3 text-sm font-semibold rounded-lg transition-colors ${K?"text-brand-orange":"text-zinc-400 hover:text-brand-orange"}`,children:[c.jsx(BD,{size:16})," ",K?"Viendo ltima Carga":"ltima Carga"]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>t({name:"manage-lots"}),className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[c.jsx(TD,{size:14})," Gestionar Lotes"]}),c.jsxs("button",{onClick:fe,className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[c.jsx(ED,{size:14})," Limpiar"]})]})]}),c.jsxs("select",{value:Y,onChange:dt=>ee(dt.target.value),className:"w-full bg-brand-glass p-3 rounded-xl text-white border border-brand-border focus:border-brand-orange focus:ring-0 appearance-none",children:[c.jsx("option",{value:"Todos",children:"Todas las Categoras Zootcnicas"}),F9e.map(dt=>c.jsx("option",{value:dt,children:dt},dt))]})]}),c.jsx("div",{className:"pt-4",style:{height:"auto",position:"relative"},children:Oe.length>0?c.jsx("div",{style:{height:`${Qt.getTotalSize()}px`,width:"100%",position:"relative"},children:Qt.getVirtualItems().map(dt=>{const mt=Oe[dt.index];return c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${dt.size}px`,transform:`translateY(${dt.start}px)`,padding:"0 1rem 1rem 1rem",boxSizing:"border-box"},children:c.jsx(CO,{animal:mt,onSelect:()=>t({name:"rebano-profile",animalId:mt.id}),onOpenActions:vt})},dt.key)})}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:ae?`No se encontraron resultados para "${ae}"`:"No hay animales que coincidan con los filtros."})})})]}),c.jsx(Hu,{isOpen:v,onClose:()=>g(!1),title:`Acciones para ${Ar(p)}`,actions:$e(p)}),c.jsx(Hu,{isOpen:y==="decommissionSheet",onClose:Ye,title:"Causa de la Baja",actions:ft}),p&&c.jsxs(c.Fragment,{children:[y==="parturition"&&c.jsx(yp,{isOpen:!0,onClose:Ye,motherId:p.id}),y==="abortion"&&c.jsx(RO,{animal:p,onCancel:Ye,onSaveSuccess:Ye}),y==="decommission"&&S&&c.jsx(DE,{isOpen:y==="decommission",animal:p,onCancel:Ye,onConfirm:Dt,reason:S}),y==="service"&&c.jsx(HO,{isOpen:!0,onClose:Ye,onSave:st,animal:p}),y==="milkWeighingAction"&&c.jsx(LO,{isOpen:!0,animal:p,onClose:Ye,onLogToSession:dt=>pt(dt,"leche"),onStartNewSession:()=>ct("leche"),onStartDrying:Ut,onSetDry:rn}),y==="bodyWeighingAction"&&c.jsx(MO,{isOpen:!0,animal:p,onClose:Ye,onLogToSession:dt=>pt(dt,"corporal"),onStartNewSession:()=>ct("corporal"),onSetReadyForMating:jt}),y==="logSimpleMilk"&&N&&c.jsx(An,{isOpen:!0,onClose:Ye,title:`Aadir Pesaje Leche: ${Ar(p)}`,children:c.jsx(Wg,{animalId:p.id,weightType:"leche",onSaveSuccess:Ye,onCancel:Ye,sessionDate:N})}),y==="logSimpleBody"&&N&&c.jsx(An,{isOpen:!0,onClose:Ye,title:`Aadir Peso Corporal: ${Ar(p)}`,children:c.jsx(Wg,{animalId:p.id,weightType:"corporal",onSaveSuccess:Ye,onCancel:Ye,sessionDate:N})}),(y==="newMilkSession"||y==="newBodySession")&&c.jsx(QO,{weightType:D,onBack:Ye,onAnimalsSelected:Xt}),y==="bulkWeighing"&&c.jsx(An,{isOpen:!0,onClose:Ye,title:`Carga Masiva - ${D==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(UO,{weightType:D,animalsToWeigh:B,onSaveSuccess:Zt,onCancel:Ye})}),c.jsx(C0,{isOpen:Se,onClose:()=>Ae(!1),onConfirm:yt,title:`Eliminar ${Ar(p)} Permanentemente`,message:"Esta accin borrar el registro del animal de la base de datos para siempre y no se puede deshacer. Continuar?"})]})]})}const M9e=({isOpen:t,onClose:e,editingLotId:n})=>{const{lots:r,addLot:i}=Yt(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState(""),d=async()=>{if(a.trim()===""){A("El nombre del lote no puede estar vaco.");return}try{await i({name:a,parentLotId:o||void 0}),f()}catch(p){A(p.message||"No se pudo guardar el lote."),console.error(p)}},f=()=>{s(""),l(""),A(""),e()},h=r.filter(p=>!p.parentLotId&&p.id!==n);return c.jsx(An,{isOpen:t,onClose:f,title:"Crear Nuevo Lote",children:c.jsxs("form",{onSubmit:p=>{p.preventDefault(),d()},className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicacin o lote en tu finca."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lotName",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Lote"}),c.jsx("input",{id:"lotName",type:"text",value:a,onChange:p=>s(p.target.value),placeholder:"Ej: Galpn 1",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"parentLot",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Sub-lote de (Opcional)"}),c.jsxs("select",{id:"parentLot",value:o,onChange:p=>l(p.target.value),className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0",children:[c.jsx("option",{value:"",children:"Ninguno (Es un Lote Principal)"}),h.map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]})]}),u&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:u}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{type:"button",onClick:f,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})})},R9e=({isOpen:t,onClose:e})=>{const{addOrigin:n}=Yt(),[r,i]=P.useState(""),[a,s]=P.useState(""),o=async()=>{if(r.trim()===""){s("El nombre del origen no puede estar vaco.");return}try{await n(r),i(""),s(""),e()}catch(u){s("No se pudo guardar el origen."),console.error(u)}},l=()=>{i(""),s(""),e()};return c.jsx(An,{isOpen:t,onClose:l,title:"Crear Nuevo Origen",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la ganadera o finca de origen."}),c.jsx("div",{children:c.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"Ej: Agropecuaria La Bendicin",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})}),a&&c.jsx("p",{className:"text-sm text-brand-red",children:a}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{onClick:l,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{onClick:o,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Origen"})]})]})})},U9e=t=>{const{events:e}=Yt();return P.useMemo(()=>t?e.filter(a=>a.animalId===t).sort((a,s)=>new Date(s.date).getTime()-new Date(a.date).getTime()):[],[e,t])},Q9e=({animalId:t,birthDate:e,onSave:n,onCancel:r})=>{const[i,a]=P.useState(new Date().toISOString().split("T")[0]),[s,o]=P.useState(""),[l,u]=P.useState(null),[A,d]=P.useState(!1),{animals:f}=Yt(),h=P.useMemo(()=>f.find(v=>v.id===t),[f,t]),p=h!=null&&h.name?String(h.name).toUpperCase().trim():"",m=async v=>{v.preventDefault(),u(null),d(!0);const g=parseFloat(s);if(!i||!s||isNaN(g)||g<=0){u("Por favor, introduce una fecha y un peso vlidos."),d(!1);return}if(new Date(i)<new Date(e)){u("La fecha de destete no puede ser anterior a la fecha de nacimiento."),d(!1);return}try{await n({weaningDate:i,weaningWeight:g})}catch(y){u("No se pudo guardar el registro de destete."),console.error(y)}finally{d(!1)}};return c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.toUpperCase()}),p&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:p})]}),c.jsx("p",{className:"text-sm text-zinc-400 text-center -mt-2",children:"Registra la fecha y el peso al momento del destete."}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weaningDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Destete"}),c.jsx("input",{id:"weaningDate",type:"date",value:i,onChange:v=>a(v.target.value),className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0,max:new Date().toISOString().split("T")[0]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weaningWeight",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Peso al Destete (Kg)"}),c.jsx("input",{id:"weaningWeight",type:"number",step:"0.1",value:s,onChange:v=>o(v.target.value),placeholder:"Ej: 15.5",className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl text-lg",required:!0})]}),l&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:l})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:A,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[A&&c.jsx(eu,{size:18,className:"animate-spin"}),A?"Guardando...":"Guardar Destete"]})]})]})},H9e=t=>{const{animals:e}=Yt(),n=P.useMemo(()=>{const i=new Map;return e.forEach(a=>i.set(a.id,a)),i},[e]);return P.useMemo(()=>{const i=(s,o)=>{if(!s||o>3)return;const l=n.get(s);if(!l)return;const u=i(l.fatherId,o+1),A=i(l.motherId,o+1);return{animal:l,sire:u,dam:A}};return i(t,0)||null},[t,n])},ko=({animal:t,onClick:e})=>{const n="bg-zinc-800/80 p-1.5 rounded-lg border border-zinc-700/80 w-44 text-left shadow-md transition-colors text-xs px-2";if(!t)return c.jsxs("div",{className:`${n} bg-zinc-900/50 border-dashed text-center`,children:[" ",c.jsx("p",{className:"font-semibold text-zinc-500",children:"Desconocido"})]});const r=t.sex==="Hembra"?"text-pink-400":"text-blue-400",i=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:`${n} hover:border-brand-orange`,children:[c.jsx("p",{className:`font-mono font-semibold text-xs truncate ${r}`,children:t.id.toUpperCase()}),i&&c.jsx("p",{className:"text-[10px] text-zinc-300 truncate",children:i}),c.jsx("p",{className:"text-zinc-400 text-[10px]",children:t.sex})]})},z9e=({rootNode:t,onAncestorClick:e})=>{var l,u,A,d,f,h,p,m,v,g,y,x,S,E,N,_,B,j,D,k,O,L,H,q,Y,ee,K,te,le,se,M,$,J,ne;if(!t)return c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos de genealoga suficientes para mostrar el pedigr."});const n="border-zinc-600",r=c.jsx("div",{className:`w-3 border-t-2 ${n}`}),i=c.jsx("div",{className:`h-20 border-r-2 ${n}`}),a=c.jsx("div",{className:`h-10 border-r-2 ${n}`}),s=c.jsx("div",{className:`h-6 border-r-2 ${n}`}),o=t.animal.name?String(t.animal.name).toUpperCase().trim():"";return c.jsxs("div",{className:"flex items-center justify-center p-4 overflow-x-auto min-w-max",children:[c.jsx("div",{className:"flex flex-col items-center justify-center",children:c.jsxs("div",{className:"bg-zinc-800/80 p-1.5 rounded-lg border border-zinc-700/80 w-44 text-left shadow-md text-xs px-2",children:[" ",c.jsx("p",{className:`font-mono font-semibold text-xs truncate ${t.animal.sex==="Hembra"?"text-pink-400":"text-blue-400"}`,children:t.animal.id.toUpperCase()}),o&&c.jsx("p",{className:"text-[10px] text-zinc-300 truncate",children:o}),c.jsx("p",{className:"text-zinc-400 text-[10px]",children:t.animal.sex})]})}),c.jsxs("div",{className:"flex flex-col items-center",children:[r,i,r]}),c.jsxs("div",{className:"flex flex-col items-center justify-around space-y-4",children:[c.jsx(ko,{animal:(l=t.sire)==null?void 0:l.animal,onClick:e}),c.jsx(ko,{animal:(u=t.dam)==null?void 0:u.animal,onClick:e})]}),c.jsxs("div",{className:"flex flex-col items-center justify-around space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[" ",r," ",a," ",r," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",r," ",a," ",r," "]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[20px]",children:[c.jsx(ko,{animal:(d=(A=t.sire)==null?void 0:A.sire)==null?void 0:d.animal,onClick:e}),c.jsx(ko,{animal:(h=(f=t.sire)==null?void 0:f.dam)==null?void 0:h.animal,onClick:e}),c.jsx("div",{className:"h-[6px]"}),c.jsx(ko,{animal:(m=(p=t.dam)==null?void 0:p.sire)==null?void 0:m.animal,onClick:e}),c.jsx(ko,{animal:(g=(v=t.dam)==null?void 0:v.dam)==null?void 0:g.animal,onClick:e})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[20px]",children:[c.jsxs("div",{className:"flex items-center",children:[" ",r," ",s," ",r," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",r," ",s," ",r," "]}),c.jsx("div",{className:"h-[6px]"}),c.jsxs("div",{className:"flex items-center",children:[" ",r," ",s," ",r," "]}),c.jsxs("div",{className:"flex items-center",children:[" ",r," ",s," ",r," "]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-between gap-[6px]",children:[c.jsx(ko,{animal:(S=(x=(y=t.sire)==null?void 0:y.sire)==null?void 0:x.sire)==null?void 0:S.animal,onClick:e}),c.jsx(ko,{animal:(_=(N=(E=t.sire)==null?void 0:E.sire)==null?void 0:N.dam)==null?void 0:_.animal,onClick:e}),c.jsx("div",{className:"h-[2px]"}),c.jsx(ko,{animal:(D=(j=(B=t.sire)==null?void 0:B.dam)==null?void 0:j.sire)==null?void 0:D.animal,onClick:e}),c.jsx(ko,{animal:(L=(O=(k=t.sire)==null?void 0:k.dam)==null?void 0:O.dam)==null?void 0:L.animal,onClick:e}),c.jsx("div",{className:"h-[8px]"}),c.jsx(ko,{animal:(Y=(q=(H=t.dam)==null?void 0:H.sire)==null?void 0:q.sire)==null?void 0:Y.animal,onClick:e}),c.jsx(ko,{animal:(te=(K=(ee=t.dam)==null?void 0:ee.sire)==null?void 0:K.dam)==null?void 0:te.animal,onClick:e}),c.jsx("div",{className:"h-[2px]"}),c.jsx(ko,{animal:(M=(se=(le=t.dam)==null?void 0:le.dam)==null?void 0:se.sire)==null?void 0:M.animal,onClick:e}),c.jsx(ko,{animal:(ne=(J=($=t.dam)==null?void 0:$.dam)==null?void 0:J.dam)==null?void 0:ne.animal,onClick:e})]})]})},V9e=({isOpen:t,onClose:e,animalId:n,navigateTo:r})=>{const i=H9e(n),{animals:a}=Yt(),s=a.find(u=>u.id===n),o=()=>{const u=document.querySelector(".pedigree-modal-header"),A=document.querySelector(".pedigree-modal-footer");u&&(u.style.display="none"),A&&(A.style.display="none"),window.print(),u&&(u.style.display=""),A&&(A.style.display="")},l=()=>{const u=document.querySelector(".pedigree-modal-header"),A=document.querySelector(".pedigree-modal-footer");u&&(u.style.display=""),A&&(A.style.display=""),e()};return c.jsxs(An,{isOpen:t,onClose:l,title:`Genealoga de ${Ar(s)}`,size:"large",children:[c.jsxs("div",{className:"pedigree-modal-header mb-4",children:[" "," "]}),c.jsxs("div",{className:"pedigree-chart-container",children:[" ",c.jsx(z9e,{rootNode:i,onAncestorClick:u=>{e(),setTimeout(()=>r({name:"rebano-profile",animalId:u}),100)}})]}),c.jsxs("footer",{className:"pedigree-modal-footer mt-6 pt-4 border-t border-brand-border flex justify-end gap-3",children:[c.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-zinc-600 hover:bg-zinc-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:[c.jsx(jpe,{size:18})," Imprimir"]}),c.jsx("button",{onClick:l,className:"bg-brand-blue hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg",children:"Cerrar"})]}),c.jsx("style",{children:`
                    @media print {
                        body * {
                            visibility: hidden;
                        }
                        .pedigree-chart-container, .pedigree-chart-container * {
                            visibility: visible;
                        }
                        .pedigree-chart-container {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%; /* Ajusta segn necesidad */
                        }
                        /* Oculta los botones dentro del grfico si los hubiera */
                        .pedigree-chart-container button {
                            display: none;
                        }
                         /* Ajusta el tamao de fuente si es necesario */
                        .pedigree-chart-container p {
                           font-size: 10px; /* Ejemplo */
                        }
                    }
                `})]})},fH=be.forwardRef(({className:t,...e},n)=>c.jsx("input",{ref:n,...e,className:`w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange disabled:opacity-50 disabled:bg-brand-dark/50 ${t}`})),Ote=be.forwardRef(({children:t,...e},n)=>c.jsxs("div",{className:"relative w-full",children:[c.jsx("select",{ref:n,...e,className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-orange",children:t}),c.jsx(Ky,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"})]})),r4=({title:t,children:e})=>c.jsxs("div",{className:"bg-brand-glass rounded-2xl border border-brand-border p-4 space-y-4",children:[c.jsx("h2",{className:"text-zinc-400 font-semibold text-sm uppercase tracking-wide",children:t}),e]}),$9e=({labelOn:t,labelOff:e,value:n,onChange:r})=>c.jsxs("div",{onClick:()=>r(!n),className:"w-full bg-brand-dark rounded-xl p-1 flex cursor-pointer",children:[c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"bg-zinc-700 text-white":"text-zinc-400"}`,children:t}),c.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"text-zinc-400":"bg-zinc-700 text-white"}`,children:e})]}),K9e=({onClose:t,onSelectDate:e,currentValue:n})=>c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm animate-fade-in",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-ios-modal-bg rounded-t-2xl p-4 shadow-lg animate-slide-up",onClick:r=>r.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 1rem)"},children:[c.jsx("div",{onClick:t,className:"w-16 h-1.5 bg-zinc-700 rounded-full mx-auto mb-4 cursor-pointer"}),c.jsx("div",{className:"flex justify-center [&_.rdp]:bg-transparent [&_.rdp]:text-white [&_.rdp-caption_select]:bg-brand-glass [&_.rdp-caption_select]:border-brand-border [&_.rdp-caption_select]:text-white [&_.rdp-caption_select]:rounded-lg [&_.rdp-day_selected]:bg-brand-orange [&_.rdp-day_selected]:text-white [&_.rdp-day_today]:text-brand-orange [&_.rdp-nav_button]:text-zinc-400 [&_.rdp-head_cell]:text-zinc-500 [&_.rdp-day]:text-zinc-200 [&_.rdp-day_outside]:text-zinc-600",children:c.jsx(vp,{mode:"single",selected:n,onSelect:e,captionLayout:"dropdown-buttons",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear(),defaultMonth:n,locale:Cx})})]})}),W9e=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","-","0","DEL"],a=o=>{if(o==="DEL"){s();return}o&&n.length<15&&e(n+o)},s=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:o=>o.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(o=>c.jsx("button",{onClick:()=>a(o),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:o},o))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(o=>c.jsx("button",{onClick:()=>a(o),className:"h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center",children:o==="DEL"?c.jsx(B5,{size:20}):o},o))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},G9e=({onClose:t,onInput:e,currentValue:n})=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),i=["1","2","3","4","5","6","7","8","9","%","0","DEL"],a=4,s=l=>{var m,v,g;if(l==="DEL"){o();return}if(n.length>=30)return;const u=n.split(" ").filter(y=>y!=="");let A=/[%A-Z]$/.test(n),d=n===""||n.endsWith(" ");if(u.length>=a&&d&&/\d/.test(l))return;let f=n;if(A&&/\d/.test(l))if(u.length<a)f+=" ";else return;if(l==="%"&&!/\d$/.test(f.slice(-1))&&!/[A-Z]$/.test(f.slice(-1))||l==="%"&&/%$/.test(f)||/[A-Z]/.test(l)&&!d&&!/\d$/.test(f.slice(-1))&&!/%$/.test(f.slice(-1))||/\d/.test(l)&&/[A-Z]$/.test(f))return;const h=((v=(m=f.split(" ").pop())==null?void 0:m.match(/\d+$/))==null?void 0:v[0])||"";if(!(l==="0"&&(d||/[%A-Z ]$/.test(f.slice(-1)))&&h.length===0)){if(l==="0"&&h==="0")return;/\d/.test(l)&&h==="0"&&(f=f.slice(0,-1))}const p=(g=(h+l).match(/\d+/))==null?void 0:g[0];p&&parseInt(p,10)>100||e(f+l)},o=()=>{e(n.slice(0,-1))};return c.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50",onClick:t,children:c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-[#333333] p-2 space-y-2",onClick:l=>l.stopPropagation(),style:{paddingBottom:"env(safe-area-inset-bottom, 0.5rem)"},children:[c.jsxs("div",{className:"flex flex-nowrap space-x-1.5 overflow-x-auto py-2 alphabet-scroller",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:".alphabet-scroller::-webkit-scrollbar { display: none; }"}),r.map(l=>c.jsx("button",{onClick:()=>s(l),className:"flex-shrink-0 w-10 h-10 bg-[#555555] text-white rounded-md text-lg font-medium active:bg-zinc-500",children:l},l))]}),c.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:i.map(l=>c.jsx("button",{onClick:()=>s(l),className:`h-12 bg-[#555555] text-white rounded-md text-xl font-medium active:bg-zinc-500 flex items-center justify-center ${l==="%"?"text-brand-orange":""}`,children:l==="DEL"?c.jsx(B5,{size:20}):l},l))}),c.jsx("button",{onClick:t,className:"h-12 w-full bg-blue-600 text-white rounded-md text-lg font-semibold active:bg-blue-700",children:"Done"})]})})},q9e=({type:t,onClose:e,onSave:n})=>{const{animals:r,fathers:i}=Yt(),[a,s]=P.useState("Referencia"),[o,l]=P.useState(""),[u,A]=P.useState(""),[d,f]=P.useState(""),[h,p]=P.useState(""),[m,v]=P.useState(""),[g,y]=P.useState(null),[x,S]=P.useState(!1),[E,N]=P.useState(!1),[_,B]=P.useState(!1),j=(O,L)=>{if(!O||!L)return"Indefinido";const H=new Date,q=new Date(O+"T00:00:00");if(isNaN(q.getTime()))return"Indefinido";const Y=(H.getTime()-q.getTime())/(1e3*60*60*24);return L==="Hembra"?Y<=60?"Cabrita":Y<=365?"Cabritona":"Cabra Adulta":Y<=60?"Cabrito":Y<=365?"Macho de Levante":"Macho Cabro"};P.useEffect(()=>{v(wO(h))},[h]);const D=async()=>{if(y(null),a==="Activo"&&!o){y("El ID es obligatorio si el estado es Activo.");return}const O=o.toUpperCase()||`REF-${Date.now()}`,L=new Set([...r.map(Y=>Y.id.toLowerCase()),...i.map(Y=>Y.id.toLowerCase())]);if(o&&L.has(O.toLowerCase())){y("Este ID ya existe en la base de datos (rebao o referencias).");return}const H=t==="mother"?"Hembra":"Macho",q={id:O,name:u.toUpperCase()||void 0,birthDate:d||"N/A",sex:H,isReference:a==="Referencia",status:"Activo",lifecycleStage:d?j(d,H):H==="Hembra"?"Cabra Adulta":"Macho Cabro",racialComposition:h||void 0,breed:m||void 0,location:"Referencia",reproductiveStatus:H==="Hembra"?"Vaca":"No Aplica",createdAt:new Date().getTime(),lastWeighing:null};try{n(q)}catch(Y){y(Y.message||"Error al preparar datos del animal."),console.error("Error creating quick parent object:",Y)}};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-[110] bg-black/60 backdrop-blur-sm animate-fade-in flex items-center justify-center p-4",onClick:e,children:c.jsxs("div",{className:"w-full max-w-md bg-ios-modal-bg rounded-2xl shadow-lg animate-slide-up flex flex-col max-h-[90vh]",onClick:O=>O.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[c.jsx("div",{className:"w-10"}),c.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Agregar ",t==="mother"?"Madre":"Padre"," Rpido"]}),c.jsx("button",{onClick:e,className:"p-2 -mr-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50",children:c.jsx(Bo,{size:20})})]}),c.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[c.jsx(r4,{title:"Categora",children:c.jsx($9e,{labelOn:"Activo",labelOff:"Referencia",value:a==="Activo",onChange:O=>s(O?"Activo":"Referencia")})}),c.jsxs(r4,{title:"Identificacin",children:[c.jsx("input",{type:"text",value:o,onClick:()=>S(!0),readOnly:!0,placeholder:a==="Activo"?"ID (Obligatorio)":"ID (Opcional)",className:`w-full bg-brand-glass border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 cursor-pointer font-mono ${g&&g.includes("ID ya existe")?"border-brand-red ring-brand-red":"border-brand-border focus:ring-brand-orange"}`}),c.jsx(fH,{value:u,onChange:O=>A(O.target.value.toUpperCase()),placeholder:"Nombre (Opcional)"}),c.jsxs("button",{type:"button",onClick:()=>N(!0),className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-left flex justify-between items-center",children:[c.jsx("span",{className:d?"text-white":"text-zinc-500",children:d?new Date(d+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):"Fecha Nacimiento (Opcional)"}),c.jsx(So,{className:"text-zinc-400",size:20})]})]}),c.jsxs(r4,{title:"Raza",children:[c.jsx("input",{type:"text",value:h,onClick:()=>B(!0),readOnly:!0,placeholder:"Composicin Racial (Opcional)",className:"w-full bg-brand-glass border border-brand-border rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-brand-orange cursor-pointer"}),c.jsx(fH,{value:m,disabled:!0,readOnly:!0,placeholder:"Raza (Auto-calculada)"})]}),g&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:g})]}),c.jsx("footer",{className:"p-4 border-t border-brand-border flex-shrink-0",children:c.jsx("button",{onClick:D,className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar"})})]})}),x&&c.jsx(W9e,{onClose:()=>S(!1),onInput:O=>l(O.toUpperCase()),currentValue:o}),E&&c.jsx(K9e,{onClose:()=>N(!1),onSelectDate:O=>{O&&f(O.toISOString().split("T")[0]),N(!1)},currentValue:d?new Date(d+"T00:00:00Z"):new Date}),_&&c.jsx(G9e,{onClose:()=>B(!1),onInput:p,currentValue:h}),c.jsx("style",{children:" .rdp { --rdp-cell-size: 40px; --rdp-accent-color: #FF9500; --rdp-background-color: transparent; --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: transparent; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; margin: 1em auto; } .rdp-caption_label { color: #FFF; font-weight: bold;} .rdp-nav_button { color: #FF9500; } .rdp-head_cell { color: #8e8e93; font-size: 0.8em; } .rdp-day { color: #FFF;} .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; } .rdp-day_today { font-weight: bold; color: #FF9500; } .rdp-day_disabled { color: #505054; } .rdp-day_outside { color: #505054; } .rdp-caption_dropdowns { display: flex; gap: 10px; } .rdp-dropdown { background-color: #333; border: 1px solid #555; color: #FFF; padding: 4px 8px; border-radius: 6px; } "})]})},lA=({label:t,value:e,isEditing:n,children:r})=>c.jsxs("div",{children:[c.jsx("dt",{className:"text-sm font-medium text-zinc-400",children:t}),n&&r?r:c.jsx("dd",{className:`mt-1 text-lg font-semibold text-white truncate ${t==="ID"?"font-mono":""}`,children:e||"N/A"})]}),Y9e=({onOpenModal:t})=>c.jsx("div",{className:"text-center p-4 min-h-[150px] flex flex-col justify-center items-center",children:c.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 bg-brand-blue hover:bg-blue-700 text-white font-bold py-3 px-5 rounded-lg transition-colors",children:[c.jsx(yq,{size:20})," Ver Genealoga Completa"]})}),X9e={Nacimiento:{icon:xpe,color:"bg-green-500/20 text-brand-green"},Registro:{icon:N5,color:"bg-blue-500/20 text-brand-blue"},Parto:{icon:Pl,color:"bg-pink-500/20 text-pink-400"},Aborto:{icon:cf,color:"bg-yellow-500/20 text-yellow-400"},Movimiento:{icon:jD,color:"bg-blue-500/20 text-brand-blue"},"Cambio de Estado":{icon:Lpe,color:"bg-purple-500/20 text-purple-400"},"Pesaje Lechero":{icon:Nq,color:"bg-gray-500/20 text-gray-300"},"Pesaje Corporal":{icon:qA,color:"bg-green-500/20 text-brand-green"},Servicio:{icon:j5,color:"bg-pink-500/20 text-pink-400"},Tratamiento:{icon:lp,color:"bg-red-500/20 text-brand-red"},Diagnstico:{icon:Za,color:"bg-teal-500/20 text-teal-300"}},J9e=({animal:t})=>{const e=U9e(t==null?void 0:t.id);return t?!e||e.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene eventos registrados."}):c.jsx("div",{className:"space-y-3",children:e.map(n=>{const r=X9e[n.type]||{icon:N5,color:"bg-gray-500/20 text-gray-300"},i=r.icon;let a="Fecha desconocida",s="";if(n.type==="Registro"&&t.createdAt)a=new Date(t.createdAt).toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}),s="Registrado el: ";else if(n.date&&n.date!=="N/A")try{a=new Date(n.date+"T00:00:00Z").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch(o){console.error("Error formatting event date:",n.date,o),a=n.date}return c.jsxs("div",{className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${r.color}`,children:c.jsx(i,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:n.type}),c.jsx("p",{className:"text-sm text-zinc-300",children:n.details}),c.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[s,a,n.lotName&&` | Lote: ${n.lotName}`]})]})]},n.id)})}):c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Cargando datos del animal..."})},Z9e=({offspring:t,navigateTo:e})=>t.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene descendencia registrada."}):c.jsx("div",{className:"space-y-2",children:t.map(n=>{const r=n.name?String(n.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e({name:"rebano-profile",animalId:n.id}),className:"w-full text-left p-3 bg-black/20 hover:bg-zinc-800/60 rounded-lg transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:n.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[n.sex," | ",lu(n.birthDate)," | Lote: ",n.location||"N/A"]})})]}),c.jsx(ta,{className:"text-zinc-600 group-hover:text-white transition-colors flex-shrink-0"})]},n.id)})}),eVe=({animal:t,isEditing:e,editedData:n,setEditedData:r,origins:i,onAddOriginClick:a,onLocationClick:s})=>{const o=(u,A)=>{r(d=>({...d,[u]:A}))},l=lu(t.birthDate);return c.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:[c.jsx(lA,{label:"ID",value:t.id}),c.jsx(lA,{label:"Sexo",value:t.sex}),c.jsx(lA,{label:"Fecha Nacimiento",value:t.birthDate!=="N/A"?new Date(t.birthDate+"T00:00:00Z").toLocaleDateString("es-VE",{timeZone:"UTC"}):"N/A",isEditing:e,children:c.jsx("input",{type:"date",value:n.birthDate==="N/A"?"":n.birthDate||"",onChange:u=>o("birthDate",u.target.value||"N/A"),className:"w-full bg-zinc-700 p-2 rounded-md mt-1 text-white"})}),c.jsx(lA,{label:"Edad",value:l}),c.jsx(lA,{label:"Ubicacin / Lote",children:!e&&c.jsx("dd",{className:"mt-1 text-lg",children:c.jsx("button",{onClick:s,className:"font-semibold text-brand-orange hover:underline text-left",children:t.location||"Sin Asignar"})})}),c.jsx(lA,{label:"Categora",value:t.lifecycleStage}),c.jsx(lA,{label:"Origen",value:t.origin,isEditing:e,children:c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs(Ote,{value:n.origin||"",onChange:u=>o("origin",u.target.value),children:[c.jsx("option",{value:"",children:"Seleccionar Origen..."}),c.jsx("option",{value:"Finca Masparrito",children:"Finca Masparrito"}),i.map(u=>c.jsx("option",{value:u.name,children:u.name},u.id))]}),c.jsx("button",{type:"button",onClick:a,className:"p-2 bg-brand-orange hover:bg-orange-600 text-white rounded-md",children:c.jsx(Bl,{size:20})})]})}),t.weaningDate&&c.jsx(lA,{label:"Fecha de Destete",value:new Date(t.weaningDate+"T00:00:00Z").toLocaleDateString("es-VE",{timeZone:"UTC"})}),t.weaningWeight&&c.jsx(lA,{label:"Peso al Destete",value:`${t.weaningWeight} Kg`})]})};function tVe({animalId:t,onBack:e,navigateTo:n}){const{animals:r,lots:i,origins:a,parturitions:s,updateAnimal:o,deleteAnimalPermanently:l,fathers:u,addAnimal:A,appConfig:d}=Yt(),[f,h]=P.useState("main"),[p,m]=P.useState(!1),[v,g]=P.useState({}),[y,x]=P.useState("idle"),[S,E]=P.useState(!1),[N,_]=P.useState(!1),[B,j]=P.useState(!1),[D,k]=P.useState(!1),[O,L]=P.useState(""),[H,q]=P.useState(!1),[Y,ee]=P.useState(null),[K,te]=P.useState(!1),[le,se]=P.useState(!1),[M,$]=P.useState(!1),[J,ne]=P.useState(!1),[he,we]=P.useState(!1),[Se,Ae]=P.useState(!1),[ge,xe]=P.useState(null),ae=P.useMemo(()=>r.find(tt=>tt.id===t),[r,t]),Ve=P.useMemo(()=>ae?ae.sex==="Hembra"?r.filter(tt=>tt.motherId===ae.id).sort((tt,Qt)=>new Date(Qt.birthDate).getTime()-new Date(tt.birthDate).getTime()):ae.sex==="Macho"?r.filter(tt=>tt.fatherId===ae.id).sort((tt,Qt)=>new Date(Qt.birthDate).getTime()-new Date(tt.birthDate).getTime()):[]:[],[r,ae]),Oe=P.useMemo(()=>r.filter(tt=>tt.sex==="Hembra"),[r]),fe=P.useMemo(()=>{const tt=r.filter(dt=>dt.sex==="Macho"),Qt=u.map(dt=>({id:dt.id,name:dt.name,sex:"Macho",status:"Activo",isReference:!0,birthDate:"N/A",lifecycleStage:"Macho Cabro",location:"Referencia",reproductiveStatus:"No Aplica",createdAt:0,lastWeighing:null}));return[...tt,...Qt]},[r,u]),$e=P.useMemo(()=>ae?_f(ae,s):"",[ae,s]),ft=P.useMemo(()=>{if(!ae||ae.weaningDate||ae.isReference||ae.status!=="Activo")return!1;const tt=$e;return tt!=="Cabrita"&&tt!=="Cabrito"?!1:Yc(ae.birthDate)>d.edadDesteteDias},[ae,$e,d.edadDesteteDias]),vt=(ae==null?void 0:ae.breedingFailures)||0,Ye=vt>=2||ft?"border-brand-red ring-2 ring-brand-red/80":"border-brand-border";P.useEffect(()=>{ae&&(p&&g({birthDate:ae.birthDate,origin:ae.origin,fatherId:ae.fatherId,motherId:ae.motherId}),L(ae.location||""))},[ae,p]);const Dt=async()=>{if(ae){x("saving");try{await o(ae.id,v),x("success"),setTimeout(()=>{m(!1),x("idle")},1500)}catch(tt){console.error("Error al actualizar:",tt),x("idle")}}},pt=()=>{m(!1),g({})},ct=async()=>{if(ae)try{await o(ae.id,{location:O}),k(!1)}catch(tt){console.error("Error al actualizar ubicacin:",tt)}},jt=async tt=>{if(!ae||!Y)return;const Qt={status:Y,isReference:!0,endDate:tt.date};Y==="Venta"&&Object.assign(Qt,{salePrice:tt.salePrice,saleBuyer:tt.saleBuyer,salePurpose:tt.salePurpose}),Y==="Muerte"&&(Qt.deathReason=tt.deathReason),Y==="Descarte"&&Object.assign(Qt,{cullReason:tt.cullReason,cullReasonDetails:tt.cullReasonDetails}),await o(ae.id,Qt),ee(null)},Xt=async()=>{ae&&await o(ae.id,{isReference:!1,status:"Activo",endDate:void 0})},Zt=async()=>{ae&&(await l(ae.id),e())},Ut=async tt=>{ae&&(await o(ae.id,{weaningDate:tt.weaningDate,weaningWeight:tt.weaningWeight}),$(!1))},rn=async tt=>{try{await A(tt),ge==="father"?g(Qt=>({...Qt,fatherId:tt.id})):ge==="mother"&&g(Qt=>({...Qt,motherId:tt.id}))}catch(Qt){console.error("Error saving quick parent:",Qt)}finally{xe(null)}},st=[{label:"Por Venta",icon:Dl,onClick:()=>ee("Venta")},{label:"Por Muerte",icon:cf,onClick:()=>ee("Muerte"),color:"text-brand-red"},{label:"Por Descarte",icon:_5,onClick:()=>ee("Descarte"),color:"text-brand-red"}],bt=[{label:"Reintegrar a Activos",icon:Iq,onClick:Xt},{label:"Eliminar Permanentemente",icon:bc,onClick:()=>se(!0),color:"text-brand-red"}];if(!ae)return c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]});const yt=ae.name?ae.name.toUpperCase().trim():"";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[c.jsxs("header",{className:`bg-brand-glass backdrop-blur-xl rounded-b-2xl p-4 border-b border-x sticky top-0 z-10 transition-all ${Ye}`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center min-w-0",children:[c.jsx("h1",{className:"text-2xl font-mono font-bold tracking-tight text-white truncate",children:ae.id.toUpperCase()}),yt&&c.jsx("p",{className:"text-sm text-zinc-300 truncate",children:yt})]}),c.jsxs("div",{className:"w-8 flex items-center justify-end gap-1",children:[ft&&c.jsx("span",{title:`Destete atrasado (Meta: ${d.edadDesteteDias} das)`,children:c.jsx(mr,{className:"text-brand-red",size:20})}),vt===1&&!ft&&c.jsx("span",{title:"1 fallo reproductivo reportado",children:c.jsx(mr,{className:"text-yellow-400",size:20})}),vt>=2&&!ft&&c.jsx("span",{title:`${vt} fallos reproductivos reportados`,children:c.jsx(mr,{className:"text-brand-red",size:20})})]})]}),c.jsx("p",{className:"text-center text-brand-orange font-semibold text-sm -mt-1 mb-3 uppercase tracking-wider",children:ae.isReference?"REFERENCIA":ae.status!=="Activo"?ae.status:ae.location||"Sin Asignar"}),ft&&c.jsxs("div",{className:"mb-3 p-3 bg-brand-red/20 border border-brand-red rounded-lg text-center",children:[c.jsx("p",{className:"text-red-300 text-sm font-semibold",children:"Destete Atrasado"}),c.jsxs("p",{className:"text-red-400 text-xs",children:["Este animal tiene ",Yc(ae.birthDate)," das (Meta: ",d.edadDesteteDias," das) y no ha sido destetado."]})]}),c.jsxs("div",{className:"flex justify-around bg-black/20 rounded-xl p-1",children:[ae.sex==="Hembra"&&c.jsxs(c.Fragment,{children:[" ",c.jsxs("button",{onClick:()=>n({name:"lactation-profile",animalId:ae.id}),className:"flex flex-col items-center p-2 text-blue-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(lf,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Leche"})]})," ",c.jsxs("button",{onClick:()=>j(!0),disabled:ae.isReference||ae.status!=="Activo",className:"flex flex-col items-center p-2 text-pink-400 hover:bg-zinc-700/50 w-full rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[c.jsx(Pl,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Parto"})]})," "]}),($e==="Cabrita"||$e==="Cabrito")&&!ae.weaningDate&&!ae.isReference&&ae.status==="Activo"&&c.jsxs("button",{onClick:()=>$(!0),className:"flex flex-col items-center p-2 text-yellow-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(npe,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Destetar"})]}),c.jsxs("button",{onClick:()=>n({name:"growth-profile",animalId:ae.id}),className:"flex flex-col items-center p-2 text-brand-green hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(qA,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Peso"})]}),c.jsxs("button",{onClick:()=>alert("Funcin en desarrollo"),disabled:ae.isReference||ae.status!=="Activo",className:"flex flex-col items-center p-2 text-teal-300 hover:bg-zinc-700/50 w-full rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[c.jsx(lp,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Sanidad"})]}),c.jsxs("button",{onClick:()=>ae.isReference?te(!0):k(!0),className:"flex flex-col items-center p-2 text-brand-blue hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(Tpe,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Mover"})]}),ae.status==="Activo"&&!ae.isReference&&c.jsxs("button",{onClick:()=>q(!0),className:"flex flex-col items-center p-2 text-amber-400 hover:bg-zinc-700/50 w-full rounded-lg transition-colors",children:[c.jsx(yc,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Dar de baja"})]}),c.jsxs("button",{onClick:()=>m(!p),className:`flex flex-col items-center p-2 w-full rounded-lg transition-colors ${p?"text-green-400":"text-brand-orange"} hover:bg-zinc-700/50`,children:[c.jsx(yf,{size:22}),c.jsx("span",{className:"text-xs mt-1",children:"Editar"})]})]})]}),c.jsxs("main",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex bg-brand-glass rounded-xl p-1 border border-brand-border",children:[c.jsx("button",{onClick:()=>h("main"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${f==="main"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Ficha"}),c.jsx("button",{onClick:()=>h("genetics"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${f==="genetics"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Genealoga"}),c.jsx("button",{onClick:()=>h("progeny"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${f==="progeny"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Progenie"}),c.jsx("button",{onClick:()=>h("events"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${f==="events"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Eventos"})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border min-h-[200px]",children:[f==="main"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(eVe,{animal:ae,isEditing:p,editedData:v,setEditedData:g,origins:a,onAddOriginClick:()=>_(!0),onLocationClick:()=>k(!0)}),p&&c.jsxs("div",{className:"space-y-4 pt-4 border-t border-zinc-700",children:[c.jsx("h3",{className:"text-sm font-medium text-zinc-400",children:"Padres (Opcional)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>Ae(!0),className:"w-full text-left bg-zinc-700 border border-zinc-600 rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsxs("span",{className:v.fatherId?"text-white":"text-zinc-500",children:["Padre: ",v.fatherId?Ar(fe.find(tt=>tt.id===v.fatherId))||v.fatherId:"Seleccionar..."]}),c.jsx(Uu,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>xe("father"),className:"p-3 bg-zinc-700 border border-zinc-600 rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(na,{size:20})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>we(!0),className:"w-full text-left bg-zinc-700 border border-zinc-600 rounded-xl p-3 text-white placeholder-zinc-500 flex justify-between items-center",children:[c.jsxs("span",{className:v.motherId?"text-white":"text-zinc-500",children:["Madre: ",v.motherId?Ar(Oe.find(tt=>tt.id===v.motherId))||v.motherId:"Seleccionar..."]}),c.jsx(Uu,{size:18,className:"text-zinc-400"})]}),c.jsx("button",{type:"button",onClick:()=>xe("mother"),className:"p-3 bg-zinc-700 border border-zinc-600 rounded-xl text-brand-orange hover:bg-brand-orange/20 flex-shrink-0",children:c.jsx(na,{size:20})})]})]}),p&&c.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-zinc-700",children:[c.jsxs("button",{onClick:pt,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2",children:[c.jsx(Bo,{size:18})," Cancelar"]}),c.jsxs("button",{onClick:Dt,disabled:y!=="idle",className:"bg-brand-green hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 disabled:opacity-50 min-w-[130px] justify-center",children:[y==="saving"&&c.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-current border-t-transparent rounded-full"}),y==="success"&&c.jsx(Za,{size:18}),y==="idle"&&c.jsx(o0,{size:18}),c.jsx("span",{className:"ml-2",children:y==="success"?"Guardado":"Guardar"})]})]})]}),f==="genetics"&&c.jsx(Y9e,{onOpenModal:()=>ne(!0)}),f==="progeny"&&c.jsx(Z9e,{offspring:Ve,navigateTo:n}),f==="events"&&c.jsx(J9e,{animal:ae})]})]})]}),c.jsx(An,{isOpen:D,onClose:()=>k(!1),title:`Cambiar Lote para ${Ar(ae)}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar nuevo lote"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ote,{value:O,onChange:tt=>L(tt.target.value),children:[c.jsx("option",{value:"",children:"Sin Asignar"}),i.map(tt=>c.jsx("option",{value:tt.name,children:tt.name},tt.id))]}),c.jsx("button",{type:"button",onClick:()=>{k(!1),E(!0)},className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(Bl,{size:24})})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{onClick:()=>k(!1),className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:ct,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Cambio"})]})]})}),c.jsx(Hu,{isOpen:H,onClose:()=>q(!1),title:"Causa de la Baja",actions:st}),Y&&ae&&c.jsx(DE,{isOpen:!!Y,animal:ae,onCancel:()=>ee(null),onConfirm:jt,reason:Y}),c.jsx(Hu,{isOpen:K,onClose:()=>te(!1),title:"Acciones de Referencia",actions:bt}),c.jsx(C0,{isOpen:le,onClose:()=>se(!1),onConfirm:Zt,title:`Eliminar ${Ar(ae)} Permanentemente?`,message:"Esta accin borrar el registro del animal de la base de datos para siempre y no se puede deshacer."}),c.jsx(M9e,{isOpen:S,onClose:()=>E(!1)}),c.jsx(R9e,{isOpen:N,onClose:()=>_(!1)}),c.jsx(yp,{isOpen:B,onClose:()=>j(!1),motherId:ae.id}),c.jsxs(An,{isOpen:M,onClose:()=>$(!1),title:`Registrar Destete de ${Ar(ae)}`,children:[" ",c.jsx(Q9e,{animalId:ae.id,birthDate:ae.birthDate,onSave:Ut,onCancel:()=>$(!1)})," "]}),c.jsx(V9e,{isOpen:J,onClose:()=>ne(!1),animalId:ae.id,navigateTo:n}),c.jsx(fS,{isOpen:he,onClose:()=>we(!1),onSelect:tt=>{g(Qt=>({...Qt,motherId:tt})),we(!1)},animals:Oe,title:"Seleccionar Madre",filterSex:"Hembra"}),c.jsx(fS,{isOpen:Se,onClose:()=>Ae(!1),onSelect:tt=>{g(Qt=>({...Qt,fatherId:tt})),Ae(!1)},animals:fe,title:"Seleccionar Padre",filterSex:"Macho"}),ge&&c.jsx(q9e,{type:ge,onClose:()=>xe(null),onSave:rn})]})}const nVe=({animal:t,parturition:e,onSelectAnimal:n})=>c.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate).toLocaleDateString()}`,e.status==="seca"&&"Lactancia finalizada"]})]}),c.jsx(ta,{className:"text-zinc-600"})]});function rVe({onSelectAnimal:t,defaultView:e="drying"}){const{animals:n,parturitions:r,isLoading:i}=Yt(),[a,s]=P.useState(e);P.useEffect(()=>{s(e)},[e]);const o=P.useMemo(()=>{const u=f=>n.find(h=>h.id===f),A=r.filter(f=>f.status==="en-secado").map(f=>({animal:u(f.goatId),parturition:f})).filter(f=>f.animal),d=r.filter(f=>f.status==="seca").map(f=>({animal:u(f.goatId),parturition:f})).filter(f=>f.animal);return{drying:A,dry:d}},[n,r]),l=o[a]||[];return i?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[c.jsxs("header",{className:"text-center pt-8 pb-4",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Gestin de Rebao"}),c.jsx("p",{className:"text-xl text-zinc-400",children:"Animales por Estado de Lactancia"})]}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border flex justify-between items-center",children:c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[c.jsxs("button",{onClick:()=>s("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",o.drying.length,")"]}),c.jsxs("button",{onClick:()=>s("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",o.dry.length,")"]})]})}),c.jsx("div",{className:"space-y-2",children:l.length>0?l.map(({animal:u,parturition:A})=>c.jsx(nVe,{animal:u,parturition:A,onSelectAnimal:t},A.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function iVe({onBack:t}){const{lots:e,animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,addLot:o,deleteLot:l,updateAnimal:u}=Yt(),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(""),y=P.useMemo(()=>{const _=new Map;return n.forEach(B=>{const j=B.location||"Sin Asignar";_.set(j,(_.get(j)||0)+1)}),e.map(B=>({...B,animalCount:_.get(B.name)||0})).sort((B,j)=>B.name.localeCompare(j.name))},[e,n]),x=async()=>{if(A.trim()!==""){g("");try{await o({name:A,parentLotId:void 0}),d("")}catch(_){g(_.message||"No se pudo crear el lote.")}}},S=async(_,B)=>{var j;if(B>0){g(`No se puede eliminar "${(j=e.find(D=>D.id===_))==null?void 0:j.name}". Reasigne los ${B} animales primero.`);return}if(g(""),window.confirm("Ests seguro de que quieres eliminar este lote? Esta accin no se puede deshacer."))try{await l(_)}catch(D){g(D.message||"No se pudo eliminar el lote.")}},E=_=>{m(_),h(!0)},N=async _=>{if(!p)return;const B=_.map(j=>u(j,{location:p}));await Promise.all(B),h(!1),m(null)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestionar Lotes Fsicos"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Crea ubicaciones y asigna animales"})]}),c.jsx("div",{className:"w-8"})]}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Aadir Nuevo Lote"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:A,onChange:_=>d(_.target.value),placeholder:"Nombre del lote...",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"}),c.jsx("button",{onClick:x,className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(na,{size:24})})]}),v&&c.jsx("p",{className:"text-sm text-brand-red text-center",children:v})]})}),c.jsxs("div",{className:"space-y-2 pt-4 px-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-2",children:"Lotes Existentes"}),y.length>0?y.map(_=>c.jsxs("div",{className:"w-full text-left bg-brand-glass rounded-2xl p-4 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:_.name}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[_.animalCount," ",_.animalCount===1?"animal":"animales"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>E(_.name),className:"flex items-center gap-2 bg-zinc-700/80 text-white font-semibold py-2 px-3 rounded-lg hover:bg-zinc-600/80 transition-colors",children:[c.jsx(Qu,{size:16})," Asignar"]}),c.jsx("button",{onClick:()=>S(_.id,_.animalCount),className:"p-2 text-zinc-500 hover:text-brand-red transition-colors",children:c.jsx(bc,{size:18})})]})]},_.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"An no has creado ningn lote."})})]})]}),c.jsx(kE,{isOpen:f,onClose:()=>h(!1),onSelect:N,animals:n,parturitions:r,serviceRecords:i,breedingSeasons:a,sireLots:s,title:`Asignar animales a: ${p}`})]})}const aVe=({onSave:t,onCancel:e,editingLot:n})=>{const{fathers:r,addFather:i}=Yt(),[a,s]=P.useState(""),[o,l]=P.useState(!1),[u,A]=P.useState(null),[d,f]=P.useState(!1);P.useEffect(()=>{n&&n.sireId?s(n.sireId):s("")},[n]);const h=async v=>{await i(v),s(v.id),l(!1)},p=async v=>{if(v.preventDefault(),A(null),!a){A("Debes seleccionar un semental.");return}f(!0);try{await t(a)}catch(g){A("No se pudo guardar el lote."),console.error(g),f(!1)}},m=n?d?"Actualizando...":"Guardar Cambios":d?"Creando...":"Crear Lote";return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"sire",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar Semental"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{id:"sire",value:a,onChange:v=>s(v.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl font-mono text-white",required:!0,disabled:!!n,children:[c.jsx("option",{value:"",children:"Elegir reproductor..."}),r.map(v=>c.jsx("option",{value:v.id,children:Ar(v)},v.id))]}),c.jsx("button",{type:"button",onClick:()=>l(!0),className:"flex-shrink-0 p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:c.jsx(na,{size:24})})]})]}),u&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:u})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d||!a,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:m})]})]}),c.jsx(SO,{isOpen:o,onClose:()=>l(!1),onSave:h})]})},sVe=({isOpen:t,onClose:e,femalesToTransfer:n,originSeasonId:r,onConfirmTransfer:i})=>{const{animals:a,breedingSeasons:s,sireLots:o}=Yt(),[l,u]=P.useState(new Set),[A,d]=P.useState(""),[f,h]=P.useState(!1),[p,m]=P.useState("");P.useEffect(()=>{t&&(u(new Set(n)),d(""),m(""))},[t,n]);const v=P.useMemo(()=>s.find(E=>E.id===r),[s,r]),g=P.useMemo(()=>s.filter(E=>E.id!==r&&E.status==="Activo"),[s,r]),y=P.useMemo(()=>{const E=new Map(a.map(N=>[N.id,N]));return n.map(N=>E.get(N)).filter(N=>!!N).sort((N,_)=>N.id.localeCompare(_.id))},[n,a]),x=E=>{u(N=>{const _=new Set(N);return _.has(E)?_.delete(E):_.add(E),_})},S=async()=>{if(!A){m("Debes seleccionar una temporada de destino.");return}if(!o.some(N=>N.seasonId===A)){m("La temporada de destino no tiene lotes de reproductor. Crea uno primero.");return}if(l.size===0){m("Debes seleccionar al menos una hembra para transferir.");return}h(!0),m("");try{await i(A,Array.from(l)),h(!1),e()}catch(N){m(N.message||"Error al transferir los animales."),console.error("Error transferring animals:",N),h(!1)}};return t?c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-50 animate-fade-in p-4",onClick:e,children:c.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-lg rounded-2xl flex flex-col animate-slide-up max-h-[90vh]",onClick:E=>E.stopPropagation(),children:[c.jsxs("header",{className:"flex-shrink-0 p-4 border-b border-brand-border",children:[c.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Transferir Animales"}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Desde la Temporada: ",(v==null?void 0:v.name)||"Cargando..."]})]}),c.jsxs("main",{className:"p-6 space-y-4 overflow-y-auto",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:["Animales a transferir (",l.size,"/",y.length,")"]}),c.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 p-2 bg-black/20 rounded-lg border border-zinc-700",children:y.length>0?y.map(E=>{const N=E.name?String(E.name).toUpperCase().trim():"";return c.jsxs("div",{onClick:()=>x(E.id),className:"flex items-center gap-3 p-2 rounded-md hover:bg-zinc-700 cursor-pointer transition-colors",children:[l.has(E.id)?c.jsx(T5,{className:"text-brand-orange flex-shrink-0"}):c.jsx(k5,{className:"text-zinc-500 flex-shrink-0"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:E.id.toUpperCase()}),N&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:N})]})]},E.id)}):c.jsx("p",{className:"text-sm text-zinc-500 text-center py-2",children:"No hay animales para transferir."})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Transferir a la Temporada:"}),c.jsxs("select",{id:"destination",value:A,onChange:E=>d(E.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-white appearance-none",children:[c.jsx("option",{value:"",children:"Seleccionar temporada de destino..."}),g.map(E=>c.jsxs("option",{value:E.id,children:[E.name," (Activa)"]},E.id))]})]}),p&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:p})]})]}),c.jsxs("footer",{className:"flex-shrink-0 flex justify-end gap-4 p-4 border-t border-brand-border",children:[c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsx("button",{onClick:S,disabled:f||l.size===0||!A,className:"px-5 py-2 bg-brand-blue hover:bg-blue-700 text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Transfiriendo...":`Transferir ${l.size} Animal(es)`})]})]})}):null},oVe=({sireName:t,animalCount:e,dragControls:n})=>c.jsxs("div",{className:"w-full p-4 flex items-center",children:[c.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:r=>n.start(r),children:c.jsx(_D,{className:"text-zinc-500"})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[c.jsx(ox,{})," Lote: ",t]}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1 flex items-center gap-2",children:[c.jsx(Qu,{size:14})," ",e," ",e===1?"hembra asignada":"hembras asignadas"]})]}),c.jsx(ta,{className:"text-zinc-600"})]}),lVe=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i})=>{const a=Ap(),s=P.useRef(!1),o=(l,u)=>{const A=u.offset.x,d=u.velocity.x;Math.abs(A)<2&&Math.abs(d)<100||(A<-160/2||d<-500?a.start({x:-160}):a.start({x:0})),setTimeout(()=>{s.current=!1},100)};return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[c.jsxs("button",{onClick:e,onPointerDown:l=>l.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(yf,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),c.jsxs("button",{onClick:n,onPointerDown:l=>l.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(bc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),c.jsx(Ji.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{s.current=!0},onDragEnd:o,onTap:()=>{s.current||r()},animate:a,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:c.jsx(oVe,{sireName:t.sireName,animalCount:t.animalCount,dragControls:i})})]})},cVe=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=d3();return c.jsx(h3,{value:t,dragListener:!1,dragControls:i,children:c.jsx(lVe,{lot:t,dragControls:i,onClick:()=>e({name:"sire-lot-detail",lotId:t.id}),onEdit:()=>n(t),onDelete:()=>r(t)})},t.id)};function uVe({seasonId:t,onBack:e,navigateTo:n}){const{breedingSeasons:r,sireLots:i,fathers:a,animals:s,serviceRecords:o,addSireLot:l,updateSireLot:u,deleteSireLot:A,updateAnimal:d}=Yt(),[f,h]=P.useState(!1),[p,m]=P.useState(void 0),[v,g]=P.useState(null),[y,x]=P.useState(null),[S,E]=P.useState(!1),[N,_]=P.useState(null),B=P.useMemo(()=>r.find(K=>K.id===t),[r,t]),j=P.useMemo(()=>i.filter(K=>K.seasonId===t).map(K=>{const te=a.find(M=>M.id===K.sireId),le=te?Ar(te):"Desconocido",se=s.filter(M=>M.sireLotId===K.id).length;return{...K,sireName:le,animalCount:se,sireId:K.sireId}}),[i,t,a,s]),[D,k]=P.useState(j);P.useEffect(()=>{k(j)},[j]);const O=P.useMemo(()=>{if(!B||B.status!=="Cerrado")return[];const K=new Set(j.map(se=>se.id)),te=s.filter(se=>se.sireLotId&&K.has(se.sireLotId)),le=new Set(o.filter(se=>se.sireLotId&&K.has(se.sireLotId)).map(se=>se.femaleId));return te.filter(se=>!le.has(se.id))},[B,j,s,o]),L=K=>{m(K),h(!0)},H=async K=>{p?await u(p.id,{sireId:K}):await l({seasonId:t,sireId:K}),h(!1),m(void 0)},q=K=>{K.animalCount>0?x(`No se puede eliminar. Reasigna las ${K.animalCount} hembra(s) a otro lote primero.`):g(K)},Y=()=>{v&&(A(v.id),g(null))},ee=async(K,te)=>{_(null);const le=i.find(M=>M.seasonId===K);if(!le){_("La temporada de destino no tiene lotes de reproductor. Por favor, crea uno primero."),E(!1);return}const se=te.map(M=>d(M,{sireLotId:le.id,reproductiveStatus:"En Servicio"}));await Promise.all(se),E(!1)};return B?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:B.name}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Detalle de la Temporada"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Lotes de Reproductor"}),c.jsxs("button",{onClick:()=>L(),className:"flex items-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-2 px-3 rounded-lg transition-colors text-sm",children:[c.jsx(na,{size:16})," Aadir Lote"]})]}),D.length>0?c.jsx(f3,{as:"div",axis:"y",values:D,onReorder:k,className:"space-y-3",children:D.map(K=>c.jsx(cVe,{lot:K,navigateTo:n,onEdit:L,onDelete:q},K.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"Esta temporada an no tiene lotes de reproductor."})})]}),B.status==="Cerrado"&&c.jsxs("div",{className:"space-y-4 px-4 pt-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Resultados: Hembras sin Servicio"}),O.length>0&&c.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-blue-600 text-white font-bold py-2 px-3 rounded-lg text-sm",children:[c.jsx(jq,{size:16})," Transferir"]})]}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-2",children:O.length>0?O.map(K=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-black/20 rounded-md",children:[c.jsx("span",{className:"font-semibold text-white",children:Ar(K)}),c.jsxs("span",{className:"text-xs text-zinc-400",children:["Lote Fsico: ",K.location||"N/A"]})]},K.id)):c.jsxs("div",{className:"text-center py-6 flex flex-col items-center gap-2",children:[c.jsx(Npe,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold",children:"Todas las hembras tuvieron servicio en esta temporada."})]})})]})]}),c.jsx(An,{isOpen:f,onClose:()=>{h(!1),m(void 0)},title:p?`Editar Lote de ${p.sireName}`:"Aadir Lote de Reproductor",children:c.jsx(aVe,{onSave:H,onCancel:()=>{h(!1),m(void 0)},editingLot:p,seasonId:B.id})}),c.jsx(C0,{isOpen:!!v,onClose:()=>g(null),onConfirm:Y,title:`Eliminar Lote de ${v==null?void 0:v.sireName}`,message:"Ests seguro de que quieres eliminar este lote? Esta accin es irreversible."}),c.jsx(An,{isOpen:!!y,onClose:()=>x(null),title:"Accin no permitida",children:c.jsxs("div",{className:"space-y-4 text-center",children:[" ",c.jsx(mr,{size:40,className:"mx-auto text-amber-400"})," ",c.jsx("p",{className:"text-zinc-300",children:y})," ",c.jsx("button",{onClick:()=>x(null),className:"mt-4 bg-brand-orange text-white font-semibold py-2 px-6 rounded-lg",children:"Entendido"})," "]})}),c.jsx(An,{isOpen:!!N,onClose:()=>_(null),title:"Error de Transferencia",children:c.jsxs("div",{className:"space-y-4 text-center",children:[" ",c.jsx(mr,{size:40,className:"mx-auto text-amber-400"})," ",c.jsx("p",{className:"text-zinc-300",children:N})," ",c.jsx("button",{onClick:()=>_(null),className:"mt-4 bg-brand-orange text-white font-semibold py-2 px-6 rounded-lg",children:"Entendido"})," "]})}),c.jsx(sVe,{isOpen:S,onClose:()=>E(!1),femalesToTransfer:O.map(K=>K.id),originSeasonId:B.id,onConfirmTransfer:ee})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Temporada no encontrada."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const AVe=(t,e,n,r,i)=>{if(!t||t.status!=="Activo"||t.isReference)return[];const a=[];if(t.sex==="Hembra"){const o=e.filter(l=>l.goatId===t.id&&l.status!=="finalizada").sort((l,u)=>new Date(u.parturitionDate).getTime()-new Date(l.parturitionDate).getTime())[0];o&&(o.status==="activa"?a.push(Pr.MILKING):o.status==="en-secado"?a.push(Pr.DRYING_OFF):o.status==="seca"&&a.push(Pr.DRY))}if(t.reproductiveStatus==="Preada"?a.push(Pr.PREGNANT):t.reproductiveStatus==="En Servicio"?n.some(l=>l.femaleId===t.id&&l.sireLotId===t.sireLotId)?a.push(Pr.IN_SERVICE_CONFIRMED):a.push(Pr.IN_SERVICE):(t.reproductiveStatus==="Vaca"||t.reproductiveStatus==="Post-Parto")&&a.push(Pr.EMPTY),t.sex==="Macho"){const o=i.filter(A=>A.status==="Activo"),l=new Set(o.map(A=>A.id));r.some(A=>A.sireId===t.id&&l.has(A.seasonId))&&a.push(Pr.SIRE_IN_SERVICE)}return Array.from(new Set(a.map(o=>o.key))).map(o=>Pr[o]).filter(Boolean)};function dVe({lotId:t,navigateTo:e,onBack:n}){const{sireLots:r,fathers:i,animals:a,parturitions:s,serviceRecords:o,breedingSeasons:l,updateAnimal:u,addServiceRecord:A,startDryingProcess:d,setLactationAsDry:f}=Yt(),[h,p]=P.useState(!1),[m,v]=P.useState(""),[g,y]=P.useState(null),[x,S]=P.useState(!1),[E,N]=P.useState(null),[_,B]=P.useState(null),[j,D]=P.useState(null),[k,O]=P.useState([]),[L,H]=P.useState("corporal"),q=P.useMemo(()=>r.find(ae=>ae.id===t),[r,t]),Y=P.useMemo(()=>{if(!q)return;const ae=i.find(Ve=>Ve.id===q.sireId);return ae?{...ae,isReference:!0}:a.find(Ve=>Ve.id===q.sireId)},[i,a,q]),ee=P.useMemo(()=>Y?Ar(Y):"Desconocido",[Y]),K=P.useMemo(()=>q?a.filter(ae=>ae.sireLotId===q.id&&!ae.isReference).sort((ae,Ve)=>ae.id.localeCompare(Ve.id)).map(ae=>({...ae,formattedAge:lu(ae.birthDate),statusObjects:AVe(ae,s,o,r,l)})):[],[a,q,s,o,r,l]),te=P.useMemo(()=>{if(!m)return K;const ae=m.toLowerCase();return K.filter(Ve=>Ar(Ve).toLowerCase().includes(ae))},[K,m]),le=async ae=>{if(!q)return;const Ve=ae.map(Oe=>u(Oe,{sireLotId:q.id,reproductiveStatus:"En Servicio"}));await Promise.all(Ve),p(!1)},se=async ae=>{!q||!g||(await A({sireLotId:q.id,femaleId:g.id,serviceDate:ae.toISOString().split("T")[0]}),ne())},M=ae=>{if(!ae)return[];const Ve=[];return Ve.push({label:"Registrar Servicio",icon:I5,onClick:()=>{S(!1),N("service")},color:"text-pink-400"}),Ve.push({label:"Declarar Parto",icon:Pl,onClick:()=>{S(!1),N("parturition")}}),Ve.push({label:"Declarar Aborto",icon:cf,onClick:()=>{S(!1),N("abortion")},color:"text-yellow-400"}),Ve.push({label:"Acciones de Leche",icon:lf,onClick:()=>{S(!1),N("milkWeighingAction")}}),Ve.push({label:"Acciones de Peso",icon:qA,onClick:()=>{S(!1),N("bodyWeighingAction")}}),Ve.push({label:"Dar de Baja",icon:yc,onClick:()=>{S(!1),N("decommissionSheet")},color:"text-brand-red"}),Ve},$=[{label:"Por Venta",icon:Dl,onClick:()=>{B("Venta"),N("decommission")}},{label:"Por Muerte",icon:cf,onClick:()=>{B("Muerte"),N("decommission")},color:"text-brand-red"},{label:"Por Descarte",icon:_5,onClick:()=>{B("Descarte"),N("decommission")},color:"text-brand-red"}],J=ae=>{y(ae),S(!0)},ne=()=>{N(null),y(null),D(null),O([]),B(null)},he=async ae=>{if(!g)return;const Ve={status:ae.reason,isReference:!0,endDate:ae.date};ae.reason==="Venta"&&Object.assign(Ve,{salePrice:ae.salePrice,saleBuyer:ae.saleBuyer,salePurpose:ae.salePurpose}),ae.reason==="Muerte"&&(Ve.deathReason=ae.deathReason),ae.reason==="Descarte"&&Object.assign(Ve,{cullReason:ae.cullReason,cullReasonDetails:ae.cullReasonDetails}),await u(g.id,Ve),ne()},we=(ae,Ve)=>{D(ae),N(Ve==="leche"?"logSimpleMilk":"logSimpleBody")},Se=ae=>{H(ae),N(ae==="leche"?"newMilkSession":"newBodySession")},Ae=async()=>{g&&(await u(g.id,{reproductiveStatus:"En Servicio"}),ne())},ge=(ae,Ve)=>{O(Ve),N("bulkWeighing")},xe=()=>{ne()};return q?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[c.jsxs("header",{className:"flex items-center justify-between pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[c.jsx("button",{onClick:n,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow min-w-0",children:[c.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white truncate",children:["Lote: ",c.jsx("span",{className:"font-mono",children:ee})]}),c.jsxs("p",{className:"text-xs text-zinc-400 truncate",children:["Reproductor: ",Y?Ar(Y):"Desconocido"]})]}),c.jsx("button",{onClick:()=>p(!0),className:"p-2 -mr-2 bg-brand-orange hover:bg-orange-600 text-white rounded-full transition-colors",children:c.jsx(na,{size:24})})]}),c.jsxs("div",{className:"space-y-4 pt-4 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300",children:["Hembras Asignadas (",te.length,")"]}),c.jsxs("div",{className:"relative w-40",children:[c.jsx(Uu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),c.jsx("input",{type:"search",value:m,onChange:ae=>v(ae.target.value),placeholder:"Buscar ID o Nombre...",className:"w-full bg-zinc-800/80 rounded-lg pl-8 pr-2 py-1 text-white border-transparent focus:border-brand-amber focus:ring-0 text-sm"})]})]}),c.jsx("div",{className:"space-y-4",children:te.length>0?te.map(ae=>c.jsx(CO,{animal:ae,onSelect:Ve=>e({name:"rebano-profile",animalId:Ve}),onOpenActions:J},ae.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:m?"No se encontraron coincidencias.":"An no has asignado hembras a este lote."})})})]})]}),c.jsx(kE,{isOpen:h,onClose:()=>p(!1),onSelect:le,animals:a,parturitions:s,serviceRecords:o,breedingSeasons:l,sireLots:r,title:`Asignar Hembras al Lote de ${ee}`,sireIdForInbreedingCheck:q.sireId}),c.jsx(Hu,{isOpen:x,onClose:()=>S(!1),title:`Acciones para ${Ar(g)}`,actions:M(g)}),c.jsx(Hu,{isOpen:E==="decommissionSheet",onClose:ne,title:"Causa de la Baja",actions:$}),g&&c.jsxs(c.Fragment,{children:[E==="service"&&c.jsx(HO,{isOpen:!0,onClose:ne,onSave:se,animal:g}),E==="parturition"&&c.jsx(yp,{isOpen:!0,onClose:ne,motherId:g.id}),E==="abortion"&&c.jsx(RO,{animal:g,onCancel:ne,onSaveSuccess:ne}),E==="decommission"&&_&&c.jsx(DE,{isOpen:E==="decommission",animal:g,onCancel:ne,onConfirm:he,reason:_}),E==="milkWeighingAction"&&c.jsx(LO,{isOpen:!0,animal:g,onClose:ne,onLogToSession:ae=>we(ae,"leche"),onStartNewSession:()=>Se("leche"),onStartDrying:d,onSetDry:f}),E==="bodyWeighingAction"&&c.jsx(MO,{isOpen:!0,animal:g,onClose:ne,onLogToSession:ae=>we(ae,"corporal"),onStartNewSession:()=>Se("corporal"),onSetReadyForMating:Ae}),E==="logSimpleMilk"&&j&&c.jsx(An,{isOpen:!0,onClose:ne,title:`Aadir Pesaje Leche: ${Ar(g)}`,children:c.jsx(Wg,{animalId:g.id,weightType:"leche",onSaveSuccess:ne,onCancel:ne,sessionDate:j})}),E==="logSimpleBody"&&j&&c.jsx(An,{isOpen:!0,onClose:ne,title:`Aadir Peso Corporal: ${Ar(g)}`,children:c.jsx(Wg,{animalId:g.id,weightType:"corporal",onSaveSuccess:ne,onCancel:ne,sessionDate:j})}),(E==="newMilkSession"||E==="newBodySession")&&c.jsx(QO,{weightType:L,onBack:ne,onAnimalsSelected:ge}),E==="bulkWeighing"&&c.jsx(An,{isOpen:!0,onClose:ne,title:`Carga Masiva - ${L==="leche"?"Leche":"Corporal"}`,size:"fullscreen",children:c.jsx(UO,{weightType:L,animalsToWeigh:k,onSaveSuccess:xe,onCancel:ne})})]})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Lote de Reproductor no encontrado."}),c.jsx("button",{onClick:n,className:"mt-4 text-brand-orange",children:"Volver"})]})}const fVe=t=>{const[e,n]=P.useState([]),[r,i]=P.useState([]),[a,s]=P.useState(!0);return P.useEffect(()=>{if(!t)return;(async()=>{s(!0);try{const u=Jn(),[A,d]=await Promise.all([u.weighings.where("goatId").equals(t).toArray(),u.parturitions.where("goatId").equals(t).toArray()]);n(A),i(d.sort((f,h)=>new Date(f.parturitionDate).getTime()-new Date(h.parturitionDate).getTime()))}catch(u){console.error(`Error al cargar datos para ${t}:`,u)}finally{s(!1)}})()},[t]),{...P.useMemo(()=>{if(r.length===0)return{allLactations:[],parturitionIntervals:[],lastWeighingDate:null};const l=r.map((d,f)=>{const h=new Date(d.parturitionDate),p=f<r.length-1?new Date(r[f+1].parturitionDate):new Date(9999,11,31),m=e.filter(N=>{const _=new Date(N.date);return _>=h&&_<p}),v=m.map(N=>({del:Bf(d.parturitionDate,N.date),kg:N.kg})).sort((N,_)=>N.del-_.del),g=m.reduce((N,_)=>N+_.kg,0),y=m.length>0?g/m.length:0,x=v.reduce((N,_)=>_.kg>N.kg?_:N,{kg:0,del:0}),S=v[v.length-1],E=S?S.del:0;return{parturitionDate:d.parturitionDate,weighings:m,lactationCurve:v,averageProduction:y,peakProduction:x,totalDays:E}}),u=r.slice(1).map((d,f)=>{const h=r[f],p=new Date(d.parturitionDate).getTime()-new Date(h.parturitionDate).getTime();return{period:`${h.parturitionDate.substring(0,4)} - ${d.parturitionDate.substring(0,4)}`,days:Math.round(p/(1e3*60*60*24))}}),A=e.sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime())[0];return{allLactations:l,parturitionIntervals:u,lastWeighingDate:(A==null?void 0:A.date)||null}},[e,r]),isLoading:a}},F1=(t,e,n)=>{const r={};return t.forEach(i=>{const a=e.filter(o=>o.goatId===i.goatId&&new Date(i.date)>=new Date(o.parturitionDate)).sort((o,l)=>new Date(l.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];if(!a)return;const s=Bf(a.parturitionDate,i.date);n!==void 0&&s>n||(r[s]||(r[s]={totalKg:0,count:0}),r[s].totalKg+=i.kg,r[s].count++)}),Object.entries(r).map(([i,a])=>({del:parseInt(i),kg:a.totalKg/a.count})).sort((i,a)=>i.del-a.del)},L1=(t,e)=>{let n=0,r=0;return t.forEach(i=>{const a=e.filter(s=>s.goatId===i).sort((s,o)=>new Date(s.parturitionDate).getTime()-new Date(o.parturitionDate).getTime());for(let s=1;s<a.length;s++){const o=a[s],l=a[s-1];if(l.dryingStartDate){const u=new Date(l.dryingStartDate),d=new Date(o.parturitionDate).getTime()-u.getTime(),f=Math.round(d/(1e3*60*60*24));f>=0&&(n+=f,r++)}}}),r===0?null:n/r},hVe=(t,e,n,r)=>{const[i,a]=P.useState(null),[s,o]=P.useState(!1);return P.useEffect(()=>{if(!t.type||!t.animal){a(null),o(!1);return}const{type:l,animal:u,highlightedLactationDEL:A}=t;(async()=>{o(!0),a(null);let f=null;try{if(l==="PRIMIPARAS_AVG"||l==="MULTIPARAS_AVG"||l==="HERD_AVG"){const h=n.reduce((S,E)=>(S[E.goatId]=(S[E.goatId]||0)+1,S),{}),p=n.filter(S=>{const E=h[S.goatId]||0;return l==="PRIMIPARAS_AVG"?E===1:l==="MULTIPARAS_AVG"?E>1:!0}),m=new Set(p.map(S=>S.goatId)),v=r.filter(S=>m.has(S.goatId)),g=F1(v,p,A),y=L1(m,n);f={name:l==="PRIMIPARAS_AVG"?"Prom. Primparas":l==="MULTIPARAS_AVG"?"Prom. Multparas":"Prom. Rebao",curve:g,averageRestInterval:y}}else if(l==="PEERS_AVG"){const h=new Date(u.birthDate),p=h.getFullYear(),m=Math.floor(h.getMonth()/6),v=new Set(e.filter(N=>{const _=new Date(N.birthDate);return _.getFullYear()===p&&Math.floor(_.getMonth()/6)===m&&N.id!==u.id}).map(N=>N.id)),g=new Set(n.filter(N=>v.has(N.goatId)).map(N=>N.goatId)),y=n.filter(N=>g.has(N.goatId)),x=r.filter(N=>g.has(N.goatId)),S=F1(x,y,A),E=L1(g,n);f={name:`Prom. Pares (${p}-S${m+1})`,curve:S,averageRestInterval:E}}else if(l==="DAM")if(u.motherId){const h=n.filter(g=>g.goatId===u.motherId),p=r.filter(g=>g.goatId===u.motherId),m=F1(p,h,A),v=L1(new Set([u.motherId]),n);f={name:`Prom. Madre (${u.motherId})`,curve:m,averageRestInterval:v}}else f={name:"Madre (Desconocida)",curve:[],averageRestInterval:null};else if(l==="PROGENY_AVG"){const h=new Set(e.filter(y=>y.motherId===u.id&&y.sex==="Hembra").map(y=>y.id)),p=n.filter(y=>h.has(y.goatId)),m=r.filter(y=>h.has(y.goatId)),v=F1(m,p,A),g=L1(h,n);f={name:"Prom. Hijas",curve:v,averageRestInterval:g}}else if(l==="SPECIFIC_LACTATION"&&t.specificLactationIndex!==void 0){const h=n.filter(m=>m.goatId===u.id).sort((m,v)=>new Date(m.parturitionDate).getTime()-new Date(v.parturitionDate).getTime());let p=null;if(t.specificLactationIndex>0&&t.specificLactationIndex<h.length){const m=h[t.specificLactationIndex-1];if(m.dryingStartDate){const v=new Date(m.dryingStartDate),y=new Date(h[t.specificLactationIndex].parturitionDate).getTime()-v.getTime();p=Math.round(y/(1e3*60*60*24))}}if(t.specificLactationIndex<h.length){const m=h[t.specificLactationIndex],v=t.specificLactationIndex+1<h.length?new Date(h[t.specificLactationIndex+1].parturitionDate):new Date(9999,11,31),y=r.filter(S=>{const E=new Date(S.date);return S.goatId===u.id&&E>=new Date(m.parturitionDate)&&E<v}).map(S=>({del:Bf(m.parturitionDate,S.date),kg:S.kg})).sort((S,E)=>S.del-E.del);f={name:`Lact. ${new Date(m.parturitionDate).getFullYear()} (#${t.specificLactationIndex+1})`,curve:y,averageRestInterval:p}}else f={name:"Lactancia no encontrada",curve:[],averageRestInterval:null}}}catch(h){console.error("Error calculating comparison data:",h),f={name:"Error",curve:[],averageRestInterval:null}}finally{a(f),o(!1)}})()},[t,e,n,r]),{comparativeData:i,isLoading:s}},M1=[{stroke:"#FF9500",fill:"url(#gradient0)"},{stroke:"#34C759",fill:"url(#gradient1)"},{stroke:"#007AFF",fill:"url(#gradient2)"},{stroke:"#AF52DE",fill:"url(#gradient3)"},{stroke:"#FF3B30",fill:"url(#gradient4)"},{stroke:"#5AC8FA",fill:"url(#gradient5)"},{stroke:"#FFCC00",fill:"url(#gradient6)"}],i4="#007AFF",hH="comparisonGradient",pVe=({active:t,payload:e,label:n})=>t&&e&&e.length?c.jsxs("div",{className:"bg-black/70 backdrop-blur-md p-3 rounded-lg border border-zinc-700 text-white shadow-xl",children:[c.jsxs("p",{className:"label text-zinc-400 text-sm font-medium mb-1",children:["DEL: ",n]}),e.map(r=>{var i;return c.jsxs("p",{style:{color:r.stroke||((i=r.payload)==null?void 0:i.stroke)},className:"font-semibold text-base flex justify-between items-center gap-4",children:[c.jsxs("span",{children:[r.name,":"]}),c.jsx("span",{children:typeof r.value=="number"?`${r.value.toFixed(2)} Kg`:"N/A"})]},r.name)})]}):null,mVe=({lactationsData:t,comparisonData:e,highlightedLactationDate:n,onLactationClick:r})=>{const[i,a]=P.useState(null),s=P.useMemo(()=>t?t.slice(-M1.length).reverse():[],[t]),o=P.useMemo(()=>new Map(s.map(m=>[`Lact. ${new Date(m.parturitionDate).getFullYear()}`,m.parturitionDate])),[s]),l=(m,v)=>{const g=o.get(m),y=f&&n===g,x=i===m,S=v.dataKey==="kg"&&e&&m===e.name;let E=1;return S?E=1:f?E=y?1:.7:i&&(E=x?1:.7),c.jsx("span",{style:{color:v.color,opacity:E,transition:"opacity 0.2s ease"},children:m})},u=P.useMemo(()=>{if(!s)return[];let m=s.flatMap(v=>v.lactationCurve);return e!=null&&e.curve&&(m=m.concat(e.curve)),m},[s,e]),A=P.useMemo(()=>!u||u.length===0?305:Math.max(...u.map(m=>m.del),0),[u]),d=P.useMemo(()=>!u||u.length===0?5:Math.max(...u.map(m=>m.kg),0),[u]),f=n!==null,h=i4,p=`url(#${hH})`;return s?s.length===0?c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos histricos de lactancia para mostrar."}):c.jsx("div",{className:"w-full h-72",children:c.jsx(ea,{children:c.jsxs(xx,{margin:{top:5,right:15,left:-25,bottom:5},onClick:m=>{(!m||!m.activePayload||m.activePayload.length===0)&&r(null)},children:[c.jsxs("defs",{children:[M1.map((m,v)=>c.jsxs("linearGradient",{id:`gradient${v}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:m.stroke,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:m.stroke,stopOpacity:.15})]},`grad-${v}`)),c.jsxs("linearGradient",{id:hH,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:i4,stopOpacity:.6})," ",c.jsx("stop",{offset:"95%",stopColor:i4,stopOpacity:.1})," "]})]}),c.jsx(ed,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)",vertical:!1}),c.jsx(Pi,{dataKey:"del",type:"number",domain:[0,A>0?A:305],tick:{fill:"rgba(255, 255, 255, 0.5)",fontSize:10},stroke:"rgba(255, 255, 255, 0.2)",axisLine:!1,tickLine:!1,name:"DEL"}),c.jsx(Qi,{orientation:"right",tick:{fill:"rgba(255, 255, 255, 0.5)",fontSize:10},stroke:"rgba(255, 255, 255, 0.2)",axisLine:!1,tickLine:!1,domain:[0,d>0?Math.ceil(d+.5):5],unit:"Kg",width:35}),c.jsx(Dr,{content:c.jsx(pVe,{}),cursor:{stroke:"rgba(255,255,255,0.4)",strokeWidth:1.5}}),c.jsx(qc,{verticalAlign:"top",height:36,iconType:"plainline",wrapperStyle:{fontSize:"12px",paddingBottom:"10px"},formatter:l,onMouseEnter:m=>a(m.value),onMouseLeave:()=>a(null)}),s.map((m,v)=>{const g=M1[v%M1.length],x=`Lact. ${new Date(m.parturitionDate).getFullYear()}`,S=n===m.parturitionDate,E=i===x,N=S||E,_=f?S?1:.7:E?1:.9,B=N?3.5:2.5,j=f?S?.7:.3:E?.8:.7;return c.jsxs(be.Fragment,{children:[c.jsx(Fl,{type:"monotone",data:m.lactationCurve,dataKey:"kg",name:x,stroke:"none",fill:g.fill,fillOpacity:j,activeDot:!1,style:{transition:"opacity 0.2s ease, fill-opacity 0.2s ease"}}),c.jsx(Yh,{type:"monotone",data:m.lactationCurve,dataKey:"kg",name:x,stroke:g.stroke,strokeWidth:B,dot:!1,activeDot:{r:5,strokeWidth:0},strokeOpacity:_,style:{transition:"opacity 0.2s ease, stroke-width 0.2s ease"},onClick:()=>{r(m.parturitionDate)},cursor:"pointer"})]},m.parturitionDate)}),e&&e.curve.length>0&&c.jsxs(be.Fragment,{children:[c.jsx(Fl,{type:"monotone",data:e.curve,dataKey:"kg",name:e.name,stroke:"none",fill:p,fillOpacity:f?.4:.6,style:{transition:"opacity 0.2s ease"}}),c.jsx(Yh,{type:"monotone",data:e.curve,dataKey:"kg",name:e.name,stroke:h,strokeWidth:2.5,strokeDasharray:"4 4",dot:!1,activeDot:{r:5,strokeWidth:0},strokeOpacity:1,style:{transition:"opacity 0.2s ease"}})]})]})})}):c.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Cargando datos..."})},gVe=({lactationNumber:t,lactationData:e,onClick:n})=>{const r=new Date(e.parturitionDate+"T00:00:00Z").getUTCFullYear();return c.jsxs("button",{onClick:n,className:"w-full text-left bg-black/20 rounded-2xl p-4 border border-zinc-700/80 hover:border-brand-blue/50 transition-colors group",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("h4",{className:"font-bold text-lg text-white",children:["Lactancia #",t," ",c.jsxs("span",{className:"text-zinc-400 font-normal",children:["(",r,")"]})]}),c.jsx(ta,{className:"text-zinc-500 group-hover:text-brand-blue transition-colors"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(s0,{size:12}),"Promedio"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.averageProduction.toFixed(2),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" Kg"})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(Ta,{size:12}),"Pico"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.peakProduction.kg.toFixed(2),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" Kg"})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-zinc-400 flex items-center justify-center gap-1",children:[c.jsx(xD,{size:12}),"Duracin"]}),c.jsxs("p",{className:"text-xl font-semibold text-white",children:[e.totalDays,c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:" das"})]})]})]})]})},a4=(t,e=2,n="Kg")=>t==null||isNaN(t)?"N/A":`${t.toFixed(e)} ${n}`,vVe=(t,e,n)=>{const r=n.find(s=>s.goatId===e&&s.parturitionDate===t.parturitionDate);if(!r)return null;const i=n.filter(s=>s.goatId===e&&new Date(s.parturitionDate)<new Date(r.parturitionDate)).sort((s,o)=>new Date(o.parturitionDate).getTime()-new Date(s.parturitionDate).getTime())[0];if(!i||!i.dryingStartDate)return null;const a=new Date(r.parturitionDate).getTime()-new Date(i.dryingStartDate).getTime();return Math.round(a/(1e3*60*60*24))},R1=({label:t,valueA:e,valueB:n,unit:r,decimals:i=2,invertColors:a=!1})=>{const s=e!=null,o=n!=null,l=s&&o;let u=null,A="N/A",d="text-zinc-400",f=ND;return l&&(u=e-n,Math.abs(u)<.01&&(u=0),A=`${u>0?"+":""}${u.toFixed(i)} ${r}`,u>0?(d=a?"text-brand-red":"text-brand-green",f=pg):u<0&&(d=a?"text-brand-green":"text-brand-red",f=hg)),c.jsxs("div",{className:"py-3 border-b border-zinc-700/50 flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-zinc-400",children:t}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-lg font-semibold text-white",children:a4(e,i,r)}),l?c.jsxs("span",{className:`text-sm font-medium flex items-center ${d}`,children:[c.jsx(f,{size:16,className:"mr-0.5"}),A,c.jsxs("span",{className:"text-zinc-500 ml-2 text-xs font-normal",children:["(vs ",a4(n,i,r),")"]})]}):c.jsxs("span",{className:"text-sm font-medium text-zinc-500",children:["vs ",a4(n,i,r)]})]})]})},yVe=({lactationA:t,comparisonB:e,allParturitions:n,animalId:r})=>{const i=e!=null&&e.curve.length?e.curve.reduce((A,d)=>A+d.kg,0)/e.curve.length:null,a=e!=null&&e.curve.length?e.curve.reduce((A,d)=>d.kg>A.kg?d:A,{kg:0,del:0}):null,s=e!=null&&e.curve.length?e.curve[e.curve.length-1].del:null,o=P.useMemo(()=>vVe(t,r,n),[t,r,n]),l=e==null?void 0:e.averageRestInterval,u=`Lact. ${new Date(t.parturitionDate).getFullYear()}`;return c.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-border/50 text-white animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[c.jsx("span",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wide",children:"Mtrica"}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-xs font-semibold text-white uppercase tracking-wide",children:u}),c.jsxs("span",{className:"text-xs font-light text-zinc-400",children:["vs ",(e==null?void 0:e.name)||"..."]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(R1,{label:"Promedio",valueA:t.averageProduction,valueB:i,unit:"Kg",decimals:2}),c.jsx(R1,{label:"Pico",valueA:t.peakProduction.kg,valueB:a==null?void 0:a.kg,unit:"Kg",decimals:2}),c.jsx(R1,{label:"Duracin (DEL)",valueA:t.totalDays,valueB:s,unit:"das",decimals:0}),c.jsx(R1,{label:"Descanso Previo",valueA:o,valueB:l,unit:"das",decimals:0,invertColors:!0})]})]})},bVe=({active:t,payload:e,label:n})=>{var r;return t&&e&&e.length?c.jsxs("div",{className:"bg-zinc-800/80 backdrop-blur-md p-3 rounded-lg border border-zinc-700 text-white shadow-xl",children:[c.jsxs("p",{className:"label text-zinc-400 text-sm font-medium mb-1",children:["DEL: ",n]}),c.jsxs("p",{className:"font-semibold text-base",style:{color:e[0].stroke||((r=e[0].payload)==null?void 0:r.stroke)||e[0].fill},children:[e[0].name,": ",e[0].value.toFixed(2)," Kg"]})]}):null};function Fte({animalId:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,weighings:a,startDryingProcess:s,setLactationAsDry:o}=Yt(),{allLactations:l,parturitionIntervals:u,lastWeighingDate:A,isLoading:d}=fVe(t),[f,h]=P.useState(!1),[p,m]=P.useState(null),[v,g]=P.useState(!1),[y,x]=P.useState(null),S=P.useMemo(()=>r.find(J=>J.id===t)||null,[r,t]),[E,N]=P.useState({type:null,animal:S,highlightedLactationDEL:void 0}),{comparativeData:_,isLoading:B}=hVe(E,r,i,a),j=P.useMemo(()=>{if(l.length===0)return null;const J=l[l.length-1],ne=i.find(he=>he.parturitionDate===J.parturitionDate&&he.goatId===t);return{...J,id:ne==null?void 0:ne.id,status:ne==null?void 0:ne.status}},[l,i,t]),D=P.useMemo(()=>{if(!j||j.status==="seca"||j.status==="finalizada")return"N/A";const J=j.status!=="activa"&&A?A:new Date().toISOString().split("T")[0];return Bf(j.parturitionDate,J)},[j,A]),k=P.useMemo(()=>!j||j.weighings.length===0?null:[...j.weighings].sort((ne,he)=>new Date(he.date).getTime()-new Date(ne.date).getTime())[0].kg,[j]),O=P.useMemo(()=>!v||!_||B||_.curve.length===0?null:{name:_.name,curve:_.curve},[v,_,B]),L=P.useMemo(()=>l.length>0?l[l.length-1]:null,[l]),H=P.useMemo(()=>u.length>0?u[u.length-1].days:0,[u]),q=P.useMemo(()=>l.length<=1?[]:l.slice(0,-1).reverse(),[l]);if(d)return c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando perfil..."})});const Y=l.length===1,ee=J=>{if(!J)return;const ne=l.find(he=>he.parturitionDate===J);return!ne||ne.lactationCurve.length===0?0:Math.max(...ne.lactationCurve.map(he=>he.del),0)},K=J=>{x(J);const ne=ee(J);J?(g(!0),N(he=>({...he,animal:S,highlightedLactationDEL:ne}))):(g(!1),N({type:null,animal:null,highlightedLactationDEL:void 0}))},te=()=>{const J=!v;if(g(J),J){let ne=y;!ne&&L&&(ne=L.parturitionDate,x(ne));const he=ee(ne);N(we=>({...we,animal:S,highlightedLactationDEL:he}))}else x(null),N({type:null,animal:null,highlightedLactationDEL:void 0})},le=(J,ne)=>{N(he=>{const we=he.type===J&&he.specificLactationIndex===ne?null:J;let Se=y;we&&(g(!0),!Se&&L&&(Se=L.parturitionDate,x(Se)));const Ae=ee(Se);return{...he,type:we,animal:S,specificLactationIndex:J==="SPECIFIC_LACTATION"?ne:void 0,highlightedLactationDEL:Ae}})},se=J=>{J&&J.lactationCurve.length>0&&(m(J),h(!0))},M=(J,ne)=>{const he=E.type===J&&(J!=="SPECIFIC_LACTATION"||E.specificLactationIndex===ne);let we="";return Y&&J==="PRIMIPARAS_AVG"&&(we="ring-2 ring-amber-400"),!Y&&J==="MULTIPARAS_AVG"&&(we="ring-2 ring-amber-400"),`px-2 py-1 text-xs rounded-md transition-colors ${he?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${we}`},$=y!==null;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 sticky top-0 z-10 bg-brand-dark/80 backdrop-blur-md -mx-4 px-4 border-b border-brand-border/50 mb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Perfil de Lactancia"})]}),c.jsx("button",{onClick:()=>n({name:"rebano-profile",animalId:t}),className:"p-2 -mr-2 text-zinc-400 hover:text-white transition-colors",title:"Ir a la ficha general del animal",children:c.jsx(N5,{size:24})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(s0,{size:14}),c.jsx("span",{children:"Promedio Actual"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(L==null?void 0:L.averageProduction.toFixed(2))||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(Ta,{size:14}),c.jsx("span",{children:"Pico Prod. Actual"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(L==null?void 0:L.peakProduction.kg.toFixed(2))||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(xD,{size:14}),c.jsx("span",{children:"DEL Actual"})]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:D})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(Ipe,{size:14}),c.jsx("span",{children:"lt. Int. Partos"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[H||"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"das"})]})]}),c.jsxs("button",{onClick:()=>se(L),disabled:!L||L.weighings.length===0,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors col-span-2 md:col-span-1 disabled:opacity-50 disabled:cursor-not-allowed relative group",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[c.jsx(ipe,{size:14}),c.jsx("span",{children:"lt. Pesaje"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(k==null?void 0:k.toFixed(2))??"N/A"," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]}),c.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:A?new Date(A+"T00:00:00").toLocaleDateString():""}),c.jsx("div",{className:"absolute top-3 right-3 text-zinc-500 group-hover:text-brand-amber transition-colors",children:c.jsx(ax,{size:18})})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border relative",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center border-b border-brand-border pb-2 mb-4 gap-2",children:[c.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase",children:"Historial de Lactancias"}),c.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-center",children:[$&&c.jsxs("button",{onClick:()=>K(null),className:"text-xs font-semibold text-zinc-400 hover:text-white animate-fade-in flex items-center gap-1 bg-zinc-700/50 px-2 py-1 rounded-md",title:"Quitar zoom",children:[c.jsx(dpe,{size:14}),"Ver Todo"]}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:"Comparar:"}),c.jsx("button",{onClick:te,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${v?"bg-amber-500":"bg-zinc-700"}`,children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${v?"translate-x-5":"translate-x-0"}`})})]})]}),v&&c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 animate-fade-in p-2 bg-black/20 rounded-lg",children:[c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto",children:"Grupos:"}),c.jsx("button",{onClick:()=>le("PRIMIPARAS_AVG"),className:M("PRIMIPARAS_AVG"),children:"vs Primparas"}),c.jsx("button",{onClick:()=>le("MULTIPARAS_AVG"),className:M("MULTIPARAS_AVG"),children:"vs Multparas"}),c.jsx("button",{onClick:()=>le("HERD_AVG"),className:M("HERD_AVG"),children:"vs Rebao"}),c.jsx("button",{onClick:()=>le("PEERS_AVG"),className:M("PEERS_AVG"),children:"vs Pares"}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto pt-2 sm:pt-0",children:"Familia:"}),c.jsx("button",{onClick:()=>le("DAM"),className:M("DAM"),disabled:!(S!=null&&S.motherId),children:"Madre"}),c.jsx("button",{onClick:()=>le("PROGENY_AVG"),className:M("PROGENY_AVG"),children:"Prom. Hijas"}),c.jsx("span",{className:"text-xs font-semibold text-zinc-300 w-full sm:w-auto pt-2 sm:pt-0",children:"Propias:"}),q.map((J,ne)=>c.jsxs("button",{onClick:()=>le("SPECIFIC_LACTATION",l.length-2-ne),className:M("SPECIFIC_LACTATION",l.length-2-ne),children:["vs Lact. #",l.length-1-ne," (",new Date(J.parturitionDate).getFullYear(),")"]},J.parturitionDate))]}),c.jsx(mVe,{lactationsData:l,comparisonData:O,highlightedLactationDate:y,onLactationClick:K}),B&&c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-xl text-white",children:[c.jsx(eu,{className:"animate-spin mr-2"})," Calculando comparacin..."]}),v&&_&&L&&!B&&c.jsx(yVe,{lactationA:l.find(J=>J.parturitionDate===y)||L,comparisonB:_,allParturitions:i,animalId:t})]}),q.length>0&&c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-1",children:"Lactancias Anteriores"}),q.map((J,ne)=>c.jsx(gVe,{lactationNumber:l.length-1-ne,lactationData:J,onClick:()=>se(J)},J.parturitionDate))]}),(j==null?void 0:j.id)&&j.status!=="finalizada"&&c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase mb-3",children:"Gestin de Lactancia Actual"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[j.status==="activa"&&c.jsxs("button",{onClick:()=>s(j.id),className:"w-full flex items-center justify-center space-x-2 bg-blue-600/80 hover:bg-blue-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[c.jsx(cp,{size:20}),c.jsx("span",{children:"Iniciar Proceso de Secado"})]}),(j.status==="activa"||j.status==="en-secado")&&c.jsxs("button",{onClick:()=>o(j.id),className:"w-full flex items-center justify-center space-x-2 bg-gray-600/80 hover:bg-gray-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[c.jsx(yc,{size:20}),c.jsx("span",{children:"Declarar Lactancia como Seca"})]}),j.status==="seca"&&c.jsx("div",{className:"w-full text-center p-3 bg-black/20 rounded-xl",children:c.jsx("p",{className:"font-semibold text-green-400",children:"Esta lactancia ha finalizado."})})]}),j.status==="en-secado"&&c.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal est en su perodo de secado."})]})]}),c.jsx(An,{isOpen:f,onClose:()=>h(!1),title:`Curva Lactancia (${p?new Date(p.parturitionDate).getFullYear():"Actual"}) - ${t}`,children:p?c.jsx("div",{className:"w-full h-[320px] -ml-2 -mr-2",children:c.jsx(ea,{width:"100%",height:"100%",children:c.jsxs(xx,{data:p.lactationCurve,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorLactation",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#FBBF24",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#FBBF24",stopOpacity:0})]})}),c.jsx(ed,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)",vertical:!1}),c.jsx(Pi,{dataKey:"del",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.2)"}}),c.jsx(Qi,{orientation:"right",tickFormatter:J=>`${J.toFixed(1)} Kg`,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.2)"}}),c.jsx(Dr,{content:c.jsx(bVe,{})}),c.jsx(Fl,{type:"monotone",dataKey:"kg",name:`${t} (${new Date(p.parturitionDate).getFullYear()})`,stroke:"#FBBF24",fill:"url(#colorLactation)",strokeWidth:2.5,dot:{r:3,fill:"#FBBF24",stroke:"#FBBF24",strokeWidth:1},activeDot:{r:5,fill:"#FFFFFF",stroke:"#FBBF24",strokeWidth:2}})]})})}):c.jsx("p",{className:"text-center text-zinc-400 py-8",children:"No hay datos para mostrar la curva seleccionada."})})]})}const xVe=({plan:t})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("p",{className:"font-semibold text-white",children:t.details}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Iniciado el: ",new Date(t.startDate+"T00:00:00").toLocaleDateString("es-VE")]})]});function wVe({lotName:t,onBack:e}){const{feedingPlans:n,addFeedingPlan:r}=Yt(),[i,a]=P.useState(""),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(null),A=P.useMemo(()=>n.filter(f=>f.lotName===t).sort((f,h)=>new Date(h.startDate).getTime()-new Date(f.startDate).getTime()),[n,t]),d=async f=>{if(f.preventDefault(),!i.trim()){u({type:"error",text:"Los detalles del plan no pueden estar vacos."});return}try{await r({lotName:t,details:i,startDate:s}),u({type:"success",text:"Plan de alimentacin guardado con xito."}),a("")}catch(h){u({type:"error",text:"No se pudo guardar el plan."}),console.error(h)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Alimentacin: ",t]}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Planes de Nutricin del Lote"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("form",{onSubmit:d,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(na,{size:20})," Asignar Nuevo Plan"]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"planDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Plan (Ej: 2kg de concentrado/da)"}),c.jsx("textarea",{id:"planDetails",rows:3,value:i,onChange:f=>a(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"planStartDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),c.jsx("input",{id:"planStartDate",type:"date",value:s,onChange:f=>o(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Plan"}),l&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:l.text})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[c.jsx(CD,{size:20})," Historial de Planes"]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(f=>c.jsx(xVe,{plan:f},f.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay planes de alimentacin registrados para este lote."})})]})]})}const CVe=({event:t})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("p",{className:"font-semibold text-white",children:t.details}),c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Aplicado el: ",new Date(t.date+"T00:00:00").toLocaleDateString("es-VE")]})]});function SVe({lotName:t,onBack:e}){const{events:n,addBatchEvent:r}=Yt(),[i,a]=P.useState(""),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[l,u]=P.useState(null),A=P.useMemo(()=>{const f=n.filter(h=>h.lotName===t&&h.type==="Tratamiento").reduce((h,p)=>{const m=`${p.date}-${p.details}`;return h[m]||(h[m]=p),h},{});return Object.values(f).sort((h,p)=>new Date(p.date).getTime()-new Date(h.date).getTime())},[n,t]),d=async f=>{if(f.preventDefault(),u(null),!i.trim()){u({type:"error",text:"Los detalles del tratamiento no pueden estar vacos."});return}try{await r({lotName:t,details:i,date:s,type:"Tratamiento"}),u({type:"success",text:"Tratamiento registrado con xito para todo el lote."}),a("")}catch(h){u({type:"error",text:"No se pudo registrar el tratamiento."}),console.error(h)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Tratamientos: ",t]}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Sanidad Colectiva del Lote"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("form",{onSubmit:d,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(na,{size:20})," Registrar Tratamiento al Lote"]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"treatmentDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Tratamiento (Ej: Vacuna Triple)"}),c.jsx("textarea",{id:"treatmentDetails",rows:3,value:i,onChange:f=>a(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"treatmentDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"treatmentDate",type:"date",value:s,onChange:f=>o(f.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),c.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Tratamiento"}),l&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:l.text})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[c.jsx(Mpe,{size:20})," Historial de Tratamientos del Lote"]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(f=>c.jsx(CVe,{event:f},f.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay tratamientos registrados para este lote."})})]})]})}const $u=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload.name==="Promedio Rebao";return"range"in e[0].payload?c.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[c.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Rango: ",e[0].payload.range," Kg"]}),c.jsxs("p",{className:"font-bold text-base",children:["N de Cabras: ",e[0].value]})]}):c.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[c.jsx("p",{className:"label text-brand-light-gray text-sm",children:r?`Das en Leche (DEL): ${n}`:`DEL: ${n}`}),c.jsx("p",{className:"font-bold text-base",children:r?`Promedio: ${e[0].value.toFixed(2)} Kg`:`Produccin: ${e[0].value.toFixed(2)} Kg`})]})}return null},Uf=({icon:t,label:e,value:n,unit:r,colorClass:i})=>c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border ${i||""}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(t,{size:14}),c.jsx("span",{children:e})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[n," ",c.jsx("span",{className:"text-lg text-zinc-400",children:r})]})]});function EVe({animalId:t,onBack:e}){const{animals:n,bodyWeighings:r,appConfig:i}=Yt(),a=P.useMemo(()=>{const m=n.find(j=>j.id===t);if(!m)return null;const v=r.filter(j=>j.animalId===m.id).sort((j,D)=>new Date(j.date).getTime()-new Date(D.date).getTime()),g=xO(m.birthWeight,v),y=lu(m.birthDate),x=v.length>0?v[v.length-1].kg:m.birthWeight||0,S=zQe(m),E=VQe(m,v),N=v.map(j=>({age:(new Date(j.date).getTime()-new Date(m.birthDate+"T00:00:00Z").getTime())/(1e3*60*60*24),[m.id]:j.kg}));m.birthWeight&&N.unshift({age:0,[m.id]:m.birthWeight});const B=[60,90,180,270].map(j=>({days:j,weight:ste(v,m.birthDate,j)}));return{animal:m,gdp:g,formattedAge:y,latestWeight:x,chartData:N,interpolatedWeights:B,weaningIndex:S,precocityIndex:E}},[t,n,r]);if(!a)return c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."})});const{animal:s,gdp:o,formattedAge:l,latestWeight:u,chartData:A,interpolatedWeights:d,weaningIndex:f,precocityIndex:h}=a,p=s.name?String(s.name).toUpperCase().trim():"";return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-md z-10 border-b border-brand-border -mx-4 mb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow min-w-0",children:[c.jsx("h1",{className:"text-3xl font-mono font-bold tracking-tight text-white truncate",children:s.id.toUpperCase()}),p&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:p}),c.jsx("p",{className:"text-lg text-zinc-400 mt-1",children:"Perfil de Crecimiento"})," "]}),c.jsx("div",{className:"w-8"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 px-4",children:[c.jsx(Uf,{icon:qA,label:"Peso Actual",value:u.toFixed(2),unit:"Kg"}),c.jsx(Uf,{icon:Ta,label:"GDP General",value:o.overall?(o.overall*1e3).toFixed(0):"N/A",unit:"g/da"}),c.jsx(Uf,{icon:So,label:"Edad Actual",value:l}),c.jsx(Uf,{icon:Epe,label:"N Pesajes",value:A.length>0?A.length-(s.birthWeight?1:0):0})]}),(f||h)&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 px-4",children:[f&&c.jsx(Uf,{icon:Ype,label:"ndice Destete (60d)",value:f.toFixed(2),unit:"Kg",colorClass:"border-amber-400/50"}),c.jsx(Uf,{icon:wD,label:"Meta Destete (Config)",value:i.pesoDesteteMetaKg.toFixed(2),unit:"Kg",colorClass:"border-blue-400/50"}),h&&c.jsx(Uf,{icon:Gpe,label:"ndice Precocidad (7m)",value:h.toFixed(2),unit:"Kg",colorClass:"border-amber-400/50"})]}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Curva de Crecimiento"}),A.length>1?c.jsx("div",{className:"w-full h-64",children:c.jsx(ea,{children:c.jsxs(UQe,{data:A,margin:{top:5,right:20,left:-10,bottom:5},children:[c.jsx(ed,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),c.jsx(Pi,{dataKey:"age",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Edad (das)",position:"insideBottom",offset:-5,fill:"rgba(255,255,255,0.5)"}}),c.jsx(Qi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Peso (Kg)",angle:-90,position:"insideRight",fill:"rgba(255,255,255,0.5)"},domain:["dataMin - 2","dataMax + 2"]}),c.jsx(Dr,{content:c.jsx($u,{})}),c.jsx(qc,{verticalAlign:"top",height:36}),c.jsx(Yh,{type:"monotone",dataKey:s.id,name:Ar(s),stroke:"#34C759",strokeWidth:2.5,dot:{r:4},activeDot:{r:6}})]})})}):c.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No hay suficientes pesajes para mostrar la curva."})]})}),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hitos de Crecimiento (Pesos Estimados)"}),A.length>1?c.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.map(({days:m,weight:v})=>c.jsxs("div",{className:"bg-black/20 p-3 rounded-lg text-center",children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["Peso a los ",m," das"]}),c.jsx("p",{className:"text-xl font-bold text-white",children:v?`${v.toFixed(2)} Kg`:"---"})]},m))}):c.jsx("p",{className:"text-center text-zinc-500 py-4",children:"Se necesitan ms pesajes para estimar los hitos."})]})})]})}const _Ve=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result.split(",")[1]),r.onerror=i=>n(i)}),BVe=({onImageSelect:t})=>{const e=P.useRef(null),n=r=>{var i;(i=r.target.files)!=null&&i[0]&&t(r.target.files[0])};return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsx("input",{type:"file",ref:e,accept:"image/*",onChange:n,className:"hidden"}),c.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.setAttribute("capture","environment"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-blue-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(spe,{className:"w-12 h-12 mb-2 text-blue-400"}),c.jsx("span",{className:"text-lg font-semibold",children:"Tomar Foto"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Usa la cmara para escanear"})]}),c.jsxs("button",{onClick:()=>{var r,i;(r=e.current)==null||r.removeAttribute("capture"),(i=e.current)==null||i.click()},className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-green-400 text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(wpe,{className:"w-12 h-12 mb-2 text-green-400"}),c.jsx("span",{className:"text-lg font-semibold",children:"Seleccionar Archivo"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Elige una foto de tu galera"})]})]})};function NVe({onBack:t}){const[e,n]=P.useState("capture"),[r,i]=P.useState(""),[a,s]=P.useState(""),o=async l=>{var u,A;n("loading"),i(""),s("");try{const d=await _Ve(l),m=await fetch("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyAsHrxI8e8prsvYNvx992YyC26n592GfWk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:d},features:[{type:"TEXT_DETECTION"}]}]})});if(!m.ok){const y=await m.json();throw new Error(y.error.message||"Error en la API de Google Vision.")}const g=(A=(u=(await m.json()).responses[0])==null?void 0:u.fullTextAnnotation)==null?void 0:A.text;if(g)s(g),n("verification");else throw new Error("No se pudo detectar texto en la imagen. Intenta con una foto ms clara.")}catch(d){i(d.message||"Ocurri un error inesperado."),n("error")}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Escanear Cuaderno"}),c.jsx("p",{className:"text-xl text-zinc-400",children:"Digitalizacin Asistida"})]}),c.jsx("div",{className:"w-8"})]}),e==="capture"&&c.jsx(BVe,{onImageSelect:o}),e==="loading"&&c.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[c.jsx(Eq,{className:"w-12 h-12 text-amber-400 mx-auto animate-spin"}),c.jsx("p",{className:"mt-4 text-zinc-400",children:"Analizando imagen con IA..."})]}),e==="verification"&&c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider border-b border-brand-border pb-2",children:[c.jsx(N5,{}),c.jsx("span",{children:"Texto Reconocido"})]}),c.jsx("textarea",{readOnly:!0,value:a,className:"w-full h-48 bg-black/20 text-white p-3 rounded-lg border border-zinc-700"}),c.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Funcionalidad de autocompletado de pesajes prximamente."}),c.jsx("button",{onClick:()=>n("capture"),className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Escanear Otra Imagen"})]}),e==="error"&&c.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-6 text-center animate-fade-in",children:[c.jsx(mr,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),c.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Ocurri un Error"}),c.jsx("p",{className:"text-red-300",children:r}),c.jsx("button",{onClick:()=>n("capture"),className:"mt-6 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2 px-4 rounded-lg",children:"Intentar de Nuevo"})]})]})}const pH=152,VO=()=>{const{animals:t,breedingSeasons:e,sireLots:n,serviceRecords:r,fathers:i}=Yt();return{forecastBySeason:P.useMemo(()=>{var A;const s=[],o=e.filter(d=>d.status==="Activo");for(const d of o){const f=n.filter(m=>m.seasonId===d.id);if(f.length===0)continue;const h=new Set(f.map(m=>m.id)),p=t.filter(m=>m.sireLotId&&h.has(m.sireLotId));for(const m of p){const v=r.filter(x=>x.femaleId===m.id&&x.sireLotId===m.sireLotId&&new Date(x.serviceDate)>=new Date(d.startDate)&&new Date(x.serviceDate)<=new Date(d.endDate)).sort((x,S)=>new Date(S.serviceDate).getTime()-new Date(x.serviceDate).getTime())[0],g=n.find(x=>x.id===m.sireLotId);if(!g)continue;const y=((A=i.find(x=>x.id===g.sireId))==null?void 0:A.name)||"Desconocido";if(v){const x=new Date(v.serviceDate);x.setDate(x.getDate()+pH),s.push({animal:m,dueDate:x,type:"Confirmada",sireId:g.sireId,sireName:y,seasonId:d.id})}else{const S=new Date(d.startDate);S.setDate(S.getDate()+10+pH),s.push({animal:m,dueDate:S,type:"Probable",sireId:g.sireId,sireName:y,seasonId:d.id})}}}const l=s.reduce((d,f)=>{const{seasonId:h}=f;return d[h]||(d[h]=[]),d[h].push(f),d},{});let u=Object.entries(l).map(([d,f])=>{const h=e.find(g=>g.id===d),p=f.map(g=>g.dueDate.getTime()),m=new Date(Math.min(...p)),v=new Date(Math.max(...p));return{seasonId:d,seasonName:h.name,projectedStartDate:f.length>0?m:null,projectedEndDate:f.length>0?v:null,events:f.sort((g,y)=>g.dueDate.getTime()-y.dueDate.getTime()),totalEvents:f.length,confirmedEvents:f.filter(g=>g.type==="Confirmada").length,probableEvents:f.filter(g=>g.type==="Probable").length,daysSinceLastSeason:null}}).sort((d,f)=>d.projectedStartDate&&f.projectedStartDate?d.projectedStartDate.getTime()-f.projectedStartDate.getTime():d.projectedStartDate?-1:f.projectedStartDate?1:0);if(u.length>1){for(let d=1;d<u.length;d++)if(u[d].projectedStartDate&&u[d-1].projectedEndDate){const f=u[d].projectedStartDate,h=u[d-1].projectedEndDate,p=f.getTime()-h.getTime(),m=Math.ceil(p/(1e3*60*60*24));u[d].daysSinceLastSeason=m}}return u},[t,e,n,r,i])}},jVe=`
  .rdp { --rdp-cell-size: 45px; --rdp-accent-color: #FF9500; --rdp-background-color: #2C2C2E; --rdp-accent-color-dark: #FF9500; --rdp-background-color-dark: #2C2C2E; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-border-radius: 12px; color: #FFF; width: 100%; }
  .rdp-caption_label, .rdp-nav_button { color: #FF9500; }
  .rdp-head_cell { color: #8e8e93; font-size: 0.8em; }
  .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; }
  .day-confirmed { position: relative; }
  .day-confirmed::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; border-radius: 50%; background-color: #34C759; }
  .day-probable { position: relative; }
  .day-probable::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; border-radius: 50%; background-color: #FF9500; opacity: 0.7; }
`,IVe=({seasonForecast:t,onClick:e})=>{var n,r;return c.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border hover:border-brand-blue transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.seasonName}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[(n=t.projectedStartDate)==null?void 0:n.toLocaleDateString("es-VE",{month:"long",day:"numeric"})," - ",(r=t.projectedEndDate)==null?void 0:r.toLocaleDateString("es-VE",{month:"long",day:"numeric",year:"numeric"})]})]}),t.daysSinceLastSeason!==null&&t.daysSinceLastSeason>0&&c.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[c.jsx("p",{className:"text-xs text-zinc-500",children:"Separacin"}),c.jsxs("p",{className:"font-semibold text-white",children:[t.daysSinceLastSeason," das"]})]})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold text-2xl text-white",children:t.totalEvents}),c.jsx("p",{className:"text-xs text-zinc-400",children:"Partos"})]}),c.jsxs("div",{className:"text-left text-xs",children:[c.jsxs("p",{className:"flex items-center gap-1 text-brand-green",children:[c.jsx(Za,{size:12})," Confirmados: ",t.confirmedEvents]}),c.jsxs("p",{className:"flex items-center gap-1 text-brand-orange",children:[c.jsx(SD,{size:12})," Probables: ",t.probableEvents]})]})]}),c.jsx(ta,{className:"text-zinc-600"})]})]})},TVe=({forecastItem:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-black/20 rounded-lg p-3 flex justify-between items-center hover:bg-zinc-800/60 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:t.animal.id}),c.jsxs("p",{className:"text-xs text-zinc-400",children:["Reproductor: ",t.sireName]})]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${t.type==="Confirmada"?"text-brand-green":"text-brand-orange"}`,children:[t.type==="Confirmada"?c.jsx(Za,{size:16}):c.jsx(SD,{size:16}),c.jsx("span",{children:t.type})]})]});function kVe({navigateTo:t}){const{forecastBySeason:e}=VO(),[n,r]=P.useState("cards"),[i,a]=P.useState(void 0),[s,o]=P.useState(new Date),l=P.useMemo(()=>e.flatMap(d=>d.events),[e]),u=P.useMemo(()=>({confirmed:l.filter(d=>d.type==="Confirmada").map(d=>d.dueDate),probable:l.filter(d=>d.type==="Probable").map(d=>d.dueDate)}),[l]),A=P.useMemo(()=>i?l.filter(d=>d.dueDate.getFullYear()===i.getFullYear()&&d.dueDate.getMonth()===i.getMonth()&&d.dueDate.getDate()===i.getDate()):[],[l,i]);return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[c.jsx("style",{children:jVe}),c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Calendario de Partos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Proyecciones del Rebao"})]}),c.jsxs("div",{className:"flex justify-center p-1 bg-zinc-800 rounded-xl",children:[c.jsxs("button",{onClick:()=>r("cards"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="cards"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(Sq,{size:16})," Temporadas"]}),c.jsxs("button",{onClick:()=>r("calendar"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="calendar"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:[c.jsx(So,{size:16})," Calendario"]})]}),n==="cards"&&c.jsx("div",{className:"space-y-3",children:e.length>0?e.map(d=>c.jsx(IVe,{seasonForecast:d,onClick:()=>t({name:"birthing-season-detail",seasonId:d.seasonId})},d.seasonId)):c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl flex flex-col items-center gap-2",children:[c.jsx(Pl,{size:32,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400",children:"No hay temporadas de parto activas o proyectadas."})]})}),n==="calendar"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:c.jsx(vp,{mode:"single",selected:i,onSelect:a,month:s,onMonthChange:o,locale:Cx,modifiers:{confirmed:u.confirmed,probable:u.probable},modifiersClassNames:{confirmed:"day-confirmed",probable:"day-probable"},showOutsideDays:!0})}),i&&c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Proyecciones para el ",i.toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"})]}),A.length>0?c.jsx("div",{className:"space-y-2",children:A.map(d=>c.jsx(TVe,{forecastItem:d,onClick:()=>t({name:"rebano-profile",animalId:d.animal.id})},d.animal.id))}):c.jsx("div",{className:"text-center py-6 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay partos proyectados para este da."})})]})]})]})}const PVe=({forecastItem:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-black/20 rounded-lg p-3 flex justify-between items-center hover:bg-zinc-800/60 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:t.animal.id}),c.jsxs("p",{className:"text-xs text-zinc-400",children:["Reproductor: ",t.sireName]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${t.type==="Confirmada"?"text-brand-green":"text-brand-orange"}`,children:[t.type==="Confirmada"?c.jsx(Za,{size:16}):c.jsx(SD,{size:16}),c.jsx("span",{children:t.type})]}),c.jsx(ta,{className:"text-zinc-600"})]})]}),DVe=t=>{const e=new Date(t.getUTCFullYear(),t.getUTCMonth(),1),n=e.getUTCDay()===0?6:e.getUTCDay()-1,r=t.getUTCDate(),i=Math.ceil((r+n)/7),a=t.toLocaleString("es-VE",{month:"short",timeZone:"UTC"});return`${a.charAt(0).toUpperCase()+a.slice(1)} - Sem ${i}`};function OVe({seasonId:t,onBack:e,navigateTo:n}){const{forecastBySeason:r}=VO(),i=P.useMemo(()=>r.find(s=>s.seasonId===t),[r,t]),a=P.useMemo(()=>{if(!i)return[];const s={};return i.events.forEach(o=>{const l=o.dueDate,u=DVe(l);if(!s[u]){const A=l.getUTCDate(),d=l.getUTCDay()===0?6:l.getUTCDay()-1,f=new Date(l);f.setUTCDate(A-d),s[u]={count:0,startDate:f}}s[u].count++}),Object.entries(s).map(([o,l])=>({name:o,partos:l.count,startDate:l.startDate})).sort((o,l)=>o.startDate.getTime()-l.startDate.getTime())},[i]);return i?c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:i.seasonName}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Detalle de Proyeccin de Partos"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(ax,{size:20})," Proyeccin Semanal de Partos"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(ea,{children:c.jsxs(Ll,{data:a,margin:{top:5,right:10,left:-20,bottom:5},children:[c.jsx(ed,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Qi,{allowDecimals:!1,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Dr,{cursor:{fill:"rgba(255, 255, 255, 0.1)"},contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"}}),c.jsx(Ja,{dataKey:"partos",name:"N de Partos",fill:"#007AFF",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Lista de Animales (",i.totalEvents,")"]}),c.jsxs("div",{className:"space-y-2",children:["M          ",i.events.map(s=>c.jsx(PVe,{forecastItem:s,onClick:()=>n({name:"rebano-profile",animalId:s.animal.id})},s.animal.id))]})]})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Temporada de Partos no encontrada."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const Qf=({title:t,icon:e,children:n})=>c.jsxs("div",{className:"mb-6",children:[c.jsxs("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wide flex items-center gap-2 mb-2 px-4",children:[c.jsx(e,{size:16}),t]}),c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border divide-y divide-brand-border overflow-hidden",children:n})]}),vi=be.forwardRef(({label:t,unit:e,...n},r)=>c.jsxs("div",{className:"p-3 bg-ios-modal-bg flex justify-between items-center",children:[c.jsx("label",{htmlFor:n.id||n.name,className:"text-white text-base",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{ref:r,...n,className:`w-24 bg-zinc-700/80 rounded-lg p-2 text-white text-right font-mono text-base focus:outline-none focus:ring-2 focus:ring-brand-orange ${n.type==="text"?"font-sans":""}`}),e&&c.jsx("span",{className:"text-zinc-400 w-6 text-left",children:e})]})]})),FVe=({label:t,value:e,onChange:n})=>c.jsxs("div",{className:"p-3 bg-ios-modal-bg flex justify-between items-center",children:[c.jsx("label",{className:"text-white text-base",children:t}),c.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n(!e),className:`relative inline-flex h-8 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out ${e?"bg-brand-green":"bg-zinc-700"}`,children:c.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-7 w-7 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${e?"translate-x-6":"translate-x-0"}`})})]});function LVe({onBack:t}){const{appConfig:e,updateAppConfig:n,isLoadingConfig:r}=Yt(),[i,a]=P.useState(e||Gp),[s,o]=P.useState("idle");P.useEffect(()=>{e&&a(e)},[e]);const l=d=>{const{name:f,value:h,type:p}=d.target;let m=h;p==="number"&&(m=h===""?0:parseFloat(h)),p==="checkbox"&&(m=d.target.checked),a(v=>({...v,[f]:m}))},u=d=>{a(f=>({...f,theme:d?"dark":"light"}))},A=async()=>{o("saving");try{await n(i),o("success"),setTimeout(()=>{o("idle"),t()},1500)}catch(d){console.error("Error al guardar configuracin:",d),o("idle")}};return r?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando configuracin..."})}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col",style:{height:"calc(100vh - 64px)"},children:[c.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between pt-8 pb-4 px-4 sticky top-0 bg-brand-dark/80 backdrop-blur-lg z-10 border-b border-brand-border",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Configuracin"}),c.jsxs("button",{onClick:A,disabled:s!=="idle",className:`px-5 py-2 rounded-xl font-bold transition-colors text-lg flex items-center gap-2 ${s==="idle"?"bg-brand-orange text-black":s==="saving"?"bg-zinc-600 text-white":"bg-brand-green text-white"}`,children:[s==="idle"&&c.jsx(o0,{size:18}),s==="saving"&&c.jsx(eu,{size:18,className:"animate-spin"}),s==="success"&&c.jsx(Za,{size:18}),s==="saving"?"Guardando...":s==="success"?"Guardado":"Guardar"]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-24 pt-4",children:[c.jsxs(Qf,{title:"General",icon:mpe,children:[c.jsx(vi,{label:"Nombre de la Finca",type:"text",name:"nombreFinca",value:i.nombreFinca,onChange:l}),c.jsx(FVe,{label:"Modo Oscuro",value:i.theme==="dark",onChange:d=>u(d)})]}),c.jsxs(Qf,{title:"ndices Biolgicos",icon:Z2,children:[c.jsx(vi,{label:"% de Preez",type:"number",name:"porcentajePrenez",value:i.porcentajePrenez,onChange:l,unit:"%"}),c.jsx(vi,{label:"% Prolificidad",type:"number",name:"porcentajeProlificidad",value:i.porcentajeProlificidad,onChange:l,unit:"%"}),c.jsx(vi,{label:"% Mortalidad Cras (0-3m)",type:"number",name:"mortalidadCrias",value:i.mortalidadCrias,onChange:l,unit:"%"}),c.jsx(vi,{label:"% Mortalidad Levante (3-12m)",type:"number",name:"mortalidadLevante",value:i.mortalidadLevante,onChange:l,unit:"%"}),c.jsx(vi,{label:"% Mortalidad Cabras (Adultas)",type:"number",name:"mortalidadCabras",value:i.mortalidadCabras,onChange:l,unit:"%"}),c.jsx(vi,{label:"% Reemplazo (Anual)",type:"number",name:"tasaReemplazo",value:i.tasaReemplazo,onChange:l,unit:"%"}),c.jsx(vi,{label:"% Eliminacin Cabritos",type:"number",name:"eliminacionCabritos",value:i.eliminacionCabritos,onChange:l,unit:"%"})]}),c.jsxs(Qf,{title:"Manejo Reproductivo",icon:Pl,children:[c.jsx(vi,{label:"Peso 1er Servicio",type:"number",name:"pesoPrimerServicioKg",value:i.pesoPrimerServicioKg,onChange:l,unit:"Kg"}),c.jsx(vi,{label:"Das de Gestacin",type:"number",name:"diasGestacion",value:i.diasGestacion,onChange:l,unit:"das"}),c.jsx(vi,{label:"Das Confirmar Preez",type:"number",name:"diasConfirmarPrenez",value:i.diasConfirmarPrenez,onChange:l,unit:"das"}),c.jsx(vi,{label:"Das de Pre-parto",type:"number",name:"diasPreParto",value:i.diasPreParto,onChange:l,unit:"das"})]}),c.jsxs(Qf,{title:"Manejo Productivo (Leche)",icon:Nq,children:[c.jsx(vi,{label:"Das de Lactancia (Meta)",type:"number",name:"diasLactanciaObjetivo",value:i.diasLactanciaObjetivo,onChange:l,unit:"das"}),c.jsx(vi,{label:"Das Secado (Meta)",type:"number",name:"diasSecadoObjetivo",value:i.diasSecadoObjetivo,onChange:l,unit:"das"})]}),c.jsxs(Qf,{title:"Manejo Crecimiento (Kilos)",icon:Ta,children:[c.jsx(vi,{label:"Edad Destete (Meta)",type:"number",name:"edadDesteteDias",value:i.edadDesteteDias,onChange:l,unit:"das"}),c.jsx(vi,{label:"Peso Destete (Meta)",type:"number",name:"pesoDesteteMetaKg",value:i.pesoDesteteMetaKg,onChange:l,unit:"Kg"})]}),c.jsxs(Qf,{title:"Manejo Sanitario (StockCare)",icon:lp,children:[c.jsx(vi,{label:"Das Alerta (Atraso)",type:"number",name:"diasAlertaAtraso",value:i.diasAlertaAtraso,onChange:l,unit:"das"}),c.jsx(vi,{label:"Das Retiro Leche",type:"number",name:"diasRetiroLecheDefault",value:i.diasRetiroLecheDefault,onChange:l,unit:"das"}),c.jsx(vi,{label:"Das Retiro Carne",type:"number",name:"diasRetiroCarneDefault",value:i.diasRetiroCarneDefault,onChange:l,unit:"das"})]}),c.jsxs(Qf,{title:"Economa (Cents)",icon:Dl,children:[c.jsx(vi,{label:"Smbolo Moneda",type:"text",name:"monedaSimbolo",value:i.monedaSimbolo,onChange:l}),c.jsx(vi,{label:"Costo Saco Alimento",type:"number",name:"costoSacoAlimento",value:i.costoSacoAlimento,onChange:l,unit:i.monedaSimbolo}),c.jsx(vi,{label:"Peso Saco Alimento",type:"number",name:"pesoSacoAlimentoKg",value:i.pesoSacoAlimentoKg,onChange:l,unit:"Kg"}),c.jsx(vi,{label:"Precio Venta Leche",type:"number",name:"precioLecheLitro",value:i.precioLecheLitro,onChange:l,unit:`${i.monedaSimbolo}/L`}),c.jsx(vi,{label:"Precio Venta Cabrito",type:"number",name:"precioVentaCabritoKg",value:i.precioVentaCabritoKg,onChange:l,unit:`${i.monedaSimbolo}/Kg`}),c.jsx(vi,{label:"Precio Venta Descarte",type:"number",name:"precioVentaDescarteAdulto",value:i.precioVentaDescarteAdulto,onChange:l,unit:i.monedaSimbolo})]})]})]})}const MVe=[{id:"rebano",name:"Rebao",icon:ox,color:"bg-amber-600"},{id:"lactokeeper",name:"LactoKeeper",icon:lf,color:"bg-brand-blue"},{id:"kilos",name:"Kilos",icon:qA,color:"bg-brand-green"},{id:"salud",name:"StockCare",icon:j5,color:"bg-teal-500"},{id:"cents",name:"Cents",icon:Dl,color:"bg-yellow-500"},{id:"evolucion",name:"Evolucin",icon:Ta,color:"bg-indigo-500"}],Bx=({onSwitchModule:t})=>{const[e,n]=P.useState(!1),r=i=>{n(!1),t(i)};return c.jsxs("div",{className:"fixed bottom-24 right-4 z-40 flex flex-col items-end gap-4",children:[c.jsx("div",{className:`flex flex-col items-end gap-4 transition-all duration-300 ease-in-out overflow-hidden ${e?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:MVe.map(i=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-sm font-semibold px-3 py-1 rounded-md shadow-lg",children:i.name}),c.jsx("button",{onClick:()=>r(i.id),className:`w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg ${i.color} transform transition-transform hover:scale-110`,"aria-label":`Cambiar al mdulo ${i.name}`,children:c.jsx(i.icon,{size:28})})]},i.id))}),c.jsx("button",{onClick:()=>n(!e),className:"w-16 h-16 rounded-full flex items-center justify-center text-black bg-brand-amber shadow-2xl shadow-black/50 transform transition-transform duration-200 hover:scale-110 pointer-events-auto","aria-label":"Seleccionar mdulo",children:c.jsx("div",{className:`transform transition-transform duration-300 ${e?"rotate-180 scale-75":"rotate-0"}`,children:e?c.jsx(Bo,{size:32}):c.jsx(wq,{size:32})})})]})};function RVe(t){return Ql({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224l0 32 0 160c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-88.2c9.9 6.6 20.6 12 32 16.1l0 24.2c0 8.8 7.2 16 16 16s16-7.2 16-16l0-16.9c5.3 .6 10.6 .9 16 .9s10.7-.3 16-.9l0 16.9c0 8.8 7.2 16 16 16s16-7.2 16-16l0-24.2c11.4-4 22.1-9.4 32-16.1l0 88.2c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-160 32 32 0 49.5c0 9.5 2.8 18.7 8.1 26.6L530 427c8.8 13.1 23.5 21 39.3 21c22.5 0 41.9-15.9 46.3-38l20.3-101.6c2.6-13-.3-26.5-8-37.3l-3.9-5.5 0-81.6c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 14.4-52.9-74.1C496 86.5 452.4 64 405.9 64L272 64l-16 0-64 0-48 0C77.7 64 24 117.7 24 184l0 54C9.4 249.8 0 267.8 0 288l0 17.6c0 8 6.4 14.4 14.4 14.4C46.2 320 72 294.2 72 262.4l0-6.4 0-32 0-40c0-24.3 12.1-45.8 30.5-58.9C98.3 135.9 96 147.7 96 160l0 64zM560 336a16 16 0 1 1 32 0 16 16 0 1 1 -32 0zM166.6 166.6c-4.2-4.2-6.6-10-6.6-16c0-12.5 10.1-22.6 22.6-22.6l178.7 0c12.5 0 22.6 10.1 22.6 22.6c0 6-2.4 11.8-6.6 16l-23.4 23.4C332.2 211.8 302.7 224 272 224s-60.2-12.2-81.9-33.9l-23.4-23.4z"},child:[]}]})(t)}const UVe={idle:{Icon:ppe,color:"text-green-500",label:"Datos sincronizados"},syncing:{Icon:fpe,color:"text-amber-500 animate-spin-slow",label:"Sincronizando datos..."},offline:{Icon:hpe,color:"text-red-500",label:"Sin conexin"}},S0=({status:t})=>{const{Icon:e,color:n,label:r}=UVe[t];return c.jsx("div",{className:"flex items-center gap-2",title:r,children:c.jsx(e,{className:`w-5 h-5 ${n}`})})};function QVe({initialState:t,onSwitchModule:e}){const{syncStatus:n}=Yt(),[r,i]=P.useState({name:"lots-dashboard"}),[a,s]=P.useState([]);P.useEffect(()=>{t&&t.page?(i(t.page),s([])):(i({name:"lots-dashboard"}),s([]))},[t]);const o=[{page:{name:"lots-dashboard"},label:"Lotes",icon:Oq,mapsTo:["lots-dashboard","lot-detail","breeding-season-detail","sire-lot-detail","feeding-plan","batch-treatment"]},{page:{name:"herd"},label:"Rebao",icon:RVe,mapsTo:["herd","rebano-profile","manage-lots","lactation-profile","growth-profile","configuracion"]},{page:{name:"farm-calendar"},label:"Calendario",icon:xD,mapsTo:["farm-calendar","birthing-season-detail"]},{page:{name:"add-animal"},label:"Aadir",icon:Bl,mapsTo:["add-animal","ocr"]}],l=f=>{s(h=>[...h,r]),i(f)},u=()=>{const f=a.pop();f?(s([...a]),i(f)):t&&t.sourceModule?e(t.sourceModule):i({name:"lots-dashboard"})},A=f=>{s([]),i(f)},d=()=>{switch(r.name){case"lots-dashboard":return c.jsx(G7,{navigateTo:l});case"lot-detail":return c.jsx(N9e,{lotName:r.lotName,onBack:u,navigateTo:l});case"breeding-season-detail":return c.jsx(uVe,{seasonId:r.seasonId,onBack:u,navigateTo:l});case"sire-lot-detail":return c.jsx(dVe,{lotId:r.lotId,onBack:u,navigateTo:l});case"herd":return c.jsx(L9e,{navigateTo:l,locationFilter:r.locationFilter});case"manage-lots":return c.jsx(iVe,{onBack:()=>A({name:"herd"})});case"management":return c.jsx(rVe,{onSelectAnimal:f=>l({name:"rebano-profile",animalId:f})});case"add-animal":return c.jsx(P9e,{onBack:()=>A({name:"herd"})});case"rebano-profile":return c.jsx(tVe,{animalId:r.animalId,onBack:u,navigateTo:l});case"lactation-profile":return c.jsx(Fte,{animalId:r.animalId,onBack:u,navigateTo:l});case"growth-profile":return c.jsx(EVe,{animalId:r.animalId,onBack:u});case"ocr":return c.jsx(NVe,{onBack:u});case"feeding-plan":return c.jsx(wVe,{lotName:r.lotName,onBack:u});case"batch-treatment":return c.jsx(SVe,{lotName:r.lotName,onBack:u});case"farm-calendar":return c.jsx(kVe,{navigateTo:l});case"birthing-season-detail":return c.jsx(OVe,{seasonId:r.seasonId,onBack:u,navigateTo:l});case"configuracion":return c.jsx(LVe,{navigateTo:l,onBack:u});default:return c.jsx(G7,{navigateTo:l})}};return c.jsxs("div",{className:"font-sans text-gray-200 min-h-screen animate-fade-in",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ox,{className:"text-brand-orange",size:28}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Rebao"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(S0,{status:n}),c.jsx("button",{onClick:()=>l({name:"configuracion"}),className:"p-2 text-zinc-400 hover:text-white transition-colors",title:"Configuracin",children:c.jsx(TD,{size:20})})]})]})}),c.jsx("main",{className:"pt-16 pb-16",children:d()})," ",c.jsx(Bx,{onSwitchModule:e}),c.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-20 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around h-16",children:[o.map(f=>{const h=f.mapsTo.includes(r.name);return c.jsxs("button",{onClick:()=>A(f.page),className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${h?"text-amber-400":"text-gray-500 hover:text-white"}`,children:[c.jsx(f.icon,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-semibold mt-1",children:f.label})]},f.label)}),c.jsxs("button",{onClick:()=>dg.signOut(),className:"relative flex flex-col items-center justify-center pt-3 pb-2 w-full text-gray-500 hover:text-red-400 transition-colors",children:[c.jsx(Bq,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-semibold mt-1",children:"Salir"})]})]})]})}function mH({onNavigateToAnalysis:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=Yt(),[a,s]=P.useState("current"),[o,l]=P.useState(!1),[u,A]=P.useState(!1),d=P.useMemo(()=>{if(i||!n.length||!e.length)return{herdAverage:0,activeGoats:0,herdLactationCurve:[],gaussData:{distribution:[],mean:0,stdDev:0}};let f=0;if(n.length>0){const N=n.reduce((_,B)=>B.date>_?B.date:_,n[0].date);f=new Set(n.filter(_=>_.date===N).map(_=>_.goatId)).size}let h=n;if(a==="current"){const N=new Set(r.filter(_=>_.status==="activa").map(_=>_.goatId));h=n.filter(_=>N.has(_.goatId))}const p={};h.forEach(N=>{const _=r.filter(j=>j.goatId===N.goatId&&new Date(N.date)>=new Date(j.parturitionDate)).sort((j,D)=>new Date(D.parturitionDate).getTime()-new Date(j.parturitionDate).getTime())[0];if(!_)return;const B=Bf(_.parturitionDate,N.date);p[B]||(p[B]={totalKg:0,count:0}),p[B].totalKg+=N.kg,p[B].count++});const m=Object.entries(p).map(([N,_])=>({del:parseInt(N),kg:_.totalKg/_.count,name:"Promedio Rebao"})).sort((N,_)=>N.del-_.del),v=e.map(N=>{const _=n.filter(j=>j.goatId===N.id);return _.length===0?null:{avg:_.reduce((j,D)=>j+D.kg,0)/_.length}}).filter(Boolean),g=v.length>0?v.reduce((N,_)=>N+_.avg,0)/v.length:0,y=v.length>0?Math.sqrt(v.reduce((N,_)=>N+Math.pow(_.avg-g,2),0)/v.length):0,x=[];if(v.length>0){const N=Math.floor(Math.min(...v.map(B=>B.avg))*4)/4,_=Math.ceil(Math.max(...v.map(B=>B.avg))*4)/4;for(let B=N;B<=_;B+=.25){const j=B,D=B+.25,k=v.filter(O=>O.avg>=j&&O.avg<D).length;k>0&&x.push({range:`${j.toFixed(2)}`,count:k})}}const S={distribution:x,mean:g,stdDev:y};return{herdAverage:n.length>0?n.reduce((N,_)=>N+_.kg,0)/n.length:0,activeGoats:f,herdLactationCurve:m,gaussData:S}},[e,n,r,i,a]);return i?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos del rebao..."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 px-4",children:[c.jsxs("header",{className:"text-center pt-4 pb-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Dashboard de Produccin"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Anlisis General de LactoKeeper"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[c.jsx(s0,{size:14}),c.jsx("span",{children:"Promedio Global"})]}),c.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[d.herdAverage.toFixed(2)," ",c.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"Kg"})]})]}),c.jsxs("button",{onClick:t,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border text-left hover:border-brand-orange transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[c.jsx(Ppe,{}),c.jsx("span",{children:"Animales en Ordeo"})]}),c.jsx("p",{className:"text-4xl font-bold tracking-tight text-white",children:d.activeGoats})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[c.jsx(Rj,{size:16}),c.jsx("span",{children:"Curva de Lactancia"}),c.jsx("button",{onClick:()=>l(!0),className:"text-zinc-500 hover:text-white transition-colors",children:c.jsx(J2,{size:14})})]}),c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-lg p-0.5",children:[c.jsx("button",{onClick:()=>s("current"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="current"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Actual"}),c.jsx("button",{onClick:()=>s("historical"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="historical"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Histrico"})]})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(xx,{data:d.herdLactationCurve,margin:{top:5,right:10,left:0,bottom:5},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"lactationGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#FF9500",stopOpacity:.7}),c.jsx("stop",{offset:"80%",stopColor:"#34C759",stopOpacity:.1})]})}),c.jsx(Pi,{dataKey:"del",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),c.jsx(Qi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,domain:["dataMin - 0.5","dataMax + 0.5"],width:30}),c.jsx(Dr,{content:c.jsx($u,{})}),c.jsx(Fl,{type:"monotone",dataKey:"kg",stroke:"#FF9500",strokeWidth:2.5,fill:"url(#lactationGradient)"})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[c.jsx(Rj,{size:16}),c.jsx("span",{children:"Distribucin del Rebao"}),c.jsx("button",{onClick:()=>A(!0),className:"text-zinc-500 hover:text-white transition-colors",children:c.jsx(J2,{size:14})})]})}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(Ll,{data:d.gaussData.distribution,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx(ed,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),c.jsx(Pi,{dataKey:"range",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),c.jsx(Qi,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,allowDecimals:!1,width:30}),c.jsx(Dr,{content:c.jsx($u,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Ja,{dataKey:"count",fill:"rgba(255, 255, 255, 0.4)",name:"N de Cabras"}),c.jsx(bx,{x:d.gaussData.mean.toFixed(2),stroke:"#34C759",strokeWidth:2,label:{value:"",fill:"#34C759",position:"insideTopLeft"}})]})})})]})]}),c.jsx(An,{isOpen:o,onClose:()=>l(!1),title:"Qu es la Curva de Lactancia del Rebao?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:'Este grfico revela la **"personalidad productiva"** de tu rebao. No es un promedio simple, sino una lnea de tiempo del rendimiento promedio.'}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Cmo se Calcula?"}),c.jsx("p",{className:"text-sm",children:'Para cada "Da en Leche" (DEL) en el eje horizontal, el sistema agrupa los pesajes de **todos los animales** que han pasado por ese da de su ciclo y calcula el promedio.'}),c.jsxs("p",{className:"text-sm mt-2 bg-black/20 p-2 rounded-md",children:[c.jsx("strong",{children:"Ejemplo:"}),' El punto en "DEL 50" es el promedio de todos los pesajes que se hicieron a cualquier animal cuando estaba exactamente en su da 50 de lactancia.']})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Te permite responder visualmente a preguntas clave como: Cundo ocurre el pico de produccin del rebao? y Qu tan persistente es la lactancia despus del pico?"})]})}),c.jsx(An,{isOpen:u,onClose:()=>A(!1),title:"Qu es la Distribucin del Rebao?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Este grfico, conocido como Campana de Gauss o distribucin normal, clasifica el rendimiento promedio de cada animal en el rebao."}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Media ()"}),c.jsx("p",{className:"text-sm",children:"La lnea verde marcada como **** representa el **promedio de produccin de todo el rebao**. Es el punto de referencia central."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Las Barras"}),c.jsx("p",{className:"text-sm",children:"Cada barra muestra cuntos animales caen dentro de un rango especfico de produccin. Una barra alta en el centro (cerca de ) indica que la mayora de tu rebao tiene un rendimiento promedio y consistente."})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Esta herramienta es clave para identificar rpidamente a los animales de lite (extremo derecho) y a los que podran necesitar atencin (extremo izquierdo)."})]})})]})}const hS=(t,e,n,r,i)=>P.useMemo(()=>{if(!t.length||!e.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const a=t.reduce((m,v)=>{const g=e.find(B=>B.id===v.goatId);if(!g)return m;const y=r.filter(B=>B.goatId===g.id&&new Date(B.parturitionDate)<=new Date(v.date)).sort((B,j)=>new Date(j.parturitionDate).getTime()-new Date(B.parturitionDate).getTime())[0];if(!y)return m;const x=Bf(y.parturitionDate,v.date),S=i?QQe(v.kg,x):v.kg,E=n.filter(B=>B.goatId===g.id).sort((B,j)=>new Date(j.date).getTime()-new Date(B.date).getTime());let N="single";const _=E.findIndex(B=>B.date===v.date);if(_!==-1&&_+1<E.length){const B=E[_+1],j=v.kg-B.kg,D=.15;j>D?N="up":j<-D?N="down":N="stable"}return m.push({...g,latestWeighing:v.kg,weighingId:v.id,del:x,score:S,trend:N,date:v.date}),m},[]);if(!a.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const s=i?"score":"latestWeighing",o=a.reduce((m,v)=>m+v[s],0)/a.length,l=Math.sqrt(a.reduce((m,v)=>m+Math.pow(v[s]-o,2),0)/a.length),u=o-.4*l,A=o+.4*l,d=a.map(m=>{const v=m[s];let g="Promedio";return l>.1&&(v<u?g="Pobre":v>A&&(g="Sobresaliente")),{...m,classification:g}}),f=[{name:"Pobre",count:d.filter(m=>m.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:d.filter(m=>m.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:d.filter(m=>m.classification==="Sobresaliente").length,fill:"#34C759"}],h=a.length>0?a.reduce((m,v)=>m+v.latestWeighing,0)/a.length:0,p=a.length>0?a.reduce((m,v)=>m+v.score,0)/a.length:0;return{classifiedAnimals:d,distribution:f,mean:h,stdDev:l,weightedMean:p}},[t,e,n,r,i]),HVe=({trend:t,isLongTrend:e})=>{if(!t||t==="single")return null;const n={up:{Icon:pg,color:"text-brand-green"},down:{Icon:hg,color:"text-brand-red"},stable:{Icon:ND,color:"text-zinc-400"}},{Icon:r,color:i}=n[t];return c.jsxs("div",{className:`flex items-center font-semibold text-sm ${i}`,children:[c.jsx(r,{size:18,strokeWidth:3}),e&&c.jsx("span",{className:"ml-0.5 font-bold",children:"+"})]})},$O=(t,e)=>P.useMemo(()=>{if(!t||!e)return{trend:null,difference:0,isLongTrend:!1,lastTwoWeighings:[]};const r=e.filter(A=>A.goatId===t).sort((A,d)=>new Date(d.date).getTime()-new Date(A.date).getTime());if(r.length<1)return{trend:null,difference:0,isLongTrend:!1,lastTwoWeighings:[]};if(r.length===1)return{trend:"single",difference:0,isLongTrend:!1,lastTwoWeighings:[r[0]]};const i=r[0],a=r[1],s=i.kg-a.kg,o=.15;let l;s>o?l="up":s<-o?l="down":l="stable";let u=!1;if(r.length>=3){const A=r[2],d=a.kg-A.kg,f=s>o&&d>o,h=s<-o&&d<-o;(f||h)&&(u=!0)}return{trend:l,difference:s,isLongTrend:u,lastTwoWeighings:[i,a]}},[t,e]),zVe=({animal:t,onSaveSuccess:e,onCancel:n})=>{const{parturitions:r,addWeighing:i,startDryingProcess:a,setLactationAsDry:s}=Yt(),[o,l]=P.useState(new Date().toISOString().split("T")[0]),[u,A]=P.useState(""),[d,f]=P.useState(!1),[h,p]=P.useState(null),[m,v]=P.useState(!1),g=P.useMemo(()=>r.filter(_=>_.goatId===t.id&&(_.status==="activa"||_.status==="en-secado")).sort((_,B)=>new Date(B.parturitionDate).getTime()-new Date(_.parturitionDate).getTime())[0],[r,t.id]),y=g?Bf(g.parturitionDate,o):null,x=t.name?String(t.name).toUpperCase().trim():"",S=async _=>{if(_.preventDefault(),!g||g.status==="seca"||g.status==="finalizada"){p({type:"error",text:"No se puede guardar pesaje. El animal no tiene una lactancia activa o en secado."});return}p(null),f(!0);const B=parseFloat(u);if(isNaN(B)||B<=0){p({type:"error",text:"Por favor, introduce un peso vlido."}),f(!1);return}if(B>8.5){p({type:"error",text:"La produccin parece irracionalmente alta (> 8.5 Kg)."}),f(!1);return}try{await i({goatId:t.id,date:o,kg:B}),p({type:"success",text:`Pesaje de ${t.id.toUpperCase()} guardado.`}),setTimeout(e,1500)}catch(j){p({type:"error",text:j.message||"No se pudo guardar el pesaje."}),f(!1)}},E=async()=>{if(!(!g||g.status!=="activa")){f(!0),p(null);try{await a(g.id),p({type:"success",text:"Proceso de secado iniciado con xito."}),setTimeout(e,1500)}catch(_){p({type:"error",text:_.message||"No se pudo iniciar el secado."}),f(!1)}}},N=async()=>{if(!(!g||g.status==="seca"||g.status==="finalizada")){f(!0),p(null);try{await s(g.id),p({type:"success",text:"Lactancia declarada como seca con xito."}),setTimeout(e,1500)}catch(_){p({type:"error",text:_.message||"No se pudo finalizar la lactancia."}),f(!1)}}};return c.jsxs(c.Fragment,{children:[c.jsx(An,{isOpen:!m,onClose:n,title:"Pesaje Lechero",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-mono font-semibold text-xl text-white truncate",children:t.id.toUpperCase()}),x&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:x})]}),g?c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingDateMilk",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha"}),c.jsx("input",{id:"weighingDateMilk",type:"date",value:o,onChange:_=>l(_.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Das en Leche (DEL)"}),c.jsx("div",{className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-center font-bold text-white",children:y??"N/A"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"weighingKgMilk",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Produccin (Kg)"}),c.jsx("input",{id:"weighingKgMilk",type:"number",step:"0.1",value:u,onChange:_=>A(_.target.value),placeholder:"Ej: 3.5",autoFocus:!0,className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-white",required:!0})]}),h&&c.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${h.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[h.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18}),c.jsx("span",{children:h.text})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:d,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[c.jsx(o0,{size:18})," Guardar Pesaje"]})]}),c.jsxs("div",{className:"space-y-2 pt-4 border-t border-brand-border",children:[c.jsx("h4",{className:"text-sm font-semibold text-zinc-400",children:"Otras Acciones de Lactancia"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs("button",{type:"button",onClick:E,disabled:d||g.status!=="activa",className:"w-full flex items-center justify-center gap-2 bg-blue-600/20 text-blue-300 font-semibold py-3 px-3 rounded-lg hover:bg-blue-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(cp,{size:16})," ",g.status==="en-secado"?"Ya en Secado":"Iniciar Secado"]}),c.jsxs("button",{type:"button",onClick:N,disabled:d||g.status==="seca"||g.status==="finalizada",className:"w-full flex items-center justify-center gap-2 bg-gray-600/20 text-gray-300 font-semibold py-3 px-3 rounded-lg hover:bg-gray-600/40 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(yc,{size:16})," ",g.status==="seca"?"Ya Seca":"Declarar Seca"]})]})]})]}):c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx(mr,{className:"mx-auto h-12 w-12 text-amber-400"}),c.jsx("h3",{className:"text-lg font-medium text-white",children:"Animal sin Parto Activo"}),c.jsx("p",{className:"text-sm text-zinc-400",children:"Para registrar un pesaje o gestionar el secado, debe tener un parto activo."}),c.jsxs("button",{onClick:()=>v(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(Pl,{size:18})," Declarar Parto"]})]})]})}),m&&c.jsx(yp,{isOpen:m,onClose:()=>{v(!1)},motherId:t.id})]})},VVe=()=>{const{animals:t,parturitions:e,weighings:n,appConfig:r}=Yt();return P.useMemo(()=>{const a=new Date().toISOString().split("T")[0],s=new Set,o=r.diasLactanciaObjetivo-35,l=r.diasLactanciaObjetivo-5;return e.forEach(A=>{if(A.status==="activa"){const d=Bf(A.parturitionDate,a);d>=o&&d<=l&&s.add(A.goatId)}}),t.filter(A=>A.reproductiveStatus==="Preada"&&!A.isReference).forEach(A=>{const d=n.filter(f=>f.goatId===A.id).sort((f,h)=>new Date(h.date).getTime()-new Date(f.date).getTime());if(d.length>=4){const f=d[0].kg,h=d[1].kg,p=d[2].kg,m=d[3].kg;f<h&&h<p&&p<m&&s.add(A.id)}}),e.forEach(A=>{A.status==="en-secado"&&s.add(A.goatId)}),Array.from(s)},[t,e,n,r.diasLactanciaObjetivo])},$Ve=({isOpen:t,onClose:e,animalIds:n,onSelectAnimal:r})=>{const{animals:i,fathers:a}=Yt(),s=P.useMemo(()=>{const o=new Map(i.map(u=>[u.id,u])),l=new Map(a.map(u=>[u.id,u]));return n.map(u=>{const A=o.get(u);if(A)return A;const d=l.get(u);return d?{id:d.id,name:d.name,sex:"Macho",isReference:!0}:{id:u,name:void 0}}).sort((u,A)=>u.id.localeCompare(A.id))},[n,i,a]);return c.jsxs(An,{isOpen:t,onClose:e,title:"Animales que Salieron del Ordeo",children:[c.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-2",children:s.length>0?s.map(o=>{const l=o.name?String(o.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>{r(o.id),e()},className:"w-full text-left p-3 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors flex justify-between items-center group",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:o.id.toUpperCase()}),l&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:l})]}),c.jsx(ta,{className:"text-zinc-500 group-hover:text-white transition-colors flex-shrink-0"})]},o.id)}):c.jsx("p",{className:"text-center text-zinc-500 py-4",children:"No hay animales que hayan salido en este perodo."})}),c.jsx("div",{className:"flex justify-end mt-4 pt-4 border-t border-brand-border",children:c.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg text-white",children:"Cerrar"})})]})},KVe=({isOpen:t,onClose:e,onConfirm:n,dateToDelete:r})=>{const[i,a]=P.useState(""),s=r?new Date(r+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"",o=i===r;return P.useEffect(()=>{t&&a("")},[t]),c.jsx(An,{isOpen:t,onClose:e,title:"Confirmar Eliminacin",children:c.jsxs("div",{className:"space-y-4 text-white",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(mr,{className:"mx-auto h-12 w-12 text-brand-red"}),c.jsxs("p",{className:"text-lg font-semibold",children:["Eliminar todos los pesajes del ",c.jsx("span",{className:"font-bold",children:s}),"?"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Esta accin es irreversible y eliminar ",r?"permanentemente":""," todos los registros de esta fecha."]})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"confirmDateInput",className:"block text-sm font-medium text-zinc-400 mb-1",children:["Para confirmar, escribe la fecha: ",c.jsx("strong",{className:"text-zinc-200",children:r})]}),c.jsx("input",{id:"confirmDateInput",type:"text",value:i,onChange:l=>a(l.target.value),placeholder:"YYYY-MM-DD",className:`w-full bg-zinc-800 p-3 rounded-xl text-lg text-center font-mono border-2 ${i&&!o?"border-red-500":"border-zinc-700"} focus:border-brand-red focus:ring-0`})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-brand-border",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"button",onClick:n,disabled:!o,className:"px-5 py-2 bg-brand-red hover:bg-red-700 text-white font-bold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Eliminar Permanentemente"})]})]})})},U1=({title:t,value:e,unit:n,icon:r,onClick:i})=>c.jsxs("button",{onClick:i,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-orange transition-colors w-full",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(r,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:[e," ",c.jsx("span",{className:"text-lg text-zinc-400",children:n})]})]}),s4=({animal:t,onSelectAnimal:e,onOpenActions:n,isNewEntry:r})=>{const{weighings:i}=Yt(),{trend:a,isLongTrend:s}=$O(t.id,i),o=Ap(),l=P.useRef(!1),u={Sobresaliente:"bg-brand-green",Promedio:"bg-gray-500",Pobre:"bg-brand-red"},A=t.name?String(t.name).toUpperCase().trim():"",d=(f,h)=>{const p=h.offset.x,m=h.velocity.x;(p<-80/2||m<-500)&&n(t),o.start({x:0}),setTimeout(()=>{l.current=!1},100)};return c.jsxs("div",{className:"relative w-full overflow-hidden bg-brand-glass border-b border-brand-border/50 last:border-b-0",children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("div",{className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(na,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Acciones"})]})}),c.jsxs(Ji.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{l.current=!0},onDragEnd:d,onTap:()=>{l.current||e(t.id)},animate:o,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-3",children:[c.jsx("div",{className:`absolute top-3 right-3 w-2.5 h-2.5 rounded-full ${t.latestWeighing>0?u[t.classification]:"bg-transparent"}`,title:`Rendimiento: ${t.classification}`}),c.jsxs("div",{className:"flex justify-between items-center w-full",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),A&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:A}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold text-base text-brand-orange",children:t.latestWeighing>0?`${t.latestWeighing.toFixed(2)} Kg`:"Sin Pesar"}),t.del>0&&c.jsxs("p",{className:"text-xs text-zinc-400",children:["DEL: ",t.del]})]}),c.jsx(ute,{statuses:t.statusObjects}),r?c.jsx("span",{title:"Primer Ingreso al Control Lechero",className:"w-6 h-6 flex items-center justify-center rounded-full bg-green-500/20 text-brand-green",children:c.jsx(_q,{size:16,strokeWidth:2.5})}):c.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:c.jsx(HVe,{trend:a,isLongTrend:s})}),c.jsx(ta,{className:"text-zinc-600 w-5 h-5"})]})]})]})]})},WVe=({animalId:t})=>{var i,a;const{weighings:e}=Yt(),{lastTwoWeighings:n,difference:r}=$O(t,e);return n.length<2?c.jsx("p",{children:"No hay suficientes datos para comparar."}):c.jsxs("div",{className:"text-center text-white space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["Pesaje Anterior (",new Date(n[1].date+"T00:00:00").toLocaleDateString(),")"]}),c.jsxs("p",{className:"text-2xl font-semibold",children:[((i=n[1])==null?void 0:i.kg.toFixed(2))||"N/A"," Kg"]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-400",children:["ltimo Pesaje (",new Date(n[0].date+"T00:00:00").toLocaleDateString(),")"]}),c.jsxs("p",{className:"text-2xl font-semibold",children:[((a=n[0])==null?void 0:a.kg.toFixed(2))||"N/A"," Kg"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-400 text-base mb-1",children:"Diferencia"}),c.jsxs("p",{className:`text-3xl font-bold ${r>.15?"text-brand-green":r<-.15?"text-brand-red":"text-zinc-400"}`,children:[r>0?"+":"",r.toFixed(2)," Kg"]})]})]})},GVe=t=>{const{x:e,y:n,width:r,height:i,value:a,total:s}=t;if(s===0||a===0)return null;const o=(a/s*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+i/2,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",fontSize:"14px",fontWeight:"bold",opacity:.8,children:`${o}%`})};function qVe({onSelectAnimal:t}){const{animals:e,parturitions:n,weighings:r,isLoading:i,serviceRecords:a,sireLots:s,breedingSeasons:o,startDryingProcess:l,setLactationAsDry:u,deleteWeighingSession:A}=Yt(),[d,f]=P.useState(!1),[h,p]=P.useState("all"),[m,v]=P.useState("all"),[g,y]=P.useState("all"),[x,S]=P.useState("all"),[E,N]=P.useState(null),[_,B]=P.useState(null),[j,D]=P.useState(!1),[k,O]=P.useState(!1),[L,H]=P.useState(!1),[q,Y]=P.useState(!1),[ee,K]=P.useState(null),[te,le]=P.useState(!1),[se,M]=P.useState(0),$=VVe(),{weighingsByDate:J,availableDates:ne}=P.useMemo(()=>{const st={};r.forEach(yt=>{st[yt.date]||(st[yt.date]=[]),st[yt.date].push(yt)});const bt=Object.keys(st).sort((yt,tt)=>new Date(tt).getTime()-new Date(yt).getTime());return{weighingsByDate:st,availableDates:bt}},[r]),he=ne[se],we=P.useMemo(()=>{if(!he)return[];const st=J[he]||[],bt=new Map;return st.forEach(yt=>bt.set(yt.goatId,yt)),Array.from(bt.values())},[he,J]),{classifiedAnimals:Se,distribution:Ae,mean:ge,stdDev:xe,weightedMean:ae}=hS(we,e,r,n,d),Ve=P.useMemo(()=>{const st=new Map(e.map(bt=>[bt.id,bt]));return Se.map(bt=>{const yt=st.get(bt.id);return{...yt,...bt,formattedAge:yt?lu(yt.birthDate):"N/A",statusObjects:yt?ote(yt,n,a,s,o):[]}})},[Se,e,n,a,s,o]),Oe=P.useMemo(()=>{if(se+1<ne.length){const st=ne[se+1];return J[st]||[]}return[]},[se,ne,J]),fe=hS(Oe,e,r,n,!1),$e=P.useMemo(()=>{const st=new Set(Se.map(gn=>gn.id)),bt=new Set(fe.classifiedAnimals.map(gn=>gn.id));let yt=new Set,tt=new Set;se===ne.length-1&&ne.length>0?yt=st:ne.length>0&&(yt=new Set([...st].filter(gn=>!bt.has(gn))),tt=new Set([...bt].filter(gn=>!st.has(gn))));const Qt=ne.slice(Math.max(0,se-2),se+1).map(gn=>{const Kt=J[gn]||[];if(Kt.length===0)return{date:gn,avg:0};const En=Kt.reduce((zi,jr)=>zi+jr.kg,0);return{date:new Date(gn+"T00:00:00").toLocaleDateString("es-VE",{month:"short",day:"numeric"}),avg:En/Kt.length}}).reverse();let dt=null,mt=null,Ft=0,St=0,Vt=1/0;if(Ve.length>0){Ft=Ve.reduce((Kt,En)=>Kt+En.latestWeighing,0);const gn=Ve.map(Kt=>Kt.latestWeighing);St=Math.max(...gn),Vt=Math.min(...gn.filter(Kt=>Kt>0)),Vt===1/0&&(Vt=0),dt=Ve.find(Kt=>Kt.latestWeighing===St)||null,mt=Ve.find(Kt=>Kt.latestWeighing===Vt)||null}const hn=ge-xe,cn=ge+xe,wt=Se.filter(gn=>gn.latestWeighing>=hn&&gn.latestWeighing<=cn).length,Zn=Se.length>0?wt/Se.length*100:0;return{trendData:Qt,kpi:{total:Ft,max:St,min:Vt},topPerformer:dt,bottomPerformer:mt,consistency:{percentage:Zn},newAnimalIds:yt,exitingAnimalIds:tt}},[Se,Ve,fe.classifiedAnimals,ne,se,J,ge,xe]),{searchTerm:ft,setSearchTerm:vt,filteredItems:Ye}=zO(Ve,["id","name"]),Dt=P.useMemo(()=>{let st=ft?Ye:Ve;return h!=="all"&&(st=st.filter(bt=>bt.classification===h)),g==="new"&&(st=st.filter(bt=>$e.newAnimalIds.has(bt.id))),m!=="all"&&(st=st.filter(bt=>{const{trend:yt}=$O(bt.id,r);return yt===m})),x!=="all"&&(st=st.filter(bt=>{const yt=bt.del;return x==="drying"?$.includes(bt.id):yt===0||yt===void 0?!1:x==="first"?yt>0&&yt<=100:x==="second"?yt>100&&yt<=200:x==="third"?yt>200&&yt<270:!1})),st.sort((bt,yt)=>yt.latestWeighing-bt.latestWeighing)},[ft,Ye,Ve,h,m,x,g,$e.newAnimalIds,$,r]),pt=P.useMemo(()=>{const st=Se.filter(Qt=>!$e.newAnimalIds.has(Qt.id)).length;if(Se.length===0)return{up:0,down:0,stable:0,new:0};if(st===0&&$e.newAnimalIds.size>0)return{up:0,down:0,stable:0,new:100};if(st===0)return{up:0,down:0,stable:0,new:0};const bt=Se.filter(Qt=>Qt.trend==="up").length,yt=Se.filter(Qt=>Qt.trend==="down").length,tt=Se.filter(Qt=>Qt.trend==="stable").length;return{up:bt/st*100,down:yt/st*100,stable:tt/st*100,new:$e.newAnimalIds.size/Se.length*100||0}},[Se,$e.newAnimalIds]),ct=()=>{p("all"),v("all"),S("all"),y("all"),vt("")},jt=st=>{var bt;if((bt=st==null?void 0:st.payload)!=null&&bt.name){const yt=st.payload.name;p(tt=>tt===yt?"all":yt)}},Xt=st=>{K(st),Y(!0)},Zt=st=>{if(!st)return[];const bt=[],yt=n.find(tt=>tt.goatId===st.id&&(tt.status==="activa"||tt.status==="en-secado"));return bt.push({label:"Registrar/Editar Pesaje",icon:lf,onClick:()=>{Y(!1),N("milkWeighing")}}),yt&&(yt.status==="activa"&&bt.push({label:"Iniciar Secado",icon:cp,onClick:()=>{l(yt.id),Y(!1)},color:"text-blue-400"}),(yt.status==="activa"||yt.status==="en-secado")&&bt.push({label:"Declarar Seca",icon:yc,onClick:()=>{u(yt.id),Y(!1)},color:"text-zinc-400"})),bt},Ut=()=>{N(null),K(null)},rn=async()=>{if(he)try{await A(he),M(0),le(!1)}catch(st){console.error("Error deleting session:",st)}};return i&&ne.length===0?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Calculando anlisis..."})}):ne.length===0?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"No hay pesajes registrados."})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"bg-brand-glass rounded-2xl p-3 border border-brand-border flex justify-between items-center",children:[c.jsx("button",{onClick:()=>M(st=>Math.min(st+1,ne.length-1)),disabled:se>=ne.length-1,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:c.jsx(ope,{})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-lg font-semibold text-white",children:he?new Date(he+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Sin Datos"}),c.jsxs("p",{className:"text-sm text-zinc-400",children:[we.length," animales pesados"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("button",{onClick:()=>le(!0),className:"p-2 rounded-full text-zinc-500 hover:text-brand-red hover:bg-red-500/10 transition-colors mr-2",title:"Eliminar pesajes de este da",children:[" ",c.jsx(bc,{size:18})," "]}),c.jsx("button",{onClick:()=>M(st=>Math.max(st-1,0)),disabled:se===0,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:c.jsx(ta,{})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(U1,{icon:lf,title:d?"Media Ponderada":"Media Prod.",value:(d?ae:ge).toFixed(2),unit:"Kg",onClick:()=>N("media")}),c.jsx(U1,{icon:kD,title:"Prod. Total",value:$e.kpi.total.toFixed(2),unit:"Kg",onClick:()=>N("total")}),c.jsx(U1,{icon:kq,title:"Consistencia",value:xe.toFixed(2),unit:"",onClick:()=>N("stdDev")}),c.jsx(U1,{icon:Ta,title:"Rango Prod.",value:`${$e.kpi.min.toFixed(2)} - ${$e.kpi.max.toFixed(2)}`,unit:"Kg",onClick:()=>N("rango")})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Rj,{className:"text-brand-orange w-[18px] h-[18px]"}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Anlisis del Da"}),c.jsx("button",{onClick:()=>D(!0),className:"text-zinc-500 hover:text-white",children:c.jsx(J2,{size:14})})]}),c.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-300 cursor-pointer",children:[c.jsx(Vv,{size:14,className:d?"text-brand-orange":"text-zinc-500"}),c.jsx("span",{children:"Ponderado a DEL"}),c.jsx("button",{type:"button",onClick:st=>{st.preventDefault(),st.stopPropagation(),O(!0)},className:"text-zinc-500 hover:text-white -ml-1",children:c.jsx(J2,{size:14})}),c.jsx("input",{type:"checkbox",checked:d,onChange:st=>f(st.target.checked),className:"form-checkbox h-4 w-4 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(Ll,{data:Ae,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Qi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Dr,{content:c.jsx($u,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Ja,{dataKey:"count",onClick:jt,cursor:"pointer",children:[Ae.map(st=>c.jsx(mc,{fill:st.fill,className:`${h!=="all"&&h!==st.name?"opacity-30":"opacity-100"} transition-opacity`},st.name)),c.jsx(Ko,{dataKey:"count",content:c.jsx(GVe,{total:Se.length})})]})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",ge.toFixed(2)]})," | ",c.jsxs("span",{children:[" = ",xe.toFixed(2)]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center px-2 pt-2",children:[c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsx("button",{onClick:()=>{v("all"),y("all")},className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors ${m==="all"&&g==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),c.jsxs("button",{onClick:()=>{v("up"),y("all")},disabled:pt.up===0&&Se.length-$e.newAnimalIds.size>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="up"?"bg-brand-green/80 text-white":"bg-zinc-800/50 text-brand-green"} disabled:opacity-40`,children:[c.jsx(pg,{size:14})," ",c.jsxs("span",{children:[pt.up.toFixed(0),"%"]})]}),c.jsxs("button",{onClick:()=>{v("down"),y("all")},disabled:pt.down===0&&Se.length-$e.newAnimalIds.size>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="down"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"} disabled:opacity-40`,children:[c.jsx(hg,{size:14})," ",c.jsxs("span",{children:[pt.down.toFixed(0),"%"]})]}),c.jsxs("button",{onClick:()=>{v("single"),y("all")},disabled:pt.new===0&&Se.length>0,className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${m==="single"?"bg-brand-blue/80 text-white":"bg-zinc-800/50 text-brand-blue"} disabled:opacity-40`,children:[c.jsx(Vv,{size:14})," ",c.jsxs("span",{children:[pt.new.toFixed(0),"%"]})]})]}),c.jsx("button",{onClick:ct,title:"Limpiar todos los filtros",className:"text-zinc-500 hover:text-white",children:c.jsx(ED,{size:16})})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[c.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Fase Lactancia:"}),c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsx("button",{onClick:()=>S("all"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),c.jsx("button",{onClick:()=>S("first"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="first"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"1er T"}),c.jsx("button",{onClick:()=>S("second"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="second"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"2do T"}),c.jsx("button",{onClick:()=>S("third"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="third"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"3er T"}),c.jsx("button",{onClick:()=>S("drying"),className:`px-2 py-1 text-xs font-semibold rounded-md ${x==="drying"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"}`,children:"A Secado"})]})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[c.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Movimientos:"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:()=>y(st=>st==="new"?"all":"new"),disabled:$e.newAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${g==="new"?"bg-brand-green text-white shadow-lg shadow-green-500/20":"bg-zinc-800/50 text-zinc-300"} ${$e.newAnimalIds.size>0&&g!=="new"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[c.jsx(_q,{size:14})," ",c.jsxs("span",{children:["Ingresos (",$e.newAnimalIds.size,")"]})]}),c.jsxs("button",{onClick:()=>H(!0),disabled:$e.exitingAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all bg-zinc-800/50 text-zinc-300 ${$e.exitingAnimalIds.size>0&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[c.jsx(Bq,{size:14})," ",c.jsxs("span",{children:["Salidas (",$e.exitingAnimalIds.size,")"]})]})]})]})]}),c.jsxs("div",{className:"relative px-4",children:[c.jsx(Uu,{className:"absolute left-7 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"}),c.jsx("input",{type:"search",placeholder:`Buscar ID o Nombre en ${Dt.length} animales...`,value:ft,onChange:st=>vt(st.target.value),className:"w-full bg-brand-glass border border-brand-border rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-brand-orange"})]})]}),c.jsx("div",{className:"pt-2 space-y-0 pb-4",children:Dt.length>0?c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border overflow-hidden mx-4",children:Dt.map(st=>c.jsx(s4,{animal:st,onSelectAnimal:t,onOpenActions:Xt,isNewEntry:$e.newAnimalIds.has(st.id)},st.id))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:ft?"No se encontraron resultados":"No hay animales con los filtros."})})})]}),c.jsx(An,{isOpen:E==="media",onClose:()=>N(null),title:"Anlisis de Produccin Media",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsxs("p",{children:["La **Media de Produccin** del da es **",ge.toFixed(2)," Kg**. Representa el promedio simple."]}),c.jsxs("p",{children:["La **Media Ponderada** (",ae.toFixed(2)," Kg) premia la **persistencia lechera** (ms valor a produccin tarda)."]})]})}),c.jsx(An,{isOpen:E==="total",onClose:()=>N(null),title:"Produccin Total del Da",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-zinc-400",children:["La produccin total registrada el ",he?new Date(he+"T00:00:00").toLocaleDateString("es-VE"):"-"," fue:"]}),c.jsxs("h2",{className:"text-5xl font-bold text-brand-orange my-2",children:[$e.kpi.total.toFixed(2)," Kg"]})]})}),c.jsx(An,{isOpen:E==="stdDev",onClose:()=>N(null),title:"Anlisis de Consistencia ()",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsxs("p",{children:["La Desviacin Estndar () de **",xe.toFixed(2),"** mide la dispersin. Un valor **bajo** es ideal (rebao consistente)."]}),c.jsxs("div",{className:"bg-black/30 p-4 rounded-lg text-center",children:[c.jsx("p",{className:"text-sm uppercase text-zinc-400",children:"Rebao dentro de 1"}),c.jsxs("p",{className:"text-4xl font-bold text-brand-orange my-1",children:[$e.consistency.percentage.toFixed(0),"%"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["Cercana al promedio de ",c.jsxs("span",{className:"font-bold text-white",children:[ge.toFixed(2)," Kg"]}),"."]})]})]})}),c.jsx(An,{isOpen:E==="rango",onClose:()=>N(null),title:"Extremos de Produccin del Da",children:c.jsxs("div",{className:"space-y-4",children:[$e.topPerformer&&c.jsxs("div",{className:"bg-green-900/40 border border-green-500/50 rounded-2xl p-4",children:[c.jsx("h3",{className:"font-semibold text-brand-green mb-2",children:"Produccin Mxima"}),c.jsx(s4,{animal:$e.topPerformer,onSelectAnimal:()=>{N(null),t($e.topPerformer.id)},onOpenActions:Xt,isNewEntry:$e.newAnimalIds.has($e.topPerformer.id)})]}),$e.bottomPerformer&&c.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-4",children:[c.jsx("h3",{className:"font-semibold text-brand-red mb-2",children:"Produccin Mnima"}),c.jsx(s4,{animal:$e.bottomPerformer,onSelectAnimal:()=>{N(null),t($e.bottomPerformer.id)},onOpenActions:Xt,isNewEntry:$e.newAnimalIds.has($e.bottomPerformer.id)})]})]})}),c.jsx(An,{isOpen:j,onClose:()=>D(!1),title:"Qu es el Anlisis del Ordeo?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Clasifica animales (Pobre, Promedio, Sobresaliente) usando la media () y desviacin estndar ()."}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-white mb-1",children:["Ponderado a DEL (",c.jsx(Vv,{size:12,className:"inline-block mb-0.5"}),")"]}),c.jsx("p",{className:"text-sm",children:"Activa este clculo para dar ms valor a la produccin temprana (persistencia)."})]})]})}),c.jsx(An,{isOpen:k,onClose:()=>O(!1),title:"Qu es el Score Ponderado?",children:c.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[c.jsx("p",{children:"Ajusta la produccin para premiar la **persistencia lechera**."}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-white mb-1",children:"Frmula"}),c.jsx("div",{className:"bg-black/30 p-3 rounded-lg text-sm font-mono text-center text-orange-300",children:"Score = Kg  (1 + ((DEL - 50) / (DEL + 50)))"})]}),c.jsx("p",{className:"pt-2 border-t border-zinc-700/80 text-sm",children:"2 Kg en da **200** valen ms que 2 Kg en da 40."})]})}),_&&c.jsx(An,{isOpen:!!_,onClose:()=>B(null),title:`Tendencia de ${Ar(_)}`,children:c.jsx(WVe,{animalId:_.id})}),c.jsx($Ve,{isOpen:L,onClose:()=>H(!1),animalIds:Array.from($e.exitingAnimalIds),onSelectAnimal:t}),c.jsx(Hu,{isOpen:q,onClose:()=>Y(!1),title:`Acciones para ${Ar(ee)}`,actions:Zt(ee)}),E==="milkWeighing"&&ee&&c.jsx(zVe,{animal:ee,onCancel:Ut,onSaveSuccess:Ut}),he&&c.jsx(KVe,{isOpen:te,onClose:()=>le(!1),onConfirm:rn,dateToDelete:he})]})}const YVe=t=>P.useMemo(()=>{if(t.length===0)return{monthlyData:[]};const n=t.reduce((i,a)=>{const s=a.date.substring(0,7);return i[s]||(i[s]=[]),i[s].push(a),i},{});let r=Object.entries(n).map(([i,a])=>{const s=new Date(`${i}-02T12:00:00Z`),o=s.toLocaleString("es-VE",{month:"long",timeZone:"UTC"}),l=s.getUTCFullYear(),u=a.length,A=a.reduce((d,f)=>d+f.kg,0);return{periodLabel:`${o.charAt(0).toUpperCase()+o.slice(1)} ${l}`,periodId:i,totalKg:A,averageKg:u>0?A/u:0,weighingCount:u,animalCount:new Set(a.map(d=>d.goatId)).size,weighingEvents:new Set(a.map(d=>d.date)).size,weighings:a,newAnimalsWeighings:[]}}).sort((i,a)=>a.periodId.localeCompare(i.periodId));return r=r.map((i,a,s)=>{const o=s[a+1];if(o){const l=o.averageKg?(i.averageKg-o.averageKg)/o.averageKg*100:void 0,u=o.animalCount?(i.animalCount-o.animalCount)/o.animalCount*100:void 0,A=new Set(o.weighings.map(m=>m.goatId)),d=new Set(i.weighings.map(m=>m.goatId)),f=new Set([...d].filter(m=>!A.has(m))),h=i.weighings.filter(m=>f.has(m.goatId)),p=[...A].filter(m=>!d.has(m)).length;return{...i,avgKgChange:l,animalCountChange:u,newAnimalsWeighings:h,previousAnimalCount:o.animalCount,exitingAnimalCount:p}}return{...i,newAnimalsWeighings:i.weighings,previousAnimalCount:0,exitingAnimalCount:0}}),{monthlyData:r,quarterlyData:[],yearlyData:[]}},[t]),Zw=({value:t})=>{if(t===void 0||isNaN(t)||t===0)return c.jsx("div",{className:"w-16 h-5"});const e=t>0,n=e?"text-brand-green":"text-brand-red",r=e?pg:hg;return c.jsxs("span",{className:`flex items-center text-sm font-bold ${n} whitespace-nowrap`,children:[c.jsx(r,{size:16,className:"mr-0.5"}),t.toFixed(1),"%"]})},XVe=({stats:t,onClick:e})=>c.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[c.jsxs("div",{className:"min-w-0 mr-2",children:[c.jsx("p",{className:"font-bold text-lg text-white truncate",children:t.periodLabel}),c.jsxs("p",{className:"text-sm text-zinc-400 truncate",children:["Prom: ",t.averageKg.toFixed(2)," Kg | ",t.animalCount," animales"]})]}),c.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[c.jsx(Zw,{value:t.avgKgChange}),c.jsx(ta,{className:"text-zinc-600 flex-shrink-0"})]})]}),Lte=({weighing:t,onSelectAnimal:e})=>{const n=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-black/20 rounded-lg p-3 border border-zinc-700/50 flex justify-between items-center hover:border-orange-400/50",children:[c.jsxs("div",{className:"min-w-0 pr-3 flex items-center gap-3",children:[" ",c.jsxs("div",{children:[" ",c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),n&&c.jsx("p",{className:"text-xs font-normal text-zinc-400 truncate",children:n})]}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white whitespace-nowrap ${t.classification==="Pobre"?"bg-brand-red/80":t.classification==="Sobresaliente"?"bg-brand-green/80":"bg-gray-500/80"}`,children:t.classification})]}),c.jsxs("p",{className:"font-semibold text-lg text-white flex-shrink-0",children:[" ",t.latestWeighing.toFixed(2),c.jsx("span",{className:"text-base font-medium text-zinc-400 ml-1",children:"Kg"})," "]})]})},Mte=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const s=(i/a*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${s}%`})},JVe=({isOpen:t,onClose:e,data:n,periodLabel:r,onSelectAnimal:i})=>{const{animals:a,weighings:s,parturitions:o}=Yt(),[l,u]=P.useState("all"),A=hS((n==null?void 0:n.newAnimalsWeighings)||[],a,s,o,!1),d=P.useMemo(()=>l==="all"?A.classifiedAnimals:A.classifiedAnimals.filter(h=>h.classification===l),[A.classifiedAnimals,l]),f=h=>{var p;if((p=h==null?void 0:h.payload)!=null&&p.name){const m=h.payload.name;u(v=>v===m?"all":m)}};return!t||!n?null:c.jsx(An,{isOpen:t,onClose:e,title:`Anlisis Nuevos Ingresos - ${r}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(s0,{size:14}),"Promedio"]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[A.mean.toFixed(2),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]}),c.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(Qu,{size:14}),"Animales"]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:A.classifiedAnimals.length})]})]}),c.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(Ll,{data:A.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Qi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Dr,{content:c.jsx($u,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Ja,{dataKey:"count",onClick:f,cursor:"pointer",children:[A.distribution.map(h=>c.jsx(mc,{fill:h.fill,className:`${l!=="all"&&l!==h.name?"opacity-30":"opacity-100"}`},h.name)),c.jsx(Ko,{dataKey:"count",content:c.jsx(Mte,{total:A.classifiedAnimals.length})})]})]})})})}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:d.sort((h,p)=>p.latestWeighing-h.latestWeighing).map(h=>c.jsx(Lte,{weighing:h,onSelectAnimal:i},h.weighingId||h.id))})]})})};function ZVe({navigateToRebano:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=Yt(),[a,s]=P.useState(null),[o,l]=P.useState("all"),[u,A]=P.useState(!1),[d,f]=P.useState(null),{monthlyData:h}=YVe(n),p=hS((a==null?void 0:a.weighings)||[],e,n,r,!1),m=P.useMemo(()=>o==="all"?p.classifiedAnimals:p.classifiedAnimals.filter(g=>g.classification===o),[p.classifiedAnimals,o]),v=g=>{var y;if((y=g==null?void 0:g.payload)!=null&&y.name){const x=g.payload.name;l(S=>S===x?"all":x)}};return i?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando historial..."})}):a?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in px-4",children:[c.jsxs("header",{className:"flex items-center pt-4 pb-4",children:[c.jsx("button",{onClick:()=>{s(null),l("all")},className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsx("div",{className:"text-center flex-grow",children:c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:a.periodLabel})}),c.jsx("div",{className:"w-8"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(s0,{size:14}),"Promedio / Animal"]}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.averageKg.toFixed(2),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]}),c.jsx(Zw,{value:a.avgKgChange})]})]}),c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(So,{size:14}),"Eventos de Pesaje"]}),c.jsx("p",{className:"text-2xl font-bold text-white",children:a.weighingEvents})]}),c.jsxs("button",{onClick:()=>A(!0),className:"bg-brand-glass p-3 rounded-2xl text-left hover:border-brand-orange transition-colors border border-brand-border",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(Qu,{size:14}),"Animales Ordeados"]}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsx("p",{className:"text-2xl font-bold text-white",children:a.animalCount}),c.jsx(Zw,{value:a.animalCountChange})]})]}),c.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[c.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[c.jsx(Ta,{size:14}),"Total Registrado"]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.totalKg.toFixed(0),c.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 border-b border-brand-border pb-2 mb-4",children:[c.jsx(ax,{className:"text-brand-orange",size:18}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribucin del Perodo"})]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(Ll,{data:p.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Qi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Dr,{content:c.jsx($u,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Ja,{dataKey:"count",onClick:v,cursor:"pointer",children:[p.distribution.map(g=>c.jsx(mc,{fill:g.fill,className:`${o!=="all"&&o!==g.name?"opacity-30":"opacity-100"} transition-opacity`},g.name)),c.jsx(Ko,{dataKey:"count",content:c.jsx(Mte,{total:p.classifiedAnimals.length})})]})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",p.mean.toFixed(2)," Kg"]})," | ",c.jsxs("span",{children:[" = ",p.stdDev.toFixed(2)]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1 mt-4",children:["Pesajes del Perodo (",m.length,")"]}),m.length>0?m.sort((g,y)=>y.latestWeighing-g.latestWeighing).map(g=>c.jsx(Lte,{weighing:g,onSelectAnimal:y=>t({name:"lactation-profile",animalId:y})},g.weighingId||g.id)):c.jsx("div",{className:"text-center py-6 bg-brand-glass rounded-lg",children:c.jsx("p",{className:"text-zinc-500",children:"No hay pesajes que coincidan con el filtro."})})]})]}),c.jsx(An,{isOpen:u,onClose:()=>A(!1),title:"Variacin de Animales en Ordeo",children:c.jsxs("div",{className:"text-zinc-300 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-white mb-1",children:[a.periodLabel," vs Mes Anterior"]}),c.jsxs("p",{className:"text-sm text-zinc-400",children:["El mes anterior tenas ",c.jsx("span",{className:"font-bold text-white",children:a.previousAnimalCount})," animales en ordeo. Este mes tienes ",c.jsx("span",{className:"font-bold text-white",children:a.animalCount}),"."]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsxs("p",{children:["El cambio neto es de ",c.jsx("span",{className:"font-bold text-white",children:a.animalCount-(a.previousAnimalCount||0)})," animales"]}),c.jsx(Zw,{value:a.animalCountChange})]})]}),c.jsxs("div",{className:"pt-4 border-t border-zinc-700/80",children:[a.exitingAnimalCount>0&&c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Salieron del ordeo: ",c.jsx("span",{className:"font-bold text-brand-red",children:a.exitingAnimalCount})," animales."]}),a.newAnimalsWeighings.length>0&&c.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Nuevos ingresos: ",c.jsx("span",{className:"font-bold text-brand-green",children:new Set(a.newAnimalsWeighings.map(g=>g.goatId)).size})," animales."]}),a.newAnimalsWeighings.length>0&&c.jsxs("button",{onClick:()=>{f(a),A(!1)},className:"w-full mt-4 bg-brand-orange text-white font-semibold py-2 rounded-lg hover:bg-orange-600 transition-colors",children:["Analizar los ",new Set(a.newAnimalsWeighings.map(g=>g.goatId)).size," Nuevos Ingresos"]})]})]})}),c.jsx(JVe,{isOpen:!!d,onClose:()=>f(null),data:d,periodLabel:a.periodLabel,onSelectAnimal:g=>t({name:"lactation-profile",animalId:g})})]}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 px-4 pt-4",children:[c.jsx("header",{className:"text-center pb-4",children:c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Historial de Produccin"})}),h.length>0?c.jsx("div",{className:"space-y-2",children:h.map(g=>c.jsx(XVe,{stats:g,onClick:()=>s(g)},g.periodId))}):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:c.jsx("p",{className:"text-zinc-400",children:"No hay datos histricos de pesajes registrados."})})]})}const e$e=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=P.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(s,o)=>{const l=new Date(a);return l.setDate(a.getDate()-o),l})},[]),i=(a,s)=>{if(a.getTime()===s.getTime())return"Hoy";const o=new Date(s);return o.setDate(s.getDate()-1),a.getTime()===o.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return c.jsxs("div",{className:"px-4",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(So,{size:16}),"Fecha del Pesaje"]}),c.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[c.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[c.jsx(So,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const s=a.getTime()===t.getTime();return c.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${s?"bg-brand-orange text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[c.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),c.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),c.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},t$e=({entry:t,onDelete:e,onRegister:n})=>{const r=!t.isRecognized;return c.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${r?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 min-w-0 pr-2",children:[r&&c.jsx(mr,{className:"text-amber-400 flex-shrink-0",size:18}),c.jsx("div",{className:"min-w-0",children:c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.animalId.toUpperCase()})})]}),c.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[r?c.jsx("button",{onClick:()=>n(t.animalId),className:"text-xs font-semibold bg-brand-orange text-white px-2 py-1 rounded-md hover:bg-orange-600",children:"Registrar Parto"}):c.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),c.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Bo,{size:16})})]})]})},n$e=({onSaveSuccess:t})=>{const{animals:e,weighings:n,fetchData:r,addWeighing:i}=Yt(),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,A]=P.useState([]),[d,f]=P.useState(null),[h,p]=P.useState(()=>{const H=new Date;return H.setHours(0,0,0,0),H}),[m,v]=P.useState(!1),[g,y]=P.useState({isOpen:!1,motherId:""}),[x,S]=P.useState(!1),E=P.useRef(null),N=P.useRef(null),_=()=>{var te;if(f(null),!a||!o)return;const H=a.toUpperCase().trim(),q=parseFloat(o),Y=h.toISOString().split("T")[0];if(q>100){f({type:"error",text:`El valor de ${q} Kg es irracional. Verifique el dato.`});return}if(q>8.5){f({type:"error",text:`Produccin de ${q} Kg es muy alta. Lmite: 8.5 Kg.`});return}if(u.some(le=>le.animalId===H)){f({type:"error",text:`${H} ya tiene un pesaje en esta sesin.`});return}if(n.some(le=>le.goatId===H&&le.date===Y)){f({type:"error",text:`${H} ya tiene un pesaje guardado para esta fecha.`});return}const ee=e.find(le=>le.id===H);if(ee&&ee.isReference){f({type:"error",text:`${H} es un animal de Referencia. No se pueden aadir pesajes.`});return}const K={tempId:Date.now(),animalId:H,name:ee==null?void 0:ee.name,kg:q,date:Y,isRecognized:!!ee};A(le=>[K,...le]),s(""),l(""),(te=E.current)==null||te.focus()},B=async()=>{f(null),S(!0);const{currentUser:H}=dg;if(!H){f({type:"error",text:"Error de autenticacin."}),S(!1);return}const q=u.filter(Y=>!Y.isRecognized).length;if(q>0){f({type:"error",text:`No se puede guardar. Tienes ${q} animal(es) sin registrar.`}),S(!1);return}if(u.length===0){f({type:"error",text:"No hay pesajes para guardar."}),S(!1);return}try{const Y=u.map(ee=>{const K={goatId:ee.animalId,kg:ee.kg,date:ee.date};return i(K)});await Promise.all(Y),f({type:"success",text:`${u.length} pesajes guardados con xito.`}),A([]),setTimeout(()=>{t(h.toISOString().split("T")[0])},1500)}catch(Y){f({type:"error",text:"Ocurri un error al guardar localmente."}),console.error("Error en escritura local de pesajes:",Y),S(!1)}},j=H=>{var q;H.key==="Enter"&&a&&(H.preventDefault(),(q=N.current)==null||q.focus())},D=H=>{H.key==="Enter"&&o&&(H.preventDefault(),_())},k=H=>{A(q=>q.filter(Y=>Y.tempId!==H))},O=H=>{H&&(H.setHours(0,0,0,0),p(H)),v(!1)},L=()=>{r(),A(H=>H.map(q=>q.animalId===g.motherId?{...q,isRecognized:!0}:q)),y({isOpen:!1,motherId:""})};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 pt-4",children:[c.jsxs("div",{className:"text-center px-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Carga Rpida de Leche"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Sesin de Ordeo"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(e$e,{selectedDate:h,onDateChange:p,onOpenCalendar:()=>v(!0)}),c.jsxs("div",{className:"flex items-center gap-2 px-4",children:[c.jsx("input",{ref:E,type:"text",value:a,onChange:H=>s(H.target.value),onKeyDown:j,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-orange focus:ring-0"}),c.jsx("input",{ref:N,type:"number",step:"0.01",value:o,onChange:H=>l(H.target.value),onKeyDown:D,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-orange focus:ring-0"}),c.jsx("button",{onClick:_,disabled:!a||!o||x,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:c.jsx(Bl,{size:24})})]})]})]}),c.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[u.length===0&&c.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes aadidos aparecern aqu."}),u.map(H=>c.jsx(t$e,{entry:H,onDelete:k,onRegister:q=>y({isOpen:!0,motherId:q})},H.tempId))]}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[d&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${d.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",d.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18})," ",c.jsx("span",{children:d.text})," "]}),c.jsxs("button",{onClick:B,disabled:x||u.length===0||u.some(H=>!H.isRecognized),className:"w-full flex items-center justify-center gap-2 bg-brand-orange/20 border border-brand-orange text-brand-orange hover:bg-brand-orange/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[x?c.jsx(eu,{size:24,className:"animate-spin"}):c.jsx(o0,{size:20}),x?"Guardando...":`Guardar ${u.length>0?`(${u.length})`:""} Pesajes`]})]})]}),c.jsx(An,{isOpen:m,onClose:()=>v(!1),title:"Seleccionar Fecha",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(vp,{mode:"single",selected:h,onSelect:O})})}),c.jsx(yp,{isOpen:g.isOpen,onClose:L,motherId:g.motherId})]})};function r$e({onNavigate:t,onSaveSuccess:e}){const[n,r]=P.useState("options");return n==="rapid"?c.jsx(n$e,{onSaveSuccess:e}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pt-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white text-center",children:"Aadir Datos de Leche"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>r("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-orange text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(sx,{className:"w-12 h-12 mb-2 text-brand-orange"}),c.jsx("span",{className:"text-lg font-semibold",children:"Carga Rpida"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),c.jsxs("button",{onClick:()=>t("ocr",{}),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-blue text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Tq,{className:"w-12 h-12 mb-2 text-brand-blue"}),c.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]})]})]})}const i$e=({animal:t,parturition:e,onSelectAnimal:n})=>c.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),t.name&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:t.name.toUpperCase().trim()}),c.jsxs("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate+"T00:00:00Z").toLocaleDateString("es-VE",{timeZone:"UTC"})}`,e.status==="seca"&&"Lactancia finalizada"]})]}),c.jsx(ta,{className:"text-zinc-600 w-5 h-5 flex-shrink-0"})]});function a$e({navigateToRebano:t}){const{animals:e,parturitions:n,isLoading:r}=Yt(),[i,a]=P.useState("drying"),s=P.useMemo(()=>{const l=d=>e.find(f=>f.id===d),u=n.filter(d=>d.status==="en-secado").sort((d,f)=>new Date(f.dryingStartDate).getTime()-new Date(d.dryingStartDate).getTime()).map(d=>({animal:l(d.goatId),parturition:d})).filter(d=>d.animal&&!d.animal.isReference),A=n.filter(d=>d.status==="seca").sort((d,f)=>new Date(f.dryingStartDate).getTime()-new Date(d.dryingStartDate).getTime()).map(d=>({animal:l(d.goatId),parturition:d})).filter(d=>d.animal&&!d.animal.isReference);return{drying:u,dry:A}},[e,n]),o=s[i]||[];return r?c.jsx("div",{className:"text-center p-10",children:c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 px-4",children:[c.jsxs("header",{className:"text-center pt-4 pb-4",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestin de Secado"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Animales por Estado de Lactancia"})]}),c.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:c.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[c.jsxs("button",{onClick:()=>a("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${i==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",s.drying.length,")"]}),c.jsxs("button",{onClick:()=>a("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${i==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",s.dry.length,")"]})]})}),c.jsx("div",{className:"space-y-4",children:o.length>0?o.map(({animal:l,parturition:u})=>c.jsx(i$e,{animal:l,parturition:u,onSelectAnimal:A=>t({name:"lactation-profile",animalId:A})},u.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function s$e({initialPage:t,onPageStateChange:e,navigateToRebano:n,onSwitchModule:r}){const{syncStatus:i}=Yt(),[a,s]=P.useState(t||{name:"dashboard"}),[o,l]=P.useState([]);P.useEffect(()=>{e(a)},[a,e]),P.useEffect(()=>{s(t&&typeof t=="object"&&"name"in t?t:{name:"dashboard"})},[t]);const u=[{id:"dashboard",label:"Dashboard",icon:fq},{id:"analysis",label:"Anlisis",icon:Sq},{id:"history",label:"Historial",icon:pq},{id:"add-data",label:"Aadir",icon:Bl},{id:"drying",label:"Secado",icon:cp}],A=m=>{l(v=>[...v,a]),s(m)},d=()=>{const m=o.pop();m?(s(m),l([...o])):a.name!=="dashboard"?s({name:"dashboard"}):r("rebano")},f=m=>{l([]),s({name:m})},h=m=>{n(m,"lactokeeper")},p=()=>{switch(a.name){case"dashboard":return c.jsx(mH,{onNavigateToAnalysis:()=>A({name:"analysis"})});case"analysis":return c.jsx(qVe,{onSelectAnimal:m=>A({name:"lactation-profile",animalId:m})});case"history":return c.jsx(ZVe,{navigateToRebano:h});case"add-data":return c.jsx(r$e,{onNavigate:(m,v)=>h({name:m,...v}),onSaveSuccess:()=>A({name:"analysis"})});case"drying":return c.jsx(a$e,{navigateToRebano:h});case"lactation-profile":return c.jsx(Fte,{animalId:a.animalId,onBack:d,navigateTo:h});default:return c.jsx(mH,{onNavigateToAnalysis:()=>A({name:"analysis"})})}};return c.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col bg-brand-dark",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-brand-dark/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsx("button",{onClick:d,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qpe,{className:"text-brand-orange",size:28}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"LactoKeeper"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(S0,{status:i})})]})}),c.jsx("main",{className:"flex-grow pt-16 pb-24",children:p()}),c.jsx(Bx,{onSwitchModule:r}),c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around z-20 h-16",children:u.map(m=>c.jsxs("button",{onClick:()=>f(m.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${a.name===m.id?"text-brand-orange":"text-gray-400 hover:text-brand-orange"}`,children:[c.jsx(m.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:m.label})]},m.id))})]})}const o$e=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=P.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(s,o)=>{const l=new Date(a);return l.setDate(a.getDate()-o),l})},[]),i=(a,s)=>{if(a.getTime()===s.getTime())return"Hoy";const o=new Date(s);return o.setDate(s.getDate()-1),a.getTime()===o.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return c.jsxs("div",{className:"px-4",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[c.jsx(So,{size:16}),"Fecha del Pesaje"]}),c.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[c.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[c.jsx(So,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const s=a.getTime()===t.getTime();return c.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${s?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[c.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),c.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),c.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},l$e=({entry:t,onDelete:e})=>{const n=!t.isRecognized,r=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${n?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 min-w-0 pr-2",children:[n&&c.jsx(mr,{className:"text-amber-400 flex-shrink-0",size:18}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.animalId.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-400 truncate",children:r})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[c.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),c.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Bo,{size:16})})]})]})},c$e=({onBack:t,onSaveSuccess:e})=>{const{animals:n,addBodyWeighing:r}=Yt(),[i,a]=P.useState(""),[s,o]=P.useState(""),[l,u]=P.useState([]),[A,d]=P.useState(null),[f,h]=P.useState(()=>{const D=new Date;return D.setHours(0,0,0,0),D}),[p,m]=P.useState(!1),[v,g]=P.useState(!1),y=P.useRef(null),x=P.useRef(null),S=()=>{var H,q,Y,ee,K;if(d(null),!i||!s)return;const D=i.toUpperCase().trim(),k=parseFloat(s);if(isNaN(k)||k<=0){d({type:"error",text:"Peso invlido."}),(H=x.current)==null||H.focus();return}if(k>150){d({type:"error",text:`El peso de ${k} Kg parece irracional. Verifique.`}),(q=x.current)==null||q.focus();return}if(l.some(te=>te.animalId===D)){d({type:"error",text:`${D} ya tiene un pesaje en esta sesin.`}),a(""),(Y=y.current)==null||Y.focus();return}const O=n.find(te=>te.id===D);if(O&&O.isReference){d({type:"error",text:`${D} es Referencia. No se pueden aadir pesajes.`}),a(""),(ee=y.current)==null||ee.focus();return}const L={tempId:Date.now(),animalId:D,name:O==null?void 0:O.name,kg:k,date:f.toISOString().split("T")[0],isRecognized:!!O};u(te=>[L,...te]),a(""),o(""),(K=y.current)==null||K.focus()},E=async()=>{d(null),g(!0);const{currentUser:D}=dg;if(!D){d({type:"error",text:"Error de autenticacin."}),g(!1);return}const k=l.filter(O=>!O.isRecognized).length;if(k>0){d({type:"error",text:`No se puede guardar. Tienes ${k} animal(es) sin registrar en el rebao.`}),g(!1);return}if(l.length===0){d({type:"error",text:"No hay pesajes para guardar."}),g(!1);return}try{const O=l.map(L=>r({animalId:L.animalId,kg:L.kg,date:L.date}));await Promise.all(O),d({type:"success",text:`${l.length} pesajes guardados con xito.`}),u([]),setTimeout(()=>e(f.toISOString().split("T")[0]),1500)}catch(O){d({type:"error",text:"Ocurri un error al guardar los datos."}),console.error("Error en escritura de pesajes corporales:",O),g(!1)}},N=D=>{var k;D.key==="Enter"&&i&&(D.preventDefault(),(k=x.current)==null||k.focus())},_=D=>{D.key==="Enter"&&s&&(D.preventDefault(),S())},B=D=>{u(k=>k.filter(O=>O.tempId!==D))},j=D=>{D&&(D.setHours(0,0,0,0),h(D)),m(!1)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-full animate-fade-in",children:[c.jsxs("div",{className:"flex-shrink-0 space-y-4 pt-4",children:[c.jsxs("header",{className:"text-center px-4 flex items-center",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Carga Rpida de Peso"}),c.jsx("p",{className:"text-md text-zinc-400",children:"Sesin de Pesaje Corporal"})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(o$e,{selectedDate:f,onDateChange:h,onOpenCalendar:()=>m(!0)}),c.jsxs("div",{className:"flex items-center gap-2 px-4",children:[c.jsx("input",{ref:y,type:"text",value:i,onChange:D=>a(D.target.value),onKeyDown:N,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),c.jsx("input",{ref:x,type:"number",step:"0.1",value:s,onChange:D=>o(D.target.value),onKeyDown:_,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),c.jsx("button",{onClick:S,disabled:!i||!s||v,"aria-label":"Aadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:c.jsx(Bl,{size:24})})]})]})]}),c.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[l.length===0&&c.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes aadidos aparecern aqu."}),l.map(D=>c.jsx(l$e,{entry:D,onDelete:B},D.tempId))]}),c.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[A&&c.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${A.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",A.type==="success"?c.jsx(Za,{size:18}):c.jsx(mr,{size:18})," ",c.jsx("span",{children:A.text})," "]}),c.jsxs("button",{onClick:E,disabled:v||l.length===0||l.some(D=>!D.isRecognized),className:"w-full flex items-center justify-center gap-2 bg-brand-green/20 border border-brand-green text-brand-green hover:bg-brand-green/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[v?c.jsx(eu,{size:20,className:"animate-spin"}):c.jsx(o0,{size:20}),v?"Guardando...":`Guardar ${l.length>0?`(${l.length})`:""} Pesajes`]})]})]}),c.jsx(An,{isOpen:p,onClose:()=>m(!1),title:"Seleccionar Fecha",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(vp,{mode:"single",selected:f,onSelect:j})})})]})};function u$e({onNavigate:t,onSaveSuccess:e}){const[n,r]=P.useState("options");return n==="rapid"?c.jsx(c$e,{onBack:()=>r("options"),onSaveSuccess:e}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pt-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Aadir Pesaje Corporal"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Carga de Datos de Crecimiento"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>r("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-green text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(sx,{className:"w-12 h-12 mb-2 text-brand-green"}),c.jsx("span",{className:"text-lg font-semibold",children:"Carga Rpida"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),c.jsxs("button",{onClick:()=>t("ocr",{}),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-blue text-white p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[c.jsx(Tq,{className:"w-12 h-12 mb-2 text-brand-blue"}),c.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),c.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalizacin asistida por IA"})]})]})]})}const A$e=({gdp:t,averageGdp:e})=>{if(t===null||!e||e===0)return null;const n=t/e;return n>1.1?c.jsx(Ta,{size:18,className:"text-brand-green"}):n<.9?c.jsx(Ta,{size:18,className:"text-brand-red rotate-180"}):c.jsx(ND,{size:18,className:"text-zinc-500"})},d$e=({animal:t,onSelect:e,averageGdp:n})=>{const r={Sobresaliente:"text-brand-green",Promedio:"text-zinc-400",Pobre:"text-brand-red"},i=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),i&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:i}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-white text-base",children:[t.gdp?`${t.gdp.toFixed(0)}`:"--",c.jsx("span",{className:"text-sm text-zinc-400",children:" g/da"})]}),c.jsx("p",{className:`font-bold text-xs ${r[t.classification]}`,children:t.classification})]}),c.jsx(A$e,{gdp:t.gdp?t.gdp/1e3:null,averageGdp:n}),c.jsx(ta,{className:"text-zinc-600 w-5 h-5"})]})]})};function gH({onSelectAnimal:t}){const{animals:e,bodyWeighings:n,parturitions:r}=Yt(),[i,a]=P.useState("all"),s=P.useMemo(()=>{const u=e.filter(D=>{if(D.status!=="Activo"||D.isReference||D.sireLotId)return!1;const k=_f(D,r);return["Cabrita","Cabritona","Cabrito","Macho de Levante"].includes(k)});if(u.length===0)return{analyzedAnimals:[],distribution:[],averageGdp:0,gaussChartData:[],meanGdp:0,stdDev:0};let A=0,d=0;const f=u.map(D=>{const k=n.filter(ee=>ee.animalId===D.id),L=xO(D.birthWeight,k).overall??0,H=Yc(D.birthDate);L>0&&(A+=L,d++);const q=d>0?A/d:0,Y=L>0?HQe(L,q,H):0;return{...D,formattedAge:lu(D.birthDate),ageInDays:H,gdpKgDay:L,score:Y}}),h=d>0?A/d:0,p=h,m=f.filter(D=>D.score>0).map(D=>D.score),v=m.length>0?m.reduce((D,k)=>D+k,0)/m.length:0,g=m.length>0?Math.sqrt(m.reduce((D,k)=>D+Math.pow(k-v,2),0)/m.length):0,y=v-.4*g,x=v+.4*g,E=f.sort((D,k)=>k.score-D.score).map(D=>{let k="Promedio";return D.score>0&&g>1&&(D.score<y?k="Pobre":D.score>x&&(k="Sobresaliente")),{...D,gdp:D.gdpKgDay*1e3,ageInDays:D.ageInDays,classification:k,formattedAge:D.formattedAge}}),N=[{name:"Pobre",count:E.filter(D=>D.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:E.filter(D=>D.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:E.filter(D=>D.classification==="Sobresaliente").length,fill:"#34C759"}],_=E.map(D=>D.gdp).filter(D=>D>0),B=[];let j=0;if(_.length>0){const D=Math.min(..._),k=Math.max(..._),O=Math.max(10,Math.ceil((k-D)/15));for(let H=Math.floor(D/O)*O;H<k;H+=O){const q=H,Y=H+O,ee=E.filter(K=>K.gdp>=q&&K.gdp<Y).length;ee>0&&B.push({name:`${q}-${Y}`,count:ee})}const L=p*1e3;j=_.length>0?Math.sqrt(_.reduce((H,q)=>H+Math.pow(q-L,2),0)/_.length):0}return{analyzedAnimals:E,distribution:N,averageGdp:h,gaussChartData:B,meanGdp:p*1e3,stdDev:j}},[e,n,r]),o=be.useMemo(()=>i==="all"?s.analyzedAnimals:s.analyzedAnimals.filter(u=>u.classification===i),[s.analyzedAnimals,i]),l=u=>{var A;if((A=u==null?void 0:u.payload)!=null&&A.name){const d=u.payload.name;a(f=>f===d?"all":d)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"text-center pt-4",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de GDP"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Ganancia Diaria de Peso"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(Ta,{size:14}),c.jsx("span",{children:"GDP Media"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[s.meanGdp.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(kD,{size:14}),c.jsx("span",{children:"Desv. Estndar"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[s.stdDev.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribucin del Crecimiento"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(Ll,{data:s.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Qi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Dr,{content:c.jsx($u,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Ja,{dataKey:"count",onClick:l,cursor:"pointer",children:s.distribution.map(u=>c.jsx(mc,{fill:u.fill,className:`${i!=="all"&&i!==u.name?"opacity-30":"opacity-100"} transition-opacity`},u.name))})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Campana de Gauss (g/da)"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(Ll,{data:s.gaussChartData,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},interval:0,angle:-30,textAnchor:"end",height:40}),c.jsx(Qi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Dr,{content:c.jsx($u,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Ja,{dataKey:"count",fill:"rgba(52, 199, 89, 0.6)",name:"N Animales"})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",s.meanGdp.toFixed(0)," g/da"]})," | ",c.jsxs("span",{children:[" = ",s.stdDev.toFixed(0)," g/da"]})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:[i==="all"?"Animales en Crecimiento":`Animales (${i})`," (",o.length,")"]}),o.length>0?o.map(u=>c.jsx(d$e,{animal:u,onSelect:t,averageGdp:s.averageGdp},u.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay animales que coincidan con los filtros."})})]})]})}const f$e=()=>{const{animals:t,bodyWeighings:e,parturitions:n}=Yt();return P.useMemo(()=>{const a=t.filter(x=>{if(x.status!=="Activo"||x.isReference||x.sireLotId)return!1;const S=_f(x,n);return["Cabrita","Cabritona","Cabrito","Macho de Levante"].includes(S)}).map(x=>{const S=e.filter(N=>N.animalId===x.id),E=xO(x.birthWeight,S);return{...x,gdp:E.overall,ageInDays:Yc(x.birthDate)}}).filter(x=>x.gdp!==null&&x.gdp>0);if(a.length<2)return{classifiedAnimals:[],distribution:[],gaussChartData:[],meanGdp:0,stdDev:0};const o=a.reduce((x,S)=>x+S.gdp,0)/a.length,l=Math.sqrt(a.reduce((x,S)=>x+Math.pow(S.gdp-o,2),0)/a.length),u=o-.4*l,A=o+.4*l,d=a.map(x=>{let S="Promedio";return l>.005&&(x.gdp<u?S="Pobre":x.gdp>A&&(S="Sobresaliente")),{...x,classification:S,gdp:x.gdp*1e3}}),f=[{name:"Pobre",count:d.filter(x=>x.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:d.filter(x=>x.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:d.filter(x=>x.classification==="Sobresaliente").length,fill:"#34C759"}],h=d.map(x=>x.gdp),p=Math.min(...h),m=Math.max(...h),v=10,g=(m-p)/v,y=Array.from({length:v},(x,S)=>{const E=p+S*g,N=E+g,_=d.filter(B=>B.gdp>=E&&B.gdp<N).length;return{name:`${E.toFixed(0)}`,count:_}});return{classifiedAnimals:d.sort((x,S)=>S.gdp-x.gdp),distribution:f,gaussChartData:y,meanGdp:o,stdDev:l}},[t,e,n])},h$e=({animal:t,onSelect:e})=>{const n={Sobresaliente:"bg-brand-green/80",Promedio:"bg-gray-500/80",Pobre:"bg-brand-red/80"},r=t.name?String(t.name).toUpperCase().trim():"";return c.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors min-h-[80px]",children:[c.jsxs("div",{className:"min-w-0 pr-3",children:[c.jsx("p",{className:"font-mono font-semibold text-base text-white truncate",children:t.id.toUpperCase()}),r&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:r}),c.jsx("div",{className:"text-xs text-zinc-500 mt-1 min-h-[1rem] truncate",children:c.jsxs("span",{children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-white text-base",children:[t.gdp?`${t.gdp.toFixed(0)}`:"--",c.jsx("span",{className:"text-sm text-zinc-400",children:" g/da"})]}),c.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${n[t.classification]}`,children:t.classification})]}),c.jsx(ta,{className:"text-zinc-600 w-5 h-5"})]})]})},p$e=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const s=(i/a*100).toFixed(0);return c.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${s}%`})};function m$e({onSelectAnimal:t}){const{classifiedAnimals:e,distribution:n,gaussChartData:r,meanGdp:i,stdDev:a}=f$e(),s=P.useMemo(()=>e.map(p=>({...p,formattedAge:lu(p.birthDate)})),[e]),{searchTerm:o,setSearchTerm:l,filteredItems:u}=zO(s,["id","name"]),[A,d]=P.useState("all"),f=be.useMemo(()=>{let p=o?u:s;return A==="all"?p:p.filter(m=>m.classification===A)},[s,A,o,u]),h=p=>{var m;if((m=p==null?void 0:p.payload)!=null&&m.name){const v=p.payload.name;d(g=>g===v?"all":v)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[c.jsxs("header",{className:"text-center pt-4",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de GDP"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Ganancia Diaria de Peso"})]}),c.jsxs("div",{className:"relative px-4",children:[c.jsx(Uu,{className:"absolute left-7 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"}),c.jsx("input",{type:"search",placeholder:`Buscar ID o Nombre en ${f.length} animales...`,value:o,onChange:p=>l(p.target.value),className:"w-full bg-brand-glass border border-brand-border rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-brand-orange"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(Ta,{size:14}),c.jsx("span",{children:"GDP Media"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[i.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(kD,{size:14}),c.jsx("span",{children:"Desv. Estndar"})]}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.toFixed(0)," ",c.jsx("span",{className:"text-lg text-zinc-400",children:"g/da"})]})]})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribucin del Crecimiento"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(Ll,{data:n,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Qi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Dr,{content:c.jsx($u,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsxs(Ja,{dataKey:"count",onClick:h,cursor:"pointer",children:[n.map(p=>c.jsx(mc,{fill:p.fill,className:`${A!=="all"&&A!==p.name?"opacity-30":"opacity-100"} transition-opacity`},p.name)),c.jsx(Ko,{dataKey:"count",content:p$e})]})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Campana de Gauss (g/da)"}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(Ll,{data:r,margin:{top:20,right:10,left:-20,bottom:0},children:[c.jsx(Pi,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},interval:0,angle:-30,textAnchor:"end",height:40}),c.jsx(Qi,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},allowDecimals:!1}),c.jsx(Dr,{content:c.jsx($u,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),c.jsx(Ja,{dataKey:"count",fill:"rgba(52, 199, 89, 0.6)",name:"N Animales"})]})})}),c.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[c.jsxs("span",{children:[" = ",i.toFixed(0)," g/da"]})," | ",c.jsxs("span",{children:[" = ",a.toFixed(0)," g/da"]})]})]}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:[A==="all"?"Animales en Crecimiento":`Animales (${A})`," (",f.length,")"]}),f.length>0?f.map(p=>c.jsx(h$e,{animal:p,onSelect:t},p.id)):c.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:c.jsx("p",{className:"text-zinc-500",children:"No hay animales que coincidan con los filtros."})})]})]})}function g$e({navigateToRebano:t,onSwitchModule:e}){const{syncStatus:n}=Yt(),[r,i]=P.useState("dashboard"),a=[{id:"dashboard",label:"Dashboard",icon:ax},{id:"analysis",label:"Anlisis",icon:Wpe},{id:"add-data",label:"Aadir",icon:Bl}],s=()=>{r!=="dashboard"?i("dashboard"):e("rebano")},o=()=>{switch(r){case"dashboard":return c.jsx(gH,{onSelectAnimal:l=>t({name:"growth-profile",animalId:l})});case"analysis":return c.jsx(m$e,{onSelectAnimal:l=>t({name:"growth-profile",animalId:l})});case"add-data":return c.jsx(u$e,{onNavigate:t,onSaveSuccess:()=>i("analysis")});default:return c.jsx(gH,{onSelectAnimal:l=>t({name:"growth-profile",animalId:l})})}};return c.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsx("button",{onClick:s,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qA,{className:"text-brand-green"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Kilos"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(S0,{status:n})})]})}),c.jsx("main",{className:"flex-grow pt-16 pb-24",children:o()}),c.jsx(Bx,{onSwitchModule:e}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:a.map(l=>c.jsxs("button",{onClick:()=>i(l.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${r===l.id?"text-brand-green":"text-gray-400 hover:text-brand-green"}`,children:[c.jsx(l.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:l.label})]},l.id))})]})}const v$e=["Desparasitantes","Antibiticos","Vacunas","Vitaminas","Modificadores Orgnicos","Pomadas Tpicas","Analgsicos","Hormonas","Antiinflamatorios","Otro"],KO=({onSave:t,onCancel:e,existingProduct:n})=>{const[r,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState("Otro"),[u,A]=P.useState(""),[d,f]=P.useState("ml"),[h,p]=P.useState(""),[m,v]=P.useState("Inyectable"),[g,y]=P.useState("Intramuscular"),[x,S]=P.useState("per_kg"),[E,N]=P.useState(""),[_,B]=P.useState(""),[j,D]=P.useState(""),[k,O]=P.useState(null);P.useEffect(()=>{n&&(i(n.name),s(n.laboratory||""),l(n.category||"Otro"),A(String(n.presentationValue||"")),f(n.presentationUnit||"ml"),p(String(n.price||"")),v(n.applicationType),n.applicationRoute&&y(n.applicationRoute),S(n.dosageType||"per_kg"),N(String(n.dosageFixed||"")),B(String(n.dosagePerKg_ml||"")),D(String(n.dosagePerKg_kg||"")))},[n]);const L=async H=>{if(H.preventDefault(),O(null),!r.trim()){O("El nombre es obligatorio.");return}if(x==="fixed"&&!E){O("La dosis fija es obligatoria.");return}if(x==="per_kg"&&(!_||!j)){O("Ambos campos de dosificacin por Kg son obligatorios.");return}const q={name:r,applicationType:m,dosageType:x,category:o};a&&(q.laboratory=a),u&&(q.presentationValue=parseFloat(u)),q.presentationUnit=d,h&&(q.price=parseFloat(h)),m==="Inyectable"&&(q.applicationRoute=g),x==="fixed"&&(q.dosageFixed=parseFloat(E)),x==="per_kg"&&(q.dosagePerKg_ml=parseFloat(_),q.dosagePerKg_kg=parseFloat(j));try{await t(q)}catch(Y){O("No se pudo guardar el producto."),console.error(Y)}};return c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsx("input",{type:"text",value:r,onChange:H=>i(H.target.value),placeholder:"Nombre o Marca Comercial",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsxs("select",{value:o,onChange:H=>l(H.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",disabled:!0,children:"Seleccionar Categora..."}),v$e.map(H=>c.jsx("option",{value:H,children:H},H))]}),c.jsx("input",{type:"text",value:a,onChange:H=>s(H.target.value),placeholder:"Laboratorio (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:u,onChange:H=>A(H.target.value),placeholder:"Presentacin",className:"w-full bg-zinc-800 p-3 rounded-xl"}),c.jsxs("select",{value:d,onChange:H=>f(H.target.value),className:"bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"ml",children:"ml"}),c.jsx("option",{value:"L",children:"L"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:"$"}),c.jsx("input",{type:"number",step:"0.01",value:h,onChange:H=>p(H.target.value),placeholder:"Precio",className:"w-full bg-zinc-800 p-3 pl-7 rounded-xl"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Va de Administracin"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>v("Inyectable"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Inyectable"}),c.jsx("button",{type:"button",onClick:()=>v("Oral"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Oral"}),c.jsx(Ji.div,{layoutId:"app-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${m==="Oral"?"left-1/2":"left-1"}`})]})]}),m==="Inyectable"&&c.jsxs(Ji.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 overflow-hidden",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Ruta (Inyectable)"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>y("Intramuscular"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Intramuscular"}),c.jsx("button",{type:"button",onClick:()=>y("Subcutneo"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Subcutneo"}),c.jsx(Ji.div,{layoutId:"app-route-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${g==="Subcutneo"?"left-1/2":"left-1"}`})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-400",children:"Dosificacin"}),c.jsxs("div",{className:"relative flex w-full justify-between rounded-lg bg-zinc-800 p-1",children:[c.jsx("button",{type:"button",onClick:()=>S("per_kg"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Por Kg PV"}),c.jsx("button",{type:"button",onClick:()=>S("fixed"),className:"relative z-10 w-1/2 py-1.5 text-sm font-semibold text-white",children:"Dosis nica"}),c.jsx(Ji.div,{layoutId:"dosage-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${x==="fixed"?"left-1/2":"left-1"}`})]}),x==="per_kg"?c.jsxs("div",{className:"flex items-center justify-between gap-2 animate-fade-in",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"number",step:"0.1",value:_,onChange:H=>B(H.target.value),placeholder:"1",className:"w-full bg-zinc-800 p-3 pr-10 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"ml"})]}),c.jsx("span",{className:"text-zinc-500 text-sm",children:"por cada"}),c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"number",step:"1",value:j,onChange:H=>D(H.target.value),placeholder:"50",className:"w-full bg-zinc-800 p-3 pr-10 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"Kg"})]})]}):c.jsxs("div",{className:"relative animate-fade-in",children:[c.jsx("input",{type:"number",step:"0.1",value:E,onChange:H=>N(H.target.value),placeholder:"Ej: 2",className:"w-full bg-zinc-800 p-3 pr-24 rounded-xl",required:!0}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 text-sm",children:"ml (dosis total)"})]})]}),k&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:k})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-brand-green text-white font-bold rounded-lg",children:n?"Actualizar Producto":"Guardar Producto"})]})]})};function y$e(){const{products:t,addProduct:e,updateProduct:n,deleteProduct:r}=Yt(),[i,a]=P.useState(!1),[s,o]=P.useState(void 0),[l,u]=P.useState(null),[A,d]=P.useState("Todos"),f=S=>{o(S),a(!0)},h=()=>{a(!1),o(void 0)},p=async S=>{s!=null&&s.id?await n(s.id,S):await e(S),h()},m=async()=>{l!=null&&l.id&&await r(l.id),u(null)},v=P.useMemo(()=>{const S=new Set(t.map(E=>E.category).filter(Boolean));return["Todos",...Array.from(S).sort()]},[t]),g=P.useMemo(()=>A==="Todos"?t:t.filter(S=>S.category===A),[t,A]),y=S=>{if(!S.price||!S.presentationValue||S.presentationValue===0)return"N/A";const E=S.presentationUnit==="L"?S.presentationValue*1e3:S.presentationValue;return E===0?"N/A":`$${(S.price/E).toFixed(3)} / ml`},x=S=>S.dosageType==="fixed"?`${S.dosageFixed} ml (fija)`:S.dosageType==="per_kg"?`${S.dosagePerKg_ml} ml / ${S.dosagePerKg_kg} Kg`:"No especificada";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Inventario de Productos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Gestin de Insumos Sanitarios"})]}),c.jsxs("button",{onClick:()=>f(),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:opacity-90 text-black font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(na,{size:18})," Aadir Nuevo Producto"]}),c.jsxs("div",{className:"space-y-2 pt-4",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-zinc-300",children:[c.jsx(xq,{size:18})," Filtrar por Categora"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(S=>c.jsx("button",{onClick:()=>d(S),className:`px-3 py-1.5 text-sm font-semibold rounded-full transition-colors ${A===S?"bg-brand-blue text-white":"bg-zinc-700 text-zinc-300"}`,children:S},S))})]}),c.jsx("div",{className:"space-y-3 pt-4",children:g.length>0?g.map(S=>c.jsx("div",{className:"bg-dashboard-surface rounded-2xl p-4 border border-brand-border",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:S.name}),c.jsx("p",{className:"text-sm text-zinc-400",children:S.presentationValue?`${S.presentationValue} ${S.presentationUnit}`:"Sin presentacin"}),c.jsxs("div",{className:"mt-2 flex items-center flex-wrap gap-x-4 gap-y-1 text-xs",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(lp,{size:14})," ",x(S)]}),c.jsxs("span",{className:"flex items-center gap-1 font-semibold text-amber-400",children:[c.jsx(Dl,{size:14})," ",y(S)]})]})]}),c.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[c.jsx("button",{onClick:()=>f(S),className:"p-2 text-zinc-400 hover:text-brand-orange transition-colors",children:c.jsx(yf,{size:18})}),c.jsx("button",{onClick:()=>u(S),className:"p-2 text-zinc-400 hover:text-brand-red transition-colors",children:c.jsx(bc,{size:18})})]})]})},S.id)):c.jsxs("div",{className:"text-center py-10 bg-dashboard-surface rounded-2xl",children:[c.jsx("p",{className:"text-zinc-500 font-semibold",children:"No se encontraron productos."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:A==="Todos"?"Aade tu primer producto para empezar.":`No hay productos en la categora "${A}".`})]})})]}),c.jsx(An,{isOpen:i,onClose:h,title:s?"Editar Producto":"Aadir Producto",children:c.jsx(KO,{onSave:p,onCancel:h,existingProduct:s})}),c.jsx(C0,{isOpen:!!l,onClose:()=>u(null),onConfirm:m,title:"Eliminar Producto",message:`Ests seguro de que quieres eliminar "${l==null?void 0:l.name}"? Esta accin no se puede deshacer.`})]})}var OE,Sn,Rte,Ute,Gg,rh,vH,Qte,Hte,pS={},zte=[],b$e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Dd(t,e){for(var n in e)t[n]=e[n];return t}function Vte(t){var e=t.parentNode;e&&e.removeChild(t)}function Ze(t,e,n){var r,i,a,s={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?OE.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return e2(t,s,r,i,null)}function e2(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Rte};return i==null&&Sn.vnode!=null&&Sn.vnode(a),a}function VA(){return{current:null}}function Zi(t){return t.children}function x$e(t,e,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in e||mS(t,a,null,n[a],r);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===e[a]||mS(t,a,e[a],n[a],r)}function yH(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||b$e.test(e)?n:n+"px"}function mS(t,e,n,r,i){var a;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||yH(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||yH(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r||t.addEventListener(e,a?xH:bH,a):t.removeEventListener(e,a?xH:bH,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function bH(t){Gg=!0;try{return this.l[t.type+!1](Sn.event?Sn.event(t):t)}finally{Gg=!1}}function xH(t){Gg=!0;try{return this.l[t.type+!0](Sn.event?Sn.event(t):t)}finally{Gg=!1}}function Tl(t,e){this.props=t,this.context=e}function Pb(t,e){if(e==null)return t.__?Pb(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Pb(t):null}function $te(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return $te(t)}}function w$e(t){Gg?setTimeout(t):Qte(t)}function UT(t){(!t.__d&&(t.__d=!0)&&rh.push(t)&&!gS.__r++||vH!==Sn.debounceRendering)&&((vH=Sn.debounceRendering)||w$e)(gS)}function gS(){var t,e,n,r,i,a,s,o;for(rh.sort(function(l,u){return l.__v.__b-u.__v.__b});t=rh.shift();)t.__d&&(e=rh.length,r=void 0,i=void 0,s=(a=(n=t).__v).__e,(o=n.__P)&&(r=[],(i=Dd({},a)).__v=a.__v+1,WO(o,a,i,n.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,r,s??Pb(a),a.__h),Yte(r,a),a.__e!=s&&$te(a)),rh.length>e&&rh.sort(function(l,u){return l.__v.__b-u.__v.__b}));gS.__r=0}function Kte(t,e,n,r,i,a,s,o,l,u){var A,d,f,h,p,m,v,g=r&&r.__k||zte,y=g.length;for(n.__k=[],A=0;A<e.length;A++)if((h=n.__k[A]=(h=e[A])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?e2(null,h,null,null,h):Array.isArray(h)?e2(Zi,{children:h},null,null,null):h.__b>0?e2(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(f=g[A])===null||f&&h.key==f.key&&h.type===f.type)g[A]=void 0;else for(d=0;d<y;d++){if((f=g[d])&&h.key==f.key&&h.type===f.type){g[d]=void 0;break}f=null}WO(t,h,f=f||pS,i,a,s,o,l,u),p=h.__e,(d=h.ref)&&f.ref!=d&&(v||(v=[]),f.ref&&v.push(f.ref,null,h),v.push(d,h.__c||p,h)),p!=null?(m==null&&(m=p),typeof h.type=="function"&&h.__k===f.__k?h.__d=l=Wte(h,l,t):l=Gte(t,h,f,g,p,l),typeof n.type=="function"&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=Pb(f))}for(n.__e=m,A=y;A--;)g[A]!=null&&(typeof n.type=="function"&&g[A].__e!=null&&g[A].__e==n.__d&&(n.__d=qte(r).nextSibling),Jte(g[A],g[A]));if(v)for(A=0;A<v.length;A++)Xte(v[A],v[++A],v[++A])}function Wte(t,e,n){for(var r,i=t.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=t,e=typeof r.type=="function"?Wte(r,e,n):Gte(n,r,r,i,r.__e,e));return e}function vS(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){vS(n,e)}):e.push(t)),e}function Gte(t,e,n,r,i,a){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(n==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<r.length;l+=1)if(o==i)break e;t.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function qte(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=qte(n)))return r}return null}function WO(t,e,n,r,i,a,s,o,l){var u,A,d,f,h,p,m,v,g,y,x,S,E,N,_,B=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,o=e.__e=n.__e,e.__h=null,a=[o]),(u=Sn.__b)&&u(e);try{e:if(typeof B=="function"){if(v=e.props,g=(u=B.contextType)&&r[u.__c],y=u?g?g.props.value:u.__:r,n.__c?m=(A=e.__c=n.__c).__=A.__E:("prototype"in B&&B.prototype.render?e.__c=A=new B(v,y):(e.__c=A=new Tl(v,y),A.constructor=B,A.render=S$e),g&&g.sub(A),A.props=v,A.state||(A.state={}),A.context=y,A.__n=r,d=A.__d=!0,A.__h=[],A._sb=[]),A.__s==null&&(A.__s=A.state),B.getDerivedStateFromProps!=null&&(A.__s==A.state&&(A.__s=Dd({},A.__s)),Dd(A.__s,B.getDerivedStateFromProps(v,A.__s))),f=A.props,h=A.state,A.__v=e,d)B.getDerivedStateFromProps==null&&A.componentWillMount!=null&&A.componentWillMount(),A.componentDidMount!=null&&A.__h.push(A.componentDidMount);else{if(B.getDerivedStateFromProps==null&&v!==f&&A.componentWillReceiveProps!=null&&A.componentWillReceiveProps(v,y),!A.__e&&A.shouldComponentUpdate!=null&&A.shouldComponentUpdate(v,A.__s,y)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(A.props=v,A.state=A.__s,A.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(j){j&&(j.__=e)}),x=0;x<A._sb.length;x++)A.__h.push(A._sb[x]);A._sb=[],A.__h.length&&s.push(A);break e}A.componentWillUpdate!=null&&A.componentWillUpdate(v,A.__s,y),A.componentDidUpdate!=null&&A.__h.push(function(){A.componentDidUpdate(f,h,p)})}if(A.context=y,A.props=v,A.__P=t,S=Sn.__r,E=0,"prototype"in B&&B.prototype.render){for(A.state=A.__s,A.__d=!1,S&&S(e),u=A.render(A.props,A.state,A.context),N=0;N<A._sb.length;N++)A.__h.push(A._sb[N]);A._sb=[]}else do A.__d=!1,S&&S(e),u=A.render(A.props,A.state,A.context),A.state=A.__s;while(A.__d&&++E<25);A.state=A.__s,A.getChildContext!=null&&(r=Dd(Dd({},r),A.getChildContext())),d||A.getSnapshotBeforeUpdate==null||(p=A.getSnapshotBeforeUpdate(f,h)),_=u!=null&&u.type===Zi&&u.key==null?u.props.children:u,Kte(t,Array.isArray(_)?_:[_],e,n,r,i,a,s,o,l),A.base=e.__e,e.__h=null,A.__h.length&&s.push(A),m&&(A.__E=A.__=null),A.__e=!1}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=C$e(n.__e,e,n,r,i,a,s,l);(u=Sn.diffed)&&u(e)}catch(j){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),Sn.__e(j,e,n)}}function Yte(t,e){Sn.__c&&Sn.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Sn.__e(r,n.__v)}})}function C$e(t,e,n,r,i,a,s,o){var l,u,A,d=n.props,f=e.props,h=e.type,p=0;if(h==="svg"&&(i=!0),a!=null){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){t=l,a[p]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),a=null,o=!1}if(h===null)d===f||o&&t.data===f||(t.data=f);else{if(a=a&&OE.call(t.childNodes),u=(d=n.props||pS).dangerouslySetInnerHTML,A=f.dangerouslySetInnerHTML,!o){if(a!=null)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(A||u)&&(A&&(u&&A.__html==u.__html||A.__html===t.innerHTML)||(t.innerHTML=A&&A.__html||""))}if(x$e(t,f,d,i,o),A)e.__k=[];else if(p=e.props.children,Kte(t,Array.isArray(p)?p:[p],e,n,r,i&&h!=="foreignObject",a,s,a?a[0]:n.__k&&Pb(n,0),o),a!=null)for(p=a.length;p--;)a[p]!=null&&Vte(a[p]);o||("value"in f&&(p=f.value)!==void 0&&(p!==t.value||h==="progress"&&!p||h==="option"&&p!==d.value)&&mS(t,"value",p,d.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==t.checked&&mS(t,"checked",p,d.checked,!1))}return t}function Xte(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Sn.__e(r,n)}}function Jte(t,e,n){var r,i;if(Sn.unmount&&Sn.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Xte(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Sn.__e(a,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Jte(r[i],e,n||typeof t.type!="function");n||t.__e==null||Vte(t.__e),t.__=t.__e=t.__d=void 0}function S$e(t,e,n){return this.constructor(t,n)}function Db(t,e,n){var r,i,a;Sn.__&&Sn.__(t,e),i=(r=!1)?null:e.__k,a=[],WO(e,t=e.__k=Ze(Zi,null,[t]),i||pS,pS,e.ownerSVGElement!==void 0,i?null:e.firstChild?OE.call(e.childNodes):null,a,i?i.__e:e.firstChild,r),Yte(a,t)}function E$e(t,e){var n={__c:e="__cC"+Hte++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(o){o.__e=!0,UT(o)})},this.sub=function(s){i.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),o&&o.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}OE=zte.slice,Sn={__e:function(t,e,n,r){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},Rte=0,Ute=function(t){return t!=null&&t.constructor===void 0},Gg=!1,Tl.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Dd({},this.state),typeof t=="function"&&(t=t(Dd({},n),this.props)),t&&Dd(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),UT(this))},Tl.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),UT(this))},Tl.prototype.render=Zi,rh=[],Qte=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,gS.__r=0,Hte=0;var Cu,o4,wH,Zte=[],l4=[],CH=Sn.__b,SH=Sn.__r,EH=Sn.diffed,_H=Sn.__c,BH=Sn.unmount;function _$e(){for(var t;t=Zte.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(t2),t.__H.__h.forEach(QT),t.__H.__h=[]}catch(e){t.__H.__h=[],Sn.__e(e,t.__v)}}Sn.__b=function(t){Cu=null,CH&&CH(t)},Sn.__r=function(t){SH&&SH(t);var e=(Cu=t.__c).__H;e&&(o4===Cu?(e.__h=[],Cu.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=l4,n.__N=n.i=void 0})):(e.__h.forEach(t2),e.__h.forEach(QT),e.__h=[])),o4=Cu},Sn.diffed=function(t){EH&&EH(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Zte.push(e)!==1&&wH===Sn.requestAnimationFrame||((wH=Sn.requestAnimationFrame)||B$e)(_$e)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==l4&&(n.__=n.__V),n.i=void 0,n.__V=l4})),o4=Cu=null},Sn.__c=function(t,e){e.some(function(n){try{n.__h.forEach(t2),n.__h=n.__h.filter(function(r){return!r.__||QT(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Sn.__e(r,n.__v)}}),_H&&_H(t,e)},Sn.unmount=function(t){BH&&BH(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{t2(r)}catch(i){e=i}}),n.__H=void 0,e&&Sn.__e(e,n.__v))};var NH=typeof requestAnimationFrame=="function";function B$e(t){var e,n=function(){clearTimeout(r),NH&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);NH&&(e=requestAnimationFrame(n))}function t2(t){var e=Cu,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Cu=e}function QT(t){var e=Cu;t.__c=t.__(),Cu=e}function N$e(t,e){for(var n in e)t[n]=e[n];return t}function jH(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function IH(t){this.props=t}(IH.prototype=new Tl).isPureReactComponent=!0,IH.prototype.shouldComponentUpdate=function(t,e){return jH(this.props,t)||jH(this.state,e)};var TH=Sn.__b;Sn.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),TH&&TH(t)};var j$e=Sn.__e;Sn.__e=function(t,e,n,r){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}j$e(t,e,n,r)};var kH=Sn.unmount;function ene(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=N$e({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return ene(r,e,n)})),t}function tne(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return tne(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function c4(){this.__u=0,this.t=null,this.__b=null}function nne(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Q1(){this.u=null,this.o=null}Sn.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),kH&&kH(t)},(c4.prototype=new Tl).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=nne(r.__v),a=!1,s=function(){a||(a=!0,n.__R=null,i?i(o):o())};n.__R=s;var o=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=tne(u,u.__c.__P,u.__c.__O)}var A;for(r.setState({__a:r.__b=null});A=r.t.pop();)A.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(s,s)},c4.prototype.componentWillUnmount=function(){this.t=[]},c4.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ene(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&Ze(Zi,null,t.fallback);return i&&(i.__h=null),[Ze(Zi,null,e.__a?null:t.children),i]};var PH=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function I$e(t){return this.getChildContext=function(){return t.context},t.children}function T$e(t){var e=this,n=t.i;e.componentWillUnmount=function(){Db(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Db(Ze(I$e,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function k$e(t,e){var n=Ze(T$e,{__v:t,i:e});return n.containerInfo=e,n}(Q1.prototype=new Tl).__a=function(t){var e=this,n=nne(e.__v),r=e.o.get(t);return r[0]++,function(i){var a=function(){e.props.revealOrder?(r.push(i),PH(e,t,r)):i()};n?n(a):a()}},Q1.prototype.render=function(t){this.u=null,this.o=new Map;var e=vS(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Q1.prototype.componentDidUpdate=Q1.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){PH(t,n,e)})};var P$e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,D$e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,O$e=typeof document<"u",F$e=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Tl.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Tl.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var DH=Sn.event;function L$e(){}function M$e(){return this.cancelBubble}function R$e(){return this.defaultPrevented}Sn.event=function(t){return DH&&(t=DH(t)),t.persist=L$e,t.isPropagationStopped=M$e,t.isDefaultPrevented=R$e,t.nativeEvent=t};var OH={configurable:!0,get:function(){return this.class}},FH=Sn.vnode;Sn.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in r={},n){var s=n[a];O$e&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in n&&s==null||(a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!F$e(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&D$e.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=s)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=vS(n.children).forEach(function(o){o.props.selected=r.value.indexOf(o.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=vS(n.children).forEach(function(o){o.props.selected=r.multiple?r.defaultValue.indexOf(o.props.value)!=-1:r.defaultValue==o.props.value})),t.props=r,n.class!=n.className&&(OH.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",OH))}t.$$typeof=P$e,FH&&FH(t)};var LH=Sn.__r;Sn.__r=function(t){LH&&LH(t),t.__c};const rne=[],HT=new Map;function ine(t){rne.push(t),HT.forEach(e=>{sne(e,t)})}function U$e(t){t.isConnected&&t.getRootNode&&ane(t.getRootNode())}function ane(t){let e=HT.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=H$e();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}HT.set(t,e),Q$e(e)}}function Q$e(t){for(const e of rne)sne(t,e)}function sne(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&n.insertRule(i+"}",r+a)})}let u4;function H$e(){return u4===void 0&&(u4=z$e()),u4}function z$e(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&ane(document);var V$e=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';ine(V$e);class GO{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function qO(t){t.parentNode&&t.parentNode.removeChild(t)}function ao(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if($$e(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function $$e(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function K$e(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let a=n[i].querySelectorAll(e);for(let s=0;s<a.length;s+=1)r.push(a[s])}return r}const W$e=/(top|left|right|bottom|width|height)$/i;function ry(t,e){for(let n in e)one(t,n,e[n])}function one(t,e,n){n==null?t.style[e]="":typeof n=="number"&&W$e.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function lne(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let MH=0;function FE(){return MH+=1,"fc-dom-"+MH}function LE(t){t.preventDefault()}function G$e(t,e){return n=>{let r=ao(n.target,t);r&&e.call(r,n,r)}}function cne(t,e,n,r){let i=G$e(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function q$e(t,e,n,r){let i;return cne(t,"mouseover",e,(a,s)=>{if(s!==i){i=s,n(a,s);let o=l=>{i=null,r(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const RH=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Y$e(t,e){let n=r=>{e(r),RH.forEach(i=>{t.removeEventListener(i,n)})};RH.forEach(r=>{t.addEventListener(r,n)})}function une(t){return Object.assign({onClick:t},Ane(t))}function Ane(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let UH=0;function bp(){return UH+=1,String(UH)}function YO(){document.body.classList.add("fc-not-allowed")}function XO(){document.body.classList.remove("fc-not-allowed")}function X$e(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",LE)}function J$e(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",LE)}function Z$e(t){t.addEventListener("contextmenu",LE)}function eKe(t){t.removeEventListener("contextmenu",LE)}function tKe(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function nKe(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=rKe(t,e,n[r]),i)return i;return 0}function rKe(t,e,n){return n.func?n.func(t,e):iKe(t[n.field],e[n.field])*(n.order||1)}function iKe(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function A4(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function iy(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,a)=>r.replace("$"+a,i||""),t):n}function aKe(t,e){return t-e}function d4(t){return t%1===0}function sKe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const oKe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function kr(t,e){return typeof t=="string"?lKe(t):typeof t=="object"&&t?QH(t):typeof t=="number"?QH({[e||"milliseconds"]:t}):null}function lKe(t){let e=oKe.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function QH(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function cKe(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function uKe(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function AKe(t){return Hm(t)/365}function dKe(t){return Hm(t)/30}function Hm(t){return Ob(t)/864e5}function Ob(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function zT(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Af(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const fKe=["sun","mon","tue","wed","thu","fri","sat"];function HH(t,e){let n=Od(t);return n[2]+=e*7,Qo(n)}function As(t,e){let n=Od(t);return n[2]+=e,Qo(n)}function df(t,e){let n=Od(t);return n[6]+=e,Qo(n)}function hKe(t,e){return E0(t,e)/7}function E0(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function pKe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function mKe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function gKe(t,e){return(e.valueOf()-t.valueOf())/1e3}function vKe(t,e){let n=Ti(t),r=Ti(e);return{years:0,months:0,days:Math.round(E0(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function yKe(t,e){let n=yS(t,e);return n!==null&&n%7===0?n/7:null}function yS(t,e){return Fd(t)===Fd(e)?Math.round(E0(t,e)):null}function Ti(t){return Qo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function bKe(t){return Qo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function xKe(t){return Qo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function wKe(t){return Qo([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function CKe(t,e,n){let r=t.getUTCFullYear(),i=f4(t,r,e,n);if(i<1)return f4(t,r-1,e,n);let a=f4(t,r+1,e,n);return a>=1?Math.min(i,a):i}function f4(t,e,n,r){let i=Qo([e,0,1+SKe(e,n,r)]),a=Ti(t),s=Math.round(E0(i,a));return Math.floor(s/7)+1}function SKe(t,e,n){let r=7+e-n;return-((7+Qo([t,0,r]).getUTCDay()-e)%7)+r-1}function zH(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function VH(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Od(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Qo(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function dne(t){return!isNaN(t.valueOf())}function Fd(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function EKe(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",ZO(e,!0)))),r}function JO(t){return t.toISOString().replace(/T.*$/,"")}function _Ke(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function ZO(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=Math.round(r%60);return e?`${n+A4(i,2)}:${A4(a,2)}`:`GMT${n}${i}${a?`:${A4(a,2)}`:""}`}function _r(t,e,n){let r,i;return function(...a){if(!r)i=t.apply(this,a);else if(!Af(r,a)){let s=t.apply(this,a);(!e||!e(s,i))&&(i=s)}return r=a,i}}function n2(t,e,n){let r,i;return a=>(r?au(r,a)||(i=t.call(this,a)):i=t.call(this,a),r=a,i)}const h4={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},bS={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},H1=/\s*([ap])\.?m\.?/i,BKe=/,/g,NKe=/\s+/g,jKe=/\u200e/g,IKe=/UTC|GMT/;class TKe{constructor(e){let n={},r={},i=9;for(let a in e)a in h4?(r[a]=e[a],h4[a]<9&&(i=Math.min(h4[a],i))):(n[a]=e[a],a in bS&&(i=Math.min(bS[a],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=_r($H)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:a,extendedSettings:s}=this,o=LKe(e.marker,n.marker,r.calendarSystem);if(!o)return this.format(e,r);let l=o;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let u=this.format(e,r),A=this.format(n,r);if(u===A)return u;let d=MKe(a,l),f=$H(d,s,r),h=f(e),p=f(n),m=RKe(u,h,A,p),v=s.separator||i||r.defaultSeparator||"";return m?m.before+h+v+p+m.after:u+v+A}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function $H(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>ZO(i.timeZoneOffset):r===0&&e.week?i=>FKe(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):kKe(t,e,n)}function kKe(t,e,n){t=Object.assign({},t),e=Object.assign({},e),PKe(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(n.locale.codes,a)}return a=>{let{marker:s}=a,o;i&&!s.getUTCMinutes()?o=i:o=r;let l=o.format(s);return DKe(l,a,t,e,n)}}function PKe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function DKe(t,e,n,r,i){return t=t.replace(jKe,""),n.timeZoneName==="short"&&(t=OKe(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":ZO(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(BKe,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(H1,"").trim():r.meridiem==="narrow"?t=t.replace(H1,(a,s)=>s.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(H1,(a,s)=>`${s.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(H1,a=>a.toLocaleLowerCase())),t=t.replace(NKe," "),t=t.trim(),t}function OKe(t,e){let n=!1;return t=t.replace(IKe,()=>(n=!0,e)),n||(t+=` ${e}`),t}function FKe(t,e,n,r,i){let a=[];return i==="long"?a.push(n):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&a.reverse(),a.join("")}function LKe(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Fd(t)!==Fd(e)?1:0}function MKe(t,e){let n={};for(let r in t)(!(r in bS)||bS[r]<=e)&&(n[r]=t[r]);return n}function RKe(t,e,n,r){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let s=t.substr(0,a);i=a+e.length;let o=t.substr(i),l=0;for(;l<n.length;){let u=n.indexOf(r,l);if(u===-1)break;let A=n.substr(0,u);l=u+r.length;let d=n.substr(l);if(s===A&&o===d)return{before:s,after:o}}}return null}function KH(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function xS(t,e,n,r){let i=KH(t,n.calendarSystem),a=e?KH(e,n.calendarSystem):null;return{date:i,start:i,end:a,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class UKe{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,xS(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,xS(e,n,r,i))}}class QKe{constructor(e){this.func=e}format(e,n,r){return this.func(xS(e,null,n,r))}formatRange(e,n,r,i){return this.func(xS(e,n,r,i))}}function cs(t){return typeof t=="object"&&t?new TKe(t):typeof t=="string"?new UKe(t):typeof t=="function"?new QKe(t):null}const WH={navLinkDayClick:Je,navLinkWeekClick:Je,duration:kr,bootstrapFontAwesome:Je,buttonIcons:Je,customButtons:Je,defaultAllDayEventDuration:kr,defaultTimedEventDuration:kr,nextDayThreshold:kr,scrollTime:kr,scrollTimeReset:Boolean,slotMinTime:kr,slotMaxTime:kr,dayPopoverFormat:cs,slotDuration:kr,snapDuration:kr,headerToolbar:Je,footerToolbar:Je,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:cs,dayHeaderClassNames:Je,dayHeaderContent:Je,dayHeaderDidMount:Je,dayHeaderWillUnmount:Je,dayCellClassNames:Je,dayCellContent:Je,dayCellDidMount:Je,dayCellWillUnmount:Je,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Je,weekNumbers:Boolean,weekNumberClassNames:Je,weekNumberContent:Je,weekNumberDidMount:Je,weekNumberWillUnmount:Je,editable:Boolean,viewClassNames:Je,viewDidMount:Je,viewWillUnmount:Je,nowIndicator:Boolean,nowIndicatorSnap:Je,nowIndicatorClassNames:Je,nowIndicatorContent:Je,nowIndicatorDidMount:Je,nowIndicatorWillUnmount:Je,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Je,locale:Je,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Je,eventOrder:tKe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Je,contentHeight:Je,direction:String,weekNumberFormat:cs,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Je,initialDate:Je,now:Je,eventDataTransform:Je,stickyHeaderDates:Je,stickyFooterScrollbar:Je,viewHeight:Je,defaultAllDay:Boolean,eventSourceFailure:Je,eventSourceSuccess:Je,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Je,eventConstraint:Je,eventAllow:Je,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Je,eventContent:Je,eventDidMount:Je,eventWillUnmount:Je,selectConstraint:Je,selectOverlap:Je,selectAllow:Je,droppable:Boolean,unselectCancel:String,slotLabelFormat:Je,slotLaneClassNames:Je,slotLaneContent:Je,slotLaneDidMount:Je,slotLaneWillUnmount:Je,slotLabelClassNames:Je,slotLabelContent:Je,slotLabelDidMount:Je,slotLabelWillUnmount:Je,dayMaxEvents:Je,dayMaxEventRows:Je,dayMinWidth:Number,slotLabelInterval:kr,allDayText:String,allDayClassNames:Je,allDayContent:Je,allDayDidMount:Je,allDayWillUnmount:Je,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:cs,rerenderDelay:Number,moreLinkText:Je,moreLinkHint:Je,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Je,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:kr,hiddenDays:Je,fixedWeekCount:Boolean,validRange:Je,visibleRange:Je,titleFormat:Je,eventInteractive:Boolean,noEventsText:String,viewHint:Je,navLinkHint:Je,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Je,moreLinkClassNames:Je,moreLinkContent:Je,moreLinkDidMount:Je,moreLinkWillUnmount:Je,monthStartFormat:cs,handleCustomRendering:Je,customRenderingMetaMap:Je,customRenderingReplaces:Boolean},ay={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},GH={datesSet:Je,eventsSet:Je,eventAdd:Je,eventChange:Je,eventRemove:Je,windowResize:Je,eventClick:Je,eventMouseEnter:Je,eventMouseLeave:Je,select:Je,unselect:Je,loading:Je,_unmount:Je,_beforeprint:Je,_afterprint:Je,_noEventDrop:Je,_noEventResize:Je,_resize:Je,_scrollRequest:Je},qH={buttonText:Je,buttonHints:Je,views:Je,plugins:Je,initialEvents:Je,events:Je,eventSources:Je},Zf={headerToolbar:eh,footerToolbar:eh,buttonText:eh,buttonHints:eh,buttonIcons:eh,dateIncrement:eh,plugins:z1,events:z1,eventSources:z1,resources:z1};function eh(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?au(t,e):t===e}function z1(t,e){return Array.isArray(t)&&Array.isArray(e)?Af(t,e):t===e}const HKe={type:String,component:Je,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Je,usesMinMaxTime:Boolean,classNames:Je,content:Je,didMount:Je,willUnmount:Je};function p4(t){return tF(t,Zf)}function eF(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function Je(t){return t}const{hasOwnProperty:wS}=Object.prototype;function tF(t,e){let n={};if(e){for(let r in e)if(e[r]===eh){let i=[];for(let a=t.length-1;a>=0;a-=1){let s=t[a][r];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){n[r]=s;break}}i.length&&(n[r]=tF(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let a in i)a in n||(n[a]=i[a])}return n}function Jh(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function xp(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function fne(t){let e={};for(let n of t)e[n]=!0;return e}function nF(t){let e=[];for(let n in t)e.push(t[n]);return e}function au(t,e){if(t===e)return!0;for(let n in t)if(wS.call(t,n)&&!(n in e))return!1;for(let n in e)if(wS.call(e,n)&&t[n]!==e[n])return!1;return!0}const zKe=/^on[A-Z]/;function VKe(t,e){const n=$Ke(t,e);for(let r of n)if(!zKe.test(r))return!1;return!0}function $Ke(t,e){let n=[];for(let r in t)wS.call(t,r)&&(r in e||n.push(r));for(let r in e)wS.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function m4(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&KKe(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function KKe(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function WKe(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let a=e;a<n;a+=r){let s=t[a];s!==void 0&&i.push(s)}return i}let hne={};function GKe(t,e){hne[t]=e}function qKe(t){return new hne[t]}class YKe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Qo(e)}markerToArray(e){return Od(e)}}GKe("gregory",YKe);const XKe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function JKe(t){let e=XKe.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(dne(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class ZKe{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=qKe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Qo(zH(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Qo(e)),n===null||!dne(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=JKe(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Fd(e)===Fd(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Fd(e)===Fd(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=yKe(e,n),r!==null?{unit:"week",value:r}:(r=yS(e,n),r!==null?{unit:"day",value:r}:(r=pKe(e,n),d4(r)?{unit:"hour",value:r}:(r=mKe(e,n),d4(r)?{unit:"minute",value:r}:(r=gKe(e,n),d4(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/AKe(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/dKe(r):r.days&&(i=yS(e,n),i!==null)?i/Hm(r):(n.valueOf()-e.valueOf())/Ob(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Ti(e):n==="hour"?bKe(e):n==="minute"?xKe(e):n==="second"?wKe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):CKe(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=df(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),EKe(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Qo(zH(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Qo(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-VH(Od(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Od(e)):null}toDate(e,n){return this.timeZone==="local"?VH(Od(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Od(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Nx{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Nx.prototype.classes={};Nx.prototype.iconClasses={};Nx.prototype.baseIconClass="";Nx.prototype.iconOverridePrefix="";function CS(t){t();let e=Sn.debounceRendering,n=[];function r(i){n.push(i)}for(Sn.debounceRendering=r,Db(Ze(eWe,{}),document.createElement("div"));n.length;)n.shift()();Sn.debounceRendering=e}class eWe extends Tl{render(){return Ze("div",{})}componentDidMount(){this.setState({})}}function pne(t){let e=E$e(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let a=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&a.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{a.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{a.splice(a.indexOf(s),1),o&&o.call(s)}}}return i},e}class tWe{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const wp=pne({});function nWe(t,e,n,r,i,a,s,o,l,u,A,d,f,h){return{dateEnv:i,nowManager:a,options:n,pluginHooks:o,emitter:A,dispatch:l,getCurrentData:u,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(p){A.on("_resize",p)},removeResizeHandler(p){A.off("_resize",p)},createScrollResponder(p){return new tWe(p,A,kr(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:h}}class Cp extends Tl{shouldComponentUpdate(e,n){return!m4(this.props,e,this.propEquality)||!m4(this.state,n,this.stateEquality)}safeSetState(e){m4(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Cp.addPropsEquality=rWe;Cp.addStateEquality=iWe;Cp.contextType=wp;Cp.prototype.propEquality={};Cp.prototype.stateEquality={};class Hi extends Cp{}Hi.contextType=wp;function rWe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function iWe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Ku(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class rF extends Hi{constructor(){super(...arguments),this.id=bp(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!VT(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Ku(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:a,renderProps:s}=e,o=mne(e,[],this.handleEl);let l=!1,u,A=[],d;if(i!=null){const f=typeof i=="function"?i(s,Ze):i;if(f===!0)l=!0;else{const h=f&&typeof f=="object";h&&"html"in f?o.dangerouslySetInnerHTML={__html:f.html}:h&&"domNodes"in f?A=Array.prototype.slice.call(f.domNodes):(h?Ute(f):typeof f!="function")?u=f:d=f}}else l=!VT(e.generatorName,r);return l&&a&&(u=a(s)),this.queuedDomNodes=A,this.currentGeneratorMeta=d,Ze(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:s}=i.options;if(a){const o=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:s==null?void 0:s[r.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},r),{elClasses:(r.elClasses||[]).filter(aWe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Af(e,n)){n.forEach(qO);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}rF.addPropsEquality({elClasses:Af,elStyle:au,elAttrs:VKe,renderProps:au});function VT(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function mne(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function aWe(t){return!!t}const gne=pne(0);class td extends Tl{constructor(){super(...arguments),this.InnerContent=sWe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Ku(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=oWe(e.classNameGenerator,e.renderProps);if(e.children){const r=mne(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?Ze(e.elTag,r,i):i}else return Ze(rF,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}td.contextType=gne;function sWe(t,e){const n=t.props;return Ze(rF,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function oWe(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class YH extends Hi{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return Ze(td,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...vne(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function vne(t){return[`fc-${t.type}-view`,"fc-view"]}function lWe(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function XH(t,e){let n=[],{start:r}=e,i,a;for(t.sort(cWe),i=0;i<t.length;i+=1)a=t[i],a.start>r&&n.push({start:r,end:a.start}),a.end>r&&(r=a.end);return r<e.end&&n.push({start:r,end:e.end}),n}function cWe(t,e){return t.start.valueOf()-e.start.valueOf()}function qg(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function uWe(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function iF(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function ME(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Zd(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function AWe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function yne(t){let e=Math.floor(E0(t.start,t.end))||1,n=Ti(t.start),r=As(n,e);return{start:n,end:r}}function bne(t,e=kr(0)){let n=null,r=null;if(t.end){r=Ti(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Ob(e)&&(r=As(r,1))}return t.start&&(n=Ti(t.start),r&&r<=n&&(r=As(n,1))),{start:n,end:r}}function Em(t,e,n,r){return r==="year"?kr(n.diffWholeYears(t,e),"year"):r==="month"?kr(n.diffWholeMonths(t,e),"month"):vKe(t,e)}class xne{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,a=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,r)}build(e,n,r=!0){let{props:i}=this,a,s,o,l,u,A;return a=this.buildValidRange(),a=this.trimHiddenDays(a),r&&(e=AWe(e,a)),s=this.buildCurrentRangeInfo(e,n),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=qg(u,s.range)),u=this.adjustActiveRange(u),u=qg(u,a),A=iF(s.range,a),Zd(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:A,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,a=null,s=null,o;return r.duration?(i=r.duration,a=r.durationUnit,s=this.buildRangeFromDuration(e,n,i,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,n,o)):(s=this.buildCustomVisibleRange(e))?a=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=zT(i).unit,s=this.buildRangeFromDuration(e,n,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return kr({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:a}=this.props,{start:s,end:o}=e;return r&&(Hm(i)<0&&(s=Ti(s),s=n.add(s,i)),Hm(a)>1&&(o=Ti(o),o=As(o,-1),o=n.add(o,a))),{start:s,end:o}}buildRangeFromDuration(e,n,r,i){let{dateEnv:a,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:d}=this.props;d&&Ob(d)<Ob(r)?s=zT(d).unit:s=i}Hm(r)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,n),o=Ti(o));function A(){o=a.startOf(e,s),l=a.add(o,r),u={start:o,end:l}}return A(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),A()),u}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e,l;a&&(o=i.startOf(o,a)),o=Ti(o),o=this.skipHiddenDays(o,n),l=o;do l=As(l,1),this.isHiddenDay(l)||(s+=1);while(s<r);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?kr(1,r):e||kr({days:1}))}refineRange(e){if(e){let n=lWe(e,this.props.dateEnv);return n&&(n=bne(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=As(e,n);return e}}function aF(t,e,n,r){return{instanceId:bp(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function dWe(t,e,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(t,n);if(a){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=a.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function Zh(t,e,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:s,instances:o}=t;o=Jh(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:A}=u.recurringDef;A||(A=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let d=fWe(u,A,e,r,i.recurringTypes);for(let f of d){let h=aF(l,{start:f,end:r.add(f,A)});o[h.instanceId]=h}}}return{defs:s,instances:o}}function fWe(t,e,n,r,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(s=s.map(Ti)),s}const r2={id:String,groupId:String,title:String,url:String,interactive:Boolean},wne={start:Je,end:Je,date:Je,allDay:Boolean},hWe=Object.assign(Object.assign(Object.assign({},r2),wne),{extendedProps:Je});function Cne(t,e,n,r,i=sF(n),a,s){let{refined:o,extra:l}=Sne(t,n,i),u=mWe(e,n),A=dWe(o,u,n.dateEnv,n.pluginHooks.recurringTypes);if(A){let f=$T(o,l,e?e.sourceId:"",A.allDay,!!A.duration,n,a);return f.recurringDef={typeId:A.typeId,typeData:A.typeData,duration:A.duration},{def:f,instance:null}}let d=pWe(o,u,n,r);if(d){let f=$T(o,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,a),h=aF(f.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return s&&f.publicId&&s[f.publicId]&&(h.instanceId=s[f.publicId]),{def:f,instance:h}}return null}function Sne(t,e,n=sF(e)){return eF(t,n)}function sF(t){return Object.assign(Object.assign(Object.assign({},SS),hWe),t.pluginHooks.eventRefiners)}function $T(t,e,n,r,i,a,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||bp(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:ES(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function pWe(t,e,n,r){let{allDay:i}=t,a,s=null,o=!1,l,u=null,A=t.start!=null?t.start:t.date;if(a=n.dateEnv.createMarkerMeta(A),a)s=a.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=Ti(s)),l&&(u=l.marker,i&&(u=Ti(u)),s&&u<=s&&(u=null)),u?o=!0:r||(o=n.options.forceEventDuration||!1,u=n.dateEnv.add(s,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function mWe(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Fb(t,e,n,r,i,a){let s=Xc(),o=sF(n);for(let l of t){let u=Cne(l,e,n,r,o,i,a);u&&KT(u,s)}return s}function KT(t,e=Xc()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function oF(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=RE(t,a=>gWe(r,a));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return Xc()}function gWe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Xc(){return{defs:{},instances:{}}}function lF(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function RE(t,e){let n=Jh(t.defs,e),r=Jh(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function vWe(t,e){let{defs:n,instances:r}=t,i={},a={};for(let s in n)e.defs[s]||(i[s]=n[s]);for(let s in r)!e.instances[s]&&i[r[s].defId]&&(a[s]=r[s]);return{defs:i,instances:a}}function yWe(t,e){return Array.isArray(t)?Fb(t,null,e,!0):typeof t=="object"&&t?Fb([t],null,e,!0):t!=null?String(t):null}function JH(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const SS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Je,overlap:Je,allow:Je,className:JH,classNames:JH,color:String,backgroundColor:String,borderColor:String,textColor:String},bWe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function ES(t,e){let n=yWe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function xWe(t){return t.reduce(wWe,bWe)}function wWe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const CWe={id:String,defaultAllDay:Boolean,url:String,format:String,events:Je,eventDataTransform:Je,success:Je,failure:Je};function Ene(t,e,n=_ne(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:a}=eF(r,n),s=SWe(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:bp(),sourceDefId:s.sourceDefId,meta:s.meta,ui:ES(i,e),extendedProps:a}}return null}function _ne(t){return Object.assign(Object.assign(Object.assign({},SS),CWe),t.pluginHooks.eventSourceRefiners)}function SWe(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let a=n[r].parseMeta(t);if(a)return{sourceDefId:r,meta:a}}return null}function EWe(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return _We(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return BWe(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return NWe(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return lF(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Zh(t,r.activeRange,i):t;case"REMOVE_EVENTS":return vWe(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Nne(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return RE(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Xc();default:return t}}function _We(t,e,n,r,i,a){if(e&&n===e.latestFetchId){let s=Fb(Bne(i,e,a),e,a);return r&&(s=Zh(s,r,a)),lF(Nne(t,e.sourceId),s)}return t}function BWe(t,e,n,r,i){const{defIdMap:a,instanceIdMap:s}=IWe(t);let o=Fb(Bne(n,e,i),e,i,!1,a,s);return Zh(o,r,i)}function Bne(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=ZH(t,i)),r&&(t=ZH(t,r)),t}function ZH(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function NWe(t,e,n,r){return n&&(e=Zh(e,n,r)),lF(t,e)}function ez(t,e,n){let{defs:r}=t,i=xp(t.instances,a=>r[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:n.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:n.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:a.forcedEndTzo}));return{defs:r,instances:i}}function Nne(t,e){return RE(t,n=>n.sourceId!==e)}function jWe(t,e){return{defs:t.defs,instances:Jh(t.instances,n=>!e[n.instanceId])}}function IWe(t){const{defs:e,instances:n}=t,r={},i={};for(let a in e){const s=e[a],{publicId:o}=s;o&&(r[o]=a)}for(let a in n){const s=n[a],o=e[s.defId],{publicId:l}=o;l&&(i[l]=a)}return{defIdMap:r,instanceIdMap:i}}class UE{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){TWe(this.handlers,e,n)}off(e,n){kWe(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],r);for(let s of a)s.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function TWe(t,e,n){(t[e]||(t[e]=[])).push(n)}function kWe(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const PWe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function DWe(t,e){return Fb(OWe(t),null,e)}function OWe(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},PWe),n)),e}function jne(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},cF(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function FWe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function cF(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,XWe(t,e.dateEnv)),n}function tz(t,e,n){let{dateEnv:r,options:i}=n,a=e;return t?(a=Ti(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function uF(t,e,n,r){let i=_S(t.defs,e),a=Xc();for(let s in t.defs){let o=t.defs[s];a.defs[s]=LWe(o,i[s],n,r)}for(let s in t.instances){let o=t.instances[s],l=a.defs[o.defId];a.instances[s]=MWe(o,l,i[o.defId],n,r)}return a}function LWe(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let s of r.pluginHooks.eventDefMutationAppliers)s(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function MWe(t,e,n,r,i){let{dateEnv:a}=i,s=r.standardProps&&r.standardProps.allDay===!0,o=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=yne(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:a.add(l.range.start,r.datesDelta),end:a.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:a.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,r.endDelta)}),o&&(l.range={start:l.range.start,end:tz(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:Ti(l.range.start),end:Ti(l.range.end)}),l.range.end<l.range.start&&(l.range.end=tz(e.allDay,l.range.start,i)),l}class qp{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ki{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in wne)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=r2[e](n),this.mutate({standardProps:{publicId:n}});else if(e in r2)n=r2[e](n),this.mutate({standardProps:{[e]:n}});else if(e in SS){let r=SS[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let a=this._instance.range,s=Em(a.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let a=Em(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,a={allDay:r.allDay},s=i.createMarker(e),o;if(s&&!(n!=null&&(o=i.createMarker(n),!o))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=yne(l));let u=Em(l.start,s,i,r.granularity);if(o){let A=Em(l.end,o,i,r.granularity);cKe(u,A)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:A,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(e){let n=kr(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=kr(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=kr(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=cs(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),s=oF(a,n.instanceId);s=uF(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new ki(i,r,n);this._def=s.defs[r.defId],this._instance=s.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Ih(s,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,n=Ine(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new qp(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:a}=this,s={allDay:n.allDay};return n.title&&(s.title=n.title),i&&(s.start=i),a&&(s.end=a),n.publicId&&(s.id=n.publicId),n.groupId&&(s.groupId=n.groupId),n.url&&(s.url=n.url),r.display&&r.display!=="auto"&&(s.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?s.color=r.backgroundColor:(r.backgroundColor&&(s.backgroundColor=r.backgroundColor),r.borderColor&&(s.borderColor=r.borderColor)),r.textColor&&(s.textColor=r.textColor),r.classNames.length&&(s.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,n.extendedProps):s.extendedProps=n.extendedProps),s}toJSON(){return this.toPlainObject()}}function Ine(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Ih(t,e,n){let{defs:r,instances:i}=t,a=[],s=n?n.instanceId:"";for(let o in i){let l=i[o],u=r[l.defId];l.instanceId!==s&&a.push(new ki(e,u,l))}return a}function nz(t,e,n,r){let i={},a={},s={},o=[],l=[],u=_S(t.defs,e);for(let A in t.defs){let d=t.defs[A];u[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],s[d.groupId]||(s[d.groupId]=d)):a[A]=[])}for(let A in t.instances){let d=t.instances[A],f=t.defs[d.defId],h=u[f.defId],p=d.range,m=!f.allDay&&r?bne(p,r):p,v=qg(m,n);v&&(h.display==="inverse-background"?f.groupId?i[f.groupId].push(v):a[d.defId].push(v):h.display!=="none"&&(h.display==="background"?o:l).push({def:f,ui:h,instance:d,range:v,isStart:m.start&&m.start.valueOf()===v.start.valueOf(),isEnd:m.end&&m.end.valueOf()===v.end.valueOf()}))}for(let A in i){let d=i[A],f=XH(d,n);for(let h of f){let p=s[A],m=u[p.defId];o.push({def:p,ui:m,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let A in a){let d=a[A],f=XH(d,n);for(let h of f)o.push({def:t.defs[A],ui:u[A],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function rz(t,e){t.fcSeg=e}function Yg(t){return t.fcSeg||t.parentNode.fcSeg||null}function _S(t,e){return xp(t,n=>Tne(n,e))}function Tne(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),xWe(n)}function RWe(t,e){let n=t.map(UWe);return n.sort((r,i)=>nKe(r,i,e)),n.map(r=>r._seg)}function UWe(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:t})}function QWe(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:a}=t.eventRange,s=a.startEditable;for(let o of r)s=o(s,i,a,e);return s}function HWe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function zWe(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function kne(t,e,n,r,i,a,s){let{dateEnv:o,options:l}=n,{displayEventTime:u,displayEventEnd:A}=l,d=t.eventRange.def,f=t.eventRange.instance;u==null&&(u=r!==!1),A==null&&(A=i!==!1);let h=f.range.start,p=f.range.end,m=t.start||t.eventRange.range.start,v=t.end||t.eventRange.range.end,g=Ti(h).valueOf()===Ti(m).valueOf(),y=Ti(df(p,-1)).valueOf()===Ti(df(v,-1)).valueOf();return u&&!d.allDay&&(g||y)?(m=g?h:m,v=y?p:v,A&&d.hasEnd?o.formatRange(m,v,e,{forcedStartTzo:f.forcedStartTzo,forcedEndTzo:f.forcedEndTzo}):o.format(m,e,{forcedTzo:f.forcedStartTzo})):""}function sy(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&Zd(e,r.start)}}function VWe(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function $We(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function Pne(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=n.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?Ane(l=>{a.trigger("eventClick",{el:l.target,event:new ki(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const KWe={start:Je,end:Je,allDay:Boolean};function WWe(t,e,n){let r=GWe(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function GWe(t,e){let{refined:n,extra:r}=eF(t,KWe),i=n.start?e.createMarkerMeta(n.start):null,a=n.end?e.createMarkerMeta(n.end):null,{allDay:s}=n;return s==null&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},r)}function qWe(t,e){return uWe(t.range,e.range)&&t.allDay===e.allDay&&YWe(t,e)}function YWe(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function XWe(t,e){return Object.assign(Object.assign({},One(t.range,e,t.allDay)),{allDay:t.allDay})}function Dne(t,e,n){return Object.assign(Object.assign({},One(t,e,n)),{timeZone:e.timeZone})}function One(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function JWe(t,e,n){let r=Sne({editable:!1},n),i=$T(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Tne(i,e),instance:aF(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function ZWe(t,e,n){let r=!1,i=function(o){r||(r=!0,e(o))},a=function(o){r||(r=!0,n(o))},s=t(i,a);s&&typeof s.then=="function"&&s.then(i,a)}class iz extends Error{constructor(e,n){super(e),this.response=n}}function eGe(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new iz("Failure parsing JSON",i)});throw new iz("Request failed",i)})}let g4;function Fne(){return g4==null&&(g4=tGe()),g4}function tGe(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class nGe extends Hi{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{CS(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{CS(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",a=!i&&n.height!=null?n.height:"",s=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return Fne()||s.push("fc-liquid-hack"),e.children(s,a,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class _0{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function rGe(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function AF(t){return{[t.component.uid]:t}}const WT={};class QE extends Tl{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let a,s;return i?(a=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(a,kr(1,e.unit)).valueOf()-r.valueOf()):(a=r,s=1e3*60),s=Math.min(1e3*60*60*24,s),{state:{nowDate:a,todayRange:iGe(a)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}QE.contextType=wp;function iGe(t){let e=Ti(t),n=As(e,1);return{start:e,end:n}}class aGe{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),a,s;for(let o in n)i.push(o);for(a=0;a<i.length;a+=1)if(s=n[i[a]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=kr(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),cs(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),cs(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),a=WWe(r,i.dateEnv,kr({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),jne(a,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),FWe(e,n))}addEvent(e,n){if(e instanceof ki){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:KT({def:s,instance:o})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof qp)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=nF(r.eventSources));else if(n!=null){let s=this.getEventSourceById(n);if(!s)return console.warn(`Could not find an event source with ID "${n}"`),null;i=s.internalEventSource}let a=Cne(e,i,r,!1);if(a){let s=new ki(r,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:KT(a)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Ine(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let a in r){let s=r[a];if(s.publicId===e){if(s.recurringDef)return new ki(n,s,null);for(let o in i){let l=i[o];if(l.defId===s.defId)return new ki(n,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Ih(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new qp(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new qp(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof qp)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Ene(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new qp(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=kr(e);n&&this.trigger("_scrollRequest",{time:n})}}function sGe(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function Lne(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function oGe(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function lGe(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function cGe(t,e){return{left:t.left-e.left,top:t.top-e.top}}function Mne(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Zd(r.activeRange,t))),isOther:!!(r&&!Zd(r.currentRange,t)),isToday:!!(e&&Zd(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function dF(t,e){let n=["fc-day",`fc-day-${fKe[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const uGe=cs({year:"numeric",month:"long",day:"numeric"}),AGe=cs({week:"long"});function GT(t,e,n="day",r=!0){const{dateEnv:i,options:a,calendarApi:s}=t;let o=i.format(e,n==="week"?AGe:uGe);if(a.navLinks){let l=i.toDate(e);const u=A=>{let d=n==="day"?a.navLinkDayClick:n==="week"?a.navLinkWeekClick:null;typeof d=="function"?d.call(s,i.toDate(e),A):(typeof d=="string"&&(n=d),s.zoomTo(e,n))};return Object.assign({title:iy(a.navLinkHint,[o,l],o),"data-navlink":""},r?une(u):{onClick:u})}return{"aria-label":o}}let v4=null;function dGe(){return v4===null&&(v4=fGe()),v4}function fGe(){let t=document.createElement("div");ry(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return qO(t),n}let y4;function hGe(){return y4||(y4=pGe()),y4}function pGe(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=Rne(t);return document.body.removeChild(t),e}function Rne(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function mGe(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,o=Rne(t),l=o.y-r-i,u=o.x-a-s,A={borderLeft:r,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return dGe()&&n.direction==="rtl"?A.scrollbarLeft=l:A.scrollbarRight=l,e&&(A.paddingLeft=parseInt(n.paddingLeft,10)||0,A.paddingRight=parseInt(n.paddingRight,10)||0,A.paddingTop=parseInt(n.paddingTop,10)||0,A.paddingBottom=parseInt(n.paddingBottom,10)||0),A}function gGe(t,e=!1,n){let r=fF(t),i=mGe(t,e),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function fF(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function vGe(t){let e=Une(t),n=t.getBoundingClientRect();for(let r of e){let i=Lne(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function Une(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class BS{constructor(e,n,r,i){this.els=n;let a=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.left-e),r.push(a.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.top-e),r.push(a.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return V1(this.tops||[],e.tops||[])&&V1(this.bottoms||[],e.bottoms||[])&&V1(this.lefts||[],e.lefts||[])&&V1(this.rights||[],e.rights||[])}}function V1(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class hF{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class yGe extends hF{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class bGe extends hF{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Sp extends Hi{constructor(){super(...arguments),this.uid=bp()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ao(e,".fc-event-mirror")}isValidDateDownEl(e){return!ao(e,".fc-event:not(.fc-bg-event)")&&!ao(e,".fc-more-link")&&!ao(e,"a[data-navlink]")&&!ao(e,".fc-popover")}}class xGe{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:Qne(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,a=n.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},r),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(b4(i,n.level,n.levelCoord),b4(r,n.level,[e])):b4(r[n.level],n.lateral,e),this.stackCnts[oy(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:a}=this,s=n.length,o=0,l=-1,u=-1,A=null,d=0;for(let p=0;p<s;p+=1){const m=n[p];if(!i&&m>=o+this.getEntryThickness(e))break;let v=r[p],g,y=sz(v,e.span.start,az),x=y[0]+y[1];for(;(g=v[x])&&g.span.start<e.span.end;){let S=m+this.getEntryThickness(g);S>o&&(o=S,A=g,l=p,u=x),S===o&&(d=Math.max(d,a[oy(g)]+1)),x+=1}}let f=0;if(A)for(f=l+1;f<s&&n[f]<o;)f+=1;let h=-1;return f<s&&n[f]===o&&(h=sz(r[f],e.span.end,az)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:A,stackCnt:d,levelCoord:o,level:f,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let a=0;a<r;a+=1){let s=e[a],o=n[a];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return i}}function az(t){return t.span.end}function oy(t){return t.index+":"+t.span.start}function Qne(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function b4(t,e,n){t.splice(e,0,n)}function sz(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),s=n(t[a]);if(e<s)i=a;else if(e>s)r=a+1;else return[a,1]}return[r,0]}class wGe{constructor(e,n){this.emitter=new UE}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const pF={};function CGe(t,e){return!t||e>10?cs({weekday:"short"}):e>1?cs({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):cs({weekday:"long"})}const Hne="fc-col-header-cell";function zne(t){return t.text}class SGe extends Hi{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:a}=this,{date:s,dateProfile:o}=a,l=Mne(s,a.todayRange,null,o),u=[Hne].concat(dF(l,r)),A=e.format(s,a.dayHeaderFormat),d=!l.isDisabled&&a.colCnt>1?GT(this.context,s):{},f=e.toDate(s);e.namedTimeZoneImpl&&(f=df(f,36e5));let h=Object.assign(Object.assign(Object.assign({date:f,view:i},a.extraRenderProps),{text:A}),l);return Ze(td,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:JO(s)},a.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:zne,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>Ze("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&Ze(p,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const EGe=cs({weekday:"long"});class _Ge extends Hi{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:a}=this.context,s=As(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:i}),e.extraRenderProps),{text:l});return Ze(td,{elTag:"th",elClasses:[Hne,...dF(o,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:zne,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},A=>Ze("div",{className:"fc-scrollgrid-sync-inner"},Ze(A,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(s,EGe)}})))}}class BGe extends Hi{constructor(){super(...arguments),this.createDayHeaderFormatter=_r(NGe)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return Ze(QE,{unit:"day"},(o,l)=>Ze("tr",{role:"row"},a&&a("day"),n.map(u=>i?Ze(SGe,{key:u.toISOString(),date:u,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:s}):Ze(_Ge,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function NGe(t,e,n){return t||CGe(e,n)}class jGe{constructor(e,n){let r=e.start,{end:i}=e,a=[],s=[],o=-1;for(;r<i;)n.isHiddenDay(r)?a.push(o+.5):(o+=1,a.push(o),s.push(r)),r=As(r,1);this.dates=s,this.indices=a,this.cnt=s.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(As(e.end,-1)),i=Math.max(0,n),a=Math.min(this.cnt-1,r);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:n===i,isEnd:r===a}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(E0(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class IGe{constructor(e,n){let{dates:r}=e,i,a,s;if(n){for(a=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==a;i+=1);s=Math.ceil(r.length/i)}else s=1,i=r.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:a,lastIndex:s}=r,o=a;for(;o<=s;){let l=Math.floor(o/n),u=Math.min((l+1)*n,s+1);i.push({row:l,firstCol:o%n,lastCol:(u-1)%n,isStart:r.isStart&&o===a,isEnd:r.isEnd&&u-1===s}),o=u}}return i}}class TGe{constructor(){this.sliceBusinessHours=_r(this._sliceBusinessHours),this.sliceDateSelection=_r(this._sliceDateSpan),this.sliceEventStore=_r(this._sliceEventStore),this.sliceEventDrag=_r(this._sliceInteraction),this.sliceEventResize=_r(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...a){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,n,r,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,s,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,n,r,...a),eventResize:this.sliceEventResize(e.eventResize,s,n,r,...a),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...a){return this._sliceDateSpan({range:{start:e,end:df(e,1)},allDay:!1},n,r,{},i,...a)}_sliceBusinessHours(e,n,r,i,...a){return e?this._sliceEventStore(Zh(e,$1(n,!!r),i),{},n,r,...a).bg:[]}_sliceEventStore(e,n,r,i,...a){if(e){let s=nz(e,n,$1(r,!!i),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...a){if(!e)return null;let s=nz(e.mutatedEvents,n,$1(r,!!i),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,a,...s){if(!e)return[];let o=$1(n,!!r),l=qg(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=JWe(e,i,a),A=this.sliceRange(e.range,...s);for(let d of A)d.eventRange=u;return A}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:As(r.start,1)});let i=this.sliceRange(r,...n);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function $1(t,e){let n=t.activeRange;return e?n:{start:df(n.start,t.slotMinTime.milliseconds),end:df(n.end,t.slotMaxTime.milliseconds-864e5)}}function Vne(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!ME(e.validRange,r[i].range))return!1;return $ne({eventDrag:t},n)}function kGe(t,e,n){return ME(e.validRange,t.range)?$ne({dateSelection:t},n):!1}function $ne(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||PGe)(r,e)}function PGe(t,e,n={},r){return!(t.eventDrag&&!DGe(t,e,n,r)||t.dateSelection&&!OGe(t,e,n,r))}function DGe(t,e,n,r){let i=e.getCurrentData(),a=t.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,u=_S(o,a.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(u=xp(u,r));let A=jWe(t.eventStore,a.affectedEvents.instances),d=A.defs,f=A.instances,h=_S(d,t.eventUiBases);for(let p in l){let m=l[p],v=m.range,g=u[m.defId],y=o[m.defId];if(!Kne(g.constraints,v,A,t.businessHours,e))return!1;let{eventOverlap:x}=e.options,S=typeof x=="function"?x:null;for(let N in f){let _=f[N];if(iF(v,_.range)&&(h[_.defId].overlap===!1&&a.isEvent||g.overlap===!1||S&&!S(new ki(e,d[_.defId],_),new ki(e,y,m))))return!1}let E=i.eventStore;for(let N of g.allows){let _=Object.assign(Object.assign({},n),{range:m.range,allDay:y.allDay}),B=E.defs[y.defId],j=E.instances[p],D;if(B?D=new ki(e,B,j):D=new ki(e,y),!N(cF(_,e),D))return!1}}return!0}function OGe(t,e,n,r){let i=t.eventStore,a=i.defs,s=i.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(r&&(u=r(u)),!Kne(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:A}=e.options,d=typeof A=="function"?A:null;for(let f in s){let h=s[f];if(iF(l,h.range)&&(u.overlap===!1||d&&!d(new ki(e,a[h.defId],h),null)))return!1}for(let f of u.allows){let h=Object.assign(Object.assign({},n),o);if(!f(cF(h,e),null))return!1}return!0}function Kne(t,e,n,r,i){for(let a of t)if(!LGe(FGe(a,e,n,r,i),e))return!1;return!0}function FGe(t,e,n,r,i){return t==="businessHours"?x4(Zh(r,e,i)):typeof t=="string"?x4(RE(n,a=>a.groupId===t)):typeof t=="object"&&t?x4(Zh(t,e,i)):[]}function x4(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function LGe(t,e){for(let n of t)if(ME(n,e))return!0;return!1}const K1=/^(visible|hidden)$/;class MGe extends Hi{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Ku(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,a=["fc-scroller"];return n&&(r?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Ze("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(K1.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(K1.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return K1.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return K1.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class gh{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:a}=this,s=!1,o=!1;n!==null?(s=r in a,a[r]=n,i[r]=(i[r]||0)+1,o=!0):(i[r]-=1,i[r]||(delete a[r],delete this.callbackMap[r],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(r)),o&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return WKe(this.currentMap,e,n,r)}getAll(){return nF(this.currentMap)}}function RGe(t){let e=K$e(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,sKe(r));return Math.ceil(n)}function Wne(t,e){return t.liquid&&e.liquid}function UGe(t,e){return e.maxHeight!=null||Wne(t,e)}function QGe(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):Ze("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,Ze(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function HGe(t,e){return Af(t,e,au)}function zGe(t,e){let n=[];for(let r of t){let i=r.span||1;for(let a=0;a<i;a+=1)n.push(Ze("col",{style:{width:r.width==="shrink"?VGe(e):r.width||"",minWidth:r.minWidth||""}}))}return Ze("colgroup",{},...n)}function VGe(t){return t??4}function $Ge(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function KGe(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function WGe(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function GGe(t){return Ze("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function oz(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function qGe(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Gne extends Hi{constructor(){super(...arguments),this.processCols=_r(e=>e,HGe),this.renderMicroColGroup=_r(zGe),this.scrollerRefs=new gh,this.scrollerElRefs=new gh(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,n.shrinkWidth),o=KGe(e.liquid,r);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=i.length,u=0,A,d=[],f=[],h=[];for(;u<l&&(A=i[u]).type==="header";)d.push(this.renderSection(A,s,!0)),u+=1;for(;u<l&&(A=i[u]).type==="body";)f.push(this.renderSection(A,s,!1)),u+=1;for(;u<l&&(A=i[u]).type==="footer";)h.push(this.renderSection(A,s,!0)),u+=1;let p=!Fne();const m={role:"rowgroup"};return Ze("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!p&&d.length)&&Ze("thead",m,...d),!!(!p&&f.length)&&Ze("tbody",m,...f),!!(!p&&h.length)&&Ze("tfoot",m,...h),p&&Ze("tbody",m,...d,...f,...h))}renderSection(e,n,r){return"outerContent"in e?Ze(Zi,{key:e.key},e.outerContent):Ze("tr",{key:e.key,role:"presentation",className:WGe(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=UGe(a,e),A=Wne(a,e),d=a.liquid?s?"scroll":u?"auto":"hidden":"visible",f=e.key,h=QGe(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[f]!==void 0?o[f]:null,clientHeight:l[f]!==void 0?l[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return Ze(i?"th":"td",{ref:r.elRef,role:"presentation"},Ze("div",{className:`fc-scroller-harness${A?" fc-scroller-harness-liquid":""}`},Ze(MGe,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:d,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:A,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,n){let r=YGe(this.props.sections,n);r&&Ku(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return $Ge(this.props.cols)?RGe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=hGe(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,a={},s={};for(let o in n.currentMap){let l=n.currentMap[o];if(l&&l.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let l=o.key,u=r.currentMap[l];if(u){let A=u.parentNode;a[l]=Math.floor(A.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(A.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:s}}}Gne.addStateEquality({scrollerClientWidths:au,scrollerClientHeights:au});function YGe(t,e){for(let n of t)if(n.key===e)return n;return null}class mF extends Hi{constructor(){super(...arguments),this.buildPublicEvent=_r((e,n,r)=>new ki(e,n,r)),this.handleEl=e=>{this.el=e,Ku(this.props.elRef,e),e&&rz(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:a}=i,{ui:s}=a,o={event:this.buildPublicEvent(n,a.def,a.instance),view:n.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&QWe(i,n),isStartResizable:!e.disableResizing&&HWe(i,n),isEndResizable:!e.disableResizing&&zWe(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Ze(td,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...VWe(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&rz(this.el,this.props.seg)}}class qne extends Hi{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:a}=i.eventRange,s=r.eventTimeFormat||e.defaultTimeFormat,o=kne(i,s,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Ze(mF,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:Pne(i,n),defaultGenerator:XGe,timeText:o}),(l,u)=>Ze(Zi,null,Ze(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&Ze("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&Ze("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}qne.addPropsEquality({seg:au});function XGe(t){return Ze("div",{className:"fc-event-main-frame"},t.timeText&&Ze("div",{className:"fc-event-time"},t.timeText),Ze("div",{className:"fc-event-title-container"},Ze("div",{className:"fc-event-title fc-sticky"},t.event.title||Ze(Zi,null,""))))}const JGe=cs({day:"numeric"});class Yne extends Hi{constructor(){super(...arguments),this.refineRenderProps=n2(ZGe)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return Ze(td,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":JO(e.date)}),elClasses:[...dF(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function Xne(t){return!!(t.dayCellContent||VT("dayCellContent",t))}function ZGe(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,a=Mne(e,t.todayRange,null,r),s=t.showDayNumber?n.format(e,i?t.monthStartFormat:JGe):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class eqe extends Hi{render(){let{props:e}=this,{seg:n}=e;return Ze(mF,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:tqe,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function tqe(t){let{title:e}=t.event;return e&&Ze("div",{className:"fc-event-title"},t.event.title)}function nqe(t){return Ze("div",{className:`fc-${t}`})}const rqe=t=>Ze(wp.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,a=r.weekNumberFormat||t.defaultFormat,s=n.computeWeekNumber(i),o=n.format(i,a),l={num:s,text:o,date:i};return Ze(td,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:iqe,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function iqe(t){return t.text}const w4=10;class aqe extends Hi{constructor(){super(...arguments),this.state={titleId:FE()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Ku(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=lne(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return k$e(Ze("div",Object.assign({},r.extraAttrs,{id:r.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),Ze("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Ze("span",{className:"fc-popover-title",id:i.titleId},r.title),Ze("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),Ze("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,a=vGe(n);if(a){let s=i.getBoundingClientRect(),o=r?ao(n,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-s.width:a.left;o=Math.max(o,w4),l=Math.min(l,document.documentElement.clientWidth-w4-s.width),l=Math.max(l,w4);let u=i.offsetParent.getBoundingClientRect();ry(i,{top:o-u.top,left:l-u.left})}}}class sqe extends Sp{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:a,dateProfile:s}=r,o=n.format(i,e.dayPopoverFormat);return Ze(Yne,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:a},(l,u,A)=>Ze(aqe,{elRef:A.ref,id:r.id,title:o,extraClassNames:["fc-more-popover"].concat(A.className||[]),extraAttrs:A,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Xne(e)&&Ze(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:a,props:s}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class oqe extends Hi{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:FE()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Ku(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,a=lz(n).start;function s(o){let{def:l,instance:u,range:A}=o.eventRange;return{event:new ki(r,l,u),start:r.dateEnv.toDate(A.start),end:r.dateEnv.toDate(A.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!n.allDayDate,allSegs:n.allSegs.map(s),hiddenSegs:n.hiddenSegs.map(s),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return Ze(wp.Consumer,null,r=>{let{viewApi:i,options:a,calendarApi:s}=r,{moreLinkText:o}=a,{moreCnt:l}=e,u=lz(e),A=typeof o=="function"?o.call(s,l):`+${l} ${o}`,d=iy(a.moreLinkHint,[l],A),f={num:l,shortText:`+${l}`,text:A,view:i};return Ze(Zi,null,!!e.moreCnt&&Ze(td,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),une(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||lqe,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),n.isPopoverOpen&&Ze(sqe,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ao(this.linkEl,".fc-view-harness"))}}function lqe(t){return t.text}function lz(t){if(t.allDayDate)return{start:t.allDayDate,end:As(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:cqe(e),end:Aqe(e)}}function cqe(t){return t.reduce(uqe).eventRange.range.start}function uqe(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Aqe(t){return t.reduce(dqe).eventRange.range.end}function dqe(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class fqe{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class hqe extends fqe{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const pqe=[],Jne={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Zne=Object.assign(Object.assign({},Jne),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function mqe(t){let e=t.length>0?t[0].code:"en",n=pqe.concat(t),r={en:Zne};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function ere(t,e){return typeof t=="object"&&!Array.isArray(t)?tre(t.code,[t.code],t):gqe(t,e)}function gqe(t,e){let n=[].concat(t||[]),r=vqe(n,e)||Zne;return tre(t,n,r)}function vqe(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let a=r.slice(0,i).join("-");if(e[a])return e[a]}}return null}function tre(t,e,n){let r=tF([Jne,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function Nf(t){return{id:bp(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function yqe(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let s of a){const o=s.name,l=n[o];l===void 0?(n[o]=s.id,i(s.deps),r=xqe(r,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&i(t),i(e),r}function bqe(){let t=[],e=[],n;return(r,i)=>((!n||!Af(r,t)||!Af(i,e))&&(n=yqe(r,i)),t=r,e=i,n)}function xqe(t,e){return{premiumReleaseDate:wqe(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function wqe(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class jf extends Nx{}jf.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};jf.prototype.baseIconClass="fc-icon";jf.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};jf.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};jf.prototype.iconOverrideOption="buttonIcons";jf.prototype.iconOverrideCustomButtonOption="icon";jf.prototype.iconOverridePrefix="fc-icon-";function Cqe(t,e){let n={},r;for(r in t)qT(r,n,t,e);for(r in e)qT(r,n,t,e);return n}function qT(t,e,n,r){if(e[t])return e[t];let i=Sqe(t,e,n,r);return i&&(e[t]=i),i}function Sqe(t,e,n,r){let i=n[t],a=r[t],s=A=>i&&i[A]!==null?i[A]:a&&a[A]!==null?a[A]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=qT(l,e,n,r)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function cz(t){return xp(t,Eqe)}function Eqe(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=uz(e):n&&!(n.prototype instanceof Hi)&&(n=uz(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function uz(t){return e=>Ze(wp.Consumer,null,n=>Ze(td,{elTag:"div",elClasses:vne(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function _qe(t,e,n,r){let i=cz(t),a=cz(e.views),s=Cqe(i,a);return xp(s,o=>Bqe(o,a,e,n,r))}function Bqe(t,e,n,r,i){let a=t.overrides.duration||t.defaults.duration||r.duration||n.duration,s=null,o="",l="",u={};if(a&&(s=Nqe(a),s)){let f=zT(s);o=f.unit,f.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let A=f=>{let h=f.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null},d=f=>{let h=f.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[l]!=null?h[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:A(r)||A(n)||t.overrides.buttonText,buttonTextDefault:A(i)||t.defaults.buttonText||A(ay)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(ay)}}let Az={};function Nqe(t){let e=JSON.stringify(t),n=Az[e];return n===void 0&&(n=kr(t),Az[e]=n),n}function jqe(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Iqe(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Tqe(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function kqe(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Pqe(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Dqe(t,e,n){let r=e?e.activeRange:null;return rre({},Qqe(t,n),r,n)}function Oqe(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return rre(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Lqe(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?ire(t,i,r):t;case"FETCH_EVENT_SOURCES":return gF(t,e.sourceIds?fne(e.sourceIds):are(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Uqe(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Fqe(t,e,n){let r=e?e.activeRange:null;return gF(t,are(t,n),r,!0,n)}function nre(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function rre(t,e,n,r){let i={};for(let a of e)i[a.sourceId]=a;return n&&(i=ire(i,n,r)),Object.assign(Object.assign({},t),i)}function Lqe(t,e){return Jh(t,n=>n.sourceId!==e)}function ire(t,e,n){return gF(t,Jh(t,r=>Mqe(r,e,n)),e,!1,n)}function Mqe(t,e,n){return sre(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function gF(t,e,n,r,i){let a={};for(let s in t){let o=t[s];e[s]?a[s]=Rqe(o,n,r,i):a[s]=o}return a}function Rqe(t,e,n,r){let{options:i,calendarApi:a}=r,s=r.pluginHooks.eventSourceDefs[t.sourceDefId],o=bp();return s.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,l.response)||u),t.success&&(u=t.success.call(a,u,l.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function Uqe(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function are(t,e){return Jh(t,n=>sre(n,e))}function Qqe(t,e){let n=_ne(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let a of r){let s=Ene(a,e,n);s&&i.push(s)}return i}function sre(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Hqe(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function zqe(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Vqe(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function $qe(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Kqe(t,e,n,r,i){let a=t.headerToolbar?dz(t.headerToolbar,t,e,n,r,i):null,s=t.footerToolbar?dz(t.footerToolbar,t,e,n,r,i):null;return{header:a,footer:s}}function dz(t,e,n,r,i,a){let s={},o=[],l=!1;for(let u in t){let A=t[u],d=Wqe(A,e,n,r,i,a);s[u]=d.widgets,o.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function Wqe(t,e,n,r,i,a){let s=e.direction==="rtl",o=e.customButtons||{},l=n.buttonText||{},u=e.buttonText||{},A=n.buttonHints||{},d=e.buttonHints||{},f=t?t.split(" "):[],h=[],p=!1;return{widgets:f.map(v=>v.split(",").map(g=>{if(g==="title")return p=!0,{buttonName:g};let y,x,S,E,N,_;if(y=o[g])S=B=>{y.click&&y.click.call(B.target,B,B.target)},(E=r.getCustomButtonIconClass(y))||(E=r.getIconClass(g,s))||(N=y.text),_=y.hint||y.text;else if(x=i[g]){h.push(g),S=()=>{a.changeView(g)},(N=x.buttonTextOverride)||(E=r.getIconClass(g,s))||(N=x.buttonTextDefault);let B=x.buttonTextOverride||x.buttonTextDefault;_=iy(x.buttonTitleOverride||x.buttonTitleDefault||e.viewHint,[B,g],B)}else if(a[g])if(S=()=>{a[g]()},(N=l[g])||(E=r.getIconClass(g,s))||(N=u[g]),g==="prevYear"||g==="nextYear"){let B=g==="prevYear"?"prev":"next";_=iy(A[B]||d[B],[u.year||"year","year"],u[g])}else _=B=>iy(A[g]||d[g],[u[B]||B,B],u[g]);return{buttonName:g,buttonClick:S,buttonIcon:E,buttonText:N,buttonHint:_}})),viewsWithButtons:h,hasTitle:p}}class Gqe{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let qqe={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Yqe=Nf({name:"array-event-source",eventSourceDefs:[qqe]});let Xqe={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;ZWe(i.bind(null,Dne(t.range,r)),a=>e({rawEvents:a}),n)}};const Jqe=Nf({name:"func-event-source",eventSourceDefs:[Xqe]}),Zqe={method:String,extraParams:Je,startParam:String,endParam:String,timeZoneParam:String};let eYe={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=nYe(r,t.range,t.context);eGe(r.method,r.url,i).then(([a,s])=>{e({rawEvents:a,response:s})},n)}};const tYe=Nf({name:"json-event-source",eventSourceRefiners:Zqe,eventSourceDefs:[eYe]});function nYe(t,e,n){let{dateEnv:r,options:i}=n,a,s,o,l,u={};return a=t.startParam,a==null&&(a=i.startParam),s=t.endParam,s==null&&(s=i.endParam),o=t.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[a]=r.formatIso(e.start),u[s]=r.formatIso(e.end),r.timeZone!=="local"&&(u[o]=r.timeZone),u}const rYe={daysOfWeek:Je,startTime:kr,endTime:kr,duration:kr,startRecur:Je,endRecur:Je};let iYe={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=uKe(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=qg(e,{start:t.startRecur,end:t.endRecur});return r?sYe(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const aYe=Nf({name:"simple-recurring-event",recurringTypes:[iYe],eventRefiners:rYe});function sYe(t,e,n,r,i){let a=t?fne(t):null,s=Ti(i.start),o=i.end,l=[];for(e&&(e.milliseconds<0?o=As(o,1):e.milliseconds>=1e3*60*60*24&&(s=As(s,-1)));s<o;){let u;(!a||a[s.getUTCDay()])&&(e?u=r.add(s,e):u=s,l.push(r.createMarker(n.toDate(u)))),s=As(s,1)}return l}const oYe=Nf({name:"change-handler",optionChangeHandlers:{events(t,e){fz([t],e)},eventSources:fz}});function fz(t,e){let n=nF(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let a=!1;for(let s=0;s<n.length;s+=1)if(n[s]._raw===i){n.splice(s,1),a=!0;break}a||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function lYe(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Dne(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function cYe(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ih(t,e))}const uYe=[Yqe,Jqe,tYe,aYe,oYe,Nf({name:"misc",isLoadingFuncs:[t=>nre(t.eventSources)],propSetHandlers:{dateProfile:lYe,eventStore:cYe}})];class AYe{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new GO(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function dYe(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,cs(e.titleFormat||fYe(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function fYe(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=yS(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class hz{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class hYe{constructor(e){this.computeCurrentViewData=_r(this._computeCurrentViewData),this.organizeRawLocales=_r(mqe),this.buildLocale=_r(ere),this.buildPluginHooks=bqe(),this.buildDateEnv=_r(pYe),this.buildTheme=_r(mYe),this.parseToolbars=_r(Kqe),this.buildViewSpecs=_r(_qe),this.buildDateProfileGenerator=n2(gYe),this.buildViewApi=_r(vYe),this.buildViewUiProps=n2(xYe),this.buildEventUiBySource=_r(yYe,au),this.buildEventUiBases=_r(bYe),this.parseContextBusinessHours=n2(wYe),this.buildTitle=_r(dYe),this.nowManager=new hz,this.emitter=new UE,this.actionRunner=new AYe(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause(),this.nowManager=new hz;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,a=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=Tqe(r.calendarOptions,r.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(o);Zd(l.activeRange,o)||(o=l.currentRange.start);for(let f of r.pluginHooks.contextInit)f(s);let u=Dqe(r.calendarOptions,l,s),A={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Xc(),renderableEventStore:Xc(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},d=Object.assign(Object.assign({},s),A);for(let f of r.pluginHooks.reducers)Object.assign(A,f(null,null,d));C4(A,s)&&this.emitter.trigger("loading",!0),this.state=A,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,a=kqe(r.dynamicOptionOverrides,e),s=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),o=jqe(r.currentViewType,e),l=this.computeCurrentViewData(o,s,n.optionOverrides,a);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:A,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(A)),A=Iqe(A,e),d=Pqe(d,e,A,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Zd(d.currentRange,A))&&(A=d.currentRange.start);let f=Oqe(r.eventSources,e,d,u),h=EWe(r.eventStore,e,f,d,u),m=nre(f)&&!l.options.progressiveEventRendering&&r.renderableEventStore||h,{eventUiSingleBase:v,selectionConfig:g}=this.buildViewUiProps(u),y=this.buildEventUiBySource(f),x=this.buildEventUiBases(m.defs,v,y),S={dynamicOptionOverrides:a,currentViewType:o,currentDate:A,dateProfile:d,eventSources:f,eventStore:h,renderableEventStore:m,selectionConfig:g,eventUiBases:x,businessHours:this.parseContextBusinessHours(u),dateSelection:Hqe(r.dateSelection,e),eventSelection:zqe(r.eventSelection,e),eventDrag:Vqe(r.eventDrag,e),eventResize:$qe(r.eventResize,e)},E=Object.assign(Object.assign({},u),S);for(let B of s.pluginHooks.reducers)Object.assign(S,B(r,e,E));let N=C4(r,u),_=C4(S,u);!N&&_?i.trigger("loading",!0):N&&!_&&i.trigger("loading",!1),this.state=S,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),n),o=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(n.eventSources=s.eventSources=Fqe(s.eventSources,n.dateProfile,s),n.eventStore=s.eventStore=ez(s.eventStore,r.dateEnv,s.dateEnv),n.renderableEventStore=s.renderableEventStore=ez(s.renderableEventStore,r.dateEnv,s.dateEnv));for(let A in o)(this.optionsForHandling.indexOf(A)!==-1||l[A]!==u[A])&&o[A](u[A],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,n);pz(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,o,i.defaultRangeSeparator),A=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),d=this.buildTheme(i,a),f=this.parseToolbars(i,this.stableOptionOverrides,d,A,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:A,theme:d,toolbarConfig:f,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=p4([ay,e,n]),a=this.organizeRawLocales(r),s=a.map,o=this.buildLocale(i||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],uYe),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WH),GH),qH),l.listenerRefiners),l.optionRefiners),A={},d=p4([ay,o,e,n]),f={},h=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,m=!1;for(let v in d)this.optionsForRefining.indexOf(v)===-1&&(d[v]===h[v]||Zf[v]&&v in h&&Zf[v](h[v],d[v]))?f[v]=p[v]:u[v]?(f[v]=u[v](d[v]),m=!0):A[v]=h[v];return m&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:o,extra:A}}_computeCurrentViewData(e,n,r,i){let a=n.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(a,n.pluginHooks,n.localeDefaults,r,i);pz(o),this.nowManager.handleInput(n.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,n,r,i,a){let s=p4([ay,e.optionDefaults,r,i,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WH),GH),qH),HKe),n.listenerRefiners),n.optionRefiners),l={},u=this.currentViewOptionsInput,A=this.currentViewOptionsRefined,d=!1,f={};for(let h in s)s[h]===u[h]||Zf[h]&&Zf[h](s[h],u[h])?l[h]=A[h]:(s[h]===this.currentCalendarOptionsInput[h]||Zf[h]&&Zf[h](s[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(l[h]=this.currentCalendarOptionsRefined[h]):o[h]?l[h]=o[h](s[h]):f[h]=s[h],d=!0);return d&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}}function pYe(t,e,n,r,i,a,s,o){let l=ere(e||s.defaultCode,s.map);return new ZKe({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function mYe(t,e){let n=e.themeClasses[t.themeSystem]||jf;return new n(t)}function gYe(t){let e=t.dateProfileGeneratorClass||xne;return new e(t)}function vYe(t,e,n){return new Gqe(t,e,n)}function yYe(t){return xp(t,e=>e.ui)}function bYe(t,e,n){let r={"":e};for(let i in t){let a=t[i];a.sourceId&&n[a.sourceId]&&(r[i]=n[a.sourceId])}return r}function xYe(t){let{options:e}=t;return{eventUiSingleBase:ES({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:ES({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function C4(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function wYe(t){return DWe(t.options.businessHours,t)}function pz(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class CYe extends Hi{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return Ze("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],a=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:A,buttonHint:d}=s;if(o==="title")a=!1,i.push(Ze("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let f=o===n.activeButton,h=!n.isTodayEnabled&&o==="today"||!n.isPrevEnabled&&o==="prev"||!n.isNextEnabled&&o==="next",p=[`fc-${o}-button`,r.getClass("button")];f&&p.push(r.getClass("buttonActive")),i.push(Ze("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:h,"aria-pressed":f,className:p.join(" "),onClick:l},u||(A?Ze("span",{className:A,role:"img"}):"")))}}if(i.length>1){let s=a&&r.getClass("buttonGroup")||"";return Ze("div",{className:s},...i)}return i[0]}}class mz extends Hi{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,a,s=e.sectionWidgets,o=s.center;return s.left?(r=!0,i=s.left):i=s.start,s.right?(r=!0,a=s.right):a=s.end,Ze("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,n){let{props:r}=this;return Ze(CYe,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class SYe extends Hi{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Ku(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return r?n.availableWidth!==null?a=n.availableWidth/r:s=`${1/r*100}%`:a=e.height||"",Ze("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class EYe extends _0{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:a}=i,s=Yg(r);if(s&&i.isValidSegDownEl(n.target)){let o=ao(n.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:r,event:new ki(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:a.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=cne(e.el,"click",".fc-event",this.handleSegClick)}}class _Ye extends _0{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Yg(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=q$e(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:a}=i,s=Yg(r);(!n||i.isValidSegDownEl(n.target))&&a.emitter.trigger(e,{el:r,event:new ki(a,s.eventRange.def,s.eventRange.instance),jsEvent:n,view:a.viewApi})}}class BYe extends Cp{constructor(){super(...arguments),this.buildViewContext=_r(nWe),this.buildViewPropTransformers=_r(jYe),this.buildToolbarProps=_r(NYe),this.headerRef=VA(),this.footerRef=VA(),this.interactionsStore={},this.state={viewLabelId:FE()},this.registerInteractiveComponent=(e,n)=>{let r=rGe(e,n),s=[EYe,_Ye].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(r));this.interactionsStore[e.uid]=s,WT[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete WT[e.uid]},this.resizeRunner=new GO(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,a="",s;e.isHeightAuto||e.forPrint?a="":r.height!=null?i=!0:r.contentHeight!=null?a=r.contentHeight:s=Math.max(r.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return Ze(wp.Provider,{value:o},Ze(QE,{unit:"day"},u=>{let A=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return Ze(Zi,null,n.header&&Ze(mz,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},A)),Ze(SYe,{liquid:i,height:a,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),n.footer&&Ze(mz,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},A)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return Ze(Zi,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(n.viewPropsTransformers);for(let o of a)Object.assign(i,o.transform(i,e));let s=r.component;return Ze(s,Object.assign({},i))}}function NYe(t,e,n,r,i,a){let s=n.build(i,void 0,!1),o=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!Zd(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function jYe(t){return t.map(e=>new e)}class IYe extends aGe{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;CS(()=>{Db(Ze(nGe,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,a,s,o)=>(this.setClassNames(i),this.setHeight(a),Ze(gne.Provider,{value:this.customContentRenderId},Ze(BYe,Object.assign({isHeightAuto:s,forPrint:o},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Db(null,this.el),this.setClassNames([]),this.setHeight(""))},U$e(e),this.el=e,this.renderRunner=new GO(this.handleRenderRequest),new hYe({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){CS(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Af(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){one(this.el,"height",e)}}const TYe=parseInt(String(be.version).split(".")[0]),kYe=TYe<18;class vF extends P.Component{constructor(){super(...arguments),this.elRef=P.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(be.createElement(PYe,{key:n.id,customRendering:n}));return be.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new hqe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new IYe(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Py.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),a=!n;(kYe||a||this.isUpdating||this.isUnmounting||i-n<100?ore:Py.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}vF.act=ore;class PYe extends P.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Py.createPortal(r,e.containerEl)}}function ore(t){t()}class DYe extends Sp{constructor(){super(...arguments),this.headerElRef=VA()}renderSimpleLayout(e,n){let{props:r,context:i}=this,a=[],s=oz(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),Ze(YH,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},Ze(Gne,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,n,r,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&oz(o.options),u=!s.forPrint&&qGe(o.options),A=[];return e&&A.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),A.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&A.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:GGe}]}),Ze(YH,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},Ze(a,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:A}))}}function i2(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function W1(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function gz(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const lre=cs({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function cre(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class ure extends Hi{render(){let{props:e}=this;return Ze(qne,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:lre,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Are extends Hi{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,a=r.eventTimeFormat||lre,s=kne(i,a,n,!0,e.defaultDisplayEventEnd);return Ze(mF,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Pne(e.seg,n),defaultGenerator:OYe,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function OYe(t){return Ze(Zi,null,Ze("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&Ze("div",{className:"fc-event-time"},t.timeText),Ze("div",{className:"fc-event-title"},t.event.title||Ze(Zi,null,"")))}class FYe extends Hi{constructor(){super(...arguments),this.compileSegs=_r(LYe)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return Ze(oqe,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Ze(Zi,null,n.map(a=>{let s=a.eventRange.instance.instanceId;return Ze("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},cre(a)?Ze(Are,Object.assign({seg:a,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},sy(a,e.todayRange))):Ze(ure,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},sy(a,e.todayRange))))}))}})}}function LYe(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const MYe=cs({week:"narrow"});class RYe extends Sp{constructor(){super(...arguments),this.rootElRef=VA(),this.state={dayNumberId:FE()},this.handleRootEl=e=>{Ku(this.rootElRef,e),Ku(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:a,dateEnv:s}=e,{date:o,dateProfile:l}=n;const u=n.showDayNumber&&QYe(o,l.currentRange,s);return Ze(Yne,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:UYe,date:o,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(A,d)=>Ze("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&Ze(rqe,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:GT(e,o,"week"),date:o,defaultFormat:MYe}),!d.isDisabled&&(n.showDayNumber||Xne(a)||n.forceDayTop)?Ze("div",{className:"fc-daygrid-day-top"},Ze(A,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},GT(e,o)),{id:r.dayNumberId})})):n.showDayNumber?Ze("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Ze("a",{className:"fc-daygrid-day-number"},"")):void 0,Ze("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,Ze("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},Ze(FYe,{allDayDate:o,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),Ze("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function UYe(t){return t.dayNumberText||Ze(Zi,null,"")}function QYe(t,e,n){const{start:r,end:i}=e,a=df(i,-1),s=n.getYear(r),o=n.getMonth(r),l=n.getYear(a),u=n.getMonth(a);return!(s===l&&o===u)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function dre(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function fre(t){return dre(t)+":"+t.lastCol}function HYe(t,e,n,r,i,a,s){let o=new $Ye(g=>{let y=t[g.index].eventRange.instance.instanceId+":"+g.span.start+":"+(g.span.end-1);return i[y]||1});o.allowReslicing=!0,o.strictOrder=r,e===!0||n===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof n=="number"&&(o.maxStackCnt=n,o.hiddenConsumes=!0);let l=[],u=[];for(let g=0;g<t.length;g+=1){let y=t[g],x=fre(y);i[x]!=null?l.push({index:g,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let A=o.addSegs(l),d=o.toRects(),{singleColPlacements:f,multiColPlacements:h,leftoverMargins:p}=zYe(d,t,s),m=[],v=[];for(let g of u){h[g.firstCol].push({seg:g,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=g.firstCol;y<=g.lastCol;y+=1)f[y].push({seg:zm(g,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<s.length;g+=1)m.push(0);for(let g of A){let y=t[g.index],x=g.span;h[x.start].push({seg:zm(y,x.start,x.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=x.start;S<x.end;S+=1)m[S]+=1,f[S].push({seg:zm(y,S,S+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<s.length;g+=1)v.push(p[g]);return{singleColPlacements:f,multiColPlacements:h,moreCnts:m,moreMarginTops:v}}function zYe(t,e,n){let r=VYe(t,n.length),i=[],a=[],s=[];for(let o=0;o<n.length;o+=1){let l=r[o],u=[],A=0,d=0;for(let h of l){let p=e[h.index];u.push({seg:zm(p,o,o+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-A}),A=h.levelCoord+h.thickness}let f=[];A=0,d=0;for(let h of l){let p=e[h.index],m=h.span.end-h.span.start>1,v=h.span.start===o;d+=h.levelCoord-A,A=h.levelCoord+h.thickness,m?(d+=h.thickness,v&&f.push({seg:zm(p,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):v&&(f.push({seg:zm(p,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:d}),d=0)}i.push(u),a.push(f),s.push(d)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}function VYe(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function zm(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,a=i.range,s=qg(a,{start:r[e].date,end:As(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===a.end.valueOf()})}class $Ye extends xGe{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=a=>!this.forceHidden[oy(a)];for(let a=0;a<r.length;a+=1)r[a]=r[a].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=oy(s);if(!a[u])if(this.allowReslicing){const A=Object.assign(Object.assign({},s),{span:Qne(s.span,n.span)}),d=oy(A);a[d]=!0,i[o][l]=A,r.push(A),this.splitEntry(s,n,r)}else a[u]=!0,r.push(s)}super.handleInvalidInsertion(e,n,r)}}class hre extends Sp{constructor(){super(...arguments),this.cellElRefs=new gh,this.frameElRefs=new gh,this.fgElRefs=new gh,this.segHarnessRefs=new gh,this.rootElRef=VA(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,a=e.cells.length,s=W1(e.businessHourSegs,a),o=W1(e.bgEventSegs,a),l=W1(this.getHighlightSegs(),a),u=W1(this.getMirrorSegs(),a),{singleColPlacements:A,multiColPlacements:d,moreCnts:f,moreMarginTops:h}=HYe(RWe(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Ze("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((m,v)=>{let g=this.renderFgSegs(v,e.forPrint?A[v]:d[v],e.todayRange,p),y=this.renderFgSegs(v,KYe(u[v],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Ze(RYe,{key:m.key,elRef:this.cellElRefs.createRef(m.key),innerElRef:this.frameElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,moreCnt:f[v],moreMarginTop:h[v],singlePlacements:A[v],fgContentElRef:this.fgElRefs.createRef(m.key),fgContent:Ze(Zi,null,Ze(Zi,null,g),Ze(Zi,null,y)),bgContent:Ze(Zi,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!au(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,a,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:A}=this.state,d=this.props.cells.length===1,f=a||s||o,h=[];if(A)for(let p of n){let{seg:m}=p,{instanceId:v}=m.eventRange.instance,g=p.isVisible&&!i[v],y=p.isAbsolute,x="",S="";y&&(l.isRtl?(S=0,x=A.lefts[m.lastCol]-A.lefts[m.firstCol]):(x=0,S=A.rights[m.firstCol]-A.rights[m.lastCol])),h.push(Ze("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:dre(m),ref:f?null:this.segHarnessRefs.createRef(fre(m)),style:{visibility:g?"":"hidden",marginTop:y?"":p.marginTop,top:y?p.absoluteTop:"",left:x,right:S}},cre(m)?Ze(Are,Object.assign({seg:m,isDragging:a,isSelected:v===u,defaultDisplayEventEnd:d},sy(m,r))):Ze(ure,Object.assign({seg:m,isDragging:a,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:d},sy(m,r)))))}return h}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,s=[];if(a)for(let o of e){let l=r?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};s.push(Ze("div",{key:$We(o.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?Ze(eqe,Object.assign({seg:o},sy(o,i))):nqe(n)))}return Ze(Zi,{},...s)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,A=new BS(u,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(A))&&this.setState({framePositions:new BS(u,l,!0,!1)})}}const a=this.state.segHeights,s=this.querySegHeights(),o=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}hre.addStateEquality({segHeights:au});function KYe(t,e){if(!t.length)return[];let n=WYe(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function WYe(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class GYe extends Sp{constructor(){super(...arguments),this.splitBusinessHourSegs=_r(i2),this.splitBgEventSegs=_r(qYe),this.splitFgEventSegs=_r(i2),this.splitDateSelectionSegs=_r(i2),this.splitEventDrag=_r(gz),this.splitEventResize=_r(gz),this.rowRefs=new gh}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),s=this.splitFgEventSegs(e.fgEventSegs,r),o=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r),A=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return Ze(QE,{unit:"day"},(d,f)=>Ze(Zi,null,e.cells.map((h,p)=>Ze(hre,{ref:this.rowRefs.createRef(p),key:h.length?h[0].date.toISOString():p,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:i[p],eventSelection:e.eventSelection,bgEventSegs:a[p],fgEventSegs:s[p],dateSelectionSegs:o[p],eventDrag:l[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:A,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new BS(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new BS(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,a=r.leftToIndex(e),s=i.topToIndex(n);if(s!=null&&a!=null){let o=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:r.lefts[a],right:r.rights[a],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=As(r,1);return{start:r,end:i}}}function qYe(t,e){return i2(t.filter(YYe),e)}function YYe(t){return t.eventRange.def.allDay}let XYe=class extends Sp{constructor(){super(...arguments),this.elRef=VA(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,a=r===!0||n===!0;a&&!i&&(a=!1,n=null,r=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return Ze("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Ze("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,Ze("tbody",{role:"presentation"},Ze(GYe,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=JYe(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}};function JYe(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${_Ke(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${JO(e.currentDate)}"]`)),n}class ZYe extends TGe{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class eXe extends Sp{constructor(){super(...arguments),this.slicer=new ZYe,this.tableRef=VA()}render(){let{props:e,context:n}=this;return Ze(XYe,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class tXe extends DYe{constructor(){super(...arguments),this.buildDayTableModel=_r(nXe),this.headerRef=VA(),this.tableRef=VA()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),a=e.dayHeaders&&Ze(BGe,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=o=>Ze(eXe,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,s)}}function nXe(t,e){let n=new jGe(t.renderRange,e);return new IGe(n,/year|month|week/.test(t.currentRangeUnit))}class rXe extends xne{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:a}=this;return iXe({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function iXe(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,a;if(t.snapToWeek&&(r=e.startOfWeek(r),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=HH(a,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(As(n.end,-1))),o=Math.ceil(hKe(s,i));i=HH(i,6-o)}return{start:r,end:i}}var aXe=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';ine(aXe);var pre=Nf({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:tXe,dateProfileGeneratorClass:rXe},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}}),mre={code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"Ao",month:"Mes",week:"Semana",day:"Da",list:"Agenda"},buttonHints:{prev:"$0 antes",next:"$0 siguiente",today(t){return t==="Da"?"Hoy":(t==="Semana"?"Esta":"Este")+" "+t.toLocaleLowerCase()}},viewHint(t){return"Vista "+(t==="Semana"?"de la":"del")+" "+t.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo el da",moreLinkText:"ms",moreLinkHint(t){return`Mostrar ${t} eventos ms`},noEventsText:"No hay eventos para mostrar",navLinkHint:"Ir al $0",closeHint:"Cerrar",timeHint:"La hora",eventHint:"Evento"};const sXe=(t,e)=>{const n=[],r=new Date,i=r.getFullYear();return t.forEach(a=>{const s=a.category==="Tratamiento"?"#007AFF":"#AF52DE";if(e==="Maternidad"&&a.trigger.type==="age"&&a.trigger.days)a.trigger.days.forEach(o=>{const l=new Date;l.setDate(r.getDate()+o),n.push({title:a.name,start:l,backgroundColor:s,borderColor:s})});else if(e==="Adultos"&&a.trigger.type==="fixed_date_period"&&a.trigger.month&&a.trigger.week){const o=(a.trigger.week-1)*7+1,l=new Date(i,a.trigger.month-1,o);n.push({title:a.name,start:l,backgroundColor:s,borderColor:s})}}),n},oXe=({isOpen:t,onClose:e,activities:n,targetGroup:r})=>{const i=be.useMemo(()=>sXe(n,r),[n,r]);return c.jsx(An,{isOpen:t,onClose:e,title:"",children:c.jsxs(Ji.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-2xl mx-auto p-4 sm:p-0",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white leading-none",children:"Previsualizacin del Plan"}),c.jsx("p",{className:"text-zinc-400 mt-2",children:r==="Maternidad"?"Este calendario simula las fechas de las actividades asumiendo un nacimiento el da de hoy.":"Este calendario muestra la distribucin de las actividades a lo largo del ao actual."})]}),c.jsx("div",{className:"h-[55vh] sm:h-[60vh] text-white",children:c.jsx(vF,{plugins:[pre],initialView:"dayGridMonth",locale:mre,events:i,height:"100%",headerToolbar:{left:"prev,next",center:"title",right:"today"}})}),c.jsx("div",{className:"flex justify-end mt-6",children:c.jsx("button",{onClick:e,className:"px-6 py-3 bg-brand-blue text-white font-bold rounded-xl w-full sm:w-auto",children:"Cerrar"})})]})})},lXe=({targetGroup:t,activityType:e,onSaveActivity:n,existingActivity:r,clearEditing:i})=>{const{products:a,addProduct:s}=Yt(),[o,l]=P.useState(""),[u,A]=P.useState(""),[d,f]=P.useState(""),[h,p]=P.useState(!1),[m,v]=P.useState(null),[g,y]=P.useState(new Set),[x,S]=P.useState(""),[E,N]=P.useState(null),_=["0","8","15","21","30","45","60","75","90","105","120"],O=e==="Control"?t==="Maternidad"?["Cura de Ombligo","Descorne","Castracin","Hematologa","Coprologa","FAMACHA"]:["Hematologa","Coprologa","Arreglo Podal","FAMACHA"]:t==="Maternidad"?["Coxidioesttico","Desparasitacin","Vacuna Clostridial"]:["Desparasitacin","Vacuna Leptospirosis","Vacuna Clostridial","Vacuna Rabia"],L=P.useMemo(()=>a.reduce((le,se)=>{const M=se.category||"Otro";return le[M]||(le[M]=[]),le[M].push(se),le},{}),[a]);P.useEffect(()=>{r?(l(r.name),e==="Tratamiento"&&(A(r.productId||""),f(r.complementaryProductId||"")),t==="Maternidad"&&r.trigger.days&&y(new Set(r.trigger.days.map(String))),t==="Adultos"&&r.trigger.month&&r.trigger.week&&y(new Set([`${r.trigger.month}-${r.trigger.week}`]))):H()},[r,e,t]);const H=()=>{l(""),A(""),f(""),y(new Set),S(""),v(null),i()},q=le=>{le.trim()&&y(se=>{const M=new Set(se);return M.has(le)?M.delete(le):M.add(le),M})},Y=()=>{x&&!isNaN(Number(x))&&(q(x),S(""))},ee=async le=>{await s(le),p(!1)},K=()=>{if(v(null),!o.trim()){v("El nombre es obligatorio.");return}if(e==="Tratamiento"&&!u){v("Debe seleccionar un producto principal.");return}if(g.size===0){v("Debe seleccionar al menos un tiempo de aplicacin.");return}const le=[],se={category:e,name:o};if(e==="Tratamiento"&&(u&&(se.productId=u),d&&(se.complementaryProductId=d)),t==="Maternidad"){const M={type:"age",days:Array.from(g).map(Number).sort(($,J)=>$-J)};le.push({...se,trigger:M})}else Array.from(g).forEach(M=>{const[$,J]=M.split("-").map(Number),ne={type:"fixed_date_period",month:$,week:J};le.push({...se,trigger:ne})});le.forEach(M=>n(M,!!r)),H()},te=Array.from(g).filter(le=>!_.includes(le));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Aadir ",e]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{list:"activity-names-list",value:o,onChange:le=>l(le.target.value),placeholder:`Nombre del ${e}...`,className:"w-full bg-zinc-800 p-3 rounded-lg text-base"}),c.jsx("datalist",{id:"activity-names-list",children:O.map(le=>c.jsx("option",{value:le},le))}),e==="Control"&&c.jsx("button",{type:"button",onClick:()=>alert("Funcionalidad para crear nuevos tipos de control en desarrollo."),className:"flex-shrink-0 p-3 bg-brand-orange/80 text-white rounded-lg",children:c.jsx(Bl,{size:20})})]}),e==="Tratamiento"&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:u,onChange:le=>A(le.target.value),className:"w-full bg-zinc-800 p-3 rounded-lg text-base appearance-none",children:[c.jsx("option",{value:"",disabled:!0,children:"Producto Principal..."}),Object.entries(L).map(([le,se])=>c.jsx("optgroup",{label:le,children:se.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))},le))]}),c.jsx("button",{type:"button",onClick:()=>p(!0),className:"flex-shrink-0 p-3 bg-brand-orange text-white rounded-lg",children:c.jsx(Bl,{size:20})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:d,onChange:le=>f(le.target.value),className:"w-full bg-zinc-800 p-3 rounded-lg text-base appearance-none",children:[c.jsx("option",{value:"",children:"Producto Complementario (Opcional)..."}),Object.entries(L).map(([le,se])=>c.jsx("optgroup",{label:le,children:se.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))},le))]}),c.jsx("button",{type:"button",onClick:()=>p(!0),className:"flex-shrink-0 p-3 bg-brand-orange/50 text-white rounded-lg",children:c.jsx(Bl,{size:20})})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-base font-medium text-zinc-400",children:"Tiempos de Aplicacin (Selecciona uno o varios)"}),t==="Maternidad"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.map(le=>c.jsx("button",{type:"button",onClick:()=>q(le),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${g.has(le)?"bg-zinc-200 text-black":"bg-zinc-700 text-zinc-300"}`,children:le==="0"?"Nacimiento":`${le} das`},le)),te.map(le=>c.jsxs("button",{type:"button",onClick:()=>q(le),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-semibold rounded-lg bg-zinc-200 text-black",children:[le," das ",c.jsx(Bo,{size:16})]},`manual-${le}`))]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("input",{type:"number",value:x,onChange:le=>S(le.target.value),placeholder:"Da manual...",className:"w-full bg-zinc-800 p-3 rounded-lg text-base"}),c.jsx("button",{type:"button",onClick:Y,className:"px-5 py-3 bg-zinc-700 text-white font-semibold rounded-lg text-sm hover:bg-zinc-600",children:"Agregar"})]})]}):c.jsx("div",{className:"p-2 bg-zinc-800 rounded-lg",children:c.jsx(Ww,{mode:"wait",children:E?c.jsxs(Ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>N(null),className:"p-2 text-zinc-400 hover:bg-zinc-700 rounded-md",children:c.jsx(Di,{size:16})}),c.jsx("h4",{className:"font-bold text-white",children:new Date(0,E-1).toLocaleString("es-VE",{month:"long"})})]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(le=>{const se=`${E}-${le}`,M=g.has(se);return c.jsxs("button",{type:"button",onClick:()=>q(se),className:`py-3 px-2 text-sm font-semibold rounded-md transition-colors ${M?"bg-teal-500 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:["Semana ",le]},le)})})]},"weeks-view"):c.jsx(Ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-4 gap-2",children:[...Array(12)].map((le,se)=>{const M=se+1,$=new Date(0,se).toLocaleString("es-VE",{month:"short"}),J=Array.from(g).some(ne=>ne.startsWith(`${M}-`));return c.jsxs("button",{type:"button",onClick:()=>N(M),className:"relative text-center py-3 px-2 text-sm font-semibold rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-300 transition-colors",children:[J&&c.jsx("span",{className:"absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-brand-green rounded-full"}),$.charAt(0).toUpperCase()+$.slice(1)]},M)})},"months-view")})})]}),m&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2",children:[c.jsx(mr,{size:16})," ",m]}),c.jsx("button",{type:"button",onClick:K,className:"w-full py-3 bg-brand-orange text-black font-bold rounded-lg text-base mt-4",children:r?"Actualizar Actividad":"Aadir a la Lista"}),c.jsx(An,{isOpen:h,onClose:()=>p(!1),title:"Crear Producto",children:c.jsx(KO,{onSave:ee,onCancel:()=>p(!1)})})]})},cXe=({onSave:t,onCancel:e})=>{const[n,r]=P.useState(1),[i,a]=P.useState(""),[s,o]=P.useState(""),[l,u]=P.useState("Maternidad"),[A,d]=P.useState(new Set),[f,h]=P.useState([]),[p,m]=P.useState(null),[v,g]=P.useState(null),[y,x]=P.useState(!1),[S,E]=P.useState("Tratamiento"),[N,_]=P.useState(!1),B=["Cabritonas","Cabras","Reproductores","Machos de Levante"],j=H=>{d(q=>{const Y=new Set(q);return Y.has(H)?Y.delete(H):Y.add(H),Y})},D=(H,q)=>{h(q&&p?Y=>Y.map(ee=>ee.tempId===p.tempId?{...H,tempId:ee.tempId}:ee):Y=>[...Y,{...H,tempId:Date.now()}])},k=H=>{h(q=>q.filter(Y=>Y.tempId!==H))},O=async()=>{if(!i.trim()){g("El nombre del plan es obligatorio.");return}if(l==="Adultos"&&A.size===0){g("Debe seleccionar al menos una categora de adulto.");return}if(f.length===0){g("Debe aadir al menos una actividad al plan.");return}g(null),x(!0);try{const H=f.map(({tempId:Y,...ee})=>ee),q={name:i,description:s,targetGroup:l,adultsSubgroup:l==="Adultos"?Array.from(A):void 0};await t(q,H)}catch{g("No se pudo guardar el plan."),x(!1)}},L=()=>n===1?c.jsxs(Ji.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Crear Plan Sanitario"}),c.jsx("p",{className:"text-zinc-400",children:"Paso 1: Define tu plan"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"text",value:i,onChange:H=>a(H.target.value),placeholder:"Nombre del Plan",className:"w-full bg-zinc-800 p-3 rounded-xl text-base"}),c.jsx("input",{type:"text",value:s,onChange:H=>o(H.target.value),placeholder:"Descripcin (Opcional)",className:"w-full bg-zinc-800 p-3 rounded-xl text-base"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-base font-medium text-zinc-400 mb-2 block",children:"Grupo Objetivo"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>u("Maternidad"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${l==="Maternidad"?"bg-teal-500/20 border-teal-500 scale-105":"bg-zinc-800/50 border-zinc-700"}`,children:[c.jsx(Zpe,{className:"w-8 h-8 text-teal-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Maternidad"})]}),c.jsxs("button",{type:"button",onClick:()=>u("Adultos"),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all ${l==="Adultos"?"bg-pink-500/20 border-pink-500 scale-105":"bg-zinc-800/50 border-zinc-700"}`,children:[c.jsx(nme,{className:"w-8 h-8 text-pink-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Rebao Adulto"})]})]})]})]}),v&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2 mt-4",children:[c.jsx(mr,{size:16})," ",v]}),c.jsxs("div",{className:"flex flex-col sm:flex-row-reverse sm:justify-start gap-3 pt-4",children:[c.jsx("button",{onClick:()=>{i.trim()?(r(2),g(null)):g("El nombre del plan es obligatorio.")},className:"w-full sm:w-auto px-5 py-3 bg-brand-orange text-black font-bold rounded-xl flex items-center justify-center gap-2",children:"Siguiente"}),c.jsx("button",{onClick:e,className:"w-full sm:w-auto px-5 py-3 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-xl",children:"Cancelar"})]})]},"step1"):n===2?c.jsxs(Ji.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:i||"Nuevo Plan"}),c.jsxs("p",{className:"text-zinc-400",children:["Paso 2: Aade las actividades para el grupo: ",c.jsx("span",{className:"font-semibold text-white",children:l})]})]}),c.jsx(Ww,{children:l==="Adultos"&&c.jsxs(Ji.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 overflow-hidden",children:[c.jsx("label",{className:"text-base font-medium text-zinc-400 mb-2 block",children:"Categoras (Selecciona una o varias)"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(H=>c.jsx("button",{type:"button",onClick:()=>j(H),className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${A.has(H)?"bg-pink-500 text-white":"bg-zinc-700 text-zinc-300"}`,children:H},H))})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h3",{className:"text-xl font-semibold text-zinc-300",children:["Actividades del Plan (",f.length,")"]}),c.jsx("div",{className:"min-h-[100px] max-h-60 overflow-y-auto pr-2 border border-brand-border rounded-xl p-2 space-y-2",children:c.jsx(Ww,{children:f.length>0?f.map(H=>{var q;return c.jsxs(Ji.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`flex justify-between items-center bg-zinc-800 p-3 rounded-lg border-l-4 ${H.category==="Tratamiento"?"border-blue-500":"border-purple-500"}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white",children:H.name}),c.jsxs("p",{className:"text-xs text-zinc-400",children:[((q=H.trigger.days)==null?void 0:q.map(Y=>Y===0?"Nacer":Y).join(", "))||"Tiempos no definidos"," das"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>m({activity:H,tempId:H.tempId}),className:"p-1 text-zinc-400 hover:text-brand-orange",children:c.jsx(yf,{size:16})}),c.jsx("button",{onClick:()=>k(H.tempId),className:"p-1 text-zinc-400 hover:text-brand-red",children:c.jsx(bc,{size:16})})]})]},H.tempId)}):c.jsx("div",{className:"text-center py-6 text-zinc-500",children:c.jsx("p",{children:"Aade actividades para empezar a construir tu plan."})})})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"relative flex w-full max-w-sm mx-auto justify-between rounded-lg bg-zinc-800 p-1 mb-6",children:[c.jsxs("button",{type:"button",onClick:()=>E("Tratamiento"),className:"relative z-10 w-1/2 py-2 text-sm font-semibold text-white flex items-center justify-center gap-2",children:[c.jsx(tme,{})," Tratamiento"]}),c.jsxs("button",{type:"button",onClick:()=>E("Control"),className:"relative z-10 w-1/2 py-2 text-sm font-semibold text-white flex items-center justify-center gap-2",children:[c.jsx(eme,{})," Control"]}),c.jsx(Ji.div,{layoutId:"add-type-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-1/2 rounded-md bg-zinc-600 ${S==="Control"?"left-1/2":"left-1"}`})]}),c.jsx(lXe,{targetGroup:l,activityType:S,onSaveActivity:D,existingActivity:p?p.activity:null,clearEditing:()=>m(null)})]}),v&&c.jsxs("p",{className:"text-sm text-red-400 flex items-center gap-2 mt-4",children:[c.jsx(mr,{size:16})," ",v]}),c.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between items-center pt-6 gap-4",children:[c.jsxs("button",{onClick:()=>r(1),className:"w-full sm:w-auto px-5 py-3 text-zinc-300 font-semibold rounded-xl flex items-center justify-center gap-2 hover:bg-zinc-700",children:[c.jsx(Di,{size:16})," Atrs"]}),c.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[c.jsxs("button",{onClick:()=>_(!0),className:"flex-1 px-5 py-3 bg-brand-blue text-white font-bold rounded-xl flex items-center justify-center gap-2",children:[c.jsx(yq,{size:16})," Previsualizar"]}),c.jsx("button",{onClick:O,disabled:y,className:"flex-1 px-5 py-3 bg-brand-green text-white font-bold rounded-xl flex items-center justify-center gap-2 disabled:opacity-50",children:y?"Guardando...":c.jsxs(c.Fragment,{children:[c.jsx(Za,{size:16})," Guardar"]})})]})]})]},"step2"):null;return c.jsxs("div",{className:"w-full p-4",children:[c.jsx(Ww,{mode:"wait",children:L()}),c.jsx(oXe,{isOpen:N,onClose:()=>_(!1),activities:f,targetGroup:l})]})},uXe=({plan:t,onClick:e,onDelete:n,isDeleting:r})=>{const i=Ap(),a=P.useRef(!1),s=(o,l)=>{const u=l.offset.x,A=l.velocity.x;if(Math.abs(u)<5&&!a.current){e();return}u<-80/2||A<-500?i.start({x:-80}):i.start({x:0}),setTimeout(()=>{a.current=!1},100)};return c.jsxs("div",{className:`relative w-full overflow-hidden rounded-2xl bg-dashboard-surface border border-brand-border transition-opacity ${r?"opacity-50":"opacity-100"}`,children:[c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:c.jsxs("button",{onClick:n,onPointerDown:o=>o.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white transition-colors hover:bg-red-600",children:[c.jsx(bc,{size:22}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})}),c.jsx(Ji.div,{drag:"x",dragConstraints:{left:-80,right:0},dragElastic:.1,onDragStart:()=>{a.current=!0},onDragEnd:s,onTap:()=>{!a.current&&!r&&e()},animate:i,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg p-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.name}),c.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:t.description||`Plan para ${t.targetGroup}`})]}),r?c.jsx(eu,{className:"animate-spin text-zinc-400"}):c.jsx(ta,{className:"text-zinc-600"})]})})]})};function AXe({navigateTo:t}){const{healthPlans:e,deleteHealthPlan:n,addHealthPlanWithActivities:r}=Yt(),[i,a]=P.useState(!1),[s,o]=P.useState(null),[l,u]=P.useState(null),A=async(f,h)=>{await r(f,h),a(!1)},d=async()=>{if(s!=null&&s.id){u(s.id),o(null);try{await n(s.id)}catch(f){console.error("Error al eliminar el plan:",f)}finally{u(null)}}};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Planificador Sanitario"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Define tus Protocolos y Planes"})]}),c.jsxs("button",{onClick:()=>a(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:opacity-90 text-black font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[c.jsx(na,{size:18})," Crear Nuevo Plan Sanitario"]}),c.jsx("div",{className:"space-y-3 pt-4",children:e.length>0?e.map(f=>c.jsx(uXe,{plan:f,onClick:()=>t({name:"plan-detail",planId:f.id}),onDelete:()=>o(f),isDeleting:l===f.id},f.id)):c.jsxs("div",{className:"text-center py-10 bg-dashboard-surface rounded-2xl flex flex-col items-center gap-4",children:[c.jsx(CD,{size:48,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold",children:"An no has creado ningn plan."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:"Usa el botn de arriba para empezar."})]})})]}),c.jsx(An,{isOpen:i,onClose:()=>a(!1),title:"",children:c.jsx(cXe,{onSave:A,onCancel:()=>a(!1)})}),c.jsx(C0,{isOpen:!!s,onClose:()=>o(null),onConfirm:d,title:`Eliminar Plan "${s==null?void 0:s.name}"`,message:"Ests seguro? Al eliminar el plan, tambin se eliminarn todas sus actividades asociadas. Esta accin no se puede deshacer."})]})}pF.touchMouseIgnoreWait=500;let YT=0,NS=0,XT=!1;class gre{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&dXe(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,fXe()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new UE,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),hXe()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),pXe()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||ao(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){XT=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ao(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return YT||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(XT=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,a,s=0,o=0;return r&&r.length?(i=r[0].pageX,a=r[0].pageY):(i=e.pageX,a=e.pageY),n?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:o}}}function dXe(t){return t.button===0&&!t.ctrlKey}function fXe(){YT+=1,setTimeout(()=>{YT-=1},pF.touchMouseIgnoreWait)}function hXe(){NS+=1,NS===1&&window.addEventListener("touchmove",vre,{passive:!1})}function pXe(){NS-=1,NS||window.removeEventListener("touchmove",vre,{passive:!1})}function vre(t){XT&&t.preventDefault()}class mXe{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",ry(r,{left:i.left,top:i.top}),Y$e(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(qO(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ry(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),ry(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class yre extends hF{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class bre extends yre{constructor(e,n){super(new yGe(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return gGe(this.scrollController.el)}}class gXe extends yre{constructor(e){super(new bGe,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const vz=typeof performance=="function"?performance.now:Date.now;class vXe{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=vz();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(vz()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,a=i-e.distance,s=a*a/(i*i)*this.maxVelocity*n,o=1;switch(e.name){case"left":o=-1;case"right":r.setScrollLeft(r.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":r.setScrollTop(r.getScrollTop()+s*o);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,a=this.scrollCaches||[];for(let s of a){let o=s.clientRect,l=e-o.left,u=o.right-e,A=n-o.top,d=o.bottom-n;l>=0&&u>=0&&A>=0&&d>=0&&(A<=r&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>A)&&(i={scrollCache:s,name:"top",distance:A}),d<=r&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"bottom",distance:d}),l<=r&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),u<=r&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new gXe(!1):new bre(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class jx extends wGe{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,X$e(document.body),Z$e(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,s,{deltaX:o,deltaY:l}=i;s=o*o+l*l,s>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,J$e(document.body),eKe(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new gre(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new mXe,this.autoScroller=new vXe}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class yXe{constructor(e){this.el=e,this.origRect=fF(e),this.scrollCaches=Une(e).map(n=>new bre(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!bXe(i.getEventTarget())&&!sGe(r,i.clientRect))return!1;return!0}}function bXe(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class HE{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new UE}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,a;i instanceof HTMLElement&&(a=fF(i),r=oGe(r,a));let s=this.initialHit=this.queryHitForOffset(r.left,r.top);if(s){if(this.useSubjectCenter&&a){let o=Lne(a,s.rect);o&&(r=lGe(o))}this.coordAdjust=cGe(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!zE(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=xp(this.droppableStore,e=>(e.component.prepareHits(),new yXe(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,a=null;for(let s in r){let o=r[s].component,l=i[s];if(l&&l.isWithinClipping(e,n)){let u=l.computeLeft(),A=l.computeTop(),d=e-u,f=n-A,{origRect:h}=l,p=h.right-h.left,m=h.bottom-h.top;if(d>=0&&d<p&&f>=0&&f<m){let v=o.queryHit(d,f,p,m);v&&ME(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+u-window.scrollX,f+A-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=A,v.rect.bottom+=A,a=v)}}}return a}}function zE(t,e){return!t&&!e?!0:!!t!=!!e?!1:qWe(t.dateSpan,e.dateSpan)}function xre(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,xXe(t,e.dateEnv)),n}function xXe(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class wXe extends _0{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,a=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&zE(s,o)){let{context:l}=i,u=Object.assign(Object.assign({},xre(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new jx(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new HE(this.dragging,AF(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class CXe extends _0{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,A=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!A),l.delay=s.isTouch?SXe(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,A=!1;if(s){let d=this.hitDragging.initialHit;s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(u=EXe(d,s,l.pluginHooks.dateSelectionTransformers)),(!u||!kGe(u,s.dateProfile,l))&&(A=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),A?YO():XO(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(jne(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new jx(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new HE(this.dragging,AF(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function SXe(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function EXe(t,e,n){let r=t.dateSpan,i=e.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(aKe);let s={};for(let o of n){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:a[0],end:a[3]},s.allDay=r.allDay,s}class Ix extends _0{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:A}=u,{options:d}=l.context,f=l.context;this.subjectEl=s.subjectEl;let h=this.subjectSeg=Yg(s.subjectEl),m=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=oF(f.getCurrentData().eventStore,m),u.minDistance=s.isTouch?0:d.eventDragMinDistance,u.delay=s.isTouch&&m!==l.props.eventSelection?BXe(l):null,d.fixedMirrorParent?A.parentNode=d.fixedMirrorParent:A.parentNode=ao(o,".fc"),A.revertDuration=d.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!ao(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ki(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,A=this.component.context,d=null,f=null,h=null,p=!1,m={affectedEvents:l,mutatedEvents:Xc(),isEvent:!0};if(s){d=s.context;let v=d.options;A===d||v.editable&&v.droppable?(f=_Xe(u,s,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(h=uF(l,d.getCurrentData().eventUiBases,f,d),m.mutatedEvents=h,Vne(m,s.dateProfile,d)||(p=!0,f=null,h=null,m.mutatedEvents=Xc()))):d=null}this.displayDrag(d,m),p?YO():XO(),o||(A===d&&zE(u,s)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=f,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:A}=this,d=this.eventRange.def,f=this.eventRange.instance,h=new ki(o,d,f),p=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:s.origEvent,view:l}),A){if(u===o){let g=new ki(o,m.defs[d.defId],f?m.instances[f.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:m});let y={oldEvent:h,event:g,relatedEvents:Ih(m,o,f),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}},x={};for(let S of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(x,S(A,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),x),{el:s.subjectEl,delta:A.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let g={event:h,relatedEvents:Ih(p,o,f),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},g),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:p}),o.emitter.trigger("eventRemove",g);let y=m.defs[d.defId],x=m.instances[f.instanceId],S=new ki(u,y,x);u.dispatch({type:"MERGE_EVENTS",eventStore:m});let E={event:S,relatedEvents:Ih(m,u,x),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};u.emitter.trigger("eventAdd",E),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},xre(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},E),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new jx(e.el);i.pointer.selector=Ix.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new HE(this.dragging,WT);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Xc(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Ix.SELECTOR=".fc-event-draggable, .fc-event-resizable";function _Xe(t,e,n,r){let i=t.dateSpan,a=e.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?s=Ti(n):s=n);let u=Em(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let A={datesDelta:u,standardProps:l};for(let d of r)d(A,t,e);return A}function BXe(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class NXe extends _0{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:s}=this,o=this.querySegEl(a),l=Yg(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=oF(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=Yg(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new ki(s,o.def,o.instance),jsEvent:a.origEvent,view:s.viewApi})},this.handleHitUpdate=(a,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,A=this.hitDragging.initialHit,d=this.eventRange.instance,f=null,h=null,p=!1,m={affectedEvents:u,mutatedEvents:Xc(),isEvent:!0};a&&(a.componentId===A.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(A,a)||(f=jXe(A,a,o.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),f&&(h=uF(u,l.getCurrentData().eventUiBases,f,l),m.mutatedEvents=h,Vne(m,a.dateProfile,l)||(p=!0,f=null,h=null,m.mutatedEvents=null)),h?l.dispatch({type:"SET_EVENT_RESIZE",state:m}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),p?YO():XO(),s||(f&&zE(A,a)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=h)},this.handleDragEnd=a=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new ki(s,o,l),A=this.relevantEvents,d=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:s.viewApi}),this.validMutation){let f=new ki(s,d.defs[o.defId],l?d.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:d});let h={oldEvent:u,event:f,relatedEvents:Ih(d,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:A})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||kr(0),endDelta:this.validMutation.endDelta||kr(0),jsEvent:a.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",h)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new jx(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new HE(this.dragging,AF(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ao(e.subjectEl,".fc-event")}}function jXe(t,e,n,r){let i=t.context.dateEnv,a=t.dateSpan.range.start,s=e.dateSpan.range.start,o=Em(a,s,i,t.largeUnit);if(n){if(i.add(r.start,o)<r.end)return{startDelta:o}}else if(i.add(r.end,o)>r.start)return{endDelta:o};return null}class IXe{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,a=lne(r.origEvent);this.matchesCancel=!!ao(a,i),this.matchesEvent=!!ao(a,Ix.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:a}=this,s=i.getCurrentData();if(!a.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(r)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new gre(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const TXe={fixedMirrorParent:Je},kXe={dateClick:Je,eventDragStart:Je,eventDragStop:Je,eventDrop:Je,eventResizeStart:Je,eventResizeStop:Je,eventResize:Je,drop:Je,eventReceive:Je,eventLeave:Je};pF.dataAttrPrefix="";var PXe=Nf({name:"@fullcalendar/interaction",componentInteractions:[wXe,CXe,Ix,NXe],calendarInteractions:[IXe],elementDraggingImpl:jx,optionRefiners:TXe,listenerRefiners:kXe});const DXe=(t,e,n)=>{const r=(n-1)*7+1;return new Date(Date.UTC(t,e-1,r))},OXe=()=>{const{animals:t,healthPlans:e,planActivities:n,healthEvents:r,parturitions:i,appConfig:a}=Yt(),{forecastBySeason:s}=VO(),o=P.useMemo(()=>{const u=new Date;u.setUTCHours(0,0,0,0);const A=u.getUTCFullYear(),d=new Date(u.getTime()+90*24*60*60*1e3),f=[],h=t.filter(p=>p.status==="Activo"&&!p.isReference);for(const p of e){const m=h.filter(g=>{var x,S;const y=Yc(g.birthDate);if(y<0)return!1;if(p.targetGroup==="Maternidad")return y<=120;if(p.targetGroup==="Adultos"){if(y<=120)return!1;const E=p.adultsSubgroup&&p.adultsSubgroup.length>0,N=p.targetLots&&p.targetLots.length>0;if(!E&&!N)return!0;const _=_f(g,i),B=E&&((x=p.adultsSubgroup)==null?void 0:x.includes(_)),j=N&&((S=p.targetLots)==null?void 0:S.includes(g.location));if(E&&N)return B||j;if(E)return B;if(N)return j}return!1}),v=n.filter(g=>g.healthPlanId===p.id);for(const g of m)for(const y of v){const x=(S,E)=>{if(!S||!E)return;if(S.setUTCHours(0,0,0,0),!r.some(_=>_.animalId!==g.id||_.activityId!==y.id?!1:y.trigger.type==="age"?new Date(_.date+"T00:00:00Z").getTime()===S.getTime():new Date(_.date+"T00:00:00Z").getUTCFullYear()===S.getUTCFullYear())&&S<=d){let _="Prxima";const B=Math.ceil((S.getTime()-u.getTime())/864e5);B<0&&Math.abs(B)>a.diasAlertaAtraso?_="Atrasada":B===0&&(_="Para Hoy"),f.push({key:E,animal:g,plan:p,activity:y,dueDate:S,status:_})}};if(y.trigger.type==="age"&&y.trigger.days)for(const S of y.trigger.days){const E=new Date(g.birthDate+"T00:00:00Z");E.setUTCDate(E.getUTCDate()+S),x(E,`${g.id}-${y.id}-${S}`)}else if(y.trigger.type==="fixed_date_period"&&y.trigger.month&&y.trigger.week){const S=DXe(A,y.trigger.month,y.trigger.week),E=`${g.id}-${y.id}-${A}`;x(S,E)}else if(y.trigger.type==="birthing_season_event"&&y.trigger.offsetDays!==void 0){const S=s.find(E=>E.events.some(N=>N.animal.id===g.id));if(S&&S.projectedStartDate){const E=new Date(S.projectedStartDate);E.setUTCDate(E.getUTCDate()+y.trigger.offsetDays);const N=E,_=`${g.id}-${y.id}-${S.seasonId}`;x(N,_)}}}}return f.sort((p,m)=>p.dueDate.getTime()-m.dueDate.getTime())},[t,e,n,r,i,s,a.diasAlertaAtraso]);return{...P.useMemo(()=>({overdue:o.filter(u=>u.status==="Atrasada"),today:o.filter(u=>u.status==="Para Hoy"),upcoming:o.filter(u=>u.status==="Prxima")}),[o]),allTasks:o}},FXe=({task:t,onSave:e,onCancel:n})=>{const{addHealthEvent:r,products:i,bodyWeighings:a,appConfig:s}=Yt(),[o,l]=P.useState(new Date().toISOString().split("T")[0]),[u,A]=P.useState(""),[d,f]=P.useState(null),[h,p]=P.useState(!1),{animal:m,activity:v}=t,g=m.name?String(m.name).toUpperCase().trim():"",y=P.useMemo(()=>i.find(_=>_.id===v.productId),[i,v.productId]),x=P.useMemo(()=>a.filter(_=>_.animalId===m.id).sort((_,B)=>new Date(B.date).getTime()-new Date(_.date).getTime())[0],[a,m.id]),{doseApplied:S,calculatedCost:E}=P.useMemo(()=>{if(!y||!x)return{doseApplied:void 0,calculatedCost:void 0};let _=0;if(y.dosageType==="fixed"&&y.dosageFixed?_=y.dosageFixed:y.dosageType==="per_kg"&&y.dosagePerKg_ml&&y.dosagePerKg_kg&&(_=x.kg/y.dosagePerKg_kg*y.dosagePerKg_ml),_===0)return{doseApplied:void 0,calculatedCost:void 0};let B=0;const j=y.presentationUnit==="L"?(y.presentationValue||0)*1e3:y.presentationValue||0;if(y.price&&j>0){const D=y.price/j;B=_*D}return{doseApplied:parseFloat(_.toFixed(2)),calculatedCost:parseFloat(B.toFixed(2))}},[y,x]),N=async _=>{_.preventDefault(),p(!0),f(null);const B=(y==null?void 0:y.withdrawalDaysMilk)??s.diasRetiroLecheDefault,j=(y==null?void 0:y.withdrawalDaysMeat)??s.diasRetiroCarneDefault;try{await r({animalId:m.id,lotName:m.location,date:o,activityId:v.id,type:v.name,productUsed:y==null?void 0:y.id,doseApplied:S,unit:"ml",calculatedCost:E,notes:u,executedBy:"self",diasRetiroLeche:B,diasRetiroCarne:j}),e()}catch(D){console.error(D),f("No se pudo registrar el evento. Intntelo de nuevo.")}finally{p(!1)}};return c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-zinc-400 text-sm",children:"Animal:"}),c.jsx("p",{className:"font-mono font-semibold text-lg text-white truncate",children:m.id.toUpperCase()}),g&&c.jsx("p",{className:"text-sm font-normal text-zinc-300 truncate",children:g})]}),c.jsxs("div",{children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold text-zinc-400 text-sm",children:"Actividad:"})," ",c.jsx("span",{className:"font-bold text-base text-white",children:v.name})]}),y&&c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold text-zinc-400 text-sm",children:"Producto:"})," ",c.jsx("span",{className:"font-bold text-base text-white",children:y.name})]})]}),c.jsxs("div",{className:"p-4 bg-black/20 rounded-xl space-y-2",children:[c.jsx("h3",{className:"font-semibold text-white",children:"Detalles del Registro"}),x?c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-zinc-300",children:["Basado en el ltimo peso registrado de ",c.jsxs("span",{className:"font-bold text-white",children:[x.kg," kg"]}),"."]}),S!==void 0&&c.jsxs("p",{className:"text-sm text-zinc-300",children:["Dosis Calculada: ",c.jsxs("span",{className:"font-bold text-teal-400",children:[S," ml"]})]}),E!==void 0&&c.jsxs("p",{className:"text-sm text-zinc-300",children:["Costo Estimado: ",c.jsxs("span",{className:"font-bold text-amber-400",children:["$",E.toFixed(2)]})]})]}):c.jsx("p",{className:"text-sm text-amber-400",children:"Advertencia: No se encontr un peso reciente para este animal. La dosis y el costo no se pueden calcular automticamente."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"date",type:"date",value:o,onChange:_=>l(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Notas (Opcional)"}),c.jsx("textarea",{id:"notes",value:u,onChange:_=>A(_.target.value),placeholder:"Anotaciones sobre la aplicacin, etc.",rows:3,className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),d&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:d})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:h,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[h&&c.jsx(eu,{size:18,className:"animate-spin"}),h?"Guardando...":"Confirmar Registro"]})]})]})},LXe=({animals:t,selectedAnimalIds:e,onChange:n})=>{const r=i=>{const a=Array.from(i.target.selectedOptions,s=>s.value);n(a)};return c.jsx("select",{multiple:!0,value:e,onChange:r,className:"w-full h-40 bg-zinc-800 p-3 rounded-xl font-mono text-white",children:t.map(i=>{const a=i.name?String(i.name).toUpperCase().trim():"";return c.jsxs("option",{value:i.id,className:"py-1",children:[i.id.toUpperCase()," ",a&&` - ${a}`]},i.id)})})},MXe=({onSaveSuccess:t,onCancel:e})=>{const{addHealthEvent:n,products:r,animals:i,bodyWeighings:a}=Yt(),[s,o]=P.useState([]),[l,u]=P.useState(new Date().toISOString().split("T")[0]),[A,d]=P.useState(""),[f,h]=P.useState(void 0),[p,m]=P.useState(""),[v,g]=P.useState(null),[y,x]=P.useState(!1),S=P.useMemo(()=>r.find(_=>_.id===f),[r,f]),E=P.useMemo(()=>i.filter(_=>_.status==="Activo"&&!_.isReference).sort((_,B)=>_.id.localeCompare(B.id)),[i]),N=async _=>{if(_.preventDefault(),s.length===0||!A.trim()){g("Debe seleccionar al menos un animal y especificar el tipo de actividad.");return}x(!0),g(null);try{const B=s.map(j=>{const D=i.find(H=>H.id===j);if(!D)return null;const k=a.filter(H=>H.animalId===j).sort((H,q)=>new Date(q.date).getTime()-new Date(H.date).getTime())[0];let O,L;if(S&&k){let H=0;if(S.dosageType==="fixed"&&S.dosageFixed?H=S.dosageFixed:S.dosageType==="per_kg"&&S.dosagePerKg_ml&&S.dosagePerKg_kg&&(H=k.kg/S.dosagePerKg_kg*S.dosagePerKg_ml),H>0){O=parseFloat(H.toFixed(2));const q=S.presentationUnit==="L"?(S.presentationValue||0)*1e3:S.presentationValue||0;if(S.price&&q>0){const Y=S.price/q;L=parseFloat((H*Y).toFixed(2))}}}return{animalId:j,lotName:D.location,date:l,type:A,productUsed:f,doseApplied:O,unit:"ml",calculatedCost:L,notes:p,executedBy:"self"}});for(const j of B)j&&await n(j);t()}catch(B){console.error(B),g("No se pudo registrar el evento. Intntelo de nuevo.")}finally{x(!1)}};return c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Animal(es) (mantn Ctrl/Cmd para seleccionar varios)"}),c.jsx(LXe,{animals:E,selectedAnimalIds:s,onChange:o}),c.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[s.length," animal(es) seleccionado(s)."]})]}),c.jsx("input",{type:"text",value:A,onChange:_=>d(_.target.value),placeholder:"Tipo de Actividad (Ej: Tratamiento por Neumona)",className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsxs("select",{value:f||"",onChange:_=>h(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",children:"Seleccionar Producto (Opcional)..."}),r.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"unplanned-date",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicacin"}),c.jsx("input",{id:"unplanned-date",type:"date",value:l,onChange:_=>u(_.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl"})]}),c.jsx("textarea",{value:p,onChange:_=>m(_.target.value),placeholder:"Notas (Opcional)",rows:3,className:"w-full bg-zinc-800 p-3 rounded-xl"}),v&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18}),c.jsx("span",{children:v})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:y,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center gap-2",children:[y&&c.jsx(eu,{size:18,className:"animate-spin"}),y?"Guardando...":"Registrar Evento"]})]})]})},RXe=t=>{const{task:e}=t.event.extendedProps;if(!e)return c.jsx("div",{children:"Evento invlido"});const{animal:n,activity:r}=e,i=n.name?String(n.name).toUpperCase().trim():"";return c.jsxs("div",{className:"p-1 overflow-hidden w-full",style:{whiteSpace:"normal"},children:[c.jsx("p",{className:"font-mono font-semibold text-xs text-white truncate",children:n.id.toUpperCase()}),i&&c.jsx("p",{className:"text-[10px] font-normal text-zinc-300 truncate",children:i}),c.jsx("p",{className:"text-[10px] text-zinc-400 truncate",children:r.name})]})};function yz(){const{allTasks:t}=OXe(),[e,n]=P.useState(null),[r,i]=P.useState(!1),a=P.useRef(null),[s,o]=P.useState("dayGridMonth"),[l,u]=P.useState(""),A=P.useMemo(()=>t.map(m=>({id:m.key,title:`${m.animal.id} - ${m.activity.name}`,start:m.dueDate,allDay:!0,extendedProps:{task:m},backgroundColor:m.status==="Atrasada"?"#FF3B30":m.status==="Para Hoy"?"#34C759":"#007AFF",borderColor:m.status==="Atrasada"?"#FF3B30":m.status==="Para Hoy"?"#34C759":"#007AFF"})),[t]),d=m=>{n(m.event.extendedProps.task)},f=()=>{n(null),i(!1)},h=m=>{var v;(v=a.current)==null||v.getApi().changeView(m),o(m)},p=m=>{u(m.view.title)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full h-full max-w-4xl mx-auto p-4 flex flex-col",children:[c.jsxs("header",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-white leading-tight",children:"Calendario Sanitario"}),c.jsx("p",{className:"text-base sm:text-lg text-zinc-400",children:"Vista completa de actividades"})]}),c.jsxs("button",{onClick:()=>i(!0),className:"flex-shrink-0 flex items-center justify-center gap-2 bg-brand-blue text-white font-semibold py-2 px-4 rounded-lg transition-colors text-sm w-full sm:w-auto",children:[c.jsx(na,{size:16})," Registrar Actividad"]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().prev()},className:"p-2 bg-zinc-700 rounded-md hover:bg-zinc-600",children:c.jsx(Di,{size:16})}),c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().next()},className:"p-2 bg-zinc-700 rounded-md hover:bg-zinc-600",children:c.jsx(ta,{size:16})}),c.jsx("h2",{className:"text-xl font-semibold text-white capitalize w-40 text-center",children:l})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{var m;return(m=a.current)==null?void 0:m.getApi().today()},className:"px-4 py-1.5 bg-zinc-700 rounded-md hover:bg-zinc-600 text-sm font-semibold",children:"Hoy"}),c.jsxs("div",{className:"relative flex justify-between rounded-lg bg-zinc-700 p-1 text-sm font-semibold",children:[c.jsx("button",{onClick:()=>h("dayGridMonth"),className:"relative z-10 w-20 py-1 rounded-md",children:"Mes"}),c.jsx("button",{onClick:()=>h("dayGridWeek"),className:"relative z-10 w-20 py-1 rounded-md",children:"Semana"}),c.jsx(Ji.div,{layoutId:"calendar-view-bg",transition:{type:"spring",stiffness:400,damping:30},className:`absolute top-1 h-[calc(100%-0.5rem)] w-20 rounded-md bg-zinc-500 ${s==="dayGridWeek"?"left-[calc(50%_-_2px)]":"left-1"}`})]})]})]}),c.jsx("div",{className:"flex-grow",children:c.jsx(vF,{ref:a,plugins:[pre,PXe],initialView:s,locale:mre,events:A,eventClick:d,height:"100%",headerToolbar:!1,datesSet:p,eventContent:RXe})})]}),e&&c.jsx(An,{isOpen:!!e,onClose:()=>n(null),title:`Registrar: ${e.activity.name}`,children:c.jsx(FXe,{task:e,onSave:f,onCancel:()=>n(null)})}),c.jsx(An,{isOpen:r,onClose:()=>i(!1),title:"Registrar Actividad No Planificada",children:c.jsx(MXe,{onSaveSuccess:f,onCancel:()=>i(!1)})})]})}const S4=({legend:t,children:e})=>c.jsxs("fieldset",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-700 space-y-4",children:[c.jsx("legend",{className:"px-2 text-sm font-semibold text-zinc-400",children:t}),e]}),UXe=["Coxidioesttico","Desparasitacin","Vacuna Clostridial"],QXe=["Desparasitacin","Vacuna Leptospirosis","Vacuna Clostridial","Vacuna Rabia"],HXe=["Cura de ombligo","Revisin de Mucosas (FAMACHA)","Descorne","Castracin"],zXe=["Revisin de Mucosas (FAMACHA)","Recorte de Pezuas","Toma de muestra de Hematologa y Coprologa"],VXe=[1,8,15,21,30,45,60,90,120],$Xe=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],KXe=[{value:1,label:"1ra Semana"},{value:2,label:"2da Semana"},{value:3,label:"3ra Semana"},{value:4,label:"4ta Semana"}],WXe=({healthPlanId:t,targetGroup:e,onSave:n,onCancel:r,existingActivity:i})=>{const{products:a,addProduct:s}=Yt(),[o,l]=P.useState("Tratamiento"),[u,A]=P.useState(""),[d,f]=P.useState(void 0),[h,p]=P.useState(void 0),[m,v]=P.useState(e==="Maternidad"?"age":"fixed_date_period"),[g,y]=P.useState(""),[x,S]=P.useState("1"),[E,N]=P.useState("1"),[_,B]=P.useState(""),[j,D]=P.useState(!1),[k,O]=P.useState(null),L=e==="Maternidad"?o==="Tratamiento"?UXe:HXe:o==="Tratamiento"?QXe:zXe;P.useEffect(()=>{var Y;i&&(l(i.category),A(i.name),f(i.productId),p(i.complementaryProductId),v(i.trigger.type),i.trigger.type==="age"&&y(String(((Y=i.trigger.days)==null?void 0:Y[0])||"")),i.trigger.type==="fixed_date_period"&&(S(String(i.trigger.month||"1")),N(String(i.trigger.week||"1"))),i.trigger.type==="birthing_season_event"&&B(String(i.trigger.offsetDays||"")))},[i]);const H=async Y=>{await s(Y),D(!1)},q=async Y=>{if(Y.preventDefault(),O(null),!u.trim()){O("El nombre es obligatorio.");return}if(o==="Tratamiento"&&!d){O("Debe seleccionar un producto principal.");return}let ee;if(e==="Maternidad"){const te=parseInt(g,10);if(isNaN(te)||te<0){O("Los das de nacido deben ser un nmero vlido.");return}ee={type:"age",days:[te]}}else if(m==="fixed_date_period")ee={type:"fixed_date_period",month:parseInt(x,10),week:parseInt(E,10)};else{const te=parseInt(_,10);if(isNaN(te)){O("Debe introducir un nmero vlido de das.");return}ee={type:"birthing_season_event",offsetDays:te}}await n({healthPlanId:t,category:o,name:u,productId:d,complementaryProductId:h,trigger:ee})};return c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:q,className:"space-y-6",children:[c.jsxs(S4,{legend:"Paso 1: Define la Actividad",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>l("Tratamiento"),className:`p-4 rounded-2xl border-2 transition-colors flex flex-col items-center gap-2 ${o==="Tratamiento"?"bg-blue-500/20 border-blue-500":"bg-zinc-800/50 border-zinc-700 hover:border-zinc-500"}`,children:[c.jsx(lp,{className:"w-8 h-8 text-blue-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Tratamiento"})]}),c.jsxs("button",{type:"button",onClick:()=>l("Control"),className:`p-4 rounded-2xl border-2 transition-colors flex flex-col items-center gap-2 ${o==="Control"?"bg-purple-500/20 border-purple-500":"bg-zinc-800/50 border-zinc-700 hover:border-zinc-500"}`,children:[c.jsx(mq,{className:"w-8 h-8 text-purple-400"}),c.jsx("span",{className:"font-semibold text-white",children:"Control"})]})]}),c.jsx("input",{list:"activity-names",value:u,onChange:Y=>A(Y.target.value),placeholder:`Nombre del ${o}...`,className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0}),c.jsx("datalist",{id:"activity-names",children:L.map(Y=>c.jsx("option",{value:Y},Y))})]}),o==="Tratamiento"&&c.jsxs(S4,{legend:"Paso 2: Selecciona los Productos",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{value:d||"",onChange:Y=>f(Y.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",required:!0,children:[c.jsx("option",{value:"",children:"Producto Principal..."}),a.map(Y=>c.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),c.jsx("button",{type:"button",onClick:()=>D(!0),className:"flex-shrink-0 p-3 bg-brand-orange text-white rounded-xl",children:c.jsx(Bl,{size:20})})]}),c.jsxs("select",{value:h||"",onChange:Y=>p(Y.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl",children:[c.jsx("option",{value:"",children:"Producto Complementario (Opcional)..."}),a.map(Y=>c.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),c.jsx(S4,{legend:`Paso ${o==="Tratamiento"?"3":"2"}: Cundo se ejecuta?`,children:e==="Maternidad"?c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"A los Das de Nacido"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:VXe.map(Y=>c.jsxs("button",{type:"button",onClick:()=>y(String(Y)),className:`px-3 py-1 text-sm font-semibold rounded-full transition-colors ${g===String(Y)?"bg-teal-500 text-white":"bg-zinc-700 text-zinc-300"}`,children:[Y," das"]},Y))}),c.jsx("div",{className:"flex items-center gap-2 mt-4",children:c.jsx("input",{type:"number",value:g,onChange:Y=>y(Y.target.value),placeholder:"O escribe los das...",className:"w-full bg-zinc-800 p-2 rounded-lg",required:!0})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("select",{value:m,onChange:Y=>v(Y.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:[c.jsx("option",{value:"fixed_date_period",children:"Por Fecha Fija Anual"}),c.jsx("option",{value:"birthing_season_event",children:"Relativo a Temporada de Partos"})]}),m==="fixed_date_period"&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"triggerMonth",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Mes"}),c.jsx("select",{id:"triggerMonth",value:x,onChange:Y=>S(Y.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:$Xe.map(Y=>c.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"triggerWeek",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Semana"}),c.jsx("select",{id:"triggerWeek",value:E,onChange:Y=>N(Y.target.value),className:"w-full bg-zinc-800 p-2 rounded-lg",children:KXe.map(Y=>c.jsx("option",{value:Y.value,children:Y.label},Y.value))})]})]}),m==="birthing_season_event"&&c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{htmlFor:"triggerOffsetDays",className:"block text-xs font-medium text-zinc-400 mb-1",children:"Das antes (-) / despus (+) del inicio de la temporada"}),c.jsx("input",{id:"triggerOffsetDays",type:"number",value:_,onChange:Y=>B(Y.target.value),placeholder:"Ej: -30 (para 30 das antes)",className:"w-full bg-zinc-800 p-2 rounded-lg",required:!0})]})]})}),k&&c.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[c.jsx(mr,{size:18})," ",c.jsx("span",{children:k})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:i?"Actualizar Actividad":"Aadir al Plan"})]})]}),c.jsx(An,{isOpen:j,onClose:()=>D(!1),title:"Crear Nuevo Producto",children:c.jsx(KO,{onSave:H,onCancel:()=>D(!1)})})]})},GXe=({activity:t,onEdit:e,onDelete:n})=>{const{products:r}=Yt(),i=r.find(A=>A.id===t.productId),a=r.find(A=>A.id===t.complementaryProductId),s=Ap(),o=P.useRef(!1),l=(A,d)=>{const f=d.offset.x,h=d.velocity.x;f<-160/2||h<-500?s.start({x:-160}):s.start({x:0}),setTimeout(()=>{o.current=!1},100)},u=()=>{var d;const{trigger:A}=t;switch(A.type){case"age":return`Das: ${((d=A.days)==null?void 0:d.join(", "))||"N/A"}`;case"fixed_date_period":const f=new Date(2024,A.month-1,1).toLocaleString("es-VE",{month:"long"});return`${A.week}a semana de ${f}`;case"birthing_season_event":const h=A.offsetDays>=0?"das despus":"das antes";return`${Math.abs(A.offsetDays)} ${h} del inicio de la temporada de partos`;default:return"Tiempo no especificado"}};return c.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-black/20 border border-zinc-700",children:[c.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[c.jsxs("button",{onClick:e,onPointerDown:A=>A.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-blue text-white",children:[c.jsx(yf,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),c.jsxs("button",{onClick:n,onPointerDown:A=>A.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[c.jsx(bc,{size:20}),c.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),c.jsxs(Ji.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{o.current=!0},onDragEnd:l,animate:s,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-grab bg-ios-modal-bg/50 p-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg text-white",children:t.name}),c.jsx("p",{className:`text-sm font-semibold ${t.category==="Tratamiento"?"text-blue-400":"text-purple-400"}`,children:t.category}),i&&c.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Ppal: ",i.name]}),a&&c.jsxs("p",{className:"text-xs text-zinc-400",children:["Comp: ",a.name]})]}),t.category==="Tratamiento"?c.jsx(lp,{className:"text-blue-400"}):c.jsx(mq,{className:"text-purple-400"})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700 flex items-center text-zinc-300",children:[c.jsx(So,{size:16,className:"mr-2"}),c.jsx("span",{className:"text-sm font-semibold",children:u()})]})]})]})};function qXe({planId:t,onBack:e}){const{healthPlans:n,planActivities:r,addPlanActivity:i,updatePlanActivity:a,deletePlanActivity:s}=Yt(),[o,l]=P.useState(!1),[u,A]=P.useState(void 0),[d,f]=P.useState(null),h=P.useMemo(()=>n.find(x=>x.id===t),[n,t]),p=P.useMemo(()=>h?r.filter(x=>x.healthPlanId===t).sort((x,S)=>{var E,N;return(((E=x.trigger.days)==null?void 0:E[0])||0)-(((N=S.trigger.days)==null?void 0:N[0])||0)}):[],[r,t,h]),m=x=>{A(x),l(!0)},v=()=>{l(!1),A(void 0)},g=async x=>{u!=null&&u.id?await a(u.id,x):await i({...x,healthPlanId:t}),v()},y=async()=>{d!=null&&d.id&&await s(d.id),f(null)};return h?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in px-4",children:[c.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"text-center flex-grow",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:h.name}),c.jsx("p",{className:"text-lg text-zinc-400",children:h.targetGroup})]}),c.jsx("div",{className:"w-8"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-300",children:"Actividades del Plan"}),c.jsxs("button",{onClick:()=>m(),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-500 text-white font-bold py-2 px-3 rounded-lg transition-colors text-sm",children:[c.jsx(na,{size:16})," Aadir Actividad"]})]}),p.length>0?c.jsx("div",{className:"space-y-3",children:p.map(x=>c.jsx(GXe,{activity:x,onEdit:()=>m(x),onDelete:()=>f(x)},x.id))}):c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:[c.jsx("p",{className:"text-zinc-500 font-semibold",children:"Este plan an no tiene actividades."}),c.jsx("p",{className:"text-zinc-500 text-sm",children:"Aade tratamientos o controles para empezar."})]})]})]}),c.jsx(An,{isOpen:o,onClose:v,title:u?"Editar Actividad":"Aadir Actividad al Plan",children:c.jsx(WXe,{healthPlanId:h.id,targetGroup:h.targetGroup,onSave:g,onCancel:v,existingActivity:u})}),c.jsx(C0,{isOpen:!!d,onClose:()=>f(null),onConfirm:y,title:`Eliminar Actividad "${d==null?void 0:d.name}"`,message:"Ests seguro de que quieres eliminar esta actividad del plan? Esta accin no se puede deshacer."})]}):c.jsxs("div",{className:"text-center p-10",children:[c.jsx("h1",{className:"text-2xl text-zinc-400",children:"Plan no encontrado."}),c.jsx("button",{onClick:e,className:"mt-4 text-brand-amber",children:"Volver al Planificador"})]})}const YXe=()=>{const{healthEvents:t,products:e,animals:n}=Yt();return P.useMemo(()=>{const i=new Date;i.setDate(i.getDate()-30),i.setHours(0,0,0,0);const s=t.filter(v=>new Date(v.date)>=i).reduce((v,g)=>v+(g.calculatedCost||0),0),o=n.filter(v=>v.status==="Activo").length,l=o>0?s/o:0,u=[],A={},d=new Date;d.setMonth(d.getMonth()-6),t.filter(v=>new Date(v.date)>=d).forEach(v=>{const g=v.date.substring(0,7);A[g]||(A[g]=0),A[g]+=v.calculatedCost||0}),Object.keys(A).sort().forEach(v=>{u.push({name:v,total:parseFloat(A[v].toFixed(2))})});const f={};t.forEach(v=>{const g=v.type||"Sin Categora";f[g]||(f[g]=0),f[g]+=v.calculatedCost||0});const h=Object.keys(f).map(v=>({name:v,total:parseFloat(f[v].toFixed(2))})).sort((v,g)=>g.total-v.total),p={};t.forEach(v=>{p[v.animalId]||(p[v.animalId]=0),p[v.animalId]+=v.calculatedCost||0});const m=Object.keys(p).map(v=>({animalId:v,total:p[v]})).sort((v,g)=>g.total-v.total).slice(0,5);return{totalCostLast30Days:s,avgCostPerAnimal:l,monthlyCosts:u,costsByCategory:h,topCostAnimals:m}},[t,e,n])},bz=({title:t,value:e,unit:n,icon:r})=>c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(r,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:[e," ",c.jsx("span",{className:"text-xl text-zinc-400",children:n})]})]}),xz=["#34C759","#FF9500","#007AFF","#AF52DE","#FF3B30","#5E5CE6","#5AC8FA","#FFCC00"];function XXe(){const{totalCostLast30Days:t,avgCostPerAnimal:e,monthlyCosts:n,costsByCategory:r,topCostAnimals:i}=YXe(),a=s=>new Date(s+"-02T00:00:00Z").toLocaleString("es-VE",{month:"short",year:"2-digit"});return c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in px-4 pb-12",children:[" ",c.jsxs("header",{className:"text-center pt-4",children:[" ",c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis de Costos"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Mdulo StockCare"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(bz,{title:"Costo (ltimos 30 das)",value:`$${t.toFixed(2)}`,icon:Dl}),c.jsx(bz,{title:"Costo Prom./Animal (30d)",value:`$${e.toFixed(2)}`,icon:Ta})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(ax,{size:20})," Costo Mensual (ltimos 6m)"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(ea,{children:c.jsxs(Ll,{data:n,margin:{top:5,right:10,left:-20,bottom:5},children:[c.jsx(Pi,{dataKey:"name",tickFormatter:a,tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),c.jsx(Qi,{tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},unit:"$"}),c.jsx(Dr,{cursor:{fill:"rgba(255, 255, 255, 0.1)"},contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"},formatter:s=>`$${s.toFixed(2)}`}),c.jsx(Ja,{dataKey:"total",name:"Costo Total",fill:"#2dd4bf",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(ID,{size:20})," Costos por Categora"]}),c.jsx("div",{className:"w-full h-48",children:c.jsx(ea,{children:c.jsxs(DT,{children:[c.jsx(nu,{data:r,dataKey:"total",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",children:r.map((s,o)=>c.jsx(mc,{fill:xz[o%xz.length]},`cell-${o}`))}),c.jsx(Dr,{contentStyle:{backgroundColor:"rgba(44, 44, 46, 0.8)",border:"1px solid #444",borderRadius:"12px"},formatter:s=>`$${s.toFixed(2)}`}),c.jsx(qc,{iconSize:10,wrapperStyle:{fontSize:"12px",color:"#a1a1aa"}})]})})})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top 5 Animales (Costo Total)"}),c.jsx("div",{className:"space-y-2",children:i.length>0?i.map((s,o)=>c.jsxs("div",{className:"flex justify-between items-center text-sm bg-black/20 p-2 rounded-md",children:[c.jsxs("span",{className:"font-mono font-semibold text-base text-white",children:[o+1,". ",s.animalId]}),c.jsxs("span",{className:"font-bold text-teal-300",children:["$",s.total.toFixed(2)]})]},s.animalId)):c.jsx("p",{className:"text-sm text-zinc-500 text-center pt-8",children:"No hay datos suficientes."})})]})]})]})}function JXe({onSwitchModule:t}){const{syncStatus:e}=Yt(),[n,r]=P.useState({name:"calendario"}),[i,a]=P.useState([]),s=[{id:"calendario",label:"Calendario",icon:ape},{id:"planes",label:"Planes",icon:CD},{id:"inventario",label:"Inventario",icon:lp},{id:"costos",label:"Costos",icon:Dl}],o=d=>{a(f=>[...f,n]),r(d)},l=()=>{const d=i.pop();d?(a([...i]),r(d)):t("rebano")},u=d=>{a([]),r({name:d})},A=()=>{switch(n.name){case"calendario":return c.jsx(yz,{});case"planes":return c.jsx(AXe,{navigateTo:o});case"inventario":return c.jsx(y$e,{});case"costos":return c.jsx(XXe,{});case"plan-detail":return c.jsx(qXe,{planId:n.planId,onBack:l});default:return c.jsx(yz,{})}};return c.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col bg-brand-dark",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-brand-dark/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsx("button",{onClick:l,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Atrs",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(j5,{className:"text-teal-400"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"StockCare"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(S0,{status:e})})]})}),c.jsx("main",{className:"flex-grow pt-16 pb-24",children:A()}),c.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around z-20",children:s.map(d=>c.jsxs("button",{onClick:()=>u(d.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${n.name===d.id?"text-teal-400":"text-gray-400 hover:text-teal-400"}`,children:[c.jsx(d.icon,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs font-semibold",children:d.label})]},d.id))})]})}const wz=.5,ZXe=()=>{const{animals:t,healthEvents:e,weighings:n,parturitions:r}=Yt();return P.useMemo(()=>{const o=[...t.filter(h=>h.status==="Activo"&&h.sex==="Hembra").map(h=>{const p=e.filter(N=>N.animalId===h.id).reduce((N,_)=>N+(_.calculatedCost||0),0),m=n.filter(N=>N.goatId===h.id),v=m.reduce((N,_)=>N+_.kg,0),g=v*wz;let y=null,x=0;const S=r.filter(N=>N.goatId===h.id);v>0&&S.length>0&&(x=S.reduce((_,B)=>{const j=m.filter(L=>new Date(L.date)>=new Date(B.parturitionDate));if(j.length===0)return _;const D=new Date(B.parturitionDate),O=(new Date(j.sort((L,H)=>new Date(H.date).getTime()-new Date(L.date).getTime())[0].date).getTime()-D.getTime())/(1e3*60*60*24);return _+O},0),y=p/v);const E=g-p;return{animalId:h.id,totalRevenue:g,totalCosts:p,netProfit:E,costPerLiter:y,totalKgProduced:v,lactationDays:x}})].sort((h,p)=>p.netProfit-h.netProfit),l=o.reduce((h,p)=>h+p.totalRevenue,0),u=o.reduce((h,p)=>h+p.totalCosts,0),A=l-u,d=o.filter(h=>h.costPerLiter!==null&&h.costPerLiter>0).map(h=>h.costPerLiter),f=d.length>0?d.reduce((h,p)=>h+p,0)/d.length:0;return{animalsByProfitability:o,totalFarmRevenue:l,totalFarmCosts:u,totalFarmNetProfit:A,averageCostPerLiter:f,assumedMilkPrice:wz}},[t,e,n,r])},G1=({title:t,value:e,unit:n,preValue:r,icon:i,colorClass:a})=>c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border ${a||""}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(i,{size:14}),c.jsx("span",{children:t})]}),c.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:[r&&c.jsx("span",{className:"text-3xl font-bold text-white",children:r}),e,n&&c.jsxs("span",{className:"text-xl text-zinc-400",children:[" ",n]})]})]}),Cz=({animalData:t,monedaSimbolo:e})=>{const n=t.netProfit>=0;return c.jsxs("div",{className:"w-full text-left bg-black/20 rounded-xl p-4 border border-zinc-700/80 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-xl text-white",children:t.animalId}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-zinc-400 mt-1",children:[c.jsxs("span",{children:["Ingresos: ",e,t.totalRevenue.toFixed(2)]}),c.jsxs("span",{children:["Costos: ",e,t.totalCosts.toFixed(2)]})]})]}),c.jsxs("div",{className:`text-right font-bold text-2xl ${n?"text-brand-green":"text-brand-red"}`,children:[n?"+":"",e,t.netProfit.toFixed(2)]})]})},eJe=({active:t,payload:e,monedaSimbolo:n})=>t&&e&&e.length?c.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-2 rounded-lg border border-zinc-700 text-white text-sm",children:[c.jsx("p",{className:"font-bold",children:e[0].payload.animalId}),c.jsxs("p",{style:{color:e[0].fill},children:["Rentabilidad: ",n,e[0].value.toFixed(2)]})]}):null;function tJe(){const{appConfig:t}=Yt(),{monedaSimbolo:e,precioLecheLitro:n}=t,{animalsByProfitability:r,totalFarmRevenue:i,totalFarmCosts:a,totalFarmNetProfit:s,averageCostPerLiter:o}=ZXe(),l=r.slice(0,5),u=r.slice(-5).reverse();return r.length===0?c.jsxs("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4 flex flex-col items-center gap-4",children:[c.jsx(Dl,{size:48,className:"text-zinc-600"}),c.jsx("p",{className:"text-zinc-400 font-semibold text-lg",children:"No hay datos suficientes"}),c.jsx("p",{className:"text-zinc-500 text-sm max-w-xs",children:"Registra pesajes lecheros y eventos de salud con costos para empezar a ver el anlisis econmico."})]}):c.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 animate-fade-in px-4",children:[c.jsxs("header",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Anlisis Econmico"}),c.jsx("p",{className:"text-lg text-zinc-400",children:"Rentabilidad de la Finca"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(G1,{title:"Ingresos Totales (Leche)",preValue:e,value:i.toFixed(2),icon:pg,colorClass:"border-green-500/30"}),c.jsx(G1,{title:"Costos Totales (Sanidad)",preValue:e,value:a.toFixed(2),icon:hg,colorClass:"border-red-500/30"})]}),c.jsxs("div",{className:`bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border ${s>=0?"border-green-500/50":"border-red-500/50"}`,children:[c.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[c.jsx(Dl,{size:14}),c.jsx("span",{children:"Rentabilidad Neta (Ingresos - Costos)"})]}),c.jsxs("p",{className:`text-5xl font-bold mt-1 ${s>=0?"text-brand-green":"text-brand-red"}`,children:[s>=0?"+":"",e,s.toFixed(2)]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsx(G1,{title:"Costo / Litro de Leche",preValue:e,value:o.toFixed(3),icon:lf}),c.jsx(G1,{title:"Precio Leche (Config)",preValue:e,value:n.toFixed(2),unit:"/Kg",icon:Ta})]}),c.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white mb-4",children:[c.jsx(rpe,{size:20})," Distribucin de Rentabilidad"]}),c.jsx("div",{className:"w-full h-56",children:c.jsx(ea,{children:c.jsxs(Ll,{data:r,margin:{top:5,right:0,left:0,bottom:5},children:[c.jsx(Pi,{dataKey:"animalId",tick:!1,axisLine:!1}),c.jsx(Dr,{content:c.jsx(eJe,{monedaSimbolo:e}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),c.jsx(Ja,{dataKey:"netProfit",children:r.map(A=>c.jsx(mc,{fill:A.netProfit>=0?"#34C759":"#FF3B30"},A.animalId))})]})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-zinc-300",children:"Ranking de Rentabilidad"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h4",{className:"font-semibold text-brand-green flex items-center gap-2",children:[c.jsx(pg,{size:18})," Top 5 Animales Ms Rentables"]}),l.map(A=>c.jsx(Cz,{animalData:A,monedaSimbolo:e},A.animalId))]}),c.jsxs("div",{className:"space-y-2 pt-4",children:[c.jsxs("h4",{className:"font-semibold text-brand-red flex items-center gap-2",children:[c.jsx(hg,{size:18})," Top 5 Animales Menos Rentables"]}),u.map(A=>c.jsx(Cz,{animalData:A,monedaSimbolo:e},A.animalId))]})]})]})}function nJe({onSwitchModule:t}){const{syncStatus:e}=Yt();return c.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsx("button",{onClick:()=>t("rebano"),className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Salir del mdulo",children:c.jsx(Di,{size:24})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Dl,{className:"text-yellow-400"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none",children:"GanaderoOS"}),c.jsx("p",{className:"text-xs text-zinc-400 leading-none",children:"Cents"})]})]}),c.jsx("div",{className:"w-8 flex justify-end",children:c.jsx(S0,{status:e})})]})}),c.jsx("main",{className:"flex-grow pt-16 pb-24",children:c.jsx(tJe,{})}),c.jsx(Bx,{onSwitchModule:t})]})}const rJe=(t,e)=>{const n={initialCabras:t.initialCabras??0,initialLevanteTardio:t.initialLevanteTardio??0,initialLevanteMedio:t.initialLevanteMedio??0,initialLevanteTemprano:t.initialLevanteTemprano??0,initialCriaH:t.initialCriaH??0,initialCriaM:t.initialCriaM??0,initialPadres:t.initialPadres??1,comprasVientresAnual:t.comprasVientresAnual??0,mesInicioMonta1:t.mesInicioMonta1,mesInicioMonta2:t.mesInicioMonta2,mesInicioMonta3:t.mesInicioMonta3,mesInicioMonta4:t.mesInicioMonta4,duracionMontaDias:t.duracionMontaDias??45,diasGestacion:t.diasGestacion??150,litrosPromedioPorAnimal:t.litrosPromedioPorAnimal??1.8,diasLactanciaObjetivo:t.diasLactanciaObjetivo??305,litrosPicoPorAnimal:t.litrosPicoPorAnimal??((t.diasLactanciaObjetivo??305)>=305?(t.litrosPromedioPorAnimal??1.8)*1.4:(t.litrosPromedioPorAnimal??1.8)*1.5),porcentajePrenez:t.porcentajePrenez??85,porcentajeProlificidad:t.porcentajeProlificidad??120,mortalidadCrias:t.mortalidadCrias??5,mortalidadLevante:t.mortalidadLevante??3,mortalidadCabras:t.mortalidadCabras??3,tasaReemplazo:t.tasaReemplazo??20,eliminacionCabritos:t.eliminacionCabritos??100,precioLecheLitro:t.precioLecheLitro??.5,precioVentaCabritoKg:t.precioVentaCabritoKg??3,precioVentaDescarteAdulto:t.precioVentaDescarteAdulto??50,monedaSimbolo:t.monedaSimbolo??"$",matingDistribution:t.matingDistribution},r=[],i=e*12,a=30.44;let s=[],o=[],l=[],u=0;const A=Math.round(n.diasGestacion/a),d=6,f=n.mortalidadCrias/100/12,h=n.mortalidadLevante/100/12,p=n.mortalidadCabras/100/12,m=n.tasaReemplazo/100/12,v=n.comprasVientresAnual/12,g=new Set,y=[t.mesInicioMonta1,t.mesInicioMonta2,t.mesInicioMonta3,t.mesInicioMonta4].filter(H=>typeof H=="number"&&H>0);y.forEach(H=>g.add(H));const x=[.8,1.4,1.4,1.3,1.2,1,.9,.8,.7,.5],S=[.7,1.5,1.5,1.3,1,.6,.4],E=n.diasLactanciaObjetivo>=305,N=E?x:S,_=E?1.4:1.5,B=N.length,j=n.litrosPromedioPorAnimal,D=n.litrosPicoPorAnimal,k=D>j&&j>0?D/j:_,O=_>1?(k-1)/(_-1):1,L=N.map(H=>(H-1)*O+1);for(let H=0;H<i;H++){const q=r[H-1],Y=Math.floor(H/12)+1,ee=H%12+1,K=`Ao ${Y} - Mes ${ee}`,te=q?q.endCriaH:n.initialCriaH,le=q?q.endCriaM:n.initialCriaM,se=q?q.endLevanteTemprano:n.initialLevanteTemprano,M=q?q.endLevanteMedio:n.initialLevanteMedio,$=q?q.endLevanteTardio:n.initialLevanteTardio,J=q?q.endCabras:n.initialCabras,ne=q?q.endPadres:n.initialPadres,he=te+le+se+M+$+J+ne;let we=0;const Se=[];s=s.filter(pn=>pn.monthEnd===H?(we+=pn.size,Se.push({id:pn.id,size:pn.size,monthEnd:H+d}),l.push({id:pn.id,deliveries:pn.size,startMonth:H}),!1):!0),o.push(...Se),o=o.filter(pn=>pn.monthEnd>H);const Ae=we*(n.porcentajeProlificidad/100),ge=Ae*.5,xe=Ae*.5;let ae=0,Ve=0;if(g.has(ee)){const pn=s.reduce((ba,Oi)=>ba+Oi.size,0),Xr=o.reduce((ba,Oi)=>ba+Oi.size,0),gr=Math.max(0,J-pn-Xr),Or=Math.max(0,$*(1-h)),Er=y.indexOf(ee),qn=Er!==-1&&n.matingDistribution?(n.matingDistribution[Er]??100)/100:1,vr=gr*qn,Jr=Or*qn;ae=vr*(n.porcentajePrenez/100),Ve=Jr*(n.porcentajePrenez/100),ae>0&&s.push({id:++u,size:ae,monthEnd:H+A}),Ve>0&&s.push({id:++u,size:Ve,monthEnd:H+A})}const Oe=(te+ge)*f,fe=(le+xe)*f,$e=se*h,ft=M*h,vt=$*h,Ye=ne*p,Dt=J*p,ct=(J-Dt)*m,jt=Dt+ct,Xt=J>0?jt/J:0;s.forEach(pn=>pn.size*=1-Xt),o.forEach(pn=>pn.size*=1-Xt);const Zt=Oe+fe+$e+ft+vt+Dt+Ye,Ut=Math.max(0,le+xe-fe),rn=Ut*(n.eliminacionCabritos/100),st=rn+ct,bt=v,yt=0,tt=bt+yt,Qt=Math.max(0,te+ge-Oe),dt=Math.max(0,se-$e),mt=Math.max(0,M-ft),Ft=Math.max(0,$-vt),St=Math.max(0,Ft-Ve),Vt=Qt/3,hn=dt/3,cn=mt/6,wt=St/6,Zn=Math.max(0,Qt-Vt),gn=Math.max(0,Ut-rn),Kt=Math.max(0,dt-hn+Vt),En=Math.max(0,mt-cn+hn),zi=Math.max(0,Ft-Ve-wt+bt+cn),jr=Math.max(0,J-jt+wt+Ve),Pa=Math.max(0,ne-Ye+yt),Fe=Zn+gn+Kt+En+zi+jr+Pa;let Pe=0,We=0;l.forEach(pn=>pn.deliveries*=1-Xt),l=l.filter(pn=>{const Xr=H-pn.startMonth;if(Xr<B){const gr=L[Xr]||0;return Pe+=pn.deliveries*n.litrosPromedioPorAnimal*a*gr,We+=pn.deliveries,!0}return!1});const Et=Pe,ut=We,qt=Et*n.precioLecheLitro,bn=rn*10*n.precioVentaCabritoKg,Gn=ct*n.precioVentaDescarteAdulto,Rt=qt+bn+Gn;r.push({monthIndex:H,year:Y,month:ee,periodLabel:K,startCriaH:te,startCriaM:le,startLevanteTemprano:se,startLevanteMedio:M,startLevanteTardio:$,startCabras:J,startPadres:ne,startTotal:he,partos:we,nacimientosH:ge,nacimientosM:xe,muertesCriaH:Oe,muertesCriaM:fe,muertesLevanteTemprano:$e,muertesLevanteMedio:ft,muertesLevanteTardio:vt,muertesCabras:Dt,muertesPadres:Ye,muertesTotales:Zt,ventasCabritos:rn,ventasDescartes:ct,ventasTotales:st,comprasVientres:bt,comprasPadres:yt,comprasTotales:tt,promocionCriaH:Vt,promocionLevanteTemprano:hn,promocionLevanteMedio:cn,promocionLevanteTardio:wt,endCriaH:Zn,endCriaM:gn,endLevanteTemprano:Kt,endLevanteMedio:En,endLevanteTardio:zi,endCabras:jr,endPadres:Pa,endTotal:Fe,litrosLeche:Et,ingresosTotales:Rt,hembrasProduccion:ut,ingresosLeche:qt})}return r};function Sz(t,e,n){const r=[];if(!t||t.length===0)return r;for(let i=0;i<t.length;i+=e){const a=t.slice(i,i+e);if(a.length===0)continue;const s=a[0],o=a[a.length-1];if(!s||!o)continue;const l=s.startTotal,u=o.endTotal,A=u-l,d=r[r.length-1],f=d?d.endTotal:l,h=f>0?A/f*100:0,p=S=>a.reduce((E,N)=>N&&typeof N[S]=="number"?E+N[S]:E,0),m=o.endCabras+o.endLevanteTardio,v=u>0?m/u*100:0,g=o.endCriaH+o.endLevanteTemprano+o.endLevanteMedio,y=u>0?g/u*100:0,x={startTotal:l,endTotal:u,netChange:A,growthRate:h,startCriaH:s.startCriaH,startCriaM:s.startCriaM,startLevanteTemprano:s.startLevanteTemprano,startLevanteMedio:s.startLevanteMedio,startLevanteTardio:s.startLevanteTardio,startCabras:s.startCabras,startPadres:s.startPadres,endCriaH:o.endCriaH,endCriaM:o.endCriaM,endLevanteTemprano:o.endLevanteTemprano,endLevanteMedio:o.endLevanteMedio,endLevanteTardio:o.endLevanteTardio,endCabras:o.endCabras,endPadres:o.endPadres,nacimientosH:p("nacimientosH"),nacimientosM:p("nacimientosM"),muertesCriaH:p("muertesCriaH"),muertesCriaM:p("muertesCriaM"),muertesLevanteTemprano:p("muertesLevanteTemprano"),muertesLevanteMedio:p("muertesLevanteMedio"),muertesLevanteTardio:p("muertesLevanteTardio"),muertesCabras:p("muertesCabras"),muertesPadres:p("muertesPadres"),muertesTotales:p("muertesTotales"),ventasCabritos:p("ventasCabritos"),ventasDescartes:p("ventasDescartes"),ventasTotales:p("ventasTotales"),comprasVientres:p("comprasVientres"),comprasPadres:p("comprasPadres"),comprasTotales:p("comprasTotales"),promocionCriaH:p("promocionCriaH"),promocionLevanteTemprano:p("promocionLevanteTemprano"),promocionLevanteMedio:p("promocionLevanteMedio"),promocionLevanteTardio:p("promocionLevanteTardio"),kpiProductivasCount:m,kpiProductivasPercent:v,kpiCrecimientoCount:g,kpiCrecimientoPercent:y,litrosLeche:p("litrosLeche"),ingresosTotales:p("ingresosTotales")};n==="Semestral"?r.push({...x,semestreIndex:i/6,year:s.year,periodLabel:`S${i/6%2+1} (Ao ${s.year})`}):r.push({...x,year:s.year,periodLabel:`Ao ${s.year}`})}return r}const iJe=(t,e)=>P.useMemo(()=>{const r=rJe(t,e),i=Sz(r,6,"Semestral"),a=Sz(r,12,"Anual");return{monthlyData:r,semestralData:i,annualData:a}},[t,e]);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JT=function(t,e){return JT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},JT(t,e)};function cu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");JT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ZT=function(){return ZT=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ZT.apply(this,arguments)};function go(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(A){try{u(r.next(A))}catch(d){s(d)}}function l(A){try{u(r.throw(A))}catch(d){s(d)}}function u(A){A.done?a(A.value):i(A.value).then(o,l)}u((r=r.apply(t,[])).next())})}function Xs(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(A){return l([u,A])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(A){u=[6,A],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function q1(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||e)}var $A=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),VE=function(t,e){return $A.fromClientRect(t,e.getBoundingClientRect())},aJe=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new $A(0,0,r,i)},$E=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},fa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var s=t[i];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},Ez="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sJe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Y1=0;Y1<Ez.length;Y1++)sJe[Ez.charCodeAt(Y1)]=Y1;var _z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var X1=0;X1<_z.length;X1++)wv[_z.charCodeAt(X1)]=X1;var oJe=function(t){var e=t.length*.75,n=t.length,r,i=0,a,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=wv[t.charCodeAt(r)],s=wv[t.charCodeAt(r+1)],o=wv[t.charCodeAt(r+2)],l=wv[t.charCodeAt(r+3)],A[i++]=a<<2|s>>4,A[i++]=(s&15)<<4|o>>2,A[i++]=(o&3)<<6|l&63;return u},lJe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},cJe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Th=5,yF=11,E4=2,uJe=yF-Th,wre=65536>>Th,AJe=1<<Th,_4=AJe-1,dJe=1024>>Th,fJe=wre+dJe,hJe=fJe,pJe=32,mJe=hJe+pJe,gJe=65536>>yF,vJe=1<<uJe,yJe=vJe-1,Bz=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},bJe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},xJe=function(t,e){var n=oJe(t),r=Array.isArray(n)?cJe(n):new Uint32Array(n),i=Array.isArray(n)?lJe(n):new Uint16Array(n),a=24,s=Bz(i,a/2,r[4]/2),o=r[5]===2?Bz(i,(a+r[4])/2):bJe(r,Math.ceil((a+r[4])/4));return new wJe(r[0],r[1],r[2],r[3],s,o)},wJe=function(){function t(e,n,r,i,a,s){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Th],n=(n<<E4)+(e&_4),this.data[n];if(e<=65535)return n=this.index[wre+(e-55296>>Th)],n=(n<<E4)+(e&_4),this.data[n];if(e<this.highStart)return n=mJe-gJe+(e>>yF),n=this.index[n],n+=e>>Th&yJe,n=this.index[n],n=(n<<E4)+(e&_4),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Nz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CJe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var J1=0;J1<Nz.length;J1++)CJe[Nz.charCodeAt(J1)]=J1;var SJe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",jz=50,EJe=1,Cre=2,Sre=3,_Je=4,BJe=5,Iz=7,Ere=8,Tz=9,Ld=10,ek=11,kz=12,tk=13,NJe=14,Cv=15,nk=16,Z1=17,tv=18,jJe=19,Pz=20,rk=21,nv=22,B4=23,Op=24,gl=25,Sv=26,Ev=27,Fp=28,IJe=29,ih=30,TJe=31,ew=32,tw=33,ik=34,ak=35,sk=36,Lb=37,ok=38,a2=39,s2=40,N4=41,_re=42,kJe=43,PJe=[9001,65288],Bre="!",sr="",nw="",lk=xJe(SJe),cA=[ih,sk],ck=[EJe,Cre,Sre,BJe],Nre=[Ld,Ere],Dz=[Ev,Sv],DJe=ck.concat(Nre),Oz=[ok,a2,s2,ik,ak],OJe=[Cv,tk],FJe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(a,s){var o=lk.get(a);if(o>jz?(i.push(!0),o-=jz):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(s),n.push(nk);if(o===_Je||o===ek){if(s===0)return r.push(s),n.push(ih);var l=n[s-1];return DJe.indexOf(l)===-1?(r.push(r[s-1]),n.push(l)):(r.push(s),n.push(ih))}if(r.push(s),o===TJe)return n.push(e==="strict"?rk:Lb);if(o===_re||o===IJe)return n.push(ih);if(o===kJe)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(Lb):n.push(ih);n.push(o)}),[r,n,i]},j4=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=n;a<=r.length;){a++;var s=r[a];if(s===e)return!0;if(s!==Ld)break}if(i===Ld)for(var a=n;a>0;){a--;var o=r[a];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=n;l<=r.length;){l++;var s=r[l];if(s===e)return!0;if(s!==Ld)break}if(o!==Ld)break}return!1},Fz=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Ld)n--;else return r}return 0},LJe=function(t,e,n,r,i){if(n[r]===0)return sr;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return sr;var s=a-1,o=a+1,l=e[a],u=s>=0?e[s]:0,A=e[o];if(l===Cre&&A===Sre)return sr;if(ck.indexOf(l)!==-1)return Bre;if(ck.indexOf(A)!==-1||Nre.indexOf(A)!==-1)return sr;if(Fz(a,e)===Ere)return nw;if(lk.get(t[a])===ek||(l===ew||l===tw)&&lk.get(t[o])===ek||l===Iz||A===Iz||l===Tz||[Ld,tk,Cv].indexOf(l)===-1&&A===Tz||[Z1,tv,jJe,Op,Fp].indexOf(A)!==-1||Fz(a,e)===nv||j4(B4,nv,a,e)||j4([Z1,tv],rk,a,e)||j4(kz,kz,a,e))return sr;if(l===Ld)return nw;if(l===B4||A===B4)return sr;if(A===nk||l===nk)return nw;if([tk,Cv,rk].indexOf(A)!==-1||l===NJe||u===sk&&OJe.indexOf(l)!==-1||l===Fp&&A===sk||A===Pz||cA.indexOf(A)!==-1&&l===gl||cA.indexOf(l)!==-1&&A===gl||l===Ev&&[Lb,ew,tw].indexOf(A)!==-1||[Lb,ew,tw].indexOf(l)!==-1&&A===Sv||cA.indexOf(l)!==-1&&Dz.indexOf(A)!==-1||Dz.indexOf(l)!==-1&&cA.indexOf(A)!==-1||[Ev,Sv].indexOf(l)!==-1&&(A===gl||[nv,Cv].indexOf(A)!==-1&&e[o+1]===gl)||[nv,Cv].indexOf(l)!==-1&&A===gl||l===gl&&[gl,Fp,Op].indexOf(A)!==-1)return sr;if([gl,Fp,Op,Z1,tv].indexOf(A)!==-1)for(var d=a;d>=0;){var f=e[d];if(f===gl)return sr;if([Fp,Op].indexOf(f)!==-1)d--;else break}if([Ev,Sv].indexOf(A)!==-1)for(var d=[Z1,tv].indexOf(l)!==-1?s:a;d>=0;){var f=e[d];if(f===gl)return sr;if([Fp,Op].indexOf(f)!==-1)d--;else break}if(ok===l&&[ok,a2,ik,ak].indexOf(A)!==-1||[a2,ik].indexOf(l)!==-1&&[a2,s2].indexOf(A)!==-1||[s2,ak].indexOf(l)!==-1&&A===s2||Oz.indexOf(l)!==-1&&[Pz,Sv].indexOf(A)!==-1||Oz.indexOf(A)!==-1&&l===Ev||cA.indexOf(l)!==-1&&cA.indexOf(A)!==-1||l===Op&&cA.indexOf(A)!==-1||cA.concat(gl).indexOf(l)!==-1&&A===nv&&PJe.indexOf(t[o])===-1||cA.concat(gl).indexOf(A)!==-1&&l===tv)return sr;if(l===N4&&A===N4){for(var h=n[a],p=1;h>0&&(h--,e[h]===N4);)p++;if(p%2!==0)return sr}return l===ew&&A===tw?sr:nw},MJe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=FJe(t,e.lineBreak),r=n[0],i=n[1],a=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[gl,ih,_re].indexOf(o)!==-1?Lb:o}));var s=e.wordBreak==="keep-all"?a.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,i,s]},RJe=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===Bre,this.start=r,this.end=i}return t.prototype.slice=function(){return fa.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),UJe=function(t,e){var n=$E(t),r=MJe(n,e),i=r[0],a=r[1],s=r[2],o=n.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var A=sr;u<o&&(A=LJe(n,a,i,++u,s))===sr;);if(A!==sr||u===o){var d=new RJe(n,A,l,u);return l=u,{value:d,done:!1}}return{done:!0,value:null}}}},QJe=1,HJe=2,Tx=4,Lz=8,jS=10,Mz=47,ly=92,zJe=9,VJe=32,rw=34,rv=61,$Je=35,KJe=36,WJe=37,iw=39,aw=40,iv=41,GJe=95,Do=45,qJe=33,YJe=60,XJe=62,JJe=64,ZJe=91,eZe=93,tZe=61,nZe=123,sw=63,rZe=125,Rz=124,iZe=126,aZe=128,Uz=65533,I4=42,vh=43,sZe=44,oZe=58,lZe=59,Mb=46,cZe=0,uZe=8,AZe=11,dZe=14,fZe=31,hZe=127,yu=-1,jre=48,Ire=97,Tre=101,pZe=102,mZe=117,gZe=122,kre=65,Pre=69,Dre=70,vZe=85,yZe=90,to=function(t){return t>=jre&&t<=57},bZe=function(t){return t>=55296&&t<=57343},Lp=function(t){return to(t)||t>=kre&&t<=Dre||t>=Ire&&t<=pZe},xZe=function(t){return t>=Ire&&t<=gZe},wZe=function(t){return t>=kre&&t<=yZe},CZe=function(t){return xZe(t)||wZe(t)},SZe=function(t){return t>=aZe},ow=function(t){return t===jS||t===zJe||t===VJe},IS=function(t){return CZe(t)||SZe(t)||t===GJe},Qz=function(t){return IS(t)||to(t)||t===Do},EZe=function(t){return t>=cZe&&t<=uZe||t===AZe||t>=dZe&&t<=fZe||t===hZe},Sd=function(t,e){return t!==ly?!1:e!==jS},lw=function(t,e,n){return t===Do?IS(e)||Sd(e,n):IS(t)?!0:!!(t===ly&&Sd(t,e))},T4=function(t,e,n){return t===vh||t===Do?to(e)?!0:e===Mb&&to(n):to(t===Mb?e:t)},_Ze=function(t){var e=0,n=1;(t[e]===vh||t[e]===Do)&&(t[e]===Do&&(n=-1),e++);for(var r=[];to(t[e]);)r.push(t[e++]);var i=r.length?parseInt(fa.apply(void 0,r),10):0;t[e]===Mb&&e++;for(var a=[];to(t[e]);)a.push(t[e++]);var s=a.length,o=s?parseInt(fa.apply(void 0,a),10):0;(t[e]===Pre||t[e]===Tre)&&e++;var l=1;(t[e]===vh||t[e]===Do)&&(t[e]===Do&&(l=-1),e++);for(var u=[];to(t[e]);)u.push(t[e++]);var A=u.length?parseInt(fa.apply(void 0,u),10):0;return n*(i+o*Math.pow(10,-s))*Math.pow(10,l*A)},BZe={type:2},NZe={type:3},jZe={type:4},IZe={type:13},TZe={type:8},kZe={type:21},PZe={type:9},DZe={type:10},OZe={type:11},FZe={type:12},LZe={type:14},cw={type:23},MZe={type:1},RZe={type:25},UZe={type:24},QZe={type:26},HZe={type:27},zZe={type:28},VZe={type:29},$Ze={type:31},uk={type:32},Ore=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat($E(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==uk;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case rw:return this.consumeStringToken(rw);case $Je:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Qz(n)||Sd(r,i)){var a=lw(n,r,i)?HJe:QJe,s=this.consumeName();return{type:5,value:s,flags:a}}break;case KJe:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),IZe;break;case iw:return this.consumeStringToken(iw);case aw:return BZe;case iv:return NZe;case I4:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),LZe;break;case vh:if(T4(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case sZe:return jZe;case Do:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(T4(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(lw(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Do&&u===XJe)return this.consumeCodePoint(),this.consumeCodePoint(),UZe;break;case Mb:if(T4(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Mz:if(this.peekCodePoint(0)===I4)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===I4&&(A=this.consumeCodePoint(),A===Mz))return this.consumeToken();if(A===yu)return this.consumeToken()}break;case oZe:return QZe;case lZe:return HZe;case YJe:if(this.peekCodePoint(0)===qJe&&this.peekCodePoint(1)===Do&&this.peekCodePoint(2)===Do)return this.consumeCodePoint(),this.consumeCodePoint(),RZe;break;case JJe:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(lw(d,f,h)){var s=this.consumeName();return{type:7,value:s}}break;case ZJe:return zZe;case ly:if(Sd(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case eZe:return VZe;case tZe:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),TZe;break;case nZe:return OZe;case rZe:return FZe;case mZe:case vZe:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===vh&&(Lp(m)||m===sw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Rz:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),PZe;if(this.peekCodePoint(0)===Rz)return this.consumeCodePoint(),kZe;break;case iZe:if(this.peekCodePoint(0)===rv)return this.consumeCodePoint(),DZe;break;case yu:return uk}return ow(e)?(this.consumeWhiteSpace(),$Ze):to(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):IS(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:fa(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Lp(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===sw&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(fa.apply(void 0,e.map(function(l){return l===sw?jre:l})),16),a=parseInt(fa.apply(void 0,e.map(function(l){return l===sw?Dre:l})),16);return{type:30,start:i,end:a}}var s=parseInt(fa.apply(void 0,e),16);if(this.peekCodePoint(0)===Do&&Lp(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];Lp(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var a=parseInt(fa.apply(void 0,o),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===aw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===aw?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===yu)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===iw||n===rw){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===yu||this.peekCodePoint(0)===iv)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),cw)}for(;;){var i=this.consumeCodePoint();if(i===yu||i===iv)return{type:22,value:fa.apply(void 0,e)};if(ow(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===yu||this.peekCodePoint(0)===iv?(this.consumeCodePoint(),{type:22,value:fa.apply(void 0,e)}):(this.consumeBadUrlRemnants(),cw);if(i===rw||i===iw||i===aw||EZe(i))return this.consumeBadUrlRemnants(),cw;if(i===ly)if(Sd(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),cw;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;ow(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===iv||e===yu)return;Sd(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=fa.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===yu||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===jS)return this._value.splice(0,r),MZe;if(i===ly){var a=this._value[r+1];a!==yu&&a!==void 0&&(a===jS?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Sd(i,a)&&(n+=this.consumeStringSlice(r),n+=fa(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Tx,r=this.peekCodePoint(0);for((r===vh||r===Do)&&e.push(this.consumeCodePoint());to(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Mb&&to(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Lz;to(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===Pre||r===Tre)&&((i===vh||i===Do)&&to(a)||to(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Lz;to(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[_Ze(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(lw(i,a,s)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return i===WJe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Lp(e)){for(var n=fa(e);Lp(this.peekCodePoint(0))&&n.length<6;)n+=fa(this.consumeCodePoint());ow(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||bZe(r)||r>1114111?Uz:r}return e===yu?Uz:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(Qz(n))e+=fa(n);else if(Sd(n,this.peekCodePoint(0)))e+=fa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),Fre=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new Ore;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||WZe(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?uk:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),kx=function(t){return t.type===15},B0=function(t){return t.type===17},Yr=function(t){return t.type===20},KZe=function(t){return t.type===0},Ak=function(t,e){return Yr(t)&&t.value===e},Lre=function(t){return t.type!==31},Xg=function(t){return t.type!==31&&t.type!==4},qu=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},WZe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ff=function(t){return t.type===17||t.type===15},Ba=function(t){return t.type===16||ff(t)},Mre=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ns={type:17,number:0,flags:Tx},bF={type:16,number:50,flags:Tx},Md={type:16,number:100,flags:Tx},_v=function(t,e,n){var r=t[0],i=t[1];return[ui(r,e),ui(typeof i<"u"?i:r,n)]},ui=function(t,e){if(t.type===16)return t.number/100*e;if(kx(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Rre="deg",Ure="grad",Qre="rad",Hre="turn",KE={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Rre:return Math.PI*e.number/180;case Ure:return Math.PI/200*e.number;case Qre:return e.number;case Hre:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},zre=function(t){return t.type===15&&(t.unit===Rre||t.unit===Ure||t.unit===Qre||t.unit===Hre)},Vre=function(t){var e=t.filter(Yr).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ns,Ns];case"to top":case"bottom":return Ac(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ns,Md];case"to right":case"left":return Ac(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Md,Md];case"to bottom":case"top":return Ac(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Md,Ns];case"to left":case"right":return Ac(270)}return 0},Ac=function(t){return Math.PI*t/180},ef={name:"color",parse:function(t,e){if(e.type===18){var n=GZe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return Rd(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),s=e.value.substring(3,4);return Rd(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return Rd(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),s=e.value.substring(6,8);return Rd(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(s,16)/255)}}if(e.type===20){var o=TA[e.value.toUpperCase()];if(typeof o<"u")return o}return TA.TRANSPARENT}},tf=function(t){return(255&t)===0},rs=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Rd=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},Hz=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},zz=function(t,e){var n=e.filter(Xg);if(n.length===3){var r=n.map(Hz),i=r[0],a=r[1],s=r[2];return Rd(i,a,s,1)}if(n.length===4){var o=n.map(Hz),i=o[0],a=o[1],s=o[2],l=o[3];return Rd(i,a,s,l)}return 0};function k4(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var Vz=function(t,e){var n=e.filter(Xg),r=n[0],i=n[1],a=n[2],s=n[3],o=(r.type===17?Ac(r.number):KE.parse(t,r))/(Math.PI*2),l=Ba(i)?i.number/100:0,u=Ba(a)?a.number/100:0,A=typeof s<"u"&&Ba(s)?ui(s,1):1;if(l===0)return Rd(u*255,u*255,u*255,1);var d=u<=.5?u*(l+1):u+l-u*l,f=u*2-d,h=k4(f,d,o+1/3),p=k4(f,d,o),m=k4(f,d,o-1/3);return Rd(h*255,p*255,m*255,A)},GZe={hsl:Vz,hsla:Vz,rgb:zz,rgba:zz},cy=function(t,e){return ef.parse(t,Fre.create(e).parseComponentValue())},TA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},qZe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Yr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},YZe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},WE=function(t,e){var n=ef.parse(t,e[0]),r=e[1];return r&&Ba(r)?{color:n,stop:r}:{color:n,stop:null}},$z=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Ns),r.stop===null&&(r.stop=Md);for(var i=[],a=0,s=0;s<t.length;s++){var o=t[s].stop;if(o!==null){var l=ui(o,e);l>a?i.push(l):i.push(a),a=l}else i.push(null)}for(var u=null,s=0;s<i.length;s++){var A=i[s];if(A===null)u===null&&(u=s);else if(u!==null){for(var d=s-u,f=i[u-1],h=(A-f)/(d+1),p=1;p<=d;p++)i[u+p-1]=h*p;u=null}}return t.map(function(m,v){var g=m.color;return{color:g,stop:Math.max(Math.min(1,i[v]/e),0)}})},XZe=function(t,e,n){var r=e/2,i=n/2,a=ui(t[0],e)-r,s=i-ui(t[1],n);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},JZe=function(t,e,n){var r=typeof t=="number"?t:XZe(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),a=e/2,s=n/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,a-u,a+u,s-l,s+l]},Mc=function(t,e){return Math.sqrt(t*t+e*e)},Kz=function(t,e,n,r,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(s,o){var l=o[0],u=o[1],A=Mc(n-l,r-u);return(i?A<s.optimumDistance:A>s.optimumDistance)?{optimumCorner:o,optimumDistance:A}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},ZZe=function(t,e,n,r,i){var a=0,s=0;switch(t.size){case 0:t.shape===0?a=s=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-r)),s=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)a=s=Math.min(Mc(e,n),Mc(e,n-i),Mc(e-r,n),Mc(e-r,n-i));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=Kz(r,i,e,n,!0),u=l[0],A=l[1];a=Mc(u-e,(A-n)/o),s=o*a}break;case 1:t.shape===0?a=s=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-r)),s=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)a=s=Math.max(Mc(e,n),Mc(e,n-i),Mc(e-r,n),Mc(e-r,n-i));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),d=Kz(r,i,e,n,!1),u=d[0],A=d[1];a=Mc(u-e,(A-n)/o),s=o*a}break}return Array.isArray(t.size)&&(a=ui(t.size[0],r),s=t.size.length===2?ui(t.size[1],i):a),[a,s]},eet=function(t,e){var n=Ac(180),r=[];return qu(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&s.value==="to"){n=Vre(i);return}else if(zre(s)){n=KE.parse(t,s);return}}var o=WE(t,i);r.push(o)}),{angle:n,stops:r,type:1}},uw=function(t,e){var n=Ac(180),r=[];return qu(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){n=Vre(i);return}else if(zre(s)){n=(KE.parse(t,s)+Ac(270))%Ac(360);return}}var o=WE(t,i);r.push(o)}),{angle:n,stops:r,type:1}},tet=function(t,e){var n=Ac(180),r=[],i=1,a=0,s=3,o=[];return qu(e).forEach(function(l,u){var A=l[0];if(u===0){if(Yr(A)&&A.value==="linear"){i=1;return}else if(Yr(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var d=ef.parse(t,A.values[0]);r.push({stop:Ns,color:d})}else if(A.name==="to"){var d=ef.parse(t,A.values[0]);r.push({stop:Md,color:d})}else if(A.name==="color-stop"){var f=A.values.filter(Xg);if(f.length===2){var d=ef.parse(t,f[1]),h=f[0];B0(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:d})}}}}),i===1?{angle:(n+Ac(180))%Ac(360),stops:r,type:i}:{size:s,shape:a,stops:r,position:o,type:i}},$re="closest-side",Kre="farthest-side",Wre="closest-corner",Gre="farthest-corner",qre="circle",Yre="ellipse",Xre="cover",Jre="contain",net=function(t,e){var n=0,r=3,i=[],a=[];return qu(e).forEach(function(s,o){var l=!0;if(o===0){var u=!1;l=s.reduce(function(d,f){if(u)if(Yr(f))switch(f.value){case"center":return a.push(bF),d;case"top":case"left":return a.push(Ns),d;case"right":case"bottom":return a.push(Md),d}else(Ba(f)||ff(f))&&a.push(f);else if(Yr(f))switch(f.value){case qre:return n=0,!1;case Yre:return n=1,!1;case"at":return u=!0,!1;case $re:return r=0,!1;case Xre:case Kre:return r=1,!1;case Jre:case Wre:return r=2,!1;case Gre:return r=3,!1}else if(ff(f)||Ba(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return d},l)}if(l){var A=WE(t,s);i.push(A)}}),{size:r,shape:n,stops:i,position:a,type:2}},Aw=function(t,e){var n=0,r=3,i=[],a=[];return qu(e).forEach(function(s,o){var l=!0;if(o===0?l=s.reduce(function(A,d){if(Yr(d))switch(d.value){case"center":return a.push(bF),!1;case"top":case"left":return a.push(Ns),!1;case"right":case"bottom":return a.push(Md),!1}else if(Ba(d)||ff(d))return a.push(d),!1;return A},l):o===1&&(l=s.reduce(function(A,d){if(Yr(d))switch(d.value){case qre:return n=0,!1;case Yre:return n=1,!1;case Jre:case $re:return r=0,!1;case Kre:return r=1,!1;case Wre:return r=2,!1;case Xre:case Gre:return r=3,!1}else if(ff(d)||Ba(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return A},l)),l){var u=WE(t,s);i.push(u)}}),{size:r,shape:n,stops:i,position:a,type:2}},ret=function(t){return t.type===1},iet=function(t){return t.type===2},xF={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=Zre[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function aet(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Zre[t.name])}var Zre={"linear-gradient":eet,"-moz-linear-gradient":uw,"-ms-linear-gradient":uw,"-o-linear-gradient":uw,"-webkit-linear-gradient":uw,"radial-gradient":net,"-moz-radial-gradient":Aw,"-ms-radial-gradient":Aw,"-o-radial-gradient":Aw,"-webkit-radial-gradient":Aw,"-webkit-gradient":tet},set={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Xg(r)&&aet(r)}).map(function(r){return xF.parse(t,r)})}},oet={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Yr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},cet={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return qu(e).map(function(n){return n.filter(Ba)}).map(Mre)}},uet={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return qu(e).map(function(n){return n.filter(Yr).map(function(r){return r.value}).join(" ")}).map(Aet)}},Aet=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Vm;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Vm||(Vm={}));var det={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return qu(e).map(function(n){return n.filter(fet)})}},fet=function(t){return Yr(t)||Ba(t)},GE=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},het=GE("top"),pet=GE("right"),met=GE("bottom"),get=GE("left"),qE=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return Mre(n.filter(Ba))}}},vet=qE("top-left"),yet=qE("top-right"),bet=qE("bottom-right"),xet=qE("bottom-left"),YE=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},wet=YE("top"),Cet=YE("right"),Eet=YE("bottom"),_et=YE("left"),XE=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return kx(n)?n.number:0}}},Bet=XE("top"),Net=XE("right"),jet=XE("bottom"),Iet=XE("left"),Tet={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ket={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Pet={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).reduce(function(n,r){return n|Det(r.value)},0)}},Det=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Oet={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Fet={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},TS;(function(t){t.NORMAL="normal",t.STRICT="strict"})(TS||(TS={}));var Let={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return TS.STRICT;case"normal":default:return TS.NORMAL}}},Met={name:"line-height",initialValue:"normal",prefix:!1,type:4},Wz=function(t,e){return Yr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ba(t)?ui(t,e):e},Ret={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:xF.parse(t,e)}},Uet={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},dk={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},JE=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Qet=JE("top"),Het=JE("right"),zet=JE("bottom"),Vet=JE("left"),$et={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Ket={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},ZE=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Wet=ZE("top"),Get=ZE("right"),qet=ZE("bottom"),Yet=ZE("left"),Xet={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Jet={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Zet={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ak(e[0],"none")?[]:qu(e).map(function(n){for(var r={color:TA.TRANSPARENT,offsetX:Ns,offsetY:Ns,blur:Ns},i=0,a=0;a<n.length;a++){var s=n[a];ff(s)?(i===0?r.offsetX=s:i===1?r.offsetY=s:r.blur=s,i++):r.color=ef.parse(t,s)}return r})}},ett={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ttt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=itt[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},ntt=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},rtt=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,i,a,s,o]:null},itt={matrix:ntt,matrix3d:rtt},Gz={type:16,number:50,flags:Tx},att=[Gz,Gz],stt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Ba);return n.length!==2?att:[n[0],n[1]]}},ott={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},uy;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(uy||(uy={}));var ltt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return uy.BREAK_ALL;case"keep-all":return uy.KEEP_ALL;case"normal":default:return uy.NORMAL}}},ctt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(B0(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},eie={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},utt={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return B0(e)?e.number:1}},Att={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dtt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Yr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},ftt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},htt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ptt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(B0(e))return e.number;if(Yr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},mtt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Yr).map(function(n){return n.value})}},gtt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},qa=function(t,e){return(t&e)!==0},vtt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},ytt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(Lre),a=0;a<i.length;a++){var s=i[a],o=i[a+1];if(s.type===20){var l=o&&B0(o)?o.number:1;r.push({counter:s.value,increment:l})}}return r}},btt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(Lre),i=0;i<r.length;i++){var a=r[i],s=r[i+1];if(Yr(a)&&a.value!=="none"){var o=s&&B0(s)?s.number:0;n.push({counter:a.value,reset:o})}}return n}},xtt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(kx).map(function(n){return eie.parse(t,n)})}},wtt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(KZe);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var s=i[a].value,o=i[a+1].value;r.push({open:s,close:o})}return r}},qz=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Ctt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ak(e[0],"none")?[]:qu(e).map(function(n){for(var r={color:255,offsetX:Ns,offsetY:Ns,blur:Ns,spread:Ns,inset:!1},i=0,a=0;a<n.length;a++){var s=n[a];Ak(s,"inset")?r.inset=!0:ff(s)?(i===0?r.offsetX=s:i===1?r.offsetY=s:i===2?r.blur=s:r.spread=s,i++):r.color=ef.parse(t,s)}return r})}},Stt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Yr).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Ett={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_tt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return kx(e)?e.number:0}},Btt=function(){function t(e,n){var r,i;this.animationDuration=Jt(e,xtt,n.animationDuration),this.backgroundClip=Jt(e,qZe,n.backgroundClip),this.backgroundColor=Jt(e,YZe,n.backgroundColor),this.backgroundImage=Jt(e,set,n.backgroundImage),this.backgroundOrigin=Jt(e,oet,n.backgroundOrigin),this.backgroundPosition=Jt(e,cet,n.backgroundPosition),this.backgroundRepeat=Jt(e,uet,n.backgroundRepeat),this.backgroundSize=Jt(e,det,n.backgroundSize),this.borderTopColor=Jt(e,het,n.borderTopColor),this.borderRightColor=Jt(e,pet,n.borderRightColor),this.borderBottomColor=Jt(e,met,n.borderBottomColor),this.borderLeftColor=Jt(e,get,n.borderLeftColor),this.borderTopLeftRadius=Jt(e,vet,n.borderTopLeftRadius),this.borderTopRightRadius=Jt(e,yet,n.borderTopRightRadius),this.borderBottomRightRadius=Jt(e,bet,n.borderBottomRightRadius),this.borderBottomLeftRadius=Jt(e,xet,n.borderBottomLeftRadius),this.borderTopStyle=Jt(e,wet,n.borderTopStyle),this.borderRightStyle=Jt(e,Cet,n.borderRightStyle),this.borderBottomStyle=Jt(e,Eet,n.borderBottomStyle),this.borderLeftStyle=Jt(e,_et,n.borderLeftStyle),this.borderTopWidth=Jt(e,Bet,n.borderTopWidth),this.borderRightWidth=Jt(e,Net,n.borderRightWidth),this.borderBottomWidth=Jt(e,jet,n.borderBottomWidth),this.borderLeftWidth=Jt(e,Iet,n.borderLeftWidth),this.boxShadow=Jt(e,Ctt,n.boxShadow),this.color=Jt(e,Tet,n.color),this.direction=Jt(e,ket,n.direction),this.display=Jt(e,Pet,n.display),this.float=Jt(e,Oet,n.cssFloat),this.fontFamily=Jt(e,ftt,n.fontFamily),this.fontSize=Jt(e,htt,n.fontSize),this.fontStyle=Jt(e,gtt,n.fontStyle),this.fontVariant=Jt(e,mtt,n.fontVariant),this.fontWeight=Jt(e,ptt,n.fontWeight),this.letterSpacing=Jt(e,Fet,n.letterSpacing),this.lineBreak=Jt(e,Let,n.lineBreak),this.lineHeight=Jt(e,Met,n.lineHeight),this.listStyleImage=Jt(e,Ret,n.listStyleImage),this.listStylePosition=Jt(e,Uet,n.listStylePosition),this.listStyleType=Jt(e,dk,n.listStyleType),this.marginTop=Jt(e,Qet,n.marginTop),this.marginRight=Jt(e,Het,n.marginRight),this.marginBottom=Jt(e,zet,n.marginBottom),this.marginLeft=Jt(e,Vet,n.marginLeft),this.opacity=Jt(e,utt,n.opacity);var a=Jt(e,$et,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Jt(e,Ket,n.overflowWrap),this.paddingTop=Jt(e,Wet,n.paddingTop),this.paddingRight=Jt(e,Get,n.paddingRight),this.paddingBottom=Jt(e,qet,n.paddingBottom),this.paddingLeft=Jt(e,Yet,n.paddingLeft),this.paintOrder=Jt(e,Stt,n.paintOrder),this.position=Jt(e,Jet,n.position),this.textAlign=Jt(e,Xet,n.textAlign),this.textDecorationColor=Jt(e,Att,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Jt(e,dtt,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Jt(e,Zet,n.textShadow),this.textTransform=Jt(e,ett,n.textTransform),this.transform=Jt(e,ttt,n.transform),this.transformOrigin=Jt(e,stt,n.transformOrigin),this.visibility=Jt(e,ott,n.visibility),this.webkitTextStrokeColor=Jt(e,Ett,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Jt(e,_tt,n.webkitTextStrokeWidth),this.wordBreak=Jt(e,ltt,n.wordBreak),this.zIndex=Jt(e,ctt,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return tf(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return qa(this.display,4)||qa(this.display,33554432)||qa(this.display,268435456)||qa(this.display,536870912)||qa(this.display,67108864)||qa(this.display,134217728)},t}(),Ntt=function(){function t(e,n){this.content=Jt(e,vtt,n.content),this.quotes=Jt(e,wtt,n.quotes)}return t}(),Yz=function(){function t(e,n){this.counterIncrement=Jt(e,ytt,n.counterIncrement),this.counterReset=Jt(e,btt,n.counterReset)}return t}(),Jt=function(t,e,n){var r=new Ore,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var a=new Fre(r.read());switch(e.type){case 2:var s=a.parseComponentValue();return e.parse(t,Yr(s)?s.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return KE.parse(t,a.parseComponentValue());case"color":return ef.parse(t,a.parseComponentValue());case"image":return xF.parse(t,a.parseComponentValue());case"length":var o=a.parseComponentValue();return ff(o)?o:Ns;case"length-percentage":var l=a.parseComponentValue();return Ba(l)?l:Ns;case"time":return eie.parse(t,a.parseComponentValue())}break}},jtt="data-html2canvas-debug",Itt=function(t){var e=t.getAttribute(jtt);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},fk=function(t,e){var n=Itt(t);return n===1||e===n},Yu=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,fk(n,3))debugger;this.styles=new Btt(e,window.getComputedStyle(n,null)),mk(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=VE(this.context,n),fk(n,4)&&(this.flags|=16)}return t}(),Ttt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Xz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dw=0;dw<Xz.length;dw++)Bv[Xz.charCodeAt(dw)]=dw;var ktt=function(t){var e=t.length*.75,n=t.length,r,i=0,a,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=Bv[t.charCodeAt(r)],s=Bv[t.charCodeAt(r+1)],o=Bv[t.charCodeAt(r+2)],l=Bv[t.charCodeAt(r+3)],A[i++]=a<<2|s>>4,A[i++]=(s&15)<<4|o>>2,A[i++]=(o&3)<<6|l&63;return u},Ptt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Dtt=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},kh=5,wF=11,P4=2,Ott=wF-kh,tie=65536>>kh,Ftt=1<<kh,D4=Ftt-1,Ltt=1024>>kh,Mtt=tie+Ltt,Rtt=Mtt,Utt=32,Qtt=Rtt+Utt,Htt=65536>>wF,ztt=1<<Ott,Vtt=ztt-1,Jz=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},$tt=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Ktt=function(t,e){var n=ktt(t),r=Array.isArray(n)?Dtt(n):new Uint32Array(n),i=Array.isArray(n)?Ptt(n):new Uint16Array(n),a=24,s=Jz(i,a/2,r[4]/2),o=r[5]===2?Jz(i,(a+r[4])/2):$tt(r,Math.ceil((a+r[4])/4));return new Wtt(r[0],r[1],r[2],r[3],s,o)},Wtt=function(){function t(e,n,r,i,a,s){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>kh],n=(n<<P4)+(e&D4),this.data[n];if(e<=65535)return n=this.index[tie+(e-55296>>kh)],n=(n<<P4)+(e&D4),this.data[n];if(e<this.highStart)return n=Qtt-Htt+(e>>wF),n=this.index[n],n+=e>>kh&Vtt,n=this.index[n],n=(n<<P4)+(e&D4),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Zz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gtt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fw=0;fw<Zz.length;fw++)Gtt[Zz.charCodeAt(fw)]=fw;var qtt=1,O4=2,F4=3,e9=4,t9=5,Ytt=7,n9=8,L4=9,M4=10,r9=11,i9=12,a9=13,s9=14,R4=15,Xtt=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Jtt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var s=t[i];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},Ztt=Ktt(Ttt),ic="",U4="",ent=function(t){return Ztt.get(t)},tnt=function(t,e,n){var r=n-2,i=e[r],a=e[n-1],s=e[n];if(a===O4&&s===F4)return ic;if(a===O4||a===F4||a===e9||s===O4||s===F4||s===e9)return U4;if(a===n9&&[n9,L4,r9,i9].indexOf(s)!==-1||(a===r9||a===L4)&&(s===L4||s===M4)||(a===i9||a===M4)&&s===M4||s===a9||s===t9||s===Ytt||a===qtt)return ic;if(a===a9&&s===s9){for(;i===t9;)i=e[--r];if(i===s9)return ic}if(a===R4&&s===R4){for(var o=0;i===R4;)o++,i=e[--r];if(o%2===0)return ic}return U4},nnt=function(t){var e=Xtt(t),n=e.length,r=0,i=0,a=e.map(ent);return{next:function(){if(r>=n)return{done:!0,value:null};for(var s=ic;r<n&&(s=tnt(e,a,++r))===ic;);if(s!==ic||r===n){var o=Jtt.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},rnt=function(t){for(var e=nnt(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},int=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(r),a===e)return!0}}return!1},ant=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=$E(r.data).map(function(l){return fa(l)}),a=0,s={},o=i.every(function(l,u){n.setStart(r,a),n.setEnd(r,a+l.length);var A=n.getBoundingClientRect();a+=l.length;var d=A.x>s.x||A.y>s.y;return s=A,u===0?!0:d});return t.body.removeChild(e),o},snt=function(){return typeof new Image().crossOrigin<"u"},ont=function(){return typeof new XMLHttpRequest().responseType=="string"},lnt=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},o9=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},cnt=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=e.toDataURL();i.src=a;var s=hk(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),l9(s).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=n+"px",o9(l)?l9(hk(n,n,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),o9(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},hk=function(t,e,n,r,i){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(i),s},l9=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ss={get SUPPORT_RANGE_BOUNDS(){var t=int(document);return Object.defineProperty(Ss,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ss.SUPPORT_RANGE_BOUNDS&&ant(document);return Object.defineProperty(Ss,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=lnt(document);return Object.defineProperty(Ss,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?cnt(document):Promise.resolve(!1);return Object.defineProperty(Ss,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=snt();return Object.defineProperty(Ss,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=ont();return Object.defineProperty(Ss,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ss,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ss,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ay=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),unt=function(t,e,n,r){var i=fnt(e,n),a=[],s=0;return i.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Ss.SUPPORT_RANGE_BOUNDS){var l=c9(r,s,o.length).getClientRects();if(l.length>1){var u=CF(o),A=0;u.forEach(function(f){a.push(new Ay(f,$A.fromDOMRectList(t,c9(r,A+s,f.length).getClientRects()))),A+=f.length})}else a.push(new Ay(o,$A.fromDOMRectList(t,l)))}else{var d=r.splitText(o.length);a.push(new Ay(o,Ant(t,r))),r=d}else Ss.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),a},Ant=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var a=VE(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return $A.EMPTY},c9=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},CF=function(t){if(Ss.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return rnt(t)},dnt=function(t,e){if(Ss.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return pnt(t,e)},fnt=function(t,e){return e.letterSpacing!==0?CF(t):dnt(t,e)},hnt=[32,160,4961,65792,65793,4153,4241],pnt=function(t,e){for(var n=UJe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,a=function(){if(i.value){var s=i.value.slice(),o=$E(s),l="";o.forEach(function(u){hnt.indexOf(u)===-1?l+=fa(u):(l.length&&r.push(l),r.push(fa(u)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)a();return r},mnt=function(){function t(e,n,r){this.text=gnt(n.data,r.textTransform),this.textBounds=unt(e,this.text,r,n)}return t}(),gnt=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(vnt,ynt);case 2:return t.toUpperCase();default:return t}},vnt=/(^|\s|:|-|\(|\))([a-z])/g,ynt=function(t,e,n){return t.length>0?e+n.toUpperCase():t},nie=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Yu),rie=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(Yu),iie=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this,a=new XMLSerializer,s=VE(n,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Yu),aie=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Yu),pk=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(Yu),bnt=[{type:15,flags:0,unit:"px",number:3}],xnt=[{type:16,flags:0,number:50}],wnt=function(t){return t.width>t.height?new $A(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new $A(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Cnt=function(t){var e=t.type===Snt?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},kS="checkbox",PS="radio",Snt="password",u9=707406591,SF=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Cnt(r),(i.type===kS||i.type===PS)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=wnt(i.bounds)),i.type){case kS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=bnt;break;case PS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=xnt;break}return i}return e}(Yu),sie=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(Yu),oie=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Yu),lie=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=uie(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?cy(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):TA.TRANSPARENT,s=r.contentWindow.document.body?cy(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):TA.TRANSPARENT;i.backgroundColor=tf(a)?tf(s)?i.styles.backgroundColor:s:a}}catch{}return i}return e}(Yu),Ent=["OL","UL","MENU"],o2=function(t,e,n,r){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,Aie(i)&&i.data.trim().length>0)n.textNodes.push(new mnt(t,i,n.styles));else if(_m(i))if(pie(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return o2(t,o,n,r)});else{var s=cie(t,i);s.styles.isVisible()&&(_nt(i,s,r)?s.flags|=4:Bnt(s.styles)&&(s.flags|=2),Ent.indexOf(i.tagName)!==-1&&(s.flags|=8),n.elements.push(s),i.slot,i.shadowRoot?o2(t,i.shadowRoot,s,r):!DS(i)&&!die(i)&&!OS(i)&&o2(t,i,s,r))}},cie=function(t,e){return gk(e)?new nie(t,e):fie(e)?new rie(t,e):die(e)?new iie(t,e):Nnt(e)?new aie(t,e):jnt(e)?new pk(t,e):Int(e)?new SF(t,e):OS(e)?new sie(t,e):DS(e)?new oie(t,e):hie(e)?new lie(t,e):new Yu(t,e)},uie=function(t,e){var n=cie(t,e);return n.flags|=4,o2(t,e,n,n),n},_nt=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||EF(t)&&n.styles.isTransparent()},Bnt=function(t){return t.isPositioned()||t.isFloating()},Aie=function(t){return t.nodeType===Node.TEXT_NODE},_m=function(t){return t.nodeType===Node.ELEMENT_NODE},mk=function(t){return _m(t)&&typeof t.style<"u"&&!l2(t)},l2=function(t){return typeof t.className=="object"},Nnt=function(t){return t.tagName==="LI"},jnt=function(t){return t.tagName==="OL"},Int=function(t){return t.tagName==="INPUT"},Tnt=function(t){return t.tagName==="HTML"},die=function(t){return t.tagName==="svg"},EF=function(t){return t.tagName==="BODY"},fie=function(t){return t.tagName==="CANVAS"},A9=function(t){return t.tagName==="VIDEO"},gk=function(t){return t.tagName==="IMG"},hie=function(t){return t.tagName==="IFRAME"},d9=function(t){return t.tagName==="STYLE"},knt=function(t){return t.tagName==="SCRIPT"},DS=function(t){return t.tagName==="TEXTAREA"},OS=function(t){return t.tagName==="SELECT"},pie=function(t){return t.tagName==="SLOT"},f9=function(t){return t.tagName.indexOf("-")>0},Pnt=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,a=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var s=[];return a&&i.forEach(function(o){var l=n.counters[o.counter];s.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),s},t}(),h9={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},p9={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Dnt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ont={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Mp=function(t,e,n,r,i,a){return t<e||t>n?Rb(t,i,a.length>0):r.integers.reduce(function(s,o,l){for(;t>=o;)t-=o,s+=r.values[l];return s},"")+a},mie=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},Aa=function(t,e,n,r,i){var a=n-e+1;return(t<0?"-":"")+(mie(Math.abs(t),a,r,function(s){return fa(Math.floor(s%a)+e)})+i)},Hf=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return mie(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},Yp=1,yd=2,bd=4,Nv=8,uA=function(t,e,n,r,i,a){if(t<-9999||t>9999)return Rb(t,4,i.length>0);var s=Math.abs(t),o=i;if(s===0)return e[0]+o;for(var l=0;s>0&&l<=4;l++){var u=s%10;u===0&&qa(a,Yp)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&qa(a,yd)||u===1&&l===1&&qa(a,bd)&&t>100||u===1&&l>1&&qa(a,Nv)?o=e[u]+(l>0?n[l-1]:"")+o:u===1&&l>0&&(o=n[l-1]+o),s=Math.floor(s/10)}return(t<0?r:"")+o},m9="",g9="",v9="",Q4="",Rb=function(t,e,n){var r=n?". ":"",i=n?"":"",a=n?", ":"",s=n?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=Aa(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Hf(t,"",i);case 6:return Mp(t,1,3999,h9,3,r).toLowerCase();case 7:return Mp(t,1,3999,h9,3,r);case 8:return Aa(t,945,969,!1,r);case 9:return Aa(t,97,122,!1,r);case 10:return Aa(t,65,90,!1,r);case 11:return Aa(t,1632,1641,!0,r);case 12:case 49:return Mp(t,1,9999,p9,3,r);case 35:return Mp(t,1,9999,p9,3,r).toLowerCase();case 13:return Aa(t,2534,2543,!0,r);case 14:case 30:return Aa(t,6112,6121,!0,r);case 15:return Hf(t,"",i);case 16:return Hf(t,"",i);case 17:case 48:return uA(t,"",m9,"",i,yd|bd|Nv);case 47:return uA(t,"",g9,"",i,Yp|yd|bd|Nv);case 42:return uA(t,"",m9,"",i,yd|bd|Nv);case 41:return uA(t,"",g9,"",i,Yp|yd|bd|Nv);case 26:return uA(t,"","",v9,i,0);case 25:return uA(t,"","",v9,i,Yp|yd|bd);case 31:return uA(t,"","",Q4,a,Yp|yd|bd);case 33:return uA(t,"","",Q4,a,0);case 32:return uA(t,"","",Q4,a,Yp|yd|bd);case 18:return Aa(t,2406,2415,!0,r);case 20:return Mp(t,1,19999,Ont,3,r);case 21:return Aa(t,2790,2799,!0,r);case 22:return Aa(t,2662,2671,!0,r);case 22:return Mp(t,1,10999,Dnt,3,r);case 23:return Hf(t,"");case 24:return Hf(t,"");case 27:return Aa(t,3302,3311,!0,r);case 28:return Hf(t,"",i);case 29:return Hf(t,"",i);case 34:return Aa(t,3792,3801,!0,r);case 37:return Aa(t,6160,6169,!0,r);case 38:return Aa(t,4160,4169,!0,r);case 39:return Aa(t,2918,2927,!0,r);case 40:return Aa(t,1776,1785,!0,r);case 43:return Aa(t,3046,3055,!0,r);case 44:return Aa(t,3174,3183,!0,r);case 45:return Aa(t,3664,3673,!0,r);case 46:return Aa(t,3872,3881,!0,r);case 3:default:return Aa(t,48,57,!0,r)}},gie="data-html2canvas-ignore",y9=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new Pnt,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=Fnt(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=Rnt(i).then(function(){return go(r,void 0,void 0,function(){var A,d;return Xs(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(znt),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),A=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Mnt(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(l,d)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Qnt(document.doctype)+"<html></html>"),Hnt(this.referenceElement.ownerDocument,a,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},t.prototype.createElementClone=function(e){if(fk(e,2))debugger;if(fie(e))return this.createCanvasClone(e);if(A9(e))return this.createVideoClone(e);if(d9(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return gk(n)&&(gk(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),f9(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return H4(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!_m(n)||!knt(n)&&!n.hasAttribute(gie)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!_m(n)||!d9(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(_m(a)&&pie(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(o){return i.appendChildNode(n,o,r)})}else this.appendChildNode(n,a,r)},t.prototype.cloneNode=function(e,n){if(Aie(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&_m(e)&&(mk(e)||l2(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=r.getComputedStyle(e),s=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&mk(i)&&(this.clonedReferenceElement=i),EF(i)&&Knt(i);var l=this.counters.parse(new Yz(this.context,a)),u=this.resolvePseudoContent(e,i,s,dy.BEFORE);f9(e)&&(n=!0),A9(e)||this.cloneChildNodes(e,i,n),u&&i.insertBefore(u,i.firstChild);var A=this.resolvePseudoContent(e,i,o,dy.AFTER);return A&&i.appendChild(A),this.counters.pop(l),(a&&(this.options.copyStyles||l2(e))&&!hie(e)||n)&&H4(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(DS(e)||OS(e))&&(DS(i)||OS(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var a=this;if(r){var s=r.content,o=n.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new Yz(this.context,r));var l=new Ntt(this.context,r),u=o.createElement("html2canvaspseudoelement");H4(r,u),l.content.forEach(function(d){if(d.type===0)u.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",u.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var h=d.values.filter(Yr);h.length&&u.appendChild(o.createTextNode(e.getAttribute(h[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(Xg),m=p[0],v=p[1];if(m&&Yr(m)){var g=a.counters.getCounterValue(m.value),y=v&&Yr(v)?dk.parse(a.context,v.value):3;u.appendChild(o.createTextNode(Rb(g,y,!1)))}}else if(d.name==="counters"){var x=d.values.filter(Xg),m=x[0],S=x[1],v=x[2];if(m&&Yr(m)){var E=a.counters.getCounterValues(m.value),N=v&&Yr(v)?dk.parse(a.context,v.value):3,_=S&&S.type===0?S.value:"",B=E.map(function(k){return Rb(k,N,!1)}).join(_);u.appendChild(o.createTextNode(B))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(o.createTextNode(qz(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(qz(l.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(d.value))}}),u.className=vk+" "+yk;var A=i===dy.BEFORE?" "+vk:" "+yk;return l2(n)?n.className.baseValue+=A:n.className+=A,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),dy;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(dy||(dy={}));var Fnt=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(gie,"true"),t.body.appendChild(n),n},Lnt=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Mnt=function(t){return Promise.all([].slice.call(t.images,0).map(Lnt))},Rnt=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},Unt=["all","d","content"],H4=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Unt.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Qnt=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Hnt=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},znt=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Vnt=":before",$nt=":after",vk="___html2canvas___pseudoelement_before",yk="___html2canvas___pseudoelement_after",b9=`{
    content: "" !important;
    display: none !important;
}`,Knt=function(t){Wnt(t,"."+vk+Vnt+b9+`
         .`+yk+$nt+b9)},Wnt=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},vie=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Gnt=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(V4(e)||Jnt(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return go(this,void 0,void 0,function(){var n,r,i,a,s=this;return Xs(this,function(o){switch(o.label){case 0:return n=vie.isSameOrigin(e),r=!z4(e)&&this._options.useCORS===!0&&Ss.SUPPORT_CORS_IMAGES&&!n,i=!z4(e)&&!n&&!V4(e)&&typeof this._options.proxy=="string"&&Ss.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!z4(e)&&!V4(e)&&!i&&!r?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var A=new Image;A.onload=function(){return l(A)},A.onerror=u,(Znt(a)||r)&&(A.crossOrigin="anonymous"),A.src=a,A.complete===!0&&setTimeout(function(){return l(A)},500),s._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,s){var o=Ss.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")a(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return a(d.result)},!1),d.addEventListener("error",function(f){return s(f)},!1),d.readAsDataURL(l.response)}else s("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=s;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var A=n._options.imageTimeout;l.timeout=A,l.ontimeout=function(){return s("Timed out ("+A+"ms) proxying "+i)}}l.send()})},t}(),qnt=/^data:image\/svg\+xml/i,Ynt=/^data:image\/.*;base64,/i,Xnt=/^data:image\/.*/i,Jnt=function(t){return Ss.SUPPORT_SVG_DRAWING||!ert(t)},z4=function(t){return Xnt.test(t)},Znt=function(t){return Ynt.test(t)},V4=function(t){return t.substr(0,4)==="blob"},ert=function(t){return t.substr(-3).toLowerCase()==="svg"||qnt.test(t)},Gt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Rp=function(t,e,n){return new Gt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},hw=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=Rp(this.start,this.startControl,e),i=Rp(this.startControl,this.endControl,e),a=Rp(this.endControl,this.end,e),s=Rp(r,i,e),o=Rp(i,a,e),l=Rp(s,o,e);return n?new t(this.start,r,s,l):new t(l,o,a,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),oc=function(t){return t.type===1},trt=function(){function t(e){var n=e.styles,r=e.bounds,i=_v(n.borderTopLeftRadius,r.width,r.height),a=i[0],s=i[1],o=_v(n.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],A=_v(n.borderBottomRightRadius,r.width,r.height),d=A[0],f=A[1],h=_v(n.borderBottomLeftRadius,r.width,r.height),p=h[0],m=h[1],v=[];v.push((a+l)/r.width),v.push((p+d)/r.width),v.push((s+m)/r.height),v.push((u+f)/r.height);var g=Math.max.apply(Math,v);g>1&&(a/=g,s/=g,l/=g,u/=g,d/=g,f/=g,p/=g,m/=g);var y=r.width-l,x=r.height-f,S=r.width-d,E=r.height-m,N=n.borderTopWidth,_=n.borderRightWidth,B=n.borderBottomWidth,j=n.borderLeftWidth,D=ui(n.paddingTop,e.bounds.width),k=ui(n.paddingRight,e.bounds.width),O=ui(n.paddingBottom,e.bounds.width),L=ui(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?_i(r.left+j/3,r.top+N/3,a-j/3,s-N/3,Mr.TOP_LEFT):new Gt(r.left+j/3,r.top+N/3),this.topRightBorderDoubleOuterBox=a>0||s>0?_i(r.left+y,r.top+N/3,l-_/3,u-N/3,Mr.TOP_RIGHT):new Gt(r.left+r.width-_/3,r.top+N/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?_i(r.left+S,r.top+x,d-_/3,f-B/3,Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-_/3,r.top+r.height-B/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?_i(r.left+j/3,r.top+E,p-j/3,m-B/3,Mr.BOTTOM_LEFT):new Gt(r.left+j/3,r.top+r.height-B/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?_i(r.left+j*2/3,r.top+N*2/3,a-j*2/3,s-N*2/3,Mr.TOP_LEFT):new Gt(r.left+j*2/3,r.top+N*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?_i(r.left+y,r.top+N*2/3,l-_*2/3,u-N*2/3,Mr.TOP_RIGHT):new Gt(r.left+r.width-_*2/3,r.top+N*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?_i(r.left+S,r.top+x,d-_*2/3,f-B*2/3,Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-_*2/3,r.top+r.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?_i(r.left+j*2/3,r.top+E,p-j*2/3,m-B*2/3,Mr.BOTTOM_LEFT):new Gt(r.left+j*2/3,r.top+r.height-B*2/3),this.topLeftBorderStroke=a>0||s>0?_i(r.left+j/2,r.top+N/2,a-j/2,s-N/2,Mr.TOP_LEFT):new Gt(r.left+j/2,r.top+N/2),this.topRightBorderStroke=a>0||s>0?_i(r.left+y,r.top+N/2,l-_/2,u-N/2,Mr.TOP_RIGHT):new Gt(r.left+r.width-_/2,r.top+N/2),this.bottomRightBorderStroke=d>0||f>0?_i(r.left+S,r.top+x,d-_/2,f-B/2,Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-_/2,r.top+r.height-B/2),this.bottomLeftBorderStroke=p>0||m>0?_i(r.left+j/2,r.top+E,p-j/2,m-B/2,Mr.BOTTOM_LEFT):new Gt(r.left+j/2,r.top+r.height-B/2),this.topLeftBorderBox=a>0||s>0?_i(r.left,r.top,a,s,Mr.TOP_LEFT):new Gt(r.left,r.top),this.topRightBorderBox=l>0||u>0?_i(r.left+y,r.top,l,u,Mr.TOP_RIGHT):new Gt(r.left+r.width,r.top),this.bottomRightBorderBox=d>0||f>0?_i(r.left+S,r.top+x,d,f,Mr.BOTTOM_RIGHT):new Gt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||m>0?_i(r.left,r.top+E,p,m,Mr.BOTTOM_LEFT):new Gt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||s>0?_i(r.left+j,r.top+N,Math.max(0,a-j),Math.max(0,s-N),Mr.TOP_LEFT):new Gt(r.left+j,r.top+N),this.topRightPaddingBox=l>0||u>0?_i(r.left+Math.min(y,r.width-_),r.top+N,y>r.width+_?0:Math.max(0,l-_),Math.max(0,u-N),Mr.TOP_RIGHT):new Gt(r.left+r.width-_,r.top+N),this.bottomRightPaddingBox=d>0||f>0?_i(r.left+Math.min(S,r.width-j),r.top+Math.min(x,r.height-B),Math.max(0,d-_),Math.max(0,f-B),Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-_,r.top+r.height-B),this.bottomLeftPaddingBox=p>0||m>0?_i(r.left+j,r.top+Math.min(E,r.height-B),Math.max(0,p-j),Math.max(0,m-B),Mr.BOTTOM_LEFT):new Gt(r.left+j,r.top+r.height-B),this.topLeftContentBox=a>0||s>0?_i(r.left+j+L,r.top+N+D,Math.max(0,a-(j+L)),Math.max(0,s-(N+D)),Mr.TOP_LEFT):new Gt(r.left+j+L,r.top+N+D),this.topRightContentBox=l>0||u>0?_i(r.left+Math.min(y,r.width+j+L),r.top+N+D,y>r.width+j+L?0:l-j+L,u-(N+D),Mr.TOP_RIGHT):new Gt(r.left+r.width-(_+k),r.top+N+D),this.bottomRightContentBox=d>0||f>0?_i(r.left+Math.min(S,r.width-(j+L)),r.top+Math.min(x,r.height+N+D),Math.max(0,d-(_+k)),f-(B+O),Mr.BOTTOM_RIGHT):new Gt(r.left+r.width-(_+k),r.top+r.height-(B+O)),this.bottomLeftContentBox=p>0||m>0?_i(r.left+j+L,r.top+E,Math.max(0,p-(j+L)),m-(B+O),Mr.BOTTOM_LEFT):new Gt(r.left+j+L,r.top+r.height-(B+O))}return t}(),Mr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Mr||(Mr={}));var _i=function(t,e,n,r,i){var a=4*((Math.sqrt(2)-1)/3),s=n*a,o=r*a,l=t+n,u=e+r;switch(i){case Mr.TOP_LEFT:return new hw(new Gt(t,u),new Gt(t,u-o),new Gt(l-s,e),new Gt(l,e));case Mr.TOP_RIGHT:return new hw(new Gt(t,e),new Gt(t+s,e),new Gt(l,u-o),new Gt(l,u));case Mr.BOTTOM_RIGHT:return new hw(new Gt(l,e),new Gt(l,e+o),new Gt(t+s,u),new Gt(t,u));case Mr.BOTTOM_LEFT:default:return new hw(new Gt(l,u),new Gt(l-s,u),new Gt(t,e+o),new Gt(t,e))}},FS=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},nrt=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},LS=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},rrt=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),pw=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),irt=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),art=function(t){return t.type===0},yie=function(t){return t.type===1},srt=function(t){return t.type===2},x9=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},ort=function(t,e,n,r,i){return t.map(function(a,s){switch(s){case 0:return a.add(e,n);case 1:return a.add(e+r,n);case 2:return a.add(e+r,n+i);case 3:return a.add(e,n+i)}return a})},bie=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),xie=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new trt(this.container),this.container.styles.opacity<1&&this.effects.push(new irt(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new rrt(r,i,a))}if(this.container.styles.overflowX!==0){var s=FS(this.curves),o=LS(this.curves);x9(s,o)?this.effects.push(new pw(s,6)):(this.effects.push(new pw(s,2)),this.effects.push(new pw(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(l){return!yie(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=FS(r.curves),o=LS(r.curves);x9(s,o)||i.unshift(new pw(o,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(l){return qa(l.target,e)})},t}(),bk=function(t,e,n,r){t.container.elements.forEach(function(i){var a=qa(i.flags,4),s=qa(i.flags,2),o=new xie(i,t);qa(i.styles.display,2048)&&r.push(o);var l=qa(i.flags,8)?[]:r;if(a||s){var u=a||i.styles.isPositioned()?n:e,A=new bie(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;u.negativeZIndex.some(function(p,m){return d>p.element.container.styles.zIndex.order?(f=m,!1):f>0}),u.negativeZIndex.splice(f,0,A)}else if(d>0){var h=0;u.positiveZIndex.some(function(p,m){return d>=p.element.container.styles.zIndex.order?(h=m+1,!1):h>0}),u.positiveZIndex.splice(h,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);bk(o,A,a?A:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),bk(o,e,n,l);qa(i.flags,8)&&wie(i,l)})},wie=function(t,e){for(var n=t instanceof pk?t.start:1,r=t instanceof pk?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof aie&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=Rb(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},lrt=function(t){var e=new xie(t,null),n=new bie(e),r=[];return bk(e,n,n,r),wie(e.container,r),n},w9=function(t,e){switch(e){case 0:return dc(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return dc(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return dc(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return dc(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},crt=function(t,e){switch(e){case 0:return dc(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return dc(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return dc(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return dc(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},urt=function(t,e){switch(e){case 0:return dc(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return dc(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return dc(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return dc(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Art=function(t,e){switch(e){case 0:return mw(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return mw(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return mw(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return mw(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},mw=function(t,e){var n=[];return oc(t)?n.push(t.subdivide(.5,!1)):n.push(t),oc(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},dc=function(t,e,n,r){var i=[];return oc(t)?i.push(t.subdivide(.5,!1)):i.push(t),oc(n)?i.push(n.subdivide(.5,!0)):i.push(n),oc(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),oc(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Cie=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},MS=function(t){var e=t.styles,n=t.bounds,r=ui(e.paddingLeft,n.width),i=ui(e.paddingRight,n.width),a=ui(e.paddingTop,n.width),s=ui(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+a+s))},drt=function(t,e){return t===0?e.bounds:t===2?MS(e):Cie(e)},frt=function(t,e){return t===0?e.bounds:t===2?MS(e):Cie(e)},$4=function(t,e,n){var r=drt(Xp(t.styles.backgroundOrigin,e),t),i=frt(Xp(t.styles.backgroundClip,e),t),a=hrt(Xp(t.styles.backgroundSize,e),n,r),s=a[0],o=a[1],l=_v(Xp(t.styles.backgroundPosition,e),r.width-s,r.height-o),u=prt(Xp(t.styles.backgroundRepeat,e),l,a,r,i),A=Math.round(r.left+l[0]),d=Math.round(r.top+l[1]);return[u,A,d,s,o]},Up=function(t){return Yr(t)&&t.value===Vm.AUTO},gw=function(t){return typeof t=="number"},hrt=function(t,e,n){var r=e[0],i=e[1],a=e[2],s=t[0],o=t[1];if(!s)return[0,0];if(Ba(s)&&o&&Ba(o))return[ui(s,n.width),ui(o,n.height)];var l=gw(a);if(Yr(s)&&(s.value===Vm.CONTAIN||s.value===Vm.COVER)){if(gw(a)){var u=n.width/n.height;return u<a!=(s.value===Vm.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var A=gw(r),d=gw(i),f=A||d;if(Up(s)&&(!o||Up(o))){if(A&&d)return[r,i];if(!l&&!f)return[n.width,n.height];if(f&&l){var h=A?r:i*a,p=d?i:r/a;return[h,p]}var m=A?r:n.width,v=d?i:n.height;return[m,v]}if(l){var g=0,y=0;return Ba(s)?g=ui(s,n.width):Ba(o)&&(y=ui(o,n.height)),Up(s)?g=y*a:(!o||Up(o))&&(y=g/a),[g,y]}var x=null,S=null;if(Ba(s)?x=ui(s,n.width):o&&Ba(o)&&(S=ui(o,n.height)),x!==null&&(!o||Up(o))&&(S=A&&d?x/r*i:n.height),S!==null&&Up(s)&&(x=A&&d?S/i*r:n.width),x!==null&&S!==null)return[x,S];throw new Error("Unable to calculate background-size for element")},Xp=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},prt=function(t,e,n,r,i){var a=e[0],s=e[1],o=n[0],l=n[1];switch(t){case 2:return[new Gt(Math.round(r.left),Math.round(r.top+s)),new Gt(Math.round(r.left+r.width),Math.round(r.top+s)),new Gt(Math.round(r.left+r.width),Math.round(l+r.top+s)),new Gt(Math.round(r.left),Math.round(l+r.top+s))];case 3:return[new Gt(Math.round(r.left+a),Math.round(r.top)),new Gt(Math.round(r.left+a+o),Math.round(r.top)),new Gt(Math.round(r.left+a+o),Math.round(r.height+r.top)),new Gt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new Gt(Math.round(r.left+a),Math.round(r.top+s)),new Gt(Math.round(r.left+a+o),Math.round(r.top+s)),new Gt(Math.round(r.left+a+o),Math.round(r.top+s+l)),new Gt(Math.round(r.left+a),Math.round(r.top+s+l))];default:return[new Gt(Math.round(i.left),Math.round(i.top)),new Gt(Math.round(i.left+i.width),Math.round(i.top)),new Gt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Gt(Math.round(i.left),Math.round(i.height+i.top))]}},mrt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",C9="Hidden Text",grt=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),i.src=mrt,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(C9)),r.appendChild(a),r.appendChild(i);var o=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(C9)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),Sie=function(){function t(e,n){this.context=e,this.options=n}return t}(),vrt=1e4,yrt=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new grt(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),srt(n)&&(this.ctx.globalAlpha=n.opacity),art(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),yie(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return go(this,void 0,void 0,function(){var r;return Xs(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return go(this,void 0,void 0,function(){return Xs(this,function(r){switch(r.label){case 0:if(qa(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var s=CF(n.text);s.reduce(function(o,l){return a.ctx.fillText(l,o,n.bounds.top+i),o+a.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=Srt(n.fontFamily).join(", "),a=kx(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(n,r){return go(this,void 0,void 0,function(){var i,a,s,o,l,u,A,d,f=this;return Xs(this,function(h){return i=this.createFontStyle(r),a=i[0],s=i[1],o=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(s,o),u=l.baseline,A=l.middle,d=r.paintOrder,n.textBounds.forEach(function(p){d.forEach(function(m){switch(m){case 0:f.ctx.fillStyle=rs(r.color),f.renderTextWithLetterSpacing(p,r.letterSpacing,u);var v=r.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(g){f.ctx.shadowColor=rs(g.color),f.ctx.shadowOffsetX=g.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=g.offsetY.number*f.options.scale,f.ctx.shadowBlur=g.blur.number,f.renderTextWithLetterSpacing(p,r.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=rs(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+A),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=rs(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=MS(n),s=LS(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return go(this,void 0,void 0,function(){var r,i,a,s,o,l,y,y,u,A,d,f,S,h,p,E,m,v,g,y,x,S,E;return Xs(this,function(N){switch(N.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,s=0,o=r.textNodes,N.label=1;case 1:return s<o.length?(l=o[s],[4,this.renderTextNode(l,a)]):[3,4];case 2:N.sent(),N.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof nie))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=N.sent(),this.renderReplacedElement(r,i,y),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof rie&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof iie))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=N.sent(),this.renderReplacedElement(r,i,y),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof lie&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:A=N.sent(),r.width&&r.height&&this.ctx.drawImage(A,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),N.label=14;case 14:if(r instanceof SF&&(d=Math.min(r.bounds.width,r.bounds.height),r.type===kS?r.checked&&(this.ctx.save(),this.path([new Gt(r.bounds.left+d*.39363,r.bounds.top+d*.79),new Gt(r.bounds.left+d*.16,r.bounds.top+d*.5549),new Gt(r.bounds.left+d*.27347,r.bounds.top+d*.44071),new Gt(r.bounds.left+d*.39694,r.bounds.top+d*.5649),new Gt(r.bounds.left+d*.72983,r.bounds.top+d*.23),new Gt(r.bounds.left+d*.84,r.bounds.top+d*.34085),new Gt(r.bounds.left+d*.39363,r.bounds.top+d*.79)]),this.ctx.fillStyle=rs(u9),this.ctx.fill(),this.ctx.restore()):r.type===PS&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+d/2,r.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=rs(u9),this.ctx.fill(),this.ctx.restore())),brt(r)&&r.value.length){switch(f=this.createFontStyle(a),S=f[0],h=f[1],p=this.fontMetrics.getMetrics(S,h).baseline,this.ctx.font=S,this.ctx.fillStyle=rs(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=wrt(r.styles.textAlign),E=MS(r),m=0,r.styles.textAlign){case 1:m+=E.width/2;break;case 2:m+=E.width;break}v=E.add(m,0,0,-E.height/2+1),this.ctx.save(),this.path([new Gt(E.left,E.top),new Gt(E.left+E.width,E.top),new Gt(E.left+E.width,E.top+E.height),new Gt(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ay(r.value,v),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!qa(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];y=void 0,x=g.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return y=N.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(S=this.createFontStyle(a)[0],this.ctx.font=S,this.ctx.fillStyle=rs(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new $A(r.bounds.left,r.bounds.top+ui(r.styles.paddingTop,r.bounds.width),r.bounds.width,Wz(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ay(n.listValue,E),a.letterSpacing,Wz(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return go(this,void 0,void 0,function(){var r,i,g,a,s,g,o,l,g,u,A,g,d,f,g,h,p,g,m,v,g;return Xs(this,function(y){switch(y.label){case 0:if(qa(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:y.sent(),r=0,i=n.negativeZIndex,y.label=2;case 2:return r<i.length?(g=i[r],[4,this.renderStack(g)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:y.sent(),a=0,s=n.nonInlineLevel,y.label=7;case 7:return a<s.length?(g=s[a],[4,this.renderNode(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:o=0,l=n.nonPositionedFloats,y.label=11;case 11:return o<l.length?(g=l[o],[4,this.renderStack(g)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:u=0,A=n.nonPositionedInlineLevel,y.label=15;case 15:return u<A.length?(g=A[u],[4,this.renderStack(g)]):[3,18];case 16:y.sent(),y.label=17;case 17:return u++,[3,15];case 18:d=0,f=n.inlineLevel,y.label=19;case 19:return d<f.length?(g=f[d],[4,this.renderNode(g)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:h=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<p.length?(g=p[h],[4,this.renderStack(g)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:m=0,v=n.positiveZIndex,y.label=27;case 27:return m<v.length?(g=v[m],[4,this.renderStack(g)]):[3,30];case 28:y.sent(),y.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var s=oc(i)?i.start:i;a===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),oc(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(n){return go(this,void 0,void 0,function(){var r,i,a,s,o,l;return Xs(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,i=function(A){var d,f,h,D,Y,ee,L,H,B,p,D,Y,ee,L,H,m,v,g,y,x,S,E,N,_,B,j,D,k,O,L,H,q,Y,ee,K,te,le,se,M,$,J,ne;return Xs(this,function(he){switch(he.label){case 0:if(A.type!==0)return[3,5];d=void 0,f=A.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return d=he.sent(),[3,4];case 3:return he.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(h=$4(n,r,[d.width,d.height,d.width/d.height]),D=h[0],Y=h[1],ee=h[2],L=h[3],H=h[4],B=a.ctx.createPattern(a.resizeImage(d,L,H),"repeat"),a.renderRepeat(D,B,Y,ee)),[3,6];case 5:ret(A)?(p=$4(n,r,[null,null,null]),D=p[0],Y=p[1],ee=p[2],L=p[3],H=p[4],m=JZe(A.angle,L,H),v=m[0],g=m[1],y=m[2],x=m[3],S=m[4],E=document.createElement("canvas"),E.width=L,E.height=H,N=E.getContext("2d"),_=N.createLinearGradient(g,x,y,S),$z(A.stops,v).forEach(function(we){return _.addColorStop(we.stop,rs(we.color))}),N.fillStyle=_,N.fillRect(0,0,L,H),L>0&&H>0&&(B=a.ctx.createPattern(E,"repeat"),a.renderRepeat(D,B,Y,ee))):iet(A)&&(j=$4(n,r,[null,null,null]),D=j[0],k=j[1],O=j[2],L=j[3],H=j[4],q=A.position.length===0?[bF]:A.position,Y=ui(q[0],L),ee=ui(q[q.length-1],H),K=ZZe(A,Y,ee,L,H),te=K[0],le=K[1],te>0&&le>0&&(se=a.ctx.createRadialGradient(k+Y,O+ee,0,k+Y,O+ee,te),$z(A.stops,te*2).forEach(function(we){return se.addColorStop(we.stop,rs(we.color))}),a.path(D),a.ctx.fillStyle=se,te!==le?(M=n.bounds.left+.5*n.bounds.width,$=n.bounds.top+.5*n.bounds.height,J=le/te,ne=1/J,a.ctx.save(),a.ctx.translate(M,$),a.ctx.transform(1,0,0,J,0,0),a.ctx.translate(-M,-$),a.ctx.fillRect(k,ne*(O-$)+$,L,H*ne),a.ctx.restore()):a.ctx.fill())),he.label=6;case 6:return r--,[2]}})},a=this,s=0,o=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return s<o.length?(l=o[s],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return go(this,void 0,void 0,function(){return Xs(this,function(a){return this.path(w9(i,r)),this.ctx.fillStyle=rs(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,a){return go(this,void 0,void 0,function(){var s,o;return Xs(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return l.sent(),[2];case 2:return s=crt(a,i),this.path(s),this.ctx.fillStyle=rs(n),this.ctx.fill(),o=urt(a,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return go(this,void 0,void 0,function(){var r,i,a,s,o,l,u,A,d=this;return Xs(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!tf(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=xrt(Xp(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),tf(r.backgroundColor)||(this.ctx.fillStyle=rs(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){d.ctx.save();var p=FS(n.curves),m=h.inset?0:vrt,v=ort(p,-m+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(d.path(p),d.ctx.clip(),d.mask(v)):(d.mask(p),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=h.offsetX.number+m,d.ctx.shadowOffsetY=h.offsetY.number,d.ctx.shadowColor=rs(h.color),d.ctx.shadowBlur=h.blur.number,d.ctx.fillStyle=h.inset?rs(h.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,l=0,u=a,f.label=3;case 3:return l<u.length?(A=u[l],A.style!==0&&!tf(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,n.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,a,s){return go(this,void 0,void 0,function(){var o,l,u,A,d,f,h,p,m,v,g,y,x,S,E,N,E,N;return Xs(this,function(_){return this.ctx.save(),o=Art(a,i),l=w9(a,i),s===2&&(this.path(l),this.ctx.clip()),oc(l[0])?(u=l[0].start.x,A=l[0].start.y):(u=l[0].x,A=l[0].y),oc(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),i===0||i===2?h=Math.abs(u-d):h=Math.abs(A-f),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(l.slice(0,2)),p=r<3?r*3:r*2,m=r<3?r*2:r,s===3&&(p=r,m=r),v=!0,h<=p*2?v=!1:h<=p*2+m?(g=h/(2*p+m),p*=g,m*=g):(y=Math.floor((h+m)/(p+m)),x=(h-y*p)/(y-1),S=(h-(y+1)*p)/y,m=S<=0||Math.abs(m-x)<Math.abs(m-S)?x:S),v&&(s===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=rs(n),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(oc(l[0])&&(E=l[3],N=l[0],this.ctx.beginPath(),this.formatPath([new Gt(E.end.x,E.end.y),new Gt(N.start.x,N.start.y)]),this.ctx.stroke()),oc(l[1])&&(E=l[1],N=l[2],this.ctx.beginPath(),this.formatPath([new Gt(E.end.x,E.end.y),new Gt(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return go(this,void 0,void 0,function(){var r;return Xs(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=lrt(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Sie),brt=function(t){return t instanceof oie||t instanceof sie?!0:t instanceof SF&&t.type!==PS&&t.type!==kS},xrt=function(t,e){switch(t){case 0:return FS(e);case 2:return nrt(e);case 1:default:return LS(e)}},wrt=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Crt=["-apple-system","system-ui"],Srt=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Crt.indexOf(e)===-1}):t},Ert=function(t){cu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return go(this,void 0,void 0,function(){var r,i;return Xs(this,function(a){switch(a.label){case 0:return r=hk(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,_rt(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Sie),_rt=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Brt=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,q1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,q1([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,q1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,q1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Nrt=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Brt({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Gnt(this,e)}return t.instanceCount=1,t}(),Eie=function(t,e){return e===void 0&&(e={}),jrt(t,e)};typeof window<"u"&&vie.setContext(window);var jrt=function(t,e){return go(void 0,void 0,void 0,function(){var n,r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,x,S,E,_,N,_,B,j,D,k,O,L,H,q,Y,ee,K,te,le,se,M,$,J;return Xs(this,function(ne){switch(ne.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(j=e.imageTimeout)!==null&&j!==void 0?j:15e3,proxy:e.proxy,useCORS:(D=e.useCORS)!==null&&D!==void 0?D:!1},a=ZT({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},i),s={windowWidth:(O=e.windowWidth)!==null&&O!==void 0?O:r.innerWidth,windowHeight:(L=e.windowHeight)!==null&&L!==void 0?L:r.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:r.pageXOffset,scrollY:(q=e.scrollY)!==null&&q!==void 0?q:r.pageYOffset},o=new $A(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),l=new Nrt(a,o),u=(Y=e.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,A={allowTaint:(ee=e.allowTaint)!==null&&ee!==void 0?ee:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new y9(l,t,A),f=d.clonedReferenceElement,f?[4,d.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ne.sent(),p=EF(f)||Tnt(f)?aJe(f.ownerDocument):VE(l,f),m=p.width,v=p.height,g=p.left,y=p.top,x=Irt(l,f,e.backgroundColor),S={canvas:e.canvas,backgroundColor:x,scale:(te=(K=e.scale)!==null&&K!==void 0?K:r.devicePixelRatio)!==null&&te!==void 0?te:1,x:((le=e.x)!==null&&le!==void 0?le:0)+g,y:((se=e.y)!==null&&se!==void 0?se:0)+y,width:(M=e.width)!==null&&M!==void 0?M:Math.ceil(m),height:($=e.height)!==null&&$!==void 0?$:Math.ceil(v)},u?(l.logger.debug("Document cloned, using foreign object rendering"),_=new Ert(l,S),[4,_.render(f)]):[3,3];case 2:return E=ne.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+y+" with size "+m+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),N=uie(l,f),x===N.styles.backgroundColor&&(N.styles.backgroundColor=TA.TRANSPARENT),l.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),_=new yrt(l,S),[4,_.render(N)];case 4:E=ne.sent(),ne.label=5;case 5:return(!((J=e.removeContainer)!==null&&J!==void 0)||J)&&(y9.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,E]}})})},Irt=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?cy(t,getComputedStyle(r.documentElement).backgroundColor):TA.TRANSPARENT,a=r.body?cy(t,getComputedStyle(r.body).backgroundColor):TA.TRANSPARENT,s=typeof n=="string"?cy(t,n):n===null?TA.TRANSPARENT:4294967295;return e===r.documentElement?tf(i)?tf(a)?s:a:i:s};const Trt=Object.freeze(Object.defineProperty({__proto__:null,default:Eie},Symbol.toStringTag,{value:"Module"})),S9=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],Jp=t=>!t||t.length===0?0:t.reduce((n,r)=>n+r,0)/t.length,krt=t=>{if(!t||t.length<2)return 0;const e=Jp(t),n=t.reduce((r,i)=>r+Math.pow(i-e,2),0)/(t.length-1);return Math.sqrt(n)},Prt=(t,e)=>P.useMemo(()=>{var le,se;if(!t||t.length===0||!e||e.length===0)return{isLoading:!0,milkLinearityKpis:[],herdEfficiencyKpis:null,herdDynamicsKpis:null,horizonInYears:0};const r=e.length,i=e.map(M=>{const $=M.year,ne=t.filter($e=>$e.year===$).map($e=>$e.litrosLeche),he=ne.reduce(($e,ft)=>$e+ft,0),we=Jp(ne),Se=krt(ne),Ae=we>0?Se/we*100:0,ge=Math.max(...ne),xe=ne.indexOf(ge),ae=S9[xe%12],Ve=Math.min(...ne),Oe=ne.indexOf(Ve),fe=S9[Oe%12];return{year:$,monthlyProduction:ne,totalProduction:he,avgMonthly:we,peakMonthValue:ge,peakMonthLabel:ae,valleyMonthValue:Ve,valleyMonthLabel:fe,stdDev:Se,cv:Ae}}),a=e.reduce((M,$)=>M+$.litrosLeche,0),s=30.44,o=t.reduce((M,$)=>M+$.hembrasProduccion*s,0),l=a/(o||1),u=Jp(e.map(M=>M.kpiProductivasCount)),A=a/r/(u||1),d={totalLitrosHorizonte:a,totalDiasLactancia:o,litrosPorDiaLactancia:l,avgVientresProductivosHorizonte:u,litrosPorVientrePorAnio:A},f=Jp(t.map(M=>M.startCabras+M.startLevanteTardio)),h=Jp(t.map(M=>M.startLevanteTemprano+M.startLevanteMedio+M.startLevanteTardio)),p=Jp(t.map(M=>M.startCabras)),m=e.reduce((M,$)=>M+$.nacimientosH+$.nacimientosM,0),v=e.reduce((M,$)=>M+$.muertesCriaH+$.muertesCriaM,0),g=e.reduce((M,$)=>M+$.muertesLevanteTemprano+$.muertesLevanteMedio+$.muertesLevanteTardio,0),y=e.reduce((M,$)=>M+$.muertesCabras,0),x=e.reduce((M,$)=>M+$.promocionLevanteTardio,0),S=e.reduce((M,$)=>M+$.ventasDescartes,0),E=e.reduce((M,$)=>M+$.ventasCabritos,0),N=e.reduce((M,$)=>M+$.nacimientosM,0),_=e.reduce((M,$)=>M+$.muertesCriaM,0),B=t.reduce((M,$)=>M+$.partos,0),j=m/(f*r||1)*100,D=m/(B||1)*100,k=(((le=t[0])==null?void 0:le.startCriaH)??0)+(((se=t[0])==null?void 0:se.startCriaM)??0),O=v/(m+k||1)*100,L=g/(h*r||1)*100,H=y/(p*r||1)*100,q=x/(p*r||1)*100,Y=S/(p*r||1)*100,ee=N-_,K=E/(ee||1)*100;return{isLoading:!1,milkLinearityKpis:i,herdEfficiencyKpis:d,herdDynamicsKpis:{tasaNatalidadReal:j,tasaProlificidadReal:D,mortalidadCriasReal:O,mortalidadLevanteReal:L,mortalidadCabrasReal:H,tasaReemplazoReal:q,tasaDescarteReal:Y,tasaEliminacionCriasMReal:K},horizonInYears:r}},[t,e]);function Drt(t){return new Worker(""+new URL("optimizationWorker-DRwxSSIA.js",import.meta.url).href,{name:t==null?void 0:t.name})}const Ort=({baseConfig:t,horizonInYears:e,enabled:n,totalSimulations:r=200})=>{const[i,a]=P.useState(!1),[s,o]=P.useState(0),[l,u]=P.useState(null),[A,d]=P.useState(null),[f,h]=P.useState(null),p=P.useRef(null);return P.useEffect(()=>{if(!(!n||!t||i)){a(!0),o(0),u(null),d(null),h(null),console.log("[GanaGenius V8.0] Iniciando optimizador de linealidad...");try{const m=new Drt;p.current=m,m.onmessage=g=>{const{type:y,progress:x,bestCV:S,bestDistribution:E,error:N}=g.data;y==="progress"?(o(x??0),S&&u(S)):y==="result"?(console.log("[GanaGenius V8.0] Optimizacin completada!",g.data),a(!1),o(x??1),u(S??null),d(E??null),m.terminate(),p.current=null):y==="error"&&(console.error("[GanaGenius V8.0] Error en Worker:",N),a(!1),h(N??"Error desconocido en el worker"),m.terminate(),p.current=null)},m.onerror=g=>{console.error("[GanaGenius V8.0] Error fatal del Worker:",g),a(!1),h(`Error en el Worker: ${g.message||"Fall la instanciacin"}`),m.terminate(),p.current=null};const v={baseConfig:t,horizonInYears:e,totalSimulations:r};m.postMessage(v)}catch(m){console.error("[GanaGenius V8.0] No se pudo crear el Worker:",m),a(!1),h(`No se pudo iniciar el optimizador: ${m.message}`)}return()=>{p.current&&(console.log("[GanaGenius V8.0] Terminando optimizacin prematuramente..."),p.current.terminate(),p.current=null,a(!1))}}},[t,e,n,r,i]),{isLoading:i,progress:s,bestCV:l,bestDistribution:A,error:f}},gt=(t,e=0)=>t==null||isNaN(t)?"0":t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}),xk=(t,e="$",n=2)=>t==null||isNaN(t)?`${e}0.00`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:n,maximumFractionDigits:n}).format(t).replace("$",e),Frt=({baseConfig:t,baseCV:e,horizonInYears:n})=>{const[r,i]=P.useState(!1),[a,s]=P.useState(!1),{isLoading:o,progress:l,bestCV:u,bestDistribution:A,error:d}=Ort({baseConfig:t,horizonInYears:n,enabled:a}),f=[t==null?void 0:t.mesInicioMonta1,t==null?void 0:t.mesInicioMonta2,t==null?void 0:t.mesInicioMonta3,t==null?void 0:t.mesInicioMonta4].filter(y=>typeof y=="number"&&y>0),h=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],p=()=>{s(!1),i(!0)},m=()=>{o||i(!1)},v=()=>{t&&s(!0)},g=()=>{if(d)return c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("h3",{className:"text-lg font-medium text-red-400",children:"Error en GanaGenius"}),c.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Ocurri un error en el worker de optimizacin:"}),c.jsx("p",{className:"mt-2 text-sm text-red-500 bg-red-900/50 p-2 rounded-md",children:d}),c.jsx("button",{type:"button",onClick:m,className:"mt-6 w-full rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-gray-500",children:"Cerrar"})]});if(o)return c.jsxs("div",{className:"p-6 text-center",children:[c.jsx(vpe,{size:48,className:"mx-auto text-sky-400 animate-pulse"}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-white",children:"GanaGenius est trabajando..."}),c.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["Analizando ",Math.round(l*200)," / 200 escenarios de montas."]}),c.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mt-4",children:c.jsx("div",{className:"bg-sky-500 h-2.5 rounded-full transition-all",style:{width:`${l*100}%`}})}),u&&c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Mejor CV encontrado hasta ahora: ",gt(u,1),"%"]})]});if(u!==null&&A){const y=typeof e=="number"?u<e:!0,x=A.map((S,E)=>{const N=f[E];if(typeof N!="number")return"?";const _=N-1;return`${h[_]||"Mes?"}: ${gt(S,0)}%`}).join(" / ");return c.jsxs("div",{className:"p-6 text-center",children:[c.jsx(Za,{size:48,className:`mx-auto ${y?"text-green-400":"text-sky-400"}`}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-white",children:"Optimizacin Completa"}),y?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Mejora encontrada! Es posible reducir tu Coeficiente de Variacin (CV):"}),c.jsxs("div",{className:"flex justify-center gap-4 my-4",children:[c.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg",children:[c.jsx("p",{className:"text-xs text-red-400",children:"CV Actual"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[gt(e,1)??"N/A","%"]})]}),c.jsxs("div",{className:"p-3 bg-green-900/50 border border-green-700 rounded-lg",children:[c.jsx("p",{className:"text-xs text-green-400",children:"CV ptimo"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[gt(u,1),"%"]})]})]}),c.jsx("p",{className:"text-sm text-gray-300",children:"Sugerencia de GanaGenius:"}),c.jsx("p",{className:"text-base font-semibold text-green-400 bg-gray-800 p-2 rounded-md mt-2",children:x})]}):c.jsxs("p",{className:"mt-2 text-sm text-gray-300",children:["Buen trabajo! Tu escenario actual (CV: ",gt(e,1),"%) ya es el ms lineal encontrado tras 200 simulaciones. No se requiere optimizacin."]}),c.jsx("button",{type:"button",onClick:m,className:"mt-6 w-full rounded-md bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-500",children:"Entendido"})]})}return c.jsxs("div",{className:"p-6 text-center",children:[c.jsx(Bpe,{size:48,className:"mx-auto text-yellow-400"}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-white",children:"Asistente de Optimizacin GanaGenius"}),c.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"GanaGenius analizar 200 escenarios de montas en segundo plano para encontrar la distribucin que genere la produccin de leche ms estable (CV ms bajo)."}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Esto puede tardar unos segundos."}),c.jsxs("button",{type:"button",onClick:v,className:"mt-6 w-full rounded-md bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-500",children:[c.jsx(Vv,{size:16,className:"inline-block -mt-1 mr-2"}),"Comenzar Optimizacin"]})]})};return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:p,disabled:!t,title:"GanaGenius: Optimizar Linealidad",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(Vv,{size:20})}),r&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:m,children:c.jsxs("div",{className:"relative w-full max-w-md bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:y=>y.stopPropagation(),children:[!o&&c.jsx("button",{onClick:m,title:"Cerrar",className:"absolute top-3 right-3 p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white",children:c.jsx(Bo,{size:20})}),g()]})})]})},Lrt="modulepreload",Mrt=function(t,e){return new URL(t,e).href},E9={},K4=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=Mrt(u,r),u in E9)return;E9[u]=!0;const A=u.endsWith(".css"),d=A?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const m=s[p];if(m.href===u&&(!A||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=A?"stylesheet":Lrt,A||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),A)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Vr(t){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(t)}var su=Uint8Array,Sl=Uint16Array,_F=Int32Array,BF=new su([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),NF=new su([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_9=new su([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_ie=function(t,e){for(var n=new Sl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new _F(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},Bie=_ie(BF,2),Rrt=Bie.b,wk=Bie.r;Rrt[28]=258,wk[258]=28;var Urt=_ie(NF,0),B9=Urt.r,Ck=new Sl(32768);for(var Si=0;Si<32768;++Si){var pd=(Si&43690)>>1|(Si&21845)<<1;pd=(pd&52428)>>2|(pd&13107)<<2,pd=(pd&61680)>>4|(pd&3855)<<4,Ck[Si]=((pd&65280)>>8|(pd&255)<<8)>>1}var fy=function(t,e,n){for(var r=t.length,i=0,a=new Sl(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new Sl(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new Sl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],A=e-t[i],d=s[t[i]-1]++<<A,f=d|(1<<A)-1;d<=f;++d)o[Ck[d]>>l]=u}else for(o=new Sl(r),i=0;i<r;++i)t[i]&&(o[i]=Ck[s[t[i]-1]++]>>15-t[i]);return o},ep=new su(288);for(var Si=0;Si<144;++Si)ep[Si]=8;for(var Si=144;Si<256;++Si)ep[Si]=9;for(var Si=256;Si<280;++Si)ep[Si]=7;for(var Si=280;Si<288;++Si)ep[Si]=8;var RS=new su(32);for(var Si=0;Si<32;++Si)RS[Si]=5;var Qrt=fy(ep,9,0),Hrt=fy(RS,5,0),Nie=function(t){return(t+7)/8|0},zrt=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new su(t.subarray(e,n))},AA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},av=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},W4=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:Iie,l:0};if(i==1){var s=new su(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(E,N){return E.f-N.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,A=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};A!=i-1;)o=n[n[u].f<n[d].f?u++:d++],l=n[u!=A&&n[u].f<n[d].f?u++:d++],n[A++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var h=new Sl(f+1),p=Sk(n[A-1],h,0);if(p>e){var r=0,m=0,v=p-e,g=1<<v;for(a.sort(function(N,_){return h[_.s]-h[N.s]||N.f-_.f});r<i;++r){var y=a[r].s;if(h[y]>e)m+=g-(1<<p-h[y]),h[y]=e;else break}for(m>>=v;m>0;){var x=a[r].s;h[x]<e?m-=1<<e-h[x]++-1:++r}for(;r>=0&&m;--r){var S=a[r].s;h[S]==e&&(--h[S],++m)}p=e}return{t:new su(h),l:p}},Sk=function(t,e,n){return t.s==-1?Math.max(Sk(t.l,e,n+1),Sk(t.r,e,n+1)):e[t.s]=n},N9=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Sl(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},sv=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},jie=function(t,e,n){var r=n.length,i=Nie(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},j9=function(t,e,n,r,i,a,s,o,l,u,A){AA(e,A++,n),++i[256];for(var d=W4(i,15),f=d.t,h=d.l,p=W4(a,15),m=p.t,v=p.l,g=N9(f),y=g.c,x=g.n,S=N9(m),E=S.c,N=S.n,_=new Sl(19),B=0;B<y.length;++B)++_[y[B]&31];for(var B=0;B<E.length;++B)++_[E[B]&31];for(var j=W4(_,7),D=j.t,k=j.l,O=19;O>4&&!D[_9[O-1]];--O);var L=u+5<<3,H=sv(i,ep)+sv(a,RS)+s,q=sv(i,f)+sv(a,m)+s+14+3*O+sv(_,D)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&L<=H&&L<=q)return jie(e,A,t.subarray(l,l+u));var Y,ee,K,te;if(AA(e,A,1+(q<H)),A+=2,q<H){Y=fy(f,h,0),ee=f,K=fy(m,v,0),te=m;var le=fy(D,k,0);AA(e,A,x-257),AA(e,A+5,N-1),AA(e,A+10,O-4),A+=14;for(var B=0;B<O;++B)AA(e,A+3*B,D[_9[B]]);A+=3*O;for(var se=[y,E],M=0;M<2;++M)for(var $=se[M],B=0;B<$.length;++B){var J=$[B]&31;AA(e,A,le[J]),A+=D[J],J>15&&(AA(e,A,$[B]>>5&127),A+=$[B]>>12)}}else Y=Qrt,ee=ep,K=Hrt,te=RS;for(var B=0;B<o;++B){var ne=r[B];if(ne>255){var J=ne>>18&31;av(e,A,Y[J+257]),A+=ee[J+257],J>7&&(AA(e,A,ne>>23&31),A+=BF[J]);var he=ne&31;av(e,A,K[he]),A+=te[he],he>3&&(av(e,A,ne>>5&8191),A+=NF[he])}else av(e,A,Y[ne]),A+=ee[ne]}return av(e,A,Y[256]),A+ee[256]},Vrt=new _F([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Iie=new su(0),$rt=function(t,e,n,r,i,a){var s=a.z||t.length,o=new su(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),u=a.l,A=(a.r||0)&7;if(e){A&&(l[0]=a.r>>3);for(var d=Vrt[e-1],f=d>>13,h=d&8191,p=(1<<n)-1,m=a.p||new Sl(32768),v=a.h||new Sl(p+1),g=Math.ceil(n/3),y=2*g,x=function(Oe){return(t[Oe]^t[Oe+1]<<g^t[Oe+2]<<y)&p},S=new _F(25e3),E=new Sl(288),N=new Sl(32),_=0,B=0,j=a.i||0,D=0,k=a.w||0,O=0;j+2<s;++j){var L=x(j),H=j&32767,q=v[L];if(m[H]=q,v[L]=H,k<=j){var Y=s-j;if((_>7e3||D>24576)&&(Y>423||!u)){A=j9(t,l,0,S,E,N,B,D,O,j-O,A),D=_=B=0,O=j;for(var ee=0;ee<286;++ee)E[ee]=0;for(var ee=0;ee<30;++ee)N[ee]=0}var K=2,te=0,le=h,se=H-q&32767;if(Y>2&&L==x(j-se))for(var M=Math.min(f,Y)-1,$=Math.min(32767,j),J=Math.min(258,Y);se<=$&&--le&&H!=q;){if(t[j+K]==t[j+K-se]){for(var ne=0;ne<J&&t[j+ne]==t[j+ne-se];++ne);if(ne>K){if(K=ne,te=se,ne>M)break;for(var he=Math.min(se,ne-2),we=0,ee=0;ee<he;++ee){var Se=j-se+ee&32767,Ae=m[Se],ge=Se-Ae&32767;ge>we&&(we=ge,q=Se)}}}H=q,q=m[H],se+=H-q&32767}if(te){S[D++]=268435456|wk[K]<<18|B9[te];var xe=wk[K]&31,ae=B9[te]&31;B+=BF[xe]+NF[ae],++E[257+xe],++N[ae],k=j+K,++_}else S[D++]=t[j],++E[t[j]]}}for(j=Math.max(j,k);j<s;++j)S[D++]=t[j],++E[t[j]];A=j9(t,l,u,S,E,N,B,D,O,j-O,A),u||(a.r=A&7|l[A/8|0]<<3,A-=7,a.h=v,a.p=m,a.i=j,a.w=k)}else{for(var j=a.w||0;j<s+u;j+=65535){var Ve=j+65535;Ve>=s&&(l[A/8|0]=u,Ve=s),A=jie(l,A+1,t.subarray(j,Ve))}a.i=s}return zrt(o,0,r+Nie(A)+i)},Tie=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Krt=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new su(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return $rt(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},kie=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Wrt=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Tie();i.p(e.dictionary),kie(t,2,i.d())}};function Ek(t,e){e||(e={});var n=Tie();n.p(t);var r=Krt(t,e,e.dictionary?6:2,4);return Wrt(r,e),kie(r,r.length-4,n.d()),r}var Grt=typeof TextDecoder<"u"&&new TextDecoder,qrt=0;try{Grt.decode(Iie,{stream:!0}),qrt=1}catch{}function Yrt(t){if(Array.isArray(t))return t}function Xrt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(A){u=!0,i=A}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function I9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Jrt(t,e){if(t){if(typeof t=="string")return I9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I9(t,e):void 0}}function Zrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T9(t,e){return Yrt(t)||Xrt(t,e)||Jrt(t,e)||Zrt()}function k9(t,e="utf8"){return new TextDecoder(e).decode(t)}const eit=new TextEncoder;function tit(t){return eit.encode(t)}const nit=1024*8,rit=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),G4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class jF{constructor(e=nit,n={}){Ln(this,"buffer");Ln(this,"byteLength");Ln(this,"byteOffset");Ln(this,"length");Ln(this,"offset");Ln(this,"lastWrittenByte");Ln(this,"littleEndian");Ln(this,"_data");Ln(this,"_mark");Ln(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof jF)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=G4[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===rit&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new G4[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new G4[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return k9(this.readBytes(e))}decodeText(e=1,n="utf8"){return k9(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(tit(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function N0(t){let e=t.length;for(;--e>=0;)t[e]=0}const iit=3,ait=258,Pie=29,sit=256,oit=sit+1+Pie,Die=30,lit=512,cit=new Array((oit+2)*2);N0(cit);const uit=new Array(Die*2);N0(uit);const Ait=new Array(lit);N0(Ait);const dit=new Array(ait-iit+1);N0(dit);const fit=new Array(Pie);N0(fit);const hit=new Array(Die);N0(hit);const pit=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var _k=pit;const mit=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},git=new Uint32Array(mit()),vit=(t,e,n,r)=>{const i=git,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var bu=vit,Bk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Oie={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const yit=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var bit=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)yit(n,r)&&(t[r]=n[r])}}return t},xit=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},Fie={assign:bit,flattenChunks:xit};let Lie=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lie=!1}const Ub=new Uint8Array(256);for(let t=0;t<256;t++)Ub[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ub[254]=Ub[254]=1;var wit=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const Cit=(t,e)=>{if(e<65534&&t.subarray&&Lie)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Sit=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=Ub[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Cit(a,i)},Eit=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Ub[t[n]]>e?n:e},Nk={string2buf:wit,buf2string:Sit,utf8border:Eit};function _it(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Bit=_it;const vw=16209,Nit=16191;var jit=function(e,n){let r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,x,S,E,N,_,B,j,D;const k=e.state;r=e.next_in,j=e.input,i=r+(e.avail_in-5),a=e.next_out,D=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=k.dmax,u=k.wsize,A=k.whave,d=k.wnext,f=k.window,h=k.hold,p=k.bits,m=k.lencode,v=k.distcode,g=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;e:do{p<15&&(h+=j[r++]<<p,p+=8,h+=j[r++]<<p,p+=8),x=m[h&g];t:for(;;){if(S=x>>>24,h>>>=S,p-=S,S=x>>>16&255,S===0)D[a++]=x&65535;else if(S&16){E=x&65535,S&=15,S&&(p<S&&(h+=j[r++]<<p,p+=8),E+=h&(1<<S)-1,h>>>=S,p-=S),p<15&&(h+=j[r++]<<p,p+=8,h+=j[r++]<<p,p+=8),x=v[h&y];n:for(;;){if(S=x>>>24,h>>>=S,p-=S,S=x>>>16&255,S&16){if(N=x&65535,S&=15,p<S&&(h+=j[r++]<<p,p+=8,p<S&&(h+=j[r++]<<p,p+=8)),N+=h&(1<<S)-1,N>l){e.msg="invalid distance too far back",k.mode=vw;break e}if(h>>>=S,p-=S,S=a-s,N>S){if(S=N-S,S>A&&k.sane){e.msg="invalid distance too far back",k.mode=vw;break e}if(_=0,B=f,d===0){if(_+=u-S,S<E){E-=S;do D[a++]=f[_++];while(--S);_=a-N,B=D}}else if(d<S){if(_+=u+d-S,S-=d,S<E){E-=S;do D[a++]=f[_++];while(--S);if(_=0,d<E){S=d,E-=S;do D[a++]=f[_++];while(--S);_=a-N,B=D}}}else if(_+=d-S,S<E){E-=S;do D[a++]=f[_++];while(--S);_=a-N,B=D}for(;E>2;)D[a++]=B[_++],D[a++]=B[_++],D[a++]=B[_++],E-=3;E&&(D[a++]=B[_++],E>1&&(D[a++]=B[_++]))}else{_=a-N;do D[a++]=D[_++],D[a++]=D[_++],D[a++]=D[_++],E-=3;while(E>2);E&&(D[a++]=D[_++],E>1&&(D[a++]=D[_++]))}}else if(S&64){e.msg="invalid distance code",k.mode=vw;break e}else{x=v[(x&65535)+(h&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){k.mode=Nit;break e}else{e.msg="invalid literal/length code",k.mode=vw;break e}else{x=m[(x&65535)+(h&(1<<S)-1)];continue t}break}}while(r<i&&a<o);E=p>>3,r-=E,p-=E<<3,h&=(1<<p)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),k.hold=h,k.bits=p};const Qp=15,P9=852,D9=592,O9=0,q4=1,F9=2,Iit=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Tit=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kit=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Pit=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Dit=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let u=0,A=0,d=0,f=0,h=0,p=0,m=0,v=0,g=0,y=0,x,S,E,N,_,B=null,j;const D=new Uint16Array(Qp+1),k=new Uint16Array(Qp+1);let O=null,L,H,q;for(u=0;u<=Qp;u++)D[u]=0;for(A=0;A<r;A++)D[e[n+A]]++;for(h=l,f=Qp;f>=1&&D[f]===0;f--);if(h>f&&(h=f),f===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<f&&D[d]===0;d++);for(h<d&&(h=d),v=1,u=1;u<=Qp;u++)if(v<<=1,v-=D[u],v<0)return-1;if(v>0&&(t===O9||f!==1))return-1;for(k[1]=0,u=1;u<Qp;u++)k[u+1]=k[u]+D[u];for(A=0;A<r;A++)e[n+A]!==0&&(s[k[e[n+A]]++]=A);if(t===O9?(B=O=s,j=20):t===q4?(B=Iit,O=Tit,j=257):(B=kit,O=Pit,j=0),y=0,A=0,u=d,_=a,p=h,m=0,E=-1,g=1<<h,N=g-1,t===q4&&g>P9||t===F9&&g>D9)return 1;for(;;){L=u-m,s[A]+1<j?(H=0,q=s[A]):s[A]>=j?(H=O[s[A]-j],q=B[s[A]-j]):(H=96,q=0),x=1<<u-m,S=1<<p,d=S;do S-=x,i[_+(y>>m)+S]=L<<24|H<<16|q|0;while(S!==0);for(x=1<<u-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,A++,--D[u]===0){if(u===f)break;u=e[n+s[A]]}if(u>h&&(y&N)!==E){for(m===0&&(m=h),_+=d,p=u-m,v=1<<p;p+m<f&&(v-=D[p+m],!(v<=0));)p++,v<<=1;if(g+=1<<p,t===q4&&g>P9||t===F9&&g>D9)return 1;E=y&N,i[E]=h<<24|p<<16|_-a|0}}return y!==0&&(i[_+y]=u-m<<24|64<<16|0),o.bits=h,0};var hy=Dit;const Oit=0,Mie=1,Rie=2,{Z_FINISH:L9,Z_BLOCK:Fit,Z_TREES:yw,Z_OK:tp,Z_STREAM_END:Lit,Z_NEED_DICT:Mit,Z_STREAM_ERROR:vc,Z_DATA_ERROR:Uie,Z_MEM_ERROR:Qie,Z_BUF_ERROR:Rit,Z_DEFLATED:M9}=Oie,e_=16180,R9=16181,U9=16182,Q9=16183,H9=16184,z9=16185,V9=16186,$9=16187,K9=16188,W9=16189,US=16190,dA=16191,Y4=16192,G9=16193,X4=16194,q9=16195,Y9=16196,X9=16197,J9=16198,bw=16199,xw=16200,Z9=16201,eV=16202,tV=16203,nV=16204,rV=16205,J4=16206,iV=16207,aV=16208,Bi=16209,Hie=16210,zie=16211,Uit=852,Qit=592,Hit=15,zit=Hit,sV=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Vit(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ep=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<e_||e.mode>zie?1:0},Vie=t=>{if(Ep(t))return vc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=e_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Uit),e.distcode=e.distdyn=new Int32Array(Qit),e.sane=1,e.back=-1,tp},$ie=t=>{if(Ep(t))return vc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Vie(t)},Kie=(t,e)=>{let n;if(Ep(t))return vc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?vc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,$ie(t))},Wie=(t,e)=>{if(!t)return vc;const n=new Vit;t.state=n,n.strm=t,n.window=null,n.mode=e_;const r=Kie(t,e);return r!==tp&&(t.state=null),r},$it=t=>Wie(t,zit);let oV=!0,Z4,eN;const Kit=t=>{if(oV){Z4=new Int32Array(512),eN=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(hy(Mie,t.lens,0,288,Z4,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;hy(Rie,t.lens,0,32,eN,0,t.work,{bits:5}),oV=!1}t.lencode=Z4,t.lenbits=9,t.distcode=eN,t.distbits=5},Gie=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Wit=(t,e)=>{let n,r,i,a,s,o,l,u,A,d,f,h,p,m,v=0,g,y,x,S,E,N,_,B;const j=new Uint8Array(4);let D,k;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ep(t)||!t.output||!t.input&&t.avail_in!==0)return vc;n=t.state,n.mode===dA&&(n.mode=Y4),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,u=n.hold,A=n.bits,d=o,f=l,B=tp;e:for(;;)switch(n.mode){case e_:if(n.wrap===0){n.mode=Y4;break}for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,j[0]=u&255,j[1]=u>>>8&255,n.check=bu(n.check,j,2,0),u=0,A=0,n.mode=R9;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Bi;break}if((u&15)!==M9){t.msg="unknown compression method",n.mode=Bi;break}if(u>>>=4,A-=4,_=(u&15)+8,n.wbits===0&&(n.wbits=_),_>15||_>n.wbits){t.msg="invalid window size",n.mode=Bi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?W9:dA,u=0,A=0;break;case R9:for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.flags=u,(n.flags&255)!==M9){t.msg="unknown compression method",n.mode=Bi;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Bi;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=bu(n.check,j,2,0)),u=0,A=0,n.mode=U9;case U9:for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,j[2]=u>>>16&255,j[3]=u>>>24&255,n.check=bu(n.check,j,4,0)),u=0,A=0,n.mode=Q9;case Q9:for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=bu(n.check,j,2,0)),u=0,A=0,n.mode=H9;case H9:if(n.flags&1024){for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=bu(n.check,j,2,0)),u=0,A=0}else n.head&&(n.head.extra=null);n.mode=z9;case z9:if(n.flags&1024&&(h=n.length,h>o&&(h=o),h&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),_)),n.flags&512&&n.wrap&4&&(n.check=bu(n.check,r,h,a)),o-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=V9;case V9:if(n.flags&2048){if(o===0)break e;h=0;do _=r[a+h++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_));while(_&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=bu(n.check,r,h,a)),o-=h,a+=h,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=$9;case $9:if(n.flags&4096){if(o===0)break e;h=0;do _=r[a+h++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_));while(_&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=bu(n.check,r,h,a)),o-=h,a+=h,_)break e}else n.head&&(n.head.comment=null);n.mode=K9;case K9:if(n.flags&512){for(;A<16;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Bi;break}u=0,A=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=dA;break;case W9:for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}t.adler=n.check=sV(u),u=0,A=0,n.mode=US;case US:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,Mit;t.adler=n.check=1,n.mode=dA;case dA:if(e===Fit||e===yw)break e;case Y4:if(n.last){u>>>=A&7,A-=A&7,n.mode=J4;break}for(;A<3;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}switch(n.last=u&1,u>>>=1,A-=1,u&3){case 0:n.mode=G9;break;case 1:if(Kit(n),n.mode=bw,e===yw){u>>>=2,A-=2;break e}break;case 2:n.mode=Y9;break;case 3:t.msg="invalid block type",n.mode=Bi}u>>>=2,A-=2;break;case G9:for(u>>>=A&7,A-=A&7;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Bi;break}if(n.length=u&65535,u=0,A=0,n.mode=X4,e===yw)break e;case X4:n.mode=q9;case q9:if(h=n.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(r.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,n.length-=h;break}n.mode=dA;break;case Y9:for(;A<14;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.nlen=(u&31)+257,u>>>=5,A-=5,n.ndist=(u&31)+1,u>>>=5,A-=5,n.ncode=(u&15)+4,u>>>=4,A-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Bi;break}n.have=0,n.mode=X9;case X9:for(;n.have<n.ncode;){for(;A<3;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.lens[O[n.have++]]=u&7,u>>>=3,A-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},B=hy(Oit,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,B){t.msg="invalid code lengths set",n.mode=Bi;break}n.have=0,n.mode=J9;case J9:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[u&(1<<n.lenbits)-1],g=v>>>24,y=v>>>16&255,x=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(x<16)u>>>=g,A-=g,n.lens[n.have++]=x;else{if(x===16){for(k=g+2;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(u>>>=g,A-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=Bi;break}_=n.lens[n.have-1],h=3+(u&3),u>>>=2,A-=2}else if(x===17){for(k=g+3;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=g,A-=g,_=0,h=3+(u&7),u>>>=3,A-=3}else{for(k=g+7;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=g,A-=g,_=0,h=11+(u&127),u>>>=7,A-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Bi;break}for(;h--;)n.lens[n.have++]=_}}if(n.mode===Bi)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Bi;break}if(n.lenbits=9,D={bits:n.lenbits},B=hy(Mie,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,B){t.msg="invalid literal/lengths set",n.mode=Bi;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},B=hy(Rie,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,B){t.msg="invalid distances set",n.mode=Bi;break}if(n.mode=bw,e===yw)break e;case bw:n.mode=xw;case xw:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,jit(t,f),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,u=n.hold,A=n.bits,n.mode===dA&&(n.back=-1);break}for(n.back=0;v=n.lencode[u&(1<<n.lenbits)-1],g=v>>>24,y=v>>>16&255,x=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(y&&!(y&240)){for(S=g,E=y,N=x;v=n.lencode[N+((u&(1<<S+E)-1)>>S)],g=v>>>24,y=v>>>16&255,x=v&65535,!(S+g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=S,A-=S,n.back+=S}if(u>>>=g,A-=g,n.back+=g,n.length=x,y===0){n.mode=rV;break}if(y&32){n.back=-1,n.mode=dA;break}if(y&64){t.msg="invalid literal/length code",n.mode=Bi;break}n.extra=y&15,n.mode=Z9;case Z9:if(n.extra){for(k=n.extra;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=eV;case eV:for(;v=n.distcode[u&(1<<n.distbits)-1],g=v>>>24,y=v>>>16&255,x=v&65535,!(g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(!(y&240)){for(S=g,E=y,N=x;v=n.distcode[N+((u&(1<<S+E)-1)>>S)],g=v>>>24,y=v>>>16&255,x=v&65535,!(S+g<=A);){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}u>>>=S,A-=S,n.back+=S}if(u>>>=g,A-=g,n.back+=g,y&64){t.msg="invalid distance code",n.mode=Bi;break}n.offset=x,n.extra=y&15,n.mode=tV;case tV:if(n.extra){for(k=n.extra;A<k;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Bi;break}n.mode=nV;case nV:if(l===0)break e;if(h=f-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Bi;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=i,p=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[s++]=m[p++];while(--h);n.length===0&&(n.mode=xw);break;case rV:if(l===0)break e;i[s++]=n.length,l--,n.mode=xw;break;case J4:if(n.wrap){for(;A<32;){if(o===0)break e;o--,u|=r[a++]<<A,A+=8}if(f-=l,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?bu(n.check,i,f,s-f):_k(n.check,i,f,s-f)),f=l,n.wrap&4&&(n.flags?u:sV(u))!==n.check){t.msg="incorrect data check",n.mode=Bi;break}u=0,A=0}n.mode=iV;case iV:if(n.wrap&&n.flags){for(;A<32;){if(o===0)break e;o--,u+=r[a++]<<A,A+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Bi;break}u=0,A=0}n.mode=aV;case aV:B=Lit;break e;case Bi:B=Uie;break e;case Hie:return Qie;case zie:default:return vc}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=A,(n.wsize||f!==t.avail_out&&n.mode<Bi&&(n.mode<J4||e!==L9))&&Gie(t,t.output,t.next_out,f-t.avail_out),d-=t.avail_in,f-=t.avail_out,t.total_in+=d,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?bu(n.check,i,f,t.next_out-f):_k(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===dA?128:0)+(n.mode===bw||n.mode===X4?256:0),(d===0&&f===0||e===L9)&&B===tp&&(B=Rit),B},Git=t=>{if(Ep(t))return vc;let e=t.state;return e.window&&(e.window=null),t.state=null,tp},qit=(t,e)=>{if(Ep(t))return vc;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,tp):vc},Yit=(t,e)=>{const n=e.length;let r,i,a;return Ep(t)||(r=t.state,r.wrap!==0&&r.mode!==US)?vc:r.mode===US&&(i=1,i=_k(i,e,n,0),i!==r.check)?Uie:(a=Gie(t,e,n,n),a?(r.mode=Hie,Qie):(r.havedict=1,tp))};var Xit=$ie,Jit=Kie,Zit=Vie,eat=$it,tat=Wie,nat=Wit,rat=Git,iat=qit,aat=Yit,sat="pako inflate (from Nodeca project)",gA={inflateReset:Xit,inflateReset2:Jit,inflateResetKeep:Zit,inflateInit:eat,inflateInit2:tat,inflate:nat,inflateEnd:rat,inflateGetHeader:iat,inflateSetDictionary:aat,inflateInfo:sat};function oat(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lat=oat;const qie=Object.prototype.toString,{Z_NO_FLUSH:cat,Z_FINISH:uat,Z_OK:Qb,Z_STREAM_END:tN,Z_NEED_DICT:nN,Z_STREAM_ERROR:Aat,Z_DATA_ERROR:lV,Z_MEM_ERROR:dat}=Oie;function Px(t){this.options=Fie.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bit,this.strm.avail_out=0;let n=gA.inflateInit2(this.strm,e.windowBits);if(n!==Qb)throw new Error(Bk[n]);if(this.header=new lat,gA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Nk.string2buf(e.dictionary):qie.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=gA.inflateSetDictionary(this.strm,e.dictionary),n!==Qb)))throw new Error(Bk[n])}Px.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?uat:cat,qie.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=gA.inflate(n,s),a===nN&&i&&(a=gA.inflateSetDictionary(n,i),a===Qb?a=gA.inflate(n,s):a===lV&&(a=nN));n.avail_in>0&&a===tN&&n.state.wrap>0&&t[n.next_in]!==0;)gA.inflateReset(n),a=gA.inflate(n,s);switch(a){case Aat:case lV:case nN:case dat:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===tN))if(this.options.to==="string"){let l=Nk.utf8border(n.output,n.next_out),u=n.next_out-l,A=Nk.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(A)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Qb&&o===0)){if(a===tN)return a=gA.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Px.prototype.onData=function(t){this.chunks.push(t)};Px.prototype.onEnd=function(t){t===Qb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Fie.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function fat(t,e){const n=new Px(e);if(n.push(t),n.err)throw n.msg||Bk[n.err];return n.result}var hat=Px,pat=fat,mat={Inflate:hat,inflate:pat};const{Inflate:gat,inflate:vat}=mat;var cV=gat,yat=vat;const Yie=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Yie[t]=e}const uV=4294967295;function bat(t,e,n){let r=t;for(let i=0;i<n;i++)r=Yie[(r^e[i])&255]^r>>>8;return r}function xat(t,e){return(bat(uV,t,e)^uV)>>>0}function AV(t,e,n){const r=t.readUint32(),i=xat(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Xie(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Jie(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function Zie(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function eae(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function tae(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+wat(e[a-i],n[a],n[a-i])&255}}function wat(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function Cat(t,e,n,r,i,a){switch(t){case 0:Xie(e,n,i);break;case 1:Jie(e,n,i,a);break;case 2:Zie(e,n,r,i);break;case 3:eae(e,n,r,i,a);break;case 4:tae(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Sat=new Uint16Array([255]),Eat=new Uint8Array(Sat.buffer),_at=Eat[0]===255;function Bat(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let u=0;for(let A=0;A<7;A++){const d=s[A],f=Math.ceil((n-d.x)/d.xStep),h=Math.ceil((r-d.y)/d.yStep);if(f<=0||h<=0)continue;const p=f*o,m=new Uint8Array(p);for(let v=0;v<h;v++){const g=e[u++],y=e.subarray(u,u+p);u+=p;const x=new Uint8Array(p);Cat(g,y,x,m,p,o),m.set(x);for(let S=0;S<f;S++){const E=d.x+S*d.xStep,N=d.y+v*d.yStep;if(!(E>=n||N>=r))for(let _=0;_<o;_++)l[(N*n+E)*o+_]=x[S*o+_]}}}if(a===16){const A=new Uint16Array(l.buffer);if(_at)for(let d=0;d<A.length;d++)A[d]=Nat(A[d]);return A}else return l}function Nat(t){return(t&255)<<8|t>>8&255}const jat=new Uint16Array([255]),Iat=new Uint8Array(jat.buffer),Tat=Iat[0]===255,kat=new Uint8Array(0);function dV(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let u=kat,A=0,d,f;for(let h=0;h<r;h++){switch(d=e.subarray(A+1,A+1+o),f=l.subarray(h*o,(h+1)*o),e[A]){case 0:Xie(d,f,o);break;case 1:Jie(d,f,o,s);break;case 2:Zie(d,f,u,o);break;case 3:eae(d,f,u,o,s);break;case 4:tae(d,f,u,o,s);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}u=f,A+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(Tat)for(let p=0;p<h.length;p++)h[p]=Pat(h[p]);return h}else return l}function Pat(t){return(t&255)<<8|t>>8&255}const c2=Uint8Array.of(137,80,78,71,13,10,26,10);function fV(t){if(!Dat(t.readBytes(c2.length)))throw new Error("wrong PNG signature")}function Dat(t){if(t.length<c2.length)return!1;for(let e=0;e<c2.length;e++)if(t[e]!==c2[e])return!1;return!0}const Oat="tEXt",Fat=0,nae=new TextDecoder("latin1");function Lat(t){if(Rat(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Mat=/^[\u0000-\u00FF]*$/;function Rat(t){if(!Mat.test(t))throw new Error("invalid latin1 text")}function Uat(t,e,n){const r=rae(e);t[r]=Qat(e,n-r.length-1)}function rae(t){for(t.mark();t.readByte()!==Fat;);const e=t.offset;t.reset();const n=nae.decode(t.readBytes(e-t.offset-1));return t.skip(1),Lat(n),n}function Qat(t,e){return nae.decode(t.readBytes(e))}const pl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},rN={UNKNOWN:-1,DEFLATE:0},hV={UNKNOWN:-1,ADAPTIVE:0},iN={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ww={NONE:0,BACKGROUND:1,PREVIOUS:2},aN={SOURCE:0,OVER:1};class Hat extends jF{constructor(n,r={}){super(n);Ln(this,"_checkCrc");Ln(this,"_inflator");Ln(this,"_png");Ln(this,"_apng");Ln(this,"_end");Ln(this,"_hasPalette");Ln(this,"_palette");Ln(this,"_hasTransparency");Ln(this,"_transparency");Ln(this,"_compressionMethod");Ln(this,"_filterMethod");Ln(this,"_interlaceMethod");Ln(this,"_colorType");Ln(this,"_isAnimated");Ln(this,"_numberOfFrames");Ln(this,"_numberOfPlays");Ln(this,"_frames");Ln(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new cV,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=rN.UNKNOWN,this._filterMethod=hV.UNKNOWN,this._interlaceMethod=iN.UNKNOWN,this._colorType=pl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fV(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(fV(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Oat:Uat(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?AV(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?AV(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=zat(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case pl.GREYSCALE:i=1;break;case pl.TRUECOLOUR:i=3;break;case pl.INDEXED_COLOUR:i=1;break;case pl.GREYSCALE_ALPHA:i=2;break;case pl.TRUECOLOUR_ALPHA:i=4;break;case pl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==rN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case pl.GREYSCALE:case pl.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case pl.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case pl.UNKNOWN:case pl.GREYSCALE_ALPHA:case pl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=rae(this),i=this.readUint8();if(i!==rN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:yat(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=dV({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case ww.NONE:break;case ww.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case ww.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case aN.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let A=0;A<this._png.channels;A++)n.data[l+A]=r.data[u+A]}break;case aN.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let A=0;A<this._png.channels;A++){const d=r.data[u+this._png.channels-1]/i,f=A%(this._png.channels-1)===0?1:r.data[u+A],h=Math.floor(d*f+(1-d)*n.data[l+A]);n.data[l+A]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==hV.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===iN.NO_INTERLACE)this._png.data=dV({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===iN.ADAM7)this._png.data=Bat({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ww.NONE,blendOp:aN.SOURCE,data:n}),this._inflator=new cV,this._writingDataChunks=!1}}function zat(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var pV;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(pV||(pV={}));function Vat(t,e){return new Hat(t,e).decode()}var kn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function sN(){kn.console&&typeof kn.console.log=="function"&&kn.console.log.apply(kn.console,arguments)}var ni={log:sN,warn:function(t){kn.console&&(typeof kn.console.warn=="function"?kn.console.warn.apply(kn.console,arguments):sN.call(null,arguments))},error:function(t){kn.console&&(typeof kn.console.error=="function"?kn.console.error.apply(kn.console,arguments):sN(t))}};function oN(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){th(r.response,e,n)},r.onerror=function(){ni.error("could not download file")},r.send()}function mV(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Cw(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var th=kn.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==kn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=kn.URL||kn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?mV(i.href)?oN(t,e,n):Cw(i,i.target="_blank"):Cw(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(mV(t))oN(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Cw(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Vr(a)!=="object"&&(ni.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return oN(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(kn.HTMLElement)||kn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var A=o.result;A=s?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=A:location=A,r=null},o.readAsDataURL(t)}else{var l=kn.URL||kn.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iae(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var u2=kn.atob.bind(kn),gV=kn.btoa.bind(kn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lN(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Ws(n,r,i,a,e[0],7,-680876936),a=Ws(a,n,r,i,e[1],12,-389564586),i=Ws(i,a,n,r,e[2],17,606105819),r=Ws(r,i,a,n,e[3],22,-1044525330),n=Ws(n,r,i,a,e[4],7,-176418897),a=Ws(a,n,r,i,e[5],12,1200080426),i=Ws(i,a,n,r,e[6],17,-1473231341),r=Ws(r,i,a,n,e[7],22,-45705983),n=Ws(n,r,i,a,e[8],7,1770035416),a=Ws(a,n,r,i,e[9],12,-1958414417),i=Ws(i,a,n,r,e[10],17,-42063),r=Ws(r,i,a,n,e[11],22,-1990404162),n=Ws(n,r,i,a,e[12],7,1804603682),a=Ws(a,n,r,i,e[13],12,-40341101),i=Ws(i,a,n,r,e[14],17,-1502002290),n=Gs(n,r=Ws(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Gs(a,n,r,i,e[6],9,-1069501632),i=Gs(i,a,n,r,e[11],14,643717713),r=Gs(r,i,a,n,e[0],20,-373897302),n=Gs(n,r,i,a,e[5],5,-701558691),a=Gs(a,n,r,i,e[10],9,38016083),i=Gs(i,a,n,r,e[15],14,-660478335),r=Gs(r,i,a,n,e[4],20,-405537848),n=Gs(n,r,i,a,e[9],5,568446438),a=Gs(a,n,r,i,e[14],9,-1019803690),i=Gs(i,a,n,r,e[3],14,-187363961),r=Gs(r,i,a,n,e[8],20,1163531501),n=Gs(n,r,i,a,e[13],5,-1444681467),a=Gs(a,n,r,i,e[2],9,-51403784),i=Gs(i,a,n,r,e[7],14,1735328473),n=qs(n,r=Gs(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=qs(a,n,r,i,e[8],11,-2022574463),i=qs(i,a,n,r,e[11],16,1839030562),r=qs(r,i,a,n,e[14],23,-35309556),n=qs(n,r,i,a,e[1],4,-1530992060),a=qs(a,n,r,i,e[4],11,1272893353),i=qs(i,a,n,r,e[7],16,-155497632),r=qs(r,i,a,n,e[10],23,-1094730640),n=qs(n,r,i,a,e[13],4,681279174),a=qs(a,n,r,i,e[0],11,-358537222),i=qs(i,a,n,r,e[3],16,-722521979),r=qs(r,i,a,n,e[6],23,76029189),n=qs(n,r,i,a,e[9],4,-640364487),a=qs(a,n,r,i,e[12],11,-421815835),i=qs(i,a,n,r,e[15],16,530742520),n=Ys(n,r=qs(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ys(a,n,r,i,e[7],10,1126891415),i=Ys(i,a,n,r,e[14],15,-1416354905),r=Ys(r,i,a,n,e[5],21,-57434055),n=Ys(n,r,i,a,e[12],6,1700485571),a=Ys(a,n,r,i,e[3],10,-1894986606),i=Ys(i,a,n,r,e[10],15,-1051523),r=Ys(r,i,a,n,e[1],21,-2054922799),n=Ys(n,r,i,a,e[8],6,1873313359),a=Ys(a,n,r,i,e[15],10,-30611744),i=Ys(i,a,n,r,e[6],15,-1560198380),r=Ys(r,i,a,n,e[13],21,1309151649),n=Ys(n,r,i,a,e[4],6,-145523070),a=Ys(a,n,r,i,e[11],10,-1120210379),i=Ys(i,a,n,r,e[2],15,718787259),r=Ys(r,i,a,n,e[9],21,-343485551),t[0]=Ud(n,t[0]),t[1]=Ud(r,t[1]),t[2]=Ud(i,t[2]),t[3]=Ud(a,t[3])}function t_(t,e,n,r,i,a){return e=Ud(Ud(e,t),Ud(r,a)),Ud(e<<i|e>>>32-i,n)}function Ws(t,e,n,r,i,a,s){return t_(e&n|~e&r,t,e,i,a,s)}function Gs(t,e,n,r,i,a,s){return t_(e&r|n&~r,t,e,i,a,s)}function qs(t,e,n,r,i,a,s){return t_(e^n^r,t,e,i,a,s)}function Ys(t,e,n,r,i,a,s){return t_(n^(e|~r),t,e,i,a,s)}function aae(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)lN(r,$at(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(lN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,lN(r,i),r}function $at(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var vV="0123456789abcdef".split("");function Kat(t){for(var e="",n=0;n<4;n++)e+=vV[t>>8*n+4&15]+vV[t>>8*n&15];return e}function Wat(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function jk(t){return aae(t).map(Wat).join("")}var Gat=function(t){for(var e=0;e<t.length;e++)t[e]=Kat(t[e]);return t.join("")}(aae("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ud(t,e){if(Gat){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ik(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var A=o[l];u=(u+A+s.charCodeAt(l))%256,o[l]=o[u],o[u]=A}n=t,r=o}else o=r;var d=e.length,f=0,h=0,p="";for(l=0;l<d;l++)h=(h+(A=o[f=(f+1)%256]))%256,o[f]=o[h],o[h]=A,s=o[(o[f]+o[h])%256],p+=String.fromCharCode(e.charCodeAt(l)^s);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yV={print:4,modify:8,copy:16,"annot-forms":32};function Zp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(yV.perm!==void 0)throw new Error("Invalid permission: "+o);i+=yV[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=jk(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ik(this.encryptionKey,this.padding)}function em(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function bV(t){if(Vr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){kn.console&&ni.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function QS(t){if(!(this instanceof QS))return new QS(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function sae(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ah(t,e,n,r,i){if(!(this instanceof ah))return new ah(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,sae.call(this,r,i)}function Bm(t,e,n,r,i){if(!(this instanceof Bm))return new Bm(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,sae.call(this,r,i)}function mn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",A=null;Vr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(A=t.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=bV;var p="1.3",m=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(F){p=F};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var g=h.__private__.getPageFormat=function(F){return v[F]};i=i||"a4";var y="compat",x="advanced",S=y;function E(){this.saveGraphicsState(),fe(new Pe(yt,0,0,-yt,0,hs()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),u="n",S=x}function N(){this.restoreGraphicsState(),u="S",S=y}var _=h.__private__.combineFontStyleAndFontWeight=function(F,X){if(F=="bold"&&X=="normal"||F=="bold"&&X==400||F=="normal"&&X=="italic"||F=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(F=X==400||X==="normal"?F==="italic"?"italic":"normal":X!=700&&X!=="bold"||F!=="normal"?(X==700?"bold":X)+""+F:"bold"),F};h.advancedAPI=function(F){var X=S===y;return X&&E.call(this),typeof F!="function"||(F(this),X&&N.call(this)),this},h.compatAPI=function(F){var X=S===x;return X&&N.call(this),typeof F!="function"||(F(this),X&&E.call(this)),this},h.isAdvancedAPI=function(){return S===x};var B,j=function(F){if(S!==x)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=h.roundToPrecision=h.__private__.roundToPrecision=function(F,X){var me=e||X;if(isNaN(F)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(me).replace(/0+$/,"")};B=h.hpf=h.__private__.hpf=typeof l=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return D(F,l)}:l==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return D(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return D(F,16)};var k=h.f2=h.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return D(F,2)},O=h.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return D(F,3)},L=h.scale=h.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return S===y?F*yt:S===x?F:void 0},H=function(F){return L(function(X){return S===y?hs()-X:S===x?X:void 0}(F))};h.__private__.setPrecision=h.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(e=parseInt(F,10))};var q,Y="00000000000000000000000000000000",ee=h.__private__.getFileId=function(){return Y},K=h.__private__.setFileId=function(F){return Y=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(yr=new Zp(A.userPermissions,A.userPassword,A.ownerPassword,Y)),Y};h.setFileId=function(F){return K(F),this},h.getFileId=function(){return ee()};var te=h.__private__.convertDateToPDFDate=function(F){var X=F.getTimezoneOffset(),me=X<0?"+":"-",Be=Math.floor(Math.abs(X/60)),Ue=Math.abs(X%60),rt=[me,J(Be),"'",J(Ue),"'"].join("");return["D:",F.getFullYear(),J(F.getMonth()+1),J(F.getDate()),J(F.getHours()),J(F.getMinutes()),J(F.getSeconds()),rt].join("")},le=h.__private__.convertPDFDateToDate=function(F){var X=parseInt(F.substr(2,4),10),me=parseInt(F.substr(6,2),10)-1,Be=parseInt(F.substr(8,2),10),Ue=parseInt(F.substr(10,2),10),rt=parseInt(F.substr(12,2),10),at=parseInt(F.substr(14,2),10);return new Date(X,me,Be,Ue,rt,at,0)},se=h.__private__.setCreationDate=function(F){var X;if(F===void 0&&(F=new Date),F instanceof Date)X=te(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=F}return q=X},M=h.__private__.getCreationDate=function(F){var X=q;return F==="jsDate"&&(X=le(q)),X};h.setCreationDate=function(F){return se(F),this},h.getCreationDate=function(F){return M(F)};var $,J=h.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},ne=h.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},he=0,we=[],Se=[],Ae=0,ge=[],xe=[],ae=!1,Ve=Se;h.__private__.setCustomOutputDestination=function(F){ae=!0,Ve=F};var Oe=function(F){ae||(Ve=F)};h.__private__.resetCustomOutputDestination=function(){ae=!1,Ve=Se};var fe=h.__private__.out=function(F){return F=F.toString(),Ae+=F.length+1,Ve.push(F),Ve},$e=h.__private__.write=function(F){return fe(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},ft=h.__private__.getArrayBuffer=function(F){for(var X=F.length,me=new ArrayBuffer(X),Be=new Uint8Array(me);X--;)Be[X]=F.charCodeAt(X);return me},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return vt};var Ye=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(F){return Ye=S===x?F/yt:F,this};var Dt,pt=h.__private__.getFontSize=h.getFontSize=function(){return S===y?Ye:Ye*yt},ct=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(F){return ct=F,this},h.__private__.getR2L=h.getR2L=function(){return ct};var jt,Xt=h.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))Dt=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');Dt=F}else Dt=parseInt(F,10)};h.__private__.getZoomMode=function(){return Dt};var Zt,Ut=h.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');jt=F};h.__private__.getPageMode=function(){return jt};var rn=h.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Zt=F};h.__private__.getLayoutMode=function(){return Zt},h.__private__.setDisplayMode=h.setDisplayMode=function(F,X,me){return Xt(F),rn(X),Ut(me),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(F){if(Object.keys(st).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[F]},h.__private__.getDocumentProperties=function(){return st},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(F){for(var X in st)st.hasOwnProperty(X)&&F[X]&&(st[X]=F[X]);return this},h.__private__.setDocumentProperty=function(F,X){if(Object.keys(st).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[F]=X};var bt,yt,tt,Qt,dt,mt={},Ft={},St=[],Vt={},hn={},cn={},wt={},Zn=null,gn=0,Kt=[],En=new bV(h),zi=t.hotfixes||[],jr={},Pa={},Fe=[],Pe=function F(X,me,Be,Ue,rt,at){if(!(this instanceof F))return new F(X,me,Be,Ue,rt,at);isNaN(X)&&(X=1),isNaN(me)&&(me=0),isNaN(Be)&&(Be=0),isNaN(Ue)&&(Ue=1),isNaN(rt)&&(rt=0),isNaN(at)&&(at=0),this._matrix=[X,me,Be,Ue,rt,at]};Object.defineProperty(Pe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Pe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Pe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Pe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Pe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Pe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Pe.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Pe.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Pe.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Pe.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Pe.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Pe.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Pe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pe.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(F)},Pe.prototype.multiply=function(F){var X=F.sx*this.sx+F.shy*this.shx,me=F.sx*this.shy+F.shy*this.sy,Be=F.shx*this.sx+F.sy*this.shx,Ue=F.shx*this.shy+F.sy*this.sy,rt=F.tx*this.sx+F.ty*this.shx+this.tx,at=F.tx*this.shy+F.ty*this.sy+this.ty;return new Pe(X,me,Be,Ue,rt,at)},Pe.prototype.decompose=function(){var F=this.sx,X=this.shy,me=this.shx,Be=this.sy,Ue=this.tx,rt=this.ty,at=Math.sqrt(F*F+X*X),Wt=(F/=at)*me+(X/=at)*Be;me-=F*Wt,Be-=X*Wt;var en=Math.sqrt(me*me+Be*Be);return Wt/=en,F*(Be/=en)<X*(me/=en)&&(F=-F,X=-X,Wt=-Wt,at=-at),{scale:new Pe(at,0,0,en,0,0),translate:new Pe(1,0,0,1,Ue,rt),rotate:new Pe(F,X,-X,F,0,0),skew:new Pe(1,0,Wt,1,0,0)}},Pe.prototype.toString=function(F){return this.join(" ")},Pe.prototype.inversed=function(){var F=this.sx,X=this.shy,me=this.shx,Be=this.sy,Ue=this.tx,rt=this.ty,at=1/(F*Be-X*me),Wt=Be*at,en=-X*at,xn=-me*at,Cn=F*at;return new Pe(Wt,en,xn,Cn,-Wt*Ue-xn*rt,-en*Ue-Cn*rt)},Pe.prototype.applyToPoint=function(F){var X=F.x*this.sx+F.y*this.shx+this.tx,me=F.x*this.shy+F.y*this.sy+this.ty;return new uo(X,me)},Pe.prototype.applyToRectangle=function(F){var X=this.applyToPoint(F),me=this.applyToPoint(new uo(F.x+F.w,F.y+F.h));return new il(X.x,X.y,me.x-X.x,me.y-X.y)},Pe.prototype.clone=function(){var F=this.sx,X=this.shy,me=this.shx,Be=this.sy,Ue=this.tx,rt=this.ty;return new Pe(F,X,me,Be,Ue,rt)},h.Matrix=Pe;var We=h.matrixMult=function(F,X){return X.multiply(F)},Et=new Pe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Et;var ut=function(F,X){if(!hn[F]){var me=(X instanceof ah?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);X.id=me,hn[F]=me,Vt[me]=X,En.publish("addPattern",X)}};h.ShadingPattern=ah,h.TilingPattern=Bm,h.addShadingPattern=function(F,X){return j("addShadingPattern()"),ut(F,X),this},h.beginTilingPattern=function(F){j("beginTilingPattern()"),Gl(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},h.endTilingPattern=function(F,X){j("endTilingPattern()"),X.stream=xe[$].join(`
`),ut(F,X),En.publish("endTilingPattern",X),Fe.pop().restore()};var qt,bn=h.__private__.newObject=function(){var F=Gn();return Rt(F,!0),F},Gn=h.__private__.newObjectDeferred=function(){return he++,we[he]=function(){return Ae},he},Rt=function(F,X){return X=typeof X=="boolean"&&X,we[F]=Ae,X&&fe(F+" 0 obj"),F},pn=h.__private__.newAdditionalObject=function(){var F={objId:Gn(),content:""};return ge.push(F),F},Xr=Gn(),gr=Gn(),Or=h.__private__.decodeColorString=function(F){var X=F.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var me=parseFloat(X[0]);X=[me,me,me,"r"]}for(var Be="#",Ue=0;Ue<3;Ue++)Be+=("0"+Math.floor(255*parseFloat(X[Ue])).toString(16)).slice(-2);return Be},Er=h.__private__.encodeColorString=function(F){var X;typeof F=="string"&&(F={ch1:F});var me=F.ch1,Be=F.ch2,Ue=F.ch3,rt=F.ch4,at=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Wt=new iae(me);if(Wt.ok)me=Wt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var en=parseInt(me.substr(1),16);me=en>>16&255,Be=en>>8&255,Ue=255&en}if(Be===void 0||rt===void 0&&me===Be&&Be===Ue)X=typeof me=="string"?me+" "+at[0]:F.precision===2?k(me/255)+" "+at[0]:O(me/255)+" "+at[0];else if(rt===void 0||Vr(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return["1.","1.","1.",at[1]].join(" ");X=typeof me=="string"?[me,Be,Ue,at[1]].join(" "):F.precision===2?[k(me/255),k(Be/255),k(Ue/255),at[1]].join(" "):[O(me/255),O(Be/255),O(Ue/255),at[1]].join(" ")}else X=typeof me=="string"?[me,Be,Ue,rt,at[2]].join(" "):F.precision===2?[k(me),k(Be),k(Ue),k(rt),at[2]].join(" "):[O(me),O(Be),O(Ue),O(rt),at[2]].join(" ");return X},qn=h.__private__.getFilters=function(){return s},vr=h.__private__.putStream=function(F){var X=(F=F||{}).data||"",me=F.filters||qn(),Be=F.alreadyAppliedFilters||[],Ue=F.addLength1||!1,rt=X.length,at=F.objectId,Wt=function(Fr){return Fr};if(A!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(Wt=yr.encryptor(at,0));var en={};me===!0&&(me=["FlateEncode"]);var xn=F.additionalKeyValues||[],Cn=(en=mn.API.processDataByFilters!==void 0?mn.API.processDataByFilters(X,me):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(en.data.length!==0&&(xn.push({key:"Length",value:en.data.length}),Ue===!0&&xn.push({key:"Length1",value:rt})),Cn.length!=0)if(Cn.split("/").length-1==1)xn.push({key:"Filter",value:Cn});else{xn.push({key:"Filter",value:"["+Cn+"]"});for(var tr=0;tr<xn.length;tr+=1)if(xn[tr].key==="DecodeParms"){for(var fr=[],Gr=0;Gr<en.reverseChain.split("/").length-1;Gr+=1)fr.push("null");fr.push(xn[tr].value),xn[tr].value="["+fr.join(" ")+"]"}}fe("<<");for(var br=0;br<xn.length;br++)fe("/"+xn[br].key+" "+xn[br].value);fe(">>"),en.data.length!==0&&(fe("stream"),fe(Wt(en.data)),fe("endstream"))},Jr=h.__private__.putPage=function(F){var X=F.number,me=F.data,Be=F.objId,Ue=F.contentsObjId;Rt(Be,!0),fe("<</Type /Page"),fe("/Parent "+F.rootDictionaryObjId+" 0 R"),fe("/Resources "+F.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(B(F.mediaBox.bottomLeftX))+" "+parseFloat(B(F.mediaBox.bottomLeftY))+" "+B(F.mediaBox.topRightX)+" "+B(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&fe("/CropBox ["+B(F.cropBox.bottomLeftX)+" "+B(F.cropBox.bottomLeftY)+" "+B(F.cropBox.topRightX)+" "+B(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&fe("/BleedBox ["+B(F.bleedBox.bottomLeftX)+" "+B(F.bleedBox.bottomLeftY)+" "+B(F.bleedBox.topRightX)+" "+B(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&fe("/TrimBox ["+B(F.trimBox.bottomLeftX)+" "+B(F.trimBox.bottomLeftY)+" "+B(F.trimBox.topRightX)+" "+B(F.trimBox.topRightY)+"]"),F.artBox!==null&&fe("/ArtBox ["+B(F.artBox.bottomLeftX)+" "+B(F.artBox.bottomLeftY)+" "+B(F.artBox.topRightX)+" "+B(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&fe("/UserUnit "+F.userUnit),En.publish("putPage",{objId:Be,pageContext:Kt[X],pageNumber:X,page:me}),fe("/Contents "+Ue+" 0 R"),fe(">>"),fe("endobj");var rt=me.join(`
`);return S===x&&(rt+=`
Q`),Rt(Ue,!0),vr({data:rt,filters:qn(),objectId:Ue}),fe("endobj"),Be},ba=h.__private__.putPages=function(){var F,X,me=[];for(F=1;F<=gn;F++)Kt[F].objId=Gn(),Kt[F].contentsObjId=Gn();for(F=1;F<=gn;F++)me.push(Jr({number:F,data:xe[F],objId:Kt[F].objId,contentsObjId:Kt[F].contentsObjId,mediaBox:Kt[F].mediaBox,cropBox:Kt[F].cropBox,bleedBox:Kt[F].bleedBox,trimBox:Kt[F].trimBox,artBox:Kt[F].artBox,userUnit:Kt[F].userUnit,rootDictionaryObjId:Xr,resourceDictionaryObjId:gr}));Rt(Xr,!0),fe("<</Type /Pages");var Be="/Kids [";for(X=0;X<gn;X++)Be+=me[X]+" 0 R ";fe(Be+"]"),fe("/Count "+gn),fe(">>"),fe("endobj"),En.publish("postPutPages")},Oi=function(F){En.publish("putFont",{font:F,out:fe,newObject:bn,putStream:vr}),F.isAlreadyPutted!==!0&&(F.objectNumber=bn(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+em(F.postScriptName)),fe("/Subtype /Type1"),typeof F.encoding=="string"&&fe("/Encoding /"+F.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Xo=function(F){F.objectNumber=bn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[B(F.x),B(F.y),B(F.x+F.width),B(F.y+F.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var me=F.pages[1].join(`
`);vr({data:me,additionalKeyValues:X,objectId:F.objectNumber}),fe("endobj")},Jo=function(F,X){X||(X=21);var me=bn(),Be=function(at,Wt){var en,xn=[],Cn=1/(Wt-1);for(en=0;en<1;en+=Cn)xn.push(en);if(xn.push(1),at[0].offset!=0){var tr={offset:0,color:at[0].color};at.unshift(tr)}if(at[at.length-1].offset!=1){var fr={offset:1,color:at[at.length-1].color};at.push(fr)}for(var Gr="",br=0,Fr=0;Fr<xn.length;Fr++){for(en=xn[Fr];en>at[br+1].offset;)br++;var ei=at[br].offset,ai=(en-ei)/(at[br+1].offset-ei),Tr=at[br].color,sa=at[br+1].color;Gr+=ne(Math.round((1-ai)*Tr[0]+ai*sa[0]).toString(16))+ne(Math.round((1-ai)*Tr[1]+ai*sa[1]).toString(16))+ne(Math.round((1-ai)*Tr[2]+ai*sa[2]).toString(16))}return Gr.trim()}(F.colors,X),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+X+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vr({data:Be,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),fe("endobj"),F.objectNumber=bn(),fe("<< /ShadingType "+F.type),fe("/ColorSpace /DeviceRGB");var rt="/Coords ["+B(parseFloat(F.coords[0]))+" "+B(parseFloat(F.coords[1]))+" ";F.type===2?rt+=B(parseFloat(F.coords[2]))+" "+B(parseFloat(F.coords[3])):rt+=B(parseFloat(F.coords[2]))+" "+B(parseFloat(F.coords[3]))+" "+B(parseFloat(F.coords[4]))+" "+B(parseFloat(F.coords[5])),fe(rt+="]"),F.matrix&&fe("/Matrix ["+F.matrix.toString()+"]"),fe("/Function "+me+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Ir=function(F,X){var me=Gn(),Be=bn();X.push({resourcesOid:me,objectOid:Be}),F.objectNumber=Be;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+F.boundingBox.map(B).join(" ")+"]"}),Ue.push({key:"XStep",value:B(F.xStep)}),Ue.push({key:"YStep",value:B(F.yStep)}),Ue.push({key:"Resources",value:me+" 0 R"}),F.matrix&&Ue.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),vr({data:F.stream,additionalKeyValues:Ue,objectId:F.objectNumber}),fe("endobj")},Zo=function(F){for(var X in F.objectNumber=bn(),fe("<<"),F)switch(X){case"opacity":fe("/ca "+k(F[X]));break;case"stroke-opacity":fe("/CA "+k(F[X]))}fe(">>"),fe("endobj")},xa=function(F){Rt(F.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var X in fe("/Font <<"),mt)mt.hasOwnProperty(X)&&(d===!1||d===!0&&f.hasOwnProperty(X))&&fe("/"+X+" "+mt[X].objectNumber+" 0 R");fe(">>")}(),function(){if(Object.keys(Vt).length>0){for(var X in fe("/Shading <<"),Vt)Vt.hasOwnProperty(X)&&Vt[X]instanceof ah&&Vt[X].objectNumber>=0&&fe("/"+X+" "+Vt[X].objectNumber+" 0 R");En.publish("putShadingPatternDict"),fe(">>")}}(),function(X){if(Object.keys(Vt).length>0){for(var me in fe("/Pattern <<"),Vt)Vt.hasOwnProperty(me)&&Vt[me]instanceof h.TilingPattern&&Vt[me].objectNumber>=0&&Vt[me].objectNumber<X&&fe("/"+me+" "+Vt[me].objectNumber+" 0 R");En.publish("putTilingPatternDict"),fe(">>")}}(F.objectOid),function(){if(Object.keys(cn).length>0){var X;for(X in fe("/ExtGState <<"),cn)cn.hasOwnProperty(X)&&cn[X].objectNumber>=0&&fe("/"+X+" "+cn[X].objectNumber+" 0 R");En.publish("putGStateDict"),fe(">>")}}(),function(){for(var X in fe("/XObject <<"),jr)jr.hasOwnProperty(X)&&jr[X].objectNumber>=0&&fe("/"+X+" "+jr[X].objectNumber+" 0 R");En.publish("putXobjectDict"),fe(">>")}(),fe(">>"),fe("endobj")},du=function(F){Ft[F.fontName]=Ft[F.fontName]||{},Ft[F.fontName][F.fontStyle]=F.id},oo=function(F,X,me,Be,Ue){var rt={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:F,fontName:X,fontStyle:me,encoding:Be,isStandardFont:Ue||!1,metadata:{}};return En.publish("addFont",{font:rt,instance:this}),mt[rt.id]=rt,du(rt),rt.id},Fi=h.__private__.pdfEscape=h.pdfEscape=function(F,X){return function(me,Be){var Ue,rt,at,Wt,en,xn,Cn,tr,fr;if(at=(Be=Be||{}).sourceEncoding||"Unicode",en=Be.outputEncoding,(Be.autoencode||en)&&mt[bt].metadata&&mt[bt].metadata[at]&&mt[bt].metadata[at].encoding&&(Wt=mt[bt].metadata[at].encoding,!en&&mt[bt].encoding&&(en=mt[bt].encoding),!en&&Wt.codePages&&(en=Wt.codePages[0]),typeof en=="string"&&(en=Wt[en]),en)){for(Cn=!1,xn=[],Ue=0,rt=me.length;Ue<rt;Ue++)(tr=en[me.charCodeAt(Ue)])?xn.push(String.fromCharCode(tr)):xn.push(me[Ue]),xn[Ue].charCodeAt(0)>>8&&(Cn=!0);me=xn.join("")}for(Ue=me.length;Cn===void 0&&Ue!==0;)me.charCodeAt(Ue-1)>>8&&(Cn=!0),Ue--;if(!Cn)return me;for(xn=Be.noBOM?[]:[254,255],Ue=0,rt=me.length;Ue<rt;Ue++){if((fr=(tr=me.charCodeAt(Ue))>>8)>>8)throw new Error("Character at position "+Ue+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xn.push(fr),xn.push(tr-(fr<<8))}return String.fromCharCode.apply(void 0,xn)}(F,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fs=h.__private__.beginPage=function(F){xe[++gn]=[],Kt[gn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},fu(gn),Oe(xe[$])},Hl=function(F,X){var me,Be,Ue;switch(n=X||n,typeof F=="string"&&(me=g(F.toLowerCase()),Array.isArray(me)&&(Be=me[0],Ue=me[1])),Array.isArray(F)&&(Be=F[0]*yt,Ue=F[1]*yt),isNaN(Be)&&(Be=i[0],Ue=i[1]),(Be>14400||Ue>14400)&&(ni.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Ue=Math.min(14400,Ue)),i=[Be,Ue],n.substr(0,1)){case"l":Ue>Be&&(i=[Ue,Be]);break;case"p":Be>Ue&&(i=[Ue,Be])}fs(i),aa(Ec),fe(No),dr!==0&&fe(dr+" J"),nA!==0&&fe(nA+" j"),En.publish("addPage",{pageNumber:gn})},lo=function(F){F>0&&F<=gn&&(xe.splice(F,1),Kt.splice(F,1),gn--,$>gn&&($=gn),this.setPage($))},fu=function(F){F>0&&F<=gn&&($=F)},zl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return xe.length-1},hu=function(F,X,me){var Be,Ue=void 0;return me=me||{},F=F!==void 0?F:mt[bt].fontName,X=X!==void 0?X:mt[bt].fontStyle,Be=F.toLowerCase(),Ft[Be]!==void 0&&Ft[Be][X]!==void 0?Ue=Ft[Be][X]:Ft[F]!==void 0&&Ft[F][X]!==void 0?Ue=Ft[F][X]:me.disableWarning===!1&&ni.warn("Unable to look up font label for font '"+F+"', '"+X+"'. Refer to getFontList() for available fonts."),Ue||me.noFallback||(Ue=Ft.times[X])==null&&(Ue=Ft.times.normal),Ue},Pn=h.__private__.putInfo=function(){var F=bn(),X=function(Be){return Be};for(var me in A!==null&&(X=yr.encryptor(F,0)),fe("<<"),fe("/Producer ("+Fi(X("jsPDF "+mn.version))+")"),st)st.hasOwnProperty(me)&&st[me]&&fe("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Fi(X(st[me]))+")");fe("/CreationDate ("+Fi(X(q))+")"),fe(">>"),fe("endobj")},pu=h.__private__.putCatalog=function(F){var X=(F=F||{}).rootDictionaryObjId||Xr;switch(bn(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+X+" 0 R"),Dt||(Dt="fullwidth"),Dt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+Dt;me.substr(me.length-1)==="%"&&(Dt=parseInt(Dt)/100),typeof Dt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+k(Dt)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}jt&&fe("/PageMode /"+jt),En.publish("putCatalog"),fe(">>"),fe("endobj")},ii=h.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(he+1)),fe("/Root "+he+" 0 R"),fe("/Info "+(he-1)+" 0 R"),A!==null&&fe("/Encrypt "+yr.oid+" 0 R"),fe("/ID [ <"+Y+"> <"+Y+"> ]"),fe(">>")},Vl=h.__private__.putHeader=function(){fe("%PDF-"+p),fe("%")},Ju=h.__private__.putXRef=function(){var F="0000000000";fe("xref"),fe("0 "+(he+1)),fe("0000000000 65535 f ");for(var X=1;X<=he;X++)typeof we[X]=="function"?fe((F+we[X]()).slice(-10)+" 00000 n "):we[X]!==void 0?fe((F+we[X]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},er=h.__private__.buildDocument=function(){var F;he=0,Ae=0,Se=[],we=[],ge=[],Xr=Gn(),gr=Gn(),Oe(Se),En.publish("buildDocument"),Vl(),ba(),function(){En.publish("putAdditionalObjects");for(var me=0;me<ge.length;me++){var Be=ge[me];Rt(Be.objId,!0),fe(Be.content),fe("endobj")}En.publish("postPutAdditionalObjects")}(),F=[],function(){for(var me in mt)mt.hasOwnProperty(me)&&(d===!1||d===!0&&f.hasOwnProperty(me))&&Oi(mt[me])}(),function(){var me;for(me in cn)cn.hasOwnProperty(me)&&Zo(cn[me])}(),function(){for(var me in jr)jr.hasOwnProperty(me)&&Xo(jr[me])}(),function(me){var Be;for(Be in Vt)Vt.hasOwnProperty(Be)&&(Vt[Be]instanceof ah?Jo(Vt[Be]):Vt[Be]instanceof Bm&&Ir(Vt[Be],me))}(F),En.publish("putResources"),F.forEach(xa),xa({resourcesOid:gr,objectOid:Number.MAX_SAFE_INTEGER}),En.publish("postPutResources"),A!==null&&(yr.oid=bn(),fe("<<"),fe("/Filter /Standard"),fe("/V "+yr.v),fe("/R "+yr.r),fe("/U <"+yr.toHexString(yr.U)+">"),fe("/O <"+yr.toHexString(yr.O)+">"),fe("/P "+yr.P),fe(">>"),fe("endobj")),Pn(),pu();var X=Ae;return Ju(),ii(),fe("startxref"),fe(""+X),fe("%%EOF"),Oe(xe[$]),Se.join(`
`)},Ds=h.__private__.getBlob=function(F){return new Blob([ft(F)],{type:"application/pdf"})},wa=h.output=h.__private__.output=(qt=function(F,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",F){case void 0:return er();case"save":h.save(X.filename);break;case"arraybuffer":return ft(er());case"blob":return Ds(er());case"bloburi":case"bloburl":if(kn.URL!==void 0&&typeof kn.URL.createObjectURL=="function")return kn.URL&&kn.URL.createObjectURL(Ds(er()))||void 0;ni.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",Be=er();try{me=gV(Be)}catch{me=gV(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+X.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kn)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Ue=X.pdfObjectUrl,rt="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",Wt=kn.open();return Wt!==null&&Wt.document.write(at),Wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kn)==="[object Window]"){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',xn=kn.open();if(xn!==null){xn.document.write(en);var Cn=this;xn.document.documentElement.querySelector("#pdfViewer").onload=function(){xn.document.title=X.filename,xn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Cn.output("bloburl"))}}return xn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',fr=kn.open();if(fr!==null&&(fr.document.write(tr),fr.document.title=X.filename),fr||typeof safari>"u")return fr;break;case"datauri":case"dataurl":return kn.document.location.href=this.output("datauristring",X);default:return null}},qt.foo=function(){try{return qt.apply(this,arguments)}catch(me){var F=me.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var X="Error in function "+F.split(`
`)[0].split("<")[0]+": "+me.message;if(!kn.console)throw new Error(X);kn.console.error(X,me),kn.alert&&alert(X)}},qt.foo.bar=qt,qt.foo),Os=function(F){return Array.isArray(zi)===!0&&zi.indexOf(F)>-1};switch(r){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=Os("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);yt=r}var yr=null;se(),K();var Da=h.__private__.getPageInfo=h.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Kt[F].objId,pageNumber:F,pageContext:Kt[F]}},el=h.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Kt)if(Kt[X].objId===F)break;return Da(X)},Cc=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Kt[$].objId,pageNumber:$,pageContext:Kt[$]}};h.addPage=function(){return Hl.apply(this,arguments),this},h.setPage=function(){return fu.apply(this,arguments),Oe.call(this,xe[$]),this},h.insertPage=function(F){return this.addPage(),this.movePage($,F),this},h.movePage=function(F,X){var me,Be;if(F>X){me=xe[F],Be=Kt[F];for(var Ue=F;Ue>X;Ue--)xe[Ue]=xe[Ue-1],Kt[Ue]=Kt[Ue-1];xe[X]=me,Kt[X]=Be,this.setPage(X)}else if(F<X){me=xe[F],Be=Kt[F];for(var rt=F;rt<X;rt++)xe[rt]=xe[rt+1],Kt[rt]=Kt[rt+1];xe[X]=me,Kt[X]=Be,this.setPage(X)}return this},h.deletePage=function(){return lo.apply(this,arguments),this},h.__private__.text=h.text=function(F,X,me,Be,Ue){var rt,at,Wt,en,xn,Cn,tr,fr,Gr,br=(Be=Be||{}).scope||this;if(typeof F=="number"&&typeof X=="number"&&(typeof me=="string"||Array.isArray(me))){var Fr=me;me=X,X=F,F=Fr}if(arguments[3]instanceof Pe==0?(Wt=arguments[4],en=arguments[5],Vr(tr=arguments[3])==="object"&&tr!==null||(typeof Wt=="string"&&(en=Wt,Wt=null),typeof tr=="string"&&(en=tr,tr=null),typeof tr=="number"&&(Wt=tr,tr=null),Be={flags:tr,angle:Wt,align:en})):(j("The transform parameter of text() with a Matrix value"),Gr=Ue),isNaN(X)||isNaN(me)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return br;var ei,ai="",Tr=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:nl,sa=br.internal.scaleFactor;function gu(Ie){return Ie=Ie.split("	").join(Array(Be.TabLen||9).join(" ")),Fi(Ie,tr)}function fo(Ie){for(var _e,je=Ie.concat(),De=[],Re=je.length;Re--;)typeof(_e=je.shift())=="string"?De.push(_e):Array.isArray(Ie)&&(_e.length===1||_e[1]===void 0&&_e[2]===void 0)?De.push(_e[0]):De.push([_e[0],_e[1],_e[2]]);return De}function w(Ie,_e){var je;if(typeof Ie=="string")je=_e(Ie)[0];else if(Array.isArray(Ie)){for(var De,Re,He=Ie.concat(),Xe=[],et=He.length;et--;)typeof(De=He.shift())=="string"?Xe.push(_e(De)[0]):Array.isArray(De)&&typeof De[0]=="string"&&(Re=_e(De[0],De[1],De[2]),Xe.push([Re[0],Re[1],Re[2]]));je=Xe}return je}var Q=!1,W=!0;if(typeof F=="string")Q=!0;else if(Array.isArray(F)){var ue=F.concat();at=[];for(var Qe,qe=ue.length;qe--;)(typeof(Qe=ue.shift())!="string"||Array.isArray(Qe)&&typeof Qe[0]!="string")&&(W=!1);Q=W}if(Q===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Pt=Ye/br.internal.scaleFactor,nr=Pt*(Tr-1);switch(Be.baseline){case"bottom":me-=nr;break;case"top":me+=Pt-nr;break;case"hanging":me+=Pt-2*nr;break;case"middle":me+=Pt/2-nr}if((Cn=Be.maxWidth||0)>0&&(typeof F=="string"?F=br.splitTextToSize(F,Cn):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(Ie,_e){return Ie.concat(br.splitTextToSize(_e,Cn))},[]))),rt={text:F,x:X,y:me,options:Be,mutex:{pdfEscape:Fi,activeFontKey:bt,fonts:mt,activeFontSize:Ye}},En.publish("preProcessText",rt),F=rt.text,Wt=(Be=rt.options).angle,Gr instanceof Pe==0&&Wt&&typeof Wt=="number"){Wt*=Math.PI/180,Be.rotationDirection===0&&(Wt=-Wt),S===x&&(Wt=-Wt);var si=Math.cos(Wt),zn=Math.sin(Wt);Gr=new Pe(si,zn,-zn,si,0,0)}else Wt&&Wt instanceof Pe&&(Gr=Wt);S!==x||Gr||(Gr=Et),(xn=Be.charSpace||Wl)!==void 0&&(ai+=B(L(xn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fr=Be.horizontalScale)!==void 0&&(ai+=B(100*fr)+` Tz
`),Be.lang;var Vn=-1,Ur=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,ps=br.internal.getCurrentPageInfo().pageContext;switch(Ur){case 0:case!1:case"fill":Vn=0;break;case 1:case!0:case"stroke":Vn=1;break;case 2:case"fillThenStroke":Vn=2;break;case 3:case"invisible":Vn=3;break;case 4:case"fillAndAddForClipping":Vn=4;break;case 5:case"strokeAndAddPathForClipping":Vn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vn=6;break;case 7:case"addToPathForClipping":Vn=7}var La=ps.usedRenderingMode!==void 0?ps.usedRenderingMode:-1;Vn!==-1?ai+=Vn+` Tr
`:La!==-1&&(ai+=`0 Tr
`),Vn!==-1&&(ps.usedRenderingMode=Vn),en=Be.align||"left";var Ca,ol=Ye*Tr,kf=br.internal.pageSize.getWidth(),Pf=mt[bt];xn=Be.charSpace||Wl,Cn=Be.maxWidth||0,tr=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var ll=[],ms=function(Ie){return br.getStringUnitWidth(Ie,{font:Pf,charSpace:xn,fontSize:Ye,doKerning:!1})*Ye/sa};if(Object.prototype.toString.call(F)==="[object Array]"){var lr;at=fo(F),en!=="left"&&(Ca=at.map(ms));var ns,oa=0;if(en==="right"){X-=Ca[0],F=[],qe=at.length;for(var Ic=0;Ic<qe;Ic++)Ic===0?(ns=Zr(X),lr=rl(me)):(ns=L(oa-Ca[Ic]),lr=-ol),F.push([at[Ic],ns,lr]),oa=Ca[Ic]}else if(en==="center"){X-=Ca[0]/2,F=[],qe=at.length;for(var Xl=0;Xl<qe;Xl++)Xl===0?(ns=Zr(X),lr=rl(me)):(ns=L((oa-Ca[Xl])/2),lr=-ol),F.push([at[Xl],ns,lr]),oa=Ca[Xl]}else if(en==="left"){F=[],qe=at.length;for(var nd=0;nd<qe;nd++)F.push(at[nd])}else if(en==="justify"&&Pf.encoding==="Identity-H"){F=[],qe=at.length,Cn=Cn!==0?Cn:kf;for(var jo=0,pi=0;pi<qe;pi++)if(lr=pi===0?rl(me):-ol,ns=pi===0?Zr(X):jo,pi<qe-1){var Tc=L((Cn-Ca[pi])/(at[pi].split(" ").length-1)),Ma=at[pi].split(" ");F.push([Ma[0]+" ",ns,lr]),jo=0;for(var cl=1;cl<Ma.length;cl++){var C=(ms(Ma[cl-1]+" "+Ma[cl])-ms(Ma[cl]))*sa+Tc;cl==Ma.length-1?F.push([Ma[cl],C,0]):F.push([Ma[cl]+" ",C,0]),jo-=C}}else F.push([at[pi],ns,lr]);F.push(["",jo,0])}else{if(en!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],qe=at.length,Cn=Cn!==0?Cn:kf,pi=0;pi<qe;pi++){lr=pi===0?rl(me):-ol,ns=pi===0?Zr(X):0;var T=at[pi].split(" ").length-1,U=T>0?(Cn-Ca[pi])/T:0;pi<qe-1?ll.push(B(L(U))):ll.push(0),F.push([at[pi],ns,lr])}}}(typeof Be.R2L=="boolean"?Be.R2L:ct)===!0&&(F=w(F,function(Ie,_e,je){return[Ie.split("").reverse().join(""),_e,je]})),rt={text:F,x:X,y:me,options:Be,mutex:{pdfEscape:Fi,activeFontKey:bt,fonts:mt,activeFontSize:Ye}},En.publish("postProcessText",rt),F=rt.text,ei=rt.mutex.isHex||!1;var V=mt[bt].encoding;V!=="WinAnsiEncoding"&&V!=="StandardEncoding"||(F=w(F,function(Ie,_e,je){return[gu(Ie),_e,je]})),at=fo(F),F=[];for(var G,re,pe,Ce=Array.isArray(at[0])?1:0,Ne="",Te=function(Ie,_e,je){var De="";return je instanceof Pe?(je=typeof Be.angle=="number"?We(je,new Pe(1,0,0,1,Ie,_e)):We(new Pe(1,0,0,1,Ie,_e),je),S===x&&(je=We(new Pe(1,0,0,-1,0,0),je)),De=je.join(" ")+` Tm
`):De=B(Ie)+" "+B(_e)+` Td
`,De},Le=0;Le<at.length;Le++){switch(Ne="",Ce){case 1:pe=(ei?"<":"(")+at[Le][0]+(ei?">":")"),G=parseFloat(at[Le][1]),re=parseFloat(at[Le][2]);break;case 0:pe=(ei?"<":"(")+at[Le]+(ei?">":")"),G=Zr(X),re=rl(me)}ll!==void 0&&ll[Le]!==void 0&&(Ne=ll[Le]+` Tw
`),Le===0?F.push(Ne+Te(G,re,Gr)+pe):Ce===0?F.push(Ne+pe):Ce===1&&F.push(Ne+Te(G,re,Gr)+pe)}F=Ce===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Ee=`BT
/`;return Ee+=bt+" "+Ye+` Tf
`,Ee+=B(Ye*Tr)+` TL
`,Ee+=Fa+`
`,Ee+=ai,Ee+=F,fe(Ee+="ET"),f[bt]=!0,br};var Sc=h.__private__.clip=h.clip=function(F){return fe(F==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Sc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return fe("n"),this};var Yn=h.__private__.isValidStyle=function(F){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(X=!0),X};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(F){return Yn(F)&&(u=F),this};var co=h.__private__.getStyle=h.getStyle=function(F){var X=u;switch(F){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=F}return X},tl=h.close=function(){return fe("h"),this};h.stroke=function(){return fe("S"),this},h.fill=function(F){return Fs("f",F),this},h.fillEvenOdd=function(F){return Fs("f*",F),this},h.fillStroke=function(F){return Fs("B",F),this},h.fillStrokeEvenOdd=function(F){return Fs("B*",F),this};var Fs=function(F,X){Vr(X)==="object"?If(X,F):fe(F)},Wn=function(F){F===null||S===x&&F===void 0||(F=co(F),fe(F))};function Zu(F,X,me,Be,Ue){var rt=new Bm(X||this.boundingBox,me||this.xStep,Be||this.yStep,this.gState,Ue||this.matrix);rt.stream=this.stream;var at=F+"$$"+this.cloneIndex+++"$$";return ut(at,rt),rt}var If=function(F,X){var me=hn[F.key],Be=Vt[me];if(Be instanceof ah)fe("q"),fe(Tf(X)),Be.gState&&h.setGState(Be.gState),fe(F.matrix.toString()+" cm"),fe("/"+me+" sh"),fe("Q");else if(Be instanceof Bm){var Ue=new Pe(1,0,0,-1,0,hs());F.matrix&&(Ue=Ue.multiply(F.matrix||Et),me=Zu.call(Be,F.key,F.boundingBox,F.xStep,F.yStep,Ue).id),fe("q"),fe("/Pattern cs"),fe("/"+me+" scn"),Be.gState&&h.setGState(Be.gState),fe(X),fe("Q")}},Tf=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ra=h.moveTo=function(F,X){return fe(B(L(F))+" "+B(H(X))+" m"),this},Ls=h.lineTo=function(F,X){return fe(B(L(F))+" "+B(H(X))+" l"),this},Oa=h.curveTo=function(F,X,me,Be,Ue,rt){return fe([B(L(F)),B(H(X)),B(L(me)),B(H(Be)),B(L(Ue)),B(H(rt)),"c"].join(" ")),this};h.__private__.line=h.line=function(F,X,me,Be,Ue){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||!Yn(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return S===y?this.lines([[me-F,Be-X]],F,X,[1,1],Ue||"S"):this.lines([[me-F,Be-X]],F,X,[1,1]).stroke()},h.__private__.lines=h.lines=function(F,X,me,Be,Ue,rt){var at,Wt,en,xn,Cn,tr,fr,Gr,br,Fr,ei,ai;if(typeof F=="number"&&(ai=me,me=X,X=F,F=ai),Be=Be||[1,1],rt=rt||!1,isNaN(X)||isNaN(me)||!Array.isArray(F)||!Array.isArray(Be)||!Yn(Ue)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ra(X,me),at=Be[0],Wt=Be[1],xn=F.length,Fr=X,ei=me,en=0;en<xn;en++)(Cn=F[en]).length===2?(Fr=Cn[0]*at+Fr,ei=Cn[1]*Wt+ei,Ls(Fr,ei)):(tr=Cn[0]*at+Fr,fr=Cn[1]*Wt+ei,Gr=Cn[2]*at+Fr,br=Cn[3]*Wt+ei,Fr=Cn[4]*at+Fr,ei=Cn[5]*Wt+ei,Oa(tr,fr,Gr,br,Fr,ei));return rt&&tl(),Wn(Ue),this},h.path=function(F){for(var X=0;X<F.length;X++){var me=F[X],Be=me.c;switch(me.op){case"m":ra(Be[0],Be[1]);break;case"l":Ls(Be[0],Be[1]);break;case"c":Oa.apply(this,Be);break;case"h":tl()}}return this},h.__private__.rect=h.rect=function(F,X,me,Be,Ue){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||!Yn(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return S===y&&(Be=-Be),fe([B(L(F)),B(H(X)),B(L(me)),B(L(Be)),"re"].join(" ")),Wn(Ue),this},h.__private__.triangle=h.triangle=function(F,X,me,Be,Ue,rt,at){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||isNaN(Ue)||isNaN(rt)||!Yn(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-F,Be-X],[Ue-me,rt-Be],[F-Ue,X-rt]],F,X,[1,1],at,!0),this},h.__private__.roundedRect=h.roundedRect=function(F,X,me,Be,Ue,rt,at){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||isNaN(Ue)||isNaN(rt)||!Yn(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*me),rt=Math.min(rt,.5*Be),this.lines([[me-2*Ue,0],[Ue*Wt,0,Ue,rt-rt*Wt,Ue,rt],[0,Be-2*rt],[0,rt*Wt,-Ue*Wt,rt,-Ue,rt],[2*Ue-me,0],[-Ue*Wt,0,-Ue,-rt*Wt,-Ue,-rt],[0,2*rt-Be],[0,-rt*Wt,Ue*Wt,-rt,Ue,-rt]],F+Ue,X,[1,1],at,!0),this},h.__private__.ellipse=h.ellipse=function(F,X,me,Be,Ue){if(isNaN(F)||isNaN(X)||isNaN(me)||isNaN(Be)||!Yn(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*me,at=4/3*(Math.SQRT2-1)*Be;return ra(F+me,X),Oa(F+me,X-at,F+rt,X-Be,F,X-Be),Oa(F-rt,X-Be,F-me,X-at,F-me,X),Oa(F-me,X+at,F-rt,X+Be,F,X+Be),Oa(F+rt,X+Be,F+me,X+at,F+me,X),Wn(Ue),this},h.__private__.circle=h.circle=function(F,X,me,Be){if(isNaN(F)||isNaN(X)||isNaN(me)||!Yn(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,X,me,me,Be)},h.setFont=function(F,X,me){return me&&(X=_(X,me)),bt=hu(F,X,{disableWarning:!1}),this};var ia=h.__private__.getFont=h.getFont=function(){return mt[hu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var F,X,me={};for(F in Ft)if(Ft.hasOwnProperty(F))for(X in me[F]=[],Ft[F])Ft[F].hasOwnProperty(X)&&me[F].push(X);return me},h.addFont=function(F,X,me,Be,Ue){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(me=_(me,Be)),oo.call(this,F,X,me,Ue=Ue||"Identity-H")};var nl,Ec=t.lineWidth||.200025,tn=h.__private__.getLineWidth=h.getLineWidth=function(){return Ec},aa=h.__private__.setLineWidth=h.setLineWidth=function(F){return Ec=F,fe(B(L(F))+" w"),this};h.__private__.setLineDash=mn.API.setLineDash=mn.API.setLineDashPattern=function(F,X){if(F=F||[],X=X||0,isNaN(X)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(me){return B(L(me))}).join(" "),X=B(L(X)),fe("["+F+"] "+X+" d"),this};var _c=h.__private__.getLineHeight=h.getLineHeight=function(){return Ye*nl};h.__private__.getLineHeight=h.getLineHeight=function(){return Ye*nl};var Bc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(nl=F),this},eA=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return nl};Bc(t.lineHeight);var Zr=h.__private__.getHorizontalCoordinate=function(F){return L(F)},rl=h.__private__.getVerticalCoordinate=function(F){return S===x?F:Kt[$].mediaBox.topRightY-Kt[$].mediaBox.bottomLeftY-L(F)},Ms=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(F){return B(Zr(F))},$l=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(F){return B(rl(F))},No=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Or(No)},h.__private__.setStrokeColor=h.setDrawColor=function(F,X,me,Be){return No=Er({ch1:F,ch2:X,ch3:me,ch4:Be,pdfColorType:"draw",precision:2}),fe(No),this};var Kl=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Or(Kl)},h.__private__.setFillColor=h.setFillColor=function(F,X,me,Be){return Kl=Er({ch1:F,ch2:X,ch3:me,ch4:Be,pdfColorType:"fill",precision:2}),fe(Kl),this};var Fa=t.textColor||"0 g",Rs=h.__private__.getTextColor=h.getTextColor=function(){return Or(Fa)};h.__private__.setTextColor=h.setTextColor=function(F,X,me,Be){return Fa=Er({ch1:F,ch2:X,ch3:me,ch4:Be,pdfColorType:"text",precision:3}),this};var Wl=t.charSpace,tA=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Wl||0)};h.__private__.setCharSpace=h.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wl=F,this};var dr=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(F){var X=h.CapJoinStyles[F];if(X===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dr=X,fe(X+" J"),this};var nA=0;h.__private__.setLineJoin=h.setLineJoin=function(F){var X=h.CapJoinStyles[F];if(X===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nA=X,fe(X+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(B(L(F))+" M"),this},h.GState=QS,h.setGState=function(F){(F=typeof F=="string"?cn[wt[F]]:Nc(null,F)).equals(Zn)||(fe("/"+F.id+" gs"),Zn=F)};var Nc=function(F,X){if(!F||!wt[F]){var me=!1;for(var Be in cn)if(cn.hasOwnProperty(Be)&&cn[Be].equals(X)){me=!0;break}if(me)X=cn[Be];else{var Ue="GS"+(Object.keys(cn).length+1).toString(10);cn[Ue]=X,X.id=Ue}return F&&(wt[F]=X.id),En.publish("addGState",X),X}};h.addGState=function(F,X){return Nc(F,X),this},h.saveGraphicsState=function(){return fe("q"),St.push({key:bt,size:Ye,color:Fa}),this},h.restoreGraphicsState=function(){fe("Q");var F=St.pop();return bt=F.key,Ye=F.size,Fa=F.color,Zn=null,this},h.setCurrentTransformationMatrix=function(F){return fe(F.toString()+" cm"),this},h.comment=function(F){return fe("#"+F),this};var uo=function(F,X){var me=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(rt){isNaN(rt)||(me=parseFloat(rt))}});var Be=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(rt){isNaN(rt)||(Be=parseFloat(rt))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(rt){Ue=rt.toString()}}),this},il=function(F,X,me,Be){uo.call(this,F,X),this.type="rect";var Ue=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(at){isNaN(at)||(Ue=parseFloat(at))}});var rt=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(at){isNaN(at)||(rt=parseFloat(at))}}),this},al=function(){this.page=gn,this.currentPage=$,this.pages=xe.slice(0),this.pagesContext=Kt.slice(0),this.x=tt,this.y=Qt,this.matrix=dt,this.width=Us($),this.height=Ao($),this.outputDestination=Ve,this.id="",this.objectNumber=-1};al.prototype.restore=function(){gn=this.page,$=this.currentPage,Kt=this.pagesContext,xe=this.pages,tt=this.x,Qt=this.y,dt=this.matrix,jc($,this.width),ts($,this.height),Ve=this.outputDestination};var Gl=function(F,X,me,Be,Ue){Fe.push(new al),gn=$=0,xe=[],tt=F,Qt=X,dt=Ue,fs([me,Be])};for(var ql in h.beginFormObject=function(F,X,me,Be,Ue){return Gl(F,X,me,Be,Ue),this},h.endFormObject=function(F){return function(X){if(Pa[X])Fe.pop().restore();else{var me=new al,Be="Xo"+(Object.keys(jr).length+1).toString(10);me.id=Be,Pa[X]=Be,jr[Be]=me,En.publish("addFormObject",me),Fe.pop().restore()}}(F),this},h.doFormObject=function(F,X){var me=jr[Pa[F]];return fe("q"),fe(X.toString()+" cm"),fe("/"+me.id+" Do"),fe("Q"),this},h.getFormObject=function(F){var X=jr[Pa[F]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},h.save=function(F,X){return F=F||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(th(Ds(er()),F),typeof th.unload=="function"&&kn.setTimeout&&setTimeout(th.unload,911),this):new Promise(function(me,Be){try{var Ue=th(Ds(er()),F);typeof th.unload=="function"&&kn.setTimeout&&setTimeout(th.unload,911),me(Ue)}catch(rt){Be(rt.message)}})},mn.API)mn.API.hasOwnProperty(ql)&&(ql==="events"&&mn.API.events.length?function(F,X){var me,Be,Ue;for(Ue=X.length-1;Ue!==-1;Ue--)me=X[Ue][0],Be=X[Ue][1],F.subscribe.apply(F,[me].concat(typeof Be=="function"?[Be]:Be))}(En,mn.API.events):h[ql]=mn.API[ql]);function Us(F){return Kt[F].mediaBox.topRightX-Kt[F].mediaBox.bottomLeftX}function jc(F,X){Kt[F].mediaBox.topRightX=X+Kt[F].mediaBox.bottomLeftX}function Ao(F){return Kt[F].mediaBox.topRightY-Kt[F].mediaBox.bottomLeftY}function ts(F,X){Kt[F].mediaBox.topRightY=X+Kt[F].mediaBox.bottomLeftY}var Yl=h.getPageWidth=function(F){return Us(F=F||$)/yt},sl=h.setPageWidth=function(F,X){jc(F,X*yt)},hs=h.getPageHeight=function(F){return Ao(F=F||$)/yt},mu=h.setPageHeight=function(F,X){ts(F,X*yt)};return h.internal={pdfEscape:Fi,getStyle:co,getFont:ia,getFontSize:pt,getCharSpace:tA,getTextColor:Rs,getLineHeight:_c,getLineHeightFactor:eA,getLineWidth:tn,write:$e,getHorizontalCoordinate:Zr,getVerticalCoordinate:rl,getCoordinateString:Ms,getVerticalCoordinateString:$l,collections:{},newObject:bn,newAdditionalObject:pn,newObjectDeferred:Gn,newObjectDeferredBegin:Rt,getFilters:qn,putStream:vr,events:En,scaleFactor:yt,pageSize:{getWidth:function(){return Yl($)},setWidth:function(F){sl($,F)},getHeight:function(){return hs($)},setHeight:function(F){mu($,F)}},encryptionOptions:A,encryption:yr,getEncryptor:function(F){return A!==null?yr.encryptor(F,0):function(X){return X}},output:wa,getNumberOfPages:zl,pages:xe,out:fe,f2:k,f3:O,getPageInfo:Da,getPageInfoByObjId:el,getCurrentPageInfo:Cc,getPDFVersion:m,Point:uo,Rectangle:il,Matrix:Pe,hasHotfix:Os},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Yl($)},set:function(F){sl($,F)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return hs($)},set:function(F){mu($,F)},enumerable:!0,configurable:!0}),(function(F){for(var X=0,me=vt.length;X<me;X++){var Be=oo.call(this,F[X][0],F[X][1],F[X][2],vt[X][3],!0);d===!1&&(f[Be]=!0);var Ue=F[X][0].split("-");du({id:Be,fontName:Ue[0],fontStyle:Ue[1]||""})}En.publish("addFonts",{fonts:mt,dictionary:Ft})}).call(h,vt),bt="F1",Hl(i,n),En.publish("initialized"),h}Zp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Zp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Zp.prototype.processOwnerPassword=function(t,e){return Ik(jk(e).substr(0,5),t)},Zp.prototype.encryptor=function(t,e){var n=jk(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Ik(n,r)}},QS.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Vr(t)!==Vr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},mn.API={events:[]},mn.version="3.0.3";var Gi=mn.API,IF=1,_p=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mn=function(t){return t.toFixed(2)},md=function(t){return t.toFixed(5)};Gi.__acroform__={};var Yo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},xV=function(t){return t*IF},xu=function(t){var e=new lae,n=ln.internal.getHeight(t)||0,r=ln.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Mn(r)),Number(Mn(n))],e},qat=Gi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Yat=Gi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Xat=Gi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ma=Gi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xat(t,e-1)},ga=Gi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qat(t,e-1)},va=Gi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Yat(t,e-1)},Jat=Gi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(Mn(l.lowerLeft_X)),Number(Mn(l.lowerLeft_Y)),Number(Mn(l.upperRight_X)),Number(Mn(l.upperRight_Y))]},Zat=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Tk(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Mn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=xu(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Tk=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=n,s=ln.internal.getHeight(t)||0;s=s<0?-s:s;var o=ln.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(k,O,L){if(k+1<i.length){var H=O+" "+i[k+1][0];return Sw(H,t,L).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,A,d=Sw("3",t,a).height,f=t.multiline?s-a:(s-d)/2,h=f+=2,p=0,m=0,v=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Sw(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var g="",y=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var S=!1;if(i[x].length!==1&&v!==i[x].length-1){if((d+2)*(y+2)+2>s)continue e;g+=i[x][v],S=!0,m=x,x--}else{g=(g+=i[x][v]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var E=parseInt(x),N=l(E,g,a),_=x>=i.length-1;if(N&&!_){g+=" ",v=0;continue}if(N||_){if(_)m=E;else if(t.multiline&&(d+2)*(y+2)+2>s)continue e}else{if(!t.multiline||(d+2)*(y+2)+2>s)continue e;m=E}}for(var B="",j=p;j<=m;j++){var D=i[j];if(t.multiline){if(j===m){B+=D[v]+" ",v=(v+1)%D.length;continue}if(j===p){B+=D[D.length-1]+" ";continue}}B+=D[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,A=Sw(B,t,a).width,t.textAlign){case"right":u=o-A-2;break;case"center":u=(o-A)/2;break;default:u=2}e+=Mn(u)+" "+Mn(h)+` Td
`,e+="("+_p(B)+`) Tj
`,e+=-Mn(u)+` 0 Td
`,h=-(a+2),A=0,p=S?m:m+1,y++,g=""}break}return r.text=e,r.fontSize=a,r},Sw=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},est={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tst=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},nst=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(uu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(est)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");IF=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new cae,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&tst(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=Jat(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ln.createDefaultAppearanceStream(o),Vr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var A=Zat(o);l.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var h=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var p=h[s];typeof p=="function"&&(p=p.call(i,o)),d+="/"+s+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(i,o)),d+="/"+s+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(m,v){for(var g in m)if(m.hasOwnProperty(g)){var y=g,x=m[g];v.internal.newObjectDeferredBegin(x.objId,!0),Vr(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete m[y]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},oae=Gi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Vr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+_p(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cN=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+_p(r(t))+")"},Iu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Iu.prototype.toString=function(){return this.objId+" 0 R"},Iu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Iu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:oae(i,this.objId,this.scope)}):i instanceof Iu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var lae=function(){Iu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Yo(lae,Iu);var cae=function(){Iu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_p(n(t))+")"}},set:function(n){t=n}})};Yo(cae,Iu);var uu=function t(){Iu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ma(e,3)},set:function(g){g?this.F=ga(e,3):this.F=va(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof HS)return;a="FieldObject"+t.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+_p(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/IF:u},set:function(g){u=g}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(g){A=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof HS||this instanceof Ph))return cN(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof os==0?cN(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof os==0?g.substr(0,1)==="("?Hp(g.substr(1,g.length-2)):Hp(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof os==1?Hp(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof os==1?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof os==0?cN(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof os==0?g.substr(0,1)==="("?Hp(g.substr(1,g.length-2)):Hp(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof os==1?Hp(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof os==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,1)},set:function(g){g?this.Ff=ga(this.Ff,1):this.Ff=va(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,2)},set:function(g){g?this.Ff=ga(this.Ff,2):this.Ff=va(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,3)},set:function(g){g?this.Ff=ga(this.Ff,3):this.Ff=va(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');v=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(v){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Yo(uu,Iu);var $m=function(){uu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oae(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,18)},set:function(n){n?this.Ff=ga(this.Ff,18):this.Ff=va(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ga(this.Ff,19):this.Ff=va(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,20)},set:function(n){n?(this.Ff=ga(this.Ff,20),e.sort()):this.Ff=va(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,22)},set:function(n){n?this.Ff=ga(this.Ff,22):this.Ff=va(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,23)},set:function(n){n?this.Ff=ga(this.Ff,23):this.Ff=va(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,27)},set:function(n){n?this.Ff=ga(this.Ff,27):this.Ff=va(this.Ff,27)}}),this.hasAppearanceStream=!1};Yo($m,uu);var Km=function(){$m.call(this),this.fontName="helvetica",this.combo=!1};Yo(Km,$m);var Wm=function(){Km.call(this),this.combo=!0};Yo(Wm,Km);var A2=function(){Wm.call(this),this.edit=!0};Yo(A2,Wm);var os=function(){uu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,15)},set:function(n){n?this.Ff=ga(this.Ff,15):this.Ff=va(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,16)},set:function(n){n?this.Ff=ga(this.Ff,16):this.Ff=va(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,17)},set:function(n){n?this.Ff=ga(this.Ff,17):this.Ff=va(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,26)},set:function(n){n?this.Ff=ga(this.Ff,26):this.Ff=va(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+_p(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Vr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Yo(os,uu);var d2=function(){os.call(this),this.pushButton=!0};Yo(d2,os);var Gm=function(){os.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Yo(Gm,os);var HS=function(){var t,e;uu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+_p(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Vr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ln.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yo(HS,uu),Gm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Gm.prototype.createOption=function(t){var e=new HS;return e.Parent=this,e.optionName=t,this.Kids.push(e),rst.call(this.scope,e),e};var f2=function(){os.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ln.CheckBox.createAppearanceStream()};Yo(f2,os);var Ph=function(){uu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,13)},set:function(e){e?this.Ff=ga(this.Ff,13):this.Ff=va(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,21)},set:function(e){e?this.Ff=ga(this.Ff,21):this.Ff=va(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,23)},set:function(e){e?this.Ff=ga(this.Ff,23):this.Ff=va(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,24)},set:function(e){e?this.Ff=ga(this.Ff,24):this.Ff=va(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,25)},set:function(e){e?this.Ff=ga(this.Ff,25):this.Ff=va(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,26)},set:function(e){e?this.Ff=ga(this.Ff,26):this.Ff=va(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yo(Ph,uu);var h2=function(){Ph.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ma(this.Ff,14)},set:function(t){t?this.Ff=ga(this.Ff,14):this.Ff=va(this.Ff,14)}}),this.password=!0};Yo(h2,Ph);var ln={CheckBox:{createAppearanceStream:function(){return{N:{On:ln.CheckBox.YesNormal},D:{On:ln.CheckBox.YesPushDown,Off:ln.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=xu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=Tk(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Mn(ln.internal.getWidth(t))+" "+Mn(ln.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Mn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=xu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=ln.internal.getHeight(t),s=ln.internal.getWidth(t),o=Tk(t,t.caption);return i.push("1 g"),i.push("0 0 "+Mn(s)+" "+Mn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Mn(s-1)+" "+Mn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Mn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=xu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mn(ln.internal.getWidth(t))+" "+Mn(ln.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ln.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ln.RadioButton.Circle.YesNormal,e.D[t]=ln.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=xu(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=ln.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+md(ln.internal.getWidth(t)/2)+" "+md(ln.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=xu(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*ln.internal.Bezier_C).toFixed(5)),s=Number((r*ln.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+md(ln.internal.getWidth(t)/2)+" "+md(ln.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+md(ln.internal.getWidth(t)/2)+" "+md(ln.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=xu(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*ln.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+md(ln.internal.getWidth(t)/2)+" "+md(ln.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ln.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ln.RadioButton.Cross.YesNormal,e.D[t]=ln.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=xu(t);e.scope=t.scope;var n=[],r=ln.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Mn(ln.internal.getWidth(t)-2)+" "+Mn(ln.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Mn(r.x1.x)+" "+Mn(r.x1.y)+" m"),n.push(Mn(r.x2.x)+" "+Mn(r.x2.y)+" l"),n.push(Mn(r.x4.x)+" "+Mn(r.x4.y)+" m"),n.push(Mn(r.x3.x)+" "+Mn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=xu(t);e.scope=t.scope;var n=ln.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Mn(ln.internal.getWidth(t))+" "+Mn(ln.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Mn(ln.internal.getWidth(t)-2)+" "+Mn(ln.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Mn(n.x1.x)+" "+Mn(n.x1.y)+" m"),r.push(Mn(n.x2.x)+" "+Mn(n.x2.y)+" l"),r.push(Mn(n.x4.x)+" "+Mn(n.x4.y)+" m"),r.push(Mn(n.x3.x)+" "+Mn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=xu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mn(ln.internal.getWidth(t))+" "+Mn(ln.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ln.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ln.internal.getWidth(t),n=ln.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ln.internal.getWidth=function(t){var e=0;return Vr(t)==="object"&&(e=xV(t.Rect[2])),e},ln.internal.getHeight=function(t){var e=0;return Vr(t)==="object"&&(e=xV(t.Rect[3])),e};var rst=Gi.addField=function(t){if(nst(this,t),!(t instanceof uu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gi.AcroFormChoiceField=$m,Gi.AcroFormListBox=Km,Gi.AcroFormComboBox=Wm,Gi.AcroFormEditBox=A2,Gi.AcroFormButton=os,Gi.AcroFormPushButton=d2,Gi.AcroFormRadioButton=Gm,Gi.AcroFormCheckBox=f2,Gi.AcroFormTextField=Ph,Gi.AcroFormPasswordField=h2,Gi.AcroFormAppearance=ln,Gi.AcroForm={ChoiceField:$m,ListBox:Km,ComboBox:Wm,EditBox:A2,Button:os,PushButton:d2,RadioButton:Gm,CheckBox:f2,TextField:Ph,PasswordField:h2,Appearance:ln},mn.AcroForm={ChoiceField:$m,ListBox:Km,ComboBox:Wm,EditBox:A2,Button:os,PushButton:d2,RadioButton:Gm,CheckBox:f2,TextField:Ph,PasswordField:h2,Appearance:ln};mn.AcroForm;function uae(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(k,O){var L,H,q,Y,ee,K=n;if((O=O||n)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(N(k))for(ee in r)for(q=r[ee],L=0;L<q.length;L+=1){for(Y=!0,H=0;H<q[L].length;H+=1)if(q[L][H]!==void 0&&q[L][H]!==k[H]){Y=!1;break}if(Y===!0){K=ee;break}}else for(ee in r)for(q=r[ee],L=0;L<q.length;L+=1){for(Y=!0,H=0;H<q[L].length;H+=1)if(q[L][H]!==void 0&&q[L][H]!==k.charCodeAt(H)){Y=!1;break}if(Y===!0){K=ee;break}}return K===n&&O!==n&&(K=O),K},a=function k(O){for(var L=this.internal.write,H=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:O.width}),Y.push({key:"Height",value:O.height}),O.colorSpace===g.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===g.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var ee="",K=0,te=O.transparency.length;K<te;K++)ee+=O.transparency[K]+" "+O.transparency[K]+" ";Y.push({key:"Mask",value:"["+ee+"]"})}O.sMask!==void 0&&Y.push({key:"SMask",value:O.objectId+1+" 0 R"});var le=O.filter!==void 0?["/"+O.filter]:void 0;if(H({data:O.data,additionalKeyValues:Y,alreadyAppliedFilters:le,objectId:O.objectId}),L("endobj"),"sMask"in O&&O.sMask!==void 0){var se,M=(se=O.sMaskBitsPerComponent)!==null&&se!==void 0?se:O.bitsPerComponent,$={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:O.sMask};"filter"in O&&($.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(O.width),$.filter=O.filter),k.call(this,$)}if(O.colorSpace===g.INDEXED){var J=this.internal.newObject();H({data:B(new Uint8Array(O.palette)),objectId:J}),L("endobj")}},s=function(){var k=this.internal.collections[e+"images"];for(var O in k)a.call(this,k[O])},o=function(){var k,O=this.internal.collections[e+"images"],L=this.internal.write;for(var H in O)L("/I"+(k=O[H]).index,k.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var k=this.internal.collections[e+"images"];return l.call(this),k},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(k){return typeof t["process"+k.toUpperCase()]=="function"},f=function(k){return Vr(k)==="object"&&k.nodeType===1},h=function(k,O){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var L=""+k.getAttribute("src");if(L.indexOf("data:image/")===0)return u2(unescape(L).split("base64,").pop());var H=t.loadFile(L,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var q;switch(O){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return u2(k.toDataURL(q,1).split("base64,").pop())}},p=function(k){var O=this.internal.collections[e+"images"];if(O){for(var L in O)if(k===O[L].alias)return O[L]}},m=function(k,O,L){return k||O||(k=-96,O=-96),k<0&&(k=-1*L.width*72/k/this.internal.scaleFactor),O<0&&(O=-1*L.height*72/O/this.internal.scaleFactor),k===0&&(k=O*L.width/L.height),O===0&&(O=k*L.height/L.width),[k,O]},v=function(k,O,L,H,q,Y){var ee=m.call(this,L,H,q),K=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,le=u.call(this);if(L=ee[0],H=ee[1],le[q.index]=q,Y){Y*=Math.PI/180;var se=Math.cos(Y),M=Math.sin(Y),$=function(ne){return ne.toFixed(4)},J=[$(se),$(M),$(-1*M),$(se),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,K(k),te(O+H),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([K(L),"0","0",K(H),"0","0","cm"].join(" "))):this.internal.write([K(L),"0","0",K(H),K(k),te(O+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(k){var O,L,H=0;if(typeof k=="string")for(L=k.length,O=0;O<L;O++)H=(H<<5)-H+k.charCodeAt(O),H|=0;else if(N(k))for(L=k.byteLength/2,O=0;O<L;O++)H=(H<<5)-H+k[O],H|=0;return H},S=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var O=!0;return k.length===0&&(O=!1),k.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(O=!1),O},E=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var O=k.indexOf(",");return O<0?null:k.substring(0,O).trim().endsWith("base64")?k.substring(O+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var N=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},_=t.__addimage__.binaryStringToUint8Array=function(k){for(var O=k.length,L=new Uint8Array(O),H=0;H<O;H++)L[H]=k.charCodeAt(H);return L},B=t.__addimage__.arrayBufferToBinaryString=function(k){for(var O="",L=N(k)?k:new Uint8Array(k),H=0;H<L.length;H+=8192)O+=String.fromCharCode.apply(null,L.subarray(H,H+8192));return O};t.addImage=function(){var k,O,L,H,q,Y,ee,K,te;if(typeof arguments[1]=="number"?(O=n,L=arguments[1],H=arguments[2],q=arguments[3],Y=arguments[4],ee=arguments[5],K=arguments[6],te=arguments[7]):(O=arguments[1],L=arguments[2],H=arguments[3],q=arguments[4],Y=arguments[5],ee=arguments[6],K=arguments[7],te=arguments[8]),Vr(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var le=k;k=le.imageData,O=le.format||O||n,L=le.x||L||0,H=le.y||H||0,q=le.w||le.width||q,Y=le.h||le.height||Y,ee=le.alias||ee,K=le.compression||K,te=le.rotation||le.angle||te}var se=this.internal.getFilters();if(K===void 0&&se.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(L)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=j.call(this,k,O,ee,K);return v.call(this,L,H,q,Y,M,te),this};var j=function(k,O,L,H){var q,Y,ee;if(typeof k=="string"&&i(k)===n){k=unescape(k);var K=D(k,!1);(K!==""||(K=t.loadFile(k,!0))!==void 0)&&(k=K)}if(f(k)&&(k=h(k,O)),O=i(k,O),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ee=L)==null||ee.length===0)&&(L=function(te){return typeof te=="string"||N(te)?x(te):N(te.data)?x(te.data):null}(k)),(q=p.call(this,L))||(k instanceof Uint8Array||O==="RGBA"||(Y=k,k=_(k)),q=this["process"+O.toUpperCase()](k,A.call(this),L,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:y.NONE}(H),Y)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},D=t.__addimage__.convertBase64ToBinaryString=function(k,O){O=typeof O!="boolean"||O;var L,H="";if(typeof k=="string"){var q;L=(q=E(k))!==null&&q!==void 0?q:k;try{H=u2(L)}catch(Y){if(O)throw S(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(k){var O,L,H="";if(f(k)&&(k=h(k)),typeof k=="string"&&i(k)===n&&((H=D(k,!1))===""&&(H=t.loadFile(k)||""),k=H),L=i(k),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(k instanceof Uint8Array||(k=_(k)),!(O=this["process"+L.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=L,O}})(mn.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};mn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,A=!1,d=0;d<u.length&&!A;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){r=u[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),y=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(g(y))+") >>",m.content=a;var x=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var S=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(p(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var N=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+N+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var A=this.splitTextToSize(n,o).length;s=Math.ceil(u*A)}else o=l,s=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(mn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var A=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(m){var v=0,g=n,y="",x=0;for(v=0;v<m.length;v+=1)g[m.charCodeAt(v)]!==void 0?(x++,typeof(g=g[m.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(g),g=n,x=0),v===m.length-1&&(g=n,y+=m.charAt(v-(x-1)),v-=x-1,x=0)):(g=n,y+=m.charAt(v-x),v-=x,x=0);return y};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(m,v,g){return s(m)?a(m)===!1?-1:!u(m)||!s(v)&&!s(g)||!s(g)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:A(m)&&s(v)&&!o(v)&&s(g)&&u(g)?3:o(m)||!s(g)?1:2:-1},h=function(m){var v=0,g=0,y=0,x="",S="",E="",N=(m=m||"").split("\\s+"),_=[];for(v=0;v<N.length;v+=1){for(_.push(""),g=0;g<N[v].length;g+=1)x=N[v][g],S=N[v][g-1],E=N[v][g+1],s(x)?(y=f(x,S,E),_[v]+=y!==-1?String.fromCharCode(e[x.charCodeAt(0)][y]):x):_[v]+=x;_[v]=d(_[v])}return _.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(v)){var y=0;for(g=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?g.push([h(v[y][0]),v[y][1],v[y][2]]):g.push([h(v[y])]);m=g}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",p])}(mn.API),mn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(mn.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var A=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,h=0,p=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=u.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,S){return x.concat(v.splitTextToSize(S,g))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)h<(m=this.getStringUnitWidth(l[y],{font:d})*A)&&(h=m);return h!==0&&(p=l.length),{w:h/=f,h:Math.max((p*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-A,l.y+A,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+A,{align:"center",baseline:"top",maxWidth:l.width-A-A}):this.text(l.text,l.x+A,l.y+A,{align:"left",baseline:"top",maxWidth:l.width-A-A})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,A,d,f){if(r.call(this),!A)throw new Error("No data for PDF table.");var h,p,m,v,g=[],y=[],x=[],S={},E={},N=[],_=[],B=(f=f||{}).autoSize||!1,j=f.printHeaders!==!1,D=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,k=f.margins||Object.assign({width:this.getPageWidth()},e),O=typeof f.padding=="number"?f.padding:3,L=f.headerBackgroundColor||"#c8c8c8",H=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=H,this.setFontSize(D),d==null)y=g=Object.keys(A[0]),x=g.map(function(){return"left"});else if(Array.isArray(d)&&Vr(d[0])==="object")for(g=d.map(function(le){return le.name}),y=d.map(function(le){return le.prompt||le.name||""}),x=d.map(function(le){return le.align||"left"}),h=0;h<d.length;h+=1)E[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(y=g=d,x=g.map(function(){return"left"}));if(B||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<g.length;h+=1){for(S[v=g[h]]=A.map(function(le){return le[v]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=S[v],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)N.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[v]=Math.max.apply(null,N)+O+O,N=[]}if(j){var q={};for(h=0;h<g.length;h+=1)q[g[h]]={},q[g[h]].text=y[h],q[g[h]].align=x[h];var Y=o.call(this,q,E);_=g.map(function(le){return new a(l,u,E[le],Y,q[le].text,void 0,q[le].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var ee=d.reduce(function(le,se){return le[se.name]=se.align,le},{});for(h=0;h<A.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:A[h]},this);var K=o.call(this,A[h],E);for(m=0;m<g.length;m+=1){var te=A[h][g[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:m,data:te},this),s.call(this,new a(l,u,E[g[m]],K,te,h+2,ee[g[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var A=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[h]-A-A)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+A+A},this).reduce(function(h,p){return Math.max(h,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){A=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(A.y=this.internal.__cell__.margins.top||0,f.push(A)),A.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,A),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(mn.API);var Aae={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dae=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kk=uae(dae),fae=[100,200,300,400,500,600,700,800,900],ist=uae(fae);function uN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Aae[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof kk[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function wV(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var ast={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},CV={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function SV(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function EV(t){return t.trimLeft()}function sst(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function ost(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ew,_V,BV,zp,_w,NV,jV,IV,AN=["times"];function TV(t,e,n,r,i){var a=4,s=PV;switch(i){case mn.API.image_compression.FAST:a=1,s=kV;break;case mn.API.image_compression.MEDIUM:a=6,s=DV;break;case mn.API.image_compression.SLOW:a=9,s=OV}t=function(l,u,A,d){for(var f,h=l.length/u,p=new Uint8Array(l.length+h),m=[lst,kV,PV,DV,OV],v=0;v<h;v+=1){var g=v*u,y=l.subarray(g,g+u);if(d)p.set(d(y,A,f),g+v);else{for(var x=m.length,S=[],E=0;E<x;E+=1)S[E]=m[E](y,A,f);var N=ust(S.concat());p.set(S[N],g+v)}f=y}return p}(t,e,Math.ceil(n*r/8),s);var o=Ek(t,{level:a});return mn.API.__addimage__.arrayBufferToBinaryString(o)}function lst(t){var e=Array.apply([],t);return e.unshift(0),e}function kV(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function PV(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function DV(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function OV(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=cst(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function cst(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function ust(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function dN(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return hae(t,i)>>a&s}function FV(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(u,A,d){if(A+1<u.byteLength)u.setUint16(A,d,!1);else{var f=d>>8&255;u.setUint8(A,f)}})(t,a,hae(t,a)&~(o<<s)&65535|l)}function hae(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Ast(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var u=!0,A=[],d=0,f=null,h=0,p=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],1&m||(f=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++],E=S>>6&1,N=1<<1+(7&S),_=o,B=l,j=!1;S>>7&&(j=!0,_=e,B=N,e+=3*N);var D=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}A.push({x:v,y:g,width:y,height:x,has_local_palette:j,palette_offset:_,palette_size:B,data_offset:D,data_length:e-D,transparent_index:f,interlaced:!!E,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return p},this.frameInfo=function(O){if(O<0||O>=A.length)throw new Error("Frame index out of range.");return A[O]},this.decodeAndBlitFrameBGRA=function(O,L){var H=this.frameInfo(O),q=H.width*H.height,Y=new Uint8Array(q);LV(t,H.data_offset,Y,q);var ee=H.palette_offset,K=H.transparent_index;K===null&&(K=256);var te=H.width,le=n-te,se=te,M=4*(H.y*n+H.x),$=4*((H.y+H.height)*n+H.x),J=M,ne=4*le;H.interlaced===!0&&(ne+=4*n*7);for(var he=8,we=0,Se=Y.length;we<Se;++we){var Ae=Y[we];if(se===0&&(se=te,(J+=ne)>=$&&(ne=4*le+4*n*(he-1),J=M+(te+le)*(he<<1),he>>=1)),Ae===K)J+=4;else{var ge=t[ee+3*Ae],xe=t[ee+3*Ae+1],ae=t[ee+3*Ae+2];L[J++]=ae,L[J++]=xe,L[J++]=ge,L[J++]=255}--se}},this.decodeAndBlitFrameRGBA=function(O,L){var H=this.frameInfo(O),q=H.width*H.height,Y=new Uint8Array(q);LV(t,H.data_offset,Y,q);var ee=H.palette_offset,K=H.transparent_index;K===null&&(K=256);var te=H.width,le=n-te,se=te,M=4*(H.y*n+H.x),$=4*((H.y+H.height)*n+H.x),J=M,ne=4*le;H.interlaced===!0&&(ne+=4*n*7);for(var he=8,we=0,Se=Y.length;we<Se;++we){var Ae=Y[we];if(se===0&&(se=te,(J+=ne)>=$&&(ne=4*le+4*n*(he-1),J=M+(te+le)*(he<<1),he>>=1)),Ae===K)J+=4;else{var ge=t[ee+3*Ae],xe=t[ee+3*Ae+1],ae=t[ee+3*Ae+2];L[J++]=ge,L[J++]=xe,L[J++]=ae,L[J++]=255}--se}}}function LV(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,A=0,d=0,f=0,h=t[e++],p=new Int32Array(4096),m=null;;){for(;A<16&&h!==0;)d|=t[e++]<<A,A+=8,h===1?h=t[e++]:--h;if(A<l)break;var v=d&u;if(d>>=l,A-=l,v!==a){if(v===s)break;for(var g=v<o?v:m,y=0,x=g;x>a;)x=p[x]>>8,++y;var S=x;if(f+y+(g!==v?1:0)>r)return void ni.log("Warning, gif stream longer than expected.");n[f++]=S;var E=f+=y;for(g!==v&&(n[f++]=S),x=g;y--;)x=p[x],n[--E]=255&x,x>>=8;m!==null&&o<4096&&(p[o++]=m<<8|S,o>=u+1&&l<12&&(++l,u=u<<1|1)),m=v}else o=s+1,u=(1<<(l=i+1))-1,m=null}return f!==r&&ni.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fN(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),A=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),m=[],v=0,g=7,y=new Array(64),x=new Array(64),S=new Array(64),E=new Array(256),N=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(M,$){for(var J=0,ne=0,he=new Array,we=1;we<=16;we++){for(var Se=1;Se<=M[we];Se++)he[$[ne]]=[],he[$[ne]][0]=J,he[$[ne]][1]=we,ne++,J++;J*=2}return he}function ee(M){for(var $=M[0],J=M[1]-1;J>=0;)$&1<<J&&(v|=1<<g),J--,--g<0&&(v==255?(K(255),K(0)):K(v),g=7,v=0)}function K(M){m.push(M)}function te(M){K(M>>8&255),K(255&M)}function le(M,$,J,ne,he){for(var we,Se=he[0],Ae=he[240],ge=function(Ye,Dt){var pt,ct,jt,Xt,Zt,Ut,rn,st,bt,yt,tt=0;for(bt=0;bt<8;++bt){pt=Ye[tt],ct=Ye[tt+1],jt=Ye[tt+2],Xt=Ye[tt+3],Zt=Ye[tt+4],Ut=Ye[tt+5],rn=Ye[tt+6];var Qt=pt+(st=Ye[tt+7]),dt=pt-st,mt=ct+rn,Ft=ct-rn,St=jt+Ut,Vt=jt-Ut,hn=Xt+Zt,cn=Xt-Zt,wt=Qt+hn,Zn=Qt-hn,gn=mt+St,Kt=mt-St;Ye[tt]=wt+gn,Ye[tt+4]=wt-gn;var En=.707106781*(Kt+Zn);Ye[tt+2]=Zn+En,Ye[tt+6]=Zn-En;var zi=.382683433*((wt=cn+Vt)-(Kt=Ft+dt)),jr=.5411961*wt+zi,Pa=1.306562965*Kt+zi,Fe=.707106781*(gn=Vt+Ft),Pe=dt+Fe,We=dt-Fe;Ye[tt+5]=We+jr,Ye[tt+3]=We-jr,Ye[tt+1]=Pe+Pa,Ye[tt+7]=Pe-Pa,tt+=8}for(tt=0,bt=0;bt<8;++bt){pt=Ye[tt],ct=Ye[tt+8],jt=Ye[tt+16],Xt=Ye[tt+24],Zt=Ye[tt+32],Ut=Ye[tt+40],rn=Ye[tt+48];var Et=pt+(st=Ye[tt+56]),ut=pt-st,qt=ct+rn,bn=ct-rn,Gn=jt+Ut,Rt=jt-Ut,pn=Xt+Zt,Xr=Xt-Zt,gr=Et+pn,Or=Et-pn,Er=qt+Gn,qn=qt-Gn;Ye[tt]=gr+Er,Ye[tt+32]=gr-Er;var vr=.707106781*(qn+Or);Ye[tt+16]=Or+vr,Ye[tt+48]=Or-vr;var Jr=.382683433*((gr=Xr+Rt)-(qn=bn+ut)),ba=.5411961*gr+Jr,Oi=1.306562965*qn+Jr,Xo=.707106781*(Er=Rt+bn),Jo=ut+Xo,Ir=ut-Xo;Ye[tt+40]=Ir+ba,Ye[tt+24]=Ir-ba,Ye[tt+8]=Jo+Oi,Ye[tt+56]=Jo-Oi,tt++}for(bt=0;bt<64;++bt)yt=Ye[bt]*Dt[bt],h[bt]=yt>0?yt+.5|0:yt-.5|0;return h}(M,$),xe=0;xe<64;++xe)p[_[xe]]=ge[xe];var ae=p[0]-J;J=p[0],ae==0?ee(ne[0]):(ee(ne[f[we=32767+ae]]),ee(d[we]));for(var Ve=63;Ve>0&&p[Ve]==0;)Ve--;if(Ve==0)return ee(Se),J;for(var Oe,fe=1;fe<=Ve;){for(var $e=fe;p[fe]==0&&fe<=Ve;)++fe;var ft=fe-$e;if(ft>=16){Oe=ft>>4;for(var vt=1;vt<=Oe;++vt)ee(Ae);ft&=15}we=32767+p[fe],ee(he[(ft<<4)+f[we]]),ee(d[we]),fe++}return Ve!=63&&ee(Se),J}function se(M){M=Math.min(Math.max(M,1),100),a!=M&&(function($){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var he=s((J[ne]*$+50)/100);he=Math.min(Math.max(he,1),255),o[_[ne]]=he}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Ae=s((we[Se]*$+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[_[Se]]=Ae}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,ae=0;ae<8;ae++)for(var Ve=0;Ve<8;Ve++)u[xe]=1/(o[_[xe]]*ge[ae]*ge[Ve]*8),A[xe]=1/(l[_[xe]]*ge[ae]*ge[Ve]*8),xe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,$){$&&se($),m=new Array,v=0,g=7,te(65496),te(65504),te(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),te(1),te(1),K(0),K(0),function(){te(65499),te(132),K(0);for(var ct=0;ct<64;ct++)K(o[ct]);K(1);for(var jt=0;jt<64;jt++)K(l[jt])}(),function(ct,jt){te(65472),te(17),K(8),te(jt),te(ct),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(M.width,M.height),function(){te(65476),te(418),K(0);for(var ct=0;ct<16;ct++)K(B[ct+1]);for(var jt=0;jt<=11;jt++)K(j[jt]);K(16);for(var Xt=0;Xt<16;Xt++)K(D[Xt+1]);for(var Zt=0;Zt<=161;Zt++)K(k[Zt]);K(1);for(var Ut=0;Ut<16;Ut++)K(O[Ut+1]);for(var rn=0;rn<=11;rn++)K(L[rn]);K(17);for(var st=0;st<16;st++)K(H[st+1]);for(var bt=0;bt<=161;bt++)K(q[bt])}(),te(65498),te(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var J=0,ne=0,he=0;v=0,g=7,this.encode.displayName="_encode_";for(var we,Se,Ae,ge,xe,ae,Ve,Oe,fe,$e=M.data,ft=M.width,vt=M.height,Ye=4*ft,Dt=0;Dt<vt;){for(we=0;we<Ye;){for(xe=Ye*Dt+we,Ve=-1,Oe=0,fe=0;fe<64;fe++)ae=xe+(Oe=fe>>3)*Ye+(Ve=4*(7&fe)),Dt+Oe>=vt&&(ae-=Ye*(Dt+1+Oe-vt)),we+Ve>=Ye&&(ae-=we+Ve-Ye+4),Se=$e[ae++],Ae=$e[ae++],ge=$e[ae++],y[fe]=(N[Se]+N[Ae+256|0]+N[ge+512|0]>>16)-128,x[fe]=(N[Se+768|0]+N[Ae+1024|0]+N[ge+1280|0]>>16)-128,S[fe]=(N[Se+1280|0]+N[Ae+1536|0]+N[ge+1792|0]>>16)-128;J=le(y,u,J,e,r),ne=le(x,A,ne,n,i),he=le(S,A,he,n,i),we+=32}Dt+=8}if(g>=0){var pt=[];pt[1]=g+1,pt[0]=(1<<g+1)-1,ee(pt)}return te(65497),new Uint8Array(m)},t=t||50,function(){for(var M=String.fromCharCode,$=0;$<256;$++)E[$]=M($)}(),e=Y(B,j),n=Y(O,L),r=Y(D,k),i=Y(H,q),function(){for(var M=1,$=2,J=1;J<=15;J++){for(var ne=M;ne<$;ne++)f[32767+ne]=J,d[32767+ne]=[],d[32767+ne][1]=J,d[32767+ne][0]=ne;for(var he=-($-1);he<=-M;he++)f[32767+he]=J,d[32767+he]=[],d[32767+he][1]=J,d[32767+he][0]=$-1+he;M<<=1,$<<=1}}(),function(){for(var M=0;M<256;M++)N[M]=19595*M,N[M+256|0]=38470*M,N[M+512|0]=7471*M+32768,N[M+768|0]=-11059*M,N[M+1024|0]=-21709*M,N[M+1280|0]=32768*M+8421375,N[M+1536|0]=-27439*M,N[M+1792|0]=-5329*M}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Lc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function MV(t){function e(j){if(!j)throw Error("assert :P")}function n(j,D,k){for(var O=0;4>O;O++)if(j[D+O]!=k.charCodeAt(O))return!0;return!1}function r(j,D,k,O,L){for(var H=0;H<L;H++)j[D+H]=k[O+H]}function i(j,D,k,O){for(var L=0;L<O;L++)j[D+L]=k}function a(j){return new Int32Array(j)}function s(j,D){for(var k=[],O=0;O<j;O++)k.push(new D);return k}function o(j,D){var k=[];return function O(L,H,q){for(var Y=q[H],ee=0;ee<Y&&(L.push(q.length>H+1?[]:new D),!(q.length<H+1));ee++)O(L[ee],H+1,q)}(k,0,j),k}var l=function(){var j=this;function D(b,I){for(var R=1<<I-1>>>0;b&R;)R>>>=1;return R?(b&R-1)+R:b}function k(b,I,R,z,Z){e(!(z%R));do b[I+(z-=R)]=Z;while(0<z)}function O(b,I,R,z,Z){if(e(2328>=Z),512>=Z)var ie=a(512);else if((ie=a(Z))==null)return 0;return function(oe,ce,de,ve,ke,Ge){var ye,Me,ze=ce,it=1<<de,Ke=a(16),lt=a(16);for(e(ke!=0),e(ve!=null),e(oe!=null),e(0<de),Me=0;Me<ke;++Me){if(15<ve[Me])return 0;++Ke[ve[Me]]}if(Ke[0]==ke)return 0;for(lt[1]=0,ye=1;15>ye;++ye){if(Ke[ye]>1<<ye)return 0;lt[ye+1]=lt[ye]+Ke[ye]}for(Me=0;Me<ke;++Me)ye=ve[Me],0<ve[Me]&&(Ge[lt[ye]++]=Me);if(lt[15]==1)return(ve=new L).g=0,ve.value=Ge[0],k(oe,ze,1,it,ve),it;var At,Nt=-1,Ct=it-1,vn=0,on=1,$n=1,dn=1<<de;for(Me=0,ye=1,ke=2;ye<=de;++ye,ke<<=1){if(on+=$n<<=1,0>($n-=Ke[ye]))return 0;for(;0<Ke[ye];--Ke[ye])(ve=new L).g=ye,ve.value=Ge[Me++],k(oe,ze+vn,ke,dn,ve),vn=D(vn,ye)}for(ye=de+1,ke=2;15>=ye;++ye,ke<<=1){if(on+=$n<<=1,0>($n-=Ke[ye]))return 0;for(;0<Ke[ye];--Ke[ye]){if(ve=new L,(vn&Ct)!=Nt){for(ze+=dn,At=1<<(Nt=ye)-de;15>Nt&&!(0>=(At-=Ke[Nt]));)++Nt,At<<=1;it+=dn=1<<(At=Nt-de),oe[ce+(Nt=vn&Ct)].g=At+de,oe[ce+Nt].value=ze-ce-Nt}ve.g=ye-de,ve.value=Ge[Me++],k(oe,ze+(vn>>de),ke,dn,ve),vn=D(vn,ye)}}return on!=2*lt[15]-1?0:it}(b,I,R,z,Z,ie)}function L(){this.value=this.g=0}function H(){this.value=this.g=0}function q(){this.G=s(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ms,H)}function Y(b,I,R,z){e(b!=null),e(I!=null),e(2147483648>z),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=I,b.pa=R,b.Jd=I,b.Yc=R+z,b.Zc=4<=z?R+z-4+1:R,Se(b)}function ee(b,I){for(var R=0;0<I--;)R|=ge(b,128)<<I;return R}function K(b,I){var R=ee(b,I);return Ae(b)?-R:R}function te(b,I,R,z){var Z,ie=0;for(e(b!=null),e(I!=null),e(4294967288>z),b.Sb=z,b.Ra=0,b.u=0,b.h=0,4<z&&(z=4),Z=0;Z<z;++Z)ie+=I[R+Z]<<8*Z;b.Ra=ie,b.bb=z,b.oa=I,b.pa=R}function le(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<oa-8>>>0,++b.bb,b.u-=8;ne(b)&&(b.h=1,b.u=0)}function se(b,I){if(e(0<=I),!b.h&&I<=ns){var R=J(b)&lr[I];return b.u+=I,le(b),R}return b.h=1,b.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(b){return b.Ra>>>(b.u&oa-1)>>>0}function ne(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>oa}function he(b,I){b.u=I,b.h=ne(b)}function we(b){b.u>=Ic&&(e(b.u>=Ic),le(b))}function Se(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function Ae(b){return ee(b,1)}function ge(b,I){var R=b.Ca;0>b.b&&Se(b);var z=b.b,Z=R*I>>>8,ie=(b.I>>>z>Z)+0;for(ie?(R-=Z,b.I-=Z+1<<z>>>0):R=Z+1,z=R,Z=0;256<=z;)Z+=8,z>>=8;return z=7^Z+Xl[z],b.b-=z,b.Ca=(R<<z)-1,ie}function xe(b,I,R){b[I+0]=R>>24&255,b[I+1]=R>>16&255,b[I+2]=R>>8&255,b[I+3]=255&R}function ae(b,I){return b[I+0]|b[I+1]<<8}function Ve(b,I){return ae(b,I)|b[I+2]<<16}function Oe(b,I){return ae(b,I)|ae(b,I+2)<<16}function fe(b,I){var R=1<<I;return e(b!=null),e(0<I),b.X=a(R),b.X==null?0:(b.Mb=32-I,b.Xa=I,1)}function $e(b,I){e(b!=null),e(I!=null),e(b.Xa==I.Xa),r(I.X,0,b.X,0,1<<I.Xa)}function ft(){this.X=[],this.Xa=this.Mb=0}function vt(b,I,R,z){e(R!=null),e(z!=null);var Z=R[0],ie=z[0];return Z==0&&(Z=(b*ie+I/2)/I),ie==0&&(ie=(I*Z+b/2)/b),0>=Z||0>=ie?0:(R[0]=Z,z[0]=ie,1)}function Ye(b,I){return b+(1<<I)-1>>>I}function Dt(b,I){return((4278255360&b)+(4278255360&I)>>>0&4278255360)+((16711935&b)+(16711935&I)>>>0&16711935)>>>0}function pt(b,I){j[I]=function(R,z,Z,ie,oe,ce,de){var ve;for(ve=0;ve<oe;++ve){var ke=j[b](ce[de+ve-1],Z,ie+ve);ce[de+ve]=Dt(R[z+ve],ke)}}}function ct(){this.ud=this.hd=this.jd=0}function jt(b,I){return((4278124286&(b^I))>>>1)+(b&I)>>>0}function Xt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Zt(b,I){return Xt(b+(b-I+.5>>1))}function Ut(b,I,R){return Math.abs(I-R)-Math.abs(b-R)}function rn(b,I,R,z,Z,ie,oe){for(z=ie[oe-1],R=0;R<Z;++R)ie[oe+R]=z=Dt(b[I+R],z)}function st(b,I,R,z,Z){var ie;for(ie=0;ie<R;++ie){var oe=b[I+ie],ce=oe>>8&255,de=16711935&(de=(de=16711935&oe)+((ce<<16)+ce));z[Z+ie]=(4278255360&oe)+de>>>0}}function bt(b,I){I.jd=255&b,I.hd=b>>8&255,I.ud=b>>16&255}function yt(b,I,R,z,Z,ie){var oe;for(oe=0;oe<z;++oe){var ce=I[R+oe],de=ce>>>8,ve=ce,ke=255&(ke=(ke=ce>>>16)+((b.jd<<24>>24)*(de<<24>>24)>>>5));ve=255&(ve=(ve+=(b.hd<<24>>24)*(de<<24>>24)>>>5)+((b.ud<<24>>24)*(ke<<24>>24)>>>5)),Z[ie+oe]=(4278255360&ce)+(ke<<16)+ve}}function tt(b,I,R,z,Z){j[I]=function(ie,oe,ce,de,ve,ke,Ge,ye,Me){for(de=Ge;de<ye;++de)for(Ge=0;Ge<Me;++Ge)ve[ke++]=Z(ce[z(ie[oe++])])},j[b]=function(ie,oe,ce,de,ve,ke,Ge){var ye=8>>ie.b,Me=ie.Ea,ze=ie.K[0],it=ie.w;if(8>ye)for(ie=(1<<ie.b)-1,it=(1<<ye)-1;oe<ce;++oe){var Ke,lt=0;for(Ke=0;Ke<Me;++Ke)Ke&ie||(lt=z(de[ve++])),ke[Ge++]=Z(ze[lt&it]),lt>>=ye}else j["VP8LMapColor"+R](de,ve,ze,it,ke,Ge,oe,ce,Me)}}function Qt(b,I,R,z,Z){for(R=I+R;I<R;){var ie=b[I++];z[Z++]=ie>>16&255,z[Z++]=ie>>8&255,z[Z++]=255&ie}}function dt(b,I,R,z,Z){for(R=I+R;I<R;){var ie=b[I++];z[Z++]=ie>>16&255,z[Z++]=ie>>8&255,z[Z++]=255&ie,z[Z++]=ie>>24&255}}function mt(b,I,R,z,Z){for(R=I+R;I<R;){var ie=(oe=b[I++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;z[Z++]=ie,z[Z++]=oe}}function Ft(b,I,R,z,Z){for(R=I+R;I<R;){var ie=(oe=b[I++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;z[Z++]=ie,z[Z++]=oe}}function St(b,I,R,z,Z){for(R=I+R;I<R;){var ie=b[I++];z[Z++]=255&ie,z[Z++]=ie>>8&255,z[Z++]=ie>>16&255}}function Vt(b,I,R,z,Z,ie){if(ie==0)for(R=I+R;I<R;)xe(z,((ie=b[I++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),Z+=32;else r(z,Z,b,I,R)}function hn(b,I){j[I][0]=j[b+"0"],j[I][1]=j[b+"1"],j[I][2]=j[b+"2"],j[I][3]=j[b+"3"],j[I][4]=j[b+"4"],j[I][5]=j[b+"5"],j[I][6]=j[b+"6"],j[I][7]=j[b+"7"],j[I][8]=j[b+"8"],j[I][9]=j[b+"9"],j[I][10]=j[b+"10"],j[I][11]=j[b+"11"],j[I][12]=j[b+"12"],j[I][13]=j[b+"13"],j[I][14]=j[b+"0"],j[I][15]=j[b+"0"]}function cn(b){return b==o_||b==l_||b==Mx||b==c_}function wt(){this.eb=[],this.size=this.A=this.fb=0}function Zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wt,this.f.kb=new Zn,this.sd=null}function Kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function En(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function zi(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function jr(b,I){var R=b.T,z=I.ba.f.RGBA,Z=z.eb,ie=z.fb+b.ka*z.A,oe=Jl[I.ba.S],ce=b.y,de=b.O,ve=b.f,ke=b.N,Ge=b.ea,ye=b.W,Me=I.cc,ze=I.dc,it=I.Mc,Ke=I.Nc,lt=b.ka,At=b.ka+b.T,Nt=b.U,Ct=Nt+1>>1;for(lt==0?oe(ce,de,null,null,ve,ke,Ge,ye,ve,ke,Ge,ye,Z,ie,null,null,Nt):(oe(I.ec,I.fc,ce,de,Me,ze,it,Ke,ve,ke,Ge,ye,Z,ie-z.A,Z,ie,Nt),++R);lt+2<At;lt+=2)Me=ve,ze=ke,it=Ge,Ke=ye,ke+=b.Rc,ye+=b.Rc,ie+=2*z.A,oe(ce,(de+=2*b.fa)-b.fa,ce,de,Me,ze,it,Ke,ve,ke,Ge,ye,Z,ie-z.A,Z,ie,Nt);return de+=b.fa,b.j+At<b.o?(r(I.ec,I.fc,ce,de,Nt),r(I.cc,I.dc,ve,ke,Ct),r(I.Mc,I.Nc,Ge,ye,Ct),R--):1&At||oe(ce,de,null,null,ve,ke,Ge,ye,ve,ke,Ge,ye,Z,ie+z.A,null,null,Nt),R}function Pa(b,I,R){var z=b.F,Z=[b.J];if(z!=null){var ie=b.U,oe=I.ba.S,ce=oe==Lx||oe==Mx;I=I.ba.f.RGBA;var de=[0],ve=b.ka;de[0]=b.T,b.Kb&&(ve==0?--de[0]:(--ve,Z[0]-=b.width),b.j+b.ka+b.T==b.o&&(de[0]=b.o-b.j-ve));var ke=I.eb;ve=I.fb+ve*I.A,b=Fn(z,Z[0],b.width,ie,de,ke,ve+(ce?0:3),I.A),e(R==de),b&&cn(oe)&&Mt(ke,ve,ce,ie,de,I.A)}return 0}function Fe(b){var I=b.ma,R=I.ba.S,z=11>R,Z=R==Ox||R==Fx||R==Lx||R==s_||R==12||cn(R);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!kf(I.Oa,b,Z?11:12))return 0;if(Z&&cn(R)&&gu(),b.da)alert("todo:use_scaling");else{if(z){if(I.Ib=zi,b.Kb){if(R=b.U+1>>1,I.memory=a(b.U+2*R),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+b.U,I.Mc=I.cc,I.Nc=I.dc+R,I.Ib=jr,gu()}}else alert("todo:EmitYUV");Z&&(I.Jb=Pa,z&&Tr())}if(z&&!HF){for(b=0;256>b;++b)Jae[b]=89858*(b-128)+Ux>>Rx,tse[b]=-22014*(b-128)+Ux,ese[b]=-45773*(b-128),Zae[b]=113618*(b-128)+Ux>>Rx;for(b=I0;b<d_;++b)I=76283*(b-16)+Ux>>Rx,nse[b-I0]=Vn(I,255),rse[b-I0]=Vn(I+8>>4,15);HF=1}return 1}function Pe(b){var I=b.ma,R=b.U,z=b.T;return e(!(1&b.ka)),0>=R||0>=z?0:(R=I.Ib(b,I),I.Jb!=null&&I.Jb(b,I,R),I.Dc+=R,1)}function We(b){b.ma.memory=null}function Et(b,I,R,z){return se(b,8)!=47?0:(I[0]=se(b,14)+1,R[0]=se(b,14)+1,z[0]=se(b,1),se(b,3)!=0?0:!b.h)}function ut(b,I){if(4>b)return b+1;var R=b-2>>1;return(2+(1&b)<<R)+se(I,R)+1}function qt(b,I){return 120<I?I-120:1<=(R=((R=Mae[I-1])>>4)*b+(8-(15&R)))?R:1;var R}function bn(b,I,R){var z=J(R),Z=b[I+=255&z].g-8;return 0<Z&&(he(R,R.u+8),z=J(R),I+=b[I].value,I+=z&(1<<Z)-1),he(R,R.u+b[I].g),b[I].value}function Gn(b,I,R){return R.g+=b.g,R.value+=b.value<<I>>>0,e(8>=R.g),b.g}function Rt(b,I,R){var z=b.xc;return e((I=z==0?0:b.vc[b.md*(R>>z)+(I>>z)])<b.Wb),b.Ya[I]}function pn(b,I,R,z){var Z=b.ab,ie=b.c*I,oe=b.C;I=oe+I;var ce=R,de=z;for(z=b.Ta,R=b.Ua;0<Z--;){var ve=b.gc[Z],ke=oe,Ge=I,ye=ce,Me=de,ze=(de=z,ce=R,ve.Ea);switch(e(ke<Ge),e(Ge<=ve.nc),ve.hc){case 2:pi(ye,Me,(Ge-ke)*ze,de,ce);break;case 0:var it=ke,Ke=Ge,lt=de,At=ce,Nt=(dn=ve).Ea;it==0&&(nd(ye,Me,null,null,1,lt,At),rn(ye,Me+1,0,0,Nt-1,lt,At+1),Me+=Nt,At+=Nt,++it);for(var Ct=1<<dn.b,vn=Ct-1,on=Ye(Nt,dn.b),$n=dn.K,dn=dn.w+(it>>dn.b)*on;it<Ke;){var cr=$n,Qa=dn,Kn=1;for(jo(ye,Me,lt,At-Nt,1,lt,At);Kn<Nt;){var fn=(Kn&~vn)+Ct;fn>Nt&&(fn=Nt),(0,T[cr[Qa++]>>8&15])(ye,Me+ +Kn,lt,At+Kn-Nt,fn-Kn,lt,At+Kn),Kn=fn}Me+=Nt,At+=Nt,++it&vn||(dn+=on)}Ge!=ve.nc&&r(de,ce-ze,de,ce+(Ge-ke-1)*ze,ze);break;case 1:for(ze=ye,Ke=Me,Nt=(ye=ve.Ea)-(At=ye&~(lt=(Me=1<<ve.b)-1)),it=Ye(ye,ve.b),Ct=ve.K,ve=ve.w+(ke>>ve.b)*it;ke<Ge;){for(vn=Ct,on=ve,$n=new ct,dn=Ke+At,cr=Ke+ye;Ke<dn;)bt(vn[on++],$n),U($n,ze,Ke,Me,de,ce),Ke+=Me,ce+=Me;Ke<cr&&(bt(vn[on++],$n),U($n,ze,Ke,Nt,de,ce),Ke+=Nt,ce+=Nt),++ke&lt||(ve+=it)}break;case 3:if(ye==de&&Me==ce&&0<ve.b){for(Ke=de,ye=ze=ce+(Ge-ke)*ze-(At=(Ge-ke)*Ye(ve.Ea,ve.b)),Me=de,lt=ce,it=[],At=(Nt=At)-1;0<=At;--At)it[At]=Me[lt+At];for(At=Nt-1;0<=At;--At)Ke[ye+At]=it[At];Tc(ve,ke,Ge,de,ze,de,ce)}else Tc(ve,ke,Ge,ye,Me,de,ce)}ce=z,de=R}de!=R&&r(z,R,ce,de,ie)}function Xr(b,I){var R=b.V,z=b.Ba+b.c*b.C,Z=I-b.C;if(e(I<=b.l.o),e(16>=Z),0<Z){var ie=b.l,oe=b.Ta,ce=b.Ua,de=ie.width;if(pn(b,Z,R,z),Z=ce=[ce],e((R=b.C)<(z=I)),e(ie.v<ie.va),z>ie.o&&(z=ie.o),R<ie.j){var ve=ie.j-R;R=ie.j,Z[0]+=ve*de}if(R>=z?R=0:(Z[0]+=4*ie.v,ie.ka=R-ie.j,ie.U=ie.va-ie.v,ie.T=z-R,R=1),R){if(ce=ce[0],11>(R=b.ca).S){var ke=R.f.RGBA,Ge=(z=R.S,Z=ie.U,ie=ie.T,ve=ke.eb,ke.A),ye=ie;for(ke=ke.fb+b.Ma*ke.A;0<ye--;){var Me=oe,ze=ce,it=Z,Ke=ve,lt=ke;switch(z){case Dx:V(Me,ze,it,Ke,lt);break;case Ox:G(Me,ze,it,Ke,lt);break;case o_:G(Me,ze,it,Ke,lt),Mt(Ke,lt,0,it,1,0);break;case PF:Ce(Me,ze,it,Ke,lt);break;case Fx:Vt(Me,ze,it,Ke,lt,1);break;case l_:Vt(Me,ze,it,Ke,lt,1),Mt(Ke,lt,0,it,1,0);break;case Lx:Vt(Me,ze,it,Ke,lt,0);break;case Mx:Vt(Me,ze,it,Ke,lt,0),Mt(Ke,lt,1,it,1,0);break;case s_:re(Me,ze,it,Ke,lt);break;case c_:re(Me,ze,it,Ke,lt),$t(Ke,lt,it,1,0);break;case DF:pe(Me,ze,it,Ke,lt);break;default:e(0)}ce+=de,ke+=Ge}b.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=R.height)}}b.C=I,e(b.C<=b.i)}function gr(b){var I;if(0<b.ua)return 0;for(I=0;I<b.Wb;++I){var R=b.Ya[I].G,z=b.Ya[I].H;if(0<R[1][z[1]+0].g||0<R[2][z[2]+0].g||0<R[3][z[3]+0].g)return 0}return 1}function Or(b,I,R,z,Z,ie){if(b.Z!=0){var oe=b.qd,ce=b.rd;for(e(ad[b.Z]!=null);I<R;++I)ad[b.Z](oe,ce,z,Z,z,Z,ie),oe=z,ce=Z,Z+=ie;b.qd=oe,b.rd=ce}}function Er(b,I){var R=b.l.ma,z=R.Z==0||R.Z==1?b.l.j:b.C;if(z=b.C<z?z:b.C,e(I<=b.l.o),I>z){var Z=b.l.width,ie=R.ca,oe=R.tb+Z*z,ce=b.V,de=b.Ba+b.c*z,ve=b.gc;e(b.ab==1),e(ve[0].hc==3),cl(ve[0],z,I,ce,de,ie,oe),Or(R,z,I,ie,oe,Z)}b.C=b.Ma=I}function qn(b,I,R,z,Z,ie,oe){var ce=b.$/z,de=b.$%z,ve=b.m,ke=b.s,Ge=R+b.$,ye=Ge;Z=R+z*Z;var Me=R+z*ie,ze=280+ke.ua,it=b.Pb?ce:16777216,Ke=0<ke.ua?ke.Wa:null,lt=ke.wc,At=Ge<Me?Rt(ke,de,ce):null;e(b.C<ie),e(Me<=Z);var Nt=!1;e:for(;;){for(;Nt||Ge<Me;){var Ct=0;if(ce>=it){var vn=Ge-R;e((it=b).Pb),it.wd=it.m,it.xd=vn,0<it.s.ua&&$e(it.s.Wa,it.s.vb),it=ce+Uae}if(de&lt||(At=Rt(ke,de,ce)),e(At!=null),At.Qb&&(I[Ge]=At.qb,Nt=!0),!Nt)if(we(ve),At.jc){Ct=ve,vn=I;var on=Ge,$n=At.pd[J(Ct)&ms-1];e(At.jc),256>$n.g?(he(Ct,Ct.u+$n.g),vn[on]=$n.value,Ct=0):(he(Ct,Ct.u+$n.g-256),e(256<=$n.value),Ct=$n.value),Ct==0&&(Nt=!0)}else Ct=bn(At.G[0],At.H[0],ve);if(ve.h)break;if(Nt||256>Ct){if(!Nt)if(At.nd)I[Ge]=(At.qb|Ct<<8)>>>0;else{if(we(ve),Nt=bn(At.G[1],At.H[1],ve),we(ve),vn=bn(At.G[2],At.H[2],ve),on=bn(At.G[3],At.H[3],ve),ve.h)break;I[Ge]=(on<<24|Nt<<16|Ct<<8|vn)>>>0}if(Nt=!1,++Ge,++de>=z&&(de=0,++ce,oe!=null&&ce<=ie&&!(ce%16)&&oe(b,ce),Ke!=null))for(;ye<Ge;)Ct=I[ye++],Ke.X[(506832829*Ct&4294967295)>>>Ke.Mb]=Ct}else if(280>Ct){if(Ct=ut(Ct-256,ve),vn=bn(At.G[4],At.H[4],ve),we(ve),vn=qt(z,vn=ut(vn,ve)),ve.h)break;if(Ge-R<vn||Z-Ge<Ct)break e;for(on=0;on<Ct;++on)I[Ge+on]=I[Ge+on-vn];for(Ge+=Ct,de+=Ct;de>=z;)de-=z,++ce,oe!=null&&ce<=ie&&!(ce%16)&&oe(b,ce);if(e(Ge<=Z),de&lt&&(At=Rt(ke,de,ce)),Ke!=null)for(;ye<Ge;)Ct=I[ye++],Ke.X[(506832829*Ct&4294967295)>>>Ke.Mb]=Ct}else{if(!(Ct<ze))break e;for(Nt=Ct-280,e(Ke!=null);ye<Ge;)Ct=I[ye++],Ke.X[(506832829*Ct&4294967295)>>>Ke.Mb]=Ct;Ct=Ge,e(!(Nt>>>(vn=Ke).Xa)),I[Ct]=vn.X[Nt],Nt=!0}Nt||e(ve.h==ne(ve))}if(b.Pb&&ve.h&&Ge<Z)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&$e(b.s.vb,b.s.Wa);else{if(ve.h)break e;oe!=null&&oe(b,ce>ie?ie:ce),b.a=0,b.$=Ge-R}return 1}return b.a=3,0}function vr(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var I=b.Wa;I!=null&&(I.X=null),b.vb=null,e(b!=null)}function Jr(){var b=new en;return b==null?null:(b.a=0,b.xb=LF,hn("Predictor","VP8LPredictors"),hn("Predictor","VP8LPredictors_C"),hn("PredictorAdd","VP8LPredictorsAdd"),hn("PredictorAdd","VP8LPredictorsAdd_C"),pi=st,U=yt,V=Qt,G=dt,re=mt,pe=Ft,Ce=St,j.VP8LMapColor32b=Ma,j.VP8LMapColor8b=C,b)}function ba(b,I,R,z,Z){var ie=1,oe=[b],ce=[I],de=z.m,ve=z.s,ke=null,Ge=0;e:for(;;){if(R)for(;ie&&se(de,1);){var ye=oe,Me=ce,ze=z,it=1,Ke=ze.m,lt=ze.gc[ze.ab],At=se(Ke,2);if(ze.Oc&1<<At)ie=0;else{switch(ze.Oc|=1<<At,lt.hc=At,lt.Ea=ye[0],lt.nc=Me[0],lt.K=[null],++ze.ab,e(4>=ze.ab),At){case 0:case 1:lt.b=se(Ke,3)+2,it=ba(Ye(lt.Ea,lt.b),Ye(lt.nc,lt.b),0,ze,lt.K),lt.K=lt.K[0];break;case 3:var Nt,Ct=se(Ke,8)+1,vn=16<Ct?0:4<Ct?1:2<Ct?2:3;if(ye[0]=Ye(lt.Ea,vn),lt.b=vn,Nt=it=ba(Ct,1,0,ze,lt.K)){var on,$n=Ct,dn=lt,cr=1<<(8>>dn.b),Qa=a(cr);if(Qa==null)Nt=0;else{var Kn=dn.K[0],fn=dn.w;for(Qa[0]=dn.K[0][0],on=1;on<1*$n;++on)Qa[on]=Dt(Kn[fn+on],Qa[on-1]);for(;on<4*cr;++on)Qa[on]=0;dn.K[0]=null,dn.K[0]=Qa,Nt=1}}it=Nt;break;case 2:break;default:e(0)}ie=it}}if(oe=oe[0],ce=ce[0],ie&&se(de,1)&&!(ie=1<=(Ge=se(de,4))&&11>=Ge)){z.a=3;break e}var Ht;if(Ht=ie)t:{var ca,Qn,hr,gi=z,gs=oe,ho=ce,Vi=Ge,Hs=R,po=gi.m,Ha=gi.s,xr=[null],Qr=1,$i=0,Hr=Rae[Vi];n:for(;;){if(Hs&&se(po,1)){var vs=se(po,3)+2,Pc=Ye(gs,vs),ua=Ye(ho,vs),Io=Pc*ua;if(!ba(Pc,ua,0,gi,xr))break n;for(xr=xr[0],Ha.xc=vs,ca=0;ca<Io;++ca){var ti=xr[ca]>>8&65535;xr[ca]=ti,ti>=Qr&&(Qr=ti+1)}}if(po.h)break n;for(Qn=0;5>Qn;++Qn){var za=OF[Qn];!Qn&&0<Vi&&(za+=1<<Vi),$i<za&&($i=za)}var ul=s(Qr*Hr,L),mo=Qr,Al=s(mo,q);if(Al==null)var dl=null;else e(65536>=mo),dl=Al;var To=a($i);if(dl==null||To==null||ul==null){gi.a=1;break n}var fl=ul;for(ca=hr=0;ca<Qr;++ca){var oi=dl[ca],hl=oi.G,Dc=oi.H,Df=0,iA=1,ys=0;for(Qn=0;5>Qn;++Qn){za=OF[Qn],hl[Qn]=fl,Dc[Qn]=hr,!Qn&&0<Vi&&(za+=1<<Vi);i:{var Hx,f_=za,zx=gi,T0=To,sse=fl,ose=hr,h_=0,sd=zx.m,lse=se(sd,1);if(i(T0,0,0,f_),lse){var cse=se(sd,1)+1,use=se(sd,1),$F=se(sd,use==0?1:8);T0[$F]=1,cse==2&&(T0[$F=se(sd,8)]=1);var Vx=1}else{var KF=a(19),WF=se(sd,4)+4;if(19<WF){zx.a=3;var $x=0;break i}for(Hx=0;Hx<WF;++Hx)KF[Lae[Hx]]=se(sd,3);var p_=void 0,k0=void 0,GF=zx,Ase=KF,Kx=f_,qF=T0,m_=0,od=GF.m,YF=8,XF=s(128,L);r:for(;O(XF,0,7,Ase,19);){if(se(od,1)){var dse=2+2*se(od,3);if((p_=2+se(od,dse))>Kx)break r}else p_=Kx;for(k0=0;k0<Kx&&p_--;){we(od);var JF=XF[0+(127&J(od))];he(od,od.u+JF.g);var Bp=JF.value;if(16>Bp)qF[k0++]=Bp,Bp!=0&&(YF=Bp);else{var fse=Bp==16,ZF=Bp-16,hse=Oae[ZF],eL=se(od,Dae[ZF])+hse;if(k0+eL>Kx)break r;for(var pse=fse?YF:0;0<eL--;)qF[k0++]=pse}}m_=1;break r}m_||(GF.a=3),Vx=m_}(Vx=Vx&&!sd.h)&&(h_=O(sse,ose,8,T0,f_)),Vx&&h_!=0?$x=h_:(zx.a=3,$x=0)}if($x==0)break n;if(iA&&Fae[Qn]==1&&(iA=fl[hr].g==0),Df+=fl[hr].g,hr+=$x,3>=Qn){var P0,g_=To[0];for(P0=1;P0<za;++P0)To[P0]>g_&&(g_=To[P0]);ys+=g_}}if(oi.nd=iA,oi.Qb=0,iA&&(oi.qb=(hl[3][Dc[3]+0].value<<24|hl[1][Dc[1]+0].value<<16|hl[2][Dc[2]+0].value)>>>0,Df==0&&256>hl[0][Dc[0]+0].value&&(oi.Qb=1,oi.qb+=hl[0][Dc[0]+0].value<<8)),oi.jc=!oi.Qb&&6>ys,oi.jc){var Wx,aA=oi;for(Wx=0;Wx<ms;++Wx){var ld=Wx,cd=aA.pd[ld],Gx=aA.G[0][aA.H[0]+ld];256<=Gx.value?(cd.g=Gx.g+256,cd.value=Gx.value):(cd.g=0,cd.value=0,ld>>=Gn(Gx,8,cd),ld>>=Gn(aA.G[1][aA.H[1]+ld],16,cd),ld>>=Gn(aA.G[2][aA.H[2]+ld],0,cd),Gn(aA.G[3][aA.H[3]+ld],24,cd))}}}Ha.vc=xr,Ha.Wb=Qr,Ha.Ya=dl,Ha.yc=ul,Ht=1;break t}Ht=0}if(!(ie=Ht)){z.a=3;break e}if(0<Ge){if(ve.ua=1<<Ge,!fe(ve.Wa,Ge)){z.a=1,ie=0;break e}}else ve.ua=0;var v_=z,tL=oe,mse=ce,y_=v_.s,b_=y_.xc;if(v_.c=tL,v_.i=mse,y_.md=Ye(tL,b_),y_.wc=b_==0?-1:(1<<b_)-1,R){z.xb=Wae;break e}if((ke=a(oe*ce))==null){z.a=1,ie=0;break e}ie=(ie=qn(z,ke,0,oe,ce,ce,null))&&!de.h;break e}return ie?(Z!=null?Z[0]=ke:(e(ke==null),e(R)),z.$=0,R||vr(ve)):vr(ve),ie}function Oi(b,I){var R=b.c*b.i,z=R+I+16*I;return e(b.c<=I),b.V=a(z),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+R+I,1)}function Xo(b,I){var R=b.C,z=I-R,Z=b.V,ie=b.Ba+b.c*R;for(e(I<=b.l.o);0<z;){var oe=16<z?16:z,ce=b.l.ma,de=b.l.width,ve=de*oe,ke=ce.ca,Ge=ce.tb+de*R,ye=b.Ta,Me=b.Ua;pn(b,oe,Z,ie),rr(ye,Me,ke,Ge,ve),Or(ce,R,R+oe,ke,Ge,de),z-=oe,Z+=oe*b.c,R+=oe}e(R==I),b.C=b.Ma=I}function Jo(){this.ub=this.yd=this.td=this.Rb=0}function Ir(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zo(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function xa(){this.Yb=function(){var b=[];return function I(R,z,Z){for(var ie=Z[z],oe=0;oe<ie&&(R.push(Z.length>z+1?[]:0),!(Z.length<z+1));oe++)I(R[oe],z+1,Z)}(b,0,[3,11]),b}()}function du(){this.jb=a(3),this.Wc=o([4,8],xa),this.Xc=o([4,17],xa)}function oo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Fi(){this.ld=this.La=this.dd=this.tc=0}function fs(){this.Na=this.la=0}function Hl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function lo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fi),this.Y=0,this.ya=Array(new lo),this.aa=0,this.l=new Pn}function zl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function hu(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Jo,this.Kc=new Ir,this.ed=new oo,this.Qa=new Zo,this.Ic=this.$c=this.Aa=0,this.D=new fu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,Hl),this.Pa=new du,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zl),this.Hd=0,this.rb=Array(new fs),this.sb=0,this.wa=Array(new Fi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new lo),this.L=this.aa=0,this.gd=o([4,2],Fi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pu(){var b=new hu;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,j0||(j0=er)),b}function ii(b,I,R){return b.a==0&&(b.a=I,b.sc=R,b.cb=0),0}function Vl(b,I,R){return 3<=R&&b[I+0]==157&&b[I+1]==1&&b[I+2]==42}function Ju(b,I){if(b==null)return 0;if(b.a=0,b.sc="OK",I==null)return ii(b,2,"null VP8Io passed to VP8GetHeaders()");var R=I.data,z=I.w,Z=I.ha;if(4>Z)return ii(b,7,"Truncated header.");var ie=R[z+0]|R[z+1]<<8|R[z+2]<<16,oe=b.Od;if(oe.Rb=!(1&ie),oe.td=ie>>1&7,oe.yd=ie>>4&1,oe.ub=ie>>5,3<oe.td)return ii(b,3,"Incorrect keyframe parameters.");if(!oe.yd)return ii(b,4,"Frame not displayable.");z+=3,Z-=3;var ce=b.Kc;if(oe.Rb){if(7>Z)return ii(b,7,"cannot parse picture header");if(!Vl(R,z,Z))return ii(b,3,"Bad code word");ce.c=16383&(R[z+4]<<8|R[z+3]),ce.Td=R[z+4]>>6,ce.i=16383&(R[z+6]<<8|R[z+5]),ce.Ud=R[z+6]>>6,z+=7,Z-=7,b.za=ce.c+15>>4,b.Ub=ce.i+15>>4,I.width=ce.c,I.height=ce.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,i((ie=b.Pa).jb,0,255,ie.jb.length),e((ie=b.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(oe.ub>Z)return ii(b,7,"bad partition length");Y(ie=b.m,R,z,oe.ub),z+=oe.ub,Z-=oe.ub,oe.Rb&&(ce.Ld=Ae(ie),ce.Kd=Ae(ie)),ce=b.Qa;var de,ve=b.Pa;if(e(ie!=null),e(ce!=null),ce.Cb=Ae(ie),ce.Cb){if(ce.Bb=Ae(ie),Ae(ie)){for(ce.Fb=Ae(ie),de=0;4>de;++de)ce.Zb[de]=Ae(ie)?K(ie,7):0;for(de=0;4>de;++de)ce.Lb[de]=Ae(ie)?K(ie,6):0}if(ce.Bb)for(de=0;3>de;++de)ve.jb[de]=Ae(ie)?ee(ie,8):255}else ce.Bb=0;if(ie.Ka)return ii(b,3,"cannot parse segment header");if((ce=b.ed).zd=Ae(ie),ce.Tb=ee(ie,6),ce.wb=ee(ie,3),ce.Pc=Ae(ie),ce.Pc&&Ae(ie)){for(ve=0;4>ve;++ve)Ae(ie)&&(ce.vd[ve]=K(ie,6));for(ve=0;4>ve;++ve)Ae(ie)&&(ce.od[ve]=K(ie,6))}if(b.L=ce.Tb==0?0:ce.zd?1:2,ie.Ka)return ii(b,3,"cannot parse filter header");var ke=Z;if(Z=de=z,z=de+ke,ce=ke,b.Xb=(1<<ee(b.m,2))-1,ke<3*(ve=b.Xb))R=7;else{for(de+=3*ve,ce-=3*ve,ke=0;ke<ve;++ke){var Ge=R[Z+0]|R[Z+1]<<8|R[Z+2]<<16;Ge>ce&&(Ge=ce),Y(b.Jc[+ke],R,de,Ge),de+=Ge,ce-=Ge,Z+=3}Y(b.Jc[+ve],R,de,ce),R=de<z?0:5}if(R!=0)return ii(b,R,"cannot parse partitions");for(R=ee(de=b.m,7),Z=Ae(de)?K(de,4):0,z=Ae(de)?K(de,4):0,ce=Ae(de)?K(de,4):0,ve=Ae(de)?K(de,4):0,de=Ae(de)?K(de,4):0,ke=b.Qa,Ge=0;4>Ge;++Ge){if(ke.Cb){var ye=ke.Zb[Ge];ke.Fb||(ye+=R)}else{if(0<Ge){b.pb[Ge]=b.pb[0];continue}ye=R}var Me=b.pb[Ge];Me.Sc[0]=u_[Vn(ye+Z,127)],Me.Sc[1]=A_[Vn(ye+0,127)],Me.Eb[0]=2*u_[Vn(ye+z,127)],Me.Eb[1]=101581*A_[Vn(ye+ce,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=u_[Vn(ye+ve,117)],Me.Qc[1]=A_[Vn(ye+de,127)],Me.lc=ye+de}if(!oe.Rb)return ii(b,4,"Not a key frame.");for(Ae(ie),oe=b.Pa,R=0;4>R;++R){for(Z=0;8>Z;++Z)for(z=0;3>z;++z)for(ce=0;11>ce;++ce)ve=ge(ie,$ae[R][Z][z][ce])?ee(ie,8):zae[R][Z][z][ce],oe.Wc[R][Z].Yb[z][ce]=ve;for(Z=0;17>Z;++Z)oe.Xc[R][Z]=oe.Wc[R][Kae[Z]]}return b.kc=Ae(ie),b.kc&&(b.Bd=ee(ie,8)),b.cb=1}function er(b,I,R,z,Z,ie,oe){var ce=I[Z].Yb[R];for(R=0;16>Z;++Z){if(!ge(b,ce[R+0]))return Z;for(;!ge(b,ce[R+1]);)if(ce=I[++Z].Yb[0],R=0,Z==16)return 16;var de=I[Z+1].Yb;if(ge(b,ce[R+2])){var ve=b,ke=0;if(ge(ve,(ye=ce)[(Ge=R)+3]))if(ge(ve,ye[Ge+6])){for(ce=0,Ge=2*(ke=ge(ve,ye[Ge+8]))+(ye=ge(ve,ye[Ge+9+ke])),ke=0,ye=Qae[Ge];ye[ce];++ce)ke+=ke+ge(ve,ye[ce]);ke+=3+(8<<Ge)}else ge(ve,ye[Ge+7])?(ke=7+2*ge(ve,165),ke+=ge(ve,145)):ke=5+ge(ve,159);else ke=ge(ve,ye[Ge+4])?3+ge(ve,ye[Ge+5]):2;ce=de[2]}else ke=1,ce=de[1];de=oe+Hae[Z],0>(ve=b).b&&Se(ve);var Ge,ye=ve.b,Me=(Ge=ve.Ca>>1)-(ve.I>>ye)>>31;--ve.b,ve.Ca+=Me,ve.Ca|=1,ve.I-=(Ge+1&Me)<<ye,ie[de]=((ke^Me)-Me)*z[(0<Z)+0]}return 16}function Ds(b){var I=b.rb[b.sb-1];I.la=0,I.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function wa(b,I,R,z,Z){Z=b[I+R+32*z]+(Z>>3),b[I+R+32*z]=-256&Z?0>Z?0:255:Z}function Os(b,I,R,z,Z,ie){wa(b,I,0,R,z+Z),wa(b,I,1,R,z+ie),wa(b,I,2,R,z-ie),wa(b,I,3,R,z-Z)}function yr(b){return(20091*b>>16)+b}function Da(b,I,R,z){var Z,ie=0,oe=a(16);for(Z=0;4>Z;++Z){var ce=b[I+0]+b[I+8],de=b[I+0]-b[I+8],ve=(35468*b[I+4]>>16)-yr(b[I+12]),ke=yr(b[I+4])+(35468*b[I+12]>>16);oe[ie+0]=ce+ke,oe[ie+1]=de+ve,oe[ie+2]=de-ve,oe[ie+3]=ce-ke,ie+=4,I++}for(Z=ie=0;4>Z;++Z)ce=(b=oe[ie+0]+4)+oe[ie+8],de=b-oe[ie+8],ve=(35468*oe[ie+4]>>16)-yr(oe[ie+12]),wa(R,z,0,0,ce+(ke=yr(oe[ie+4])+(35468*oe[ie+12]>>16))),wa(R,z,1,0,de+ve),wa(R,z,2,0,de-ve),wa(R,z,3,0,ce-ke),ie++,z+=32}function el(b,I,R,z){var Z=b[I+0]+4,ie=35468*b[I+4]>>16,oe=yr(b[I+4]),ce=35468*b[I+1]>>16;Os(R,z,0,Z+oe,b=yr(b[I+1]),ce),Os(R,z,1,Z+ie,b,ce),Os(R,z,2,Z-ie,b,ce),Os(R,z,3,Z-oe,b,ce)}function Cc(b,I,R,z,Z){Da(b,I,R,z),Z&&Da(b,I+16,R,z+4)}function Sc(b,I,R,z){Te(b,I+0,R,z,1),Te(b,I+32,R,z+128,1)}function Yn(b,I,R,z){var Z;for(b=b[I+0]+4,Z=0;4>Z;++Z)for(I=0;4>I;++I)wa(R,z,I,Z,b)}function co(b,I,R,z){b[I+0]&&Ie(b,I+0,R,z),b[I+16]&&Ie(b,I+16,R,z+4),b[I+32]&&Ie(b,I+32,R,z+128),b[I+48]&&Ie(b,I+48,R,z+128+4)}function tl(b,I,R,z){var Z,ie=a(16);for(Z=0;4>Z;++Z){var oe=b[I+0+Z]+b[I+12+Z],ce=b[I+4+Z]+b[I+8+Z],de=b[I+4+Z]-b[I+8+Z],ve=b[I+0+Z]-b[I+12+Z];ie[0+Z]=oe+ce,ie[8+Z]=oe-ce,ie[4+Z]=ve+de,ie[12+Z]=ve-de}for(Z=0;4>Z;++Z)oe=(b=ie[0+4*Z]+3)+ie[3+4*Z],ce=ie[1+4*Z]+ie[2+4*Z],de=ie[1+4*Z]-ie[2+4*Z],ve=b-ie[3+4*Z],R[z+0]=oe+ce>>3,R[z+16]=ve+de>>3,R[z+32]=oe-ce>>3,R[z+48]=ve-de>>3,z+=64}function Fs(b,I,R){var z,Z=I-32,ie=la,oe=255-b[Z-1];for(z=0;z<R;++z){var ce,de=ie,ve=oe+b[I-1];for(ce=0;ce<R;++ce)b[I+ce]=de[ve+b[Z+ce]];I+=32}}function Wn(b,I){Fs(b,I,4)}function Zu(b,I){Fs(b,I,8)}function If(b,I){Fs(b,I,16)}function Tf(b,I){var R;for(R=0;16>R;++R)r(b,I+32*R,b,I-32,16)}function ra(b,I){var R;for(R=16;0<R;--R)i(b,I,b[I-1],16),I+=32}function Ls(b,I,R){var z;for(z=0;16>z;++z)i(I,R+32*z,b,16)}function Oa(b,I){var R,z=16;for(R=0;16>R;++R)z+=b[I-1+32*R]+b[I+R-32];Ls(z>>5,b,I)}function ia(b,I){var R,z=8;for(R=0;16>R;++R)z+=b[I-1+32*R];Ls(z>>4,b,I)}function nl(b,I){var R,z=8;for(R=0;16>R;++R)z+=b[I+R-32];Ls(z>>4,b,I)}function Ec(b,I){Ls(128,b,I)}function tn(b,I,R){return b+2*I+R+2>>2}function aa(b,I){var R,z=I-32;for(z=new Uint8Array([tn(b[z-1],b[z+0],b[z+1]),tn(b[z+0],b[z+1],b[z+2]),tn(b[z+1],b[z+2],b[z+3]),tn(b[z+2],b[z+3],b[z+4])]),R=0;4>R;++R)r(b,I+32*R,z,0,z.length)}function _c(b,I){var R=b[I-1],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1+96];xe(b,I+0,16843009*tn(b[I-1-32],R,z)),xe(b,I+32,16843009*tn(R,z,Z)),xe(b,I+64,16843009*tn(z,Z,ie)),xe(b,I+96,16843009*tn(Z,ie,ie))}function Bc(b,I){var R,z=4;for(R=0;4>R;++R)z+=b[I+R-32]+b[I-1+32*R];for(z>>=3,R=0;4>R;++R)i(b,I+32*R,z,4)}function eA(b,I){var R=b[I-1+0],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1-32],oe=b[I+0-32],ce=b[I+1-32],de=b[I+2-32],ve=b[I+3-32];b[I+0+96]=tn(z,Z,b[I-1+96]),b[I+1+96]=b[I+0+64]=tn(R,z,Z),b[I+2+96]=b[I+1+64]=b[I+0+32]=tn(ie,R,z),b[I+3+96]=b[I+2+64]=b[I+1+32]=b[I+0+0]=tn(oe,ie,R),b[I+3+64]=b[I+2+32]=b[I+1+0]=tn(ce,oe,ie),b[I+3+32]=b[I+2+0]=tn(de,ce,oe),b[I+3+0]=tn(ve,de,ce)}function Zr(b,I){var R=b[I+1-32],z=b[I+2-32],Z=b[I+3-32],ie=b[I+4-32],oe=b[I+5-32],ce=b[I+6-32],de=b[I+7-32];b[I+0+0]=tn(b[I+0-32],R,z),b[I+1+0]=b[I+0+32]=tn(R,z,Z),b[I+2+0]=b[I+1+32]=b[I+0+64]=tn(z,Z,ie),b[I+3+0]=b[I+2+32]=b[I+1+64]=b[I+0+96]=tn(Z,ie,oe),b[I+3+32]=b[I+2+64]=b[I+1+96]=tn(ie,oe,ce),b[I+3+64]=b[I+2+96]=tn(oe,ce,de),b[I+3+96]=tn(ce,de,de)}function rl(b,I){var R=b[I-1+0],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1-32],oe=b[I+0-32],ce=b[I+1-32],de=b[I+2-32],ve=b[I+3-32];b[I+0+0]=b[I+1+64]=ie+oe+1>>1,b[I+1+0]=b[I+2+64]=oe+ce+1>>1,b[I+2+0]=b[I+3+64]=ce+de+1>>1,b[I+3+0]=de+ve+1>>1,b[I+0+96]=tn(Z,z,R),b[I+0+64]=tn(z,R,ie),b[I+0+32]=b[I+1+96]=tn(R,ie,oe),b[I+1+32]=b[I+2+96]=tn(ie,oe,ce),b[I+2+32]=b[I+3+96]=tn(oe,ce,de),b[I+3+32]=tn(ce,de,ve)}function Ms(b,I){var R=b[I+0-32],z=b[I+1-32],Z=b[I+2-32],ie=b[I+3-32],oe=b[I+4-32],ce=b[I+5-32],de=b[I+6-32],ve=b[I+7-32];b[I+0+0]=R+z+1>>1,b[I+1+0]=b[I+0+64]=z+Z+1>>1,b[I+2+0]=b[I+1+64]=Z+ie+1>>1,b[I+3+0]=b[I+2+64]=ie+oe+1>>1,b[I+0+32]=tn(R,z,Z),b[I+1+32]=b[I+0+96]=tn(z,Z,ie),b[I+2+32]=b[I+1+96]=tn(Z,ie,oe),b[I+3+32]=b[I+2+96]=tn(ie,oe,ce),b[I+3+64]=tn(oe,ce,de),b[I+3+96]=tn(ce,de,ve)}function $l(b,I){var R=b[I-1+0],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1+96];b[I+0+0]=R+z+1>>1,b[I+2+0]=b[I+0+32]=z+Z+1>>1,b[I+2+32]=b[I+0+64]=Z+ie+1>>1,b[I+1+0]=tn(R,z,Z),b[I+3+0]=b[I+1+32]=tn(z,Z,ie),b[I+3+32]=b[I+1+64]=tn(Z,ie,ie),b[I+3+64]=b[I+2+64]=b[I+0+96]=b[I+1+96]=b[I+2+96]=b[I+3+96]=ie}function No(b,I){var R=b[I-1+0],z=b[I-1+32],Z=b[I-1+64],ie=b[I-1+96],oe=b[I-1-32],ce=b[I+0-32],de=b[I+1-32],ve=b[I+2-32];b[I+0+0]=b[I+2+32]=R+oe+1>>1,b[I+0+32]=b[I+2+64]=z+R+1>>1,b[I+0+64]=b[I+2+96]=Z+z+1>>1,b[I+0+96]=ie+Z+1>>1,b[I+3+0]=tn(ce,de,ve),b[I+2+0]=tn(oe,ce,de),b[I+1+0]=b[I+3+32]=tn(R,oe,ce),b[I+1+32]=b[I+3+64]=tn(z,R,oe),b[I+1+64]=b[I+3+96]=tn(Z,z,R),b[I+1+96]=tn(ie,Z,z)}function Kl(b,I){var R;for(R=0;8>R;++R)r(b,I+32*R,b,I-32,8)}function Fa(b,I){var R;for(R=0;8>R;++R)i(b,I,b[I-1],8),I+=32}function Rs(b,I,R){var z;for(z=0;8>z;++z)i(I,R+32*z,b,8)}function Wl(b,I){var R,z=8;for(R=0;8>R;++R)z+=b[I+R-32]+b[I-1+32*R];Rs(z>>4,b,I)}function tA(b,I){var R,z=4;for(R=0;8>R;++R)z+=b[I+R-32];Rs(z>>3,b,I)}function dr(b,I){var R,z=4;for(R=0;8>R;++R)z+=b[I-1+32*R];Rs(z>>3,b,I)}function nA(b,I){Rs(128,b,I)}function Nc(b,I,R){var z=b[I-R],Z=b[I+0],ie=3*(Z-z)+rd[1020+b[I-2*R]-b[I+R]],oe=Sa[112+(ie+4>>3)];b[I-R]=la[255+z+Sa[112+(ie+3>>3)]],b[I+0]=la[255+Z-oe]}function uo(b,I,R,z){var Z=b[I+0],ie=b[I+R];return Qs[255+b[I-2*R]-b[I-R]]>z||Qs[255+ie-Z]>z}function il(b,I,R,z){return 4*Qs[255+b[I-R]-b[I+0]]+Qs[255+b[I-2*R]-b[I+R]]<=z}function al(b,I,R,z,Z){var ie=b[I-3*R],oe=b[I-2*R],ce=b[I-R],de=b[I+0],ve=b[I+R],ke=b[I+2*R],Ge=b[I+3*R];return 4*Qs[255+ce-de]+Qs[255+oe-ve]>z?0:Qs[255+b[I-4*R]-ie]<=Z&&Qs[255+ie-oe]<=Z&&Qs[255+oe-ce]<=Z&&Qs[255+Ge-ke]<=Z&&Qs[255+ke-ve]<=Z&&Qs[255+ve-de]<=Z}function Gl(b,I,R,z){var Z=2*z+1;for(z=0;16>z;++z)il(b,I+z,R,Z)&&Nc(b,I+z,R)}function ql(b,I,R,z){var Z=2*z+1;for(z=0;16>z;++z)il(b,I+z*R,1,Z)&&Nc(b,I+z*R,1)}function Us(b,I,R,z){var Z;for(Z=3;0<Z;--Z)Gl(b,I+=4*R,R,z)}function jc(b,I,R,z){var Z;for(Z=3;0<Z;--Z)ql(b,I+=4,R,z)}function Ao(b,I,R,z,Z,ie,oe,ce){for(ie=2*ie+1;0<Z--;){if(al(b,I,R,ie,oe))if(uo(b,I,R,ce))Nc(b,I,R);else{var de=b,ve=I,ke=R,Ge=de[ve-2*ke],ye=de[ve-ke],Me=de[ve+0],ze=de[ve+ke],it=de[ve+2*ke],Ke=27*(At=rd[1020+3*(Me-ye)+rd[1020+Ge-ze]])+63>>7,lt=18*At+63>>7,At=9*At+63>>7;de[ve-3*ke]=la[255+de[ve-3*ke]+At],de[ve-2*ke]=la[255+Ge+lt],de[ve-ke]=la[255+ye+Ke],de[ve+0]=la[255+Me-Ke],de[ve+ke]=la[255+ze-lt],de[ve+2*ke]=la[255+it-At]}I+=z}}function ts(b,I,R,z,Z,ie,oe,ce){for(ie=2*ie+1;0<Z--;){if(al(b,I,R,ie,oe))if(uo(b,I,R,ce))Nc(b,I,R);else{var de=b,ve=I,ke=R,Ge=de[ve-ke],ye=de[ve+0],Me=de[ve+ke],ze=Sa[112+(4+(it=3*(ye-Ge))>>3)],it=Sa[112+(it+3>>3)],Ke=ze+1>>1;de[ve-2*ke]=la[255+de[ve-2*ke]+Ke],de[ve-ke]=la[255+Ge+it],de[ve+0]=la[255+ye-ze],de[ve+ke]=la[255+Me-Ke]}I+=z}}function Yl(b,I,R,z,Z,ie){Ao(b,I,R,1,16,z,Z,ie)}function sl(b,I,R,z,Z,ie){Ao(b,I,1,R,16,z,Z,ie)}function hs(b,I,R,z,Z,ie){var oe;for(oe=3;0<oe;--oe)ts(b,I+=4*R,R,1,16,z,Z,ie)}function mu(b,I,R,z,Z,ie){var oe;for(oe=3;0<oe;--oe)ts(b,I+=4,1,R,16,z,Z,ie)}function F(b,I,R,z,Z,ie,oe,ce){Ao(b,I,Z,1,8,ie,oe,ce),Ao(R,z,Z,1,8,ie,oe,ce)}function X(b,I,R,z,Z,ie,oe,ce){Ao(b,I,1,Z,8,ie,oe,ce),Ao(R,z,1,Z,8,ie,oe,ce)}function me(b,I,R,z,Z,ie,oe,ce){ts(b,I+4*Z,Z,1,8,ie,oe,ce),ts(R,z+4*Z,Z,1,8,ie,oe,ce)}function Be(b,I,R,z,Z,ie,oe,ce){ts(b,I+4,1,Z,8,ie,oe,ce),ts(R,z+4,1,Z,8,ie,oe,ce)}function Ue(){this.ba=new gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new En,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function at(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wt(){this.ua=0,this.Wa=new ft,this.vb=new ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new L}function en(){this.xb=this.a=0,this.l=new Pn,this.ca=new gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wt,this.ab=0,this.gc=s(4,at),this.Oc=0}function xn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cn(b,I,R,z,Z,ie,oe){for(b=b==null?0:b[I+0],I=0;I<oe;++I)Z[ie+I]=b+R[z+I]&255,b=Z[ie+I]}function tr(b,I,R,z,Z,ie,oe){var ce;if(b==null)Cn(null,null,R,z,Z,ie,oe);else for(ce=0;ce<oe;++ce)Z[ie+ce]=b[I+ce]+R[z+ce]&255}function fr(b,I,R,z,Z,ie,oe){if(b==null)Cn(null,null,R,z,Z,ie,oe);else{var ce,de=b[I+0],ve=de,ke=de;for(ce=0;ce<oe;++ce)ve=ke+(de=b[I+ce])-ve,ke=R[z+ce]+(-256&ve?0>ve?0:255:ve)&255,ve=de,Z[ie+ce]=ke}}function Gr(b,I,R,z){var Z=I.width,ie=I.o;if(e(b!=null&&I!=null),0>R||0>=z||R+z>ie)return null;if(!b.Cc){if(b.ga==null){var oe;if(b.ga=new xn,(oe=b.ga==null)||(oe=I.width*I.o,e(b.Gb.length==0),b.Gb=a(oe),b.Uc=0,b.Gb==null?oe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,oe=1),oe=!oe),!oe){oe=b.ga;var ce=b.Fa,de=b.P,ve=b.qc,ke=b.mb,Ge=b.nb,ye=de+1,Me=ve-1,ze=oe.l;if(e(ce!=null&&ke!=null&&I!=null),ad[0]=null,ad[1]=Cn,ad[2]=tr,ad[3]=fr,oe.ca=ke,oe.tb=Ge,oe.c=I.width,oe.i=I.height,e(0<oe.c&&0<oe.i),1>=ve)I=0;else if(oe.$a=3&ce[de+0],oe.Z=ce[de+0]>>2&3,oe.Lc=ce[de+0]>>4&3,de=ce[de+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||de)I=0;else if(ze.put=Pe,ze.ac=Fe,ze.bc=We,ze.ma=oe,ze.width=I.width,ze.height=I.height,ze.Da=I.Da,ze.v=I.v,ze.va=I.va,ze.j=I.j,ze.o=I.o,oe.$a)e:{e(oe.$a==1),I=Jr();t:for(;;){if(I==null){I=0;break e}if(e(oe!=null),oe.mc=I,I.c=oe.c,I.i=oe.i,I.l=oe.l,I.l.ma=oe,I.l.width=oe.c,I.l.height=oe.i,I.a=0,te(I.m,ce,ye,Me),!ba(oe.c,oe.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&gr(I.s)?(oe.ic=1,ce=I.c*I.i,I.Ta=null,I.Ua=0,I.V=a(ce),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(oe.ic=0,I=Oi(I,oe.c)),!I))break t;I=1;break e}oe.mc=null,I=0}else I=Me>=oe.c*oe.i;oe=!I}if(oe)return null;b.ga.Lc!=1?b.Ga=0:z=ie-R}e(b.ga!=null),e(R+z<=ie);e:{if(I=(ce=b.ga).c,ie=ce.l.o,ce.$a==0){if(ye=b.rc,Me=b.Vc,ze=b.Fa,de=b.P+1+R*I,ve=b.mb,ke=b.nb+R*I,e(de<=b.P+b.qc),ce.Z!=0)for(e(ad[ce.Z]!=null),oe=0;oe<z;++oe)ad[ce.Z](ye,Me,ze,de,ve,ke,I),ye=ve,Me=ke,ke+=I,de+=I;else for(oe=0;oe<z;++oe)r(ve,ke,ze,de,I),ye=ve,Me=ke,ke+=I,de+=I;b.rc=ye,b.Vc=Me}else{if(e(ce.mc!=null),I=R+z,e((oe=ce.mc)!=null),e(I<=oe.i),oe.C>=I)I=1;else if(ce.ic||Tr(),ce.ic){ce=oe.V,ye=oe.Ba,Me=oe.c;var it=oe.i,Ke=(ze=1,de=oe.$/Me,ve=oe.$%Me,ke=oe.m,Ge=oe.s,oe.$),lt=Me*it,At=Me*I,Nt=Ge.wc,Ct=Ke<At?Rt(Ge,ve,de):null;e(Ke<=lt),e(I<=it),e(gr(Ge));t:for(;;){for(;!ke.h&&Ke<At;){if(ve&Nt||(Ct=Rt(Ge,ve,de)),e(Ct!=null),we(ke),256>(it=bn(Ct.G[0],Ct.H[0],ke)))ce[ye+Ke]=it,++Ke,++ve>=Me&&(ve=0,++de<=I&&!(de%16)&&Er(oe,de));else{if(!(280>it)){ze=0;break t}it=ut(it-256,ke);var vn,on=bn(Ct.G[4],Ct.H[4],ke);if(we(ke),!(Ke>=(on=qt(Me,on=ut(on,ke)))&&lt-Ke>=it)){ze=0;break t}for(vn=0;vn<it;++vn)ce[ye+Ke+vn]=ce[ye+Ke+vn-on];for(Ke+=it,ve+=it;ve>=Me;)ve-=Me,++de<=I&&!(de%16)&&Er(oe,de);Ke<At&&ve&Nt&&(Ct=Rt(Ge,ve,de))}e(ke.h==ne(ke))}Er(oe,de>I?I:de);break t}!ze||ke.h&&Ke<lt?(ze=0,oe.a=ke.h?5:3):oe.$=Ke,I=ze}else I=qn(oe,oe.V,oe.Ba,oe.c,oe.i,I,Xo);if(!I){z=0;break e}}R+z>=ie&&(b.Cc=1),z=1}if(!z)return null;if(b.Cc&&((z=b.ga)!=null&&(z.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+R*Z}function br(b,I,R,z,Z,ie){for(;0<Z--;){var oe,ce=b,de=I+(R?1:0),ve=b,ke=I+(R?0:3);for(oe=0;oe<z;++oe){var Ge=ve[ke+4*oe];Ge!=255&&(Ge*=32897,ce[de+4*oe+0]=ce[de+4*oe+0]*Ge>>23,ce[de+4*oe+1]=ce[de+4*oe+1]*Ge>>23,ce[de+4*oe+2]=ce[de+4*oe+2]*Ge>>23)}I+=ie}}function Fr(b,I,R,z,Z){for(;0<z--;){var ie;for(ie=0;ie<R;++ie){var oe=b[I+2*ie+0],ce=15&(ve=b[I+2*ie+1]),de=4369*ce,ve=(240&ve|ve>>4)*de>>16;b[I+2*ie+0]=(240&oe|oe>>4)*de>>16&240|(15&oe|oe<<4)*de>>16>>4&15,b[I+2*ie+1]=240&ve|ce}I+=Z}}function ei(b,I,R,z,Z,ie,oe,ce){var de,ve,ke=255;for(ve=0;ve<Z;++ve){for(de=0;de<z;++de){var Ge=b[I+de];ie[oe+4*de]=Ge,ke&=Ge}I+=R,oe+=ce}return ke!=255}function ai(b,I,R,z,Z){var ie;for(ie=0;ie<Z;++ie)R[z+ie]=b[I+ie]>>8}function Tr(){Mt=br,$t=Fr,Fn=ei,rr=ai}function sa(b,I,R){j[b]=function(z,Z,ie,oe,ce,de,ve,ke,Ge,ye,Me,ze,it,Ke,lt,At,Nt){var Ct,vn=Nt-1>>1,on=ce[de+0]|ve[ke+0]<<16,$n=Ge[ye+0]|Me[ze+0]<<16;e(z!=null);var dn=3*on+$n+131074>>2;for(I(z[Z+0],255&dn,dn>>16,it,Ke),ie!=null&&(dn=3*$n+on+131074>>2,I(ie[oe+0],255&dn,dn>>16,lt,At)),Ct=1;Ct<=vn;++Ct){var cr=ce[de+Ct]|ve[ke+Ct]<<16,Qa=Ge[ye+Ct]|Me[ze+Ct]<<16,Kn=on+cr+$n+Qa+524296,fn=Kn+2*(cr+$n)>>3;dn=fn+on>>1,on=(Kn=Kn+2*(on+Qa)>>3)+cr>>1,I(z[Z+2*Ct-1],255&dn,dn>>16,it,Ke+(2*Ct-1)*R),I(z[Z+2*Ct-0],255&on,on>>16,it,Ke+(2*Ct-0)*R),ie!=null&&(dn=Kn+$n>>1,on=fn+Qa>>1,I(ie[oe+2*Ct-1],255&dn,dn>>16,lt,At+(2*Ct-1)*R),I(ie[oe+2*Ct+0],255&on,on>>16,lt,At+(2*Ct+0)*R)),on=cr,$n=Qa}1&Nt||(dn=3*on+$n+131074>>2,I(z[Z+Nt-1],255&dn,dn>>16,it,Ke+(Nt-1)*R),ie!=null&&(dn=3*$n+on+131074>>2,I(ie[oe+Nt-1],255&dn,dn>>16,lt,At+(Nt-1)*R)))}}function gu(){Jl[Dx]=Gae,Jl[Ox]=MF,Jl[PF]=qae,Jl[Fx]=RF,Jl[Lx]=UF,Jl[s_]=QF,Jl[DF]=Yae,Jl[o_]=MF,Jl[l_]=RF,Jl[Mx]=UF,Jl[c_]=QF}function fo(b){return b&-16384?0>b?0:255:b>>Xae}function w(b,I){return fo((19077*b>>8)+(26149*I>>8)-14234)}function Q(b,I,R){return fo((19077*b>>8)-(6419*I>>8)-(13320*R>>8)+8708)}function W(b,I){return fo((19077*b>>8)+(33050*I>>8)-17685)}function ue(b,I,R,z,Z){z[Z+0]=w(b,R),z[Z+1]=Q(b,I,R),z[Z+2]=W(b,I)}function Qe(b,I,R,z,Z){z[Z+0]=W(b,I),z[Z+1]=Q(b,I,R),z[Z+2]=w(b,R)}function qe(b,I,R,z,Z){var ie=Q(b,I,R);I=ie<<3&224|W(b,I)>>3,z[Z+0]=248&w(b,R)|ie>>5,z[Z+1]=I}function Pt(b,I,R,z,Z){var ie=240&W(b,I)|15;z[Z+0]=240&w(b,R)|Q(b,I,R)>>4,z[Z+1]=ie}function nr(b,I,R,z,Z){z[Z+0]=255,ue(b,I,R,z,Z+1)}function si(b,I,R,z,Z){Qe(b,I,R,z,Z),z[Z+3]=255}function zn(b,I,R,z,Z){ue(b,I,R,z,Z),z[Z+3]=255}function Vn(b,I){return 0>b?0:b>I?I:b}function Ur(b,I,R){j[b]=function(z,Z,ie,oe,ce,de,ve,ke,Ge){for(var ye=ke+(-2&Ge)*R;ke!=ye;)I(z[Z+0],ie[oe+0],ce[de+0],ve,ke),I(z[Z+1],ie[oe+0],ce[de+0],ve,ke+R),Z+=2,++oe,++de,ke+=2*R;1&Ge&&I(z[Z+0],ie[oe+0],ce[de+0],ve,ke)}}function ps(b,I,R){return R==0?b==0?I==0?6:5:I==0?4:0:R}function La(b,I,R,z,Z){switch(b>>>30){case 3:Te(I,R,z,Z,0);break;case 2:Le(I,R,z,Z);break;case 1:Ie(I,R,z,Z)}}function Ca(b,I){var R,z,Z=I.M,ie=I.Nb,oe=b.oc,ce=b.pc+40,de=b.oc,ve=b.pc+584,ke=b.oc,Ge=b.pc+600;for(R=0;16>R;++R)oe[ce+32*R-1]=129;for(R=0;8>R;++R)de[ve+32*R-1]=129,ke[Ge+32*R-1]=129;for(0<Z?oe[ce-1-32]=de[ve-1-32]=ke[Ge-1-32]=129:(i(oe,ce-32-1,127,21),i(de,ve-32-1,127,9),i(ke,Ge-32-1,127,9)),z=0;z<b.za;++z){var ye=I.ya[I.aa+z];if(0<z){for(R=-1;16>R;++R)r(oe,ce+32*R-4,oe,ce+32*R+12,4);for(R=-1;8>R;++R)r(de,ve+32*R-4,de,ve+32*R+4,4),r(ke,Ge+32*R-4,ke,Ge+32*R+4,4)}var Me=b.Gd,ze=b.Hd+z,it=ye.ad,Ke=ye.Hc;if(0<Z&&(r(oe,ce-32,Me[ze].y,0,16),r(de,ve-32,Me[ze].f,0,8),r(ke,Ge-32,Me[ze].ea,0,8)),ye.Za){var lt=oe,At=ce-32+16;for(0<Z&&(z>=b.za-1?i(lt,At,Me[ze].y[15],4):r(lt,At,Me[ze+1].y,0,4)),R=0;4>R;R++)lt[At+128+R]=lt[At+256+R]=lt[At+384+R]=lt[At+0+R];for(R=0;16>R;++R,Ke<<=2)lt=oe,At=ce+zF[R],kc[ye.Ob[R]](lt,At),La(Ke,it,16*+R,lt,At)}else if(lt=ps(z,Z,ye.Ob[0]),id[lt](oe,ce),Ke!=0)for(R=0;16>R;++R,Ke<<=2)La(Ke,it,16*+R,oe,ce+zF[R]);for(R=ye.Gc,lt=ps(z,Z,ye.Dd),rA[lt](de,ve),rA[lt](ke,Ge),Ke=it,lt=de,At=ve,255&(ye=0|R)&&(170&ye?Ee(Ke,256,lt,At):_e(Ke,256,lt,At)),ye=ke,Ke=Ge,255&(R>>=8)&&(170&R?Ee(it,320,ye,Ke):_e(it,320,ye,Ke)),Z<b.Ub-1&&(r(Me[ze].y,0,oe,ce+480,16),r(Me[ze].f,0,de,ve+224,8),r(Me[ze].ea,0,ke,Ge+224,8)),R=8*ie*b.B,Me=b.sa,ze=b.ta+16*z+16*ie*b.R,it=b.qa,ye=b.ra+8*z+R,Ke=b.Ha,lt=b.Ia+8*z+R,R=0;16>R;++R)r(Me,ze+R*b.R,oe,ce+32*R,16);for(R=0;8>R;++R)r(it,ye+R*b.B,de,ve+32*R,8),r(Ke,lt+R*b.B,ke,Ge+32*R,8)}}function ol(b,I,R,z,Z,ie,oe,ce,de){var ve=[0],ke=[0],Ge=0,ye=de!=null?de.kd:0,Me=de??new rt;if(b==null||12>R)return 7;Me.data=b,Me.w=I,Me.ha=R,I=[I],R=[R],Me.gb=[Me.gb];e:{var ze=I,it=R,Ke=Me.gb;if(e(b!=null),e(it!=null),e(Ke!=null),Ke[0]=0,12<=it[0]&&!n(b,ze[0],"RIFF")){if(n(b,ze[0]+8,"WEBP")){Ke=3;break e}var lt=Oe(b,ze[0]+4);if(12>lt||4294967286<lt){Ke=3;break e}if(ye&&lt>it[0]-8){Ke=7;break e}Ke[0]=lt,ze[0]+=12,it[0]-=12}Ke=0}if(Ke!=0)return Ke;for(lt=0<Me.gb[0],R=R[0];;){e:{var At=b;it=I,Ke=R;var Nt=ve,Ct=ke,vn=ze=[0];if((dn=Ge=[Ge])[0]=0,8>Ke[0])Ke=7;else{if(!n(At,it[0],"VP8X")){if(Oe(At,it[0]+4)!=10){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var on=Oe(At,it[0]+8),$n=1+Ve(At,it[0]+12);if(2147483648<=$n*(At=1+Ve(At,it[0]+15))){Ke=3;break e}vn!=null&&(vn[0]=on),Nt!=null&&(Nt[0]=$n),Ct!=null&&(Ct[0]=At),it[0]+=18,Ke[0]-=18,dn[0]=1}Ke=0}}if(Ge=Ge[0],ze=ze[0],Ke!=0)return Ke;if(it=!!(2&ze),!lt&&Ge)return 3;if(ie!=null&&(ie[0]=!!(16&ze)),oe!=null&&(oe[0]=it),ce!=null&&(ce[0]=0),oe=ve[0],ze=ke[0],Ge&&it&&de==null){Ke=0;break}if(4>R){Ke=7;break}if(lt&&Ge||!lt&&!Ge&&!n(b,I[0],"ALPH")){R=[R],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{on=b,Ke=I,lt=R;var dn=Me.gb;Nt=Me.na,Ct=Me.P,vn=Me.Sa,$n=22,e(on!=null),e(lt!=null),At=Ke[0];var cr=lt[0];for(e(Nt!=null),e(vn!=null),Nt[0]=null,Ct[0]=null,vn[0]=0;;){if(Ke[0]=At,lt[0]=cr,8>cr){Ke=7;break e}var Qa=Oe(on,At+4);if(4294967286<Qa){Ke=3;break e}var Kn=8+Qa+1&-2;if($n+=Kn,0<dn&&$n>dn){Ke=3;break e}if(!n(on,At,"VP8 ")||!n(on,At,"VP8L")){Ke=0;break e}if(cr[0]<Kn){Ke=7;break e}n(on,At,"ALPH")||(Nt[0]=on,Ct[0]=At+8,vn[0]=Qa),At+=Kn,cr-=Kn}}if(R=R[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ke!=0)break}R=[R],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(dn=b,Ke=I,lt=R,Nt=Me.gb[0],Ct=Me.Ja,vn=Me.xa,on=Ke[0],At=!n(dn,on,"VP8 "),$n=!n(dn,on,"VP8L"),e(dn!=null),e(lt!=null),e(Ct!=null),e(vn!=null),8>lt[0])Ke=7;else{if(At||$n){if(dn=Oe(dn,on+4),12<=Nt&&dn>Nt-12){Ke=3;break e}if(ye&&dn>lt[0]-8){Ke=7;break e}Ct[0]=dn,Ke[0]+=8,lt[0]-=8,vn[0]=$n}else vn[0]=5<=lt[0]&&dn[on+0]==47&&!(dn[on+4]>>5),Ct[0]=lt[0];Ke=0}if(R=R[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],I=I[0],Ke!=0)break;if(4294967286<Me.Ja)return 3;if(ce==null||it||(ce[0]=Me.xa?2:1),oe=[oe],ze=[ze],Me.xa){if(5>R){Ke=7;break}ce=oe,ye=ze,it=ie,b==null||5>R?b=0:5<=R&&b[I+0]==47&&!(b[I+4]>>5)?(lt=[0],dn=[0],Nt=[0],te(Ct=new $,b,I,R),Et(Ct,lt,dn,Nt)?(ce!=null&&(ce[0]=lt[0]),ye!=null&&(ye[0]=dn[0]),it!=null&&(it[0]=Nt[0]),b=1):b=0):b=0}else{if(10>R){Ke=7;break}ce=ze,b==null||10>R||!Vl(b,I+3,R-3)?b=0:(ye=b[I+0]|b[I+1]<<8|b[I+2]<<16,it=16383&(b[I+7]<<8|b[I+6]),b=16383&(b[I+9]<<8|b[I+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Me.Ja||!it||!b?b=0:(oe&&(oe[0]=it),ce&&(ce[0]=b),b=1))}if(!b||(oe=oe[0],ze=ze[0],Ge&&(ve[0]!=oe||ke[0]!=ze)))return 3;de!=null&&(de[0]=Me,de.offset=I-de.w,e(4294967286>I-de.w),e(de.offset==de.ha-R));break}return Ke==0||Ke==7&&Ge&&de==null?(ie!=null&&(ie[0]|=Me.na!=null&&0<Me.na.length),z!=null&&(z[0]=oe),Z!=null&&(Z[0]=ze),0):Ke}function kf(b,I,R){var z=I.width,Z=I.height,ie=0,oe=0,ce=z,de=Z;if(I.Da=b!=null&&0<b.Da,I.Da&&(ce=b.cd,de=b.bd,ie=b.v,oe=b.j,11>R||(ie&=-2,oe&=-2),0>ie||0>oe||0>=ce||0>=de||ie+ce>z||oe+de>Z))return 0;if(I.v=ie,I.j=oe,I.va=ie+ce,I.o=oe+de,I.U=ce,I.T=de,I.da=b!=null&&0<b.da,I.da){if(!vt(ce,de,R=[b.ib],ie=[b.hb]))return 0;I.ib=R[0],I.hb=ie[0]}return I.ob=b!=null&&b.ob,I.Kb=b==null||!b.Sd,I.da&&(I.ob=I.ib<3*z/4&&I.hb<3*Z/4,I.Kb=0),1}function Pf(b){if(b==null)return 2;if(11>b.S){var I=b.f.RGBA;I.fb+=(b.height-1)*I.A,I.A=-I.A}else I=b.f.kb,b=b.height,I.O+=(b-1)*I.fa,I.fa=-I.fa,I.N+=(b-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(b-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(b-1)*I.lb,I.lb=-I.lb);return 0}function ll(b,I,R,z){if(z==null||0>=b||0>=I)return 2;if(R!=null){if(R.Da){var Z=R.cd,ie=R.bd,oe=-2&R.v,ce=-2&R.j;if(0>oe||0>ce||0>=Z||0>=ie||oe+Z>b||ce+ie>I)return 2;b=Z,I=ie}if(R.da){if(!vt(b,I,Z=[R.ib],ie=[R.hb]))return 2;b=Z[0],I=ie[0]}}z.width=b,z.height=I;e:{var de=z.width,ve=z.height;if(b=z.S,0>=de||0>=ve||!(b>=Dx&&13>b))b=2;else{if(0>=z.Rd&&z.sd==null){oe=ie=Z=I=0;var ke=(ce=de*VF[b])*ve;if(11>b||(ie=(ve+1)/2*(I=(de+1)/2),b==12&&(oe=(Z=de)*ve)),(ve=a(ke+2*ie+oe))==null){b=1;break e}z.sd=ve,11>b?((de=z.f.RGBA).eb=ve,de.fb=0,de.A=ce,de.size=ke):((de=z.f.kb).y=ve,de.O=0,de.fa=ce,de.Fd=ke,de.f=ve,de.N=0+ke,de.Ab=I,de.Cd=ie,de.ea=ve,de.W=0+ke+ie,de.Db=I,de.Ed=ie,b==12&&(de.F=ve,de.J=0+ke+2*ie),de.Tc=oe,de.lb=Z)}if(I=1,Z=z.S,ie=z.width,oe=z.height,Z>=Dx&&13>Z)if(11>Z)b=z.f.RGBA,I&=(ce=Math.abs(b.A))*(oe-1)+ie<=b.size,I&=ce>=ie*VF[Z],I&=b.eb!=null;else{b=z.f.kb,ce=(ie+1)/2,ke=(oe+1)/2,de=Math.abs(b.fa),ve=Math.abs(b.Ab);var Ge=Math.abs(b.Db),ye=Math.abs(b.lb),Me=ye*(oe-1)+ie;I&=de*(oe-1)+ie<=b.Fd,I&=ve*(ke-1)+ce<=b.Cd,I=(I&=Ge*(ke-1)+ce<=b.Ed)&de>=ie&ve>=ce&Ge>=ce,I&=b.y!=null,I&=b.f!=null,I&=b.ea!=null,Z==12&&(I&=ye>=ie,I&=Me<=b.Tc,I&=b.F!=null)}else I=0;b=I?0:2}}return b!=0||R!=null&&R.fd&&(b=Pf(z)),b}var ms=64,lr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ns=24,oa=32,Ic=8,Xl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(b){return b},j.Predictor2=function(b,I,R){return I[R+0]},j.Predictor3=function(b,I,R){return I[R+1]},j.Predictor4=function(b,I,R){return I[R-1]},j.Predictor5=function(b,I,R){return jt(jt(b,I[R+1]),I[R+0])},j.Predictor6=function(b,I,R){return jt(b,I[R-1])},j.Predictor7=function(b,I,R){return jt(b,I[R+0])},j.Predictor8=function(b,I,R){return jt(I[R-1],I[R+0])},j.Predictor9=function(b,I,R){return jt(I[R+0],I[R+1])},j.Predictor10=function(b,I,R){return jt(jt(b,I[R-1]),jt(I[R+0],I[R+1]))},j.Predictor11=function(b,I,R){var z=I[R+0];return 0>=Ut(z>>24&255,b>>24&255,(I=I[R-1])>>24&255)+Ut(z>>16&255,b>>16&255,I>>16&255)+Ut(z>>8&255,b>>8&255,I>>8&255)+Ut(255&z,255&b,255&I)?z:b},j.Predictor12=function(b,I,R){var z=I[R+0];return(Xt((b>>24&255)+(z>>24&255)-((I=I[R-1])>>24&255))<<24|Xt((b>>16&255)+(z>>16&255)-(I>>16&255))<<16|Xt((b>>8&255)+(z>>8&255)-(I>>8&255))<<8|Xt((255&b)+(255&z)-(255&I)))>>>0},j.Predictor13=function(b,I,R){var z=I[R-1];return(Zt((b=jt(b,I[R+0]))>>24&255,z>>24&255)<<24|Zt(b>>16&255,z>>16&255)<<16|Zt(b>>8&255,z>>8&255)<<8|Zt(255&b,255&z))>>>0};var nd=j.PredictorAdd0;j.PredictorAdd1=rn,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var jo=j.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var pi,Tc=j.ColorIndexInverseTransform,Ma=j.MapARGB,cl=j.VP8LColorIndexInverseTransformAlpha,C=j.MapAlpha,T=j.VP8LPredictorsAdd=[];T.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var U,V,G,re,pe,Ce,Ne,Te,Le,Ee,Ie,_e,je,De,Re,He,Xe,et,nt,_t,Lt,It,Ot,zt,Mt,$t,Fn,rr,Tn=a(511),mi=a(2041),jn=a(225),Ra=a(767),Ua=0,rd=mi,Sa=jn,la=Ra,Qs=Tn,Dx=0,Ox=1,PF=2,Fx=3,Lx=4,s_=5,DF=6,o_=7,l_=8,Mx=9,c_=10,Dae=[2,3,7],Oae=[3,3,11],OF=[280,256,256,256,40],Fae=[0,1,1,1,0],Lae=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mae=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rae=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Uae=8,u_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],A_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],j0=null,Qae=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hae=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],FF=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zae=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vae=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$ae=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Kae=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],id=[],kc=[],rA=[],Wae=1,LF=2,ad=[],Jl=[];sa("UpsampleRgbLinePair",ue,3),sa("UpsampleBgrLinePair",Qe,3),sa("UpsampleRgbaLinePair",zn,4),sa("UpsampleBgraLinePair",si,4),sa("UpsampleArgbLinePair",nr,4),sa("UpsampleRgba4444LinePair",Pt,2),sa("UpsampleRgb565LinePair",qe,2);var Gae=j.UpsampleRgbLinePair,qae=j.UpsampleBgrLinePair,MF=j.UpsampleRgbaLinePair,RF=j.UpsampleBgraLinePair,UF=j.UpsampleArgbLinePair,QF=j.UpsampleRgba4444LinePair,Yae=j.UpsampleRgb565LinePair,Rx=16,Ux=1<<Rx-1,I0=-227,d_=482,Xae=6,HF=0,Jae=a(256),Zae=a(256),ese=a(256),tse=a(256),nse=a(d_-I0),rse=a(d_-I0);Ur("YuvToRgbRow",ue,3),Ur("YuvToBgrRow",Qe,3),Ur("YuvToRgbaRow",zn,4),Ur("YuvToBgraRow",si,4),Ur("YuvToArgbRow",nr,4),Ur("YuvToRgba4444Row",Pt,2),Ur("YuvToRgb565Row",qe,2);var zF=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qx=[0,2,8],ise=[8,7,6,4,4,2,2,2,1,1,1,1],ase=1;this.WebPDecodeRGBA=function(b,I,R,z,Z){var ie=Ox,oe=new Ue,ce=new gn;oe.ba=ce,ce.S=ie,ce.width=[ce.width],ce.height=[ce.height];var de=ce.width,ve=ce.height,ke=new Kt;if(ke==null||b==null)var Ge=2;else e(ke!=null),Ge=ol(b,I,R,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Ge!=0?de=0:(de!=null&&(de[0]=ke.width[0]),ve!=null&&(ve[0]=ke.height[0]),de=1),de){ce.width=ce.width[0],ce.height=ce.height[0],z!=null&&(z[0]=ce.width),Z!=null&&(Z[0]=ce.height);e:{if(z=new Pn,(Z=new rt).data=b,Z.w=I,Z.ha=R,Z.kd=1,I=[0],e(Z!=null),((b=ol(Z.data,Z.w,Z.ha,null,null,null,I,null,Z))==0||b==7)&&I[0]&&(b=4),(I=b)==0){if(e(oe!=null),z.data=Z.data,z.w=Z.w+Z.offset,z.ha=Z.ha-Z.offset,z.put=Pe,z.ac=Fe,z.bc=We,z.ma=oe,Z.xa){if((b=Jr())==null){oe=1;break e}if(function(ye,Me){var ze=[0],it=[0],Ke=[0];t:for(;;){if(ye==null)return 0;if(Me==null)return ye.a=2,0;if(ye.l=Me,ye.a=0,te(ye.m,Me.data,Me.w,Me.ha),!Et(ye.m,ze,it,Ke)){ye.a=3;break t}if(ye.xb=LF,Me.width=ze[0],Me.height=it[0],!ba(ze[0],it[0],1,ye,null))break t;return 1}return e(ye.a!=0),0}(b,z)){if(z=(I=ll(z.width,z.height,oe.Oa,oe.ba))==0){t:{z=b;n:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((R=z.l)!=null),e((Z=R.ma)!=null),z.xb!=0){if(z.ca=Z.ba,z.tb=Z.tb,e(z.ca!=null),!kf(Z.Oa,R,Fx)){z.a=2;break n}if(!Oi(z,R.width)||R.da)break n;if((R.da||cn(z.ca.S))&&Tr(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Tr()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!fe(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!qn(z,z.V,z.Ba,z.c,z.i,R.o,Xr))break n;Z.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(I=b.a)}else I=b.a}else{if((b=new pu)==null){oe=1;break e}if(b.Fa=Z.na,b.P=Z.P,b.qc=Z.Sa,Ju(b,z)){if((I=ll(z.width,z.height,oe.Oa,oe.ba))==0){if(b.Aa=0,R=oe.Oa,e((Z=b)!=null),R!=null){if(0<(de=0>(de=R.Md)?0:100<de?255:255*de/100)){for(ve=ke=0;4>ve;++ve)12>(Ge=Z.pb[ve]).lc&&(Ge.ia=de*ise[0>Ge.lc?0:Ge.lc]>>3),ke|=Ge.ia;ke&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=R.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(ye,Me){if(ye==null)return 0;if(Me==null)return ii(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!Ju(ye,Me))return 0;if(e(ye.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(ye.L=0);var ze=Qx[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Me.v-ze>>4,ye.zb=Me.j-ze>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Me.o+15+ze>>4,ye.Hb=Me.va+15+ze>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var it=ye.ed;for(ze=0;4>ze;++ze){var Ke;if(ye.Qa.Cb){var lt=ye.Qa.Lb[ze];ye.Qa.Fb||(lt+=it.Tb)}else lt=it.Tb;for(Ke=0;1>=Ke;++Ke){var At=ye.gd[ze][Ke],Nt=lt;if(it.Pc&&(Nt+=it.vd[0],Ke&&(Nt+=it.od[0])),0<(Nt=0>Nt?0:63<Nt?63:Nt)){var Ct=Nt;0<it.wb&&(Ct=4<it.wb?Ct>>2:Ct>>1)>9-it.wb&&(Ct=9-it.wb),1>Ct&&(Ct=1),At.dd=Ct,At.tc=2*Nt+Ct,At.ld=40<=Nt?2:15<=Nt?1:0}else At.tc=0;At.La=Ke}}}ze=0}else ii(ye,6,"Frame setup failed"),ze=ye.a;if(ze=ze==0){if(ze){ye.$c=0,0<ye.Aa||(ye.Ic=ase);t:{ze=ye.Ic,it=4*(Ct=ye.za);var vn=32*Ct,on=Ct+1,$n=0<ye.L?Ct*(0<ye.Aa?2:1):0,dn=(ye.Aa==2?2:1)*Ct;if((At=it+832+(Ke=3*(16*ze+Qx[ye.L])/2*vn)+(lt=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=At)ze=0;else{if(At>ye.Vb){if(ye.Vb=0,ye.Ec=a(At),ye.Fc=0,ye.Ec==null){ze=ii(ye,1,"no memory during frame initialization.");break t}ye.Vb=At}At=ye.Ec,Nt=ye.Fc,ye.Ac=At,ye.Bc=Nt,Nt+=it,ye.Gd=s(vn,zl),ye.Hd=0,ye.rb=s(on+1,fs),ye.sb=1,ye.wa=$n?s($n,Fi):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=Ct),e(!0),ye.oc=At,ye.pc=Nt,Nt+=832,ye.ya=s(dn,lo),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=Ct),ye.R=16*Ct,ye.B=8*Ct,Ct=(vn=Qx[ye.L])*ye.R,vn=vn/2*ye.B,ye.sa=At,ye.ta=Nt+Ct,ye.qa=ye.sa,ye.ra=ye.ta+16*ze*ye.R+vn,ye.Ha=ye.qa,ye.Ia=ye.ra+8*ze*ye.B+vn,ye.$c=0,Nt+=Ke,ye.mb=lt?At:null,ye.nb=lt?Nt:null,e(Nt+lt<=ye.Fc+ye.Vb),Ds(ye),i(ye.Ac,ye.Bc,0,it),ze=1}}if(ze){if(Me.ka=0,Me.y=ye.sa,Me.O=ye.ta,Me.f=ye.qa,Me.N=ye.ra,Me.ea=ye.Ha,Me.Vd=ye.Ia,Me.fa=ye.R,Me.Rc=ye.B,Me.F=null,Me.J=0,!Ua){for(ze=-255;255>=ze;++ze)Tn[255+ze]=0>ze?-ze:ze;for(ze=-1020;1020>=ze;++ze)mi[1020+ze]=-128>ze?-128:127<ze?127:ze;for(ze=-112;112>=ze;++ze)jn[112+ze]=-16>ze?-16:15<ze?15:ze;for(ze=-255;510>=ze;++ze)Ra[255+ze]=0>ze?0:255<ze?255:ze;Ua=1}Ne=tl,Te=Cc,Ee=Sc,Ie=Yn,_e=co,Le=el,je=Yl,De=sl,Re=F,He=X,Xe=hs,et=mu,nt=me,_t=Be,Lt=Gl,It=ql,Ot=Us,zt=jc,kc[0]=Bc,kc[1]=Wn,kc[2]=aa,kc[3]=_c,kc[4]=eA,kc[5]=rl,kc[6]=Zr,kc[7]=Ms,kc[8]=No,kc[9]=$l,id[0]=Oa,id[1]=If,id[2]=Tf,id[3]=ra,id[4]=ia,id[5]=nl,id[6]=Ec,rA[0]=Wl,rA[1]=Zu,rA[2]=Kl,rA[3]=Fa,rA[4]=dr,rA[5]=tA,rA[6]=nA,ze=1}else ze=0}ze&&(ze=function(cr,Qa){for(cr.M=0;cr.M<cr.Va;++cr.M){var Kn,fn=cr.Jc[cr.M&cr.Xb],Ht=cr.m,ca=cr;for(Kn=0;Kn<ca.za;++Kn){var Qn=Ht,hr=ca,gi=hr.Ac,gs=hr.Bc+4*Kn,ho=hr.zc,Vi=hr.ya[hr.aa+Kn];if(hr.Qa.Bb?Vi.$b=ge(Qn,hr.Pa.jb[0])?2+ge(Qn,hr.Pa.jb[2]):ge(Qn,hr.Pa.jb[1]):Vi.$b=0,hr.kc&&(Vi.Ad=ge(Qn,hr.Bd)),Vi.Za=!ge(Qn,145)+0,Vi.Za){var Hs=Vi.Ob,po=0;for(hr=0;4>hr;++hr){var Ha,xr=ho[0+hr];for(Ha=0;4>Ha;++Ha){xr=Vae[gi[gs+Ha]][xr];for(var Qr=FF[ge(Qn,xr[0])];0<Qr;)Qr=FF[2*Qr+ge(Qn,xr[Qr])];xr=-Qr,gi[gs+Ha]=xr}r(Hs,po,gi,gs,4),po+=4,ho[0+hr]=xr}}else xr=ge(Qn,156)?ge(Qn,128)?1:3:ge(Qn,163)?2:0,Vi.Ob[0]=xr,i(gi,gs,xr,4),i(ho,0,xr,4);Vi.Dd=ge(Qn,142)?ge(Qn,114)?ge(Qn,183)?1:3:2:0}if(ca.m.Ka)return ii(cr,7,"Premature end-of-partition0 encountered.");for(;cr.ja<cr.za;++cr.ja){if(ca=fn,Qn=(Ht=cr).rb[Ht.sb-1],gi=Ht.rb[Ht.sb+Ht.ja],Kn=Ht.ya[Ht.aa+Ht.ja],gs=Ht.kc?Kn.Ad:0)Qn.la=gi.la=0,Kn.Za||(Qn.Na=gi.Na=0),Kn.Hc=0,Kn.Gc=0,Kn.ia=0;else{var $i,Hr;if(Qn=gi,gi=ca,gs=Ht.Pa.Xc,ho=Ht.ya[Ht.aa+Ht.ja],Vi=Ht.pb[ho.$b],hr=ho.ad,Hs=0,po=Ht.rb[Ht.sb-1],xr=Ha=0,i(hr,Hs,0,384),ho.Za)var vs=0,Pc=gs[3];else{Qr=a(16);var ua=Qn.Na+po.Na;if(ua=j0(gi,gs[1],ua,Vi.Eb,0,Qr,0),Qn.Na=po.Na=(0<ua)+0,1<ua)Ne(Qr,0,hr,Hs);else{var Io=Qr[0]+3>>3;for(Qr=0;256>Qr;Qr+=16)hr[Hs+Qr]=Io}vs=1,Pc=gs[0]}var ti=15&Qn.la,za=15&po.la;for(Qr=0;4>Qr;++Qr){var ul=1&za;for(Io=Hr=0;4>Io;++Io)ti=ti>>1|(ul=(ua=j0(gi,Pc,ua=ul+(1&ti),Vi.Sc,vs,hr,Hs))>vs)<<7,Hr=Hr<<2|(3<ua?3:1<ua?2:hr[Hs+0]!=0),Hs+=16;ti>>=4,za=za>>1|ul<<7,Ha=(Ha<<8|Hr)>>>0}for(Pc=ti,vs=za>>4,$i=0;4>$i;$i+=2){for(Hr=0,ti=Qn.la>>4+$i,za=po.la>>4+$i,Qr=0;2>Qr;++Qr){for(ul=1&za,Io=0;2>Io;++Io)ua=ul+(1&ti),ti=ti>>1|(ul=0<(ua=j0(gi,gs[2],ua,Vi.Qc,0,hr,Hs)))<<3,Hr=Hr<<2|(3<ua?3:1<ua?2:hr[Hs+0]!=0),Hs+=16;ti>>=2,za=za>>1|ul<<5}xr|=Hr<<4*$i,Pc|=ti<<4<<$i,vs|=(240&za)<<$i}Qn.la=Pc,po.la=vs,ho.Hc=Ha,ho.Gc=xr,ho.ia=43690&xr?0:Vi.ia,gs=!(Ha|xr)}if(0<Ht.L&&(Ht.wa[Ht.Y+Ht.ja]=Ht.gd[Kn.$b][Kn.Za],Ht.wa[Ht.Y+Ht.ja].La|=!gs),ca.Ka)return ii(cr,7,"Premature end-of-file encountered.")}if(Ds(cr),Ht=Qa,ca=1,Kn=(fn=cr).D,Qn=0<fn.L&&fn.M>=fn.zb&&fn.M<=fn.Va,fn.Aa==0)t:{if(Kn.M=fn.M,Kn.uc=Qn,Ca(fn,Kn),ca=1,Kn=(Hr=fn.D).Nb,Qn=(xr=Qx[fn.L])*fn.R,gi=xr/2*fn.B,Qr=16*Kn*fn.R,Io=8*Kn*fn.B,gs=fn.sa,ho=fn.ta-Qn+Qr,Vi=fn.qa,hr=fn.ra-gi+Io,Hs=fn.Ha,po=fn.Ia-gi+Io,za=(ti=Hr.M)==0,Ha=ti>=fn.Va-1,fn.Aa==2&&Ca(fn,Hr),Hr.uc)for(ul=(ua=fn).D.M,e(ua.D.uc),Hr=ua.yb;Hr<ua.Hb;++Hr){vs=Hr,Pc=ul;var mo=(Al=(ys=ua).D).Nb;$i=ys.R;var Al=Al.wa[Al.Y+vs],dl=ys.sa,To=ys.ta+16*mo*$i+16*vs,fl=Al.dd,oi=Al.tc;if(oi!=0)if(e(3<=oi),ys.L==1)0<vs&&It(dl,To,$i,oi+4),Al.La&&zt(dl,To,$i,oi),0<Pc&&Lt(dl,To,$i,oi+4),Al.La&&Ot(dl,To,$i,oi);else{var hl=ys.B,Dc=ys.qa,Df=ys.ra+8*mo*hl+8*vs,iA=ys.Ha,ys=ys.Ia+8*mo*hl+8*vs;mo=Al.ld,0<vs&&(De(dl,To,$i,oi+4,fl,mo),He(Dc,Df,iA,ys,hl,oi+4,fl,mo)),Al.La&&(et(dl,To,$i,oi,fl,mo),_t(Dc,Df,iA,ys,hl,oi,fl,mo)),0<Pc&&(je(dl,To,$i,oi+4,fl,mo),Re(Dc,Df,iA,ys,hl,oi+4,fl,mo)),Al.La&&(Xe(dl,To,$i,oi,fl,mo),nt(Dc,Df,iA,ys,hl,oi,fl,mo))}}if(fn.ia&&alert("todo:DitherRow"),Ht.put!=null){if(Hr=16*ti,ti=16*(ti+1),za?(Ht.y=fn.sa,Ht.O=fn.ta+Qr,Ht.f=fn.qa,Ht.N=fn.ra+Io,Ht.ea=fn.Ha,Ht.W=fn.Ia+Io):(Hr-=xr,Ht.y=gs,Ht.O=ho,Ht.f=Vi,Ht.N=hr,Ht.ea=Hs,Ht.W=po),Ha||(ti-=xr),ti>Ht.o&&(ti=Ht.o),Ht.F=null,Ht.J=null,fn.Fa!=null&&0<fn.Fa.length&&Hr<ti&&(Ht.J=Gr(fn,Ht,Hr,ti-Hr),Ht.F=fn.mb,Ht.F==null&&Ht.F.length==0)){ca=ii(fn,3,"Could not decode alpha data.");break t}Hr<Ht.j&&(xr=Ht.j-Hr,Hr=Ht.j,e(!(1&xr)),Ht.O+=fn.R*xr,Ht.N+=fn.B*(xr>>1),Ht.W+=fn.B*(xr>>1),Ht.F!=null&&(Ht.J+=Ht.width*xr)),Hr<ti&&(Ht.O+=Ht.v,Ht.N+=Ht.v>>1,Ht.W+=Ht.v>>1,Ht.F!=null&&(Ht.J+=Ht.v),Ht.ka=Hr-Ht.j,Ht.U=Ht.va-Ht.v,Ht.T=ti-Hr,ca=Ht.put(Ht))}Kn+1!=fn.Ic||Ha||(r(fn.sa,fn.ta-Qn,gs,ho+16*fn.R,Qn),r(fn.qa,fn.ra-gi,Vi,hr+8*fn.B,gi),r(fn.Ha,fn.Ia-gi,Hs,po+8*fn.B,gi))}if(!ca)return ii(cr,6,"Output aborted.")}return 1}(ye,Me)),Me.bc!=null&&Me.bc(Me),ze&=1}return ze?(ye.cb=0,ze):0})(b,z)||(I=b.a)}}else I=b.a}I==0&&oe.Oa!=null&&oe.Oa.fd&&(I=Pf(oe.ba))}oe=I}ie=oe!=0?null:11>ie?ce.f.RGBA.eb:ce.f.kb.y}else ie=null;return ie};var VF=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(j,D){for(var k="",O=0;O<4;O++)k+=String.fromCharCode(j[D++]);return k}function A(j,D){return j[D+0]|j[D+1]<<8}function d(j,D){return(j[D+0]|j[D+1]<<8|j[D+2]<<16)>>>0}function f(j,D){return(j[D+0]|j[D+1]<<8|j[D+2]<<16|j[D+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],v=new l,g=t,y=function(j,D){var k={},O=0,L=!1,H=0,q=0;if(k.frames=[],!function(M,$){for(var J=0;J<4;J++)if(M[$+J]!="RIFF".charCodeAt(J))return!0;return!1}(j,D)){for(f(j,D+=4),D+=8;D<j.length;){var Y=u(j,D),ee=f(j,D+=4);D+=4;var K=ee+(1&ee);switch(Y){case"VP8 ":case"VP8L":k.frames[O]===void 0&&(k.frames[O]={}),(se=k.frames[O]).src_off=L?q:D-8,se.src_size=H+ee+8,O++,L&&(L=!1,H=0,q=0);break;case"VP8X":(se=k.header={}).feature_flags=j[D];var te=D+4;se.canvas_width=1+d(j,te),te+=3,se.canvas_height=1+d(j,te),te+=3;break;case"ALPH":L=!0,H=K+8,q=D-8;break;case"ANIM":(se=k.header).bgcolor=f(j,D),te=D+4,se.loop_count=A(j,te),te+=2;break;case"ANMF":var le,se;(se=k.frames[O]={}).offset_x=2*d(j,D),D+=3,se.offset_y=2*d(j,D),D+=3,se.width=1+d(j,D),D+=3,se.height=1+d(j,D),D+=3,se.duration=d(j,D),D+=3,le=j[D++],se.dispose=1&le,se.blend=le>>1&1}Y!="ANMF"&&(D+=K)}return k}}(g,0);y.response=g,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,S=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],p=[x.canvas_width];for(var E=0;E<S.length&&S[E].blend!=0;E++);}var N=S[0],_=v.WebPDecodeRGBA(g,N.src_off,N.src_size,p,h);N.rgba=_,N.imgwidth=p[0],N.imgheight=h[0];for(var B=0;B<p[0]*h[0]*4;B++)m[B]=_[B];return this.width=p,this.height=h,this.data=m,this}(function(t){var e,n,r,i,a,s,o,l,u,A=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new A}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=M;Object.defineProperty(this,"pdf",{get:function(){return $}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Oe){J=!!Oe}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Oe){ne=!!Oe}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Oe){isNaN(Oe)||(he=Oe)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Oe){isNaN(Oe)||(we=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Oe){var fe;typeof Oe=="number"?fe=[Oe,Oe,Oe,Oe]:((fe=new Array(4))[0]=Oe[0],fe[1]=Oe.length>=2?Oe[1]:fe[0],fe[2]=Oe.length>=3?Oe[2]:fe[0],fe[3]=Oe.length>=4?Oe[3]:fe[1]),u.margin=fe}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Oe){Se=Oe}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(Oe){Ae=Oe}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Oe){ge=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Oe){Oe instanceof A&&(u=Oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Oe){u.path=Oe}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Oe){xe=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var fe;fe=f(Oe),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var fe=f(Oe);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var ae=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Oe){ae=null,Ve=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var fe;if(this.ctx.font=Oe,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var $e=fe[1];fe[2];var ft=fe[3],vt=fe[4];fe[5];var Ye=fe[6],Dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(vt)[2];vt=Math.floor(Dt==="px"?parseFloat(vt)*this.pdf.internal.scaleFactor:Dt==="em"?parseFloat(vt)*this.pdf.getFontSize():parseFloat(vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(vt);var pt=function(yt){var tt,Qt,dt=[],mt=yt.trim();if(mt==="")return AN;if(mt in CV)return[CV[mt]];for(;mt!=="";){switch(Qt=null,tt=(mt=EV(mt)).charAt(0)){case'"':case"'":Qt=sst(mt.substring(1),tt);break;default:Qt=ost(mt)}if(Qt===null||(dt.push(Qt[0]),(mt=EV(Qt[1]))!==""&&mt.charAt(0)!==","))return AN;mt=mt.replace(/^,/,"")}return dt}(Ye);if(this.fontFaces){var ct=function(yt,tt){if(ae===null){var Qt=function(dt){var mt=[];return Object.keys(dt).forEach(function(Ft){dt[Ft].forEach(function(St){var Vt=null;switch(St){case"bold":Vt={family:Ft,weight:"bold"};break;case"italic":Vt={family:Ft,style:"italic"};break;case"bolditalic":Vt={family:Ft,weight:"bold",style:"italic"};break;case"":case"normal":Vt={family:Ft}}Vt!==null&&(Vt.ref={name:Ft,style:St},mt.push(Vt))})}),mt}(yt.getFontList());ae=function(dt){for(var mt={},Ft=0;Ft<dt.length;++Ft){var St=uN(dt[Ft]),Vt=St.family,hn=St.stretch,cn=St.style,wt=St.weight;mt[Vt]=mt[Vt]||{},mt[Vt][hn]=mt[Vt][hn]||{},mt[Vt][hn][cn]=mt[Vt][hn][cn]||{},mt[Vt][hn][cn][wt]=St}return mt}(Qt.concat(tt))}return ae}(this.pdf,this.fontFaces),jt=pt.map(function(yt){return{family:yt,stretch:"normal",weight:ft,style:$e}}),Xt=function(yt,tt,Qt){for(var dt=(Qt=Qt||{}).defaultFontFamily||"times",mt=Object.assign({},ast,Qt.genericFontFamilies||{}),Ft=null,St=null,Vt=0;Vt<tt.length;++Vt)if(mt[(Ft=uN(tt[Vt])).family]&&(Ft.family=mt[Ft.family]),yt.hasOwnProperty(Ft.family)){St=yt[Ft.family];break}if(!(St=St||yt[dt]))throw new Error("Could not find a font-family for the rule '"+SV(Ft)+"' and default family '"+dt+"'.");if(St=function(hn,cn){if(cn[hn])return cn[hn];var wt=kk[hn],Zn=wt<=kk.normal?-1:1,gn=wV(cn,dae,wt,Zn);if(!gn)throw new Error("Could not find a matching font-stretch value for "+hn);return gn}(Ft.stretch,St),St=function(hn,cn){if(cn[hn])return cn[hn];for(var wt=Aae[hn],Zn=0;Zn<wt.length;++Zn)if(cn[wt[Zn]])return cn[wt[Zn]];throw new Error("Could not find a matching font-style for "+hn)}(Ft.style,St),!(St=function(hn,cn){if(cn[hn])return cn[hn];if(hn===400&&cn[500])return cn[500];if(hn===500&&cn[400])return cn[400];var wt=ist[hn],Zn=wV(cn,fae,wt,hn<400?-1:1);if(!Zn)throw new Error("Could not find a matching font-weight for value "+hn);return Zn}(Ft.weight,St)))throw new Error("Failed to resolve a font for the rule '"+SV(Ft)+"'.");return St}(ct,jt);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var Zt="";(ft==="bold"||parseInt(ft,10)>=700||$e==="bold")&&(Zt="bold"),$e==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var Ut="",rn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<pt.length;st++){if(this.pdf.internal.getFont(pt[st],Zt,{noFallback:!0,disableWarning:!0})!==void 0){Ut=pt[st];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(pt[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=pt[st],Zt="bold";else if(this.pdf.internal.getFont(pt[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=pt[st],Zt="normal";break}}if(Ut===""){for(var bt=0;bt<pt.length;bt++)if(rn[pt[bt]]){Ut=rn[pt[bt]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){S.call(this,"fill",!1)},d.prototype.stroke=function(){S.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,$){if(isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(M,$)},d.prototype.closePath=function(){var M=new s(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Vr(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){M=new s(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},d.prototype.lineTo=function(M,$){if(isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,$,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new s(J,ne)),we=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"qct",x1:we.x,y1:we.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},d.prototype.bezierCurveTo=function(M,$,J,ne,he,we){if(isNaN(he)||isNaN(we)||isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new s(he,we)),Ae=this.ctx.transform.applyToPoint(new s(M,$)),ge=this.ctx.transform.applyToPoint(new s(J,ne));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:ge.x,y2:ge.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new s(Se.x,Se.y)},d.prototype.arc=function(M,$,J,ne,he,we){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne)||isNaN(he))throw ni.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new s(M,$));M=Se.x,$=Se.y;var Ae=this.ctx.transform.applyToPoint(new s(0,J)),ge=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(Ae.x-ge.x,2)+Math.pow(Ae.y-ge.y,2))}Math.abs(he-ne)>=2*Math.PI&&(ne=0,he=2*Math.PI),this.path.push({type:"arc",x:M,y:$,radius:J,startAngle:ne,endAngle:he,counterclockwise:we})},d.prototype.arcTo=function(M,$,J,ne,he){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,$,J,ne){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,$),this.lineTo(M+J,$),this.lineTo(M+J,$+ne),this.lineTo(M,$+ne),this.lineTo(M,$),this.lineTo(M+J,$),this.lineTo(M,$)},d.prototype.fillRect=function(M,$,J,ne){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,$,J,ne),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},d.prototype.strokeRect=function(M,$,J,ne){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(M,$,J,ne),this.stroke())},d.prototype.clearRect=function(M,$,J,ne){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne))throw ni.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,$,J,ne))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage($),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage($),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(M){var $,J,ne,he;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))$=0,J=0,ne=0,he=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(we!==null)$=parseInt(we[1]),J=parseInt(we[2]),ne=parseInt(we[3]),he=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)$=parseInt(we[1]),J=parseInt(we[2]),ne=parseInt(we[3]),he=parseFloat(we[4]);else{if(he=1,typeof M=="string"&&M.charAt(0)!=="#"){var Se=new iae(M);M=Se.ok?Se.toHex():"#000000"}M.length===4?($=M.substring(1,2),$+=$,J=M.substring(2,3),J+=J,ne=M.substring(3,4),ne+=ne):($=M.substring(1,3),J=M.substring(3,5),ne=M.substring(5,7)),$=parseInt($,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:$,g:J,b:ne,a:he,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,$,J,ne){if(isNaN($)||isNaN(J)||typeof M!="string")throw ni.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var he=K(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:M,x:$,y:J,scale:we,angle:he,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(M,$,J,ne){if(isNaN($)||isNaN(J)||typeof M!="string")throw ni.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){ne=isNaN(ne)?void 0:ne;var he=K(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:M,x:$,y:J,scale:we,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(M){if(typeof M!="string")throw ni.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,J=this.pdf.internal.scaleFactor,ne=$.internal.getFontSize(),he=$.getStringUnitWidth(M)*ne/$.internal.scaleFactor;return new function(we){var Se=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:he*=Math.round(96*J/72*1e4)/1e4})},d.prototype.scale=function(M,$){if(isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(M,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.rotate=function(M){if(isNaN(M))throw ni.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.translate=function(M,$){if(isNaN(M)||isNaN($))throw ni.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,M,$);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.transform=function(M,$,J,ne,he,we){if(isNaN(M)||isNaN($)||isNaN(J)||isNaN(ne)||isNaN(he)||isNaN(we))throw ni.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new l(M,$,J,ne,he,we);this.ctx.transform=this.ctx.transform.multiply(Se)},d.prototype.setTransform=function(M,$,J,ne,he,we){M=isNaN(M)?1:M,$=isNaN($)?0:$,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,he=isNaN(he)?0:he,we=isNaN(we)?0:we,this.ctx.transform=new l(M,$,J,ne,he,we)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,$,J,ne,he,we,Se,Ae,ge){var xe=this.pdf.getImageProperties(M),ae=1,Ve=1,Oe=1,fe=1;ne!==void 0&&Ae!==void 0&&(Oe=Ae/ne,fe=ge/he,ae=xe.width/ne*Ae/ne,Ve=xe.height/he*ge/he),we===void 0&&(we=$,Se=J,$=0,J=0),ne!==void 0&&Ae===void 0&&(Ae=ne,ge=he),ne===void 0&&Ae===void 0&&(Ae=xe.width,ge=xe.height);for(var $e,ft=this.ctx.transform.decompose(),vt=K(ft.rotate.shx),Ye=new l,Dt=(Ye=(Ye=(Ye=Ye.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new o(we-$*Oe,Se-J*fe,ne*ae,he*Ve)),pt=v.call(this,Dt),ct=[],jt=0;jt<pt.length;jt+=1)ct.indexOf(pt[jt])===-1&&ct.push(pt[jt]);if(x(ct),this.autoPaging)for(var Xt=ct[0],Zt=ct[ct.length-1],Ut=Xt;Ut<Zt+1;Ut++){this.pdf.setPage(Ut);var rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Ut===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ut===1?0:bt+(Ut-2)*yt;if(this.ctx.clip_path.length!==0){var Qt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y($e,this.posX+this.margin[3],-tt+st+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=Qt}var dt=JSON.parse(JSON.stringify(Dt));dt=y([dt],this.posX+this.margin[3],-tt+st+this.ctx.prevPageLastElemOffset)[0];var mt=(Ut>Xt||Ut<Zt)&&m.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,yt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,vt),mt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,vt)};var v=function(M,$,J){var ne=[];$=$||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+he)/J)+1);break;case"arc":ne.push(Math.floor((M.y+he-M.radius)/J)+1),ne.push(Math.floor((M.y+he+M.radius)/J)+1);break;case"qct":var we=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((we.y+he)/J)+1),ne.push(Math.floor((we.y+we.h+he)/J)+1);break;case"bct":var Se=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((Se.y+he)/J)+1),ne.push(Math.floor((Se.y+Se.h+he)/J)+1);break;case"rect":ne.push(Math.floor((M.y+he)/J)+1),ne.push(Math.floor((M.y+M.h+he)/J)+1)}for(var Ae=0;Ae<ne.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ae];)g.call(this);return ne},g=function(){var M=this.fillStyle,$=this.strokeStyle,J=this.font,ne=this.lineCap,he=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=$,this.font=J,this.lineCap=ne,this.lineWidth=he,this.lineJoin=we},y=function(M,$,J){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=$,M[ne].y2+=J;case"qct":M[ne].x1+=$,M[ne].y1+=J;default:M[ne].x+=$,M[ne].y+=J}return M},x=function(M){return M.sort(function($,J){return $-J})},S=function(M,$){for(var J,ne,he=this.fillStyle,we=this.strokeStyle,Se=this.lineCap,Ae=this.lineWidth,ge=Math.abs(Ae*this.ctx.transform.scaleX),xe=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),Oe=[],fe=0;fe<Ve.length;fe++)if(Ve[fe].x!==void 0)for(var $e=v.call(this,Ve[fe]),ft=0;ft<$e.length;ft+=1)Oe.indexOf($e[ft])===-1&&Oe.push($e[ft]);for(var vt=0;vt<Oe.length;vt++)for(;this.pdf.internal.getNumberOfPages()<Oe[vt];)g.call(this);if(x(Oe),this.autoPaging)for(var Ye=Oe[0],Dt=Oe[Oe.length-1],pt=Ye;pt<Dt+1;pt++){this.pdf.setPage(pt),this.fillStyle=he,this.strokeStyle=we,this.lineCap=Se,this.lineWidth=ge,this.lineJoin=xe;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=pt===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=pt===1?0:Xt+(pt-2)*Zt;if(this.ctx.clip_path.length!==0){var rn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(J,this.posX+this.margin[3],-Ut+jt+this.ctx.prevPageLastElemOffset),E.call(this,M,!0),this.path=rn}if(ne=JSON.parse(JSON.stringify(ae)),this.path=y(ne,this.posX+this.margin[3],-Ut+jt+this.ctx.prevPageLastElemOffset),$===!1||pt===0){var st=(pt>Ye||pt<Dt)&&m.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Zt,null).clip().discardPath()),E.call(this,M,$),st&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=ge,E.call(this,M,$),this.lineWidth=Ae;this.path=ae},E=function(M,$){if((M!=="stroke"||$||!p.call(this))&&(M==="stroke"||$||!h.call(this))){for(var J,ne,he=[],we=this.path,Se=0;Se<we.length;Se++){var Ae=we[Se];switch(Ae.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Ae,deltas:[],abs:[]});break;case"lt":var ge=he.length;if(we[Se-1]&&!isNaN(we[Se-1].x)&&(J=[Ae.x-we[Se-1].x,Ae.y-we[Se-1].y],ge>0)){for(;ge>=0;ge--)if(he[ge-1].close!==!0&&he[ge-1].begin!==!0){he[ge-1].deltas.push(J),he[ge-1].abs.push(Ae);break}}break;case"bct":J=[Ae.x1-we[Se-1].x,Ae.y1-we[Se-1].y,Ae.x2-we[Se-1].x,Ae.y2-we[Se-1].y,Ae.x-we[Se-1].x,Ae.y-we[Se-1].y],he[he.length-1].deltas.push(J);break;case"qct":var xe=we[Se-1].x+2/3*(Ae.x1-we[Se-1].x),ae=we[Se-1].y+2/3*(Ae.y1-we[Se-1].y),Ve=Ae.x+2/3*(Ae.x1-Ae.x),Oe=Ae.y+2/3*(Ae.y1-Ae.y),fe=Ae.x,$e=Ae.y;J=[xe-we[Se-1].x,ae-we[Se-1].y,Ve-we[Se-1].x,Oe-we[Se-1].y,fe-we[Se-1].x,$e-we[Se-1].y],he[he.length-1].deltas.push(J);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Ae)}}ne=$?null:M==="stroke"?"stroke":"fill";for(var ft=!1,vt=0;vt<he.length;vt++)if(he[vt].arc)for(var Ye=he[vt].abs,Dt=0;Dt<Ye.length;Dt++){var pt=Ye[Dt];pt.type==="arc"?B.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,$,!ft):L.call(this,pt.x,pt.y),ft=!0}else if(he[vt].close===!0)this.pdf.internal.out("h"),ft=!1;else if(he[vt].begin!==!0){var ct=he[vt].start.x,jt=he[vt].start.y;H.call(this,he[vt].deltas,ct,jt),ft=!0}ne&&j.call(this,ne),$&&D.call(this)}},N=function(M){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-J;case"top":return M+$-J;case"hanging":return M+$-2*J;case"middle":return M+$/2-J;default:return M}},_=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function($,J){this.colorStops.push([$,J])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(M,$,J,ne,he,we,Se,Ae,ge){for(var xe=Y.call(this,J,ne,he,we),ae=0;ae<xe.length;ae++){var Ve=xe[ae];ae===0&&(ge?k.call(this,Ve.x1+M,Ve.y1+$):L.call(this,Ve.x1+M,Ve.y1+$)),q.call(this,M,$,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}Ae?D.call(this):j.call(this,Se)},j=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(M,$){this.pdf.internal.out(n(M)+" "+r($)+" m")},O=function(M){var $;switch(M.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var J=this.pdf.getTextDimensions(M.text),ne=N.call(this,M.y),he=_.call(this,ne)-J.h,we=this.ctx.transform.applyToPoint(new s(M.x,ne)),Se=this.ctx.transform.decompose(),Ae=new l;Ae=(Ae=(Ae=Ae.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var ge,xe,ae,Ve=this.ctx.transform.applyToRectangle(new o(M.x,ne,J.w,J.h)),Oe=Ae.applyToRectangle(new o(M.x,he,J.w,J.h)),fe=v.call(this,Oe),$e=[],ft=0;ft<fe.length;ft+=1)$e.indexOf(fe[ft])===-1&&$e.push(fe[ft]);if(x($e),this.autoPaging)for(var vt=$e[0],Ye=$e[$e.length-1],Dt=vt;Dt<Ye+1;Dt++){this.pdf.setPage(Dt);var pt=Dt===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[2],Xt=jt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Ut=Zt-this.margin[3],rn=Dt===1?0:ct+(Dt-2)*Xt;if(this.ctx.clip_path.length!==0){var st=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ge,this.posX+this.margin[3],-1*rn+pt),E.call(this,"fill",!0),this.path=st}var bt=y([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-rn+pt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*M.scale),ae=this.lineWidth,this.lineWidth=ae*M.scale);var yt=this.autoPaging!=="text";if(yt||bt.y+bt.h<=jt){if(yt||bt.y>=pt&&bt.x<=Zt){var tt=yt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Zt-bt.x)[0],Qt=y([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-rn+pt+this.ctx.prevPageLastElemOffset)[0],dt=yt&&(Dt>vt||Dt<Ye)&&m.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Xt,null).clip().discardPath()),this.pdf.text(tt,Qt.x,Qt.y,{angle:M.angle,align:$,renderingMode:M.renderingMode}),dt&&this.pdf.restoreGraphicsState()}}else bt.y<jt&&(this.ctx.prevPageLastElemOffset+=jt-bt.y);M.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ae)}else M.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*M.scale),ae=this.lineWidth,this.lineWidth=ae*M.scale),this.pdf.text(M.text,we.x+this.posX,we.y+this.posY,{angle:M.angle,align:$,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ae)},L=function(M,$,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(n(M+J)+" "+r($+ne)+" l")},H=function(M,$,J){return this.pdf.lines(M,$,J,null,null)},q=function(M,$,J,ne,he,we,Se,Ae){this.pdf.internal.out([e(i(J+M)),e(a(ne+$)),e(i(he+M)),e(a(we+$)),e(i(Se+M)),e(a(Ae+$)),"c"].join(" "))},Y=function(M,$,J,ne){for(var he=2*Math.PI,we=Math.PI/2;$>J;)$-=he;var Se=Math.abs(J-$);Se<he&&ne&&(Se=he-Se);for(var Ae=[],ge=ne?-1:1,xe=$;Se>1e-5;){var ae=xe+ge*Math.min(Se,we);Ae.push(ee.call(this,M,xe,ae)),Se-=Math.abs(ae-xe),xe=ae}return Ae},ee=function(M,$,J){var ne=(J-$)/2,he=M*Math.cos(ne),we=M*Math.sin(ne),Se=he,Ae=-we,ge=Se*Se+Ae*Ae,xe=ge+Se*he+Ae*we,ae=4/3*(Math.sqrt(2*ge*xe)-xe)/(Se*we-Ae*he),Ve=Se-ae*Ae,Oe=Ae+ae*Se,fe=Ve,$e=-Oe,ft=ne+$,vt=Math.cos(ft),Ye=Math.sin(ft);return{x1:M*Math.cos($),y1:M*Math.sin($),x2:Ve*vt-Oe*Ye,y2:Ve*Ye+Oe*vt,x3:fe*vt-$e*Ye,y3:fe*Ye+$e*vt,x4:M*Math.cos(J),y4:M*Math.sin(J)}},K=function(M){return 180*M/Math.PI},te=function(M,$,J,ne,he,we){var Se=M+.5*(J-M),Ae=$+.5*(ne-$),ge=he+.5*(J-he),xe=we+.5*(ne-we),ae=Math.min(M,he,Se,ge),Ve=Math.max(M,he,Se,ge),Oe=Math.min($,we,Ae,xe),fe=Math.max($,we,Ae,xe);return new o(ae,Oe,Ve-ae,fe-Oe)},le=function(M,$,J,ne,he,we,Se,Ae){var ge,xe,ae,Ve,Oe,fe,$e,ft,vt,Ye,Dt,pt,ct,jt,Xt=J-M,Zt=ne-$,Ut=he-J,rn=we-ne,st=Se-he,bt=Ae-we;for(xe=0;xe<41;xe++)vt=($e=(ae=M+(ge=xe/40)*Xt)+ge*((Oe=J+ge*Ut)-ae))+ge*(Oe+ge*(he+ge*st-Oe)-$e),Ye=(ft=(Ve=$+ge*Zt)+ge*((fe=ne+ge*rn)-Ve))+ge*(fe+ge*(we+ge*bt-fe)-ft),xe==0?(Dt=vt,pt=Ye,ct=vt,jt=Ye):(Dt=Math.min(Dt,vt),pt=Math.min(pt,Ye),ct=Math.max(ct,vt),jt=Math.max(jt,Ye));return new o(Math.round(Dt),Math.round(pt),Math.round(ct-Dt),Math.round(jt-pt))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,$,J=(M=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:$}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(mn.API),function(t){var e=function(s){var o,l,u,A,d,f,h,p,m,v;for(l=[],u=0,A=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;A>u;u+=4)(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(f=(d=((d=((d=((d=(d-(v=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,m+33,v+33)):l.push(122);return function(g,y){for(var x=y;x>0;x--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,u,A,d,f=String,h="length",p=255,m="charCodeAt",v="slice",g="replace";for(s[v](-2),s=s[v](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],A=0,d=(s+=o="uuuuu"[v](s[h]%5||5))[h];d>A;A+=5)l=52200625*(s[m](A)-33)+614125*(s[m](A+1)-33)+7225*(s[m](A+2)-33)+85*(s[m](A+3)-33)+(s[m](A+4)-33),u.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,x){for(var S=x;S>0;S--)y.pop()}(u,o[h]),f.fromCharCode.apply(f,u)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=Ek(o)).reduce(function(u,A){return u+String.fromCharCode(A)},"")};t.processDataByFilters=function(s,o){var l=0,u=s||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:A.reverse().join(" ")}}}(mn.API),function(t){t.loadFile=function(e,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,A){var d=new XMLHttpRequest,f=0,h=function(p){var m=p.length,v=[],g=String.fromCharCode;for(f=0;f<m;f+=1)v.push(g(255&p.charCodeAt(f)));return v.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?A(h(this.responseText)):A(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)}(i,a,s)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(mn.API),function(t){function e(){return(kn.html2canvas?Promise.resolve(kn.html2canvas):K4(()=>Promise.resolve().then(()=>Trt),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(kn.DOMPurify?Promise.resolve(kn.DOMPurify):K4(()=>import("./purify.es-B6FQ9oRL.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Vr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var A in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[A]=l.style[A];return u},a=function o(l,u){for(var A=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||A.appendChild(o(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(A.width=l.width,A.height=l.height,A.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(A.value=l.value),A.addEventListener("load",function(){A.scrollTop=l.scrollTop,A.scrollLeft=l.scrollLeft},!0)),A},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),u);return(A=A.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,A=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=A,A)for(var h=0;h<A.length;++h){var p=A[h],m=p.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,u.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,A){return Math.floor(u*A/72*96)}return this.then(function(){(o=o||mn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,A){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,A){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,A?this.progress.stack.concat(A):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(A,d){return u.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(f){return u.updateProgress(null,A),f}).then(A,d).then(function(f){return u.updateProgress(1),f})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var A=this;o&&(o=o.bind(A)),l&&(l=l.bind(A));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:s.convert(Object.assign({},A),Promise.prototype),f=u.call(d,o,l);return s.convert(f,A.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,mn.getPageSize=function(o,l,u){if(Vr(o)==="object"){var A=o;o=A.orientation,l=A.unit||l,u=A.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,v=0;if(h.hasOwnProperty(f))m=h[f][1]/d,v=h[f][0]/d;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",v>m&&(p=v,v=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>v&&(p=v,v=m,m=p)}return{width:v,height:m,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(uN):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(mn.API),mn.API.addJS=function(t){return BV=t,this.internal.events.subscribe("postPutResources",function(){Ew=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ew+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_V=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+BV+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ew!==void 0&&_V!==void 0&&this.internal.out("/Names <</JavaScript "+Ew+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,A=[];for(a=0;a<u;a++){var d=n.internal.newObject();A.push(d);var f=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<A.length;a++)n.internal.write("(page_"+(a+1)+")"+A[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(mn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,u=this.decode.DCT_DECODE,A=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,m={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=h,e.indexOf(d.charCodeAt(v+1))!==-1){f=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:f,numcomponents:d.charCodeAt(v+9)};break}h=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}A={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return A}}(mn.API),mn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=Vat(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,A=a.depth;i=u&&l===1?function(B){for(var j=B.width,D=B.height,k=B.data,O=B.palette,L=B.depth,H=!1,q=[],Y=[],ee=void 0,K=!1,te=0,le=0;le<O.length;le++){var se=T9(O[le],4),M=se[0],$=se[1],J=se[2],ne=se[3];q.push(M,$,J),ne!=null&&(ne===0?(te++,Y.length<1&&Y.push(le)):ne<255&&(K=!0))}if(K||te>1){H=!0,Y=void 0;var he=j*D;ee=new Uint8Array(he);for(var we=new DataView(k.buffer),Se=0;Se<he;Se++){var Ae=dN(we,Se,L),ge=T9(O[Ae],4)[3];ee[Se]=ge}}else te===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:k,alphaBytes:ee,needSMask:H,palette:q,mask:Y}}(a):l===2||l===4?function(B){for(var j=B.data,D=B.width,k=B.height,O=B.channels,L=B.depth,H=O===2?"DeviceGray":"DeviceRGB",q=O-1,Y=D*k,ee=q,K=Y*ee,te=1*Y,le=Math.ceil(K*L/8),se=Math.ceil(te*L/8),M=new Uint8Array(le),$=new Uint8Array(se),J=new DataView(j.buffer),ne=new DataView(M.buffer),he=new DataView($.buffer),we=!1,Se=0;Se<Y;Se++){for(var Ae=Se*O,ge=0;ge<ee;ge++)FV(ne,dN(J,Ae+ge,L),Se*ee+ge,L);var xe=dN(J,Ae+ee,L);xe<(1<<L)-1&&(we=!0),FV(he,xe,1*Se,L)}return{colorSpace:H,colorsPerPixel:q,sMaskBitsPerComponent:we?L:void 0,colorBytes:M,alphaBytes:$,needSMask:we}}(a):function(B){var j=B.data,D=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:j instanceof Uint16Array?function(k){for(var O=k.length,L=new Uint8Array(2*O),H=new DataView(L.buffer,L.byteOffset,L.byteLength),q=0;q<O;q++)H.setUint16(2*q,k[q],!1);return L}(j):j,needSMask:!1}}(a);var d,f,h,p=i,m=p.colorSpace,v=p.colorsPerPixel,g=p.sMaskBitsPerComponent,y=p.colorBytes,x=p.alphaBytes,S=p.needSMask,E=p.palette,N=p.mask,_=null;return r!==mn.API.image_compression.NONE&&typeof Ek=="function"?(_=function(B){var j;switch(B){case mn.API.image_compression.FAST:j=11;break;case mn.API.image_compression.MEDIUM:j=13;break;case mn.API.image_compression.SLOW:j=14;break;default:j=12}return j}(r),d=this.decode.FLATE_DECODE,f="/Predictor ".concat(_," /Colors ").concat(v," /BitsPerComponent ").concat(A," /Columns ").concat(s),t=TV(y,Math.ceil(s*v*A/8),v,A,r),S&&(h=TV(x,Math.ceil(s*g/8),1,g,r))):(d=void 0,f=void 0,t=y,S&&(h=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:d,decodeParameters:f,transparency:N,palette:E,sMask:h,predictor:_,width:s,height:o,bitsPerComponent:A,sMaskBitsPerComponent:g,colorSpace:m}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new Ast(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},A=new fN(100).encode(u,100);return t.processJPEG.call(this,A,n,r,i)},t.processGIF87A=t.processGIF89A}(mn.API),Lc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ni.log("bit decode error:"+n)}},Lc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Lc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Lc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Lc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,A=r*this.width*4+4*i;this.data[A]=l,this.data[A+1]=o,this.data[A+2]=s,this.data[A+3]=u}this.pos+=t}},Lc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,A=i*this.width*4+4*a;this.data[A]=u,this.data[A+1]=l,this.data[A+2]=o,this.data[A+3]=255}this.pos+=t}},Lc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Lc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Lc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Lc(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new fN(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(mn.API),MV.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new MV(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new fN(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(mn.API),mn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var A=r[u],d=r[u+1],f=r[u+2],h=r[u+3];a[o++]=A,a[o++]=d,a[o++]=f,s[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},mn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zp=mn.API,_w=zp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,A=u.fof?u.fof:1,d=e.doKerning!==!1,f=0,h=t.length,p=0,m=o[0]||l,v=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(f=d&&Vr(u[r])==="object"&&!isNaN(parseInt(u[r][p],10))?u[r][p]/A:0,v.push((o[r]||m)/l+f)),p=r;return v},NV=zp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return zp.processArabic&&(t=zp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:_w.apply(this,arguments).reduce(function(a,s){return a+s},0)},jV=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},IV=function(t,e,n){n||(n={});var r,i,a,s,o,l,u,A=[],d=[A],f=n.textIndent||0,h=0,p=0,m=t.split(" "),v=_w.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),y=[];m.map(function(S){(S=S.split(/\s*\n/)).length>1?y=y.concat(S.map(function(E,N){return(N&&E.length?`
`:"")+E})):y.push(S[0])}),m=y,l=NV.apply(this,[g,n])}for(a=0,s=m.length;a<s;a++){var x=0;if(r=m[a],l&&r[0]==`
`&&(r=r.substr(1),x=1),f+h+(p=(i=_w.apply(this,[r,n])).reduce(function(S,E){return S+E},0))>e||x){if(p>e){for(o=jV.apply(this,[r,i,e-(f+h),e]),A.push(o.shift()),A=[o.pop()];o.length;)d.push([o.shift()]);p=i.slice(r.length-(A[0]?A[0].length:0)).reduce(function(S,E){return S+E},0)}else A=[r];d.push(A),f=p+l,h=v}else A.push(r),f+=h+p,h=v}return u=l?function(S,E){return(E?g:"")+S.join(" ")}:function(S){return S.join(" ")},d.map(u)},zp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var d=this.internal.getFont(A.fontName,A.fontStyle),f="Unicode";return d.metadata[f]?{widths:d.metadata[f].widths||{0:1},kerning:d.metadata[f].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(IV.apply(this,[r[o],s,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,p,m,v,g=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),v="-"):(m=s(h).slice(2),v=""),m=v+m.slice(0,-1)+i[m.slice(-1)];else{if(Vr(h)!=="object")throw new Error("Don't know what to do with value type "+Vr(h)+".");m=o(h)}g.push(p+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,v,g={},y=1,x=g,S=[],E="",N="",_=f.length-1,B=1;B<_;B+=1)(v=f[B])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(S.push([x,m]),x={},m=void 0):v=="}"?((p=S.pop())[0][p[1]]=x,m=void 0,x=p[0]):v=="-"?y=-1:m===void 0?r.hasOwnProperty(v)?(E+=r[v],m=parseInt(E,16)*y,y=1,E=""):E+=v:r.hasOwnProperty(v)?(N+=r[v],x[m]=parseInt(N,16)*y,y=1,m=void 0,N=""):N+=v;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=A.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(mn.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(u2(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(mn),mn.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw ni.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ni.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(kn.canvg?Promise.resolve(kn.canvg):K4(()=>import("./index.es-3qQ9u9Dl.js"),[],import.meta.url)).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(u,t,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(A)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},mn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},mn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,A=0,d=0;function f(p,m){var v,g=!1;for(v=0;v<p.length;v+=1)p[v]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(d=0;d<h;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Vr(t)==="object"){for(i in t)if(a=t[i],f(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&f(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(A=0;A<a[u].length;A+=1)typeof a[u][A]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?m.push("/"+p+" /"+n[p].value):m.push("/"+p+" "+n[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(mn.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],A=[""],d=0,f=a.length;d<f;++d){if(o=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return A.join("");o=o.toString(16),A.push(u[4-o.length],o)}return A.join("")},r=function(a){var s,o,l,u,A,d,f;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(o=Object.keys(a).sort(function(h,p){return h-p})).length;d<f;d++)s=o[d],l.length>=100&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(A+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,A=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();A({data:h,addLength1:!0,objectId:m}),l("endobj");var v=u();A({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var g=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+em(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+em(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+em(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,A=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=u();A({data:f,addLength1:!0,objectId:p}),l("endobj");var m=u();A({data:r(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+em(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+em(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,A=a.options||{},d=a.mutex||{},f=d.pdfEscape,h=d.activeFontKey,p=d.fonts,m=h,v="",g=0,y="",x=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:o,x:l,y:u,options:A,mutex:d};for(y=o,m=h,Array.isArray(o)&&(y=o[0]),g=0;g<y.length;g+=1)p[m].metadata.hasOwnProperty("cmap")&&(s=p[m].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),s||y[g].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?v+=y[g]:v+="";var S="";return parseInt(m.slice(1))<14||x==="WinAnsiEncoding"?S=f(v,m).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(S=n(v,p[m])),d.isHex=!0,{text:S,x:l,y:u,options:A,mutex:d}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(mn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(mn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,u,A,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,x=0;this.__bidiEngine__={};var S=function(k){var O=k.charCodeAt(),L=O>>8,H=m[L];return H!==void 0?d[256*H+(255&O)]:L===252||L===253?"AL":g.test(L)?"L":L===8?"R":"N"},E=function(k){for(var O,L=0;L<k.length;L++){if((O=S(k.charAt(L)))==="L")return!1;if(O==="R")return!0}return!1},N=function(k,O,L,H){var q,Y,ee,K,te=O[H];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(te="AN");break;case"AL":y=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":H<1||H+1>=O.length||(q=L[H-1])!=="EN"&&q!=="AN"||(Y=O[H+1])!=="EN"&&Y!=="AN"?te="N":y&&(Y="AN"),te=Y===q?Y:"N";break;case"ES":te=(q=H>0?L[H-1]:"B")==="EN"&&H+1<O.length&&O[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&L[H-1]==="EN"){te="EN";break}if(y){te="N";break}for(ee=H+1,K=O.length;ee<K&&O[ee]==="ET";)ee++;te=ee<K&&O[ee]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(K=O.length,ee=H+1;ee<K&&O[ee]==="NSM";)ee++;if(ee<K){var le=k[H],se=le>=1425&&le<=2303||le===64286;if(q=O[ee],se&&(q==="R"||q==="AL")){te="R";break}}}te=H<1||(q=O[H-1])==="B"?"N":L[H-1];break;case"B":y=!1,i=!0,te=x;break;case"S":a=!0,te="N"}return te},_=function(k,O,L){var H=k.split("");return L&&B(H,L,{hiLevel:x}),H.reverse(),O&&O.reverse(),H.join("")},B=function(k,O,L){var H,q,Y,ee,K,te=-1,le=k.length,se=0,M=[],$=x?h:f,J=[];for(y=!1,i=!1,a=!1,q=0;q<le;q++)J[q]=S(k[q]);for(Y=0;Y<le;Y++){if(K=se,M[Y]=N(k,J,M,Y),H=240&(se=$[K][p[M[Y]]]),se&=15,O[Y]=ee=$[se][5],H>0)if(H===16){for(q=te;q<Y;q++)O[q]=1;te=-1}else te=-1;if($[se][6])te===-1&&(te=Y);else if(te>-1){for(q=te;q<Y;q++)O[q]=ee;te=-1}J[Y]==="B"&&(O[Y]=0),L.hiLevel|=ee}a&&function(ne,he,we){for(var Se=0;Se<we;Se++)if(ne[Se]==="S"){he[Se]=x;for(var Ae=Se-1;Ae>=0&&ne[Ae]==="WS";Ae--)he[Ae]=x}}(J,O,le)},j=function(k,O,L,H,q){if(!(q.hiLevel<k)){if(k===1&&x===1&&!i)return O.reverse(),void(L&&L.reverse());for(var Y,ee,K,te,le=O.length,se=0;se<le;){if(H[se]>=k){for(K=se+1;K<le&&H[K]>=k;)K++;for(te=se,ee=K-1;te<ee;te++,ee--)Y=O[te],O[te]=O[ee],O[ee]=Y,L&&(Y=L[te],L[te]=L[ee],L[ee]=Y);se=K}se++}}},D=function(k,O,L){var H=k.split(""),q={hiLevel:x};return L||(L=[]),B(H,L,q),function(Y,ee,K){if(K.hiLevel!==0&&A)for(var te,le=0;le<Y.length;le++)ee[le]===1&&(te=v.indexOf(Y[le]))>=0&&(Y[le]=v[te+1])}(H,L,q),j(2,H,O,L,q),j(1,H,O,L,q),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,O,L){if(function(q,Y){if(Y)for(var ee=0;ee<q.length;ee++)Y[ee]=ee;o===void 0&&(o=E(q)),u===void 0&&(u=E(q))}(k,O),s||!l||u)if(s&&l&&o^u)x=o?1:0,k=_(k,O,L);else if(!s&&l&&u)x=o?1:0,k=D(k,O,L),k=_(k,O);else if(!s||o||l||u){if(s&&!l&&o^u)k=_(k,O),o?(x=0,k=D(k,O,L)):(x=1,k=D(k,O,L),k=_(k,O));else if(s&&o&&!l&&u)x=1,k=D(k,O,L),k=_(k,O);else if(!s&&!l&&o^u){var H=A;o?(x=1,k=D(k,O,L),x=0,A=!1,k=D(k,O,L),A=H):(x=0,k=D(k,O,L),k=_(k,O),x=1,A=!1,k=D(k,O,L),A=H,k=_(k,O))}}else x=0,k=D(k,O,L);else x=o?1:0,k=D(k,O,L);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,u=k.isOutputRtl,A=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(mn),mn.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new hf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new _st(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dst(this.contents),this.head=new hst(this),this.name=new yst(this),this.cmap=new pae(this),this.toUnicode={},this.hhea=new pst(this),this.maxp=new bst(this),this.hmtx=new xst(this),this.post=new gst(this),this.os2=new mst(this),this.loca=new Est(this),this.glyf=new wst(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Au,hf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),dst=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,u,A,d,f,h,p,m;for(m in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),s=Math.floor(d/l),A=16*h-d,(i=new hf).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(s),i.writeShort(A),a=16*h,u=i.pos+a,o=null,p=[],n)for(f=n[m],i.writeString(m),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),p=p.concat(f),m==="head"&&(o=u),u+=f.length;u%4;)p.push(0),u++;return i.write(p),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=mae.call(n);n.length%4;)n.push(0);for(a=new hf(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),fst={}.hasOwnProperty,Xu=function(t,e){for(var n in e)fst.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Au=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var hst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new hf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),RV=function(){function t(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,a=function(){var S,E;for(E=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)E.push(e.readUInt16());return E}(),e.pos+=2,m=function(){var S,E;for(E=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)E.push(e.readUInt16());return E}(),u=function(){var S,E;for(E=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)E.push(e.readUInt16());return E}(),A=function(){var S,E;for(E=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)E.push(e.readUInt16());return E}(),i=(this.length-e.pos+this.offset)/2,o=function(){var S,E;for(E=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)E.push(e.readUInt16());return E}(),l=g=0,x=a.length;g<x;l=++g)for(v=a[l],r=y=p=m[l];p<=v?y<=v:y>=v;r=p<=v?++y:--y)A[l]===0?s=r+u[l]:(s=o[A[l]/2+(r-p)-(f-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=d}return t.encode=function(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g,y,x,S,E,N,_,B,j,D,k,O,L,H,q,Y,ee,K,te,le,se,M,$,J,ne,he,we,Se,Ae,ge,xe,ae;switch(H=new hf,s=Object.keys(e).sort(function(Ve,Oe){return Ve-Oe}),n){case"macroman":for(m=0,v=function(){var Ve=[];for(p=0;p<256;++p)Ve.push(0);return Ve}(),y={0:0},a={},q=0,te=s.length;q<te;q++)y[Ae=e[i=s[q]]]==null&&(y[Ae]=++m),a[i]={old:e[i],new:y[e[i]]},v[i]=y[e[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(v),{charMap:a,subtable:H.data,maxGlyphID:m+1};case"unicode":for(O=[],d=[],x=0,y={},r={},g=u=null,Y=0,le=s.length;Y<le;Y++)y[E=e[i=s[Y]]]==null&&(y[E]=++x),r[i]={old:E,new:y[E]},o=y[E]-i,g!=null&&o===u||(g&&d.push(g),O.push(i),u=o),g=i;for(g&&d.push(g),d.push(65535),O.push(65535),D=2*(j=O.length),B=2*Math.pow(Math.log(j)/Math.LN2,2),f=Math.log(B/2)/Math.LN2,_=2*j-B,l=[],N=[],h=[],p=ee=0,se=O.length;ee<se;p=++ee){if(k=O[p],A=d[p],k===65535){l.push(0),N.push(0);break}if(k-(L=r[k].new)>=32768)for(l.push(0),N.push(2*(h.length+j-p)),i=K=k;k<=A?K<=A:K>=A;i=k<=A?++K:--K)h.push(r[i].new);else l.push(L-k),N.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*j+2*h.length),H.writeUInt16(0),H.writeUInt16(D),H.writeUInt16(B),H.writeUInt16(f),H.writeUInt16(_),we=0,M=d.length;we<M;we++)i=d[we],H.writeUInt16(i);for(H.writeUInt16(0),Se=0,$=O.length;Se<$;Se++)i=O[Se],H.writeUInt16(i);for(ge=0,J=l.length;ge<J;ge++)o=l[ge],H.writeUInt16(o);for(xe=0,ne=N.length;xe<ne;xe++)S=N[xe],H.writeUInt16(S);for(ae=0,he=h.length;ae<he;ae++)m=h[ae],H.writeUInt16(m);return{charMap:r,subtable:H.data,maxGlyphID:x+1}}},t}(),pae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new RV(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=RV.encode(e,n),(i=new hf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),pst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),mst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),gst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),vst=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},yst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,u,A,d,f;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=A=0,d=r.length;A<d;a=++A)i=r[a],e.pos=i.offset,u=e.readString(i.length),s=new vst(u,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),bst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),xst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)A.push(e.readInt16());return A}(),this.widths=(function(){var u,A,d,f;for(f=[],u=0,A=(d=this.metrics).length;u<A;u++)a=d[u],f.push(a.advance);return f}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),mae=[].slice,wst=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,u,A,d;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new hf(n.read(i))).readShort(),u=o.readShort(),d=o.readShort(),l=o.readShort(),A=o.readShort(),this.cache[e]=s===-1?new Sst(o,u,d,l,A):new Cst(o,s,u,d,l,A),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),Cst=function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Sst=function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new hf(mae.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Est=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Xu(t,Au),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*r.length),A=0;A<r.length;++A)u[4*A+3]=255&r[A],u[4*A+2]=(65280&r[A])>>8,u[4*A+1]=(16711680&r[A])>>16,u[4*A]=(4278190080&r[A])>>24;return u},t}(),_st=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,u,A,d,f,h,p,m,v,g;for(i in r=pae.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=r.charMap)h[(l=g[i]).old]=l.new;for(p in f=r.maxGlyphID,s)p in h||(h[p]=f++);return A=function(y){var x,S;for(x in S={},y)S[y[x]]=x;return S}(h),d=Object.keys(A).sort(function(y,x){return y-x}),m=function(){var y,x,S;for(S=[],y=0,x=d.length;y<x;y++)o=d[y],S.push(A[o]);return S}(),a=this.font.glyf.encode(s,m,h),u=this.font.loca.encode(a.offsets,m),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();mn.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();function gae(t,e,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,u=o*l,A=/\r\n|\r|\n/g,d="",f=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(A):t,f=d.length||1),n+=o*(2-a),r.valign==="middle"?n-=f/2*u:r.valign==="bottom"&&(n-=f*u),r.halign==="center"||r.halign==="right"){var h=o;if(r.halign==="center"&&(h*=.5),d&&f>=1){for(var p=0;p<d.length;p++)i.text(d[p],e-i.getStringUnitWidth(d[p])*h,n),n+=u;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var UV={},qm=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:UV=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var A=t.unifyColor(e.fillColor);A&&(r=this.jsPDFDocument).setFillColor.apply(r,A),A=t.unifyColor(e.textColor),A&&(i=this.jsPDFDocument).setTextColor.apply(i,A),A=t.unifyColor(e.lineColor),A&&(a=this.jsPDFDocument).setDrawColor.apply(a,A),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return UV||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Pk=function(t,e){return Pk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Pk(t,e)};function vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pk(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var yae=function(t){vae(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Bst(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Nst(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function zS(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function bae(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var s=xae(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function xae(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function n_(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function wae(t,e){var n=n_(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function jst(t,e,n,r,i){var a={},s=1.3333333333333333,o=hN(e,function(x){return i.getComputedStyle(x).backgroundColor});o!=null&&(a.fillColor=o);var l=hN(e,function(x){return i.getComputedStyle(x).color});l!=null&&(a.textColor=l);var u=Tst(r,n);u&&(a.cellPadding=u);var A="borderTopColor",d=s*n,f=r.borderTopWidth;if(r.borderBottomWidth===f&&r.borderRightWidth===f&&r.borderLeftWidth===f){var h=(parseFloat(f)||0)/d;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},a.lineWidth.top||(a.lineWidth.right?A="borderRightColor":a.lineWidth.bottom?A="borderBottomColor":a.lineWidth.left&&(A="borderLeftColor"));var p=hN(e,function(x){return i.getComputedStyle(x)[A]});p!=null&&(a.lineColor=p);var m=["left","right","center","justify"];m.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),m=["middle","bottom","top"],m.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var v=parseInt(r.fontSize||"");isNaN(v)||(a.fontSize=v/s);var g=Ist(r);g&&(a.fontStyle=g);var y=(r.fontFamily||"").toLowerCase();return t.indexOf(y)!==-1&&(a.font=y),a}function Ist(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function hN(t,e){var n=Cae(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Cae(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:Cae(t.parentElement,e):n}function Tst(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(o){return parseInt(o||"0")/r}),s=n_(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function Sae(t,e,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),A=[],d=[],f=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:A,body:d,foot:f};for(var h=0;h<o.rows.length;h++){var p=o.rows[h],m=(s=(a=p==null?void 0:p.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=kst(l,u,n,p,r,i);v&&(m==="thead"?A.push(v):m==="tfoot"?f.push(v):d.push(v))}return{head:A,body:d,foot:f}}function kst(t,e,n,r,i,a){for(var s=new yae(r),o=0;o<r.cells.length;o++){var l=r.cells[o],u=n.getComputedStyle(l);if(i||u.display!=="none"){var A=void 0;a&&(A=jst(t,l,e,u,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:A,_element:l,content:Pst(l)})}}var d=n.getComputedStyle(r);if(s.length>0&&(i||d.display!=="none"))return s}function Pst(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Dst(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function EA(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function Eae(t,e){var n=new qm(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();Dst(i,r,e);var a=EA({},i,r,e),s;typeof window<"u"&&(s=window);var o=Ost(i,r,e),l=Fst(i,r,e),u=Lst(n,a),A=Rst(n,a,s);return{id:e.tableId,content:A,hooks:l,styles:o,settings:u}}function Ost(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],A=e[l],d=n[l];r.columnStyles=EA({},u,A,d)}else{var f=[t,e,n],h=f.map(function(p){return p[l]||{}});r[l]=EA({},h[0],h[1],h[2])}},a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i(o)}return r}function Fst(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Lst(t,e){var n,r,i,a,s,o,l,u,A,d,f,h,p=n_(e.margin,40/t.scaleFactor()),m=(n=Mst(t,e.startY))!==null&&n!==void 0?n:p.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var g;e.showHead===!0?g="everyPage":e.showHead===!1?g="never":g=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var y=(a=e.useCss)!==null&&a!==void 0?a:!1,x=e.theme||(y?"plain":"striped"),S=!!e.horizontalPageBreak,E=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:y,theme:x,startY:m,margin:p,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(A=e.tableWidth)!==null&&A!==void 0?A:"auto",showHead:g,showFoot:v,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(f=e.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:S,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function Mst(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Rst(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var o=Sae(t,e.html,n,s,e.useCss)||{};r=o.head||r,i=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Ust(r,i,a);return{columns:l,head:r,body:i,foot:a}}function Ust(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(r)?u=i.length:u=a+(l>0?"_".concat(l):"");var A={dataKey:u};i.push(A)}}),i}var Dk=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Qst=function(t){vae(e,t);function e(n,r,i,a,s,o){var l=t.call(this,n,r,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return e}(Dk),Hst=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,s){for(var o=0,l=n;o<l.length;o++){var u=l[o],A=new Qst(e,this,r,i,a,s),d=u(A)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Dk(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Dk(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),_ae=function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof yae&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var o=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),Bae=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=n_(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),zst=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t}();function Vst(t,e){$st(t,e);var n=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=Ok(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=Ok(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Wst(e),Gst(e,t),Kst(e)}function $st(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=wae(t,e);e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){var A=e.hooks.didParseCell;e.callCellHooks(t,A,u,a,l,null);var d=u.padding("horizontal");u.contentWidth=zS(u.text,u.styles,t)+d;var f=zS(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=f+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/n;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var A=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=A.cellWidth||A.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function Ok(t,e,n){for(var r=e,i=t.reduce(function(h,p){return h+p.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],o=s.wrappedWidth/i,l=r*o,u=s.width+l,A=n(s),d=u<A?A:u;e-=d-s.width,s.width=d}if(e=Math.round(e*1e10)/1e10,e){var f=t.filter(function(h){return e<0?h.width>n(h):!0});f.length&&(e=Ok(f,e,n))}return e}function Kst(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,o=t.columns;s<o.length;s++){var l=o[s],u=e[l.index];if(n>1)n--,delete a.cells[l.index];else if(u)u.cell.height+=a.height,n=u.cell.colSpan,delete a.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var A=a.cells[l.index];if(!A)continue;if(A.height=a.height,A.rowSpan>1){var d=r.length-i,f=A.rowSpan>d?d:A.rowSpan;e[l.index]={cell:A,left:f,row:a}}}}}function Wst(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])a+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+a}else{var u=r.cells[l.index];if(!u)continue;if(s=u.colSpan,a=0,u.colSpan>1){i=u,a+=l.width;continue}u.width=l.width+a}}}function Gst(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],s=0,o=t.columns;s<o.length;s++){var l=o[s],u=a.cells[l.index];if(u){e.applyStyles(u.styles,!0);var A=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,A+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=QV(u.text,A,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=QV(u.text,A,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,A);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<f*u.rowSpan?n={height:f,count:u.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>a.height&&(a.height=f)}}n.count--}}function QV(t,e,n,r,i){return t.map(function(a){return qst(a,e,n,r,i)})}function qst(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=zS(t,n,r))return t;for(;e<zS(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Nae(t,e){var n=new qm(t),r=Yst(e,n.scaleFactor()),i=new Hst(e,r);return Vst(n,i),n.applyStyles(n.userStyles),i}function Yst(t,e){var n=t.content,r=Jst(n.columns);if(n.head.length===0){var i=HV(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=HV(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,s=t.styles;return{columns:r,head:pN("head",n.head,r,s,a,e),body:pN("body",n.body,r,s,a,e),foot:pN("foot",n.foot,r,s,a,e)}}function pN(t,e,n,r,i,a){var s={},o=e.map(function(l,u){for(var A=0,d={},f=0,h=0,p=0,m=n;p<m.length;p++){var v=m[p];if(s[v.index]==null||s[v.index].left===0)if(h===0){var g=void 0;Array.isArray(l)?g=l[v.index-f-A]:g=l[v.dataKey];var y={};typeof g=="object"&&!Array.isArray(g)&&(y=(g==null?void 0:g.styles)||{});var x=Zst(t,v,u,i,r,a,y),S=new Bae(g,x,t);d[v.dataKey]=S,d[v.index]=S,h=S.colSpan-1,s[v.index]={left:S.rowSpan-1,times:h}}else h--,f++;else s[v.index].left--,h=s[v.index].times,A++}return new _ae(l,u,t,d)});return o}function HV(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=Xst(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Xst(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Jst(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new zst(i,e,n)})}function Zst(t,e,n,r,i,a,s){var o=Nst(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=EA({},o.table,o[t],i.styles,l),A=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?A:{},f=t==="body"&&n%2===0?EA({},o.alternateRow,i.alternateRowStyles):{},h=Bst(a),p=EA({},h,u,f,d);return EA(p,s)}function eot(t,e,n){var r;n===void 0&&(n={});var i=wae(t,e),a=new Map,s=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(f){var h=e.columns.find(function(p){return p.dataKey===f||p.index===f});h&&!a.has(h.index)&&(a.set(h.index,!0),s.push(h.index),o.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,A=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;A<e.columns.length;){if(a.has(A)){A++;continue}var d=e.columns[A].wrappedWidth;if(u||i>=d)u=!1,s.push(A),o.push(e.columns[A]),i-=d;else break;A++}return{colIndexes:s,columns:o,lastIndex:A-1}}function tot(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=eot(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function jae(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(f,h){return f+h.height},0);o+=u}var A=new qm(t);(n.pageBreak==="always"||n.startY!=null&&o>A.pageSize().height)&&(Tae(A),a.y=i.top),e.callWillDrawPageHooks(A,a);var d=EA({},a);e.startPageNumber=A.pageNumber(),n.horizontalPageBreak?not(A,e,d,a):(A.applyStyles(A.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(f){return KA(A,e,f,a,e.columns)}),A.applyStyles(A.userStyles),e.body.forEach(function(f,h){var p=h===e.body.length-1;VS(A,e,f,p,d,a,e.columns)}),A.applyStyles(A.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(f){return KA(A,e,f,a,e.columns)})),bae(A,e,d,a),e.callEndPageHooks(A,a),e.finalY=a.y,t.lastAutoTable=e,A.applyStyles(A.userStyles)}function not(t,e,n,r){var i=tot(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,A){t.applyStyles(t.userStyles),A>0?py(t,e,n,r,u.columns,!0):zV(t,e,r,u.columns),rot(t,e,n,r,u.columns),mN(t,e,r,u.columns)});else for(var s=-1,o=i[0],l=function(){var u=s;if(o){t.applyStyles(t.userStyles);var A=o.columns;s>=0?py(t,e,n,r,A,!0):zV(t,e,r,A),u=VV(t,e,s+1,r,A),mN(t,e,r,A)}var d=u-s;i.slice(1).forEach(function(f){t.applyStyles(t.userStyles),py(t,e,n,r,f.columns,!0),VV(t,e,s+1,r,f.columns,d),mN(t,e,r,f.columns)}),s=u};s<e.body.length-1;)l()}function zV(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return KA(t,e,a,n,r)})}function rot(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var o=s===e.body.length-1;VS(t,e,a,o,n,r,i)})}function VV(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(n+a,e.body.length),o=-1;return e.body.slice(n,s).forEach(function(l,u){var A=n+u===e.body.length-1,d=Iae(t,e,A,r);l.canEntireRowFit(d,i)&&(KA(t,e,l,r,i),o=n+u)}),o}function mN(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return KA(t,e,a,n,r)})}function iot(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function aot(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,o=n.columns;s<o.length;s++){var l=o[s],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var A=new Bae(u.raw,u.styles,u.section);A=EA(A,u),A.text=[];var d=iot(u,e,r);u.text.length>d&&(A.text=u.text.splice(d,u.text.length));var f=r.scaleFactor(),h=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(f,h),u.contentHeight>=e&&(u.contentHeight=e,A.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),A.contentHeight=A.getContentHeight(f,h),A.contentHeight>a&&(a=A.contentHeight),i[l.index]=A}}var p=new _ae(t.raw,-1,t.section,i,!0);p.height=a;for(var m=0,v=n.columns;m<v.length;m++){var l=v[m],A=p.cells[l.index];A&&(A.height=p.height);var u=t.cells[l.index];u&&(u.height=t.height)}return p}function sot(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,o=i-s;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var A=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>o;return d?(A&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(A||r.settings.rowPageBreak==="avoid")}function VS(t,e,n,r,i,a,s){var o=Iae(t,e,r,a);if(n.canEntireRowFit(o,s))KA(t,e,n,a,s);else if(sot(t,n,o,e)){var l=aot(n,o,e,t);KA(t,e,n,a,s),py(t,e,i,a,s),VS(t,e,l,r,i,a,s)}else py(t,e,i,a,s),VS(t,e,n,r,i,a,s)}function KA(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=n.cells[o.index];if(!l){r.x+=o.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,o,r);if(u===!1){r.x+=o.width;continue}oot(t,l,r);var A=l.getTextPos();gae(l.text,A.x,A.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function oot(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=xae(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),lot(t,e,n,r.lineWidth))}function lot(t,e,n,r){var i,a,s,o;r.top&&(i=n.x,a=n.y,s=n.x+e.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,a,s,o)),r.bottom&&(i=n.x,a=n.y+e.height,s=n.x+e.width,o=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,a,s,o)),r.left&&(i=n.x,a=n.y,s=n.x,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,a,s,o)),r.right&&(i=n.x+e.width,a=n.y,s=n.x+e.width,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,a,s,o));function l(u,A,d,f,h){t.getDocument().setLineWidth(u),t.getDocument().line(A,d,f,h,"S")}}function Iae(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function py(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return KA(t,e,o,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;bae(t,e,n,r),Tae(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return KA(t,e,o,r,i)}),t.applyStyles(t.userStyles))}function Tae(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function cot(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=Eae(this,r),a=Nae(this,i);return jae(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){gae(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return qm.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){qm.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new qm(this),a=Sae(i,e,window,n,!1),s=a.head,o=a.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var gN;function r_(t,e){var n=Eae(t,e),r=Nae(t,n);jae(t,r)}try{if(typeof window<"u"&&window){var $V=window,KV=$V.jsPDF||((gN=$V.jspdf)===null||gN===void 0?void 0:gN.jsPDF);KV&&cot(KV)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Fo=14,Hb=210,Fk=297,uot=Hb-Fo*2,Lk="#3b82f6",TF="#1f2937",kF="#f3f4f6",i_="#374151",WV=(t,e,n)=>{t.setFont("helvetica","bold"),t.setFontSize(22),t.setTextColor(Lk),t.text("GanaderoOS - Reporte de Simulacin",Fo,20),t.setFontSize(16),t.setTextColor(i_),t.text(e,Fo,30),t.setDrawColor(Lk),t.setLineWidth(.5),t.line(Fo,33,Hb-Fo,33),t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor("#9ca3af");const r=`Pgina ${n}`;t.text(r,Hb-Fo,Fk-10,{align:"right"}),t.text(`Generado: ${new Date().toLocaleString("es-VE")}`,Fo,Fk-10)},GV=(t,e,n,r)=>(t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(i_),t.text(e,Fo,r),r_(t,{startY:r+6,head:[["Indicador (KPI)","Valor (Real)"]],body:n,theme:"grid",headStyles:{fillColor:TF,textColor:kF,fontStyle:"bold"},styles:{fontSize:10,cellPadding:2.5},alternateRowStyles:{fillColor:"#f9fafb"}}),t.lastAutoTable.finalY+12),Aot=(t,e,n)=>{t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(i_),t.text("KPIs de Linealidad por Ao",Fo,n);const r=[["Ao","CV (%)","Prom. Mensual (L)","Mes Pico (L)","Mes Valle (L)"]],i=e.map(a=>[a.year,gt(a.cv,1),gt(a.avgMonthly,0),`${gt(a.peakMonthValue,0)} (${a.peakMonthLabel})`,`${gt(a.valleyMonthValue,0)} (${a.valleyMonthLabel})`]);return r_(t,{startY:n+6,head:r,body:i,theme:"grid",headStyles:{fillColor:TF,textColor:kF,fontStyle:"bold",halign:"center"},styles:{fontSize:10,cellPadding:2.5,halign:"center"},alternateRowStyles:{fillColor:"#f9fafb"},columnStyles:{3:{halign:"left"},4:{halign:"left"}}}),t.lastAutoTable.finalY+12},dot=(t,e,n,r,i,a)=>{const s=new mn({orientation:"portrait",unit:"mm",format:"a4"});let o=1;WV(s,"Resumen de Desempeo del Rebao",o);let l=45;const u=[["Tasa Natalidad (Anual.)",`${gt(n.tasaNatalidadReal,1)} %`],["Tasa Prolificidad",`${gt(n.tasaProlificidadReal,1)} %`],["Tasa Reemplazo (Anual.)",`${gt(n.tasaReemplazoReal,1)} %`],["Tasa Descarte (Anual.)",`${gt(n.tasaDescarteReal,1)} %`],["% Mort. Cras (0-3m)",`${gt(n.mortalidadCriasReal,1)} %`],["% Mort. Levante (Anual.)",`${gt(n.mortalidadLevanteReal,1)} %`],["% Mort. Cabras (Anual.)",`${gt(n.mortalidadCabrasReal,1)} %`],["% Elim. Cras M (0-3m)",`${gt(n.tasaEliminacionCriasMReal,1)} %`]];l=GV(s," KPIs de Dinmica del Rebao",u,l);const A=[["Total Litros (Horizonte)",`${gt(r.totalLitrosHorizonte)} L`],["Litros / Vientre / Ao",`${gt(r.litrosPorVientrePorAnio)} L/Vientre`],["Total Das-Lactancia",`${gt(r.totalDiasLactancia)} Das`],["Litros / Da-Lactancia",`${gt(r.litrosPorDiaLactancia,2)} L/Da`]];GV(s," KPIs de Eficiencia Lechera",A,l),s.addPage(),o++,WV(s,"Anlisis de Produccin y Linealidad",o),l=45;try{const p=s.getImageProperties(a),m=uot,v=p.height*m/p.width;s.addImage(a,"PNG",Fo,l,m,v),l+=v+12}catch(p){console.error("Error al aadir imagen al PDF:",p),s.text("Error al renderizar el grfico.",Fo,l),l+=10}Aot(s,i,l),s.addPage("a4","landscape"),o++;const d=p=>{s.setFont("helvetica","bold"),s.setFontSize(18),s.setTextColor(Lk),s.text(" Tabla Detallada de Flujos y Stock",Fo,20),s.setFont("helvetica","normal"),s.setFontSize(9),s.setTextColor("#9ca3af"),s.text(`Pgina ${p}`,Fk-Fo,Hb-10,{align:"right"}),s.text(`Generado: ${new Date().toLocaleString("es-VE")}`,Fo,Hb-10)};d(o);const f=[[{content:"Periodo",rowSpan:2,styles:{halign:"center",valign:"middle",minCellWidth:25}},{content:"Poblacin",colSpan:3,styles:{halign:"center"}},{content:"Produccin",colSpan:3,styles:{halign:"center"}},{content:"Flujos: Entradas",colSpan:3,styles:{halign:"center"}},{content:"Flujos: Salidas (Muertes)",colSpan:4,styles:{halign:"center"}},{content:"Flujos: Salidas (Ventas)",colSpan:2,styles:{halign:"center"}},{content:"Flujos: Internos (Promociones H)",colSpan:4,styles:{halign:"center"}},{content:"Desglose Stock Final",colSpan:7,styles:{halign:"center"}}],["Inicio","Final","Cambio","Litros","Vientres (Fin)","Ingresos Leche","Nacim. H","Nacim. M","Compras","Muertes C.H","Muertes C.M","Muertes Lev.","Muertes Adu.","Ventas C.M","Ventas Desc.","CLT","LTLM","LMLTD","LTDC","Fin C.H","Fin C.M","Fin LT","Fin LM","Fin LTD","Fin Cabras","Fin Padres"]],h=[];for(const p of t){const m=p.muertesLevanteTemprano+p.muertesLevanteMedio+p.muertesLevanteTardio,v=p.muertesCabras+p.muertesPadres;h.push([{content:p.periodLabel,styles:{fontStyle:"bold",fillColor:"#e5e7eb",textColor:i_}},gt(p.startTotal),gt(p.endTotal),gt(p.netChange),gt(p.litrosLeche,0),gt(p.kpiProductivasCount,0),xk(p.ingresosTotales,"$",0),gt(p.nacimientosH),gt(p.nacimientosM),gt(p.comprasVientres),gt(p.muertesCriaH),gt(p.muertesCriaM),gt(m),gt(v),gt(p.ventasCabritos),gt(p.ventasDescartes),gt(p.promocionCriaH),gt(p.promocionLevanteTemprano),gt(p.promocionLevanteMedio),gt(p.promocionLevanteTardio),gt(p.endCriaH),gt(p.endCriaM),gt(p.endLevanteTemprano),gt(p.endLevanteMedio),gt(p.endLevanteTardio),gt(p.endCabras),gt(p.endPadres)]);const g=e.filter(y=>y.year===p.year);for(const y of g){const x=y.muertesLevanteTemprano+y.muertesLevanteMedio+y.muertesLevanteTardio,S=y.muertesCabras+y.muertesPadres;h.push([{content:`  ${y.periodLabel}`,styles:{fontStyle:"normal"}},gt(y.startTotal),gt(y.endTotal),gt(y.netChange),gt(y.litrosLeche,0),gt(y.kpiProductivasCount,0),xk(y.ingresosTotales,"$",0),gt(y.nacimientosH),gt(y.nacimientosM),gt(y.comprasVientres),gt(y.muertesCriaH),gt(y.muertesCriaM),gt(x),gt(S),gt(y.ventasCabritos),gt(y.ventasDescartes),gt(y.promocionCriaH),gt(y.promocionLevanteTemprano),gt(y.promocionLevanteMedio),gt(y.promocionLevanteTardio),gt(y.endCriaH),gt(y.endCriaM),gt(y.endLevanteTemprano),gt(y.endLevanteMedio),gt(y.endLevanteTardio),gt(y.endCabras),gt(y.endPadres)])}}r_(s,{startY:30,head:f,body:h,theme:"grid",headStyles:{fillColor:TF,textColor:kF,fontSize:8,fontStyle:"bold",halign:"center",valign:"middle"},styles:{fontSize:8,cellPadding:1.5,overflow:"linebreak",halign:"right"},columnStyles:{0:{halign:"left"},5:{halign:"left"}},didDrawPage:p=>{p.pageNumber>1&&d(o+p.pageNumber-1)}}),s.save(`Reporte_Simulacion_GanaderoOS_${new Date().toISOString().split("T")[0]}.pdf`)},qV=[{key:"year",label:"Ao"},{key:"month",label:"Mes"},{key:"periodLabel",label:"Periodo"},{key:"startTotal",label:"Stock Total (Inicio)"},{key:"endTotal",label:"Stock Total (Final)"},{key:"partos",label:"N Partos"},{key:"nacimientosH",label:"Nacidos H"},{key:"nacimientosM",label:"Nacidos M"},{key:"muertesTotales",label:"Muertes Totales"},{key:"ventasTotales",label:"Ventas Totales"},{key:"comprasTotales",label:"Compras Totales"},{key:"litrosLeche",label:"Litros Leche (Mes)"},{key:"hembrasProduccion",label:"Hembras en Produccin"},{key:"ingresosLeche",label:"Ingresos Leche"},{key:"ingresosTotales",label:"Ingresos Totales (Mes)"},{key:"endCriaH",label:"Final Cra H (0-3m)"},{key:"endLevanteTemprano",label:"Final L. Temprano (3-6m)"},{key:"endLevanteMedio",label:"Final L. Medio (6-12m)"},{key:"endLevanteTardio",label:"Final L. Tardo (12-18m)"},{key:"endCabras",label:"Final Cabras (>18m)"},{key:"endPadres",label:"Final Padres"}],YV=t=>{if(t==null)return'""';let e=String(t);return e.match(/("|,|\n)/)&&(e=e.replace(/"/g,'""'),e=`"${e}"`),e},fot=(t,e="simulacion_mensual_detallada.csv")=>{if(!t||t.length===0){console.warn("No hay datos para exportar a CSV."),alert("No hay datos mensuales para exportar.");return}try{const n=qV.map(u=>YV(u.label)).join(","),r=t.map(u=>qV.map(A=>{const d=u[A.key];return typeof d=="number"?["litrosLeche","ingresosLeche","ingresosTotales"].includes(A.key)?d.toFixed(2):String(Math.round(d)):YV(d)}).join(",")),i=[n,...r].join(`
`),a="\uFEFF",s=new Blob([a+i],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(s);o.setAttribute("href",l),o.setAttribute("download",e),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l)}catch(n){console.error("Error al exportar a CSV:",n),alert("Ocurri un error al intentar generar el archivo CSV.")}},eo=({label:t,value:e,unit:n,icon:r,color:i="text-sky-500",tooltip:a})=>c.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/10 flex items-start gap-4",title:a,children:[c.jsx("div",{className:`p-2 rounded-lg bg-gray-700 ${i}`,children:c.jsx(r,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",title:a,children:t}),c.jsxs("p",{className:"text-xl font-bold text-white",children:[e," ",c.jsx("span",{className:"text-sm font-normal text-gray-300",children:n})]})]})]}),hot=({options:t,value:e,onChange:n})=>c.jsx("div",{className:"flex rounded-lg bg-gray-900 border border-brand-border p-0.5",children:t.map(r=>c.jsx("button",{onClick:()=>n(r.value),className:`rounded-md px-3 py-1.5 text-sm font-medium transition-colors ${e===r.value?"bg-gray-700 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:r.label},String(r.value)))}),pot=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=n.litrosLeche,i=n.hembrasProduccion,a=i>0?r/i/30.44:0;return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-sky-400",children:"Litros (Mes):"}),c.jsxs("span",{className:"text-xs font-mono text-white",children:[gt(r,0)," L"]})]}),c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-gray-300",children:"Animales:"}),c.jsx("span",{className:"text-xs font-mono text-white",children:gt(i,0)})]}),c.jsxs("div",{className:"flex justify-between items-center gap-4",children:[c.jsx("span",{className:"text-xs text-gray-300",children:"Prom. (L/da):"}),c.jsxs("span",{className:"text-xs font-mono text-white",children:[a.toFixed(2)," L/da"]})]})]})]})}return null},kae=P.forwardRef(({data:t,monthlyData:e},n)=>{const r=P.useMemo(()=>{if(!t||!e)return[];const i=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return e.filter(a=>a.year===t.year).map((a,s)=>({...a,name:i[s%12],Litros:Math.round(a.litrosLeche)}))},[t,e]);return t?c.jsx("div",{ref:n,className:"h-64 w-full bg-gray-800/50 p-4 rounded-lg border border-white/10",children:c.jsx(ea,{width:"100%",height:"100%",children:c.jsxs(Ll,{data:r,margin:{top:5,right:0,left:0,bottom:5},children:[c.jsx(ed,{strokeDasharray:"3 3",strokeOpacity:.1}),c.jsx(Pi,{dataKey:"name",stroke:"#9ca3af",fontSize:12}),c.jsx(Qi,{stroke:"#9ca3af",fontSize:12,allowDecimals:!1,tickFormatter:i=>gt(i,0)}),c.jsx(Dr,{cursor:{fill:"rgba(56, 189, 248, 0.1)"},content:c.jsx(pot,{})}),c.jsx(Ja,{dataKey:"Litros",fill:"#0ea5e9",radius:[4,4,0,0]}),c.jsx(bx,{y:t.avgMonthly,label:{value:`Prom: ${gt(t.avgMonthly,0)} L`,position:"insideTopRight",fill:"#f3f4f6",fontSize:12},stroke:"#f3f4f6",strokeDasharray:"4 4",strokeOpacity:.8})]})})}):c.jsx("div",{className:"text-gray-500",children:"Selecciona un ao."})});kae.displayName="MilkLinearityChart";const mot=({data:t})=>{if(!t)return null;const e=t.cv;let n="text-green-500";return e>15&&(n="text-yellow-500"),e>40&&(n="text-red-500"),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(eo,{label:"Coef. de Variacin (CV)",value:e.toFixed(1),unit:"%",icon:sx,color:n,tooltip:`Coeficiente de Variacin (CV):
Mide la estabilidad de la produccin.
< 15% = Muy Lineal
> 40% = Muy Estacional`}),c.jsx(eo,{label:"Promedio Mensual",value:gt(t.avgMonthly,0),unit:"Litros",icon:qA}),c.jsx(eo,{label:"Mes Pico",value:gt(t.peakMonthValue,0),unit:`(${t.peakMonthLabel})`,icon:Ta,color:"text-green-500"}),c.jsx(eo,{label:"Mes Valle",value:gt(t.valleyMonthValue,0),unit:`(${t.valleyMonthLabel})`,icon:Uj,color:"text-red-500"})]})},got=({data:t})=>t?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-base font-semibold text-white mt-6 mb-3",children:"Eficiencia Lechera (Horizonte Total)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(eo,{label:"Total Litros (Horizonte)",value:gt(t.totalLitrosHorizonte,0),unit:"Litros",icon:s0,color:"text-sky-500"}),c.jsx(eo,{label:"Litros / Vientre / Ao",value:gt(t.litrosPorVientrePorAnio,0),unit:"L/Vientre",icon:yc,color:"text-sky-500"}),c.jsx(eo,{label:"Total Das-Lactancia",value:gt(t.totalDiasLactancia,0),unit:"Das",icon:pq}),c.jsx(eo,{label:"Litros / Da-Lactancia",value:t.litrosPorDiaLactancia.toFixed(2),unit:"L/Da",icon:cpe})]})]}):null,vot=({data:t})=>t?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-semibold text-white mb-3",children:"Tasas de Dinmica (Promedio Anualizado)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(eo,{label:"Tasa Natalidad",value:t.tasaNatalidadReal.toFixed(1),unit:"%",icon:Qu,color:"text-green-500",tooltip:"Nacimientos / (Vientres Prom. * Aos) * 100"}),c.jsx(eo,{label:"Tasa Prolificidad",value:t.tasaProlificidadReal.toFixed(1),unit:"%",icon:gpe,color:"text-green-500",tooltip:"Nacimientos Totales / Partos Totales * 100"}),c.jsx(eo,{label:"Tasa Reemplazo",value:t.tasaReemplazoReal.toFixed(1),unit:"%",icon:tpe,color:"text-green-500",tooltip:"Promociones (LTD -> Cabras) / (Cabras Prom. * Aos) * 100"}),c.jsx(eo,{label:"Tasa Descarte",value:t.tasaDescarteReal.toFixed(1),unit:"%",icon:Qj,color:"text-red-500",tooltip:"Ventas Descarte / (Cabras Prom. * Aos) * 100"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-semibold text-white mb-3",children:"Tasas de Bajas (Reales)"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(eo,{label:"% Mort. Cras (0-3m)",value:t.mortalidadCriasReal.toFixed(1),unit:"%",icon:Kw,color:"text-red-500",tooltip:"Muertes Cras / (Nacidos + Stock Inicial) * 100"}),c.jsx(eo,{label:"% Mort. Levante (Anual.)",value:t.mortalidadLevanteReal.toFixed(1),unit:"%",icon:Kw,color:"text-red-500",tooltip:"Muertes Levante / (Levante Prom. * Aos) * 100"}),c.jsx(eo,{label:"% Mort. Cabras (Anual.)",value:t.mortalidadCabrasReal.toFixed(1),unit:"%",icon:Kw,color:"text-red-500",tooltip:"Muertes Cabras / (Cabras Prom. * Aos) * 100"}),c.jsx(eo,{label:"% Elim. Cras M (0-3m)",value:t.tasaEliminacionCriasMReal.toFixed(1),unit:"%",icon:Qj,color:"text-yellow-500",tooltip:"Ventas Cras M / (Nacidos M - Muertes M) * 100"})]})]})]}):null,yot=({annualData:t,semestralData:e})=>{const n=[{name:"Poblacin",span:3},{name:"Produccin",span:3},{name:"Flujos: Entradas",span:3},{name:"Flujos: Salidas (Muertes)",span:4},{name:"Flujos: Salidas (Ventas)",span:2},{name:"Flujos: Internos (Promociones H)",span:4},{name:"Desglose Stock Final",span:7}],r=[{key:"startTotal",label:"Inicio"},{key:"endTotal",label:"Final"},{key:"netChange",label:"Cambio"},{key:"litrosLeche",label:"Litros Totales",format:a=>gt(a,0)},{key:"kpiProductivasCount",label:"Vientres (Final)",tooltip:"Vientres Productivos (>12m) al final del perodo."},{key:"ingresosLeche",label:"Ingresos Leche",format:a=>xk(a,"$",0)},{key:"nacimientosH",label:"Nacim. H"},{key:"nacimientosM",label:"Nacim. M"},{key:"comprasVientres",label:"Compras Vientres"},{key:"muertesCriaH",label:"Muertes Cras H"},{key:"muertesCriaM",label:"Muertes Cras M"},{key:"muertesLevante",label:"Muertes Levante (Total)"},{key:"muertesAdultas",label:"Muertes Adultas (Total)"},{key:"ventasCabritos",label:"Ventas Cras M"},{key:"ventasDescartes",label:"Ventas Descartes"},{key:"promocionCriaH",label:"Cra  LT"},{key:"promocionLevanteTemprano",label:"LT  LM"},{key:"promocionLevanteMedio",label:"LM  LTD"},{key:"promocionLevanteTardio",label:"LTD  Cabras"},{key:"endCriaH",label:"Final Cra H"},{key:"endCriaM",label:"Final Cra M"},{key:"endLevanteTemprano",label:"Final LT"},{key:"endLevanteMedio",label:"Final LM"},{key:"endLevanteTardio",label:"Final LTD"},{key:"endCabras",label:"Final Cabras"},{key:"endPadres",label:"Final Padres"}],i=(a,s=!1)=>{const o=a.muertesLevanteTemprano+a.muertesLevanteMedio+a.muertesLevanteTardio,l=a.muertesCabras+a.muertesPadres;return c.jsxs("tr",{className:s?"bg-gray-800/60":"bg-gray-700/50",children:[c.jsx("td",{className:`sticky left-0 z-10 p-2 text-sm whitespace-nowrap ${s?"bg-gray-800/60 pl-6":"bg-gray-700/50 font-semibold text-white"}`,children:a.periodLabel}),r.map(u=>{let A;u.key==="muertesLevante"?A=o:u.key==="muertesAdultas"?A=l:A=a[u.key]??0;const d=u.format||(f=>gt(f,0));return c.jsx("td",{className:"p-2 text-sm text-right whitespace-nowrap text-gray-200 font-mono",title:u.tooltip,children:d(A)},u.key)})]},a.periodLabel)};return c.jsx("div",{className:"overflow-x-auto h-full",children:c.jsxs("table",{className:"min-w-full border-separate border-spacing-0",children:[c.jsxs("thead",{className:"sticky top-0 z-20",children:[c.jsxs("tr",{className:"bg-gray-900/80 backdrop-blur-lg",children:[c.jsx("th",{className:"sticky left-0 z-30 p-2 text-xs font-semibold text-left uppercase text-white bg-gray-900/80 backdrop-blur-lg",children:"Periodo"}),n.map((a,s)=>c.jsx("th",{colSpan:a.span,className:"p-2 text-xs font-semibold text-center uppercase text-white border-b border-l border-white/10",children:a.name},s))]}),c.jsxs("tr",{className:"bg-gray-900/80 backdrop-blur-lg",children:[c.jsx("th",{className:"sticky left-0 z-30 p-2 text-xs font-semibold text-left uppercase text-white bg-gray-900/80 backdrop-blur-lg"}),r.map(a=>c.jsx("th",{className:"p-2 text-xs font-semibold text-right uppercase text-gray-300 border-b border-l border-white/10 whitespace-nowrap",title:a.tooltip,children:a.label},a.key))]})]}),c.jsx("tbody",{className:"bg-gray-800",children:t.map(a=>{const s=e.filter(o=>o.year===a.year);return c.jsxs(be.Fragment,{children:[i(a,!1),s.map(o=>i(o,!0))]},a.year)})})]})})},vN=({label:t,icon:e,isActive:n,onClick:r})=>c.jsxs("button",{onClick:r,className:`flex-1 flex flex-col items-center justify-center p-3 text-xs font-medium transition-colors border-b-2 ${n?"text-sky-500 border-sky-500":"text-gray-500 border-transparent hover:text-gray-300"}`,children:[c.jsx(e,{size:18,className:"mb-1"}),t]}),bot=({isOpen:t,onClose:e,monthlyData:n,semestralData:r,annualData:i,simulationConfig:a})=>{const[s,o]=P.useState("produccion"),[l,u]=P.useState(!1),A=P.useRef(null),{isLoading:d,milkLinearityKpis:f,herdEfficiencyKpis:h,herdDynamicsKpis:p,horizonInYears:m}=Prt(n,i),[v,g]=P.useState(()=>{var _;return((_=i[0])==null?void 0:_.year)??new Date().getFullYear()}),y=P.useMemo(()=>i.map(_=>({label:`Ao ${_.year}`,value:_.year})),[i]);be.useEffect(()=>{i.length>0&&!i.find(_=>_.year===v)&&g(i[0].year)},[i,v]);const x=P.useMemo(()=>f.find(_=>_.year===v),[f,v]),S=async()=>{if(d||!p||!h||!x){alert("Los datos de analtica an no estn listos.");return}if(s!=="produccion"&&(await o("produccion"),await new Promise(_=>setTimeout(_,50))),!A.current){alert("Error: No se pudo encontrar el grfico para exportar.");return}u(!0);try{const B=(await Eie(A.current,{backgroundColor:"#1f2937",scale:2})).toDataURL("image/png",.9);dot(i,r,p,h,f,B)}catch(_){console.error("Error al generar la imagen del grfico:",_),alert("Ocurri un error al exportar el grfico.")}finally{u(!1)}},E=()=>{if(d||!n||n.length===0){alert("Los datos mensuales an no estn listos para exportar.");return}fot(n,"simulacion_detallada_mensual.csv")};if(!t)return null;const N=()=>{if(d)return c.jsx("div",{className:"p-10 text-center text-gray-400",children:"Calculando analticas..."});switch(s){case"produccion":return c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" Anlisis de Linealidad de Leche"}),c.jsx(hot,{options:y,value:v,onChange:_=>g(_)})]}),c.jsx(kae,{ref:A,data:x,monthlyData:n}),c.jsx(mot,{data:x}),c.jsx(got,{data:h})]});case"dinamica":return c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" KPIs de Dinmica del Rebao"}),c.jsx(vot,{data:p})]});case"tabla":return c.jsx("div",{className:"w-full h-full overflow-hidden",children:c.jsx(yot,{annualData:i,semestralData:r})});default:return null}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-4xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:_=>_.stopPropagation(),children:[l&&c.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-gray-900/80 backdrop-blur-sm",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"text-white text-lg font-semibold mt-4",children:"Generando PDF de Alto Nivel..."})]}),c.jsxs("header",{className:"relative flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0 pr-48",children:[" ",c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"p-2 rounded-lg bg-sky-600/20 text-sky-400",children:c.jsx(ID,{size:20})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-base font-bold text-white",children:"Reporte Detallado de Simulacin"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Anlisis de eficiencia y produccin del rebao"})]})]}),c.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:[c.jsx(Frt,{baseConfig:a,baseCV:x==null?void 0:x.cv,horizonInYears:m}),c.jsx("button",{onClick:E,disabled:d||l,title:"Exportar datos mensuales a CSV (para Google Sheets/Excel)",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(Cpe,{size:20})}),c.jsx("button",{onClick:S,disabled:d||l,title:"Exportar Resumen a PDF de Alto Nivel",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(gq,{size:20})}),c.jsx("button",{onClick:e,disabled:l,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white disabled:opacity-50",children:c.jsx(Bo,{size:20})})]})]}),c.jsxs("nav",{className:"flex items-stretch border-b border-brand-border flex-shrink-0",children:[c.jsx(vN,{label:"Produccin de Leche",icon:fq,isActive:s==="produccion",onClick:()=>o("produccion")}),c.jsx(vN,{label:"Dinmica del Rebao",icon:dq,isActive:s==="dinamica",onClick:()=>o("dinamica")}),c.jsx(vN,{label:"Tabla Detallada",icon:Fpe,isActive:s==="tabla",onClick:()=>o("tabla")})]}),c.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-900/50",children:N()})]})})},$S=[{key:"endCabras",name:"Cabras (>18m)",color:"#5856D6",gradientId:"colorCabrasModal"},{key:"endLevanteTardio",name:"L. Tardo (12-18m)",color:"#007AFF",gradientId:"colorLTardioModal"},{key:"endLevanteMedio",name:"L. Medio (6-12m)",color:"#34C759",gradientId:"colorLMedioModal"},{key:"endLevanteTemprano",name:"L. Temprano (3-6m)",color:"#FF9500",gradientId:"colorLTempranoModal"},{key:"endCriaH",name:"Cras H (0-3m)",color:"#FFCC00",gradientId:"colorCriaHModal"}],xot=$S.map(t=>t.key),wot=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=e.reduce((i,a)=>i+a.value,0);return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsxs("p",{className:"text-lg font-mono text-white",children:["Total Hembras: ",gt(r,0)]}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsx("div",{className:"space-y-1",children:e.slice().reverse().map((i,a)=>c.jsxs("div",{className:"flex justify-between items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{style:{backgroundColor:i.color},className:"w-2.5 h-2.5 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-300",children:i.name})]}),c.jsx("span",{className:"text-xs font-mono text-white",children:gt(i.value,0)})]},a))})]})}return null},Cot=t=>t>=1e3?`${(t/1e3).toFixed(0)}k`:t.toString(),Sot=({data:t,visibleCategories:e})=>{const n=r=>{const i=t[r];return i&&(i.month===1||r===0)?`Ao ${i.year}`:i&&i.month===7?"S2":""};return c.jsxs("div",{className:"h-[calc(90vh-160px)] w-full p-4",children:[" ",c.jsx(ea,{width:"100%",height:"100%",children:c.jsxs(xx,{data:t,margin:{top:5,right:0,left:0,bottom:5},stackOffset:"none",children:[c.jsx("defs",{children:$S.map(r=>c.jsxs("linearGradient",{id:r.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:r.color,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:r.color,stopOpacity:.1})]},r.gradientId))}),c.jsx(ed,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),c.jsx(Pi,{dataKey:"monthIndex",stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:n,padding:{left:10,right:10}}),c.jsx(Qi,{stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:Cot,width:40}),c.jsx(Dr,{content:c.jsx(wot,{})}),$S.map(r=>e.includes(r.key)?c.jsx(Fl,{type:"monotone",dataKey:r.key,name:r.name,stackId:"1",stroke:r.color,strokeWidth:2,fill:`url(#${r.gradientId})`,activeDot:{r:6,stroke:"white",strokeWidth:2,fill:r.color}},r.key):null)]})})]})},Eot=({visibleCategories:t,onToggleCategory:e})=>c.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 px-4 py-2 border-b border-brand-border",children:$S.map(n=>{const r=t.includes(n.key);return c.jsxs("button",{onClick:()=>e(n.key),className:`flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium transition-all ${r?"bg-gray-700 text-white":"bg-gray-800 text-gray-500 hover:bg-gray-700 hover:text-gray-400"}`,children:[c.jsx("span",{style:{backgroundColor:n.color},className:"w-2.5 h-2.5 rounded-full"}),n.name,r?c.jsx(wD,{size:14}):c.jsx(vq,{size:14})]},n.key)})}),_ot=({isOpen:t,onClose:e,monthlyData:n,title:r})=>{const[i,a]=P.useState(xot),s=o=>{a(l=>l.includes(o)?l.length===1?l:l.filter(A=>A!==o):[...l,o])};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-6xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:o=>o.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0",children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:r}),c.jsx("button",{onClick:e,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white",children:c.jsx(Bo,{size:20})})]}),c.jsx(Eot,{visibleCategories:i,onToggleCategory:s}),c.jsx("main",{className:"flex-1 overflow-hidden bg-gray-900/50 flex items-center justify-center",children:n&&n.length>0?c.jsx(Sot,{data:n,visibleCategories:i}):c.jsx("p",{className:"text-gray-400",children:"No hay datos para mostrar el grfico."})})]})}):null},KS=[{key:"endCabras",name:"Cabras (>18m)",color:"#5856D6",gradientId:"colorCabrasPeriod"},{key:"endLevanteTardio",name:"L. Tardo (12-18m)",color:"#007AFF",gradientId:"colorLTardioPeriod"},{key:"endLevanteMedio",name:"L. Medio (6-12m)",color:"#34C759",gradientId:"colorLMedioPeriod"},{key:"endLevanteTemprano",name:"L. Temprano (3-6m)",color:"#FF9500",gradientId:"colorLTempranoPeriod"},{key:"endCriaH",name:"Cras H (0-3m)",color:"#FFCC00",gradientId:"colorCriaHPeriod"}],Bot=KS.map(t=>t.key),Not=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload,r=e.reduce((i,a)=>i+a.value,0);return c.jsxs("div",{className:"bg-gray-900/80 p-3 rounded-lg border border-white/10 shadow-lg backdrop-blur-md animate-fade-in",children:[c.jsx("p",{className:"text-sm font-bold text-white",children:n.periodLabel}),c.jsxs("p",{className:"text-lg font-mono text-white",children:["Total Hembras: ",gt(r,0)]}),c.jsx("hr",{className:"border-white/10 my-1.5"}),c.jsx("div",{className:"space-y-1",children:e.slice().reverse().map((i,a)=>c.jsxs("div",{className:"flex justify-between items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{style:{backgroundColor:i.color},className:"w-2.5 h-2.5 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-300",children:i.name})]}),c.jsx("span",{className:"text-xs font-mono text-white",children:gt(i.value,0)})]},a))})]})}return null},jot=t=>t>=1e3?`${(t/1e3).toFixed(0)}k`:t.toString(),Iot=({visibleCategories:t,onToggleCategory:e})=>c.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 px-4 py-2 border-b border-brand-border",children:KS.map(n=>{const r=t.includes(n.key);return c.jsxs("button",{onClick:()=>e(n.key),className:`flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium transition-all ${r?"bg-gray-700 text-white":"bg-gray-800 text-gray-500 hover:bg-gray-700 hover:text-gray-400"}`,children:[c.jsx("span",{style:{backgroundColor:n.color},className:"w-2.5 h-2.5 rounded-full"}),n.name,r?c.jsx(wD,{size:14}):c.jsx(vq,{size:14})]},n.key)})}),Tot=({data:t,visibleCategories:e})=>c.jsxs("div",{className:"h-[calc(90vh-200px)] w-full p-4",children:[" ",c.jsx(ea,{width:"100%",height:"100%",children:c.jsxs(xx,{data:t,margin:{top:5,right:0,left:0,bottom:5},stackOffset:"none",children:[c.jsx("defs",{children:KS.map(n=>c.jsxs("linearGradient",{id:n.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:n.color,stopOpacity:.7}),c.jsx("stop",{offset:"95%",stopColor:n.color,stopOpacity:.1})]},n.gradientId))}),c.jsx(ed,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),c.jsx(Pi,{dataKey:"name",stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,padding:{left:10,right:10}}),c.jsx(Qi,{stroke:"#9ca3af",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:jot,width:40}),c.jsx(Dr,{content:c.jsx(Not,{})}),KS.map(n=>e.includes(n.key)?c.jsx(Fl,{type:"monotone",dataKey:n.key,name:n.name,stackId:"1",stroke:n.color,strokeWidth:2,fill:`url(#${n.gradientId})`,activeDot:{r:6,stroke:"white",strokeWidth:2,fill:n.color}},n.key):null)]})})]}),kot=({isOpen:t,onClose:e,monthlyData:n,periodData:r})=>{const[i,a]=P.useState(Bot),s=l=>{a(u=>u.includes(l)?u.length===1?u:u.filter(d=>d!==l):[...u,l])},o=P.useMemo(()=>{if(!r||!n)return[];let l=0,u=0;const A=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return"semestreIndex"in r?(l=(r.semestreIndex||0)*6,u=6):(l=(r.year-1)*12,u=12),n.slice(l,l+u).map(f=>({...f,name:A[f.month-1]}))},[r,n]);return!t||!r?null:c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",onClick:e,children:c.jsxs("div",{className:"relative flex flex-col w-full h-full max-w-6xl max-h-[90vh] bg-gray-900 border border-brand-border rounded-2xl shadow-2xl overflow-hidden",onClick:l=>l.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-brand-border flex-shrink-0",children:[c.jsxs("h1",{className:"text-xl font-bold text-white",children:["Evolucin de Hembras: ",r.periodLabel]}),c.jsx("button",{onClick:e,title:"Cerrar",className:"p-2 text-gray-500 rounded-full transition-colors hover:bg-gray-800 hover:text-white",children:c.jsx(Bo,{size:20})})]}),c.jsx(Iot,{visibleCategories:i,onToggleCategory:s}),c.jsx("main",{className:"flex-1 overflow-hidden bg-gray-900/50 flex items-center justify-center",children:o.length>0?c.jsx(Tot,{data:o,visibleCategories:i}):c.jsx("p",{className:"text-gray-400",children:"No hay datos para mostrar el grfico."})})]})})},Pot=t=>{const e=g=>Math.round(g),n=e(t.startCabras)+e(t.startLevanteTardio),r=e(t.endCabras)+e(t.endLevanteTardio),i=r-n,a=n>0?i/n*100:0,s=e(t.startCriaH)+e(t.startLevanteTemprano)+e(t.startLevanteMedio),o=e(t.endCriaH)+e(t.endLevanteTemprano)+e(t.endLevanteMedio),l=n+s,A=r+o-l,d=e(t.nacimientosH)+e(t.nacimientosM),f=e(t.muertesTotales),h=e(t.ventasTotales),p=f+h;let m="";i>0?m+=`El perodo fue POSITIVO, con un crecimiento de +${i} vientres (+${a.toFixed(1)}%). `:m+=`Perodo de DECRECIMIENTO, con una prdida de ${i} vientres (${a.toFixed(1)}%). `,m+=`El rebao de vientres pas de ${n} a ${r} animales.

`,m+=`Este cambio fue el resultado de ${d} nacimientos, contrarrestados por ${p} bajas totales (${f} muertes y ${h} ventas). `,d>p?m+=`Los nacimientos superaron exitosamente a las bajas, impulsando el crecimiento.
`:m+=`Las bajas superaron a los nacimientos, causando la reduccin del rebao.
`;const v=o-s;return v>0?m+=`RECOMENDACIN: El "pool" de hembras en crecimiento aument (+${v}), lo que augura un buen potencial de reemplazo y crecimiento futuro. (Total Hembras: ${A>0?"+":""}${A})`:m+=`ALERTA: El "pool" de hembras en crecimiento se redujo (${v}), lo que podra comprometer el reemplazo y crecimiento en los prximos perodos. (Total Hembras: ${A})`,m},ov=(t,e,n,r)=>(r_(t,{startY:r,head:[[e,"Valor"]],body:n,theme:"striped",headStyles:{fillColor:[44,62,80]},styles:{fontSize:10}}),t.lastAutoTable.finalY+8),Dot=t=>{const e=new mn({orientation:"portrait",unit:"mm",format:"a4"});e.setFontSize(22),e.setFont("helvetica","bold"),e.setTextColor(44,62,80),e.text(`Reporte de Perodo: ${t.periodLabel}`,105,20,{align:"center"}),e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(120,120,120),e.text(`Generado: ${new Date().toLocaleString()}`,105,27,{align:"center"}),e.setFontSize(16),e.setFont("helvetica","bold"),e.setTextColor(88,86,214),e.text("Anlisis IA GanaGenius",14,45),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(50,50,50);const n=Pot(t);e.splitTextToSize(n,182).forEach((u,A)=>{e.text(u,14,52+A*5)});let r=80;const i=[["Vientres Iniciales",gt(t.startCabras+t.startLevanteTardio)],["Vientres Finales",gt(t.endCabras+t.endLevanteTardio)],["Crecimiento Vientres (Neto)",`${gt(t.endCabras+t.endLevanteTardio-(t.startCabras+t.startLevanteTardio))}`],["Crecimiento Vientres (%)",gt(t.growthRate,1)+" %"]];r=ov(e,"Resumen de Vientres Productivos",i,r);const a=[["H. en Crecimiento (Inicio)",gt(t.startCriaH+t.startLevanteTemprano+t.startLevanteMedio)],["H. en Crecimiento (Final)",gt(t.endCriaH+t.endLevanteTemprano+t.endLevanteMedio)],["Total Hembras (Inicio)",gt(t.startCabras+t.startLevanteTardio+t.startCriaH+t.startLevanteTemprano+t.startLevanteMedio)],["Total Hembras (Final)",gt(t.endCabras+t.endLevanteTardio+t.endCriaH+t.endLevanteTemprano+t.endLevanteMedio)]];r=ov(e,"Resumen de Hembras en Crecimiento",a,r),e.addPage(),r=20;const s=[["Nacimientos (Hembras)",gt(t.nacimientosH)],["Nacimientos (Machos)",gt(t.nacimientosM)],["Total Nacimientos",gt(t.nacimientosH+t.nacimientosM)],["Muertes Totales",gt(t.muertesTotales)],["Ventas Totales",gt(t.ventasTotales)],["Compras Totales",gt(t.comprasTotales)]];r=ov(e,"Flujos del Perodo",s,r);const o=[["Muertes Cras H",gt(t.muertesCriaH)],["Muertes Cras M",gt(t.muertesCriaM)],["Muertes Levante",gt(t.muertesLevanteTemprano+t.muertesLevanteMedio+t.muertesLevanteTardio)],["Muertes Cabras",gt(t.muertesCabras)],["Muertes Padres",gt(t.muertesPadres)],["Ventas Cras M (Elim.)",gt(t.ventasCabritos)],["Ventas Cabras (Descarte)",gt(t.ventasDescartes)]];r=ov(e,"Desglose de Bajas",o,r);const l=[["Cabras (>18m)",gt(t.endCabras)],["L. Tardo (12-18m)",gt(t.endLevanteTardio)],["L. Medio (6-12m)",gt(t.endLevanteMedio)],["L. Temprano (3-6m)",gt(t.endLevanteTemprano)],["Cras H (0-3m)",gt(t.endCriaH)],["Cras M (0-3m)",gt(t.endCriaM)],["Padres (>12m)",gt(t.endPadres)]];r=ov(e,"Desglose de Stock (Final)",l,r),e.save(`Reporte_${t.periodLabel.replace(/ /g,"_")}.pdf`)},Xn=t=>Math.round(t||0),Oot=({data:t,onViewYearChart:e,onExportPeriodPdf:n})=>{const[r,i]=P.useState(!1),a=N=>(N||0).toFixed(1),s=Xn(t.startCabras)+Xn(t.startLevanteTardio),o=Xn(t.endCabras)+Xn(t.endLevanteTardio),l=Xn(t.startLevanteTemprano)+Xn(t.startLevanteMedio)+Xn(t.startCriaH),u=Xn(t.endLevanteTemprano)+Xn(t.endLevanteMedio)+Xn(t.endCriaH),A=s+l,d=o+u,f=o-s,h=s>0?f/s*100:0,p=f>=0,m=p?Ta:Uj,v=p?"text-green-500":"text-red-500",g=d-A,y=A>0?g/A*100:0,x=g>=0,S=x?Ta:Uj,E=x?"text-green-500":"text-red-500";return c.jsxs("div",{className:"w-full overflow-hidden rounded-xl border border-white/10 bg-gray-800/50 shadow-md backdrop-blur-lg",children:[c.jsx("button",{onClick:()=>i(!r),className:"w-full p-5 text-left focus:outline-none focus:ring-2 focus:ring-sky-500 rounded-t-xl",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx("p",{className:"text-lg font-bold text-white",children:t.periodLabel}),c.jsxs("div",{className:"flex items-baseline gap-3",children:[c.jsx("p",{className:"text-4xl font-bold leading-none text-white",children:o}),c.jsxs("p",{className:"text-2xl font-medium text-gray-400",children:["(Inicio: ",s,")"]})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Vientres Productivos (Final vs. Inicial)"}),c.jsxs("p",{className:"text-sm text-gray-400 pt-1",children:["Hembras Totales: ",c.jsx("span",{className:"font-semibold text-white",children:d})," (Inicio: ",A,")"]})]}),c.jsxs("div",{className:"flex-1 text-right space-y-2",children:[c.jsxs("div",{className:`text-right ${v}`,children:[c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx(m,{size:"1.2em"}),c.jsxs("p",{className:"text-xl font-bold",children:[a(h),"%"]})]}),c.jsxs("p",{className:"text-lg font-medium",children:[p?"+":"",f," Vientres"]})]}),c.jsxs("div",{className:`text-right text-xs ${E} opacity-70`,children:[c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx(S,{size:"1em"}),c.jsxs("p",{className:"font-semibold",children:[a(y),"%"]})]}),c.jsxs("p",{className:"font-medium",children:[x?"+":"",g," Hembras Totales"]})]})]}),c.jsxs("div",{className:"ml-4 text-gray-500 pt-2",children:[" ",r?c.jsx(lpe,{size:20}):c.jsx(Ky,{size:20})," "]})]})}),r&&c.jsxs("div",{className:"relative border-t border-white/10 px-5 pb-14 pt-4 animate-fade-in",children:[" ",c.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-0.5 md:pr-4 md:border-r md:border-white/10",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Desglose Final (Periodo)"}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Xn(t.endCabras)})," Cabras (",">","18m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Xn(t.endLevanteTardio)})," L. Tardo (12-18m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Xn(t.endLevanteMedio)})," L. Medio (6-12m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Xn(t.endLevanteTemprano)})," L. Temprano (3-6m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Xn(t.endCriaH)})," Cras H (0-3m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Xn(t.endCriaM)})," Cras M (0-3m)"]}),c.jsxs("p",{className:"text-sm text-gray-200",children:[c.jsx("span",{className:"font-bold text-white",children:Xn(t.endPadres)})," Padres (",">","12m)"]}),c.jsx("hr",{className:"my-1 border-white/10"}),c.jsxs("p",{className:"text-sm text-gray-100",children:[c.jsx("span",{className:"font-bold text-white",children:Xn(t.endTotal)})," Animales Totales (Final)"]})]}),c.jsxs("div",{className:"space-y-3 md:pr-4 md:border-r md:border-white/10",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Movimientos del Periodo"}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[c.jsx(Pl,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Xn(t.nacimientosH+t.nacimientosM)," Nacimientos Totales"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[c.jsxs("div",{children:[Xn(t.nacimientosH)," Hembras (0-3m)"]})," ",c.jsxs("div",{children:[Xn(t.nacimientosM)," Machos (0-3m)"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[c.jsx(dq,{size:14})," ",c.jsx("span",{className:"font-semibold",children:"Promociones (Hembras)"})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[c.jsxs("div",{children:[Xn(t.promocionCriaH)," Cra H  L. Temprano"]}),c.jsxs("div",{children:[Xn(t.promocionLevanteTemprano)," L. Temprano  L. Medio"]}),c.jsxs("div",{children:[Xn(t.promocionLevanteMedio)," L. Medio  L. Tardo"]}),c.jsxs("div",{children:[Xn(t.promocionLevanteTardio)," L. Tardo  Cabras"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[c.jsx(Kw,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Xn(t.muertesTotales)," Muertes"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.muertesCriaH>0&&c.jsxs("div",{children:[Xn(t.muertesCriaH)," Cras H (0-3m)"]}),t.muertesCriaM>0&&c.jsxs("div",{children:[Xn(t.muertesCriaM)," Cras M (0-3m)"]}),t.muertesLevanteTemprano>0&&c.jsxs("div",{children:[Xn(t.muertesLevanteTemprano)," L. Temprano (3-6m)"]}),t.muertesLevanteMedio>0&&c.jsxs("div",{children:[Xn(t.muertesLevanteMedio)," L. Medio (6-12m)"]}),t.muertesLevanteTardio>0&&c.jsxs("div",{children:[Xn(t.muertesLevanteTardio)," L. Tardo (12-18m)"]}),t.muertesCabras>0&&c.jsxs("div",{children:[Xn(t.muertesCabras)," Cabras (",">","18m)"]}),t.muertesPadres>0&&c.jsxs("div",{children:[Xn(t.muertesPadres)," Padres"]})]})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[c.jsx(Qj,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Xn(t.ventasTotales)," Ventas (Elim./Descarte)"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.ventasCabritos>0&&c.jsxs("div",{children:[Xn(t.ventasCabritos)," Cras M (Eliminacin)"]}),t.ventasDescartes>0&&c.jsxs("div",{children:[Xn(t.ventasDescartes)," Cabras (Descarte)"]})]})]}),t.comprasTotales>0&&c.jsxs("div",{className:"space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[c.jsx(kpe,{size:14})," ",c.jsxs("span",{className:"font-semibold",children:[Xn(t.comprasTotales)," Compras"]})]}),c.jsxs("div",{className:"ml-6 text-xs text-gray-300",children:[t.comprasVientres>0&&c.jsxs("div",{children:[Xn(t.comprasVientres)," Vientres (12-18m)"]}),t.comprasPadres>0&&c.jsxs("div",{children:[Xn(t.comprasPadres)," Padres"]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-semibold uppercase text-gray-400 mb-2",children:"Capacidad Productiva (Inicio  Fin)"}),c.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(hq,{size:12})," Vientres Productivos (",">","12m)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[s,"  ",o]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(Z2,{size:12})," % Vientres Productivos (Final)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[a(t.kpiProductivasPercent),"%"]})]}),c.jsx("hr",{className:"my-2 border-white/10"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(Ta,{size:12})," Hembras en Crecimiento (","<","12m)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[l,"  ",u]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(Z2,{size:12})," % Hembras en Crecimiento (Final)"]}),c.jsxs("span",{className:"font-semibold text-white",children:[a(t.kpiCrecimientoPercent),"%"]})]})]})]})]}),c.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[c.jsx("button",{onClick:N=>{N.stopPropagation(),e(t)},className:"p-2 rounded-full text-gray-300 bg-gray-700/80 hover:text-white hover:bg-gray-600 transition-colors backdrop-blur-sm",title:`Ver evolucin detallada de ${t.periodLabel}`,children:c.jsx(Cq,{size:18})}),c.jsx("button",{onClick:N=>{N.stopPropagation(),n(t)},className:"p-2 rounded-full text-gray-300 bg-gray-700/80 hover:text-white hover:bg-gray-600 transition-colors backdrop-blur-sm ml-2",title:`Exportar ${t.periodLabel} a PDF`,children:c.jsx(gq,{size:18})})]})]})]})},XV=({options:t,value:e,onChange:n})=>c.jsxs("div",{className:"flex rounded-lg bg-gray-700 p-0.5",children:[" ",t.map(r=>c.jsxs("button",{onClick:()=>n(r.value),className:`rounded-md px-3 py-1 text-sm font-medium transition-colors ${e===r.value?"bg-sky-600 text-white shadow-sm":"text-gray-300 hover:text-white"}`,children:[" ",r.label," "]},String(r.value)))," "]}),JV=({simulationConfig:t,mode:e})=>{const[n,r]=P.useState(!1),[i,a]=P.useState(!1),[s,o]=P.useState(!1),[l,u]=P.useState(null),[A,d]=P.useState(3),[f,h]=P.useState("Anual"),{annualData:p,semestralData:m,monthlyData:v}=iJe(t,A),g=f==="Anual"?p:m,y=[{label:"1 Ao",value:1},{label:"3 Aos",value:3},{label:"5 Aos",value:5},{label:"10 Aos",value:10}],x=[{label:"Anual",value:"Anual"},{label:"Semestral",value:"Semestral"}],S=N=>{u(N),o(!0)},E=N=>{Dot(N)};return c.jsxs("div",{className:"py-8",children:[c.jsxs("div",{className:"flex flex-col items-stretch gap-6",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white max-w-4xl mx-auto px-4 text-center md:text-left",children:[" Evolucin del Rebao ",c.jsxs("span",{className:"ml-3 font-normal text-gray-400 hidden md:inline",children:["(",e==="simulacion"?"Simulacin":"Proyeccin Real",")"]})," "]}),c.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-4xl mx-auto px-4",children:[c.jsxs("div",{className:"flex items-center gap-2 w-full justify-center",children:[c.jsx("span",{className:"text-sm text-gray-400 hidden md:inline",children:"Horizonte:"}),c.jsx(XV,{options:y,value:A,onChange:N=>d(N)})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 w-full",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-400 hidden md:inline",children:"Vista:"}),c.jsx(XV,{options:x,value:f,onChange:N=>h(N)})]}),c.jsxs("div",{className:"flex gap-2 mt-4 md:mt-0",children:[c.jsxs("button",{onClick:()=>a(!0),disabled:!v||v.length===0,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 px-3 py-1.5 text-sm font-medium text-sky-300 transition-colors hover:bg-gray-600 disabled:opacity-50",title:"Ver grfico de evolucin de poblacin",children:[c.jsx(Cq,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Grfico Total"})]}),c.jsxs("button",{onClick:()=>r(!0),disabled:!p||p.length===0,className:"flex items-center justify-center gap-2 rounded-lg bg-gray-700 px-3 py-1.5 text-sm font-medium text-sky-300 transition-colors hover:bg-gray-600 disabled:opacity-50",title:"Ver reporte detallado de simulacin",children:[c.jsx(ID,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Reporte Detallado"})]})]})]})]}),c.jsx("div",{className:"flex flex-col items-stretch gap-4 max-w-4xl mx-auto px-4",children:g.map(N=>{const _=f==="Anual"?`anno-${N.year}`:`sem-${N.semestreIndex}`;return c.jsx(Oot,{data:N,onViewYearChart:S,onExportPeriodPdf:E},_)})})]}),c.jsx(bot,{isOpen:n,onClose:()=>r(!1),monthlyData:v,semestralData:m,annualData:p,simulationConfig:t}),c.jsx(_ot,{isOpen:i,onClose:()=>a(!1),monthlyData:v,title:`Evolucin Total del Rebao (${A} Aos)`}),l&&c.jsx(kot,{isOpen:s,onClose:()=>{o(!1),u(null)},periodData:l,monthlyData:v})]})},zf=({title:t,icon:e,children:n,defaultOpen:r=!1})=>{const[i,a]=P.useState(r);return c.jsxs("div",{className:"mb-4",children:[c.jsxs("button",{type:"button",onClick:()=>a(!i),className:"text-sm font-semibold text-zinc-400 uppercase tracking-wide flex items-center justify-between gap-2 mb-2 px-4 w-full",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[" ",c.jsx(e,{size:16})," ",t]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-4 h-4 transition-transform ${i?"rotate-180":"rotate-0"}`,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]}),i&&c.jsx("div",{className:"bg-brand-glass rounded-2xl border border-brand-border divide-y divide-brand-border overflow-hidden animate-fade-in",children:n})]})},Wi=be.forwardRef(({label:t,unit:e,disabled:n,...r},i)=>c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${n?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:r.id||r.name,className:"text-white text-base",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{ref:i,...r,disabled:n,className:`w-24 bg-zinc-700/80 rounded-lg p-2 text-white text-right font-mono text-base focus:outline-none focus:ring-2 focus:ring-brand-orange ${n?"text-zinc-400":"text-white"}`}),e&&c.jsx("span",{className:"text-zinc-400 w-8 text-left",children:e})]})]})),Bw=({label:t,name:e,value:n,onChange:r,disabled:i})=>{const a=["No Usar","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],s=o=>{const l=parseInt(o.target.value,10);r(e,l===0?void 0:l)};return c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${i?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:e,className:"text-white text-base",children:t}),c.jsx("select",{id:e,name:e,value:n??0,onChange:s,disabled:i,className:`w-28 bg-zinc-700/80 rounded-lg p-2 text-base focus:outline-none focus:ring-2 focus:ring-brand-orange appearance-none text-center ${i?"text-zinc-400":"text-white"}`,children:a.map((o,l)=>c.jsx("option",{value:l,children:o},l))})]})},Fot=({label:t,name:e,value:n,onChange:r,options:i,disabled:a})=>{const s=o=>{r(e,parseInt(o.target.value,10))};return c.jsxs("div",{className:`p-3 bg-ios-modal-bg flex justify-between items-center ${a?"opacity-60":""}`,children:[c.jsx("label",{htmlFor:e,className:"text-white text-base",children:t}),c.jsx("select",{id:e,name:e,value:n??"",onChange:s,disabled:a,className:`w-40 bg-zinc-700/80 rounded-lg p-2 text-base focus:outline-none focus:ring-2 focus:ring-brand-orange appearance-none text-center ${a?"text-zinc-400":"text-white"}`,children:i.map(o=>c.jsx("option",{value:o.value,children:o.label},o.value))})]})},Lot=({label:t,description:e,icon:n,isChecked:r,onToggle:i,disabled:a=!1})=>c.jsxs("div",{className:`p-4 bg-brand-glass rounded-2xl border border-brand-border flex items-center justify-between ${a?"opacity-50 cursor-not-allowed":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-gray-700 text-sky-400",children:c.jsx(n,{size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-base font-semibold text-white",children:t}),c.jsx("p",{className:"text-sm text-gray-400",children:e})]})]}),c.jsx("button",{type:"button",role:"switch","aria-checked":r,onClick:()=>!a&&i(!r),disabled:a,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-gray-900 ${r?"bg-sky-500":"bg-gray-600"} ${a?"cursor-not-allowed":""}`,children:c.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${r?"translate-x-5":"translate-x-0"}`})})]}),yN={initialCabras:0,initialLevanteTardio:0,initialLevanteMedio:0,initialLevanteTemprano:0,initialCriaH:0,initialCriaM:0,initialPadres:1,diasLactanciaObjetivo:305},Mot=({initialConfig:t,realConfig:e,onSimulate:n})=>{const[r,i]=P.useState(()=>({...yN,...t||{}})),[a,s]=P.useState(!1);P.useEffect(()=>{!a&&t&&JSON.stringify(t)!==JSON.stringify(r)&&i({...yN,...t})},[t,a]),P.useEffect(()=>{if(a)return;const h=r.initialCabras??0,p=r.initialLevanteTemprano??0,m=r.initialLevanteMedio??0,v=r.initialLevanteTardio??0,g=r.initialPadres,y=h+v+m+p,x=Math.max(1,Math.ceil(y/30));(g===void 0||g!==x)&&i(S=>({...S,initialPadres:x}))},[r.initialCabras,r.initialLevanteTemprano,r.initialLevanteMedio,r.initialLevanteTardio,r.initialPadres,a]);const o=h=>{const{name:p,value:m,type:v}=h.target;let g=m;v==="number"&&(m===""?g=void 0:(g=parseFloat(m),isNaN(g)&&(g=void 0))),i(y=>({...y,[p]:g}))},l=(h,p)=>{i(m=>({...m,[h]:p}))},u=(h,p)=>{i(m=>({...m,[h]:p}))},A=h=>{s(h),i(h&&e?e:{...yN,...t||{}})},d=h=>{if(h.preventDefault(),a&&!e){alert("Error: No se pudieron cargar los datos reales. Desactiva el modo 'Usar Datos Reales' para continuar.");return}if(!a&&!r.mesInicioMonta1&&!r.mesInicioMonta2&&!r.mesInicioMonta3&&!r.mesInicioMonta4){alert("Debes seleccionar al menos un mes de inicio para la Temporada de Monta 1.");return}if(!a){const p=r.litrosPromedioPorAnimal??0,m=r.litrosPicoPorAnimal??0;if(m>0&&m<=p){alert("Error: La Produccin (Pico) debe ser mayor que la Produccin (Promedio).");return}}console.log(`Ejecutando simulacin con (Modo Real: ${a}):`,r),n(r)},f=!!e;return c.jsxs("form",{onSubmit:d,className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in p-4 pb-32",children:[c.jsxs("header",{className:"text-center mb-6",children:[" ",c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Modo Simulacin"})," ",c.jsx("p",{className:"text-lg text-zinc-400",children:"Define tus parmetros de partida"})," "]}),c.jsx(Lot,{label:"Usar Datos Reales de mi Finca",description:f?"Poblar el setup con KPIs reales":"Calculando KPIs reales...",icon:ype,isChecked:a,onToggle:A,disabled:!f}),c.jsxs(zf,{title:"Poblacin Inicial",icon:Qu,defaultOpen:!0,children:[c.jsx(Wi,{label:"Cabras (>18m)",type:"number",name:"initialCabras",value:r.initialCabras??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"L. Tardo (12-18m)",type:"number",name:"initialLevanteTardio",value:r.initialLevanteTardio??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"L. Medio (6-12m)",type:"number",name:"initialLevanteMedio",value:r.initialLevanteMedio??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"L. Temprano (3-6m)",type:"number",name:"initialLevanteTemprano",value:r.initialLevanteTemprano??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"Cras H (0-3m)",type:"number",name:"initialCriaH",value:r.initialCriaH??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"Cras M (0-3m)",type:"number",name:"initialCriaM",value:r.initialCriaM??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a}),c.jsx(Wi,{label:"Reproductores (>12m)",type:"number",name:"initialPadres",value:r.initialPadres??"",onChange:o,min:"1",step:"1",unit:"N",disabled:a}),!a&&c.jsx("p",{className:"text-xs text-zinc-500 px-3 py-2 text-center",children:"Nota: Reproductores calculados (1/30 hembras)."}),c.jsx(Wi,{label:"Compras Vientres/Ao",type:"number",name:"comprasVientresAnual",value:r.comprasVientresAnual??"",onChange:o,min:"0",step:"1",unit:"N",disabled:a})]}),c.jsxs(zf,{title:"Temporadas de Monta",icon:So,defaultOpen:!0,children:[c.jsx(Bw,{label:"Inicio Temporada 1",name:"mesInicioMonta1",value:r.mesInicioMonta1,onChange:l,disabled:a}),c.jsx(Bw,{label:"Inicio Temporada 2",name:"mesInicioMonta2",value:r.mesInicioMonta2,onChange:l,disabled:a}),c.jsx(Bw,{label:"Inicio Temporada 3",name:"mesInicioMonta3",value:r.mesInicioMonta3,onChange:l,disabled:a}),c.jsx(Bw,{label:"Inicio Temporada 4",name:"mesInicioMonta4",value:r.mesInicioMonta4,onChange:l,disabled:a}),c.jsx(Wi,{label:"Duracin Monta",type:"number",name:"duracionMontaDias",value:r.duracionMontaDias??"",onChange:o,min:"1",step:"1",unit:"das",disabled:a})]}),c.jsx(zf,{title:"Parmetros de Gestacin",icon:sB,defaultOpen:!1,children:c.jsx(Wi,{label:"Das Gestacin",type:"number",name:"diasGestacion",value:r.diasGestacion??"",onChange:o,min:"140",max:"160",step:"1",unit:"das",disabled:a})}),c.jsxs(zf,{title:"Manejo Productivo",icon:sB,defaultOpen:!1,children:[c.jsx(Wi,{label:"Produccin Leche (Prom.)",type:"number",name:"litrosPromedioPorAnimal",value:r.litrosPromedioPorAnimal??"",onChange:o,min:"0",step:"0.1",unit:"L/da",disabled:a}),c.jsx(Wi,{label:"Produccin Leche (Pico)",type:"number",name:"litrosPicoPorAnimal",value:r.litrosPicoPorAnimal??"",onChange:o,min:"0",step:"0.1",unit:"L/da",disabled:a}),c.jsx(Fot,{label:"Das de Lactancia",name:"diasLactanciaObjetivo",value:r.diasLactanciaObjetivo,onChange:u,options:[{label:"305 Das (10 Meses)",value:305},{label:"210 Das (7 Meses)",value:210}],disabled:a})]}),c.jsxs(zf,{title:"ndices Biolgicos",icon:Z2,defaultOpen:!0,children:[c.jsx(Wi,{label:"% de Preez",type:"number",name:"porcentajePrenez",value:r.porcentajePrenez??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Prolificidad",type:"number",name:"porcentajeProlificidad",value:r.porcentajeProlificidad??"",onChange:o,min:"0",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Mortalidad Cras (0-3m)",type:"number",name:"mortalidadCrias",value:r.mortalidadCrias??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Mortalidad Levante (3-18m)",type:"number",name:"mortalidadLevante",value:r.mortalidadLevante??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Mortalidad Cabras (>18m)",type:"number",name:"mortalidadCabras",value:r.mortalidadCabras??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a})]}),c.jsxs(zf,{title:"Parmetros de Manejo",icon:sB,defaultOpen:!1,children:[c.jsx(Wi,{label:"% Reemplazo (Anual)",type:"number",name:"tasaReemplazo",value:r.tasaReemplazo??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a}),c.jsx(Wi,{label:"% Eliminacin Cras M (0-3m)",type:"number",name:"eliminacionCabritos",value:r.eliminacionCabritos??"",onChange:o,min:"0",max:"100",step:"1",unit:"%",disabled:a})]}),c.jsxs(zf,{title:"Parmetros Econmicos",icon:Dl,defaultOpen:!1,children:[c.jsx(Wi,{label:"Precio Venta Leche",type:"number",name:"precioLecheLitro",value:r.precioLecheLitro??"",onChange:o,min:"0",step:"0.01",unit:`${r.monedaSimbolo??"$"}/L`,disabled:a}),c.jsx(Wi,{label:"Precio Venta Cabrito",type:"number",name:"precioVentaCabritoKg",value:r.precioVentaCabritoKg??"",onChange:o,min:"0",step:"0.01",unit:`${r.monedaSimbolo??"$"}/Kg`,disabled:a}),c.jsx(Wi,{label:"Precio Venta Descarte",type:"number",name:"precioVentaDescarteAdulto",value:r.precioVentaDescarteAdulto??"",onChange:o,min:"0",step:"1",unit:r.monedaSimbolo??"$",disabled:a})]}),c.jsx("div",{className:"fixed bottom-16 left-0 right-0 p-4 bg-brand-dark/80 backdrop-blur-lg border-t border-brand-border z-10",style:{paddingBottom:"calc(1rem + env(safe-area-inset-bottom))"},children:c.jsxs("button",{type:"submit",className:"w-full max-w-2xl mx-auto bg-brand-orange text-black font-bold py-4 rounded-xl text-lg flex items-center justify-center gap-2 hover:bg-orange-400 transition-colors",children:[c.jsx(Ta,{size:20}),a?"Correr Simulacin (con Datos Reales)":"Correr Simulacin (Manual)"]})})]})},Pae=()=>c.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-[#1C1C1E] animate-fade-in",children:[c.jsxs("div",{className:"relative flex items-center justify-center w-24 h-24",children:[c.jsx(ox,{className:"text-brand-orange w-12 h-12"}),c.jsx("div",{className:"absolute inset-0",children:c.jsx(Eq,{className:"w-24 h-24 text-zinc-700 animate-spin-slow"})})]}),c.jsx("p",{className:"mt-4 text-lg font-medium text-zinc-400 tracking-wider",children:"Cargando datos..."})]}),a_=30.44,Rot=3*a_,Uot=6*a_,Qot=12*a_,Hot=18*a_,p2=(t,e)=>{try{const n=new Date(t+"T00:00:00Z"),r=new Date(e+"T00:00:00Z");if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),a=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());return Math.floor((a-i)/(1e3*60*60*24))}catch(n){return console.error("Error en getDaysBetweenDates:",n),0}},Vp=(t,e)=>{if(t.status!=="Activo")return"Otros";if(!t.birthDate||t.birthDate==="N/A")return t.sex==="Hembra"?"Cabras":"Machos";const n=p2(t.birthDate,e);return t.sex==="Macho"?"Machos":n<=Rot?"CriaH":n<=Uot?"L.Temprano":n<=Qot?"L.Medio":n<=Hot?"L.Tardo":"Cabras"},zot=(t,e)=>{if(!e||e.length===0)return null;const n=new Date(t+"T00:00:00Z");return isNaN(n.getTime())?null:e.filter(i=>{const a=new Date(i.parturitionDate+"T00:00:00Z");return isNaN(a.getTime())?!1:a<=n&&i.status!=="finalizada"}).sort((i,a)=>{const s=new Date(i.parturitionDate+"T00:00:00Z").getTime();return new Date(a.parturitionDate+"T00:00:00Z").getTime()-s})[0]||null},fA={comprasVientresAnual:0,duracionMontaDias:45,diasGestacion:150,litrosPromedioPorAnimal:1.8,litrosPicoPorAnimal:2.6,diasLactanciaObjetivo:305,porcentajePrenez:90,porcentajeProlificidad:120,mortalidadCrias:5,mortalidadLevante:3,mortalidadCabras:3,tasaReemplazo:20,eliminacionCabritos:100,precioLecheLitro:.5,precioVentaCabritoKg:3,precioVentaDescarteAdulto:50,monedaSimbolo:"$"},Vot=()=>{const{animals:t,events:e,parturitions:n,serviceRecords:r,weighings:i,appConfig:a,isLoading:s,isLoadingConfig:o}=Yt(),l=s||o;return{realConfig:P.useMemo(()=>{if(l||!t||t.length===0)return null;const A=new Date().toISOString().split("T")[0],d=new Date(new Date().setFullYear(new Date().getFullYear()-1)).toISOString().split("T")[0];let f=0,h=0,p=0,m=0,v=0,g=0,y=0;t.filter($=>$.status==="Activo"&&!$.isReference).forEach($=>{switch(Vp($,A)){case"CriaH":$.sex==="Hembra"?v++:$.sex==="Macho"?g++:(v+=.5,g+=.5);break;case"L.Temprano":m++;break;case"L.Medio":p++;break;case"L.Tardo":h++;break;case"Cabras":f++;break;case"Machos":y++;break}}),v=Math.round(v),g=Math.round(g),y=Math.max(1,y);const S=r.filter($=>$.serviceDate>=d),E=n.filter($=>$.parturitionDate>=d);let N=fA.porcentajePrenez;S.length>5&&(N=S.filter(J=>E.some(ne=>ne.goatId===J.femaleId&&p2(J.serviceDate,ne.parturitionDate)>140&&p2(J.serviceDate,ne.parturitionDate)<160)).length/S.length*100);let _=fA.porcentajeProlificidad;const B=E.filter($=>$.parturitionOutcome==="Normal"||$.parturitionOutcome==="Con Mortinatos");B.length>3&&(_=B.reduce((J,ne)=>J+(ne.offspringCount||0),0)/B.length*100);const j=e.filter($=>$.type==="Cambio de Estado"&&$.details.includes("Muerte")&&$.date>=d),D=t.filter($=>($.createdAt||0)<=new Date(d).getTime()),k=e.filter($=>$.type==="Nacimiento"&&$.date>=d).length,O=j.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&Vp(J,$.date)==="CriaH"}).length;let L=fA.mortalidadCrias;k>5&&(L=O/k*100);const H=j.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&["L.Temprano","L.Medio","L.Tardo"].includes(Vp(J,$.date))}).length,q=D.filter($=>["L.Temprano","L.Medio","L.Tardo"].includes(Vp($,d))).length;let Y=fA.mortalidadLevante;q>0&&(Y=H/q*100);const ee=j.filter($=>{const J=t.find(ne=>ne.id===$.animalId);return J&&Vp(J,$.date)==="Cabras"}).length,K=D.filter($=>Vp($,d)==="Cabras").length;let te=fA.mortalidadCabras;K>0&&(te=ee/K*100);let le=fA.litrosPromedioPorAnimal,se=fA.litrosPicoPorAnimal;if(i.length>20){const $=new Map;n.forEach(ne=>{const he=$.get(ne.goatId)||[];he.push(ne),$.set(ne.goatId,he)});const J=[];if(i.forEach(ne=>{const he=$.get(ne.goatId);if(!he)return;const we=zot(ne.date,he);if(!we)return;const Se=p2(we.parturitionDate,ne.date);Se>=0&&Se<=305&&J.push({daysInMilk:Se,kg:ne.kg})}),J.length>10){le=J.reduce((Se,Ae)=>Se+Ae.kg,0)/J.length;const he={};J.forEach(Se=>{const Ae=Math.floor(Se.daysInMilk/30.44)+1;he[Ae]||(he[Ae]=[]),he[Ae].push(Se.kg)});const we=Object.values(he).map(Se=>Se.reduce((ge,xe)=>ge+xe,0)/Se.length);se=Math.max(...we,le*1.01)}}const M={...fA,...a||{},initialCabras:Math.round(f),initialLevanteTardio:Math.round(h),initialLevanteMedio:Math.round(p),initialLevanteTemprano:Math.round(m),initialCriaH:Math.round(v),initialCriaM:Math.round(g),initialPadres:Math.round(y),porcentajePrenez:parseFloat(N.toFixed(1)),porcentajeProlificidad:parseFloat(_.toFixed(1)),mortalidadCrias:parseFloat(L.toFixed(1)),mortalidadLevante:parseFloat(Y.toFixed(1)),mortalidadCabras:parseFloat(te.toFixed(1)),litrosPromedioPorAnimal:parseFloat(le.toFixed(2)),litrosPicoPorAnimal:parseFloat(se.toFixed(2)),monedaSimbolo:(a==null?void 0:a.monedaSimbolo)??fA.monedaSimbolo,comprasVientresAnual:0};return(M.litrosPicoPorAnimal??0)<=(M.litrosPromedioPorAnimal??0)&&(M.litrosPicoPorAnimal=(M.litrosPromedioPorAnimal??1.8)*1.4),M},[l,t,e,n,r,i,a]),isLoading:l}},ZV={comprasVientresAnual:0,duracionMontaDias:45,diasGestacion:150,litrosPromedioPorAnimal:1.8,litrosPicoPorAnimal:2.6,diasLactanciaObjetivo:305,porcentajePrenez:90,porcentajeProlificidad:120,mortalidadCrias:5,mortalidadLevante:3,mortalidadCabras:3,tasaReemplazo:20,eliminacionCabritos:100,precioLecheLitro:.5,precioVentaCabritoKg:3,precioVentaDescarteAdulto:50,monedaSimbolo:"$"};function $ot({onSwitchModule:t}){const{syncStatus:e,appConfig:n,isLoading:r}=Yt(),[i,a]=P.useState("setup"),{realConfig:s,isLoading:o}=Vot(),[l,u]=P.useState(()=>{try{const m=localStorage.getItem("ganaderoOS_simConfig");if(m)return JSON.parse(m)}catch(m){console.error("Error al cargar simulacin guardada de localStorage:",m),localStorage.removeItem("ganaderoOS_simConfig")}return null}),A=r||o,d=m=>{(m.initialCabras!==(s==null?void 0:s.initialCabras)||m.initialCriaH!==(s==null?void 0:s.initialCriaH))&&u(m),a("sim-results")},f=m=>{a(m)},h=[{view:"setup",label:"Setup",icon:TD},{view:"sim-results",label:"Simulacin",icon:hq},{view:"real-results",label:"Real",icon:Za}],p={...ZV,initialCabras:0,initialLevanteTardio:0,initialLevanteMedio:0,initialLevanteTemprano:0,initialCriaH:0,initialCriaM:0,initialPadres:1,...n||{}};return p.monedaSimbolo=(n==null?void 0:n.monedaSimbolo)??ZV.monedaSimbolo,P.useEffect(()=>{try{l?localStorage.setItem("ganaderoOS_simConfig",JSON.stringify(l)):localStorage.removeItem("ganaderoOS_simConfig")}catch(m){console.error("Error al guardar simulacin en localStorage:",m)}},[l]),c.jsxs("div",{className:"font-sans text-gray-200 min-h-screen animate-fade-in",children:[c.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4 h-16",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i!=="setup"&&c.jsx("button",{onClick:()=>f("setup"),className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors flex-shrink-0","aria-label":"Volver a Configuracin",children:c.jsx(Di,{size:24})}),c.jsx(Ta,{className:`text-indigo-400 ${i==="setup"?"":"hidden sm:block"} flex-shrink-0`,size:28}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("h1",{className:"text-xl font-bold text-white leading-none truncate",children:"GanaderoOS"}),c.jsxs("p",{className:"text-xs text-zinc-400 leading-none truncate",children:["Evolucin - ",i==="setup"?"Configurar Simulacin":i==="sim-results"?"Resultados Simulacin":"Proyeccin Real"]})]})]}),c.jsx("div",{className:"flex items-center gap-4 flex-shrink-0",children:c.jsx(S0,{status:e})})]})}),c.jsxs("main",{className:"pt-16 pb-16",children:[i==="setup"&&c.jsx(Mot,{initialConfig:l||p,realConfig:s,onSimulate:d}),i==="sim-results"&&l&&c.jsx(JV,{simulationConfig:l,mode:"simulacion"},"sim-results"),i==="real-results"&&s&&c.jsx(JV,{simulationConfig:s,mode:"real"},"real-results"),i==="sim-results"&&!l&&c.jsx("div",{className:"text-center p-10 text-zinc-400",children:"Primero configura y corre una simulacin manual."}),i==="real-results"&&!s&&A&&c.jsx(Pae,{}),i==="real-results"&&!s&&!A&&c.jsx("div",{className:"text-center p-10 text-zinc-400",children:"No hay suficientes datos reales para una proyeccin."})]}),c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-20 bg-black/50 backdrop-blur-xl border-t border-white/20 flex justify-around h-16",children:h.map(m=>{const v=m.view==="sim-results"&&!l||m.view==="real-results"&&!s,g=i===m.view;return c.jsxs("button",{onClick:()=>f(m.view),disabled:v,className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${g?"text-indigo-400 font-semibold":"text-gray-500 hover:text-white"} ${v?"opacity-40 cursor-not-allowed":""}`,"aria-current":g?"page":void 0,children:[" ",c.jsx(m.icon,{className:"w-6 h-6"})," ",c.jsx("span",{className:"text-xs font-semibold mt-1",children:m.label})," "]},m.view)})}),c.jsx("div",{style:{position:"fixed",bottom:"calc(4rem + 1rem)",right:"1rem",zIndex:40},children:c.jsx(Bx,{onSwitchModule:t})})]})}function Kot(){const{currentUser:t,isLoading:e}=sq(),{isLoading:n}=Yt(),[r,i]=P.useState("rebano"),[a,s]=P.useState({page:null,sourceModule:void 0}),[o,l]=P.useState({lactokeeper:{name:"dashboard"}});P.useEffect(()=>{r!=="rebano"&&s({page:null,sourceModule:void 0})},[r]);const u=P.useCallback(f=>{i(f)},[]),A=P.useCallback((f,h)=>{s({page:f,sourceModule:h}),i("rebano")},[]),d=P.useCallback(f=>{l(h=>({...h,lactokeeper:f}))},[]);if(e||t&&n)return c.jsx(Pae,{});if(!t)return c.jsx(Jpe,{});switch(r){case"lactokeeper":return c.jsx(s$e,{initialPage:o.lactokeeper,onPageStateChange:d,navigateToRebano:A,onSwitchModule:u});case"kilos":return c.jsx(g$e,{navigateToRebano:A,onSwitchModule:u});case"salud":return c.jsx(JXe,{onSwitchModule:u});case"cents":return c.jsx(nJe,{onSwitchModule:u});case"evolucion":return c.jsx($ot,{onSwitchModule:u});case"rebano":default:return c.jsx(QVe,{initialState:a,onSwitchModule:u})}}bN.createRoot(document.getElementById("root")).render(c.jsx(be.StrictMode,{children:c.jsx(Qhe,{children:c.jsx(Yhe,{children:c.jsx(Kot,{})})})}));export{Vr as _,tm as c,Rr as g};
