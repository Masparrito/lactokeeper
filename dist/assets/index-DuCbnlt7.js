var _B=Object.defineProperty;var SB=(t,e,n)=>e in t?_B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $i=(t,e,n)=>SB(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ut(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MD={exports:{}},h0={},RD={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=Symbol.for("react.element"),EB=Symbol.for("react.portal"),AB=Symbol.for("react.fragment"),TB=Symbol.for("react.strict_mode"),PB=Symbol.for("react.profiler"),CB=Symbol.for("react.provider"),OB=Symbol.for("react.context"),kB=Symbol.for("react.forward_ref"),IB=Symbol.for("react.suspense"),jB=Symbol.for("react.memo"),NB=Symbol.for("react.lazy"),CP=Symbol.iterator;function DB(t){return t===null||typeof t!="object"?null:(t=CP&&t[CP]||t["@@iterator"],typeof t=="function"?t:null)}var $D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LD=Object.assign,VD={};function Vf(t,e,n){this.props=t,this.context=e,this.refs=VD,this.updater=n||$D}Vf.prototype.isReactComponent={};Vf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FD(){}FD.prototype=Vf.prototype;function US(t,e,n){this.props=t,this.context=e,this.refs=VD,this.updater=n||$D}var WS=US.prototype=new FD;WS.constructor=US;LD(WS,Vf.prototype);WS.isPureReactComponent=!0;var OP=Array.isArray,zD=Object.prototype.hasOwnProperty,KS={current:null},BD={key:!0,ref:!0,__self:!0,__source:!0};function UD(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)zD.call(e,r)&&!BD.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Zp,type:t,key:a,ref:o,props:i,_owner:KS.current}}function MB(t,e){return{$$typeof:Zp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zp}function RB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kP=/\/+/g;function ex(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RB(""+t.key):e.toString(36)}function Ug(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zp:case EB:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ex(o,0):r,OP(i)?(n="",t!=null&&(n=t.replace(kP,"$&/")+"/"),Ug(i,e,n,"",function(c){return c})):i!=null&&(qS(i)&&(i=MB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",OP(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+ex(a,s);o+=Ug(a,e,n,l,i)}else if(l=DB(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+ex(a,s++),o+=Ug(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zm(t,e,n){if(t==null)return t;var r=[],i=0;return Ug(t,r,"","",function(a){return e.call(n,a,i++)}),r}function $B(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lr={current:null},Wg={transition:null},LB={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:Wg,ReactCurrentOwner:KS};function WD(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:Zm,forEach:function(t,e,n){Zm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zm(t,function(){e++}),e},toArray:function(t){return Zm(t,function(e){return e})||[]},only:function(t){if(!qS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=Vf;yt.Fragment=AB;yt.Profiler=PB;yt.PureComponent=US;yt.StrictMode=TB;yt.Suspense=IB;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LB;yt.act=WD;yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LD({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=KS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)zD.call(e,l)&&!BD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Zp,type:t.type,key:i,ref:a,props:r,_owner:o}};yt.createContext=function(t){return t={$$typeof:OB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CB,_context:t},t.Consumer=t};yt.createElement=UD;yt.createFactory=function(t){var e=UD.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:kB,render:t}};yt.isValidElement=qS;yt.lazy=function(t){return{$$typeof:NB,_payload:{_status:-1,_result:t},_init:$B}};yt.memo=function(t,e){return{$$typeof:jB,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=Wg.transition;Wg.transition={};try{t()}finally{Wg.transition=e}};yt.unstable_act=WD;yt.useCallback=function(t,e){return Lr.current.useCallback(t,e)};yt.useContext=function(t){return Lr.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return Lr.current.useDeferredValue(t)};yt.useEffect=function(t,e){return Lr.current.useEffect(t,e)};yt.useId=function(){return Lr.current.useId()};yt.useImperativeHandle=function(t,e,n){return Lr.current.useImperativeHandle(t,e,n)};yt.useInsertionEffect=function(t,e){return Lr.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return Lr.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return Lr.current.useMemo(t,e)};yt.useReducer=function(t,e,n){return Lr.current.useReducer(t,e,n)};yt.useRef=function(t){return Lr.current.useRef(t)};yt.useState=function(t){return Lr.current.useState(t)};yt.useSyncExternalStore=function(t,e,n){return Lr.current.useSyncExternalStore(t,e,n)};yt.useTransition=function(){return Lr.current.useTransition()};yt.version="18.3.1";RD.exports=yt;var V=RD.exports;const U=Ut(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VB=V,FB=Symbol.for("react.element"),zB=Symbol.for("react.fragment"),BB=Object.prototype.hasOwnProperty,UB=VB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WB={key:!0,ref:!0,__self:!0,__source:!0};function KD(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BB.call(e,r)&&!WB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FB,type:t,key:a,ref:o,props:i,_owner:UB.current}}h0.Fragment=zB;h0.jsx=KD;h0.jsxs=KD;MD.exports=h0;var f=MD.exports,Nw={},qD={exports:{}},Ai={},HD={exports:{}},GD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,G){var pe=Y.length;Y.push(G);e:for(;0<pe;){var Se=pe-1>>>1,xe=Y[Se];if(0<i(xe,G))Y[Se]=G,Y[pe]=xe,pe=Se;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var G=Y[0],pe=Y.pop();if(pe!==G){Y[0]=pe;e:for(var Se=0,xe=Y.length,je=xe>>>1;Se<je;){var Ke=2*(Se+1)-1,ft=Y[Ke],ct=Ke+1,Ce=Y[ct];if(0>i(ft,pe))ct<xe&&0>i(Ce,ft)?(Y[Se]=Ce,Y[ct]=pe,Se=ct):(Y[Se]=ft,Y[Ke]=pe,Se=Ke);else if(ct<xe&&0>i(Ce,pe))Y[Se]=Ce,Y[ct]=pe,Se=ct;else break e}}return G}function i(Y,G){var pe=Y.sortIndex-G.sortIndex;return pe!==0?pe:Y.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,g=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=Y)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function k(Y){if(v=!1,A(Y),!b)if(n(l)!==null)b=!0,ce(S);else{var G=n(c);G!==null&&le(k,G.startTime-Y)}}function S(Y,G){b=!1,v&&(v=!1,x(T),T=-1),g=!0;var pe=h;try{for(A(G),d=n(l);d!==null&&(!(d.expirationTime>G)||Y&&!N());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,h=d.priorityLevel;var xe=Se(d.expirationTime<=G);G=t.unstable_now(),typeof xe=="function"?d.callback=xe:d===n(l)&&r(l),A(G)}else r(l);d=n(l)}if(d!==null)var je=!0;else{var Ke=n(c);Ke!==null&&le(k,Ke.startTime-G),je=!1}return je}finally{d=null,h=pe,g=!1}}var C=!1,E=null,T=-1,j=5,D=-1;function N(){return!(t.unstable_now()-D<j)}function $(){if(E!==null){var Y=t.unstable_now();D=Y;var G=!0;try{G=E(!0,Y)}finally{G?L():(C=!1,E=null)}}else C=!1}var L;if(typeof _=="function")L=function(){_($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ne=Q.port2;Q.port1.onmessage=$,L=function(){ne.postMessage(null)}}else L=function(){w($,0)};function ce(Y){E=Y,C||(C=!0,L())}function le(Y,G){T=w(function(){Y(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,ce(S))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var pe=h;h=G;try{return Y()}finally{h=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,G){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=h;h=Y;try{return G()}finally{h=pe}},t.unstable_scheduleCallback=function(Y,G,pe){var Se=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Se+pe:Se):pe=Se,Y){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=pe+xe,Y={id:u++,callback:G,priorityLevel:Y,startTime:pe,expirationTime:xe,sortIndex:-1},pe>Se?(Y.sortIndex=pe,e(c,Y),n(l)===null&&Y===n(c)&&(v?(x(T),T=-1):v=!0,le(k,pe-Se))):(Y.sortIndex=xe,e(l,Y),b||g||(b=!0,ce(S))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var G=h;return function(){var pe=h;h=G;try{return Y.apply(this,arguments)}finally{h=pe}}}})(GD);HD.exports=GD;var KB=HD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qB=V,wi=KB;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YD=new Set,Mh={};function Tc(t,e){Hu(t,e),Hu(t+"Capture",e)}function Hu(t,e){for(Mh[t]=e,t=0;t<e.length;t++)YD.add(e[t])}var Bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dw=Object.prototype.hasOwnProperty,HB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IP={},jP={};function GB(t){return Dw.call(jP,t)?!0:Dw.call(IP,t)?!1:HB.test(t)?jP[t]=!0:(IP[t]=!0,!1)}function YB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XB(t,e,n,r){if(e===null||typeof e>"u"||YB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vr(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dr[t]=new Vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dr[e]=new Vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dr[t]=new Vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dr[t]=new Vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dr[t]=new Vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dr[t]=new Vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dr[t]=new Vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dr[t]=new Vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dr[t]=new Vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var HS=/[\-:]([a-z])/g;function GS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(HS,GS);dr[e]=new Vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(HS,GS);dr[e]=new Vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(HS,GS);dr[e]=new Vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function YS(t,e,n,r){var i=dr.hasOwnProperty(e)?dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XB(e,n,i,r)&&(n=null),r||i===null?GB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=qB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jm=Symbol.for("react.element"),hu=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),XS=Symbol.for("react.strict_mode"),Mw=Symbol.for("react.profiler"),XD=Symbol.for("react.provider"),QD=Symbol.for("react.context"),QS=Symbol.for("react.forward_ref"),Rw=Symbol.for("react.suspense"),$w=Symbol.for("react.suspense_list"),ZS=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),ZD=Symbol.for("react.offscreen"),NP=Symbol.iterator;function Od(t){return t===null||typeof t!="object"?null:(t=NP&&t[NP]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,tx;function Xd(t){if(tx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tx=e&&e[1]||""}return`
`+tx+t}var nx=!1;function rx(t,e){if(!t||nx)return"";nx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{nx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xd(t):""}function QB(t){switch(t.tag){case 5:return Xd(t.type);case 16:return Xd("Lazy");case 13:return Xd("Suspense");case 19:return Xd("SuspenseList");case 0:case 2:case 15:return t=rx(t.type,!1),t;case 11:return t=rx(t.type.render,!1),t;case 1:return t=rx(t.type,!0),t;default:return""}}function Lw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pu:return"Fragment";case hu:return"Portal";case Mw:return"Profiler";case XS:return"StrictMode";case Rw:return"Suspense";case $w:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QD:return(t.displayName||"Context")+".Consumer";case XD:return(t._context.displayName||"Context")+".Provider";case QS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ZS:return e=t.displayName||null,e!==null?e:Lw(t.type)||"Memo";case ws:e=t._payload,t=t._init;try{return Lw(t(e))}catch{}}return null}function ZB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lw(e);case 8:return e===XS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JB(t){var e=JD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eg(t){t._valueTracker||(t._valueTracker=JB(t))}function eM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vw(t,e){var n=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function DP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tM(t,e){e=e.checked,e!=null&&YS(t,"checked",e,!1)}function Fw(t,e){tM(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zw(t,e.type,n):e.hasOwnProperty("defaultValue")&&zw(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function MP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zw(t,e,n){(e!=="number"||dy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qd=Array.isArray;function Nu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(Qd(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function nM(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $P(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tg,iM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tg=tg||document.createElement("div"),tg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e6=["Webkit","ms","Moz","O"];Object.keys(fh).forEach(function(t){e6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fh[e]=fh[t]})});function aM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fh.hasOwnProperty(t)&&fh[t]?(""+e).trim():e+"px"}function oM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var t6=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ww(t,e){if(e){if(t6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function Kw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qw=null;function JS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hw=null,Du=null,Mu=null;function LP(t){if(t=tm(t)){if(typeof Hw!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=v0(e),Hw(t.stateNode,t.type,e))}}function sM(t){Du?Mu?Mu.push(t):Mu=[t]:Du=t}function lM(){if(Du){var t=Du,e=Mu;if(Mu=Du=null,LP(t),e)for(t=0;t<e.length;t++)LP(e[t])}}function cM(t,e){return t(e)}function uM(){}var ix=!1;function fM(t,e,n){if(ix)return t(e,n);ix=!0;try{return cM(t,e,n)}finally{ix=!1,(Du!==null||Mu!==null)&&(uM(),lM())}}function $h(t,e){var n=t.stateNode;if(n===null)return null;var r=v0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var Gw=!1;if(Bo)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){Gw=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{Gw=!1}function n6(t,e,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var dh=!1,hy=null,py=!1,Yw=null,r6={onError:function(t){dh=!0,hy=t}};function i6(t,e,n,r,i,a,o,s,l){dh=!1,hy=null,n6.apply(r6,arguments)}function a6(t,e,n,r,i,a,o,s,l){if(i6.apply(this,arguments),dh){if(dh){var c=hy;dh=!1,hy=null}else throw Error(_e(198));py||(py=!0,Yw=c)}}function Pc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function VP(t){if(Pc(t)!==t)throw Error(_e(188))}function o6(t){var e=t.alternate;if(!e){if(e=Pc(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return VP(i),t;if(a===r)return VP(i),e;a=a.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function hM(t){return t=o6(t),t!==null?pM(t):null}function pM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pM(t);if(e!==null)return e;t=t.sibling}return null}var mM=wi.unstable_scheduleCallback,FP=wi.unstable_cancelCallback,s6=wi.unstable_shouldYield,l6=wi.unstable_requestPaint,Tn=wi.unstable_now,c6=wi.unstable_getCurrentPriorityLevel,eE=wi.unstable_ImmediatePriority,gM=wi.unstable_UserBlockingPriority,my=wi.unstable_NormalPriority,u6=wi.unstable_LowPriority,yM=wi.unstable_IdlePriority,p0=null,Qa=null;function f6(t){if(Qa&&typeof Qa.onCommitFiberRoot=="function")try{Qa.onCommitFiberRoot(p0,t,void 0,(t.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:p6,d6=Math.log,h6=Math.LN2;function p6(t){return t>>>=0,t===0?32:31-(d6(t)/h6|0)|0}var ng=64,rg=4194304;function Zd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Zd(s):(a&=o,a!==0&&(r=Zd(a)))}else o=n&~i,o!==0?r=Zd(o):a!==0&&(r=Zd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ta(e),i=1<<n,r|=t[n],e&=~i;return r}function m6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Ta(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=m6(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Xw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vM(){var t=ng;return ng<<=1,!(ng&4194240)&&(ng=64),t}function ax(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ta(e),t[e]=n}function y6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ta(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function tE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ta(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Lt=0;function bM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xM,nE,wM,_M,SM,Qw=!1,ig=[],js=null,Ns=null,Ds=null,Lh=new Map,Vh=new Map,Es=[],v6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zP(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(e.pointerId)}}function Id(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=tm(e),e!==null&&nE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b6(t,e,n,r,i){switch(e){case"focusin":return js=Id(js,t,e,n,r,i),!0;case"dragenter":return Ns=Id(Ns,t,e,n,r,i),!0;case"mouseover":return Ds=Id(Ds,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Lh.set(a,Id(Lh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vh.set(a,Id(Vh.get(a)||null,t,e,n,r,i)),!0}return!1}function EM(t){var e=Kl(t.target);if(e!==null){var n=Pc(e);if(n!==null){if(e=n.tag,e===13){if(e=dM(n),e!==null){t.blockedOn=e,SM(t.priority,function(){wM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qw=r,n.target.dispatchEvent(r),qw=null}else return e=tm(n),e!==null&&nE(e),t.blockedOn=n,!1;e.shift()}return!0}function BP(t,e,n){Kg(t)&&n.delete(e)}function x6(){Qw=!1,js!==null&&Kg(js)&&(js=null),Ns!==null&&Kg(Ns)&&(Ns=null),Ds!==null&&Kg(Ds)&&(Ds=null),Lh.forEach(BP),Vh.forEach(BP)}function jd(t,e){t.blockedOn===e&&(t.blockedOn=null,Qw||(Qw=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,x6)))}function Fh(t){function e(i){return jd(i,t)}if(0<ig.length){jd(ig[0],t);for(var n=1;n<ig.length;n++){var r=ig[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&jd(js,t),Ns!==null&&jd(Ns,t),Ds!==null&&jd(Ds,t),Lh.forEach(e),Vh.forEach(e),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)EM(n),n.blockedOn===null&&Es.shift()}var Ru=ts.ReactCurrentBatchConfig,yy=!0;function w6(t,e,n,r){var i=Lt,a=Ru.transition;Ru.transition=null;try{Lt=1,rE(t,e,n,r)}finally{Lt=i,Ru.transition=a}}function _6(t,e,n,r){var i=Lt,a=Ru.transition;Ru.transition=null;try{Lt=4,rE(t,e,n,r)}finally{Lt=i,Ru.transition=a}}function rE(t,e,n,r){if(yy){var i=Zw(t,e,n,r);if(i===null)mx(t,e,r,vy,n),zP(t,r);else if(b6(i,t,e,n,r))r.stopPropagation();else if(zP(t,r),e&4&&-1<v6.indexOf(t)){for(;i!==null;){var a=tm(i);if(a!==null&&xM(a),a=Zw(t,e,n,r),a===null&&mx(t,e,r,vy,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else mx(t,e,r,null,n)}}var vy=null;function Zw(t,e,n,r){if(vy=null,t=JS(r),t=Kl(t),t!==null)if(e=Pc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vy=t,null}function AM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c6()){case eE:return 1;case gM:return 4;case my:case u6:return 16;case yM:return 536870912;default:return 16}default:return 16}}var Ps=null,iE=null,qg=null;function TM(){if(qg)return qg;var t,e=iE,n=e.length,r,i="value"in Ps?Ps.value:Ps.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return qg=i.slice(t,1<r?1-r:void 0)}function Hg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ag(){return!0}function UP(){return!1}function Ti(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ag:UP,this.isPropagationStopped=UP,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ag)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ag)},persist:function(){},isPersistent:ag}),e}var Ff={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aE=Ti(Ff),em=pn({},Ff,{view:0,detail:0}),S6=Ti(em),ox,sx,Nd,m0=pn({},em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nd&&(Nd&&t.type==="mousemove"?(ox=t.screenX-Nd.screenX,sx=t.screenY-Nd.screenY):sx=ox=0,Nd=t),ox)},movementY:function(t){return"movementY"in t?t.movementY:sx}}),WP=Ti(m0),E6=pn({},m0,{dataTransfer:0}),A6=Ti(E6),T6=pn({},em,{relatedTarget:0}),lx=Ti(T6),P6=pn({},Ff,{animationName:0,elapsedTime:0,pseudoElement:0}),C6=Ti(P6),O6=pn({},Ff,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k6=Ti(O6),I6=pn({},Ff,{data:0}),KP=Ti(I6),j6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D6[t])?!!e[t]:!1}function oE(){return M6}var R6=pn({},em,{key:function(t){if(t.key){var e=j6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oE,charCode:function(t){return t.type==="keypress"?Hg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$6=Ti(R6),L6=pn({},m0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qP=Ti(L6),V6=pn({},em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oE}),F6=Ti(V6),z6=pn({},Ff,{propertyName:0,elapsedTime:0,pseudoElement:0}),B6=Ti(z6),U6=pn({},m0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W6=Ti(U6),K6=[9,13,27,32],sE=Bo&&"CompositionEvent"in window,hh=null;Bo&&"documentMode"in document&&(hh=document.documentMode);var q6=Bo&&"TextEvent"in window&&!hh,PM=Bo&&(!sE||hh&&8<hh&&11>=hh),HP=" ",GP=!1;function CM(t,e){switch(t){case"keyup":return K6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mu=!1;function H6(t,e){switch(t){case"compositionend":return OM(e);case"keypress":return e.which!==32?null:(GP=!0,HP);case"textInput":return t=e.data,t===HP&&GP?null:t;default:return null}}function G6(t,e){if(mu)return t==="compositionend"||!sE&&CM(t,e)?(t=TM(),qg=iE=Ps=null,mu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PM&&e.locale!=="ko"?null:e.data;default:return null}}var Y6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y6[t.type]:e==="textarea"}function kM(t,e,n,r){sM(r),e=by(e,"onChange"),0<e.length&&(n=new aE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ph=null,zh=null;function X6(t){zM(t,0)}function g0(t){var e=vu(t);if(eM(e))return t}function Q6(t,e){if(t==="change")return e}var IM=!1;if(Bo){var cx;if(Bo){var ux="oninput"in document;if(!ux){var XP=document.createElement("div");XP.setAttribute("oninput","return;"),ux=typeof XP.oninput=="function"}cx=ux}else cx=!1;IM=cx&&(!document.documentMode||9<document.documentMode)}function QP(){ph&&(ph.detachEvent("onpropertychange",jM),zh=ph=null)}function jM(t){if(t.propertyName==="value"&&g0(zh)){var e=[];kM(e,zh,t,JS(t)),fM(X6,e)}}function Z6(t,e,n){t==="focusin"?(QP(),ph=e,zh=n,ph.attachEvent("onpropertychange",jM)):t==="focusout"&&QP()}function J6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return g0(zh)}function eU(t,e){if(t==="click")return g0(e)}function tU(t,e){if(t==="input"||t==="change")return g0(e)}function nU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ca=typeof Object.is=="function"?Object.is:nU;function Bh(t,e){if(Ca(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dw.call(e,i)||!Ca(t[i],e[i]))return!1}return!0}function ZP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function JP(t,e){var n=ZP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZP(n)}}function NM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DM(){for(var t=window,e=dy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dy(t.document)}return e}function lE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rU(t){var e=DM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NM(n.ownerDocument.documentElement,n)){if(r!==null&&lE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=JP(n,a);var o=JP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iU=Bo&&"documentMode"in document&&11>=document.documentMode,gu=null,Jw=null,mh=null,e1=!1;function eC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e1||gu==null||gu!==dy(r)||(r=gu,"selectionStart"in r&&lE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mh&&Bh(mh,r)||(mh=r,r=by(Jw,"onSelect"),0<r.length&&(e=new aE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gu)))}function og(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yu={animationend:og("Animation","AnimationEnd"),animationiteration:og("Animation","AnimationIteration"),animationstart:og("Animation","AnimationStart"),transitionend:og("Transition","TransitionEnd")},fx={},MM={};Bo&&(MM=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function y0(t){if(fx[t])return fx[t];if(!yu[t])return t;var e=yu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MM)return fx[t]=e[n];return t}var RM=y0("animationend"),$M=y0("animationiteration"),LM=y0("animationstart"),VM=y0("transitionend"),FM=new Map,tC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(t,e){FM.set(t,e),Tc(e,[t])}for(var dx=0;dx<tC.length;dx++){var hx=tC[dx],aU=hx.toLowerCase(),oU=hx[0].toUpperCase()+hx.slice(1);rl(aU,"on"+oU)}rl(RM,"onAnimationEnd");rl($M,"onAnimationIteration");rl(LM,"onAnimationStart");rl("dblclick","onDoubleClick");rl("focusin","onFocus");rl("focusout","onBlur");rl(VM,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jd));function nC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a6(r,e,void 0,t),t.currentTarget=null}function zM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;nC(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;nC(i,s,c),a=l}}}if(py)throw t=Yw,py=!1,Yw=null,t}function en(t,e){var n=e[a1];n===void 0&&(n=e[a1]=new Set);var r=t+"__bubble";n.has(r)||(BM(e,t,2,!1),n.add(r))}function px(t,e,n){var r=0;e&&(r|=4),BM(n,t,r,e)}var sg="_reactListening"+Math.random().toString(36).slice(2);function Uh(t){if(!t[sg]){t[sg]=!0,YD.forEach(function(n){n!=="selectionchange"&&(sU.has(n)||px(n,!1,t),px(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sg]||(e[sg]=!0,px("selectionchange",!1,e))}}function BM(t,e,n,r){switch(AM(e)){case 1:var i=w6;break;case 4:i=_6;break;default:i=rE}n=i.bind(null,e,n,t),i=void 0,!Gw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mx(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Kl(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}fM(function(){var c=a,u=JS(n),d=[];e:{var h=FM.get(t);if(h!==void 0){var g=aE,b=t;switch(t){case"keypress":if(Hg(n)===0)break e;case"keydown":case"keyup":g=$6;break;case"focusin":b="focus",g=lx;break;case"focusout":b="blur",g=lx;break;case"beforeblur":case"afterblur":g=lx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=WP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=A6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=F6;break;case RM:case $M:case LM:g=C6;break;case VM:g=B6;break;case"scroll":g=S6;break;case"wheel":g=W6;break;case"copy":case"cut":case"paste":g=k6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qP}var v=(e&4)!==0,w=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var _=c,A;_!==null;){A=_;var k=A.stateNode;if(A.tag===5&&k!==null&&(A=k,x!==null&&(k=$h(_,x),k!=null&&v.push(Wh(_,k,A)))),w)break;_=_.return}0<v.length&&(h=new g(h,b,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==qw&&(b=n.relatedTarget||n.fromElement)&&(Kl(b)||b[Uo]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=c,b=b?Kl(b):null,b!==null&&(w=Pc(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(v=WP,k="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=qP,k="onPointerLeave",x="onPointerEnter",_="pointer"),w=g==null?h:vu(g),A=b==null?h:vu(b),h=new v(k,_+"leave",g,n,u),h.target=w,h.relatedTarget=A,k=null,Kl(u)===c&&(v=new v(x,_+"enter",b,n,u),v.target=A,v.relatedTarget=w,k=v),w=k,g&&b)t:{for(v=g,x=b,_=0,A=v;A;A=nu(A))_++;for(A=0,k=x;k;k=nu(k))A++;for(;0<_-A;)v=nu(v),_--;for(;0<A-_;)x=nu(x),A--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=nu(v),x=nu(x)}v=null}else v=null;g!==null&&rC(d,h,g,v,!1),b!==null&&w!==null&&rC(d,w,b,v,!0)}}e:{if(h=c?vu(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=Q6;else if(YP(h))if(IM)S=tU;else{S=J6;var C=Z6}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=eU);if(S&&(S=S(t,c))){kM(d,S,n,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&zw(h,"number",h.value)}switch(C=c?vu(c):window,t){case"focusin":(YP(C)||C.contentEditable==="true")&&(gu=C,Jw=c,mh=null);break;case"focusout":mh=Jw=gu=null;break;case"mousedown":e1=!0;break;case"contextmenu":case"mouseup":case"dragend":e1=!1,eC(d,n,u);break;case"selectionchange":if(iU)break;case"keydown":case"keyup":eC(d,n,u)}var E;if(sE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else mu?CM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(PM&&n.locale!=="ko"&&(mu||T!=="onCompositionStart"?T==="onCompositionEnd"&&mu&&(E=TM()):(Ps=u,iE="value"in Ps?Ps.value:Ps.textContent,mu=!0)),C=by(c,T),0<C.length&&(T=new KP(T,t,null,n,u),d.push({event:T,listeners:C}),E?T.data=E:(E=OM(n),E!==null&&(T.data=E)))),(E=q6?H6(t,n):G6(t,n))&&(c=by(c,"onBeforeInput"),0<c.length&&(u=new KP("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}zM(d,e)})}function Wh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function by(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$h(t,n),a!=null&&r.unshift(Wh(t,a,i)),a=$h(t,e),a!=null&&r.push(Wh(t,a,i))),t=t.return}return r}function nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=$h(n,a),l!=null&&o.unshift(Wh(n,l,s))):i||(l=$h(n,a),l!=null&&o.push(Wh(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lU=/\r\n?/g,cU=/\u0000|\uFFFD/g;function iC(t){return(typeof t=="string"?t:""+t).replace(lU,`
`).replace(cU,"")}function lg(t,e,n){if(e=iC(e),iC(t)!==e&&n)throw Error(_e(425))}function xy(){}var t1=null,n1=null;function r1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i1=typeof setTimeout=="function"?setTimeout:void 0,uU=typeof clearTimeout=="function"?clearTimeout:void 0,aC=typeof Promise=="function"?Promise:void 0,fU=typeof queueMicrotask=="function"?queueMicrotask:typeof aC<"u"?function(t){return aC.resolve(null).then(t).catch(dU)}:i1;function dU(t){setTimeout(function(){throw t})}function gx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fh(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zf=Math.random().toString(36).slice(2),Ka="__reactFiber$"+zf,Kh="__reactProps$"+zf,Uo="__reactContainer$"+zf,a1="__reactEvents$"+zf,hU="__reactListeners$"+zf,pU="__reactHandles$"+zf;function Kl(t){var e=t[Ka];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Uo]||n[Ka]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oC(t);t!==null;){if(n=t[Ka])return n;t=oC(t)}return e}t=n,n=t.parentNode}return null}function tm(t){return t=t[Ka]||t[Uo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function v0(t){return t[Kh]||null}var o1=[],bu=-1;function il(t){return{current:t}}function an(t){0>bu||(t.current=o1[bu],o1[bu]=null,bu--)}function Qt(t,e){bu++,o1[bu]=t.current,t.current=e}var Ys={},Cr=il(Ys),Jr=il(!1),fc=Ys;function Gu(t,e){var n=t.type.contextTypes;if(!n)return Ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ei(t){return t=t.childContextTypes,t!=null}function wy(){an(Jr),an(Cr)}function sC(t,e,n){if(Cr.current!==Ys)throw Error(_e(168));Qt(Cr,e),Qt(Jr,n)}function UM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_e(108,ZB(t)||"Unknown",i));return pn({},n,r)}function _y(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,fc=Cr.current,Qt(Cr,t),Qt(Jr,Jr.current),!0}function lC(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=UM(t,e,fc),r.__reactInternalMemoizedMergedChildContext=t,an(Jr),an(Cr),Qt(Cr,t)):an(Jr),Qt(Jr,n)}var Po=null,b0=!1,yx=!1;function WM(t){Po===null?Po=[t]:Po.push(t)}function mU(t){b0=!0,WM(t)}function al(){if(!yx&&Po!==null){yx=!0;var t=0,e=Lt;try{var n=Po;for(Lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Po=null,b0=!1}catch(i){throw Po!==null&&(Po=Po.slice(t+1)),mM(eE,al),i}finally{Lt=e,yx=!1}}return null}var xu=[],wu=0,Sy=null,Ey=0,Ui=[],Wi=0,dc=null,Co=1,Oo="";function Rl(t,e){xu[wu++]=Ey,xu[wu++]=Sy,Sy=t,Ey=e}function KM(t,e,n){Ui[Wi++]=Co,Ui[Wi++]=Oo,Ui[Wi++]=dc,dc=t;var r=Co;t=Oo;var i=32-Ta(r)-1;r&=~(1<<i),n+=1;var a=32-Ta(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Co=1<<32-Ta(e)+i|n<<i|r,Oo=a+t}else Co=1<<a|n<<i|r,Oo=t}function cE(t){t.return!==null&&(Rl(t,1),KM(t,1,0))}function uE(t){for(;t===Sy;)Sy=xu[--wu],xu[wu]=null,Ey=xu[--wu],xu[wu]=null;for(;t===dc;)dc=Ui[--Wi],Ui[Wi]=null,Oo=Ui[--Wi],Ui[Wi]=null,Co=Ui[--Wi],Ui[Wi]=null}var vi=null,gi=null,sn=!1,wa=null;function qM(t,e){var n=qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vi=t,gi=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vi=t,gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dc!==null?{id:Co,overflow:Oo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vi=t,gi=null,!0):!1;default:return!1}}function s1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l1(t){if(sn){var e=gi;if(e){var n=e;if(!cC(t,e)){if(s1(t))throw Error(_e(418));e=Ms(n.nextSibling);var r=vi;e&&cC(t,e)?qM(r,n):(t.flags=t.flags&-4097|2,sn=!1,vi=t)}}else{if(s1(t))throw Error(_e(418));t.flags=t.flags&-4097|2,sn=!1,vi=t}}}function uC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vi=t}function cg(t){if(t!==vi)return!1;if(!sn)return uC(t),sn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r1(t.type,t.memoizedProps)),e&&(e=gi)){if(s1(t))throw HM(),Error(_e(418));for(;e;)qM(t,e),e=Ms(e.nextSibling)}if(uC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gi=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gi=null}}else gi=vi?Ms(t.stateNode.nextSibling):null;return!0}function HM(){for(var t=gi;t;)t=Ms(t.nextSibling)}function Yu(){gi=vi=null,sn=!1}function fE(t){wa===null?wa=[t]:wa.push(t)}var gU=ts.ReactCurrentBatchConfig;function Dd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function ug(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fC(t){var e=t._init;return e(t._payload)}function GM(t){function e(x,_){if(t){var A=x.deletions;A===null?(x.deletions=[_],x.flags|=16):A.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Vs(x,_),x.index=0,x.sibling=null,x}function a(x,_,A){return x.index=A,t?(A=x.alternate,A!==null?(A=A.index,A<_?(x.flags|=2,_):A):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,_,A,k){return _===null||_.tag!==6?(_=Ex(A,x.mode,k),_.return=x,_):(_=i(_,A),_.return=x,_)}function l(x,_,A,k){var S=A.type;return S===pu?u(x,_,A.props.children,k,A.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ws&&fC(S)===_.type)?(k=i(_,A.props),k.ref=Dd(x,_,A),k.return=x,k):(k=ey(A.type,A.key,A.props,null,x.mode,k),k.ref=Dd(x,_,A),k.return=x,k)}function c(x,_,A,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=Ax(A,x.mode,k),_.return=x,_):(_=i(_,A.children||[]),_.return=x,_)}function u(x,_,A,k,S){return _===null||_.tag!==7?(_=ic(A,x.mode,k,S),_.return=x,_):(_=i(_,A),_.return=x,_)}function d(x,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ex(""+_,x.mode,A),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jm:return A=ey(_.type,_.key,_.props,null,x.mode,A),A.ref=Dd(x,null,_),A.return=x,A;case hu:return _=Ax(_,x.mode,A),_.return=x,_;case ws:var k=_._init;return d(x,k(_._payload),A)}if(Qd(_)||Od(_))return _=ic(_,x.mode,A,null),_.return=x,_;ug(x,_)}return null}function h(x,_,A,k){var S=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return S!==null?null:s(x,_,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Jm:return A.key===S?l(x,_,A,k):null;case hu:return A.key===S?c(x,_,A,k):null;case ws:return S=A._init,h(x,_,S(A._payload),k)}if(Qd(A)||Od(A))return S!==null?null:u(x,_,A,k,null);ug(x,A)}return null}function g(x,_,A,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(A)||null,s(_,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Jm:return x=x.get(k.key===null?A:k.key)||null,l(_,x,k,S);case hu:return x=x.get(k.key===null?A:k.key)||null,c(_,x,k,S);case ws:var C=k._init;return g(x,_,A,C(k._payload),S)}if(Qd(k)||Od(k))return x=x.get(A)||null,u(_,x,k,S,null);ug(_,k)}return null}function b(x,_,A,k){for(var S=null,C=null,E=_,T=_=0,j=null;E!==null&&T<A.length;T++){E.index>T?(j=E,E=null):j=E.sibling;var D=h(x,E,A[T],k);if(D===null){E===null&&(E=j);break}t&&E&&D.alternate===null&&e(x,E),_=a(D,_,T),C===null?S=D:C.sibling=D,C=D,E=j}if(T===A.length)return n(x,E),sn&&Rl(x,T),S;if(E===null){for(;T<A.length;T++)E=d(x,A[T],k),E!==null&&(_=a(E,_,T),C===null?S=E:C.sibling=E,C=E);return sn&&Rl(x,T),S}for(E=r(x,E);T<A.length;T++)j=g(E,x,T,A[T],k),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?T:j.key),_=a(j,_,T),C===null?S=j:C.sibling=j,C=j);return t&&E.forEach(function(N){return e(x,N)}),sn&&Rl(x,T),S}function v(x,_,A,k){var S=Od(A);if(typeof S!="function")throw Error(_e(150));if(A=S.call(A),A==null)throw Error(_e(151));for(var C=S=null,E=_,T=_=0,j=null,D=A.next();E!==null&&!D.done;T++,D=A.next()){E.index>T?(j=E,E=null):j=E.sibling;var N=h(x,E,D.value,k);if(N===null){E===null&&(E=j);break}t&&E&&N.alternate===null&&e(x,E),_=a(N,_,T),C===null?S=N:C.sibling=N,C=N,E=j}if(D.done)return n(x,E),sn&&Rl(x,T),S;if(E===null){for(;!D.done;T++,D=A.next())D=d(x,D.value,k),D!==null&&(_=a(D,_,T),C===null?S=D:C.sibling=D,C=D);return sn&&Rl(x,T),S}for(E=r(x,E);!D.done;T++,D=A.next())D=g(E,x,T,D.value,k),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?T:D.key),_=a(D,_,T),C===null?S=D:C.sibling=D,C=D);return t&&E.forEach(function($){return e(x,$)}),sn&&Rl(x,T),S}function w(x,_,A,k){if(typeof A=="object"&&A!==null&&A.type===pu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Jm:e:{for(var S=A.key,C=_;C!==null;){if(C.key===S){if(S=A.type,S===pu){if(C.tag===7){n(x,C.sibling),_=i(C,A.props.children),_.return=x,x=_;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ws&&fC(S)===C.type){n(x,C.sibling),_=i(C,A.props),_.ref=Dd(x,C,A),_.return=x,x=_;break e}n(x,C);break}else e(x,C);C=C.sibling}A.type===pu?(_=ic(A.props.children,x.mode,k,A.key),_.return=x,x=_):(k=ey(A.type,A.key,A.props,null,x.mode,k),k.ref=Dd(x,_,A),k.return=x,x=k)}return o(x);case hu:e:{for(C=A.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(x,_.sibling),_=i(_,A.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Ax(A,x.mode,k),_.return=x,x=_}return o(x);case ws:return C=A._init,w(x,_,C(A._payload),k)}if(Qd(A))return b(x,_,A,k);if(Od(A))return v(x,_,A,k);ug(x,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,A),_.return=x,x=_):(n(x,_),_=Ex(A,x.mode,k),_.return=x,x=_),o(x)):n(x,_)}return w}var Xu=GM(!0),YM=GM(!1),Ay=il(null),Ty=null,_u=null,dE=null;function hE(){dE=_u=Ty=null}function pE(t){var e=Ay.current;an(Ay),t._currentValue=e}function c1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $u(t,e){Ty=t,dE=_u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qr=!0),t.firstContext=null)}function Zi(t){var e=t._currentValue;if(dE!==t)if(t={context:t,memoizedValue:e,next:null},_u===null){if(Ty===null)throw Error(_e(308));_u=t,Ty.dependencies={lanes:0,firstContext:t}}else _u=_u.next=t;return e}var ql=null;function mE(t){ql===null?ql=[t]:ql.push(t)}function XM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wo(t,r)}function Wo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _s=!1;function gE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wo(t,n)}return i=r.interleaved,i===null?(e.next=e,mE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wo(t,n)}function Gg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tE(t,n)}}function dC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Py(t,e,n,r){var i=t.updateQueue;_s=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,g=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=t,v=s;switch(h=e,g=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){d=b.call(g,d,h);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,h=typeof b=="function"?b.call(g,d,h):b,h==null)break e;d=pn({},d,h);break e;case 2:_s=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);pc|=o,t.lanes=o,t.memoizedState=d}}function hC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var nm={},Za=il(nm),qh=il(nm),Hh=il(nm);function Hl(t){if(t===nm)throw Error(_e(174));return t}function yE(t,e){switch(Qt(Hh,e),Qt(qh,t),Qt(Za,nm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uw(e,t)}an(Za),Qt(Za,e)}function Qu(){an(Za),an(qh),an(Hh)}function ZM(t){Hl(Hh.current);var e=Hl(Za.current),n=Uw(e,t.type);e!==n&&(Qt(qh,t),Qt(Za,n))}function vE(t){qh.current===t&&(an(Za),an(qh))}var dn=il(0);function Cy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vx=[];function bE(){for(var t=0;t<vx.length;t++)vx[t]._workInProgressVersionPrimary=null;vx.length=0}var Yg=ts.ReactCurrentDispatcher,bx=ts.ReactCurrentBatchConfig,hc=0,hn=null,Fn=null,Xn=null,Oy=!1,gh=!1,Gh=0,yU=0;function yr(){throw Error(_e(321))}function xE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ca(t[n],e[n]))return!1;return!0}function wE(t,e,n,r,i,a){if(hc=a,hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yg.current=t===null||t.memoizedState===null?wU:_U,t=n(r,i),gh){a=0;do{if(gh=!1,Gh=0,25<=a)throw Error(_e(301));a+=1,Xn=Fn=null,e.updateQueue=null,Yg.current=SU,t=n(r,i)}while(gh)}if(Yg.current=ky,e=Fn!==null&&Fn.next!==null,hc=0,Xn=Fn=hn=null,Oy=!1,e)throw Error(_e(300));return t}function _E(){var t=Gh!==0;return Gh=0,t}function za(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?hn.memoizedState=Xn=t:Xn=Xn.next=t,Xn}function Ji(){if(Fn===null){var t=hn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=Xn===null?hn.memoizedState:Xn.next;if(e!==null)Xn=e,Fn=t;else{if(t===null)throw Error(_e(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Xn===null?hn.memoizedState=Xn=t:Xn=Xn.next=t}return Xn}function Yh(t,e){return typeof e=="function"?e(t):e}function xx(t){var e=Ji(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((hc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,hn.lanes|=u,pc|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,Ca(r,e.memoizedState)||(Qr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,hn.lanes|=a,pc|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wx(t){var e=Ji(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ca(a,e.memoizedState)||(Qr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function JM(){}function eR(t,e){var n=hn,r=Ji(),i=e(),a=!Ca(r.memoizedState,i);if(a&&(r.memoizedState=i,Qr=!0),r=r.queue,SE(rR.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Xn!==null&&Xn.memoizedState.tag&1){if(n.flags|=2048,Xh(9,nR.bind(null,n,r,i,e),void 0,null),Jn===null)throw Error(_e(349));hc&30||tR(n,e,i)}return i}function tR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=hn.updateQueue,e===null?(e={lastEffect:null,stores:null},hn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nR(t,e,n,r){e.value=n,e.getSnapshot=r,iR(e)&&aR(t)}function rR(t,e,n){return n(function(){iR(e)&&aR(t)})}function iR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ca(t,n)}catch{return!0}}function aR(t){var e=Wo(t,1);e!==null&&Pa(e,t,1,-1)}function pC(t){var e=za();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:t},e.queue=t,t=t.dispatch=xU.bind(null,hn,t),[e.memoizedState,t]}function Xh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=hn.updateQueue,e===null?(e={lastEffect:null,stores:null},hn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oR(){return Ji().memoizedState}function Xg(t,e,n,r){var i=za();hn.flags|=t,i.memoizedState=Xh(1|e,n,void 0,r===void 0?null:r)}function x0(t,e,n,r){var i=Ji();r=r===void 0?null:r;var a=void 0;if(Fn!==null){var o=Fn.memoizedState;if(a=o.destroy,r!==null&&xE(r,o.deps)){i.memoizedState=Xh(e,n,a,r);return}}hn.flags|=t,i.memoizedState=Xh(1|e,n,a,r)}function mC(t,e){return Xg(8390656,8,t,e)}function SE(t,e){return x0(2048,8,t,e)}function sR(t,e){return x0(4,2,t,e)}function lR(t,e){return x0(4,4,t,e)}function cR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uR(t,e,n){return n=n!=null?n.concat([t]):null,x0(4,4,cR.bind(null,e,t),n)}function EE(){}function fR(t,e){var n=Ji();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dR(t,e){var n=Ji();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hR(t,e,n){return hc&21?(Ca(n,e)||(n=vM(),hn.lanes|=n,pc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qr=!0),t.memoizedState=n)}function vU(t,e){var n=Lt;Lt=n!==0&&4>n?n:4,t(!0);var r=bx.transition;bx.transition={};try{t(!1),e()}finally{Lt=n,bx.transition=r}}function pR(){return Ji().memoizedState}function bU(t,e,n){var r=Ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mR(t))gR(e,n);else if(n=XM(t,e,n,r),n!==null){var i=Mr();Pa(n,t,r,i),yR(n,e,r)}}function xU(t,e,n){var r=Ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mR(t))gR(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ca(s,o)){var l=e.interleaved;l===null?(i.next=i,mE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XM(t,e,i,r),n!==null&&(i=Mr(),Pa(n,t,r,i),yR(n,e,r))}}function mR(t){var e=t.alternate;return t===hn||e!==null&&e===hn}function gR(t,e){gh=Oy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tE(t,n)}}var ky={readContext:Zi,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},wU={readContext:Zi,useCallback:function(t,e){return za().memoizedState=[t,e===void 0?null:e],t},useContext:Zi,useEffect:mC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xg(4194308,4,cR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xg(4,2,t,e)},useMemo:function(t,e){var n=za();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=za();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bU.bind(null,hn,t),[r.memoizedState,t]},useRef:function(t){var e=za();return t={current:t},e.memoizedState=t},useState:pC,useDebugValue:EE,useDeferredValue:function(t){return za().memoizedState=t},useTransition:function(){var t=pC(!1),e=t[0];return t=vU.bind(null,t[1]),za().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=hn,i=za();if(sn){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Jn===null)throw Error(_e(349));hc&30||tR(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,mC(rR.bind(null,r,a,t),[t]),r.flags|=2048,Xh(9,nR.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=za(),e=Jn.identifierPrefix;if(sn){var n=Oo,r=Co;n=(r&~(1<<32-Ta(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_U={readContext:Zi,useCallback:fR,useContext:Zi,useEffect:SE,useImperativeHandle:uR,useInsertionEffect:sR,useLayoutEffect:lR,useMemo:dR,useReducer:xx,useRef:oR,useState:function(){return xx(Yh)},useDebugValue:EE,useDeferredValue:function(t){var e=Ji();return hR(e,Fn.memoizedState,t)},useTransition:function(){var t=xx(Yh)[0],e=Ji().memoizedState;return[t,e]},useMutableSource:JM,useSyncExternalStore:eR,useId:pR,unstable_isNewReconciler:!1},SU={readContext:Zi,useCallback:fR,useContext:Zi,useEffect:SE,useImperativeHandle:uR,useInsertionEffect:sR,useLayoutEffect:lR,useMemo:dR,useReducer:wx,useRef:oR,useState:function(){return wx(Yh)},useDebugValue:EE,useDeferredValue:function(t){var e=Ji();return Fn===null?e.memoizedState=t:hR(e,Fn.memoizedState,t)},useTransition:function(){var t=wx(Yh)[0],e=Ji().memoizedState;return[t,e]},useMutableSource:JM,useSyncExternalStore:eR,useId:pR,unstable_isNewReconciler:!1};function ya(t,e){if(t&&t.defaultProps){e=pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function u1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var w0={isMounted:function(t){return(t=t._reactInternals)?Pc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=Ls(t),a=Ro(r,i);a.payload=e,n!=null&&(a.callback=n),e=Rs(t,a,i),e!==null&&(Pa(e,t,i,r),Gg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=Ls(t),a=Ro(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Rs(t,a,i),e!==null&&(Pa(e,t,i,r),Gg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mr(),r=Ls(t),i=Ro(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rs(t,i,r),e!==null&&(Pa(e,t,r,n),Gg(e,t,r))}};function gC(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Bh(n,r)||!Bh(i,a):!0}function vR(t,e,n){var r=!1,i=Ys,a=e.contextType;return typeof a=="object"&&a!==null?a=Zi(a):(i=ei(e)?fc:Cr.current,r=e.contextTypes,a=(r=r!=null)?Gu(t,i):Ys),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=w0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function yC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&w0.enqueueReplaceState(e,e.state,null)}function f1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Zi(a):(a=ei(e)?fc:Cr.current,i.context=Gu(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(u1(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&w0.enqueueReplaceState(i,i.state,null),Py(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zu(t,e){try{var n="",r=e;do n+=QB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function _x(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function d1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EU=typeof WeakMap=="function"?WeakMap:Map;function bR(t,e,n){n=Ro(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jy||(jy=!0,_1=r),d1(t,e)},n}function xR(t,e,n){n=Ro(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){d1(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){d1(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LU.bind(null,t,e,n),e.then(t,t))}function bC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ro(-1,1),e.tag=2,Rs(n,e,1))),n.lanes|=1),t)}var AU=ts.ReactCurrentOwner,Qr=!1;function Nr(t,e,n,r){e.child=t===null?YM(e,null,n,r):Xu(e,t.child,n,r)}function wC(t,e,n,r,i){n=n.render;var a=e.ref;return $u(e,i),r=wE(t,e,n,r,a,i),n=_E(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(sn&&n&&cE(e),e.flags|=1,Nr(t,e,r,i),e.child)}function _C(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!jE(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,wR(t,e,a,r,i)):(t=ey(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bh,n(o,r)&&t.ref===e.ref)return Ko(t,e,i)}return e.flags|=1,t=Vs(a,r),t.ref=e.ref,t.return=e,e.child=t}function wR(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Bh(a,r)&&t.ref===e.ref)if(Qr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Qr=!0);else return e.lanes=t.lanes,Ko(t,e,i)}return h1(t,e,n,r,i)}function _R(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Eu,fi),fi|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qt(Eu,fi),fi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Qt(Eu,fi),fi|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Qt(Eu,fi),fi|=r;return Nr(t,e,i,n),e.child}function SR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function h1(t,e,n,r,i){var a=ei(n)?fc:Cr.current;return a=Gu(e,a),$u(e,i),n=wE(t,e,n,r,a,i),r=_E(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(sn&&r&&cE(e),e.flags|=1,Nr(t,e,n,i),e.child)}function SC(t,e,n,r,i){if(ei(n)){var a=!0;_y(e)}else a=!1;if($u(e,i),e.stateNode===null)Qg(t,e),vR(e,n,r),f1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zi(c):(c=ei(n)?fc:Cr.current,c=Gu(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&yC(e,o,r,c),_s=!1;var h=e.memoizedState;o.state=h,Py(e,r,o,i),l=e.memoizedState,s!==r||h!==l||Jr.current||_s?(typeof u=="function"&&(u1(e,n,u,r),l=e.memoizedState),(s=_s||gC(e,n,s,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QM(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ya(e.type,s),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zi(l):(l=ei(n)?fc:Cr.current,l=Gu(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&yC(e,o,r,l),_s=!1,h=e.memoizedState,o.state=h,Py(e,r,o,i);var b=e.memoizedState;s!==d||h!==b||Jr.current||_s?(typeof g=="function"&&(u1(e,n,g,r),b=e.memoizedState),(c=_s||gC(e,n,c,r,h,b,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return p1(t,e,n,r,a,i)}function p1(t,e,n,r,i,a){SR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&lC(e,n,!1),Ko(t,e,a);r=e.stateNode,AU.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xu(e,t.child,null,a),e.child=Xu(e,null,s,a)):Nr(t,e,s,a),e.memoizedState=r.state,i&&lC(e,n,!0),e.child}function ER(t){var e=t.stateNode;e.pendingContext?sC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sC(t,e.context,!1),yE(t,e.containerInfo)}function EC(t,e,n,r,i){return Yu(),fE(i),e.flags|=256,Nr(t,e,n,r),e.child}var m1={dehydrated:null,treeContext:null,retryLane:0};function g1(t){return{baseLanes:t,cachePool:null,transitions:null}}function AR(t,e,n){var r=e.pendingProps,i=dn.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qt(dn,i&1),t===null)return l1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=E0(o,r,0,null),t=ic(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=g1(n),e.memoizedState=m1,t):AE(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return TU(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Vs(s,a):(a=ic(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?g1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=m1,r}return a=t.child,t=a.sibling,r=Vs(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function AE(t,e){return e=E0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fg(t,e,n,r){return r!==null&&fE(r),Xu(e,t.child,null,n),t=AE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TU(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=_x(Error(_e(422))),fg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=E0({mode:"visible",children:r.children},i,0,null),a=ic(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Xu(e,t.child,null,o),e.child.memoizedState=g1(o),e.memoizedState=m1,a);if(!(e.mode&1))return fg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(_e(419)),r=_x(a,r,void 0),fg(t,e,o,r)}if(s=(o&t.childLanes)!==0,Qr||s){if(r=Jn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Wo(t,i),Pa(r,t,i,-1))}return IE(),r=_x(Error(_e(421))),fg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VU.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,gi=Ms(i.nextSibling),vi=e,sn=!0,wa=null,t!==null&&(Ui[Wi++]=Co,Ui[Wi++]=Oo,Ui[Wi++]=dc,Co=t.id,Oo=t.overflow,dc=e),e=AE(e,r.children),e.flags|=4096,e)}function AC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),c1(t.return,e,n)}function Sx(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function TR(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Nr(t,e,r.children,n),r=dn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AC(t,n,e);else if(t.tag===19)AC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qt(dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sx(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sx(e,!0,n,null,a);break;case"together":Sx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ko(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=Vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PU(t,e,n){switch(e.tag){case 3:ER(e),Yu();break;case 5:ZM(e);break;case 1:ei(e.type)&&_y(e);break;case 4:yE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qt(Ay,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qt(dn,dn.current&1),e.flags|=128,null):n&e.child.childLanes?AR(t,e,n):(Qt(dn,dn.current&1),t=Ko(t,e,n),t!==null?t.sibling:null);Qt(dn,dn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(dn,dn.current),r)break;return null;case 22:case 23:return e.lanes=0,_R(t,e,n)}return Ko(t,e,n)}var PR,y1,CR,OR;PR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y1=function(){};CR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hl(Za.current);var a=null;switch(n){case"input":i=Vw(t,i),r=Vw(t,r),a=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),a=[];break;case"textarea":i=Bw(t,i),r=Bw(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xy)}Ww(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&en("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};OR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Md(t,e){if(!sn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CU(t,e,n){var r=e.pendingProps;switch(uE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(e),null;case 1:return ei(e.type)&&wy(),vr(e),null;case 3:return r=e.stateNode,Qu(),an(Jr),an(Cr),bE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wa!==null&&(A1(wa),wa=null))),y1(t,e),vr(e),null;case 5:vE(e);var i=Hl(Hh.current);if(n=e.type,t!==null&&e.stateNode!=null)CR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return vr(e),null}if(t=Hl(Za.current),cg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ka]=e,r[Kh]=a,t=(e.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<Jd.length;i++)en(Jd[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":DP(r,a),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},en("invalid",r);break;case"textarea":RP(r,a),en("invalid",r)}Ww(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&lg(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&lg(r.textContent,s,t),i=["children",""+s]):Mh.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&en("scroll",r)}switch(n){case"input":eg(r),MP(r,a,!0);break;case"textarea":eg(r),$P(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ka]=e,t[Kh]=r,PR(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kw(n,r),n){case"dialog":en("cancel",t),en("close",t),i=r;break;case"iframe":case"object":case"embed":en("load",t),i=r;break;case"video":case"audio":for(i=0;i<Jd.length;i++)en(Jd[i],t);i=r;break;case"source":en("error",t),i=r;break;case"img":case"image":case"link":en("error",t),en("load",t),i=r;break;case"details":en("toggle",t),i=r;break;case"input":DP(t,r),i=Vw(t,r),en("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),en("invalid",t);break;case"textarea":RP(t,r),i=Bw(t,r),en("invalid",t);break;default:i=r}Ww(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?oM(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iM(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rh(t,l):typeof l=="number"&&Rh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Mh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&en("scroll",t):l!=null&&YS(t,a,l,o))}switch(n){case"input":eg(t),MP(t,r,!1);break;case"textarea":eg(t),$P(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Nu(t,!!r.multiple,a,!1):r.defaultValue!=null&&Nu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vr(e),null;case 6:if(t&&e.stateNode!=null)OR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Hl(Hh.current),Hl(Za.current),cg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ka]=e,(a=r.nodeValue!==n)&&(t=vi,t!==null))switch(t.tag){case 3:lg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ka]=e,e.stateNode=r}return vr(e),null;case 13:if(an(dn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(sn&&gi!==null&&e.mode&1&&!(e.flags&128))HM(),Yu(),e.flags|=98560,a=!1;else if(a=cg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(_e(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_e(317));a[Ka]=e}else Yu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vr(e),a=!1}else wa!==null&&(A1(wa),wa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dn.current&1?zn===0&&(zn=3):IE())),e.updateQueue!==null&&(e.flags|=4),vr(e),null);case 4:return Qu(),y1(t,e),t===null&&Uh(e.stateNode.containerInfo),vr(e),null;case 10:return pE(e.type._context),vr(e),null;case 17:return ei(e.type)&&wy(),vr(e),null;case 19:if(an(dn),a=e.memoizedState,a===null)return vr(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Md(a,!1);else{if(zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cy(t),o!==null){for(e.flags|=128,Md(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qt(dn,dn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Tn()>Ju&&(e.flags|=128,r=!0,Md(a,!1),e.lanes=4194304)}else{if(!r)if(t=Cy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Md(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!sn)return vr(e),null}else 2*Tn()-a.renderingStartTime>Ju&&n!==1073741824&&(e.flags|=128,r=!0,Md(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Tn(),e.sibling=null,n=dn.current,Qt(dn,r?n&1|2:n&1),e):(vr(e),null);case 22:case 23:return kE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fi&1073741824&&(vr(e),e.subtreeFlags&6&&(e.flags|=8192)):vr(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function OU(t,e){switch(uE(e),e.tag){case 1:return ei(e.type)&&wy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qu(),an(Jr),an(Cr),bE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vE(e),null;case 13:if(an(dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Yu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return an(dn),null;case 4:return Qu(),null;case 10:return pE(e.type._context),null;case 22:case 23:return kE(),null;case 24:return null;default:return null}}var dg=!1,Sr=!1,kU=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Su(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vn(t,e,r)}else n.current=null}function v1(t,e,n){try{n()}catch(r){vn(t,e,r)}}var TC=!1;function IU(t,e){if(t1=yy,t=DM(),lE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(n1={focusedElem:t,selectionRange:n},yy=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,w=b.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:ya(e.type,v),w);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(k){vn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return b=TC,TC=!1,b}function yh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&v1(e,n,a)}i=i.next}while(i!==r)}}function _0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function b1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kR(t){var e=t.alternate;e!==null&&(t.alternate=null,kR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ka],delete e[Kh],delete e[a1],delete e[hU],delete e[pU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IR(t){return t.tag===5||t.tag===3||t.tag===4}function PC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xy));else if(r!==4&&(t=t.child,t!==null))for(x1(t,e,n),t=t.sibling;t!==null;)x1(t,e,n),t=t.sibling}function w1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w1(t,e,n),t=t.sibling;t!==null;)w1(t,e,n),t=t.sibling}var ir=null,va=!1;function gs(t,e,n){for(n=n.child;n!==null;)jR(t,e,n),n=n.sibling}function jR(t,e,n){if(Qa&&typeof Qa.onCommitFiberUnmount=="function")try{Qa.onCommitFiberUnmount(p0,n)}catch{}switch(n.tag){case 5:Sr||Su(n,e);case 6:var r=ir,i=va;ir=null,gs(t,e,n),ir=r,va=i,ir!==null&&(va?(t=ir,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ir.removeChild(n.stateNode));break;case 18:ir!==null&&(va?(t=ir,n=n.stateNode,t.nodeType===8?gx(t.parentNode,n):t.nodeType===1&&gx(t,n),Fh(t)):gx(ir,n.stateNode));break;case 4:r=ir,i=va,ir=n.stateNode.containerInfo,va=!0,gs(t,e,n),ir=r,va=i;break;case 0:case 11:case 14:case 15:if(!Sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&v1(n,e,o),i=i.next}while(i!==r)}gs(t,e,n);break;case 1:if(!Sr&&(Su(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){vn(n,e,s)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(Sr=(r=Sr)||n.memoizedState!==null,gs(t,e,n),Sr=r):gs(t,e,n);break;default:gs(t,e,n)}}function CC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kU),e.forEach(function(r){var i=FU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:ir=s.stateNode,va=!1;break e;case 3:ir=s.stateNode.containerInfo,va=!0;break e;case 4:ir=s.stateNode.containerInfo,va=!0;break e}s=s.return}if(ir===null)throw Error(_e(160));jR(a,o,i),ir=null,va=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NR(e,t),e=e.sibling}function NR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pa(e,t),Fa(t),r&4){try{yh(3,t,t.return),_0(3,t)}catch(v){vn(t,t.return,v)}try{yh(5,t,t.return)}catch(v){vn(t,t.return,v)}}break;case 1:pa(e,t),Fa(t),r&512&&n!==null&&Su(n,n.return);break;case 5:if(pa(e,t),Fa(t),r&512&&n!==null&&Su(n,n.return),t.flags&32){var i=t.stateNode;try{Rh(i,"")}catch(v){vn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&tM(i,a),Kw(s,o);var c=Kw(s,a);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?oM(i,d):u==="dangerouslySetInnerHTML"?iM(i,d):u==="children"?Rh(i,d):YS(i,u,d,c)}switch(s){case"input":Fw(i,a);break;case"textarea":nM(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Nu(i,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?Nu(i,!!a.multiple,a.defaultValue,!0):Nu(i,!!a.multiple,a.multiple?[]:"",!1))}i[Kh]=a}catch(v){vn(t,t.return,v)}}break;case 6:if(pa(e,t),Fa(t),r&4){if(t.stateNode===null)throw Error(_e(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){vn(t,t.return,v)}}break;case 3:if(pa(e,t),Fa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fh(e.containerInfo)}catch(v){vn(t,t.return,v)}break;case 4:pa(e,t),Fa(t);break;case 13:pa(e,t),Fa(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(CE=Tn())),r&4&&CC(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Sr=(c=Sr)||u,pa(e,t),Sr=c):pa(e,t),Fa(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ve=t,u=t.child;u!==null;){for(d=Ve=u;Ve!==null;){switch(h=Ve,g=h.child,h.tag){case 0:case 11:case 14:case 15:yh(4,h,h.return);break;case 1:Su(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){vn(r,n,v)}}break;case 5:Su(h,h.return);break;case 22:if(h.memoizedState!==null){kC(d);continue}}g!==null?(g.return=h,Ve=g):kC(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=aM("display",o))}catch(v){vn(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){vn(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pa(e,t),Fa(t),r&4&&CC(t);break;case 21:break;default:pa(e,t),Fa(t)}}function Fa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IR(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Rh(i,""),r.flags&=-33);var a=PC(t);w1(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=PC(t);x1(t,s,o);break;default:throw Error(_e(161))}}catch(l){vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jU(t,e,n){Ve=t,DR(t)}function DR(t,e,n){for(var r=(t.mode&1)!==0;Ve!==null;){var i=Ve,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dg;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Sr;s=dg;var c=Sr;if(dg=o,(Sr=l)&&!c)for(Ve=i;Ve!==null;)o=Ve,l=o.child,o.tag===22&&o.memoizedState!==null?IC(i):l!==null?(l.return=o,Ve=l):IC(i);for(;a!==null;)Ve=a,DR(a),a=a.sibling;Ve=i,dg=s,Sr=c}OC(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ve=a):OC(t)}}function OC(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sr||_0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ya(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&hC(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hC(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Fh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Sr||e.flags&512&&b1(e)}catch(h){vn(e,e.return,h)}}if(e===t){Ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function kC(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function IC(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_0(4,e)}catch(l){vn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vn(e,i,l)}}var a=e.return;try{b1(e)}catch(l){vn(e,a,l)}break;case 5:var o=e.return;try{b1(e)}catch(l){vn(e,o,l)}}}catch(l){vn(e,e.return,l)}if(e===t){Ve=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ve=s;break}Ve=e.return}}var NU=Math.ceil,Iy=ts.ReactCurrentDispatcher,TE=ts.ReactCurrentOwner,Gi=ts.ReactCurrentBatchConfig,Pt=0,Jn=null,Nn=null,fr=0,fi=0,Eu=il(0),zn=0,Qh=null,pc=0,S0=0,PE=0,vh=null,Yr=null,CE=0,Ju=1/0,To=null,jy=!1,_1=null,$s=null,hg=!1,Cs=null,Ny=0,bh=0,S1=null,Zg=-1,Jg=0;function Mr(){return Pt&6?Tn():Zg!==-1?Zg:Zg=Tn()}function Ls(t){return t.mode&1?Pt&2&&fr!==0?fr&-fr:gU.transition!==null?(Jg===0&&(Jg=vM()),Jg):(t=Lt,t!==0||(t=window.event,t=t===void 0?16:AM(t.type)),t):1}function Pa(t,e,n,r){if(50<bh)throw bh=0,S1=null,Error(_e(185));Jp(t,n,r),(!(Pt&2)||t!==Jn)&&(t===Jn&&(!(Pt&2)&&(S0|=n),zn===4&&As(t,fr)),ti(t,r),n===1&&Pt===0&&!(e.mode&1)&&(Ju=Tn()+500,b0&&al()))}function ti(t,e){var n=t.callbackNode;g6(t,e);var r=gy(t,t===Jn?fr:0);if(r===0)n!==null&&FP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&FP(n),e===1)t.tag===0?mU(jC.bind(null,t)):WM(jC.bind(null,t)),fU(function(){!(Pt&6)&&al()}),n=null;else{switch(bM(r)){case 1:n=eE;break;case 4:n=gM;break;case 16:n=my;break;case 536870912:n=yM;break;default:n=my}n=BR(n,MR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MR(t,e){if(Zg=-1,Jg=0,Pt&6)throw Error(_e(327));var n=t.callbackNode;if(Lu()&&t.callbackNode!==n)return null;var r=gy(t,t===Jn?fr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dy(t,r);else{e=r;var i=Pt;Pt|=2;var a=$R();(Jn!==t||fr!==e)&&(To=null,Ju=Tn()+500,rc(t,e));do try{RU();break}catch(s){RR(t,s)}while(!0);hE(),Iy.current=a,Pt=i,Nn!==null?e=0:(Jn=null,fr=0,e=zn)}if(e!==0){if(e===2&&(i=Xw(t),i!==0&&(r=i,e=E1(t,i))),e===1)throw n=Qh,rc(t,0),As(t,r),ti(t,Tn()),n;if(e===6)As(t,r);else{if(i=t.current.alternate,!(r&30)&&!DU(i)&&(e=Dy(t,r),e===2&&(a=Xw(t),a!==0&&(r=a,e=E1(t,a))),e===1))throw n=Qh,rc(t,0),As(t,r),ti(t,Tn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:$l(t,Yr,To);break;case 3:if(As(t,r),(r&130023424)===r&&(e=CE+500-Tn(),10<e)){if(gy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=i1($l.bind(null,t,Yr,To),e);break}$l(t,Yr,To);break;case 4:if(As(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ta(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NU(r/1960))-r,10<r){t.timeoutHandle=i1($l.bind(null,t,Yr,To),r);break}$l(t,Yr,To);break;case 5:$l(t,Yr,To);break;default:throw Error(_e(329))}}}return ti(t,Tn()),t.callbackNode===n?MR.bind(null,t):null}function E1(t,e){var n=vh;return t.current.memoizedState.isDehydrated&&(rc(t,e).flags|=256),t=Dy(t,e),t!==2&&(e=Yr,Yr=n,e!==null&&A1(e)),t}function A1(t){Yr===null?Yr=t:Yr.push.apply(Yr,t)}function DU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ca(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e){for(e&=~PE,e&=~S0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ta(e),r=1<<n;t[n]=-1,e&=~r}}function jC(t){if(Pt&6)throw Error(_e(327));Lu();var e=gy(t,0);if(!(e&1))return ti(t,Tn()),null;var n=Dy(t,e);if(t.tag!==0&&n===2){var r=Xw(t);r!==0&&(e=r,n=E1(t,r))}if(n===1)throw n=Qh,rc(t,0),As(t,e),ti(t,Tn()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,Yr,To),ti(t,Tn()),null}function OE(t,e){var n=Pt;Pt|=1;try{return t(e)}finally{Pt=n,Pt===0&&(Ju=Tn()+500,b0&&al())}}function mc(t){Cs!==null&&Cs.tag===0&&!(Pt&6)&&Lu();var e=Pt;Pt|=1;var n=Gi.transition,r=Lt;try{if(Gi.transition=null,Lt=1,t)return t()}finally{Lt=r,Gi.transition=n,Pt=e,!(Pt&6)&&al()}}function kE(){fi=Eu.current,an(Eu)}function rc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uU(n)),Nn!==null)for(n=Nn.return;n!==null;){var r=n;switch(uE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wy();break;case 3:Qu(),an(Jr),an(Cr),bE();break;case 5:vE(r);break;case 4:Qu();break;case 13:an(dn);break;case 19:an(dn);break;case 10:pE(r.type._context);break;case 22:case 23:kE()}n=n.return}if(Jn=t,Nn=t=Vs(t.current,null),fr=fi=e,zn=0,Qh=null,PE=S0=pc=0,Yr=vh=null,ql!==null){for(e=0;e<ql.length;e++)if(n=ql[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ql=null}return t}function RR(t,e){do{var n=Nn;try{if(hE(),Yg.current=ky,Oy){for(var r=hn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oy=!1}if(hc=0,Xn=Fn=hn=null,gh=!1,Gh=0,TE.current=null,n===null||n.return===null){zn=1,Qh=e,Nn=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=fr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=bC(o);if(g!==null){g.flags&=-257,xC(g,o,s,a,e),g.mode&1&&vC(a,c,e),e=g,l=c;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){vC(a,c,e),IE();break e}l=Error(_e(426))}}else if(sn&&s.mode&1){var w=bC(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),xC(w,o,s,a,e),fE(Zu(l,s));break e}}a=l=Zu(l,s),zn!==4&&(zn=2),vh===null?vh=[a]:vh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=bR(a,l,e);dC(a,x);break e;case 1:s=l;var _=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&($s===null||!$s.has(A)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=xR(a,s,e);dC(a,k);break e}}a=a.return}while(a!==null)}VR(n)}catch(S){e=S,Nn===n&&n!==null&&(Nn=n=n.return);continue}break}while(!0)}function $R(){var t=Iy.current;return Iy.current=ky,t===null?ky:t}function IE(){(zn===0||zn===3||zn===2)&&(zn=4),Jn===null||!(pc&268435455)&&!(S0&268435455)||As(Jn,fr)}function Dy(t,e){var n=Pt;Pt|=2;var r=$R();(Jn!==t||fr!==e)&&(To=null,rc(t,e));do try{MU();break}catch(i){RR(t,i)}while(!0);if(hE(),Pt=n,Iy.current=r,Nn!==null)throw Error(_e(261));return Jn=null,fr=0,zn}function MU(){for(;Nn!==null;)LR(Nn)}function RU(){for(;Nn!==null&&!s6();)LR(Nn)}function LR(t){var e=zR(t.alternate,t,fi);t.memoizedProps=t.pendingProps,e===null?VR(t):Nn=e,TE.current=null}function VR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OU(n,e),n!==null){n.flags&=32767,Nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zn=6,Nn=null;return}}else if(n=CU(n,e,fi),n!==null){Nn=n;return}if(e=e.sibling,e!==null){Nn=e;return}Nn=e=t}while(e!==null);zn===0&&(zn=5)}function $l(t,e,n){var r=Lt,i=Gi.transition;try{Gi.transition=null,Lt=1,$U(t,e,n,r)}finally{Gi.transition=i,Lt=r}return null}function $U(t,e,n,r){do Lu();while(Cs!==null);if(Pt&6)throw Error(_e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(y6(t,a),t===Jn&&(Nn=Jn=null,fr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hg||(hg=!0,BR(my,function(){return Lu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gi.transition,Gi.transition=null;var o=Lt;Lt=1;var s=Pt;Pt|=4,TE.current=null,IU(t,n),NR(n,t),rU(n1),yy=!!t1,n1=t1=null,t.current=n,jU(n),l6(),Pt=s,Lt=o,Gi.transition=a}else t.current=n;if(hg&&(hg=!1,Cs=t,Ny=i),a=t.pendingLanes,a===0&&($s=null),f6(n.stateNode),ti(t,Tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jy)throw jy=!1,t=_1,_1=null,t;return Ny&1&&t.tag!==0&&Lu(),a=t.pendingLanes,a&1?t===S1?bh++:(bh=0,S1=t):bh=0,al(),null}function Lu(){if(Cs!==null){var t=bM(Ny),e=Gi.transition,n=Lt;try{if(Gi.transition=null,Lt=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,Ny=0,Pt&6)throw Error(_e(331));var i=Pt;for(Pt|=4,Ve=t.current;Ve!==null;){var a=Ve,o=a.child;if(Ve.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Ve=c;Ve!==null;){var u=Ve;switch(u.tag){case 0:case 11:case 15:yh(8,u,a)}var d=u.child;if(d!==null)d.return=u,Ve=d;else for(;Ve!==null;){u=Ve;var h=u.sibling,g=u.return;if(kR(u),u===c){Ve=null;break}if(h!==null){h.return=g,Ve=h;break}Ve=g}}}var b=a.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Ve=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ve=o;else e:for(;Ve!==null;){if(a=Ve,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yh(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Ve=x;break e}Ve=a.return}}var _=t.current;for(Ve=_;Ve!==null;){o=Ve;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Ve=A;else e:for(o=_;Ve!==null;){if(s=Ve,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:_0(9,s)}}catch(S){vn(s,s.return,S)}if(s===o){Ve=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,Ve=k;break e}Ve=s.return}}if(Pt=i,al(),Qa&&typeof Qa.onPostCommitFiberRoot=="function")try{Qa.onPostCommitFiberRoot(p0,t)}catch{}r=!0}return r}finally{Lt=n,Gi.transition=e}}return!1}function NC(t,e,n){e=Zu(n,e),e=bR(t,e,1),t=Rs(t,e,1),e=Mr(),t!==null&&(Jp(t,1,e),ti(t,e))}function vn(t,e,n){if(t.tag===3)NC(t,t,n);else for(;e!==null;){if(e.tag===3){NC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=Zu(n,t),t=xR(e,t,1),e=Rs(e,t,1),t=Mr(),e!==null&&(Jp(e,1,t),ti(e,t));break}}e=e.return}}function LU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&n,Jn===t&&(fr&n)===n&&(zn===4||zn===3&&(fr&130023424)===fr&&500>Tn()-CE?rc(t,0):PE|=n),ti(t,e)}function FR(t,e){e===0&&(t.mode&1?(e=rg,rg<<=1,!(rg&130023424)&&(rg=4194304)):e=1);var n=Mr();t=Wo(t,e),t!==null&&(Jp(t,e,n),ti(t,n))}function VU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FR(t,n)}function FU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),FR(t,n)}var zR;zR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jr.current)Qr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qr=!1,PU(t,e,n);Qr=!!(t.flags&131072)}else Qr=!1,sn&&e.flags&1048576&&KM(e,Ey,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qg(t,e),t=e.pendingProps;var i=Gu(e,Cr.current);$u(e,n),i=wE(null,e,r,t,i,n);var a=_E();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ei(r)?(a=!0,_y(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gE(e),i.updater=w0,e.stateNode=i,i._reactInternals=e,f1(e,r,t,n),e=p1(null,e,r,!0,a,n)):(e.tag=0,sn&&a&&cE(e),Nr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BU(r),t=ya(r,t),i){case 0:e=h1(null,e,r,t,n);break e;case 1:e=SC(null,e,r,t,n);break e;case 11:e=wC(null,e,r,t,n);break e;case 14:e=_C(null,e,r,ya(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ya(r,i),h1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ya(r,i),SC(t,e,r,i,n);case 3:e:{if(ER(e),t===null)throw Error(_e(387));r=e.pendingProps,a=e.memoizedState,i=a.element,QM(t,e),Py(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Zu(Error(_e(423)),e),e=EC(t,e,r,n,i);break e}else if(r!==i){i=Zu(Error(_e(424)),e),e=EC(t,e,r,n,i);break e}else for(gi=Ms(e.stateNode.containerInfo.firstChild),vi=e,sn=!0,wa=null,n=YM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yu(),r===i){e=Ko(t,e,n);break e}Nr(t,e,r,n)}e=e.child}return e;case 5:return ZM(e),t===null&&l1(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,r1(r,i)?o=null:a!==null&&r1(r,a)&&(e.flags|=32),SR(t,e),Nr(t,e,o,n),e.child;case 6:return t===null&&l1(e),null;case 13:return AR(t,e,n);case 4:return yE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xu(e,null,r,n):Nr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ya(r,i),wC(t,e,r,i,n);case 7:return Nr(t,e,e.pendingProps,n),e.child;case 8:return Nr(t,e,e.pendingProps.children,n),e.child;case 12:return Nr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Qt(Ay,r._currentValue),r._currentValue=o,a!==null)if(Ca(a.value,o)){if(a.children===i.children&&!Jr.current){e=Ko(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ro(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),c1(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(_e(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),c1(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Nr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$u(e,n),i=Zi(i),r=r(i),e.flags|=1,Nr(t,e,r,n),e.child;case 14:return r=e.type,i=ya(r,e.pendingProps),i=ya(r.type,i),_C(t,e,r,i,n);case 15:return wR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ya(r,i),Qg(t,e),e.tag=1,ei(r)?(t=!0,_y(e)):t=!1,$u(e,n),vR(e,r,i),f1(e,r,i,n),p1(null,e,r,!0,t,n);case 19:return TR(t,e,n);case 22:return _R(t,e,n)}throw Error(_e(156,e.tag))};function BR(t,e){return mM(t,e)}function zU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(t,e,n,r){return new zU(t,e,n,r)}function jE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BU(t){if(typeof t=="function")return jE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QS)return 11;if(t===ZS)return 14}return 2}function Vs(t,e){var n=t.alternate;return n===null?(n=qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ey(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")jE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pu:return ic(n.children,i,a,e);case XS:o=8,i|=8;break;case Mw:return t=qi(12,n,e,i|2),t.elementType=Mw,t.lanes=a,t;case Rw:return t=qi(13,n,e,i),t.elementType=Rw,t.lanes=a,t;case $w:return t=qi(19,n,e,i),t.elementType=$w,t.lanes=a,t;case ZD:return E0(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XD:o=10;break e;case QD:o=9;break e;case QS:o=11;break e;case ZS:o=14;break e;case ws:o=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=qi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ic(t,e,n,r){return t=qi(7,t,r,e),t.lanes=n,t}function E0(t,e,n,r){return t=qi(22,t,r,e),t.elementType=ZD,t.lanes=n,t.stateNode={isHidden:!1},t}function Ex(t,e,n){return t=qi(6,t,null,e),t.lanes=n,t}function Ax(t,e,n){return e=qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ax(0),this.expirationTimes=ax(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ax(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NE(t,e,n,r,i,a,o,s,l){return t=new UU(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=qi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gE(a),t}function WU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UR(t){if(!t)return Ys;t=t._reactInternals;e:{if(Pc(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ei(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(ei(n))return UM(t,n,e)}return e}function WR(t,e,n,r,i,a,o,s,l){return t=NE(n,r,!0,t,i,a,o,s,l),t.context=UR(null),n=t.current,r=Mr(),i=Ls(n),a=Ro(r,i),a.callback=e??null,Rs(n,a,i),t.current.lanes=i,Jp(t,i,r),ti(t,r),t}function A0(t,e,n,r){var i=e.current,a=Mr(),o=Ls(i);return n=UR(n),e.context===null?e.context=n:e.pendingContext=n,e=Ro(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rs(i,e,o),t!==null&&(Pa(t,i,o,a),Gg(t,i,o)),o}function My(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function DE(t,e){DC(t,e),(t=t.alternate)&&DC(t,e)}function KU(){return null}var KR=typeof reportError=="function"?reportError:function(t){console.error(t)};function ME(t){this._internalRoot=t}T0.prototype.render=ME.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));A0(t,e,null,null)};T0.prototype.unmount=ME.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mc(function(){A0(null,t,null,null)}),e[Uo]=null}};function T0(t){this._internalRoot=t}T0.prototype.unstable_scheduleHydration=function(t){if(t){var e=_M();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Es.length&&e!==0&&e<Es[n].priority;n++);Es.splice(n,0,t),n===0&&EM(t)}};function RE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function P0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MC(){}function qU(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=My(o);a.call(c)}}var o=WR(e,r,t,0,null,!1,!1,"",MC);return t._reactRootContainer=o,t[Uo]=o.current,Uh(t.nodeType===8?t.parentNode:t),mc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=My(l);s.call(c)}}var l=NE(t,0,!1,null,null,!1,!1,"",MC);return t._reactRootContainer=l,t[Uo]=l.current,Uh(t.nodeType===8?t.parentNode:t),mc(function(){A0(e,l,n,r)}),l}function C0(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=My(o);s.call(l)}}A0(e,o,t,i)}else o=qU(n,e,t,i,r);return My(o)}xM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zd(e.pendingLanes);n!==0&&(tE(e,n|1),ti(e,Tn()),!(Pt&6)&&(Ju=Tn()+500,al()))}break;case 13:mc(function(){var r=Wo(t,1);if(r!==null){var i=Mr();Pa(r,t,1,i)}}),DE(t,1)}};nE=function(t){if(t.tag===13){var e=Wo(t,134217728);if(e!==null){var n=Mr();Pa(e,t,134217728,n)}DE(t,134217728)}};wM=function(t){if(t.tag===13){var e=Ls(t),n=Wo(t,e);if(n!==null){var r=Mr();Pa(n,t,e,r)}DE(t,e)}};_M=function(){return Lt};SM=function(t,e){var n=Lt;try{return Lt=t,e()}finally{Lt=n}};Hw=function(t,e,n){switch(e){case"input":if(Fw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=v0(r);if(!i)throw Error(_e(90));eM(r),Fw(r,i)}}}break;case"textarea":nM(t,n);break;case"select":e=n.value,e!=null&&Nu(t,!!n.multiple,e,!1)}};cM=OE;uM=mc;var HU={usingClientEntryPoint:!1,Events:[tm,vu,v0,sM,lM,OE]},Rd={findFiberByHostInstance:Kl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GU={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hM(t),t===null?null:t.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||KU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pg.isDisabled&&pg.supportsFiber)try{p0=pg.inject(GU),Qa=pg}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HU;Ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RE(e))throw Error(_e(200));return WU(t,e,null,n)};Ai.createRoot=function(t,e){if(!RE(t))throw Error(_e(299));var n=!1,r="",i=KR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=NE(t,1,!1,null,null,n,!1,r,i),t[Uo]=e.current,Uh(t.nodeType===8?t.parentNode:t),new ME(e)};Ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=hM(e),t=t===null?null:t.stateNode,t};Ai.flushSync=function(t){return mc(t)};Ai.hydrate=function(t,e,n){if(!P0(e))throw Error(_e(200));return C0(null,t,e,!0,n)};Ai.hydrateRoot=function(t,e,n){if(!RE(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=KR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WR(e,null,t,1,n??null,i,!1,a,o),t[Uo]=e.current,Uh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new T0(e)};Ai.render=function(t,e,n){if(!P0(e))throw Error(_e(200));return C0(null,t,e,!1,n)};Ai.unmountComponentAtNode=function(t){if(!P0(t))throw Error(_e(40));return t._reactRootContainer?(mc(function(){C0(null,null,t,!1,function(){t._reactRootContainer=null,t[Uo]=null})}),!0):!1};Ai.unstable_batchedUpdates=OE;Ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!P0(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return C0(t,e,n,!1,r)};Ai.version="18.3.1-next-f1338f8080-20240426";function qR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qR)}catch(t){console.error(t)}}qR(),qD.exports=Ai;var YU=qD.exports,RC=YU;Nw.createRoot=RC.createRoot,Nw.hydrateRoot=RC.hydrateRoot;const XU=()=>{};var $C={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},GR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,g=c&63;l||(g=64,o||(h=64)),r.push(n[u],n[d],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||d==null)throw new ZU;const h=a<<2|s>>4;if(r.push(h),c!==64){const g=s<<4&240|c>>2;if(r.push(g),d!==64){const b=c<<6&192|d;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JU=function(t){const e=HR(t);return GR.encodeByteArray(e,!0)},YR=function(t){return JU(t).replace(/\./g,"")},XR=function(t){try{return GR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=()=>e8().__FIREBASE_DEFAULTS__,n8=()=>{if(typeof process>"u"||typeof $C>"u")return;const t=$C.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XR(t[1]);return e&&JSON.parse(e)},$E=()=>{try{return XU()||t8()||n8()||r8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i8=()=>{var t;return(t=$E())==null?void 0:t.config},a8=t=>{var e;return(e=$E())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s8(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function c8(){var e;const t=(e=$E())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h8(){const t=ni();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p8(){return!c8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m8(){try{return typeof indexedDB=="object"}catch{return!1}}function g8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="FirebaseError";class ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y8,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rm.prototype.create)}}class rm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?v8(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ns(i,s,r)}}function v8(t,e){return t.replace(b8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const b8=/\{\$([^}]+)}/g;function Zh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(LC(a)&&LC(o)){if(!Zh(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function x8(t,e){const n=new w8(t,e);return n.subscribe.bind(n)}class w8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tx),i.error===void 0&&(i.error=Tx),i.complete===void 0&&(i.complete=Tx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){return t&&t._delegate?t._delegate:t}class gc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A8(e))try{this.getOrInitializeService({instanceIdentifier:Ll})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ll){return this.instances.has(e)}getOptions(e=Ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ll){return this.component?this.component.multipleInstances?e:Ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E8(t){return t===Ll?void 0:t}function A8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const P8={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},C8=vt.INFO,O8={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},k8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=O8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class LE{constructor(e){this.name=e,this._logLevel=C8,this._logHandler=k8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const I8=(t,e)=>e.some(n=>t instanceof n);let VC,FC;function j8(){return VC||(VC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N8(){return FC||(FC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZR=new WeakMap,T1=new WeakMap,JR=new WeakMap,Px=new WeakMap,VE=new WeakMap;function D8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Fs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZR.set(n,t)}).catch(()=>{}),VE.set(e,t),e}function M8(t){if(T1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});T1.set(t,e)}let P1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return T1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R8(t){P1=t(P1)}function $8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cx(this),e,...n);return JR.set(r,e.sort?e.sort():[e]),Fs(r)}:N8().includes(t)?function(...e){return t.apply(Cx(this),e),Fs(ZR.get(this))}:function(...e){return Fs(t.apply(Cx(this),e))}}function L8(t){return typeof t=="function"?$8(t):(t instanceof IDBTransaction&&M8(t),I8(t,j8())?new Proxy(t,P1):t)}function Fs(t){if(t instanceof IDBRequest)return D8(t);if(Px.has(t))return Px.get(t);const e=L8(t);return e!==t&&(Px.set(t,e),VE.set(e,t)),e}const Cx=t=>VE.get(t);function V8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Fs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fs(o.result),l.oldVersion,l.newVersion,Fs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const F8=["get","getKey","getAll","getAllKeys","count"],z8=["put","add","delete","clear"],Ox=new Map;function zC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ox.get(e))return Ox.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=z8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||F8.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),i&&l.done]))[0]};return Ox.set(e,a),a}R8(t=>({...t,get:(e,n,r)=>zC(e,n)||t.get(e,n,r),has:(e,n)=>!!zC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C1="@firebase/app",BC="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new LE("@firebase/app"),W8="@firebase/app-compat",K8="@firebase/analytics-compat",q8="@firebase/analytics",H8="@firebase/app-check-compat",G8="@firebase/app-check",Y8="@firebase/auth",X8="@firebase/auth-compat",Q8="@firebase/database",Z8="@firebase/data-connect",J8="@firebase/database-compat",e9="@firebase/functions",t9="@firebase/functions-compat",n9="@firebase/installations",r9="@firebase/installations-compat",i9="@firebase/messaging",a9="@firebase/messaging-compat",o9="@firebase/performance",s9="@firebase/performance-compat",l9="@firebase/remote-config",c9="@firebase/remote-config-compat",u9="@firebase/storage",f9="@firebase/storage-compat",d9="@firebase/firestore",h9="@firebase/ai",p9="@firebase/firestore-compat",m9="firebase",g9="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="[DEFAULT]",v9={[C1]:"fire-core",[W8]:"fire-core-compat",[q8]:"fire-analytics",[K8]:"fire-analytics-compat",[G8]:"fire-app-check",[H8]:"fire-app-check-compat",[Y8]:"fire-auth",[X8]:"fire-auth-compat",[Q8]:"fire-rtdb",[Z8]:"fire-data-connect",[J8]:"fire-rtdb-compat",[e9]:"fire-fn",[t9]:"fire-fn-compat",[n9]:"fire-iid",[r9]:"fire-iid-compat",[i9]:"fire-fcm",[a9]:"fire-fcm-compat",[o9]:"fire-perf",[s9]:"fire-perf-compat",[l9]:"fire-rc",[c9]:"fire-rc-compat",[u9]:"fire-gcs",[f9]:"fire-gcs-compat",[d9]:"fire-fst",[p9]:"fire-fst-compat",[h9]:"fire-vertex","fire-js":"fire-js",[m9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map,b9=new Map,k1=new Map;function UC(t,e){try{t.container.addComponent(e)}catch(n){qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ef(t){const e=t.name;if(k1.has(e))return qo.debug(`There were multiple attempts to register component ${e}.`),!1;k1.set(e,t);for(const n of O1.values())UC(n,t);for(const n of b9.values())UC(n,t);return!0}function e$(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ac=new rm("app","Firebase",x9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ac.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=g9;function _9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:y9,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ac.create("bad-app-name",{appName:String(i)});if(n||(n=i8()),!n)throw ac.create("no-options");const a=O1.get(i);if(a){if(Zh(n,a.options)&&Zh(r,a.config))return a;throw ac.create("duplicate-app",{appName:i})}const o=new T8(i);for(const l of k1.values())o.addComponent(l);const s=new w9(n,r,o);return O1.set(i,s),s}function zs(t,e,n){let r=v9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qo.warn(o.join(" "));return}ef(new gc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="firebase-heartbeat-database",E9=1,Jh="firebase-heartbeat-store";let kx=null;function t$(){return kx||(kx=V8(S9,E9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ac.create("idb-open",{originalErrorMessage:t.message})})),kx}async function A9(t){try{const n=(await t$()).transaction(Jh),r=await n.objectStore(Jh).get(n$(t));return await n.done,r}catch(e){if(e instanceof ns)qo.warn(e.message);else{const n=ac.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qo.warn(n.message)}}}async function WC(t,e){try{const r=(await t$()).transaction(Jh,"readwrite");await r.objectStore(Jh).put(e,n$(t)),await r.done}catch(n){if(n instanceof ns)qo.warn(n.message);else{const r=ac.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qo.warn(r.message)}}}function n$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=1024,P9=30;class C9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=KC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>P9){const o=I9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=KC(),{heartbeatsToSend:r,unsentEntries:i}=O9(this._heartbeatsCache.heartbeats),a=YR(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return qo.warn(n),""}}}function KC(){return new Date().toISOString().substring(0,10)}function O9(t,e=T9){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),qC(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m8()?g8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qC(t){return YR(JSON.stringify({version:2,heartbeats:t})).length}function I9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){ef(new gc("platform-logger",e=>new B8(e),"PRIVATE")),ef(new gc("heartbeat",e=>new C9(e),"PRIVATE")),zs(C1,BC,t),zs(C1,BC,"esm2020"),zs("fire-js","")}j9("");function r$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N9=r$,i$=new rm("auth","Firebase",r$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new LE("@firebase/auth");function D9(t,...e){Ry.logLevel<=vt.WARN&&Ry.warn(`Auth (${k0}): ${t}`,...e)}function ty(t,...e){Ry.logLevel<=vt.ERROR&&Ry.error(`Auth (${k0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,...e){throw zE(t,...e)}function FE(t,...e){return zE(t,...e)}function a$(t,e,n){const r={...N9(),[e]:n};return new rm("auth","Firebase",r).create(e,{appName:t.name})}function oc(t){return a$(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return i$.create(t,...e)}function Tt(t,e,...n){if(!t)throw zE(e,...n)}function ko(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ty(e),new Error(e)}function $y(t,e){t||ko(e)}function M9(){return HC()==="http:"||HC()==="https:"}function HC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M9()||f8()||"connection"in navigator)?navigator.onLine:!0}function $9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.shortDelay=e,this.longDelay=n,$y(n>e,"Short delay should be less than long delay!"),this.isMobile=l8()||d8()}get(){return R9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t,e){$y(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z9=new im(3e4,6e4);function Cc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oc(t,e,n,r,i={}){return s$(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=QR({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return u8()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&O0(t.emulatorConfig.host)&&(c.credentials="include"),o$.fetch()(await l$(t,t.config.apiHost,n,s),c)})}async function s$(t,e,n){t._canInitEmulator=!1;const r={...V9,...e};try{const i=new U9(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw mg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mg(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw a$(t,u,c);tf(t,u)}}catch(i){if(i instanceof ns)throw i;tf(t,"network-request-failed",{message:String(i)})}}async function I0(t,e,n,r,i={}){const a=await Oc(t,e,n,r,i);return"mfaPendingCredential"in a&&tf(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function l$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?L9(t.config,i):`${t.config.apiScheme}://${i}`;return F9.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function B9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(FE(this.auth,"network-request-failed")),z9.get())})}}function mg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=FE(t,e,r);return i.customData._tokenResponse=n,i}function GC(t){return t!==void 0&&t.enterprise!==void 0}class W9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return B9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K9(t,e){return Oc(t,"GET","/v2/recaptchaConfig",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(t,e){return Oc(t,"POST","/v1/accounts:delete",e)}async function Ly(t,e){return Oc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H9(t,e=!1){const n=er(t),r=await n.getIdToken(e),i=c$(r);Tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:xh(Ix(i.auth_time)),issuedAtTime:xh(Ix(i.iat)),expirationTime:xh(Ix(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ix(t){return Number(t)*1e3}function c$(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ty("JWT malformed, contained fewer than 3 sections"),null;try{const i=XR(n);return i?JSON.parse(i):(ty("Failed to decode base64 JWT payload"),null)}catch(i){return ty("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YC(t){const e=c$(t);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ns&&G9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function G9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xh(this.lastLoginAt),this.creationTime=xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(t){var d;const e=t.auth,n=await t.getIdToken(),r=await I1(t,Ly(e,{idToken:n}));Tt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?u$(i.providerUserInfo):[],o=Q9(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=s?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new j1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function X9(t){const e=er(t);await Vy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function u$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e){const n=await s$(t,{},async()=>{const r=QR({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await l$(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&O0(t.emulatorConfig.host)&&(l.credentials="include"),o$.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J9(t,e){return Oc(t,"POST","/v2/accounts:revokeToken",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const n=YC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Z9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Vu;return r&&(Tt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Tt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Tt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vu,this.toJSON())}_performRefresh(){return ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){Tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Y9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new j1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await I1(this,this.stsTokenManager.getToken(this.auth,e));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H9(this,e)}reload(){return X9(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qa(this.auth.app))return Promise.reject(oc(this.auth));const e=await this.getIdToken();return await I1(this,q9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:g,providerData:b,stsTokenManager:v}=n;Tt(d&&v,e,"internal-error");const w=Vu.fromJSON(this.name,v);Tt(typeof d=="string",e,"internal-error"),ys(r,e.name),ys(i,e.name),Tt(typeof h=="boolean",e,"internal-error"),Tt(typeof g=="boolean",e,"internal-error"),ys(a,e.name),ys(o,e.name),ys(s,e.name),ys(l,e.name),ys(c,e.name),ys(u,e.name);const x=new Sa({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:w,createdAt:c,lastLoginAt:u});return b&&Array.isArray(b)&&(x.providerData=b.map(_=>({..._}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vu;i.updateFromServerResponse(n);const a=new Sa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vy(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Tt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?u$(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Vu;s.updateFromIdToken(r);const l=new Sa({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new j1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Map;function Gl(t){$y(t instanceof Function,"Expected a class definition");let e=XC.get(t);return e?($y(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f$.type="NONE";const QC=f$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t,e,n){return`firebase:${t}:${e}:${n}`}class Fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=jx(this.userKey,i.apiKey,a),this.fullPersistenceKey=jx("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ly(this.auth,{idToken:e}).catch(()=>{});return n?Sa._fromGetAccountInfoResponse(this.auth,n,e):null}return Sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fu(Gl(QC),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Gl(QC);const o=jx(r,e.config.apiKey,e.name);let s=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const h=await Ly(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Sa._fromGetAccountInfoResponse(e,h,u)}else d=Sa._fromJSON(e,u);c!==a&&(s=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Fu(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new Fu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p$(e))return"Blackberry";if(m$(e))return"Webos";if(tW(e))return"Safari";if((e.includes("chrome/")||nW(e))&&!e.includes("edge/"))return"Chrome";if(h$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eW(t=ni()){return/firefox\//i.test(t)}function tW(t=ni()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nW(t=ni()){return/crios\//i.test(t)}function d$(t=ni()){return/iemobile/i.test(t)}function h$(t=ni()){return/android/i.test(t)}function p$(t=ni()){return/blackberry/i.test(t)}function m$(t=ni()){return/webos/i.test(t)}function rW(t=ni()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iW(){return h8()&&document.documentMode===10}function aW(t=ni()){return rW(t)||h$(t)||m$(t)||p$(t)||/windows phone/i.test(t)||d$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t,e=[]){let n;switch(t){case"Browser":n=ZC(ni());break;case"Worker":n=`${ZC(ni())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${k0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sW(t,e={}){return Oc(t,"GET","/v2/passwordPolicy",Cc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=6;class cW{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JC(this),this.idTokenSubscription=new JC(this),this.beforeStateQueue=new oW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gl(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ly(this,{idToken:e}),r=await Sa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(qa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qa(this.app))return Promise.reject(oc(this));const n=e?er(e):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qa(this.app)?Promise.reject(oc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qa(this.app)?Promise.reject(oc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sW(this),n=new cW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await J9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gl(e)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[Gl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&D9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function am(t){return er(t)}class JC{constructor(e){this.auth=e,this.observer=null,this.addObserver=x8(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fW(t){BE=t}function dW(t){return BE.loadJS(t)}function hW(){return BE.recaptchaEnterpriseScript}class pW{constructor(){this.enterprise=new mW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gW="recaptcha-enterprise",y$="NO_RECAPTCHA";class yW{constructor(e){this.type=gW,this.auth=am(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{K9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new W9(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;GC(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(y$)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pW().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&GC(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hW();l.length!==0&&(l+=s),dW(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function e2(t,e,n,r=!1,i=!1){const a=new yW(t);let o;if(i)o=y$;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function N1(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await e2(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await e2(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t,e){const n=e$(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Zh(a,e??{}))return i;tf(i,"already-initialized")}return n.initialize({options:e})}function bW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,n){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}async function wW(t,e){return Oc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e){return I0(t,"POST","/v1/accounts:signInWithPassword",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(t,e){return I0(t,"POST","/v1/accounts:signInWithEmailLink",Cc(t,e))}async function EW(t,e){return I0(t,"POST","/v1/accounts:signInWithEmailLink",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends xW{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ep(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ep(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N1(e,n,"signInWithPassword",_W);case"emailLink":return SW(e,{email:this._email,oobCode:this._password});default:tf(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N1(e,r,"signUpPassword",wW);case"emailLink":return EW(e,{idToken:n,email:this._email,oobCode:this._password});default:tf(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TW(t){const e=eh(th(t)).link,n=e?eh(th(e)).deep_link_id:null,r=eh(th(t)).deep_link_id;return(r?eh(th(r)).link:null)||r||n||e||t}class UE{constructor(e){const n=eh(th(e)),r=n.apiKey??null,i=n.oobCode??null,a=AW(n.mode??null);Tt(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=TW(e);try{return new UE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.providerId=Bf.PROVIDER_ID}static credential(e,n){return ep._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=UE.parseLink(n);return Tt(r,"argument-error"),ep._fromEmailAndCode(e,r.code,r.tenantId)}}Bf.PROVIDER_ID="password";Bf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PW(t,e){return I0(t,"POST","/v1/accounts:signUp",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Sa._fromIdTokenResponse(e,r,i),o=t2(r);return new tp({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=t2(r);return new tp({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function t2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends ns{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fy(e,n,r,i)}}function CW(t,e,n,r){return n._getIdTokenResponse(t).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fy._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(t,e,n=!1){if(qa(t.app))return Promise.reject(oc(t));const r="signIn",i=await CW(t,r,e),a=await tp._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function kW(t,e){return OW(am(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(t){const e=am(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IW(t,e,n){if(qa(t.app))return Promise.reject(oc(t));const r=am(t),o=await N1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&v$(t),l}),s=await tp._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function jW(t,e,n){return qa(t.app)?Promise.reject(oc(t)):kW(er(t),Bf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&v$(t),r})}function NW(t,e,n,r){return er(t).onAuthStateChanged(e,n,r)}const n2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(n2,"1"),this.storage.removeItem(n2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=1e3,MW=10;class x$ extends b${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aW(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);iW()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x$.type="LOCAL";const RW=x$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W extends b${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$W.type="SESSION";new im(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new im(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new im(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new im(5e3,15e3);var r2="@firebase/auth",i2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FW(t){ef(new gc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g$(t)},c=new uW(r,i,a,l);return bW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ef(new gc("auth-internal",e=>{const n=am(e.getProvider("auth").getImmediate());return(r=>new LW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(r2,i2,VW(t)),zs(r2,i2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=5*60;a8("authIdTokenMaxAge");function BW(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}fW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=FE("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",BW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FW("Browser");var UW="firebase",WW="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(UW,WW,"app");var a2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,w$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function j(){}j.prototype=T.prototype,E.F=T.prototype,E.prototype=new j,E.prototype.constructor=E,E.D=function(D,N,$){for(var L=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)L[Q-2]=arguments[Q];return T.prototype[N].apply(D,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,j){j||(j=0);const D=Array(16);if(typeof T=="string")for(var N=0;N<16;++N)D[N]=T.charCodeAt(j++)|T.charCodeAt(j++)<<8|T.charCodeAt(j++)<<16|T.charCodeAt(j++)<<24;else for(N=0;N<16;++N)D[N]=T[j++]|T[j++]<<8|T[j++]<<16|T[j++]<<24;T=E.g[0],j=E.g[1],N=E.g[2];let $=E.g[3],L;L=T+($^j&(N^$))+D[0]+3614090360&4294967295,T=j+(L<<7&4294967295|L>>>25),L=$+(N^T&(j^N))+D[1]+3905402710&4294967295,$=T+(L<<12&4294967295|L>>>20),L=N+(j^$&(T^j))+D[2]+606105819&4294967295,N=$+(L<<17&4294967295|L>>>15),L=j+(T^N&($^T))+D[3]+3250441966&4294967295,j=N+(L<<22&4294967295|L>>>10),L=T+($^j&(N^$))+D[4]+4118548399&4294967295,T=j+(L<<7&4294967295|L>>>25),L=$+(N^T&(j^N))+D[5]+1200080426&4294967295,$=T+(L<<12&4294967295|L>>>20),L=N+(j^$&(T^j))+D[6]+2821735955&4294967295,N=$+(L<<17&4294967295|L>>>15),L=j+(T^N&($^T))+D[7]+4249261313&4294967295,j=N+(L<<22&4294967295|L>>>10),L=T+($^j&(N^$))+D[8]+1770035416&4294967295,T=j+(L<<7&4294967295|L>>>25),L=$+(N^T&(j^N))+D[9]+2336552879&4294967295,$=T+(L<<12&4294967295|L>>>20),L=N+(j^$&(T^j))+D[10]+4294925233&4294967295,N=$+(L<<17&4294967295|L>>>15),L=j+(T^N&($^T))+D[11]+2304563134&4294967295,j=N+(L<<22&4294967295|L>>>10),L=T+($^j&(N^$))+D[12]+1804603682&4294967295,T=j+(L<<7&4294967295|L>>>25),L=$+(N^T&(j^N))+D[13]+4254626195&4294967295,$=T+(L<<12&4294967295|L>>>20),L=N+(j^$&(T^j))+D[14]+2792965006&4294967295,N=$+(L<<17&4294967295|L>>>15),L=j+(T^N&($^T))+D[15]+1236535329&4294967295,j=N+(L<<22&4294967295|L>>>10),L=T+(N^$&(j^N))+D[1]+4129170786&4294967295,T=j+(L<<5&4294967295|L>>>27),L=$+(j^N&(T^j))+D[6]+3225465664&4294967295,$=T+(L<<9&4294967295|L>>>23),L=N+(T^j&($^T))+D[11]+643717713&4294967295,N=$+(L<<14&4294967295|L>>>18),L=j+($^T&(N^$))+D[0]+3921069994&4294967295,j=N+(L<<20&4294967295|L>>>12),L=T+(N^$&(j^N))+D[5]+3593408605&4294967295,T=j+(L<<5&4294967295|L>>>27),L=$+(j^N&(T^j))+D[10]+38016083&4294967295,$=T+(L<<9&4294967295|L>>>23),L=N+(T^j&($^T))+D[15]+3634488961&4294967295,N=$+(L<<14&4294967295|L>>>18),L=j+($^T&(N^$))+D[4]+3889429448&4294967295,j=N+(L<<20&4294967295|L>>>12),L=T+(N^$&(j^N))+D[9]+568446438&4294967295,T=j+(L<<5&4294967295|L>>>27),L=$+(j^N&(T^j))+D[14]+3275163606&4294967295,$=T+(L<<9&4294967295|L>>>23),L=N+(T^j&($^T))+D[3]+4107603335&4294967295,N=$+(L<<14&4294967295|L>>>18),L=j+($^T&(N^$))+D[8]+1163531501&4294967295,j=N+(L<<20&4294967295|L>>>12),L=T+(N^$&(j^N))+D[13]+2850285829&4294967295,T=j+(L<<5&4294967295|L>>>27),L=$+(j^N&(T^j))+D[2]+4243563512&4294967295,$=T+(L<<9&4294967295|L>>>23),L=N+(T^j&($^T))+D[7]+1735328473&4294967295,N=$+(L<<14&4294967295|L>>>18),L=j+($^T&(N^$))+D[12]+2368359562&4294967295,j=N+(L<<20&4294967295|L>>>12),L=T+(j^N^$)+D[5]+4294588738&4294967295,T=j+(L<<4&4294967295|L>>>28),L=$+(T^j^N)+D[8]+2272392833&4294967295,$=T+(L<<11&4294967295|L>>>21),L=N+($^T^j)+D[11]+1839030562&4294967295,N=$+(L<<16&4294967295|L>>>16),L=j+(N^$^T)+D[14]+4259657740&4294967295,j=N+(L<<23&4294967295|L>>>9),L=T+(j^N^$)+D[1]+2763975236&4294967295,T=j+(L<<4&4294967295|L>>>28),L=$+(T^j^N)+D[4]+1272893353&4294967295,$=T+(L<<11&4294967295|L>>>21),L=N+($^T^j)+D[7]+4139469664&4294967295,N=$+(L<<16&4294967295|L>>>16),L=j+(N^$^T)+D[10]+3200236656&4294967295,j=N+(L<<23&4294967295|L>>>9),L=T+(j^N^$)+D[13]+681279174&4294967295,T=j+(L<<4&4294967295|L>>>28),L=$+(T^j^N)+D[0]+3936430074&4294967295,$=T+(L<<11&4294967295|L>>>21),L=N+($^T^j)+D[3]+3572445317&4294967295,N=$+(L<<16&4294967295|L>>>16),L=j+(N^$^T)+D[6]+76029189&4294967295,j=N+(L<<23&4294967295|L>>>9),L=T+(j^N^$)+D[9]+3654602809&4294967295,T=j+(L<<4&4294967295|L>>>28),L=$+(T^j^N)+D[12]+3873151461&4294967295,$=T+(L<<11&4294967295|L>>>21),L=N+($^T^j)+D[15]+530742520&4294967295,N=$+(L<<16&4294967295|L>>>16),L=j+(N^$^T)+D[2]+3299628645&4294967295,j=N+(L<<23&4294967295|L>>>9),L=T+(N^(j|~$))+D[0]+4096336452&4294967295,T=j+(L<<6&4294967295|L>>>26),L=$+(j^(T|~N))+D[7]+1126891415&4294967295,$=T+(L<<10&4294967295|L>>>22),L=N+(T^($|~j))+D[14]+2878612391&4294967295,N=$+(L<<15&4294967295|L>>>17),L=j+($^(N|~T))+D[5]+4237533241&4294967295,j=N+(L<<21&4294967295|L>>>11),L=T+(N^(j|~$))+D[12]+1700485571&4294967295,T=j+(L<<6&4294967295|L>>>26),L=$+(j^(T|~N))+D[3]+2399980690&4294967295,$=T+(L<<10&4294967295|L>>>22),L=N+(T^($|~j))+D[10]+4293915773&4294967295,N=$+(L<<15&4294967295|L>>>17),L=j+($^(N|~T))+D[1]+2240044497&4294967295,j=N+(L<<21&4294967295|L>>>11),L=T+(N^(j|~$))+D[8]+1873313359&4294967295,T=j+(L<<6&4294967295|L>>>26),L=$+(j^(T|~N))+D[15]+4264355552&4294967295,$=T+(L<<10&4294967295|L>>>22),L=N+(T^($|~j))+D[6]+2734768916&4294967295,N=$+(L<<15&4294967295|L>>>17),L=j+($^(N|~T))+D[13]+1309151649&4294967295,j=N+(L<<21&4294967295|L>>>11),L=T+(N^(j|~$))+D[4]+4149444226&4294967295,T=j+(L<<6&4294967295|L>>>26),L=$+(j^(T|~N))+D[11]+3174756917&4294967295,$=T+(L<<10&4294967295|L>>>22),L=N+(T^($|~j))+D[2]+718787259&4294967295,N=$+(L<<15&4294967295|L>>>17),L=j+($^(N|~T))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(N+(L<<21&4294967295|L>>>11))&4294967295,E.g[2]=E.g[2]+N&4294967295,E.g[3]=E.g[3]+$&4294967295}r.prototype.v=function(E,T){T===void 0&&(T=E.length);const j=T-this.blockSize,D=this.C;let N=this.h,$=0;for(;$<T;){if(N==0)for(;$<=j;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<T;)if(D[N++]=E.charCodeAt($++),N==this.blockSize){i(this,D),N=0;break}}else for(;$<T;)if(D[N++]=E[$++],N==this.blockSize){i(this,D),N=0;break}}this.h=N,this.o+=T},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;T=this.o*8;for(var j=E.length-8;j<E.length;++j)E[j]=T&255,T/=256;for(this.v(E),E=Array(16),T=0,j=0;j<4;++j)for(let D=0;D<32;D+=8)E[T++]=this.g[j]>>>D&255;return E};function a(E,T){var j=s;return Object.prototype.hasOwnProperty.call(j,E)?j[E]:j[E]=T(E)}function o(E,T){this.h=T;const j=[];let D=!0;for(let N=E.length-1;N>=0;N--){const $=E[N]|0;D&&$==T||(j[N]=$,D=!1)}this.g=j}var s={};function l(E){return-128<=E&&E<128?a(E,function(T){return new o([T|0],T<0?-1:0)}):new o([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(E<0)return w(c(-E));const T=[];let j=1;for(let D=0;E>=j;D++)T[D]=E/j|0,j*=4294967296;return new o(T,0)}function u(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return w(u(E.substring(1),T));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=c(Math.pow(T,8));let D=d;for(let $=0;$<E.length;$+=8){var N=Math.min(8,E.length-$);const L=parseInt(E.substring($,$+N),T);N<8?(N=c(Math.pow(T,N)),D=D.j(N).add(c(L))):(D=D.j(j),D=D.add(c(L)))}return D}var d=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-w(this).m();let E=0,T=1;for(let j=0;j<this.g.length;j++){const D=this.i(j);E+=(D>=0?D:4294967296+D)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(v(this))return"-"+w(this).toString(E);const T=c(Math.pow(E,6));var j=this;let D="";for(;;){const N=k(j,T).g;j=x(j,N.j(T));let $=((j.g.length>0?j.g[0]:j.h)>>>0).toString(E);if(j=N,b(j))return $+D;for(;$.length<6;)$="0"+$;D=$+D}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(let T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function v(E){return E.h==-1}t.l=function(E){return E=x(this,E),v(E)?-1:b(E)?0:1};function w(E){const T=E.g.length,j=[];for(let D=0;D<T;D++)j[D]=~E.g[D];return new o(j,~E.h).add(h)}t.abs=function(){return v(this)?w(this):this},t.add=function(E){const T=Math.max(this.g.length,E.g.length),j=[];let D=0;for(let N=0;N<=T;N++){let $=D+(this.i(N)&65535)+(E.i(N)&65535),L=($>>>16)+(this.i(N)>>>16)+(E.i(N)>>>16);D=L>>>16,$&=65535,L&=65535,j[N]=L<<16|$}return new o(j,j[j.length-1]&-2147483648?-1:0)};function x(E,T){return E.add(w(T))}t.j=function(E){if(b(this)||b(E))return d;if(v(this))return v(E)?w(this).j(w(E)):w(w(this).j(E));if(v(E))return w(this.j(w(E)));if(this.l(g)<0&&E.l(g)<0)return c(this.m()*E.m());const T=this.g.length+E.g.length,j=[];for(var D=0;D<2*T;D++)j[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<E.g.length;N++){const $=this.i(D)>>>16,L=this.i(D)&65535,Q=E.i(N)>>>16,ne=E.i(N)&65535;j[2*D+2*N]+=L*ne,_(j,2*D+2*N),j[2*D+2*N+1]+=$*ne,_(j,2*D+2*N+1),j[2*D+2*N+1]+=L*Q,_(j,2*D+2*N+1),j[2*D+2*N+2]+=$*Q,_(j,2*D+2*N+2)}for(E=0;E<T;E++)j[E]=j[2*E+1]<<16|j[2*E];for(E=T;E<2*T;E++)j[E]=0;return new o(j,0)};function _(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function A(E,T){this.g=E,this.h=T}function k(E,T){if(b(T))throw Error("division by zero");if(b(E))return new A(d,d);if(v(E))return T=k(w(E),T),new A(w(T.g),w(T.h));if(v(T))return T=k(E,w(T)),new A(w(T.g),T.h);if(E.g.length>30){if(v(E)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var j=h,D=T;D.l(E)<=0;)j=S(j),D=S(D);var N=C(j,1),$=C(D,1);for(D=C(D,2),j=C(j,2);!b(D);){var L=$.add(D);L.l(E)<=0&&(N=N.add(j),$=L),D=C(D,1),j=C(j,1)}return T=x(E,N.j(T)),new A(N,T)}for(N=d;E.l(T)>=0;){for(j=Math.max(1,Math.floor(E.m()/T.m())),D=Math.ceil(Math.log(j)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),$=c(j),L=$.j(T);v(L)||L.l(E)>0;)j-=D,$=c(j),L=$.j(T);b($)&&($=h),N=N.add($),E=x(E,L)}return new A(N,E)}t.B=function(E){return k(this,E).h},t.and=function(E){const T=Math.max(this.g.length,E.g.length),j=[];for(let D=0;D<T;D++)j[D]=this.i(D)&E.i(D);return new o(j,this.h&E.h)},t.or=function(E){const T=Math.max(this.g.length,E.g.length),j=[];for(let D=0;D<T;D++)j[D]=this.i(D)|E.i(D);return new o(j,this.h|E.h)},t.xor=function(E){const T=Math.max(this.g.length,E.g.length),j=[];for(let D=0;D<T;D++)j[D]=this.i(D)^E.i(D);return new o(j,this.h^E.h)};function S(E){const T=E.g.length+1,j=[];for(let D=0;D<T;D++)j[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(j,E.h)}function C(E,T){const j=T>>5;T%=32;const D=E.g.length-j,N=[];for(let $=0;$<D;$++)N[$]=T>0?E.i($+j)>>>T|E.i($+j+1)<<32-T:E.i($+j);return new o(N,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,w$=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Bs=o}).apply(typeof a2<"u"?a2:typeof self<"u"?self:typeof window<"u"?window:{});var gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _$,nh,S$,ny,D1,E$,A$,T$;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof gg=="object"&&gg];for(var O=0;O<p.length;++O){var M=p[O];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(p,O){if(O)e:{var M=r;p=p.split(".");for(var z=0;z<p.length-1;z++){var ae=p[z];if(!(ae in M))break e;M=M[ae]}p=p[p.length-1],z=M[p],O=O(z),O!=z&&O!=null&&e(M,p,{configurable:!0,writable:!0,value:O})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(O){var M=[],z;for(z in O)Object.prototype.hasOwnProperty.call(O,z)&&M.push([z,O[z]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(p){var O=typeof p;return O=="object"&&p!=null||O=="function"}function l(p,O,M){return p.call.apply(p.bind,arguments)}function c(p,O,M){return c=l,c.apply(null,arguments)}function u(p,O){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),p.apply(this,z)}}function d(p,O){function M(){}M.prototype=O.prototype,p.Z=O.prototype,p.prototype=new M,p.prototype.constructor=p,p.Ob=function(z,ae,ue){for(var Oe=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Oe[ot-2]=arguments[ot];return O.prototype[ae].apply(z,Oe)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function g(p){const O=p.length;if(O>0){const M=Array(O);for(let z=0;z<O;z++)M[z]=p[z];return M}return[]}function b(p,O){for(let z=1;z<arguments.length;z++){const ae=arguments[z];var M=typeof ae;if(M=M!="object"?M:ae?Array.isArray(ae)?"array":M:"null",M=="array"||M=="object"&&typeof ae.length=="number"){M=p.length||0;const ue=ae.length||0;p.length=M+ue;for(let Oe=0;Oe<ue;Oe++)p[M+Oe]=ae[Oe]}else p.push(ae)}}class v{constructor(O,M){this.i=O,this.j=M,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function w(p){o.setTimeout(()=>{throw p},0)}function x(){var p=E;let O=null;return p.g&&(O=p.g,p.g=p.g.next,p.g||(p.h=null),O.next=null),O}class _{constructor(){this.h=this.g=null}add(O,M){const z=A.get();z.set(O,M),this.h?this.h.next=z:this.g=z,this.h=z}}var A=new v(()=>new k,p=>p.reset());class k{constructor(){this.next=this.g=this.h=null}set(O,M){this.h=O,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let S,C=!1,E=new _,T=()=>{const p=Promise.resolve(void 0);S=()=>{p.then(j)}};function j(){for(var p;p=x();){try{p.h.call(p.g)}catch(M){w(M)}var O=A;O.j(p),O.h<100&&(O.h++,p.next=O.g,O.g=p)}C=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(p,O){this.type=p,this.g=this.target=O,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,O=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const M=()=>{};o.addEventListener("test",M,O),o.removeEventListener("test",M,O)}catch{}return p}();function L(p){return/^[\s\xa0]*$/.test(p)}function Q(p,O){N.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,O)}d(Q,N),Q.prototype.init=function(p,O){const M=this.type=p.type,z=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=O,O=p.relatedTarget,O||(M=="mouseover"?O=p.fromElement:M=="mouseout"&&(O=p.toElement)),this.relatedTarget=O,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),ce=0;function le(p,O,M,z,ae){this.listener=p,this.proxy=null,this.src=O,this.type=M,this.capture=!!z,this.ha=ae,this.key=++ce,this.da=this.fa=!1}function Y(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function G(p,O,M){for(const z in p)O.call(M,p[z],z,p)}function pe(p,O){for(const M in p)O.call(void 0,p[M],M,p)}function Se(p){const O={};for(const M in p)O[M]=p[M];return O}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(p,O){let M,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(M in z)p[M]=z[M];for(let ue=0;ue<xe.length;ue++)M=xe[ue],Object.prototype.hasOwnProperty.call(z,M)&&(p[M]=z[M])}}function Ke(p){this.src=p,this.g={},this.h=0}Ke.prototype.add=function(p,O,M,z,ae){const ue=p.toString();p=this.g[ue],p||(p=this.g[ue]=[],this.h++);const Oe=ct(p,O,z,ae);return Oe>-1?(O=p[Oe],M||(O.fa=!1)):(O=new le(O,this.src,ue,!!z,ae),O.fa=M,p.push(O)),O};function ft(p,O){const M=O.type;if(M in p.g){var z=p.g[M],ae=Array.prototype.indexOf.call(z,O,void 0),ue;(ue=ae>=0)&&Array.prototype.splice.call(z,ae,1),ue&&(Y(O),p.g[M].length==0&&(delete p.g[M],p.h--))}}function ct(p,O,M,z){for(let ae=0;ae<p.length;++ae){const ue=p[ae];if(!ue.da&&ue.listener==O&&ue.capture==!!M&&ue.ha==z)return ae}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Ye={};function oe(p,O,M,z,ae){if(Array.isArray(O)){for(let ue=0;ue<O.length;ue++)oe(p,O[ue],M,z,ae);return null}return M=on(M),p&&p[ne]?p.J(O,M,s(z)?!!z.capture:!1,ae):ye(p,O,M,!1,z,ae)}function ye(p,O,M,z,ae,ue){if(!O)throw Error("Invalid event type");const Oe=s(ae)?!!ae.capture:!!ae;let ot=nt(p);if(ot||(p[Ce]=ot=new Ke(p)),M=ot.add(O,M,z,Oe,ue),M.proxy)return M;if(z=Ae(),M.proxy=z,z.src=p,z.listener=M,p.addEventListener)$||(ae=Oe),ae===void 0&&(ae=!1),p.addEventListener(O.toString(),z,ae);else if(p.attachEvent)p.attachEvent(ze(O.toString()),z);else if(p.addListener&&p.removeListener)p.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Ae(){function p(M){return O.call(p.src,p.listener,M)}const O=qe;return p}function se(p,O,M,z,ae){if(Array.isArray(O))for(var ue=0;ue<O.length;ue++)se(p,O[ue],M,z,ae);else z=s(z)?!!z.capture:!!z,M=on(M),p&&p[ne]?(p=p.i,ue=String(O).toString(),ue in p.g&&(O=p.g[ue],M=ct(O,M,z,ae),M>-1&&(Y(O[M]),Array.prototype.splice.call(O,M,1),O.length==0&&(delete p.g[ue],p.h--)))):p&&(p=nt(p))&&(O=p.g[O.toString()],p=-1,O&&(p=ct(O,M,z,ae)),(M=p>-1?O[p]:null)&&Be(M))}function Be(p){if(typeof p!="number"&&p&&!p.da){var O=p.src;if(O&&O[ne])ft(O.i,p);else{var M=p.type,z=p.proxy;O.removeEventListener?O.removeEventListener(M,z,p.capture):O.detachEvent?O.detachEvent(ze(M),z):O.addListener&&O.removeListener&&O.removeListener(z),(M=nt(O))?(ft(M,p),M.h==0&&(M.src=null,O[Ce]=null)):Y(p)}}}function ze(p){return p in Ye?Ye[p]:Ye[p]="on"+p}function qe(p,O){if(p.da)p=!0;else{O=new Q(O,this);const M=p.listener,z=p.ha||p.src;p.fa&&Be(p),p=M.call(z,O)}return p}function nt(p){return p=p[Ce],p instanceof Ke?p:null}var At="__closure_events_fn_"+(Math.random()*1e9>>>0);function on(p){return typeof p=="function"?p:(p[At]||(p[At]=function(O){return p.handleEvent(O)}),p[At])}function pt(){D.call(this),this.i=new Ke(this),this.M=this,this.G=null}d(pt,D),pt.prototype[ne]=!0,pt.prototype.removeEventListener=function(p,O,M,z){se(this,p,O,M,z)};function Ct(p,O){var M,z=p.G;if(z)for(M=[];z;z=z.G)M.push(z);if(p=p.M,z=O.type||O,typeof O=="string")O=new N(O,p);else if(O instanceof N)O.target=O.target||p;else{var ae=O;O=new N(z,p),je(O,ae)}ae=!0;let ue,Oe;if(M)for(Oe=M.length-1;Oe>=0;Oe--)ue=O.g=M[Oe],ae=rt(ue,z,!0,O)&&ae;if(ue=O.g=p,ae=rt(ue,z,!0,O)&&ae,ae=rt(ue,z,!1,O)&&ae,M)for(Oe=0;Oe<M.length;Oe++)ue=O.g=M[Oe],ae=rt(ue,z,!1,O)&&ae}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var p=this.i;for(const O in p.g){const M=p.g[O];for(let z=0;z<M.length;z++)Y(M[z]);delete p.g[O],p.h--}}this.G=null},pt.prototype.J=function(p,O,M,z){return this.i.add(String(p),O,!1,M,z)},pt.prototype.K=function(p,O,M,z){return this.i.add(String(p),O,!0,M,z)};function rt(p,O,M,z){if(O=p.i.g[String(O)],!O)return!0;O=O.concat();let ae=!0;for(let ue=0;ue<O.length;++ue){const Oe=O[ue];if(Oe&&!Oe.da&&Oe.capture==M){const ot=Oe.listener,un=Oe.ha||Oe.src;Oe.fa&&ft(p.i,Oe),ae=ot.call(un,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function Wt(p,O){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:o.setTimeout(p,O||0)}function Pn(p){p.g=Wt(()=>{p.g=null,p.i&&(p.i=!1,Pn(p))},p.l);const O=p.h;p.h=null,p.m.apply(null,O)}class ii extends D{constructor(O,M){super(),this.m=O,this.l=M,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(p){D.call(this),this.h=p,this.g={}}d(qn,D);var Ci=[];function Oi(p){G(p.g,function(O,M){this.g.hasOwnProperty(M)&&Be(O)},p),p.g={}}qn.prototype.N=function(){qn.Z.N.call(this),Oi(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var po=o.JSON.stringify,mo=o.JSON.parse,yl=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function go(){}function ki(){}var Ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yo(){N.call(this,"d")}d(yo,N);function Fr(){N.call(this,"c")}d(Fr,N);var Re={},Ia=null;function Or(){return Ia=Ia||new pt}Re.Ia="serverreachability";function Ze(p){N.call(this,Re.Ia,p)}d(Ze,N);function be(p){const O=Or();Ct(O,new Ze(O))}Re.STAT_EVENT="statevent";function Xe(p,O){N.call(this,Re.STAT_EVENT,p),this.stat=O}d(Xe,N);function Je(p){const O=Or();Ct(O,new Xe(O,p))}Re.Ja="timingevent";function Cn(p,O){N.call(this,Re.Ja,p),this.size=O}d(Cn,N);function dt(p,O){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},O)}function ra(){this.g=!0}ra.prototype.ua=function(){this.g=!1};function md(p,O,M,z,ae,ue){p.info(function(){if(p.g)if(ue){var Oe="",ot=ue.split("&");for(let Ot=0;Ot<ot.length;Ot++){var un=ot[Ot].split("=");if(un.length>1){const kn=un[0];un=un[1];const Kr=kn.split("_");Oe=Kr.length>=2&&Kr[1]=="type"?Oe+(kn+"="+un+"&"):Oe+(kn+"=redacted&")}}}else Oe=null;else Oe=ue;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+O+`
`+M+`
`+Oe})}function gd(p,O,M,z,ae,ue,Oe){p.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+O+`
`+M+`
`+ue+" "+Oe})}function nr(p,O,M,z){p.info(function(){return"XMLHTTP TEXT ("+O+"): "+yd(p,M)+(z?" "+z:"")})}function ji(p,O){p.info(function(){return"TIMEOUT: "+O})}ra.prototype.info=function(){};function yd(p,O){if(!p.g)return O;if(!O)return null;try{const ue=JSON.parse(O);if(ue){for(p=0;p<ue.length;p++)if(Array.isArray(ue[p])){var M=ue[p];if(!(M.length<2)){var z=M[1];if(Array.isArray(z)&&!(z.length<1)){var ae=z[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Oe=1;Oe<z.length;Oe++)z[Oe]=""}}}}return po(ue)}catch{return O}}var vo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_n;function vd(){}d(vd,go),vd.prototype.g=function(){return new XMLHttpRequest},_n=new vd;function ja(p){return encodeURIComponent(String(p))}function Fc(p){var O=1;p=p.split(":");const M=[];for(;O>0&&p.length;)M.push(p.shift()),O--;return p.length&&M.push(p.join(":")),M}function ai(p,O,M,z){this.j=p,this.i=O,this.l=M,this.S=z||1,this.V=new qn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rm}function Rm(){this.i=null,this.g="",this.h=!1}var ia={},Na={};function Ni(p,O,M){p.M=1,p.A=Ma(si(O)),p.u=M,p.R=!0,vl(p,null)}function vl(p,O){p.F=Date.now(),Di(p),p.B=si(p.A);var M=p.B,z=p.S;Array.isArray(z)||(z=[String(z)]),Bm(M.i,"t",z),p.C=0,M=p.j.L,p.h=new Rm,p.g=hs(p.j,M?O:null,!p.u),p.P>0&&(p.O=new ii(c(p.Y,p,p.g),p.P)),O=p.V,M=p.g,z=p.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(Ci[0]=ae.toString()),ae=Ci);for(let ue=0;ue<ae.length;ue++){const Oe=oe(M,ae[ue],z||O.handleEvent,!1,O.h||O);if(!Oe)break;O.g[Oe.key]=Oe}O=p.J?Se(p.J):{},p.u?(p.v||(p.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,O)):(p.v="GET",p.g.ea(p.B,p.v,null,O)),be(),md(p.i,p.v,p.B,p.l,p.S,p.u)}ai.prototype.ba=function(p){p=p.target;const O=this.O;O&&Wr(p)==3?O.j():this.Y(p)},ai.prototype.Y=function(p){try{if(p==this.g)e:{const ot=Wr(this.g),un=this.g.ya(),Ot=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||qm(this.g)))){this.K||ot!=4||un==7||(un==8||Ot<=0?be(3):be(2)),bl(this);var O=this.g.ca();this.X=O;var M=Gb(this);if(this.o=O==200,gd(this.i,this.v,this.B,this.l,this.S,ot,O),this.o){if(this.U&&!this.L){t:{if(this.g){var z,ae=this.g;if((z=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(z)){var ue=z;break t}}ue=null}if(p=ue)nr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,p);else{this.o=!1,this.m=3,Je(12),kr(this),qt(this);break e}}if(this.R){p=!0;let kn;for(;!this.K&&this.C<M.length;)if(kn=$m(this,M),kn==Na){ot==4&&(this.m=4,Je(14),p=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==ia){this.m=4,Je(15),nr(this.i,this.l,M,"[Invalid Chunk]"),p=!1;break}else nr(this.i,this.l,kn,null),oi(this,kn);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||M.length!=0||this.h.h||(this.m=1,Je(16),p=!1),this.o=this.o&&p,!p)nr(this.i,this.l,M,"[Invalid Chunked Response]"),kr(this),qt(this);else if(M.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Yc(Oe),Oe.P=!0,Je(11))}}else nr(this.i,this.l,M,null),oi(this,M);ot==4&&kr(this),this.o&&!this.K&&(ot==4?Xc(this.j,this):(this.o=!1,Di(this)))}else Yb(this.g),O==400&&M.indexOf("Unknown SID")>0?(this.m=3,Je(12)):(this.m=0,Je(13)),kr(this),qt(this)}}}catch{}finally{}};function Gb(p){if(!aa(p))return p.g.la();const O=qm(p.g);if(O==="")return"";let M="";const z=O.length,ae=Wr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return kr(p),qt(p),"";p.h.i=new o.TextDecoder}for(let ue=0;ue<z;ue++)p.h.h=!0,M+=p.h.i.decode(O[ue],{stream:!(ae&&ue==z-1)});return O.length=0,p.h.g+=M,p.C=0,p.h.g}function aa(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function $m(p,O){var M=p.C,z=O.indexOf(`
`,M);return z==-1?Na:(M=Number(O.substring(M,z)),isNaN(M)?ia:(z+=1,z+M>O.length?Na:(O=O.slice(z,z+M),p.C=z+M,O)))}ai.prototype.cancel=function(){this.K=!0,kr(this)};function Di(p){p.T=Date.now()+p.H,bd(p,p.H)}function bd(p,O){if(p.D!=null)throw Error("WatchDog timer not null");p.D=dt(c(p.aa,p),O)}function bl(p){p.D&&(o.clearTimeout(p.D),p.D=null)}ai.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ji(this.i,this.B),this.M!=2&&(be(),Je(17)),kr(this),this.m=2,qt(this)):bd(this,this.T-p)};function qt(p){p.j.I==0||p.K||Xc(p.j,p)}function kr(p){bl(p);var O=p.O;O&&typeof O.dispose=="function"&&O.dispose(),p.O=null,Oi(p.V),p.g&&(O=p.g,p.g=null,O.abort(),O.dispose())}function oi(p,O){try{var M=p.j;if(M.I!=0&&(M.g==p||wl(M.h,p))){if(!p.L&&wl(M.h,p)&&M.I==3){try{var z=M.Ba.g.parse(O)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<p.F)ca(M),qc(M);else break e;ds(M),Je(18)}}else M.xa=ae[1],0<M.xa-M.K&&ae[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=dt(c(M.Va,M),6e3));zc(M.h)<=1&&M.ta&&(M.ta=void 0)}else ua(M,11)}else if((p.L||M.g==p)&&ca(M),!L(O))for(ae=M.Ba.g.parse(O),O=0;O<ae.length;O++){let Ot=ae[O];const kn=Ot[0];if(!(kn<=M.K))if(M.K=kn,Ot=Ot[1],M.I==2)if(Ot[0]=="c"){M.M=Ot[1],M.ba=Ot[2];const Kr=Ot[3];Kr!=null&&(M.ka=Kr,M.j.info("VER="+M.ka));const da=Ot[4];da!=null&&(M.za=da,M.j.info("SVER="+M.za));const Va=Ot[5];Va!=null&&typeof Va=="number"&&Va>0&&(z=1.5*Va,M.O=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const ha=p.g;if(ha){const Jc=ha.g?ha.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var ue=z.h;ue.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(oa(ue,ue.h),ue.h=null))}if(z.G){const eu=ha.g?ha.g.getResponseHeader("X-HTTP-Session-Id"):null;eu&&(z.wa=eu,jt(z.J,z.G,eu))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-p.F,M.j.info("Handshake RTT: "+M.T+"ms")),z=M;var Oe=p;if(z.na=$n(z,z.L?z.ba:null,z.W),Oe.L){xd(z.h,Oe);var ot=Oe,un=z.O;un&&(ot.H=un),ot.D&&(bl(ot),Di(ot)),z.g=Oe}else Cl(z);M.i.length>0&&Hc(M)}else Ot[0]!="stop"&&Ot[0]!="close"||ua(M,7);else M.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?ua(M,7):Tl(M):Ot[0]!="noop"&&M.l&&M.l.qa(Ot),M.A=0)}}be(4)}catch{}}var Lm=class{constructor(p,O){this.g=p,this.map=O}};function bo(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function zc(p){return p.h?1:p.g?p.g.size:0}function wl(p,O){return p.h?p.h==O:p.g?p.g.has(O):!1}function oa(p,O){p.g?p.g.add(O):p.h=O}function xd(p,O){p.h&&p.h==O?p.h=null:p.g&&p.g.has(O)&&p.g.delete(O)}bo.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function _l(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let O=p.i;for(const M of p.g.values())O=O.concat(M.G);return O}return g(p.i)}var wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(p,O){if(p){p=p.split("&");for(let M=0;M<p.length;M++){const z=p[M].indexOf("=");let ae,ue=null;z>=0?(ae=p[M].substring(0,z),ue=p[M].substring(z+1)):ae=p[M],O(ae,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function sa(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;p instanceof sa?(this.l=p.l,Da(this,p.j),this.o=p.o,this.g=p.g,ss(this,p.u),this.h=p.h,Rt(this,pr(p.i)),this.m=p.m):p&&(O=String(p).match(wd))?(this.l=!1,Da(this,O[1]||"",!0),this.o=Mi(O[2]||""),this.g=Mi(O[3]||"",!0),ss(this,O[4]),this.h=Mi(O[5]||"",!0),Rt(this,O[6]||"",!0),this.m=Mi(O[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}sa.prototype.toString=function(){const p=[];var O=this.j;O&&p.push(xo(O,Sl,!0),":");var M=this.g;return(M||O=="file")&&(p.push("//"),(O=this.o)&&p.push(xo(O,Sl,!0),"@"),p.push(ja(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&p.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&p.push("/"),p.push(xo(M,M.charAt(0)=="/"?Bc:Vm,!0))),(M=this.i.toString())&&p.push("?",M),(M=this.m)&&p.push("#",xo(M,El)),p.join("")},sa.prototype.resolve=function(p){const O=si(this);let M=!!p.j;M?Da(O,p.j):M=!!p.o,M?O.o=p.o:M=!!p.g,M?O.g=p.g:M=p.u!=null;var z=p.h;if(M)ss(O,p.u);else if(M=!!p.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var ae=O.h.lastIndexOf("/");ae!=-1&&(z=O.h.slice(0,ae+1)+z)}if(ae=z,ae==".."||ae==".")z="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){z=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const ue=[];for(let Oe=0;Oe<ae.length;){const ot=ae[Oe++];ot=="."?z&&Oe==ae.length&&ue.push(""):ot==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),z&&Oe==ae.length&&ue.push("")):(ue.push(ot),z=!0)}z=ue.join("/")}else z=ae}return M?O.h=z:M=p.i.toString()!=="",M?Rt(O,pr(p.i)):M=!!p.m,M&&(O.m=p.m),O};function si(p){return new sa(p)}function Da(p,O,M){p.j=M?Mi(O,!0):O,p.j&&(p.j=p.j.replace(/:$/,""))}function ss(p,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);p.u=O}else p.u=null}function Rt(p,O,M){O instanceof ls?(p.i=O,Uc(p.i,p.l)):(M||(O=xo(O,Fm)),p.i=new ls(O,p.l))}function jt(p,O,M){p.i.set(O,M)}function Ma(p){return jt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Mi(p,O){return p?O?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function xo(p,O,M){return typeof p=="string"?(p=encodeURI(p).replace(O,_d),M&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function _d(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Sl=/[#\/\?@]/g,Vm=/[#\?:]/g,Bc=/[#\?]/g,Fm=/[#\?@]/g,El=/#/g;function ls(p,O){this.h=this.g=null,this.i=p||null,this.j=!!O}function wo(p){p.g||(p.g=new Map,p.h=0,p.i&&mt(p.i,function(O,M){p.add(decodeURIComponent(O.replace(/\+/g," ")),M)}))}t=ls.prototype,t.add=function(p,O){wo(this),this.i=null,p=li(this,p);let M=this.g.get(p);return M||this.g.set(p,M=[]),M.push(O),this.h+=1,this};function wt(p,O){wo(p),O=li(p,O),p.g.has(O)&&(p.i=null,p.h-=p.g.get(O).length,p.g.delete(O))}function Sd(p,O){return wo(p),O=li(p,O),p.g.has(O)}t.forEach=function(p,O){wo(this),this.g.forEach(function(M,z){M.forEach(function(ae){p.call(O,ae,z,this)},this)},this)};function zm(p,O){wo(p);let M=[];if(typeof O=="string")Sd(p,O)&&(M=M.concat(p.g.get(li(p,O))));else for(p=Array.from(p.g.values()),O=0;O<p.length;O++)M=M.concat(p[O]);return M}t.set=function(p,O){return wo(this),this.i=null,p=li(this,p),Sd(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[O]),this.h+=1,this},t.get=function(p,O){return p?(p=zm(this,p),p.length>0?String(p[0]):O):O};function Bm(p,O,M){wt(p,O),M.length>0&&(p.i=null,p.g.set(li(p,O),g(M)),p.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],O=Array.from(this.g.keys());for(let z=0;z<O.length;z++){var M=O[z];const ae=ja(M);M=zm(this,M);for(let ue=0;ue<M.length;ue++){let Oe=ae;M[ue]!==""&&(Oe+="="+ja(M[ue])),p.push(Oe)}}return this.i=p.join("&")};function pr(p){const O=new ls;return O.i=p.i,p.g&&(O.g=new Map(p.g),O.h=p.h),O}function li(p,O){return O=String(O),p.j&&(O=O.toLowerCase()),O}function Uc(p,O){O&&!p.j&&(wo(p),p.i=null,p.g.forEach(function(M,z){const ae=z.toLowerCase();z!=ae&&(wt(this,z),Bm(this,ae,M))},p)),p.j=O}function Ra(p,O){const M=new ra;if(o.Image){const z=new Image;z.onload=u(la,M,"TestLoadImage: loaded",!0,O,z),z.onerror=u(la,M,"TestLoadImage: error",!1,O,z),z.onabort=u(la,M,"TestLoadImage: abort",!1,O,z),z.ontimeout=u(la,M,"TestLoadImage: timeout",!1,O,z),o.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=p}else O(!1)}function Um(p,O){const M=new ra,z=new AbortController,ae=setTimeout(()=>{z.abort(),la(M,"TestPingServer: timeout",!1,O)},1e4);fetch(p,{signal:z.signal}).then(ue=>{clearTimeout(ae),ue.ok?la(M,"TestPingServer: ok",!0,O):la(M,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(ae),la(M,"TestPingServer: error",!1,O)})}function la(p,O,M,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(M)}catch{}}function On(){this.g=new yl}function zr(p){this.i=p.Sb||null,this.h=p.ab||!1}d(zr,go),zr.prototype.g=function(){return new $a(this.i,this.h)};function $a(p,O){pt.call(this),this.H=p,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d($a,pt),t=$a.prototype,t.open=function(p,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=O,this.readyState=1,Br(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(O.body=p),(this.H||o).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cs(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function cs(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var O=p.value?p.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!p.done}))&&(this.response=this.responseText+=O)}p.done?_o(this):Br(this),this.readyState==3&&cs(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,_o(this))},t.Na=function(p){this.g&&(this.response=p,_o(this))},t.ga=function(){this.g&&_o(this)};function _o(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Br(p)}t.setRequestHeader=function(p,O){this.A.append(p,O)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],O=this.h.entries();for(var M=O.next();!M.done;)M=M.value,p.push(M[0]+": "+M[1]),M=O.next();return p.join(`\r
`)};function Br(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Wm(p){let O="";return G(p,function(M,z){O+=z,O+=":",O+=M,O+=`\r
`}),O}function Ur(p,O,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=Wm(M),typeof p=="string"?M!=null&&ja(M):jt(p,O,M))}function Gt(p){pt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Gt,pt);var Km=/^https?$/i,Ed=["POST","PUT"];t=Gt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,O,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);O=O?O.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_n.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(O,String(p),!0),this.B=!1}catch(ue){us(this,ue);return}if(p=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)M.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ue of z.keys())M.set(ue,z.get(ue));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(ue=>ue.toLowerCase()=="content-type"),ae=o.FormData&&p instanceof o.FormData,!(Array.prototype.indexOf.call(Ed,O,void 0)>=0)||z||ae||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Oe]of M)this.g.setRequestHeader(ue,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ue){us(this,ue)}};function us(p,O){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=O,p.o=5,Wc(p),Kc(p)}function Wc(p){p.A||(p.A=!0,Ct(p,"complete"),Ct(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ct(this,"complete"),Ct(this,"abort"),Kc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kc(this,!0)),Gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ad(this):this.Xa())},t.Xa=function(){Ad(this)};function Ad(p){if(p.h&&typeof a<"u"){if(p.v&&Wr(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ct(p,"readystatechange"),Wr(p)==4){p.h=!1;try{const ue=p.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var M;if(!(M=O)){var z;if(z=ue===0){let Oe=String(p.D).match(wd)[1]||null;!Oe&&o.self&&o.self.location&&(Oe=o.self.location.protocol.slice(0,-1)),z=!Km.test(Oe?Oe.toLowerCase():"")}M=z}if(M)Ct(p,"complete"),Ct(p,"success");else{p.o=6;try{var ae=Wr(p)>2?p.g.statusText:""}catch{ae=""}p.l=ae+" ["+p.ca()+"]",Wc(p)}}finally{Kc(p)}}}}function Kc(p,O){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const M=p.g;p.g=null,O||Ct(p,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wr(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Wr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var O=this.g.responseText;return p&&O.indexOf(p)==0&&(O=O.substring(p.length)),mo(O)}};function qm(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Yb(p){const O={};p=(p.g&&Wr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<p.length;z++){if(L(p[z]))continue;var M=Fc(p[z]);const ae=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ue=O[ae]||[];O[ae]=ue,ue.push(M)}pe(O,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(p,O,M){return M&&M.internalChannelParams&&M.internalChannelParams[p]||O}function Al(p){this.za=0,this.i=[],this.j=new ra,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=La("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=La("baseRetryDelayMs",5e3,p),this.Za=La("retryDelaySeedMs",1e4,p),this.Ta=La("forwardChannelMaxRetries",2,p),this.va=La("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(p&&p.concurrentRequestLimit),this.Ba=new On,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Al.prototype,t.ka=8,t.I=1,t.connect=function(p,O,M,z){Je(0),this.W=p,this.H=O||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.J=$n(this,null,this.W),Hc(this)};function Tl(p){if(Hm(p),p.I==3){var O=p.V++,M=si(p.J);if(jt(M,"SID",p.M),jt(M,"RID",O),jt(M,"TYPE","terminate"),fs(p,M),O=new ai(p,p.j,O),O.M=2,O.A=Ma(si(M)),M=!1,o.navigator&&o.navigator.sendBeacon)try{M=o.navigator.sendBeacon(O.A.toString(),"")}catch{}!M&&o.Image&&(new Image().src=O.A,M=!0),M||(O.g=hs(O.j,null),O.g.ea(O.A)),O.F=Date.now(),Di(O)}Zc(p)}function qc(p){p.g&&(Yc(p),p.g.cancel(),p.g=null)}function Hm(p){qc(p),p.v&&(o.clearTimeout(p.v),p.v=null),ca(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&o.clearTimeout(p.m),p.m=null)}function Hc(p){if(!xl(p.h)&&!p.m){p.m=!0;var O=p.Ea;S||T(),C||(S(),C=!0),E.add(O,p),p.D=0}}function Td(p,O){return zc(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=O.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=dt(c(p.Ea,p,O),Qc(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const ae=new ai(this,this.j,p);let ue=this.o;if(this.U&&(ue?(ue=Se(ue),je(ue,this.U)):ue=this.U),this.u!==null||this.R||(ae.J=ue,ue=null),this.S)e:{for(var O=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(O+=z,O>4096){O=M;break e}if(O===4096||M===this.i.length-1){O=M+1;break e}}O=1e3}else O=1e3;O=Pl(this,ae,O),M=si(this.J),jt(M,"RID",p),jt(M,"CVER",22),this.G&&jt(M,"X-HTTP-Session-Id",this.G),fs(this,M),ue&&(this.R?O="headers="+ja(Wm(ue))+"&"+O:this.u&&Ur(M,this.u,ue)),oa(this.h,ae),this.Ra&&jt(M,"TYPE","init"),this.S?(jt(M,"$req",O),jt(M,"SID","null"),ae.U=!0,Ni(ae,M,null)):Ni(ae,M,O),this.I=2}}else this.I==3&&(p?Gc(this,p):this.i.length==0||xl(this.h)||Gc(this))};function Gc(p,O){var M;O?M=O.l:M=p.V++;const z=si(p.J);jt(z,"SID",p.M),jt(z,"RID",M),jt(z,"AID",p.K),fs(p,z),p.u&&p.o&&Ur(z,p.u,p.o),M=new ai(p,p.j,M,p.D+1),p.u===null&&(M.J=p.o),O&&(p.i=O.G.concat(p.i)),O=Pl(p,M,1e3),M.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),oa(p.h,M),Ni(M,z,O)}function fs(p,O){p.H&&G(p.H,function(M,z){jt(O,z,M)}),p.l&&G({},function(M,z){jt(O,z,M)})}function Pl(p,O,M){M=Math.min(p.i.length,M);const z=p.l?c(p.l.Ka,p.l,p):null;e:{var ae=p.i;let ot=-1;for(;;){const un=["count="+M];ot==-1?M>0?(ot=ae[0].g,un.push("ofs="+ot)):ot=0:un.push("ofs="+ot);let Ot=!0;for(let kn=0;kn<M;kn++){var ue=ae[kn].g;const Kr=ae[kn].map;if(ue-=ot,ue<0)ot=Math.max(0,ae[kn].g-100),Ot=!1;else try{ue="req"+ue+"_"||"";try{var Oe=Kr instanceof Map?Kr:Object.entries(Kr);for(const[da,Va]of Oe){let ha=Va;s(Va)&&(ha=po(Va)),un.push(ue+da+"="+encodeURIComponent(ha))}}catch(da){throw un.push(ue+"type="+encodeURIComponent("_badmap")),da}}catch{z&&z(Kr)}}if(Ot){Oe=un.join("&");break e}}Oe=void 0}return p=p.i.splice(0,M),O.G=p,Oe}function Cl(p){if(!p.g&&!p.v){p.Y=1;var O=p.Da;S||T(),C||(S(),C=!0),E.add(O,p),p.A=0}}function ds(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=dt(c(p.Da,p),Qc(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Gm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=dt(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Je(10),qc(this),Gm(this))};function Yc(p){p.B!=null&&(o.clearTimeout(p.B),p.B=null)}function Gm(p){p.g=new ai(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var O=si(p.na);jt(O,"RID","rpc"),jt(O,"SID",p.M),jt(O,"AID",p.K),jt(O,"CI",p.F?"0":"1"),!p.F&&p.ia&&jt(O,"TO",p.ia),jt(O,"TYPE","xmlhttp"),fs(p,O),p.u&&p.o&&Ur(O,p.u,p.o),p.O&&(p.g.H=p.O);var M=p.g;p=p.ba,M.M=1,M.A=Ma(si(O)),M.u=null,M.R=!0,vl(M,p)}t.Va=function(){this.C!=null&&(this.C=null,qc(this),ds(this),Je(19))};function ca(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function Xc(p,O){var M=null;if(p.g==O){ca(p),Yc(p),p.g=null;var z=2}else if(wl(p.h,O))M=O.G,xd(p.h,O),z=1;else return;if(p.I!=0){if(O.o)if(z==1){M=O.u?O.u.length:0,O=Date.now()-O.F;var ae=p.D;z=Or(),Ct(z,new Cn(z,M)),Hc(p)}else Cl(p);else if(ae=O.m,ae==3||ae==0&&O.X>0||!(z==1&&Td(p,O)||z==2&&ds(p)))switch(M&&M.length>0&&(O=p.h,O.i=O.i.concat(M)),ae){case 1:ua(p,5);break;case 4:ua(p,10);break;case 3:ua(p,6);break;default:ua(p,2)}}}function Qc(p,O){let M=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(M*=2),M*O}function ua(p,O){if(p.j.info("Error code "+O),O==2){var M=c(p.bb,p),z=p.Ua;const ae=!z;z=new sa(z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Da(z,"https"),Ma(z),ae?Ra(z.toString(),M):Um(z.toString(),M)}else Je(2);p.I=0,p.l&&p.l.pa(O),Zc(p),Hm(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function Zc(p){if(p.I=0,p.ja=[],p.l){const O=_l(p.h);(O.length!=0||p.i.length!=0)&&(b(p.ja,O),b(p.ja,p.i),p.h.i.length=0,g(p.i),p.i.length=0),p.l.oa()}}function $n(p,O,M){var z=M instanceof sa?si(M):new sa(M);if(z.g!="")O&&(z.g=O+"."+z.g),ss(z,z.u);else{var ae=o.location;z=ae.protocol,O=O?O+"."+ae.hostname:ae.hostname,ae=+ae.port;const ue=new sa(null);z&&Da(ue,z),O&&(ue.g=O),ae&&ss(ue,ae),M&&(ue.h=M),z=ue}return M=p.G,O=p.wa,M&&O&&jt(z,M,O),jt(z,"VER",p.ka),fs(p,z),z}function hs(p,O,M){if(O&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=p.Aa&&!p.ma?new Gt(new zr({ab:M})):new Gt(p.ma),O.Fa(p.L),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ps(){}t=ps.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ol(){}Ol.prototype.g=function(p,O){return new Hn(p,O)};function Hn(p,O){pt.call(this),this.g=new Al(O),this.l=p,this.h=O&&O.messageUrlParams||null,p=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(p?p["X-WebChannel-Content-Type"]=O.messageContentType:p={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(p?p["X-WebChannel-Client-Profile"]=O.sa:p={"X-WebChannel-Client-Profile":O.sa}),this.g.U=p,(p=O&&O.Qb)&&!L(p)&&(this.g.u=p),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!L(O)&&(this.g.G=O,p=this.h,p!==null&&O in p&&(p=this.h,O in p&&delete p[O])),this.j=new fa(this)}d(Hn,pt),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Tl(this.g)},Hn.prototype.o=function(p){var O=this.g;if(typeof p=="string"){var M={};M.__data__=p,p=M}else this.v&&(M={},M.__data__=po(p),p=M);O.i.push(new Lm(O.Ya++,p)),O.I==3&&Hc(O)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,Hn.Z.N.call(this)};function Pd(p){yo.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var O=p.__sm__;if(O){e:{for(const M in O){p=M;break e}p=void 0}(this.i=p)&&(p=this.i,O=O!==null&&p in O?O[p]:void 0),this.data=O}else this.data=p}d(Pd,yo);function Cd(){Fr.call(this),this.status=1}d(Cd,Fr);function fa(p){this.g=p}d(fa,ps),fa.prototype.ra=function(){Ct(this.g,"a")},fa.prototype.qa=function(p){Ct(this.g,new Pd(p))},fa.prototype.pa=function(p){Ct(this.g,new Cd)},fa.prototype.oa=function(){Ct(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,T$=function(){return new Ol},A$=function(){return Or()},E$=Re,D1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vo.NO_ERROR=0,vo.TIMEOUT=8,vo.HTTP_ERROR=6,ny=vo,Kt.COMPLETE="complete",S$=Kt,ki.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",pt.prototype.listen=pt.prototype.J,nh=ki,Gt.prototype.listenOnce=Gt.prototype.K,Gt.prototype.getLastError=Gt.prototype.Ha,Gt.prototype.getLastErrorCode=Gt.prototype.ya,Gt.prototype.getStatus=Gt.prototype.ca,Gt.prototype.getResponseJson=Gt.prototype.La,Gt.prototype.getResponseText=Gt.prototype.la,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Fa,_$=Gt}).apply(typeof gg<"u"?gg:typeof self<"u"?self:typeof window<"u"?window:{});const o2="@firebase/firestore",s2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new LE("@firebase/firestore");function lu(){return yc.logLevel}function Le(t,...e){if(yc.logLevel<=vt.DEBUG){const n=e.map(WE);yc.debug(`Firestore (${Uf}): ${t}`,...n)}}function Ho(t,...e){if(yc.logLevel<=vt.ERROR){const n=e.map(WE);yc.error(`Firestore (${Uf}): ${t}`,...n)}}function np(t,...e){if(yc.logLevel<=vt.WARN){const n=e.map(WE);yc.warn(`Firestore (${Uf}): ${t}`,...n)}}function WE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,P$(t,r,n)}function P$(t,e,n){let r=`FIRESTORE (${Uf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ho(r),new Error(r)}function Mt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||P$(e,i,r)}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hr.UNAUTHENTICATED))}shutdown(){}}class HW{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Us,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Us)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt(typeof r.accessToken=="string",31837,{l:r}),new KW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new Hr(e)}}class GW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new GW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Mt(this.o===void 0,3512);const r=a=>{a.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new l2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=QW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function M1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Nx(i)===Nx(a)?bt(i,a):Nx(i)?1:-1}return bt(t.length,e.length)}const ZW=55296,JW=57343;function Nx(t){const e=t.charCodeAt(0);return e>=ZW&&e<=JW}function nf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="__name__";class Ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ua.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return bt(e.length,n.length)}static compareSegments(e,n){const r=Ua.isNumericId(e),i=Ua.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ua.extractNumericId(e).compare(Ua.extractNumericId(n)):M1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class Xt extends Ua{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xt(n)}static emptyPath(){return new Xt([])}}const e7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends Ua{construct(e,n,r){return new lr(e,n,r)}static isValidIdentifier(e){return e7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c2}static keyField(){return new lr([c2])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new De(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new De(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new De(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new De(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(n)}static emptyPath(){return new lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(Xt.fromString(e))}static fromName(e){return new We(Xt.fromString(e).popFirst(5))}static empty(){return new We(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t,e,n){if(!n)throw new De(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t7(t,e,n,r){if(e===!0&&r===!0)throw new De(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function u2(t){if(!We.isDocumentKey(t))throw new De(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f2(t){if(We.isDocumentKey(t))throw new De(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O$(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function j0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function Yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=j0(t);throw new De(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){const n={typeString:t};return e&&(n.value=e),n}function om(t,e){if(!O$(t))throw new De(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new De(ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=-62135596800,h2=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*h2);return new rn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d2)throw new De(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h2}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(om(e,rn._jsonSchema))return new rn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rn._jsonSchemaVersion="firestore/timestamp/1.0",rn._jsonSchema={type:Mn("string",rn._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new rn(0,0))}static max(){return new tt(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=-1;function n7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Xs(i,We.empty(),e)}function r7(t){return new Xs(t.readTime,t.key,rp)}class Xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(tt.min(),We.empty(),rp)}static max(){return new Xs(tt.max(),We.empty(),rp)}}function i7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==a7)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++s,s===a&&r(o)},u=>i(u))}})}static doWhile(e,n){return new ve((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function s7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}N0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=-1;function D0(t){return t==null}function zy(t){return t===0&&1/t==-1/0}function l7(t){return typeof t=="number"&&Number.isInteger(t)&&!zy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="";function c7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=p2(e)),e=u7(t.get(n),e);return p2(e)}function u7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case k$:n+="";break;default:n+=a}}return n}function p2(t){return t+k$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yg(this.root,e,this.comparator,!0)}}class yg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??or.RED,this.left=i??or.EMPTY,this.right=a??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new or(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g2(this.data.getIterator())}getIteratorFrom(e){return new g2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class g2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new yi([])}unionWith(e){let n=new Un(lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new j$("Invalid base64 string: "+a):a}}(e);return new hr(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new hr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const f7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(Mt(!!t,39018),typeof t=="string"){let e=0;const n=f7.exec(t);if(Mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:An(t.seconds),nanos:An(t.nanos)}}function An(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?hr.fromBase64String(t):hr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="server_timestamp",D$="__type__",M$="__previous_value__",R$="__local_write_time__";function HE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[D$])==null?void 0:r.stringValue)===N$}function M0(t){const e=t.mapValue.fields[M$];return HE(e)?M0(e):e}function ip(t){const e=Qs(t.mapValue.fields[R$].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n,r,i,a,o,s,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const By="(default)";class ap{constructor(e,n){this.projectId=e,this.database=n||By}static empty(){return new ap("","")}get isDefaultDatabase(){return this.database===By}isEqual(e){return e instanceof ap&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="__type__",h7="__max__",vg={mapValue:{}},L$="__vector__",Uy="value";function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?HE(t)?4:m7(t)?9007199254740991:p7(t)?10:11:Qe(28295,{value:t})}function so(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ip(t).isEqual(ip(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Qs(i.timestampValue),s=Qs(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Zs(i.bytesValue).isEqual(Zs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return An(i.geoPointValue.latitude)===An(a.geoPointValue.latitude)&&An(i.geoPointValue.longitude)===An(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return An(i.integerValue)===An(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=An(i.doubleValue),s=An(a.doubleValue);return o===s?zy(o)===zy(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return nf(t.arrayValue.values||[],e.arrayValue.values||[],so);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(m2(o)!==m2(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!so(o[l],s[l])))return!1;return!0}(t,e);default:return Qe(52216,{left:t})}}function op(t,e){return(t.values||[]).find(n=>so(n,e))!==void 0}function rf(t,e){if(t===e)return 0;const n=Js(t),r=Js(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=An(a.integerValue||a.doubleValue),l=An(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return y2(t.timestampValue,e.timestampValue);case 4:return y2(ip(t),ip(e));case 5:return M1(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Zs(a),l=Zs(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=bt(s[c],l[c]);if(u!==0)return u}return bt(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=bt(An(a.latitude),An(o.latitude));return s!==0?s:bt(An(a.longitude),An(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return v2(t.arrayValue,e.arrayValue);case 10:return function(a,o){var h,g,b,v;const s=a.fields||{},l=o.fields||{},c=(h=s[Uy])==null?void 0:h.arrayValue,u=(g=l[Uy])==null?void 0:g.arrayValue,d=bt(((b=c==null?void 0:c.values)==null?void 0:b.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return d!==0?d:v2(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===vg.mapValue&&o===vg.mapValue)return 0;if(a===vg.mapValue)return 1;if(o===vg.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=M1(l[d],u[d]);if(h!==0)return h;const g=rf(s[l[d]],c[u[d]]);if(g!==0)return g}return bt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function y2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=Qs(t),r=Qs(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function v2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=rf(n[i],r[i]);if(a)return a}return bt(n.length,r.length)}function af(t){return R1(t)}function R1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return We.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=R1(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${R1(n.fields[o])}`;return i+"}"}(t.mapValue):Qe(61005,{value:t})}function ry(t){switch(Js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=M0(t);return e?16+ry(e):16;case 5:return 2*t.stringValue.length;case 6:return Zs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ry(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ol(r.fields,(a,o)=>{i+=a.length+ry(o)}),i}(t.mapValue);default:throw Qe(13486,{value:t})}}function b2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $1(t){return!!t&&"integerValue"in t}function GE(t){return!!t&&"arrayValue"in t}function x2(t){return!!t&&"nullValue"in t}function w2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iy(t){return!!t&&"mapValue"in t}function p7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$$])==null?void 0:r.stringValue)===L$}function wh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ol(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wh(t.arrayValue.values[n]);return e}return{...t}}function m7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!iy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(n)}setAll(e){let n=lr.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=wh(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());iy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return so(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ol(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Xr(wh(this.value))}}function V$(t){const e=[];return ol(t.fields,(n,r)=>{const i=new lr([n]);if(iy(r)){const a=V$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Er(e,0,tt.min(),tt.min(),tt.min(),Xr.empty(),0)}static newFoundDocument(e,n,r,i){return new Er(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new Er(e,2,n,tt.min(),tt.min(),Xr.empty(),0)}static newUnknownDocument(e,n){return new Er(e,3,n,tt.min(),tt.min(),Xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.position=e,this.inclusive=n}}function _2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=We.comparator(We.fromName(o.referenceValue),n.key):r=rf(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function S2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!so(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n="asc"){this.field=e,this.dir=n}}function g7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${}class Dn extends F${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v7(e,n,r):n==="array-contains"?new w7(e,r):n==="in"?new _7(e,r):n==="not-in"?new S7(e,r):n==="array-contains-any"?new E7(e,r):new Dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b7(e,r):new x7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rf(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(rf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oa extends F${constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oa(e,n)}matches(e){return z$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z$(t){return t.op==="and"}function B$(t){return y7(t)&&z$(t)}function y7(t){for(const e of t.filters)if(e instanceof Oa)return!1;return!0}function L1(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+af(t.value);if(B$(t))return t.filters.map(e=>L1(e)).join(",");{const e=t.filters.map(n=>L1(n)).join(",");return`${t.op}(${e})`}}function U$(t,e){return t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.field.isEqual(i.field)&&so(r.value,i.value)}(t,e):t instanceof Oa?function(r,i){return i instanceof Oa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&U$(o,i.filters[s]),!0):!1}(t,e):void Qe(19439)}function W$(t){return t instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${af(n.value)}`}(t):t instanceof Oa?function(n){return n.op.toString()+" {"+n.getFilters().map(W$).join(" ,")+"}"}(t):"Filter"}class v7 extends Dn{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class b7 extends Dn{constructor(e,n){super(e,"in",n),this.keys=K$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x7 extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=K$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function K$(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>We.fromName(r.referenceValue))}class w7 extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return GE(n)&&op(n.arrayValue,this.value)}}class _7 extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&op(this.value.arrayValue,n)}}class S7 extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!op(this.value.arrayValue,n)}}class E7 extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!GE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>op(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function E2(t,e=null,n=[],r=[],i=null,a=null,o=null){return new A7(t,e,n,r,i,a,o)}function YE(t){const e=at(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>L1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),D0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>af(r)).join(",")),e.Te=n}return e.Te}function XE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S2(t.startAt,e.startAt)&&S2(t.endAt,e.endAt)}function V1(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function T7(t,e,n,r,i,a,o,s){return new sm(t,e,n,r,i,a,o,s)}function R0(t){return new sm(t)}function A2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q$(t){return t.collectionGroup!==null}function _h(t){const e=at(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Un(lr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ky(a,r))}),n.has(lr.keyField().canonicalString())||e.Ie.push(new Ky(lr.keyField(),r))}return e.Ie}function Ja(t){const e=at(t);return e.Ee||(e.Ee=P7(e,_h(t))),e.Ee}function P7(t,e){if(t.limitType==="F")return E2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ky(i.field,a)});const n=t.endAt?new Wy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wy(t.startAt.position,t.startAt.inclusive):null;return E2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function F1(t,e){const n=t.filters.concat([e]);return new sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function z1(t,e,n){return new sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $0(t,e){return XE(Ja(t),Ja(e))&&t.limitType===e.limitType}function H$(t){return`${YE(Ja(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>W$(i)).join(", ")}]`),D0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>af(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>af(i)).join(",")),`Target(${r})`}(Ja(t))}; limitType=${t.limitType})`}function L0(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):We.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of _h(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const c=_2(o,s,l);return o.inclusive?c<=0:c<0}(r.startAt,_h(r),i)||r.endAt&&!function(o,s,l){const c=_2(o,s,l);return o.inclusive?c>=0:c>0}(r.endAt,_h(r),i))}(t,e)}function C7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G$(t){return(e,n)=>{let r=!1;for(const i of _h(t)){const a=O7(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function O7(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?rf(l,c):Qe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return I$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=new mn(We.comparator);function Go(){return k7}const Y$=new mn(We.comparator);function rh(...t){let e=Y$;for(const n of t)e=e.insert(n.key,n);return e}function X$(t){let e=Y$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yl(){return Sh()}function Q$(){return Sh()}function Sh(){return new kc(t=>t.toString(),(t,e)=>t.isEqual(e))}const I7=new mn(We.comparator),j7=new Un(We.comparator);function xt(...t){let e=j7;for(const n of t)e=e.add(n);return e}const N7=new Un(bt);function D7(){return N7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zy(e)?"-0":e}}function Z$(t){return{integerValue:""+t}}function M7(t,e){return l7(e)?Z$(e):QE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this._=void 0}}function R7(t,e,n){return t instanceof qy?function(i,a){const o={fields:{[D$]:{stringValue:N$},[R$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&HE(a)&&(a=M0(a)),a&&(o.fields[M$]=a),{mapValue:o}}(n,e):t instanceof sp?eL(t,e):t instanceof lp?tL(t,e):function(i,a){const o=J$(i,a),s=T2(o)+T2(i.Ae);return $1(o)&&$1(i.Ae)?Z$(s):QE(i.serializer,s)}(t,e)}function $7(t,e,n){return t instanceof sp?eL(t,e):t instanceof lp?tL(t,e):n}function J$(t,e){return t instanceof Hy?function(r){return $1(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class qy extends V0{}class sp extends V0{constructor(e){super(),this.elements=e}}function eL(t,e){const n=nL(e);for(const r of t.elements)n.some(i=>so(i,r))||n.push(r);return{arrayValue:{values:n}}}class lp extends V0{constructor(e){super(),this.elements=e}}function tL(t,e){let n=nL(e);for(const r of t.elements)n=n.filter(i=>!so(i,r));return{arrayValue:{values:n}}}class Hy extends V0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T2(t){return An(t.integerValue||t.doubleValue)}function nL(t){return GE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function L7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sp&&i instanceof sp||r instanceof lp&&i instanceof lp?nf(r.elements,i.elements,so):r instanceof Hy&&i instanceof Hy?so(r.Ae,i.Ae):r instanceof qy&&i instanceof qy}(t.transform,e.transform)}class V7{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ay(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class F0{}function rL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new z0(t.key,Rr.none()):new lm(t.key,t.data,Rr.none());{const n=t.data,r=Xr.empty();let i=new Un(lr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new sl(t.key,r,new yi(i.toArray()),Rr.none())}}function F7(t,e,n){t instanceof lm?function(i,a,o){const s=i.value.clone(),l=C2(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof sl?function(i,a,o){if(!ay(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=C2(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(iL(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eh(t,e,n,r){return t instanceof lm?function(a,o,s,l){if(!ay(a.precondition,o))return s;const c=a.value.clone(),u=O2(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof sl?function(a,o,s,l){if(!ay(a.precondition,o))return s;const c=O2(a.fieldTransforms,l,o),u=o.data;return u.setAll(iL(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return ay(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function z7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=J$(r.transform,i||null);a!=null&&(n===null&&(n=Xr.empty()),n.set(r.field,a))}return n||null}function P2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nf(r,i,(a,o)=>L7(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lm extends F0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sl extends F0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function iL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function C2(t,e,n){const r=new Map;Mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,$7(o,s,n[i]))}return r}function O2(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,R7(a,o,e))}return r}class z0 extends F0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B7 extends F0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&F7(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q$();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=rL(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xt())}isEqual(e){return this.batchId===e.batchId&&nf(this.mutations,e.mutations,(n,r)=>P2(n,r))&&nf(this.baseMutations,e.baseMutations,(n,r)=>P2(n,r))}}class ZE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return I7}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new ZE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,Et;function q7(t){switch(t){case ge.OK:return Qe(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function aL(t){if(t===void 0)return Ho("GRPC error has no .code"),ge.UNKNOWN;switch(t){case In.OK:return ge.OK;case In.CANCELLED:return ge.CANCELLED;case In.UNKNOWN:return ge.UNKNOWN;case In.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case In.INTERNAL:return ge.INTERNAL;case In.UNAVAILABLE:return ge.UNAVAILABLE;case In.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case In.NOT_FOUND:return ge.NOT_FOUND;case In.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case In.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case In.ABORTED:return ge.ABORTED;case In.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case In.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case In.DATA_LOSS:return ge.DATA_LOSS;default:return Qe(39323,{code:t})}}(Et=In||(In={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=new Bs([4294967295,4294967295],0);function k2(t){const e=H7().encode(t),n=new w$;return n.update(e),new Uint8Array(n.digest())}function I2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,a],0)]}class JE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ih(`Invalid padding: ${n}`);if(r<0)throw new ih(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ih(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Bs.fromNumber(r)));return i.compare(G7)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=k2(e),[r,i]=I2(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new JE(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const n=k2(e),[r,i]=I2(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new B0(tt.min(),i,new mn(bt),Go(),xt())}}class cm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cm(r,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class oL{constructor(e,n){this.targetId=e,this.Ce=n}}class sL{constructor(e,n,r=hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j2{constructor(){this.ve=0,this.Fe=N2(),this.Me=hr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),n=xt(),r=xt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:a})}}),new cm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=N2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Go(),this.Je=bg(),this.He=bg(),this.Ye=new mn(bt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(V1(a))if(r===0){const o=new We(a.path);this.et(n,o,Er.newNoDocument(o,tt.min()))}else Mt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Zs(r).toUint8Array()}catch(l){if(l instanceof j$)return np("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new JE(o,i,a)}catch(l){return np(l instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&V1(s.target)){const l=new We(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Er.newNoDocument(l,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let r=xt();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new B0(e,n,this.Ye,this.je,r);return this.je=Go(),this.Je=bg(),this.He=bg(),this.Ye=new mn(bt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new j2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Un(bt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Un(bt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j2),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bg(){return new mn(We.comparator)}function N2(){return new mn(We.comparator)}const X7={asc:"ASCENDING",desc:"DESCENDING"},Q7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z7={and:"AND",or:"OR"};class J7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B1(t,e){return t.useProto3Json||D0(e)?e:{value:e}}function Gy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eK(t,e){return Gy(t,e.toTimestamp())}function eo(t){return Mt(!!t,49232),tt.fromTimestamp(function(n){const r=Qs(n);return new rn(r.seconds,r.nanos)}(t))}function eA(t,e){return U1(t,e).canonicalString()}function U1(t,e){const n=function(i){return new Xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cL(t){const e=Xt.fromString(t);return Mt(pL(e),10190,{key:e.toString()}),e}function W1(t,e){return eA(t.databaseId,e.path)}function Dx(t,e){const n=cL(e);if(n.get(1)!==t.databaseId.projectId)throw new De(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We(fL(n))}function uL(t,e){return eA(t.databaseId,e)}function tK(t){const e=cL(t);return e.length===4?Xt.emptyPath():fL(e)}function K1(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fL(t){return Mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function D2(t,e,n){return{name:W1(t,e),fields:n.value.mapValue.fields}}function nK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Qe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(Mt(u===void 0||typeof u=="string",58123),hr.fromBase64String(u||"")):(Mt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),hr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?ge.UNKNOWN:aL(c.code);return new De(u,c.message||"")}(o);n=new sL(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dx(t,r.document.name),a=eo(r.document.updateTime),o=r.document.createTime?eo(r.document.createTime):tt.min(),s=new Xr({mapValue:{fields:r.document.fields}}),l=Er.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new oy(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dx(t,r.document),a=r.readTime?eo(r.readTime):tt.min(),o=Er.newNoDocument(i,a),s=r.removedTargetIds||[];n=new oy([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dx(t,r.document),a=r.removedTargetIds||[];n=new oy([],a,i,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new K7(i,a),s=r.targetId;n=new oL(s,o)}}return n}function rK(t,e){let n;if(e instanceof lm)n={update:D2(t,e.key,e.value)};else if(e instanceof z0)n={delete:W1(t,e.key)};else if(e instanceof sl)n={update:D2(t,e.key,e.data),updateMask:dK(e.fieldMask)};else{if(!(e instanceof B7))return Qe(16599,{Vt:e.type});n={verify:W1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof qy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof sp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof lp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Hy)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw Qe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:eK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Qe(27497)}(t,e.precondition)),n}function iK(t,e){return t&&t.length>0?(Mt(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?eo(i.updateTime):eo(a);return o.isEqual(tt.min())&&(o=eo(a)),new V7(o,i.transformResults||[])}(n,e))):[]}function aK(t,e){return{documents:[uL(t,e.path)]}}function oK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uL(t,i);const a=function(c){if(c.length!==0)return hL(Oa.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:uu(h.field),direction:cK(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=B1(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function sK(t){let e=tK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Mt(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=dL(d);return h instanceof Oa&&B$(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(b){return new Ky(fu(b.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,D0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,g=d.values||[];return new Wy(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,g=d.values||[];return new Wy(g,h)}(n.endAt)),T7(e,i,o,a,s,"F",l,c)}function lK(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fu(n.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fu(n.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fu(n.unaryFilter.field);return Dn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fu(n.unaryFilter.field);return Dn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dn.create(fu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oa.create(n.compositeFilter.filters.map(r=>dL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}}(n.compositeFilter.op))}(t):Qe(30097,{filter:t})}function cK(t){return X7[t]}function uK(t){return Q7[t]}function fK(t){return Z7[t]}function uu(t){return{fieldPath:t.canonicalString()}}function fu(t){return lr.fromServerFormat(t.fieldPath)}function hL(t){return t instanceof Dn?function(n){if(n.op==="=="){if(w2(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NAN"}};if(x2(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w2(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NAN"}};if(x2(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(n.field),op:uK(n.op),value:n.value}}}(t):t instanceof Oa?function(n){const r=n.getFilters().map(i=>hL(i));return r.length===1?r[0]:{compositeFilter:{op:fK(n.op),filters:r}}}(t):Qe(54877,{filter:t})}function dK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r,i,a=tt.min(),o=tt.min(),s=hr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.yt=e}}function pK(t){const e=sK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?z1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(){this.Cn=new gK}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Xs.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class gK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Un(Xt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mL=41943040;class Gr{static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(mL,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new of(0)}static cr(){return new of(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="LruGarbageCollector",gL=1048576;function $2([t,e],[n,r]){const i=bt(t,n);return i===0?bt(e,r):i}class yK{constructor(e){this.Ir=e,this.buffer=new Un($2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(R2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kf(n)?Le(R2,"Ignoring IndexedDB error during garbage collection: ",n):await Wf(n)}await this.Vr(3e5)})}}class bK{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(N0.ce);const r=new yK(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(M2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M2):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),lu()<=vt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function xK(t,e){return new bK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(){this.changes=new kc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Eh(r.mutation,i,yi.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xt()){const i=Yl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=rh();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Go();const o=Sh(),s=function(){return Sh()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof sl)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Eh(u.mutation,c,u.mutation.getFieldMask(),rn.now())):o.set(c.key,yi.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>s.set(c,new _K(u,o.get(c)??null))),s))}recalculateAndSaveOverlays(e,n){const r=Sh();let i=new mn((o,s)=>o-s),a=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||yi.empty();u=s.applyToLocalView(c,u),r.set(l,u);const d=(i.get(s.batchId)||xt()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,d=Q$();u.forEach(h=>{if(!a.has(h)){const g=rL(n.get(h),r.get(h));g!==null&&d.set(h,g),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return We.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ve.resolve(Yl());let s=rp,l=a;return o.next(c=>ve.forEach(c,(u,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(u)?ve.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,xt())).next(u=>({batchId:s,changes:X$(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next(r=>{let i=rh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=rh();return this.indexManager.getCollectionParents(e,a).next(s=>ve.forEach(s,l=>{const c=function(d,h){return new sm(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Er.newInvalidDocument(u)))});let s=rh();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Eh(u.mutation,c,yi.empty(),rn.now()),L0(n,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:eo(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:pK(i.bundledQuery),readTime:eo(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(){this.overlays=new mn(We.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yl();return ve.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Yl(),a=n.length+1,o=new We(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new mn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=Yl(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=Yl(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return ve.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new W7(n,r));let a=this.qr.get(n);a===void 0&&(a=xt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(){this.sessionToken=hr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.Qr=new Un(Gn.$r),this.Ur=new Un(Gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Gn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new We(new Xt([])),r=new Gn(n,e),i=new Gn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new We(new Xt([])),r=new Gn(n,e),i=new Gn(n,e+1);let a=xt();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return We.comparator(e.key,n.key)||bt(e.Yr,n.Yr)}static Kr(e,n){return bt(e.Yr,n.Yr)||We.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Un(Gn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new U7(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Gn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?qE:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gn(n,0),i=new Gn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Un(bt);return n.forEach(i=>{const a=new Gn(i,0),o=new Gn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{r=r.add(s.Yr)})}),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;We.isDocumentKey(a)||(a=a.child(""));const o=new Gn(new We(a),0);let s=new Un(bt);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Yr)),!0)},o),ve.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,i=>{const a=new Gn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Gn(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e){this.ri=e,this.docs=function(){return new mn(We.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(n))}getEntries(e,n){let r=Go();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Er.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Go();const o=n.path,s=new We(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||i7(r7(u),r)<=0||(i.has(u.key)||L0(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return ve.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ii(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OK(this)}getSize(e){return ve.resolve(this.size)}}class OK extends wK{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e){this.persistence=e,this.si=new kc(n=>YE(n),XE),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new tA,this.targetCount=0,this.ai=of.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new of(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ve.waitFor(a).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.ui={},this.overlays={},this.ci=new N0(0),this.li=!1,this.li=!0,this.hi=new TK,this.referenceDelegate=e(this),this.Pi=new kK(this),this.indexManager=new mK,this.remoteDocumentCache=function(i){return new CK(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new hK(n),this.Ii=new EK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new PK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new IK(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return ve.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class IK extends o7{constructor(e){super(),this.currentSequenceNumber=e}}class nA{constructor(e){this.persistence=e,this.Ri=new tA,this.Vi=null}static mi(e){return new nA(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,r=>{const i=We.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,tt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yy{constructor(e,n){this.persistence=e,this.pi=new kc(r=>c7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=xK(this,n)}static mi(e,n){return new Yy(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ve.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?ve.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(s=>{s||(r++,a.removeEntry(o,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ry(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=xt(),i=xt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new rA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return p8()?8:s7(ni())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new jK;return this.Ss(e,n,o).next(s=>{if(a.result=s,this.Vs)return this.bs(e,n,o,s.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(lu()<=vt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(lu()<=vt.DEBUG&&Le("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(lu()<=vt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ja(n))):ve.resolve())}ys(e,n){if(A2(n))return ve.resolve(null);let r=Ja(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=z1(n,null,"F"),r=Ja(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=xt(...a);return this.ps.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,s);return this.Cs(n,c,o,l.readTime)?this.ys(e,z1(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return A2(n)||i.isEqual(tt.min())?ve.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?ve.resolve(null):(lu()<=vt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.vs(e,o,n,n7(i,rp)).next(s=>s))})}Ds(e,n){let r=new Un(G$(e));return n.forEach((i,a)=>{L0(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return lu()<=vt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",cu(n)),this.ps.getDocumentsMatchingQuery(e,n,Xs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="LocalStore",DK=3e8;class MK{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new mn(bt),this.xs=new kc(a=>YE(a),XE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SK(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function RK(t,e,n,r){return new MK(t,e,n,r)}async function vL(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=xt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:s}))})})}function $K(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const d=c.batch,h=d.keys();let g=ve.resolve();return h.forEach(b=>{g=g.next(()=>u.getEntry(l,b)).next(v=>{const w=c.docVersions.get(b);Mt(w!==null,48541),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=xt();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bL(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function LK(t,e){const n=at(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;s.push(n.Pi.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(a,u.addedDocuments,d)));let g=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(hr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(d,g),function(v,w,x){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=DK?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,g,u)&&s.push(n.Pi.updateTargetData(a,g))});let l=Go(),c=xt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(VK(a,o,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(tt.min())){const u=n.Pi.getLastRemoteSnapshotVersion(a).next(d=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(u)}return ve.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.Ms=i,a))}function VK(t,e,n){let r=xt(),i=xt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Go();return n.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(tt.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):Le(iA,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function FK(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zK(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,ve.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function q1(t,e,n){const r=at(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Kf(o))throw o;Le(iA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function L2(t,e,n){const r=at(t);let i=tt.min(),a=xt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=at(l),h=d.xs.get(u);return h!==void 0?ve.resolve(d.Ms.get(h)):d.Pi.getTargetData(c,u)}(r,o,Ja(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:tt.min(),n?a:xt())).next(s=>(BK(r,C7(e),s),{documents:s,Qs:a})))}function BK(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class V2{constructor(){this.activeTargetIds=D7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UK{constructor(){this.Mo=new V2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="ConnectivityMonitor";class z2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(F2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(F2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg=null;function H1(){return xg===null?xg=function(){return 268435456+Math.round(2147483648*Math.random())}():xg++,"0x"+xg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="RestConnection",KK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===By?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=H1(),s=this.zo(e,n.toUriEncodedString());Le(Mx,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(s),u=O0(c);return this.Jo(e,s,l,r,u).then(d=>(Le(Mx,`Received RPC '${e}' ${o}: `,d),d),d=>{throw np(Mx,`RPC '${e}' ${o} failed with error: `,d,"url: ",s,"request:",r),d})}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=KK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class GK extends qK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=H1();return new Promise((s,l)=>{const c=new _$;c.setWithCredentials(!0),c.listenOnce(S$.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ny.NO_ERROR:const d=c.getResponseJson();Le(br,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case ny.TIMEOUT:Le(br,`RPC '${e}' ${o} timed out`),l(new De(ge.DEADLINE_EXCEEDED,"Request time out"));break;case ny.HTTP_ERROR:const h=c.getStatus();if(Le(br,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const v=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(_)>=0?_:ge.UNKNOWN}(b.status);l(new De(v,b.message))}else l(new De(ge.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new De(ge.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Le(br,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Le(br,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=H1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=T$(),s=A$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");Le(br,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);this.I_(d);let h=!1,g=!1;const b=new HK({Yo:w=>{g?Le(br,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(Le(br,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Le(br,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},Zo:()=>d.close()}),v=(w,x,_)=>{w.listen(x,A=>{try{_(A)}catch(k){setTimeout(()=>{throw k},0)}})};return v(d,nh.EventType.OPEN,()=>{g||(Le(br,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),v(d,nh.EventType.CLOSE,()=>{g||(g=!0,Le(br,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(d))}),v(d,nh.EventType.ERROR,w=>{g||(g=!0,np(br,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),b.a_(new De(ge.UNAVAILABLE,"The operation could not be completed")))}),v(d,nh.EventType.MESSAGE,w=>{var x;if(!g){const _=w.data[0];Mt(!!_,16349);const A=_,k=(A==null?void 0:A.error)||((x=A[0])==null?void 0:x.error);if(k){Le(br,`RPC '${e}' stream ${i} received error:`,k);const S=k.status;let C=function(j){const D=In[j];if(D!==void 0)return aL(D)}(S),E=k.message;C===void 0&&(C=ge.INTERNAL,E="Unknown error status: "+S+" with message "+k.message),g=!0,b.a_(new De(C,E)),d.close()}else Le(br,`RPC '${e}' stream ${i} received:`,_),b.u_(_)}}),v(s,E$.STAT_EVENT,w=>{w.stat===D1.PROXY?Le(br,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===D1.NOPROXY&&Le(br,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Rx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){return new J7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="PersistentStream";class wL{constructor(e,n,r,i,a,o,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Ho(n.toString()),Ho("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new De(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Le(B2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Le(B2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YK extends wL{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nK(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?tt.min():o.readTime?eo(o.readTime):tt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=K1(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=V1(l)?{documents:aK(a,l)}:{query:oK(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=lL(a,o.resumeToken);const c=B1(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(tt.min())>0){s.readTime=Gy(a,o.snapshotVersion.toTimestamp());const c=B1(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const r=lK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=K1(this.serializer),n.removeTarget=e,this.q_(n)}}class XK extends wL{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iK(e.writeResults,e.commitTime),r=eo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=K1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rK(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{}class ZK extends QK{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,U1(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(ge.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(e,U1(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(ge.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class JK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ho(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="RemoteStore";class eq{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ic(this)&&(Le(vc,"Restarting streams for network reachability change."),await async function(l){const c=at(l);c.Ea.add(4),await um(c),c.Ra.set("Unknown"),c.Ea.delete(4),await W0(c)}(this))})}),this.Ra=new JK(r,i)}}async function W0(t){if(Ic(t))for(const e of t.da)await e(!0)}async function um(t){for(const e of t.da)await e(!1)}function _L(t,e){const n=at(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lA(n)?sA(n):qf(n).O_()&&oA(n,e))}function aA(t,e){const n=at(t),r=qf(n);n.Ia.delete(e),r.O_()&&SL(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ic(n)&&n.Ra.set("Unknown"))}function oA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qf(t).Y_(e)}function SL(t,e){t.Va.Ue(e),qf(t).Z_(e)}function sA(t){t.Va=new Y7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qf(t).start(),t.Ra.ua()}function lA(t){return Ic(t)&&!qf(t).x_()&&t.Ia.size>0}function Ic(t){return at(t).Ea.size===0}function EL(t){t.Va=void 0}async function tq(t){t.Ra.set("Online")}async function nq(t){t.Ia.forEach((e,n)=>{oA(t,e)})}async function rq(t,e){EL(t),lA(t)?(t.Ra.ha(e),sA(t)):t.Ra.set("Unknown")}async function iq(t,e,n){if(t.Ra.set("Online"),e instanceof sL&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){Le(vc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xy(t,r)}else if(e instanceof oy?t.Va.Ze(e):e instanceof oL?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await bL(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(hr.EMPTY_BYTE_STRING,u.snapshotVersion)),SL(a,l);const d=new Os(u.target,l,c,u.sequenceNumber);oA(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){Le(vc,"Failed to raise snapshot:",r),await Xy(t,r)}}async function Xy(t,e,n){if(!Kf(e))throw e;t.Ea.add(1),await um(t),t.Ra.set("Offline"),n||(n=()=>bL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Le(vc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await W0(t)})}function AL(t,e){return e().catch(n=>Xy(t,n,e))}async function K0(t){const e=at(t),n=el(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qE;for(;aq(e);)try{const i=await FK(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,oq(e,i)}catch(i){await Xy(e,i)}TL(e)&&PL(e)}function aq(t){return Ic(t)&&t.Ta.length<10}function oq(t,e){t.Ta.push(e);const n=el(t);n.O_()&&n.X_&&n.ea(e.mutations)}function TL(t){return Ic(t)&&!el(t).x_()&&t.Ta.length>0}function PL(t){el(t).start()}async function sq(t){el(t).ra()}async function lq(t){const e=el(t);for(const n of t.Ta)e.ea(n.mutations)}async function cq(t,e,n){const r=t.Ta.shift(),i=ZE.from(r,e,n);await AL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await K0(t)}async function uq(t,e){e&&el(t).X_&&await async function(r,i){if(function(o){return q7(o)&&o!==ge.ABORTED}(i.code)){const a=r.Ta.shift();el(r).B_(),await AL(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await K0(r)}}(t,e),TL(t)&&PL(t)}async function U2(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Le(vc,"RemoteStore received new credentials");const r=Ic(n);n.Ea.add(3),await um(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await W0(n)}async function fq(t,e){const n=at(t);e?(n.Ea.delete(2),await W0(n)):e||(n.Ea.add(2),await um(n),n.Ra.set("Unknown"))}function qf(t){return t.ma||(t.ma=function(n,r,i){const a=at(n);return a.sa(),new YK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:tq.bind(null,t),t_:nq.bind(null,t),r_:rq.bind(null,t),H_:iq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),lA(t)?sA(t):t.Ra.set("Unknown")):(await t.ma.stop(),EL(t))})),t.ma}function el(t){return t.fa||(t.fa=function(n,r,i){const a=at(n);return a.sa(),new XK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sq.bind(null,t),r_:uq.bind(null,t),ta:lq.bind(null,t),na:cq.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await K0(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(vc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new cA(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uA(t,e){if(Ho("AsyncQueue",`${e}: ${t}`),Kf(t))return new De(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{static emptySet(e){return new zu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=rh(),this.sortedSet=new mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.ga=new mn(We.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class sf{constructor(e,n,r,i,a,o,s,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new sf(e,n,zu.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class hq{constructor(){this.queries=K2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=at(n),a=i.queries;i.queries=K2(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new De(ge.ABORTED,"Firestore shutting down"))}}function K2(){return new kc(t=>H$(t),$0)}async function CL(t,e){const n=at(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new dq,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=uA(o,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&fA(n)}async function OL(t,e){const n=at(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pq(t,e){const n=at(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(r=!0);o.wa=i}}r&&fA(n)}function mq(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function fA(t){t.Ca.forEach(e=>{e.next()})}var G1,q2;(q2=G1||(G1={})).Ma="default",q2.Cache="cache";class kL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==G1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.key=e}}class jL{constructor(e){this.key=e}}class gq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=G$(e),this.tu=new zu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new W2,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),g=L0(this.query,d)?d:null,b=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;h&&g?h.data.isEqual(g.data)?b!==v&&(r.track({type:3,doc:g}),w=!0):this.su(h,g)||(r.track({type:2,doc:g}),w=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(s=!0)):!h&&g?(r.track({type:0,doc:g}),w=!0):h&&!g&&(r.track({type:1,doc:h}),w=!0,(l||c)&&(s=!0)),w&&(g?(o=o.add(g),a=v?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Cs:s,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((u,d)=>function(g,b){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:w})}};return v(g)-v(b)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new sf(this.query,e.tu,a,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new jL(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new IL(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=xt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dA="SyncEngine";class yq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vq{constructor(e){this.key=e,this.hu=!1}}class bq{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new kc(s=>H$(s),$0),this.Iu=new Map,this.Eu=new Set,this.du=new mn(We.comparator),this.Au=new Map,this.Ru=new tA,this.Vu={},this.mu=new Map,this.fu=of.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xq(t,e,n=!0){const r=LL(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await NL(r,e,n,!0),i}async function wq(t,e){const n=LL(t);await NL(n,e,!0,!1)}async function NL(t,e,n,r){const i=await zK(t.localStore,Ja(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await _q(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_L(t.remoteStore,i),s}async function _q(t,e,n,r,i){t.pu=(d,h,g)=>async function(v,w,x,_){let A=w.view.ru(x);A.Cs&&(A=await L2(v.localStore,w.query,!1).then(({documents:E})=>w.view.ru(E,A)));const k=_&&_.targetChanges.get(w.targetId),S=_&&_.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(A,v.isPrimaryClient,k,S);return G2(v,w.targetId,C.au),C.snapshot}(t,d,h,g);const a=await L2(t.localStore,e,!0),o=new gq(e,a.Qs),s=o.ru(a.documents),l=cm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);G2(t,n,c.au);const u=new yq(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Sq(t,e,n){const r=at(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!$0(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await q1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&aA(r.remoteStore,i.targetId),Y1(r,i.targetId)}).catch(Wf)):(Y1(r,i.targetId),await q1(r.localStore,i.targetId,!0))}async function Eq(t,e){const n=at(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),aA(n.remoteStore,r.targetId))}async function Aq(t,e,n){const r=jq(t);try{const i=await function(o,s){const l=at(o),c=rn.now(),u=s.reduce((g,b)=>g.add(b.key),xt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Go(),v=xt();return l.Ns.getEntries(g,u).next(w=>{b=w,b.forEach((x,_)=>{_.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(w=>{d=w;const x=[];for(const _ of s){const A=z7(_,d.get(_.key).overlayedDocument);A!=null&&x.push(new sl(_.key,A,V$(A.value.mapValue),Rr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,s)}).next(w=>{h=w;const x=w.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,w.batchId,x)})}).then(()=>({batchId:h.batchId,changes:X$(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new mn(bt)),c=c.insert(s,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await fm(r,i.changes),await K0(r.remoteStore)}catch(i){const a=uA(i,"Failed to persist write");n.reject(a)}}async function DL(t,e){const n=at(t);try{const r=await LK(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Mt(o.hu,14607):i.removedDocuments.size>0&&(Mt(o.hu,42227),o.hu=!1))}),await fm(n,r,e)}catch(r){await Wf(r)}}function H2(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=at(o);l.onlineState=s;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Sa)h.va(s)&&(c=!0)}),c&&fA(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tq(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new mn(We.comparator);o=o.insert(a,Er.newNoDocument(a,tt.min()));const s=xt().add(a),l=new B0(tt.min(),new Map,new mn(bt),o,s);await DL(r,l),r.du=r.du.remove(a),r.Au.delete(e),hA(r)}else await q1(r.localStore,e,!1).then(()=>Y1(r,e,n)).catch(Wf)}async function Pq(t,e){const n=at(t),r=e.batch.batchId;try{const i=await $K(n.localStore,e);RL(n,r,null),ML(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fm(n,i)}catch(i){await Wf(i)}}async function Cq(t,e,n){const r=at(t);try{const i=await function(o,s){const l=at(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(d=>(Mt(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);RL(r,e,n),ML(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fm(r,i)}catch(i){await Wf(i)}}function ML(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function RL(t,e,n){const r=at(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Y1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||$L(t,r)})}function $L(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(aA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),hA(t))}function G2(t,e,n){for(const r of n)r instanceof IL?(t.Ru.addReference(r.key,e),Oq(t,r)):r instanceof jL?(Le(dA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$L(t,r.key)):Qe(19791,{wu:r})}function Oq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(dA,"New document in limbo: "+n),t.Eu.add(r),hA(t))}function hA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new We(Xt.fromString(e)),r=t.fu.next();t.Au.set(r,new vq(n)),t.du=t.du.insert(n,r),_L(t.remoteStore,new Os(Ja(R0(n.path)),r,"TargetPurposeLimboResolution",N0.ce))}}async function fm(t,e,n){const r=at(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{o.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=rA.As(l.targetId,c);a.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const u=at(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ve.forEach(c,h=>ve.forEach(h.Es,g=>u.persistence.referenceDelegate.addReference(d,h.targetId,g)).next(()=>ve.forEach(h.ds,g=>u.persistence.referenceDelegate.removeReference(d,h.targetId,g)))))}catch(d){if(!Kf(d))throw d;Le(iA,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const g=u.Ms.get(h),b=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(b);u.Ms=u.Ms.insert(h,v)}}}(r.localStore,a))}async function kq(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Le(dA,"User change. New user:",e.toKey());const r=await vL(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new De(ge.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fm(n,r.Ls)}}function Iq(t,e){const n=at(t),r=n.Au.get(e);if(r&&r.hu)return xt().add(r.key);{let i=xt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function LL(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tq.bind(null,e),e.Pu.H_=pq.bind(null,e.eventManager),e.Pu.yu=mq.bind(null,e.eventManager),e}function jq(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cq.bind(null,e),e}class Qy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=U0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RK(this.persistence,new NK,e.initialUser,this.serializer)}Cu(e){return new yL(nA.mi,this.serializer)}Du(e){return new UK}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qy.provider={build:()=>new Qy};class VL extends Qy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Mt(this.persistence.referenceDelegate instanceof Yy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vK(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new yL(r=>Yy.mi(r,n),this.serializer)}}class Zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kq.bind(null,this.syncEngine),await fq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hq}()}createDatastore(e){const n=U0(e.databaseInfo.databaseId),r=function(a){return new GK(a)}(e.databaseInfo);return function(a,o,s,l){return new ZK(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new eq(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>H2(this.syncEngine,n,0),function(){return z2.v()?new z2:new WK}())}createSyncEngine(e,n){return function(i,a,o,s,l,c,u){const d=new bq(i,a,o,s,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=at(i);Le(vc,"RemoteStore shutting down."),a.Ea.add(5),await um(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Zy.provider={build:()=>new Zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ho("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="FirestoreClient";class Nq{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hr.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{Le(tl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Le(tl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $x(t,e){t.asyncQueue.verifyOperationInProgress(),Le(tl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Dq(t);Le(tl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U2(e.remoteStore,i)),t._onlineComponents=e}async function Dq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(tl,"Using user provided OfflineComponentProvider");try{await $x(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;np("Error using user provided cache. Falling back to memory cache: "+n),await $x(t,new Qy)}}else Le(tl,"Using default OfflineComponentProvider"),await $x(t,new VL(void 0));return t._offlineComponents}async function zL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(tl,"Using user provided OnlineComponentProvider"),await Y2(t,t._uninitializedComponentsProvider._online)):(Le(tl,"Using default OnlineComponentProvider"),await Y2(t,new Zy))),t._onlineComponents}function Mq(t){return zL(t).then(e=>e.syncEngine)}async function X1(t){const e=await zL(t),n=e.eventManager;return n.onListen=xq.bind(null,e.syncEngine),n.onUnlisten=Sq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Eq.bind(null,e.syncEngine),n}function Rq(t,e,n={}){const r=new Us;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new FL({next:h=>{u.Nu(),o.enqueueAndForget(()=>OL(a,d));const g=h.docs.has(s);!g&&h.fromCache?c.reject(new De(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new De(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new kL(R0(s.path),u,{includeMetadataChanges:!0,qa:!0});return CL(a,d)}(await X1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q="firestore.googleapis.com",Q2=!0;class Z2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$q,this.ssl=Q2}else this.host=e.host,this.ssl=e.ssl??Q2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gL)throw new De(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BL(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pA{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qW;switch(r.type){case"firstParty":return new YW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X2.get(n);r&&(Le("ComponentProvider","Removing Datastore"),X2.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hf(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}toJSON(){return{type:wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(om(n,wn._jsonSchema))return new wn(e,r||null,new We(Xt.fromString(n.referencePath)))}}wn._jsonSchemaVersion="firestore/documentReference/1.0",wn._jsonSchema={type:Mn("string",wn._jsonSchemaVersion),referencePath:Mn("string")};class Ws extends Hf{constructor(e,n,r){super(e,n,R0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new We(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function qr(t,e,...n){if(t=er(t),C$("collection","path",e),t instanceof pA){const r=Xt.fromString(e,...n);return f2(r),new Ws(t,null,r)}{if(!(t instanceof wn||t instanceof Ws))throw new De(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return f2(r),new Ws(t.firestore,null,r)}}function jr(t,e,...n){if(t=er(t),arguments.length===1&&(e=KE.newId()),C$("doc","path",e),t instanceof pA){const r=Xt.fromString(e,...n);return u2(r),new wn(t,null,new We(r))}{if(!(t instanceof wn||t instanceof Ws))throw new De(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return u2(r),new wn(t.firestore,t instanceof Ws?t.converter:null,new We(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="AsyncQueue";class eO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xL(this,"async_queue_retry"),this._c=()=>{const r=Rx();r&&Le(J2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kf(e))throw e;Le(J2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ho("INTERNAL UNHANDLED ERROR: ",tO(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=cA.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:tO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Yo extends pA{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eO(e),this._firestoreClient=void 0,await e}}}function Lq(t,e,n){n||(n=By);const r=e$(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Zh(a,e))return i;throw new De(ge.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new De(ge.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gL)throw new De(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&O0(e.host)&&s8(e.host),r.initialize({options:e,instanceIdentifier:n})}function q0(t){if(t._terminated)throw new De(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Vq(t),t._firestoreClient}function Vq(t){var r,i,a;const e=t._freezeSettings(),n=function(s,l,c,u){return new d7(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,BL(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Nq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ki(hr.fromBase64String(e))}catch(n){throw new De(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ki(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(om(e,Ki._jsonSchema))return Ki.fromBase64String(e.bytes)}}Ki._jsonSchemaVersion="firestore/bytes/1.0",Ki._jsonSchema={type:Mn("string",Ki._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:to._jsonSchemaVersion}}static fromJSON(e){if(om(e,to._jsonSchema))return new to(e.latitude,e.longitude)}}to._jsonSchemaVersion="firestore/geoPoint/1.0",to._jsonSchema={type:Mn("string",to._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:no._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(om(e,no._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new no(e.vectorValues);throw new De(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}no._jsonSchemaVersion="firestore/vectorValue/1.0",no._jsonSchema={type:Mn("string",no._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=/^__.*__$/;class zq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new lm(e,this.data,n,this.fieldTransforms)}}class UL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class gA{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WL(this.Ac)&&Fq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||U0(e)}Cc(e,n,r,i=!1){return new gA({Ac:e,methodName:n,Dc:r,path:lr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(t){const e=t._freezeSettings(),n=U0(t._databaseId);return new Bq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yA(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);vA("Data must be an object, but it was:",o,r);const s=HL(r,o);let l,c;if(a.merge)l=new yi(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=Q1(e,d,n);if(!o.contains(h))throw new De(ge.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YL(u,h)||u.push(h)}l=new yi(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new zq(new Xr(s),l,c)}class H0 extends mA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof H0}}function KL(t,e,n,r){const i=t.Cc(1,e,n);vA("Data must be an object, but it was:",i,r);const a=[],o=Xr.empty();ol(r,(l,c)=>{const u=bA(e,l,n);c=er(c);const d=i.yc(u);if(c instanceof H0)a.push(u);else{const h=pm(c,d);h!=null&&(a.push(u),o.set(u,h))}});const s=new yi(a);return new UL(o,s,i.fieldTransforms)}function qL(t,e,n,r,i,a){const o=t.Cc(1,e,n),s=[Q1(e,r,n)],l=[i];if(a.length%2!=0)throw new De(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Q1(e,a[h])),l.push(a[h+1]);const c=[],u=Xr.empty();for(let h=s.length-1;h>=0;--h)if(!YL(c,s[h])){const g=s[h];let b=l[h];b=er(b);const v=o.yc(g);if(b instanceof H0)c.push(g);else{const w=pm(b,v);w!=null&&(c.push(g),u.set(g,w))}}const d=new yi(c);return new UL(u,d,o.fieldTransforms)}function Uq(t,e,n,r=!1){return pm(n,t.Cc(r?4:3,e))}function pm(t,e){if(GL(t=er(t)))return vA("Unsupported field value:",e,t),HL(t,e);if(t instanceof mA)return function(r,i){if(!WL(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=pm(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rn.fromDate(r);return{timestampValue:Gy(i.serializer,a)}}if(r instanceof rn){const a=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gy(i.serializer,a)}}if(r instanceof to)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ki)return{bytesValue:lL(i.serializer,r._byteString)};if(r instanceof wn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:eA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof no)return function(o,s){return{mapValue:{fields:{[$$]:{stringValue:L$},[Uy]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw s.Sc("VectorValues must only contain numeric values.");return QE(s.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${j0(r)}`)}(t,e)}function HL(t,e){const n={};return I$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(t,(r,i)=>{const a=pm(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function GL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof to||t instanceof Ki||t instanceof wn||t instanceof mA||t instanceof no)}function vA(t,e,n){if(!GL(n)||!O$(n)){const r=j0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Q1(t,e,n){if((e=er(e))instanceof dm)return e._internalPath;if(typeof e=="string")return bA(t,e);throw Jy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wq=new RegExp("[~\\*/\\[\\]]");function bA(t,e,n){if(e.search(Wq)>=0)throw Jy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dm(...e.split("."))._internalPath}catch{throw Jy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jy(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new De(ge.INVALID_ARGUMENT,s+t+l)}function YL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kq extends XL{data(){return super.data()}}function xA(t,e){return typeof e=="string"?bA(t,e):e instanceof dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wA{}class Hq extends wA{}function Gq(t,e,...n){let r=[];e instanceof wA&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof _A).length,s=a.filter(l=>l instanceof G0).length;if(o>1||o>0&&s>0)throw new De(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class G0 extends Hq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new G0(e,n,r)}_apply(e){const n=this._parse(e);return QL(e._query,n),new Hf(e.firestore,e.converter,F1(e._query,n))}_parse(e){const n=hm(e.firestore);return function(a,o,s,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new De(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){iO(d,u);const b=[];for(const v of d)b.push(rO(l,a,v));h={arrayValue:{values:b}}}else h=rO(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||iO(d,u),h=Uq(s,o,d,u==="in"||u==="not-in");return Dn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yq(t,e,n){const r=e,i=xA("where",t);return G0._create(i,r,n)}class _A extends wA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _A(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)QL(o,l),o=F1(o,l)}(e._query,n),new Hf(e.firestore,e.converter,F1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rO(t,e,n){if(typeof(n=er(n))=="string"){if(n==="")throw new De(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q$(e)&&n.indexOf("/")!==-1)throw new De(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!We.isDocumentKey(r))throw new De(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b2(t,new We(r))}if(n instanceof wn)return b2(t,n._key);throw new De(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${j0(n)}.`)}function iO(t,e){if(!Array.isArray(t)||t.length===0)throw new De(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QL(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new De(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Xq{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ol(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Uy].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>An(o.doubleValue));return new no(n)}convertGeoPoint(e){return new to(An(e.latitude),An(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=M0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ip(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);Mt(pL(r),9688,{name:e});const i=new ap(r.get(1),r.get(3)),a=new We(r.popFirst(5));return i.isEqual(n)||Ho(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends XL{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sc._jsonSchemaVersion="firestore/documentSnapshot/1.0",sc._jsonSchema={type:Mn("string",sc._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class sy extends sc{data(e={}){return super.data(e)}}class Bu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ah(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sy(this._firestore,this._userDataWriter,r.key,r,new ah(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new sy(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ah(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new sy(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ah(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:Qq(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=KE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(t){t=Yi(t,wn);const e=Yi(t.firestore,Yo);return Rq(q0(e),t._key).then(n=>JL(e,t,n))}Bu._jsonSchemaVersion="firestore/querySnapshot/1.0",Bu._jsonSchema={type:Mn("string",Bu._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class ZL extends Xq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Jq(t,e,n){t=Yi(t,wn);const r=Yi(t.firestore,Yo),i=SA(t.converter,e,n);return mm(r,[yA(hm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rr.none())])}function wg(t,e,n,...r){t=Yi(t,wn);const i=Yi(t.firestore,Yo),a=hm(i);let o;return o=typeof(e=er(e))=="string"||e instanceof dm?qL(a,"updateDoc",t._key,e,n,r):KL(a,"updateDoc",t._key,e),mm(i,[o.toMutation(t._key,Rr.exists(!0))])}function Lx(t){return mm(Yi(t.firestore,Yo),[new z0(t._key,Rr.none())])}function Eo(t,e){const n=Yi(t.firestore,Yo),r=jr(t),i=SA(t.converter,e);return mm(n,[yA(hm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}function eH(t,...e){var l,c,u;t=er(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nO(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(c=d.error)==null?void 0:c.bind(d),e[r+2]=(u=d.complete)==null?void 0:u.bind(d)}let a,o,s;if(t instanceof wn)o=Yi(t.firestore,Yo),s=R0(t._key.path),a={next:d=>{e[r]&&e[r](JL(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Yi(t,Hf);o=Yi(d.firestore,Yo),s=d._query;const h=new ZL(o);a={next:g=>{e[r]&&e[r](new Bu(o,h,d,g))},error:e[r+1],complete:e[r+2]},qq(t._query)}return function(h,g,b,v){const w=new FL(v),x=new kL(g,w,b);return h.asyncQueue.enqueueAndForget(async()=>CL(await X1(h),x)),()=>{w.Nu(),h.asyncQueue.enqueueAndForget(async()=>OL(await X1(h),x))}}(q0(o),s,i,a)}function mm(t,e){return function(r,i){const a=new Us;return r.asyncQueue.enqueueAndForget(async()=>Aq(await Mq(r),i,a)),a.promise}(q0(t),e)}function JL(t,e,n){const r=n.docs.get(e._key),i=new ZL(t);return new sc(t,i,e._key,r,new ah(n.hasPendingWrites,n.fromCache),e.converter)}class tH{constructor(e){this.kind="memory",this._onlineComponentProvider=Zy.provider,this._offlineComponentProvider=e!=null&&e.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new VL(void 0)}}toJSON(){return{kind:this.kind}}}function nH(t){return new tH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hm(e)}set(e,n,r){this._verifyNotCommitted();const i=Vx(e,this._firestore),a=SA(i.converter,n,r),o=yA(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Rr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Vx(e,this._firestore);let o;return o=typeof(n=er(n))=="string"||n instanceof dm?qL(this._dataReader,"WriteBatch.update",a._key,n,r,i):KL(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vx(e,this._firestore);return this._mutations=this._mutations.concat(new z0(n._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vx(t,e){if((t=er(t)).firestore!==e)throw new De(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){return q0(t=Yi(t,Yo)),new rH(t,e=>mm(t,e))}(function(e,n=!0){(function(i){Uf=i})(k0),ef(new gc("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Yo(new HW(r.getProvider("auth-internal")),new XW(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new De(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ap(c.options.projectId,u)}(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),zs(o2,s2,e),zs(o2,s2,"esm2020")})();const iH={apiKey:"AIzaSyCq3MZURc1tNUbpK7BDzKZKQoh8C3twzmA",authDomain:"lactokeeper.firebaseapp.com",projectId:"lactokeeper",storageBucket:"https://www.google.com/search?q=lactokeeper.appspot.com",messagingSenderId:"437430613715",appId:"1:437430613715:web:b4e56c7a0698c719ae8626"},e4=_9(iH),lf=vW(e4,{persistence:RW}),Ft=Lq(e4,{localCache:nH()}),t4=V.createContext({currentUser:null,isLoading:!0}),n4=()=>V.useContext(t4),aH=({children:t})=>{const[e,n]=V.useState(null),[r,i]=V.useState(!0);V.useEffect(()=>NW(lf,s=>{n(s),i(!1)}),[]);const a={currentUser:e,isLoading:r};return r?f.jsx("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center",children:f.jsx("p",{className:"text-white text-xl",children:"Cargando LactoKeeper..."})}):f.jsx(t4.Provider,{value:a,children:t})};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r4=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>V.createElement("svg",{ref:l,...sH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:r4("lucide",i),...s},[...o.map(([c,u])=>V.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=V.forwardRef(({className:r,...i},a)=>V.createElement(lH,{ref:a,iconNode:e,className:r4(`lucide-${oH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=$e("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=$e("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=$e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=$e("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=$e("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=$e("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=$e("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=$e("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=$e("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=$e("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=$e("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=$e("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=$e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=$e("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=$e("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=$e("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=$e("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=$e("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=$e("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=$e("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=$e("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=$e("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=$e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=$e("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=$e("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=$e("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=$e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=$e("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=$e("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=$e("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=$e("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=$e("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=$e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=$e("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=$e("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=$e("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=$e("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=$e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=$e("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=$e("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=$e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=$e("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=$e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=$e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=$e("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=$e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=$e("Waypoints",[["circle",{cx:"12",cy:"4.5",r:"2.5",key:"r5ysbb"}],["path",{d:"m10.2 6.3-3.9 3.9",key:"1nzqf6"}],["circle",{cx:"4.5",cy:"12",r:"2.5",key:"jydg6v"}],["path",{d:"M7 12h10",key:"b7w52i"}],["circle",{cx:"19.5",cy:"12",r:"2.5",key:"1piiel"}],["path",{d:"m13.8 17.7 3.9-3.9",key:"1wyg1y"}],["circle",{cx:"12",cy:"19.5",r:"2.5",key:"13o1pw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=$e("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var v4={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(du,function(){var n=function(m,y){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,I){P.__proto__=I}||function(P,I){for(var R in I)Object.prototype.hasOwnProperty.call(I,R)&&(P[R]=I[R])})(m,y)},r=function(){return(r=Object.assign||function(m){for(var y,P=1,I=arguments.length;P<I;P++)for(var R in y=arguments[P])Object.prototype.hasOwnProperty.call(y,R)&&(m[R]=y[R]);return m}).apply(this,arguments)};function i(m,y,P){for(var I,R=0,F=y.length;R<F;R++)!I&&R in y||((I=I||Array.prototype.slice.call(y,0,R))[R]=y[R]);return m.concat(I||Array.prototype.slice.call(y))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:du,o=Object.keys,s=Array.isArray;function l(m,y){return typeof y!="object"||o(y).forEach(function(P){m[P]=y[P]}),m}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var c=Object.getPrototypeOf,u={}.hasOwnProperty;function d(m,y){return u.call(m,y)}function h(m,y){typeof y=="function"&&(y=y(c(m))),(typeof Reflect>"u"?o:Reflect.ownKeys)(y).forEach(function(P){b(m,P,y[P])})}var g=Object.defineProperty;function b(m,y,P,I){g(m,y,l(P&&d(P,"get")&&typeof P.get=="function"?{get:P.get,set:P.set,configurable:!0}:{value:P,configurable:!0,writable:!0},I))}function v(m){return{from:function(y){return m.prototype=Object.create(y.prototype),b(m.prototype,"constructor",m),{extend:h.bind(null,m.prototype)}}}}var w=Object.getOwnPropertyDescriptor,x=[].slice;function _(m,y,P){return x.call(m,y,P)}function A(m,y){return y(m)}function k(m){if(!m)throw new Error("Assertion Failed")}function S(m){a.setImmediate?setImmediate(m):setTimeout(m,0)}function C(m,y){if(typeof y=="string"&&d(m,y))return m[y];if(!y)return m;if(typeof y!="string"){for(var P=[],I=0,R=y.length;I<R;++I){var F=C(m,y[I]);P.push(F)}return P}var B=y.indexOf(".");if(B!==-1){var W=m[y.substr(0,B)];return W==null?void 0:C(W,y.substr(B+1))}}function E(m,y,P){if(m&&y!==void 0&&!("isFrozen"in Object&&Object.isFrozen(m)))if(typeof y!="string"&&"length"in y){k(typeof P!="string"&&"length"in P);for(var I=0,R=y.length;I<R;++I)E(m,y[I],P[I])}else{var F,B,W=y.indexOf(".");W!==-1?(F=y.substr(0,W),(B=y.substr(W+1))===""?P===void 0?s(m)&&!isNaN(parseInt(F))?m.splice(F,1):delete m[F]:m[F]=P:E(W=!(W=m[F])||!d(m,F)?m[F]={}:W,B,P)):P===void 0?s(m)&&!isNaN(parseInt(y))?m.splice(y,1):delete m[y]:m[y]=P}}function T(m){var y,P={};for(y in m)d(m,y)&&(P[y]=m[y]);return P}var j=[].concat;function D(m){return j.apply([],m)}var Ci="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(m){return["Int","Uint","Float"].map(function(y){return y+m+"Array"})}))).filter(function(m){return a[m]}),N=new Set(Ci.map(function(m){return a[m]})),$=null;function L(m){return $=new WeakMap,m=function y(P){if(!P||typeof P!="object")return P;var I=$.get(P);if(I)return I;if(s(P)){I=[],$.set(P,I);for(var R=0,F=P.length;R<F;++R)I.push(y(P[R]))}else if(N.has(P.constructor))I=P;else{var B,W=c(P);for(B in I=W===Object.prototype?{}:Object.create(W),$.set(P,I),P)d(P,B)&&(I[B]=y(P[B]))}return I}(m),$=null,m}var Q={}.toString;function ne(m){return Q.call(m).slice(8,-1)}var ce=typeof Symbol<"u"?Symbol.iterator:"@@iterator",le=typeof ce=="symbol"?function(m){var y;return m!=null&&(y=m[ce])&&y.apply(m)}:function(){return null};function Y(m,y){return y=m.indexOf(y),0<=y&&m.splice(y,1),0<=y}var G={};function pe(m){var y,P,I,R;if(arguments.length===1){if(s(m))return m.slice();if(this===G&&typeof m=="string")return[m];if(R=le(m)){for(P=[];!(I=R.next()).done;)P.push(I.value);return P}if(m==null)return[m];if(typeof(y=m.length)!="number")return[m];for(P=new Array(y);y--;)P[y]=m[y];return P}for(y=arguments.length,P=new Array(y);y--;)P[y]=arguments[y];return P}var Se=typeof Symbol<"u"?function(m){return m[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ri=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(qn),xe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function je(m,y){this.name=m,this.message=y}function Ke(m,y){return m+". Errors: "+Object.keys(y).map(function(P){return y[P].toString()}).filter(function(P,I,R){return R.indexOf(P)===I}).join(`
`)}function ft(m,y,P,I){this.failures=y,this.failedKeys=I,this.successCount=P,this.message=Ke(m,y)}function ct(m,y){this.name="BulkError",this.failures=Object.keys(y).map(function(P){return y[P]}),this.failuresByPos=y,this.message=Ke(m,this.failures)}v(je).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(ft).from(je),v(ct).from(je);var Ce=Ri.reduce(function(m,y){return m[y]=y+"Error",m},{}),Ye=je,oe=Ri.reduce(function(m,y){var P=y+"Error";function I(R,F){this.name=P,R?typeof R=="string"?(this.message="".concat(R).concat(F?`
 `+F:""),this.inner=F||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=xe[y]||P,this.inner=null)}return v(I).from(Ye),m[y]=I,m},{});oe.Syntax=SyntaxError,oe.Type=TypeError,oe.Range=RangeError;var ye=qn.reduce(function(m,y){return m[y+"Error"]=oe[y],m},{}),Ae=Ri.reduce(function(m,y){return["Syntax","Type","Range"].indexOf(y)===-1&&(m[y+"Error"]=oe[y]),m},{});function se(){}function Be(m){return m}function ze(m,y){return m==null||m===Be?y:function(P){return y(m(P))}}function qe(m,y){return function(){m.apply(this,arguments),y.apply(this,arguments)}}function nt(m,y){return m===se?y:function(){var P=m.apply(this,arguments);P!==void 0&&(arguments[0]=P);var I=this.onsuccess,R=this.onerror;this.onsuccess=null,this.onerror=null;var F=y.apply(this,arguments);return I&&(this.onsuccess=this.onsuccess?qe(I,this.onsuccess):I),R&&(this.onerror=this.onerror?qe(R,this.onerror):R),F!==void 0?F:P}}function At(m,y){return m===se?y:function(){m.apply(this,arguments);var P=this.onsuccess,I=this.onerror;this.onsuccess=this.onerror=null,y.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?qe(P,this.onsuccess):P),I&&(this.onerror=this.onerror?qe(I,this.onerror):I)}}function on(m,y){return m===se?y:function(P){var I=m.apply(this,arguments);l(P,I);var R=this.onsuccess,F=this.onerror;return this.onsuccess=null,this.onerror=null,P=y.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?qe(R,this.onsuccess):R),F&&(this.onerror=this.onerror?qe(F,this.onerror):F),I===void 0?P===void 0?void 0:P:l(I,P)}}function pt(m,y){return m===se?y:function(){return y.apply(this,arguments)!==!1&&m.apply(this,arguments)}}function Ct(m,y){return m===se?y:function(){var P=m.apply(this,arguments);if(P&&typeof P.then=="function"){for(var I=this,R=arguments.length,F=new Array(R);R--;)F[R]=arguments[R];return P.then(function(){return y.apply(I,F)})}return y.apply(this,arguments)}}Ae.ModifyError=ft,Ae.DexieError=je,Ae.BulkError=ct;var rt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Wt(m){rt=m}var Pn={},ii=100,Ci=typeof Promise>"u"?[]:function(){var m=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[m,c(m),m];var y=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[y,c(y),m]}(),qn=Ci[0],Ri=Ci[1],Ci=Ci[2],Ri=Ri&&Ri.then,Oi=qn&&qn.constructor,po=!!Ci,mo=function(m,y){Ia.push([m,y]),go&&(queueMicrotask(gd),go=!1)},yl=!0,go=!0,ki=[],Ii=[],yo=Be,Fr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:se,pgp:!1,env:{},finalize:se},Re=Fr,Ia=[],Or=0,Ze=[];function be(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var y=this._PSD=Re;if(typeof m!="function"){if(m!==Pn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Cn(this,this._value))}this._state=null,this._value=null,++y.ref,function P(I,R){try{R(function(F){if(I._state===null){if(F===I)throw new TypeError("A promise cannot be resolved with itself.");var B=I._lib&&nr();F&&typeof F.then=="function"?P(I,function(W,q){F instanceof be?F._then(W,q):F.then(W,q)}):(I._state=!0,I._value=F,dt(I)),B&&ji()}},Cn.bind(null,I))}catch(F){Cn(I,F)}}(this,m)}var Xe={get:function(){var m=Re,y=ai;function P(I,R){var F=this,B=!m.global&&(m!==Re||y!==ai),W=B&&!Ni(),q=new be(function(X,J){ra(F,new Je(bd(I,m,B,W),bd(R,m,B,W),X,J,m))});return this._consoleTask&&(q._consoleTask=this._consoleTask),q}return P.prototype=Pn,P},set:function(m){b(this,"then",m&&m.prototype===Pn?Xe:{get:function(){return m},set:Xe.set})}};function Je(m,y,P,I,R){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof y=="function"?y:null,this.resolve=P,this.reject=I,this.psd=R}function Cn(m,y){var P,I;Ii.push(y),m._state===null&&(P=m._lib&&nr(),y=yo(y),m._state=!1,m._value=y,I=m,ki.some(function(R){return R._value===I._value})||ki.push(I),dt(m),P&&ji())}function dt(m){var y=m._listeners;m._listeners=[];for(var P=0,I=y.length;P<I;++P)ra(m,y[P]);var R=m._PSD;--R.ref||R.finalize(),Or===0&&(++Or,mo(function(){--Or==0&&yd()},[]))}function ra(m,y){if(m._state!==null){var P=m._state?y.onFulfilled:y.onRejected;if(P===null)return(m._state?y.resolve:y.reject)(m._value);++y.psd.ref,++Or,mo(md,[P,m,y])}else m._listeners.push(y)}function md(m,y,P){try{var I,R=y._value;!y._state&&Ii.length&&(Ii=[]),I=rt&&y._consoleTask?y._consoleTask.run(function(){return m(R)}):m(R),y._state||Ii.indexOf(R)!==-1||function(F){for(var B=ki.length;B;)if(ki[--B]._value===F._value)return ki.splice(B,1)}(y),P.resolve(I)}catch(F){P.reject(F)}finally{--Or==0&&yd(),--P.psd.ref||P.psd.finalize()}}function gd(){Di(Fr,function(){nr()&&ji()})}function nr(){var m=yl;return go=yl=!1,m}function ji(){var m,y,P;do for(;0<Ia.length;)for(m=Ia,Ia=[],P=m.length,y=0;y<P;++y){var I=m[y];I[0].apply(null,I[1])}while(0<Ia.length);go=yl=!0}function yd(){var m=ki;ki=[],m.forEach(function(I){I._PSD.onunhandled.call(null,I._value,I)});for(var y=Ze.slice(0),P=y.length;P;)y[--P]()}function vo(m){return new be(Pn,!1,m)}function Kt(m,y){var P=Re;return function(){var I=nr(),R=Re;try{return aa(P,!0),m.apply(this,arguments)}catch(F){y&&y(F)}finally{aa(R,!1),I&&ji()}}}h(be.prototype,{then:Xe,_then:function(m,y){ra(this,new Je(null,null,m,y,Re))},catch:function(m){if(arguments.length===1)return this.then(null,m);var y=m,P=arguments[1];return typeof y=="function"?this.then(null,function(I){return(I instanceof y?P:vo)(I)}):this.then(null,function(I){return(I&&I.name===y?P:vo)(I)})},finally:function(m){return this.then(function(y){return be.resolve(m()).then(function(){return y})},function(y){return be.resolve(m()).then(function(){return vo(y)})})},timeout:function(m,y){var P=this;return m<1/0?new be(function(I,R){var F=setTimeout(function(){return R(new oe.Timeout(y))},m);P.then(I,R).finally(clearTimeout.bind(null,F))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(be.prototype,Symbol.toStringTag,"Dexie.Promise"),Fr.env=$m(),h(be,{all:function(){var m=pe.apply(null,arguments).map(vl);return new be(function(y,P){m.length===0&&y([]);var I=m.length;m.forEach(function(R,F){return be.resolve(R).then(function(B){m[F]=B,--I||y(m)},P)})})},resolve:function(m){return m instanceof be?m:m&&typeof m.then=="function"?new be(function(y,P){m.then(y,P)}):new be(Pn,!0,m)},reject:vo,race:function(){var m=pe.apply(null,arguments).map(vl);return new be(function(y,P){m.map(function(I){return be.resolve(I).then(y,P)})})},PSD:{get:function(){return Re},set:function(m){return Re=m}},totalEchoes:{get:function(){return ai}},newPSD:ia,usePSD:Di,scheduler:{get:function(){return mo},set:function(m){mo=m}},rejectionMapper:{get:function(){return yo},set:function(m){yo=m}},follow:function(m,y){return new be(function(P,I){return ia(function(R,F){var B=Re;B.unhandleds=[],B.onunhandled=F,B.finalize=qe(function(){var W,q=this;W=function(){q.unhandleds.length===0?R():F(q.unhandleds[0])},Ze.push(function X(){W(),Ze.splice(Ze.indexOf(X),1)}),++Or,mo(function(){--Or==0&&yd()},[])},B.finalize),m()},y,P,I)})}}),Oi&&(Oi.allSettled&&b(be,"allSettled",function(){var m=pe.apply(null,arguments).map(vl);return new be(function(y){m.length===0&&y([]);var P=m.length,I=new Array(P);m.forEach(function(R,F){return be.resolve(R).then(function(B){return I[F]={status:"fulfilled",value:B}},function(B){return I[F]={status:"rejected",reason:B}}).then(function(){return--P||y(I)})})})}),Oi.any&&typeof AggregateError<"u"&&b(be,"any",function(){var m=pe.apply(null,arguments).map(vl);return new be(function(y,P){m.length===0&&P(new AggregateError([]));var I=m.length,R=new Array(I);m.forEach(function(F,B){return be.resolve(F).then(function(W){return y(W)},function(W){R[B]=W,--I||P(new AggregateError(R))})})})}),Oi.withResolvers&&(be.withResolvers=Oi.withResolvers));var _n={awaits:0,echoes:0,id:0},vd=0,ja=[],Fc=0,ai=0,Rm=0;function ia(m,y,P,I){var R=Re,F=Object.create(R);return F.parent=R,F.ref=0,F.global=!1,F.id=++Rm,Fr.env,F.env=po?{Promise:be,PromiseProp:{value:be,configurable:!0,writable:!0},all:be.all,race:be.race,allSettled:be.allSettled,any:be.any,resolve:be.resolve,reject:be.reject}:{},y&&l(F,y),++R.ref,F.finalize=function(){--this.parent.ref||this.parent.finalize()},I=Di(F,m,P,I),F.ref===0&&F.finalize(),I}function Na(){return _n.id||(_n.id=++vd),++_n.awaits,_n.echoes+=ii,_n.id}function Ni(){return!!_n.awaits&&(--_n.awaits==0&&(_n.id=0),_n.echoes=_n.awaits*ii,!0)}function vl(m){return _n.echoes&&m&&m.constructor===Oi?(Na(),m.then(function(y){return Ni(),y},function(y){return Ni(),qt(y)})):m}function Gb(){var m=ja[ja.length-1];ja.pop(),aa(m,!1)}function aa(m,y){var P,I=Re;(y?!_n.echoes||Fc++&&m===Re:!Fc||--Fc&&m===Re)||queueMicrotask(y?(function(R){++ai,_n.echoes&&--_n.echoes!=0||(_n.echoes=_n.awaits=_n.id=0),ja.push(Re),aa(R,!0)}).bind(null,m):Gb),m!==Re&&(Re=m,I===Fr&&(Fr.env=$m()),po&&(P=Fr.env.Promise,y=m.env,(I.global||m.global)&&(Object.defineProperty(a,"Promise",y.PromiseProp),P.all=y.all,P.race=y.race,P.resolve=y.resolve,P.reject=y.reject,y.allSettled&&(P.allSettled=y.allSettled),y.any&&(P.any=y.any))))}function $m(){var m=a.Promise;return po?{Promise:m,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:m.all,race:m.race,allSettled:m.allSettled,any:m.any,resolve:m.resolve,reject:m.reject}:{}}function Di(m,y,P,I,R){var F=Re;try{return aa(m,!0),y(P,I,R)}finally{aa(F,!1)}}function bd(m,y,P,I){return typeof m!="function"?m:function(){var R=Re;P&&Na(),aa(y,!0);try{return m.apply(this,arguments)}finally{aa(R,!1),I&&queueMicrotask(Ni)}}}function bl(m){Promise===Oi&&_n.echoes===0?Fc===0?m():enqueueNativeMicroTask(m):setTimeout(m,0)}(""+Ri).indexOf("[native code]")===-1&&(Na=Ni=se);var qt=be.reject,kr="￿",oi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Lm="String expected.",bo=[],xl="__dbnames",zc="readonly",wl="readwrite";function oa(m,y){return m?y?function(){return m.apply(this,arguments)&&y.apply(this,arguments)}:m:y}var xd={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function _l(m){return typeof m!="string"||/\./.test(m)?function(y){return y}:function(y){return y[m]===void 0&&m in y&&delete(y=L(y))[m],y}}function wd(){throw oe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function mt(m,y){try{var P=sa(m),I=sa(y);if(P!==I)return P==="Array"?1:I==="Array"?-1:P==="binary"?1:I==="binary"?-1:P==="string"?1:I==="string"?-1:P==="Date"?1:I!=="Date"?NaN:-1;switch(P){case"number":case"Date":case"string":return y<m?1:m<y?-1:0;case"binary":return function(R,F){for(var B=R.length,W=F.length,q=B<W?B:W,X=0;X<q;++X)if(R[X]!==F[X])return R[X]<F[X]?-1:1;return B===W?0:B<W?-1:1}(si(m),si(y));case"Array":return function(R,F){for(var B=R.length,W=F.length,q=B<W?B:W,X=0;X<q;++X){var J=mt(R[X],F[X]);if(J!==0)return J}return B===W?0:B<W?-1:1}(m,y)}}catch{}return NaN}function sa(m){var y=typeof m;return y!="object"?y:ArrayBuffer.isView(m)?"binary":(m=ne(m),m==="ArrayBuffer"?"binary":m)}function si(m){return m instanceof Uint8Array?m:ArrayBuffer.isView(m)?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):new Uint8Array(m)}function Da(m,y,P){var I=m.schema.yProps;return I?(y&&0<P.numFailures&&(y=y.filter(function(R,F){return!P.failures[F]})),Promise.all(I.map(function(R){return R=R.updatesTable,y?m.db.table(R).where("k").anyOf(y).delete():m.db.table(R).clear()})).then(function(){return P})):P}var ss=(Rt.prototype._trans=function(m,y,P){var I=this._tx||Re.trans,R=this.name,F=rt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(m==="readonly"?"read":"write"," ").concat(this.name));function B(X,J,K){if(!K.schema[R])throw new oe.NotFound("Table "+R+" not part of transaction");return y(K.idbtrans,K)}var W=nr();try{var q=I&&I.db._novip===this.db._novip?I===Re.trans?I._promise(m,B,P):ia(function(){return I._promise(m,B,P)},{trans:I,transless:Re.transless||Re}):function X(J,K,re,H){if(J.idbdb&&(J._state.openComplete||Re.letThrough||J._vip)){var Z=J._createTransaction(K,re,J._dbSchema);try{Z.create(),J._state.PR1398_maxLoop=3}catch(te){return te.name===Ce.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return X(J,K,re,H)})):qt(te)}return Z._promise(K,function(te,ee){return ia(function(){return Re.trans=Z,H(te,ee,Z)})}).then(function(te){if(K==="readwrite")try{Z.idbtrans.commit()}catch{}return K==="readonly"?te:Z._completion.then(function(){return te})})}if(J._state.openComplete)return qt(new oe.DatabaseClosed(J._state.dbOpenError));if(!J._state.isBeingOpened){if(!J._state.autoOpen)return qt(new oe.DatabaseClosed);J.open().catch(se)}return J._state.dbReadyPromise.then(function(){return X(J,K,re,H)})}(this.db,m,[this.name],B);return F&&(q._consoleTask=F,q=q.catch(function(X){return console.trace(X),qt(X)})),q}finally{W&&ji()}},Rt.prototype.get=function(m,y){var P=this;return m&&m.constructor===Object?this.where(m).first(y):m==null?qt(new oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(I){return P.core.get({trans:I,key:m}).then(function(R){return P.hook.reading.fire(R)})}).then(y)},Rt.prototype.where=function(m){if(typeof m=="string")return new this.db.WhereClause(this,m);if(s(m))return new this.db.WhereClause(this,"[".concat(m.join("+"),"]"));var y=o(m);if(y.length===1)return this.where(y[0]).equals(m[y[0]]);var P=this.schema.indexes.concat(this.schema.primKey).filter(function(W){if(W.compound&&y.every(function(X){return 0<=W.keyPath.indexOf(X)})){for(var q=0;q<y.length;++q)if(y.indexOf(W.keyPath[q])===-1)return!1;return!0}return!1}).sort(function(W,q){return W.keyPath.length-q.keyPath.length})[0];if(P&&this.db._maxKey!==kr){var F=P.keyPath.slice(0,y.length);return this.where(F).equals(F.map(function(q){return m[q]}))}!P&&rt&&console.warn("The query ".concat(JSON.stringify(m)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(y.join("+"),"]"));var I=this.schema.idxByName;function R(W,q){return mt(W,q)===0}var B=y.reduce(function(K,q){var X=K[0],J=K[1],K=I[q],re=m[q];return[X||K,X||!K?oa(J,K&&K.multi?function(H){return H=C(H,q),s(H)&&H.some(function(Z){return R(re,Z)})}:function(H){return R(re,C(H,q))}):J]},[null,null]),F=B[0],B=B[1];return F?this.where(F.name).equals(m[F.keyPath]).filter(B):P?this.filter(B):this.where(y).equals("")},Rt.prototype.filter=function(m){return this.toCollection().and(m)},Rt.prototype.count=function(m){return this.toCollection().count(m)},Rt.prototype.offset=function(m){return this.toCollection().offset(m)},Rt.prototype.limit=function(m){return this.toCollection().limit(m)},Rt.prototype.each=function(m){return this.toCollection().each(m)},Rt.prototype.toArray=function(m){return this.toCollection().toArray(m)},Rt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Rt.prototype.orderBy=function(m){return new this.db.Collection(new this.db.WhereClause(this,s(m)?"[".concat(m.join("+"),"]"):m))},Rt.prototype.reverse=function(){return this.toCollection().reverse()},Rt.prototype.mapToClass=function(m){var y,P=this.db,I=this.name;function R(){return y!==null&&y.apply(this,arguments)||this}(this.schema.mappedClass=m).prototype instanceof wd&&(function(q,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function J(){this.constructor=q}n(q,X),q.prototype=X===null?Object.create(X):(J.prototype=X.prototype,new J)}(R,y=m),Object.defineProperty(R.prototype,"db",{get:function(){return P},enumerable:!1,configurable:!0}),R.prototype.table=function(){return I},m=R);for(var F=new Set,B=m.prototype;B;B=c(B))Object.getOwnPropertyNames(B).forEach(function(q){return F.add(q)});function W(q){if(!q)return q;var X,J=Object.create(m.prototype);for(X in q)if(!F.has(X))try{J[X]=q[X]}catch{}return J}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=W,this.hook("reading",W),m},Rt.prototype.defineClass=function(){return this.mapToClass(function(m){l(this,m)})},Rt.prototype.add=function(m,y){var P=this,I=this.schema.primKey,R=I.auto,F=I.keyPath,B=m;return F&&R&&(B=_l(F)(m)),this._trans("readwrite",function(W){return P.core.mutate({trans:W,type:"add",keys:y!=null?[y]:null,values:[B]})}).then(function(W){return W.numFailures?be.reject(W.failures[0]):W.lastResult}).then(function(W){if(F)try{E(m,F,W)}catch{}return W})},Rt.prototype.update=function(m,y){return typeof m!="object"||s(m)?this.where(":id").equals(m).modify(y):(m=C(m,this.schema.primKey.keyPath),m===void 0?qt(new oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(m).modify(y))},Rt.prototype.put=function(m,y){var P=this,I=this.schema.primKey,R=I.auto,F=I.keyPath,B=m;return F&&R&&(B=_l(F)(m)),this._trans("readwrite",function(W){return P.core.mutate({trans:W,type:"put",values:[B],keys:y!=null?[y]:null})}).then(function(W){return W.numFailures?be.reject(W.failures[0]):W.lastResult}).then(function(W){if(F)try{E(m,F,W)}catch{}return W})},Rt.prototype.delete=function(m){var y=this;return this._trans("readwrite",function(P){return y.core.mutate({trans:P,type:"delete",keys:[m]}).then(function(I){return Da(y,[m],I)}).then(function(I){return I.numFailures?be.reject(I.failures[0]):void 0})})},Rt.prototype.clear=function(){var m=this;return this._trans("readwrite",function(y){return m.core.mutate({trans:y,type:"deleteRange",range:xd}).then(function(P){return Da(m,null,P)})}).then(function(y){return y.numFailures?be.reject(y.failures[0]):void 0})},Rt.prototype.bulkGet=function(m){var y=this;return this._trans("readonly",function(P){return y.core.getMany({keys:m,trans:P}).then(function(I){return I.map(function(R){return y.hook.reading.fire(R)})})})},Rt.prototype.bulkAdd=function(m,y,P){var I=this,R=Array.isArray(y)?y:void 0,F=(P=P||(R?void 0:y))?P.allKeys:void 0;return this._trans("readwrite",function(B){var X=I.schema.primKey,W=X.auto,X=X.keyPath;if(X&&R)throw new oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==m.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var q=m.length,X=X&&W?m.map(_l(X)):m;return I.core.mutate({trans:B,type:"add",keys:R,values:X,wantResults:F}).then(function(Z){var K=Z.numFailures,re=Z.results,H=Z.lastResult,Z=Z.failures;if(K===0)return F?re:H;throw new ct("".concat(I.name,".bulkAdd(): ").concat(K," of ").concat(q," operations failed"),Z)})})},Rt.prototype.bulkPut=function(m,y,P){var I=this,R=Array.isArray(y)?y:void 0,F=(P=P||(R?void 0:y))?P.allKeys:void 0;return this._trans("readwrite",function(B){var X=I.schema.primKey,W=X.auto,X=X.keyPath;if(X&&R)throw new oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==m.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var q=m.length,X=X&&W?m.map(_l(X)):m;return I.core.mutate({trans:B,type:"put",keys:R,values:X,wantResults:F}).then(function(Z){var K=Z.numFailures,re=Z.results,H=Z.lastResult,Z=Z.failures;if(K===0)return F?re:H;throw new ct("".concat(I.name,".bulkPut(): ").concat(K," of ").concat(q," operations failed"),Z)})})},Rt.prototype.bulkUpdate=function(m){var y=this,P=this.core,I=m.map(function(B){return B.key}),R=m.map(function(B){return B.changes}),F=[];return this._trans("readwrite",function(B){return P.getMany({trans:B,keys:I,cache:"clone"}).then(function(W){var q=[],X=[];m.forEach(function(K,re){var H=K.key,Z=K.changes,te=W[re];if(te){for(var ee=0,ie=Object.keys(Z);ee<ie.length;ee++){var fe=ie[ee],de=Z[fe];if(fe===y.schema.primKey.keyPath){if(mt(de,H)!==0)throw new oe.Constraint("Cannot update primary key in bulkUpdate()")}else E(te,fe,de)}F.push(re),q.push(H),X.push(te)}});var J=q.length;return P.mutate({trans:B,type:"put",keys:q,values:X,updates:{keys:I,changeSpecs:R}}).then(function(K){var re=K.numFailures,H=K.failures;if(re===0)return J;for(var Z=0,te=Object.keys(H);Z<te.length;Z++){var ee,ie=te[Z],fe=F[Number(ie)];fe!=null&&(ee=H[ie],delete H[ie],H[fe]=ee)}throw new ct("".concat(y.name,".bulkUpdate(): ").concat(re," of ").concat(J," operations failed"),H)})})})},Rt.prototype.bulkDelete=function(m){var y=this,P=m.length;return this._trans("readwrite",function(I){return y.core.mutate({trans:I,type:"delete",keys:m}).then(function(R){return Da(y,m,R)})}).then(function(B){var R=B.numFailures,F=B.lastResult,B=B.failures;if(R===0)return F;throw new ct("".concat(y.name,".bulkDelete(): ").concat(R," of ").concat(P," operations failed"),B)})},Rt);function Rt(){}function jt(m){function y(B,W){if(W){for(var q=arguments.length,X=new Array(q-1);--q;)X[q-1]=arguments[q];return P[B].subscribe.apply(null,X),m}if(typeof B=="string")return P[B]}var P={};y.addEventType=F;for(var I=1,R=arguments.length;I<R;++I)F(arguments[I]);return y;function F(B,W,q){if(typeof B!="object"){var X;W=W||pt;var J={subscribers:[],fire:q=q||se,subscribe:function(K){J.subscribers.indexOf(K)===-1&&(J.subscribers.push(K),J.fire=W(J.fire,K))},unsubscribe:function(K){J.subscribers=J.subscribers.filter(function(re){return re!==K}),J.fire=J.subscribers.reduce(W,q)}};return P[B]=y[B]=J}o(X=B).forEach(function(K){var re=X[K];if(s(re))F(K,X[K][0],X[K][1]);else{if(re!=="asap")throw new oe.InvalidArgument("Invalid event config");var H=F(K,Be,function(){for(var Z=arguments.length,te=new Array(Z);Z--;)te[Z]=arguments[Z];H.subscribers.forEach(function(ee){S(function(){ee.apply(null,te)})})})}})}}function Ma(m,y){return v(y).from({prototype:m}),y}function Mi(m,y){return!(m.filter||m.algorithm||m.or)&&(y?m.justLimit:!m.replayFilter)}function xo(m,y){m.filter=oa(m.filter,y)}function _d(m,y,P){var I=m.replayFilter;m.replayFilter=I?function(){return oa(I(),y())}:y,m.justLimit=P&&!I}function Sl(m,y){if(m.isPrimKey)return y.primaryKey;var P=y.getIndexByKeyPath(m.index);if(!P)throw new oe.Schema("KeyPath "+m.index+" on object store "+y.name+" is not indexed");return P}function Vm(m,y,P){var I=Sl(m,y.schema);return y.openCursor({trans:P,values:!m.keysOnly,reverse:m.dir==="prev",unique:!!m.unique,query:{index:I,range:m.range}})}function Bc(m,y,P,I){var R=m.replayFilter?oa(m.filter,m.replayFilter()):m.filter;if(m.or){var F={},B=function(W,q,X){var J,K;R&&!R(q,X,function(re){return q.stop(re)},function(re){return q.fail(re)})||((K=""+(J=q.primaryKey))=="[object ArrayBuffer]"&&(K=""+new Uint8Array(J)),d(F,K)||(F[K]=!0,y(W,q,X)))};return Promise.all([m.or._iterate(B,P),Fm(Vm(m,I,P),m.algorithm,B,!m.keysOnly&&m.valueMapper)])}return Fm(Vm(m,I,P),oa(m.algorithm,R),y,!m.keysOnly&&m.valueMapper)}function Fm(m,y,P,I){var R=Kt(I?function(F,B,W){return P(I(F),B,W)}:P);return m.then(function(F){if(F)return F.start(function(){var B=function(){return F.continue()};y&&!y(F,function(W){return B=W},function(W){F.stop(W),B=se},function(W){F.fail(W),B=se})||R(F.value,F,function(W){return B=W}),B()})})}var El=(ls.prototype.execute=function(m){var y=this["@@propmod"];if(y.add!==void 0){var P=y.add;if(s(P))return i(i([],s(m)?m:[],!0),P).sort();if(typeof P=="number")return(Number(m)||0)+P;if(typeof P=="bigint")try{return BigInt(m)+P}catch{return BigInt(0)+P}throw new TypeError("Invalid term ".concat(P))}if(y.remove!==void 0){var I=y.remove;if(s(I))return s(m)?m.filter(function(R){return!I.includes(R)}).sort():[];if(typeof I=="number")return Number(m)-I;if(typeof I=="bigint")try{return BigInt(m)-I}catch{return BigInt(0)-I}throw new TypeError("Invalid subtrahend ".concat(I))}return P=(P=y.replacePrefix)===null||P===void 0?void 0:P[0],P&&typeof m=="string"&&m.startsWith(P)?y.replacePrefix[1]+m.substring(P.length):m},ls);function ls(m){this["@@propmod"]=m}var wo=(wt.prototype._read=function(m,y){var P=this._ctx;return P.error?P.table._trans(null,qt.bind(null,P.error)):P.table._trans("readonly",m).then(y)},wt.prototype._write=function(m){var y=this._ctx;return y.error?y.table._trans(null,qt.bind(null,y.error)):y.table._trans("readwrite",m,"locked")},wt.prototype._addAlgorithm=function(m){var y=this._ctx;y.algorithm=oa(y.algorithm,m)},wt.prototype._iterate=function(m,y){return Bc(this._ctx,m,y,this._ctx.table.core)},wt.prototype.clone=function(m){var y=Object.create(this.constructor.prototype),P=Object.create(this._ctx);return m&&l(P,m),y._ctx=P,y},wt.prototype.raw=function(){return this._ctx.valueMapper=null,this},wt.prototype.each=function(m){var y=this._ctx;return this._read(function(P){return Bc(y,m,P,y.table.core)})},wt.prototype.count=function(m){var y=this;return this._read(function(P){var I=y._ctx,R=I.table.core;if(Mi(I,!0))return R.count({trans:P,query:{index:Sl(I,R.schema),range:I.range}}).then(function(B){return Math.min(B,I.limit)});var F=0;return Bc(I,function(){return++F,!1},P,R).then(function(){return F})}).then(m)},wt.prototype.sortBy=function(m,y){var P=m.split(".").reverse(),I=P[0],R=P.length-1;function F(q,X){return X?F(q[P[X]],X-1):q[I]}var B=this._ctx.dir==="next"?1:-1;function W(q,X){return mt(F(q,R),F(X,R))*B}return this.toArray(function(q){return q.sort(W)}).then(y)},wt.prototype.toArray=function(m){var y=this;return this._read(function(P){var I=y._ctx;if(I.dir==="next"&&Mi(I,!0)&&0<I.limit){var R=I.valueMapper,F=Sl(I,I.table.core.schema);return I.table.core.query({trans:P,limit:I.limit,values:!0,query:{index:F,range:I.range}}).then(function(W){return W=W.result,R?W.map(R):W})}var B=[];return Bc(I,function(W){return B.push(W)},P,I.table.core).then(function(){return B})},m)},wt.prototype.offset=function(m){var y=this._ctx;return m<=0||(y.offset+=m,Mi(y)?_d(y,function(){var P=m;return function(I,R){return P===0||(P===1?--P:R(function(){I.advance(P),P=0}),!1)}}):_d(y,function(){var P=m;return function(){return--P<0}})),this},wt.prototype.limit=function(m){return this._ctx.limit=Math.min(this._ctx.limit,m),_d(this._ctx,function(){var y=m;return function(P,I,R){return--y<=0&&I(R),0<=y}},!0),this},wt.prototype.until=function(m,y){return xo(this._ctx,function(P,I,R){return!m(P.value)||(I(R),y)}),this},wt.prototype.first=function(m){return this.limit(1).toArray(function(y){return y[0]}).then(m)},wt.prototype.last=function(m){return this.reverse().first(m)},wt.prototype.filter=function(m){var y;return xo(this._ctx,function(P){return m(P.value)}),(y=this._ctx).isMatch=oa(y.isMatch,m),this},wt.prototype.and=function(m){return this.filter(m)},wt.prototype.or=function(m){return new this.db.WhereClause(this._ctx.table,m,this)},wt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},wt.prototype.desc=function(){return this.reverse()},wt.prototype.eachKey=function(m){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(P,I){m(I.key,I)})},wt.prototype.eachUniqueKey=function(m){return this._ctx.unique="unique",this.eachKey(m)},wt.prototype.eachPrimaryKey=function(m){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(P,I){m(I.primaryKey,I)})},wt.prototype.keys=function(m){var y=this._ctx;y.keysOnly=!y.isMatch;var P=[];return this.each(function(I,R){P.push(R.key)}).then(function(){return P}).then(m)},wt.prototype.primaryKeys=function(m){var y=this._ctx;if(y.dir==="next"&&Mi(y,!0)&&0<y.limit)return this._read(function(I){var R=Sl(y,y.table.core.schema);return y.table.core.query({trans:I,values:!1,limit:y.limit,query:{index:R,range:y.range}})}).then(function(I){return I.result}).then(m);y.keysOnly=!y.isMatch;var P=[];return this.each(function(I,R){P.push(R.primaryKey)}).then(function(){return P}).then(m)},wt.prototype.uniqueKeys=function(m){return this._ctx.unique="unique",this.keys(m)},wt.prototype.firstKey=function(m){return this.limit(1).keys(function(y){return y[0]}).then(m)},wt.prototype.lastKey=function(m){return this.reverse().firstKey(m)},wt.prototype.distinct=function(){var m=this._ctx,m=m.index&&m.table.schema.idxByName[m.index];if(!m||!m.multi)return this;var y={};return xo(this._ctx,function(R){var I=R.primaryKey.toString(),R=d(y,I);return y[I]=!0,!R}),this},wt.prototype.modify=function(m){var y=this,P=this._ctx;return this._write(function(I){var R,F,B;B=typeof m=="function"?m:(R=o(m),F=R.length,function(ie){for(var fe=!1,de=0;de<F;++de){var he=R[de],we=m[he],ke=C(ie,he);we instanceof El?(E(ie,he,we.execute(ke)),fe=!0):ke!==we&&(E(ie,he,we),fe=!0)}return fe});var W=P.table.core,K=W.schema.primaryKey,q=K.outbound,X=K.extractKey,J=200,K=y.db._options.modifyChunkSize;K&&(J=typeof K=="object"?K[W.name]||K["*"]||200:K);function re(ie,he){var de=he.failures,he=he.numFailures;Z+=ie-he;for(var we=0,ke=o(de);we<ke.length;we++){var Ee=ke[we];H.push(de[Ee])}}var H=[],Z=0,te=[],ee=m===Sd;return y.clone().primaryKeys().then(function(ie){function fe(he){var we=Math.min(J,ie.length-he),ke=ie.slice(he,he+we);return(ee?Promise.resolve([]):W.getMany({trans:I,keys:ke,cache:"immutable"})).then(function(Ee){var Te=[],Ne=[],Ie=q?[]:null,Me=ee?ke:[];if(!ee)for(var st=0;st<we;++st){var St=Ee[st],it={value:L(St),primKey:ie[he+st]};B.call(it,it.value,it)!==!1&&(it.value==null?Me.push(ie[he+st]):q||mt(X(St),X(it.value))===0?(Ne.push(it.value),q&&Ie.push(ie[he+st])):(Me.push(ie[he+st]),Te.push(it.value)))}return Promise.resolve(0<Te.length&&W.mutate({trans:I,type:"add",values:Te}).then(function(gn){for(var et in gn.failures)Me.splice(parseInt(et),1);re(Te.length,gn)})).then(function(){return(0<Ne.length||de&&typeof m=="object")&&W.mutate({trans:I,type:"put",keys:Ie,values:Ne,criteria:de,changeSpec:typeof m!="function"&&m,isAdditionalChunk:0<he}).then(function(gn){return re(Ne.length,gn)})}).then(function(){return(0<Me.length||de&&ee)&&W.mutate({trans:I,type:"delete",keys:Me,criteria:de,isAdditionalChunk:0<he}).then(function(gn){return Da(P.table,Me,gn)}).then(function(gn){return re(Me.length,gn)})}).then(function(){return ie.length>he+we&&fe(he+J)})})}var de=Mi(P)&&P.limit===1/0&&(typeof m!="function"||ee)&&{index:P.index,range:P.range};return fe(0).then(function(){if(0<H.length)throw new ft("Error modifying one or more objects",H,Z,te);return ie.length})})})},wt.prototype.delete=function(){var m=this._ctx,y=m.range;return!Mi(m)||m.table.schema.yProps||!m.isPrimKey&&y.type!==3?this.modify(Sd):this._write(function(P){var I=m.table.core.schema.primaryKey,R=y;return m.table.core.count({trans:P,query:{index:I,range:R}}).then(function(F){return m.table.core.mutate({trans:P,type:"deleteRange",range:R}).then(function(q){var W=q.failures,q=q.numFailures;if(q)throw new ft("Could not delete some values",Object.keys(W).map(function(X){return W[X]}),F-q);return F-q})})})},wt);function wt(){}var Sd=function(m,y){return y.value=null};function zm(m,y){return m<y?-1:m===y?0:1}function Bm(m,y){return y<m?-1:m===y?0:1}function pr(m,y,P){return m=m instanceof la?new m.Collection(m):m,m._ctx.error=new(P||TypeError)(y),m}function li(m){return new m.Collection(m,function(){return Um("")}).limit(0)}function Uc(m,y,P,I){var R,F,B,W,q,X,J,K=P.length;if(!P.every(function(Z){return typeof Z=="string"}))return pr(m,Lm);function re(Z){R=Z==="next"?function(ee){return ee.toUpperCase()}:function(ee){return ee.toLowerCase()},F=Z==="next"?function(ee){return ee.toLowerCase()}:function(ee){return ee.toUpperCase()},B=Z==="next"?zm:Bm;var te=P.map(function(ee){return{lower:F(ee),upper:R(ee)}}).sort(function(ee,ie){return B(ee.lower,ie.lower)});W=te.map(function(ee){return ee.upper}),q=te.map(function(ee){return ee.lower}),J=(X=Z)==="next"?"":I}re("next"),m=new m.Collection(m,function(){return Ra(W[0],q[K-1]+I)}),m._ondirectionchange=function(Z){re(Z)};var H=0;return m._addAlgorithm(function(Z,te,ee){var ie=Z.key;if(typeof ie!="string")return!1;var fe=F(ie);if(y(fe,q,H))return!0;for(var de=null,he=H;he<K;++he){var we=function(ke,Ee,Te,Ne,Ie,Me){for(var st=Math.min(ke.length,Ne.length),St=-1,it=0;it<st;++it){var gn=Ee[it];if(gn!==Ne[it])return Ie(ke[it],Te[it])<0?ke.substr(0,it)+Te[it]+Te.substr(it+1):Ie(ke[it],Ne[it])<0?ke.substr(0,it)+Ne[it]+Te.substr(it+1):0<=St?ke.substr(0,St)+Ee[St]+Te.substr(St+1):null;Ie(ke[it],gn)<0&&(St=it)}return st<Ne.length&&Me==="next"?ke+Te.substr(ke.length):st<ke.length&&Me==="prev"?ke.substr(0,Te.length):St<0?null:ke.substr(0,St)+Ne[St]+Te.substr(St+1)}(ie,fe,W[he],q[he],B,X);we===null&&de===null?H=he+1:(de===null||0<B(de,we))&&(de=we)}return te(de!==null?function(){Z.continue(de+J)}:ee),!1}),m}function Ra(m,y,P,I){return{type:2,lower:m,upper:y,lowerOpen:P,upperOpen:I}}function Um(m){return{type:1,lower:m,upper:m}}var la=(Object.defineProperty(On.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),On.prototype.between=function(m,y,P,I){P=P!==!1,I=I===!0;try{return 0<this._cmp(m,y)||this._cmp(m,y)===0&&(P||I)&&(!P||!I)?li(this):new this.Collection(this,function(){return Ra(m,y,!P,!I)})}catch{return pr(this,oi)}},On.prototype.equals=function(m){return m==null?pr(this,oi):new this.Collection(this,function(){return Um(m)})},On.prototype.above=function(m){return m==null?pr(this,oi):new this.Collection(this,function(){return Ra(m,void 0,!0)})},On.prototype.aboveOrEqual=function(m){return m==null?pr(this,oi):new this.Collection(this,function(){return Ra(m,void 0,!1)})},On.prototype.below=function(m){return m==null?pr(this,oi):new this.Collection(this,function(){return Ra(void 0,m,!1,!0)})},On.prototype.belowOrEqual=function(m){return m==null?pr(this,oi):new this.Collection(this,function(){return Ra(void 0,m)})},On.prototype.startsWith=function(m){return typeof m!="string"?pr(this,Lm):this.between(m,m+kr,!0,!0)},On.prototype.startsWithIgnoreCase=function(m){return m===""?this.startsWith(m):Uc(this,function(y,P){return y.indexOf(P[0])===0},[m],kr)},On.prototype.equalsIgnoreCase=function(m){return Uc(this,function(y,P){return y===P[0]},[m],"")},On.prototype.anyOfIgnoreCase=function(){var m=pe.apply(G,arguments);return m.length===0?li(this):Uc(this,function(y,P){return P.indexOf(y)!==-1},m,"")},On.prototype.startsWithAnyOfIgnoreCase=function(){var m=pe.apply(G,arguments);return m.length===0?li(this):Uc(this,function(y,P){return P.some(function(I){return y.indexOf(I)===0})},m,kr)},On.prototype.anyOf=function(){var m=this,y=pe.apply(G,arguments),P=this._cmp;try{y.sort(P)}catch{return pr(this,oi)}if(y.length===0)return li(this);var I=new this.Collection(this,function(){return Ra(y[0],y[y.length-1])});I._ondirectionchange=function(F){P=F==="next"?m._ascending:m._descending,y.sort(P)};var R=0;return I._addAlgorithm(function(F,B,W){for(var q=F.key;0<P(q,y[R]);)if(++R===y.length)return B(W),!1;return P(q,y[R])===0||(B(function(){F.continue(y[R])}),!1)}),I},On.prototype.notEqual=function(m){return this.inAnyRange([[-1/0,m],[m,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},On.prototype.noneOf=function(){var m=pe.apply(G,arguments);if(m.length===0)return new this.Collection(this);try{m.sort(this._ascending)}catch{return pr(this,oi)}var y=m.reduce(function(P,I){return P?P.concat([[P[P.length-1][1],I]]):[[-1/0,I]]},null);return y.push([m[m.length-1],this.db._maxKey]),this.inAnyRange(y,{includeLowers:!1,includeUppers:!1})},On.prototype.inAnyRange=function(ie,y){var P=this,I=this._cmp,R=this._ascending,F=this._descending,B=this._min,W=this._max;if(ie.length===0)return li(this);if(!ie.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&R(fe[0],fe[1])<=0}))return pr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",oe.InvalidArgument);var q=!y||y.includeLowers!==!1,X=y&&y.includeUppers===!0,J,K=R;function re(fe,de){return K(fe[0],de[0])}try{(J=ie.reduce(function(fe,de){for(var he=0,we=fe.length;he<we;++he){var ke=fe[he];if(I(de[0],ke[1])<0&&0<I(de[1],ke[0])){ke[0]=B(ke[0],de[0]),ke[1]=W(ke[1],de[1]);break}}return he===we&&fe.push(de),fe},[])).sort(re)}catch{return pr(this,oi)}var H=0,Z=X?function(fe){return 0<R(fe,J[H][1])}:function(fe){return 0<=R(fe,J[H][1])},te=q?function(fe){return 0<F(fe,J[H][0])}:function(fe){return 0<=F(fe,J[H][0])},ee=Z,ie=new this.Collection(this,function(){return Ra(J[0][0],J[J.length-1][1],!q,!X)});return ie._ondirectionchange=function(fe){K=fe==="next"?(ee=Z,R):(ee=te,F),J.sort(re)},ie._addAlgorithm(function(fe,de,he){for(var we,ke=fe.key;ee(ke);)if(++H===J.length)return de(he),!1;return!Z(we=ke)&&!te(we)||(P._cmp(ke,J[H][1])===0||P._cmp(ke,J[H][0])===0||de(function(){K===R?fe.continue(J[H][0]):fe.continue(J[H][1])}),!1)}),ie},On.prototype.startsWithAnyOf=function(){var m=pe.apply(G,arguments);return m.every(function(y){return typeof y=="string"})?m.length===0?li(this):this.inAnyRange(m.map(function(y){return[y,y+kr]})):pr(this,"startsWithAnyOf() only works with strings")},On);function On(){}function zr(m){return Kt(function(y){return $a(y),m(y.target.error),!1})}function $a(m){m.stopPropagation&&m.stopPropagation(),m.preventDefault&&m.preventDefault()}var cs="storagemutated",_o="x-storagemutated-1",Br=jt(null,cs),Wm=(Ur.prototype._lock=function(){return k(!Re.global),++this._reculock,this._reculock!==1||Re.global||(Re.lockOwnerFor=this),this},Ur.prototype._unlock=function(){if(k(!Re.global),--this._reculock==0)for(Re.global||(Re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var m=this._blockedFuncs.shift();try{Di(m[1],m[0])}catch{}}return this},Ur.prototype._locked=function(){return this._reculock&&Re.lockOwnerFor!==this},Ur.prototype.create=function(m){var y=this;if(!this.mode)return this;var P=this.db.idbdb,I=this.db._state.dbOpenError;if(k(!this.idbtrans),!m&&!P)switch(I&&I.name){case"DatabaseClosedError":throw new oe.DatabaseClosed(I);case"MissingAPIError":throw new oe.MissingAPI(I.message,I);default:throw new oe.OpenFailed(I)}if(!this.active)throw new oe.TransactionInactive;return k(this._completion._state===null),(m=this.idbtrans=m||(this.db.core||P).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Kt(function(R){$a(R),y._reject(m.error)}),m.onabort=Kt(function(R){$a(R),y.active&&y._reject(new oe.Abort(m.error)),y.active=!1,y.on("abort").fire(R)}),m.oncomplete=Kt(function(){y.active=!1,y._resolve(),"mutatedParts"in m&&Br.storagemutated.fire(m.mutatedParts)}),this},Ur.prototype._promise=function(m,y,P){var I=this;if(m==="readwrite"&&this.mode!=="readwrite")return qt(new oe.ReadOnly("Transaction is readonly"));if(!this.active)return qt(new oe.TransactionInactive);if(this._locked())return new be(function(F,B){I._blockedFuncs.push([function(){I._promise(m,y,P).then(F,B)},Re])});if(P)return ia(function(){var F=new be(function(B,W){I._lock();var q=y(B,W,I);q&&q.then&&q.then(B,W)});return F.finally(function(){return I._unlock()}),F._lib=!0,F});var R=new be(function(F,B){var W=y(F,B,I);W&&W.then&&W.then(F,B)});return R._lib=!0,R},Ur.prototype._root=function(){return this.parent?this.parent._root():this},Ur.prototype.waitFor=function(m){var y,P=this._root(),I=be.resolve(m);P._waitingFor?P._waitingFor=P._waitingFor.then(function(){return I}):(P._waitingFor=I,P._waitingQueue=[],y=P.idbtrans.objectStore(P.storeNames[0]),function F(){for(++P._spinCount;P._waitingQueue.length;)P._waitingQueue.shift()();P._waitingFor&&(y.get(-1/0).onsuccess=F)}());var R=P._waitingFor;return new be(function(F,B){I.then(function(W){return P._waitingQueue.push(Kt(F.bind(null,W)))},function(W){return P._waitingQueue.push(Kt(B.bind(null,W)))}).finally(function(){P._waitingFor===R&&(P._waitingFor=null)})})},Ur.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new oe.Abort))},Ur.prototype.table=function(m){var y=this._memoizedTables||(this._memoizedTables={});if(d(y,m))return y[m];var P=this.schema[m];if(!P)throw new oe.NotFound("Table "+m+" not part of transaction");return P=new this.db.Table(m,P,this),P.core=this.db.core.table(m),y[m]=P},Ur);function Ur(){}function Gt(m,y,P,I,R,F,B,W){return{name:m,keyPath:y,unique:P,multi:I,auto:R,compound:F,src:(P&&!B?"&":"")+(I?"*":"")+(R?"++":"")+Km(y),type:W}}function Km(m){return typeof m=="string"?m:m?"["+[].join.call(m,"+")+"]":""}function Ed(m,y,P){return{name:m,primKey:y,indexes:P,mappedClass:null,idxByName:(I=function(R){return[R.name,R]},P.reduce(function(R,F,B){return B=I(F,B),B&&(R[B[0]]=B[1]),R},{}))};var I}var us=function(m){try{return m.only([[]]),us=function(){return[[]]},[[]]}catch{return us=function(){return kr},kr}};function Wc(m){return m==null?function(){}:typeof m=="string"?(y=m).split(".").length===1?function(P){return P[y]}:function(P){return C(P,y)}:function(P){return C(P,m)};var y}function Ad(m){return[].slice.call(m)}var Kc=0;function Wr(m){return m==null?":id":typeof m=="string"?m:"[".concat(m.join("+"),"]")}function qm(m,y,q){function I(ee){if(ee.type===3)return null;if(ee.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var H=ee.lower,Z=ee.upper,te=ee.lowerOpen,ee=ee.upperOpen;return H===void 0?Z===void 0?null:y.upperBound(Z,!!ee):Z===void 0?y.lowerBound(H,!!te):y.bound(H,Z,!!te,!!ee)}function R(re){var H,Z=re.name;return{name:Z,schema:re,mutate:function(te){var ee=te.trans,ie=te.type,fe=te.keys,de=te.values,he=te.range;return new Promise(function(we,ke){we=Kt(we);var Ee=ee.objectStore(Z),Te=Ee.keyPath==null,Ne=ie==="put"||ie==="add";if(!Ne&&ie!=="delete"&&ie!=="deleteRange")throw new Error("Invalid operation type: "+ie);var Ie,Me=(fe||de||{length:1}).length;if(fe&&de&&fe.length!==de.length)throw new Error("Given keys array must have same length as given values array.");if(Me===0)return we({numFailures:0,failures:{},results:[],lastResult:void 0});function st(Ir){++gn,$a(Ir)}var St=[],it=[],gn=0;if(ie==="deleteRange"){if(he.type===4)return we({numFailures:gn,failures:it,results:[],lastResult:void 0});he.type===3?St.push(Ie=Ee.clear()):St.push(Ie=Ee.delete(I(he)))}else{var Te=Ne?Te?[de,fe]:[de,null]:[fe,null],et=Te[0],mr=Te[1];if(Ne)for(var gr=0;gr<Me;++gr)St.push(Ie=mr&&mr[gr]!==void 0?Ee[ie](et[gr],mr[gr]):Ee[ie](et[gr])),Ie.onerror=st;else for(gr=0;gr<Me;++gr)St.push(Ie=Ee[ie](et[gr])),Ie.onerror=st}function Qm(Ir){Ir=Ir.target.result,St.forEach(function(Il,Jb){return Il.error!=null&&(it[Jb]=Il.error)}),we({numFailures:gn,failures:it,results:ie==="delete"?fe:St.map(function(Il){return Il.result}),lastResult:Ir})}Ie.onerror=function(Ir){st(Ir),Qm(Ir)},Ie.onsuccess=Qm})},getMany:function(te){var ee=te.trans,ie=te.keys;return new Promise(function(fe,de){fe=Kt(fe);for(var he,we=ee.objectStore(Z),ke=ie.length,Ee=new Array(ke),Te=0,Ne=0,Ie=function(St){St=St.target,Ee[St._pos]=St.result,++Ne===Te&&fe(Ee)},Me=zr(de),st=0;st<ke;++st)ie[st]!=null&&((he=we.get(ie[st]))._pos=st,he.onsuccess=Ie,he.onerror=Me,++Te);Te===0&&fe(Ee)})},get:function(te){var ee=te.trans,ie=te.key;return new Promise(function(fe,de){fe=Kt(fe);var he=ee.objectStore(Z).get(ie);he.onsuccess=function(we){return fe(we.target.result)},he.onerror=zr(de)})},query:(H=X,function(te){return new Promise(function(ee,ie){ee=Kt(ee);var fe,de,he,Te=te.trans,we=te.values,ke=te.limit,Ie=te.query,Ee=ke===1/0?void 0:ke,Ne=Ie.index,Ie=Ie.range,Te=Te.objectStore(Z),Ne=Ne.isPrimaryKey?Te:Te.index(Ne.name),Ie=I(Ie);if(ke===0)return ee({result:[]});H?((Ee=we?Ne.getAll(Ie,Ee):Ne.getAllKeys(Ie,Ee)).onsuccess=function(Me){return ee({result:Me.target.result})},Ee.onerror=zr(ie)):(fe=0,de=!we&&"openKeyCursor"in Ne?Ne.openKeyCursor(Ie):Ne.openCursor(Ie),he=[],de.onsuccess=function(Me){var st=de.result;return st?(he.push(we?st.value:st.primaryKey),++fe===ke?ee({result:he}):void st.continue()):ee({result:he})},de.onerror=zr(ie))})}),openCursor:function(te){var ee=te.trans,ie=te.values,fe=te.query,de=te.reverse,he=te.unique;return new Promise(function(we,ke){we=Kt(we);var Ne=fe.index,Ee=fe.range,Te=ee.objectStore(Z),Te=Ne.isPrimaryKey?Te:Te.index(Ne.name),Ne=de?he?"prevunique":"prev":he?"nextunique":"next",Ie=!ie&&"openKeyCursor"in Te?Te.openKeyCursor(I(Ee),Ne):Te.openCursor(I(Ee),Ne);Ie.onerror=zr(ke),Ie.onsuccess=Kt(function(Me){var st,St,it,gn,et=Ie.result;et?(et.___id=++Kc,et.done=!1,st=et.continue.bind(et),St=(St=et.continuePrimaryKey)&&St.bind(et),it=et.advance.bind(et),gn=function(){throw new Error("Cursor not stopped")},et.trans=ee,et.stop=et.continue=et.continuePrimaryKey=et.advance=function(){throw new Error("Cursor not started")},et.fail=Kt(ke),et.next=function(){var mr=this,gr=1;return this.start(function(){return gr--?mr.continue():mr.stop()}).then(function(){return mr})},et.start=function(mr){function gr(){if(Ie.result)try{mr()}catch(Ir){et.fail(Ir)}else et.done=!0,et.start=function(){throw new Error("Cursor behind last entry")},et.stop()}var Qm=new Promise(function(Ir,Il){Ir=Kt(Ir),Ie.onerror=zr(Il),et.fail=Il,et.stop=function(Jb){et.stop=et.continue=et.continuePrimaryKey=et.advance=gn,Ir(Jb)}});return Ie.onsuccess=Kt(function(Ir){Ie.onsuccess=gr,gr()}),et.continue=st,et.continuePrimaryKey=St,et.advance=it,gr(),Qm},we(et)):we(null)},ke)})},count:function(te){var ee=te.query,ie=te.trans,fe=ee.index,de=ee.range;return new Promise(function(he,we){var ke=ie.objectStore(Z),Ee=fe.isPrimaryKey?ke:ke.index(fe.name),ke=I(de),Ee=ke?Ee.count(ke):Ee.count();Ee.onsuccess=Kt(function(Te){return he(Te.target.result)}),Ee.onerror=zr(we)})}}}var F,B,W,J=(B=q,W=Ad((F=m).objectStoreNames),{schema:{name:F.name,tables:W.map(function(re){return B.objectStore(re)}).map(function(re){var H=re.keyPath,ee=re.autoIncrement,Z=s(H),te={},ee={name:re.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:H==null,compound:Z,keyPath:H,autoIncrement:ee,unique:!0,extractKey:Wc(H)},indexes:Ad(re.indexNames).map(function(ie){return re.index(ie)}).map(function(he){var fe=he.name,de=he.unique,we=he.multiEntry,he=he.keyPath,we={name:fe,compound:s(he),keyPath:he,unique:de,multiEntry:we,extractKey:Wc(he)};return te[Wr(he)]=we}),getIndexByKeyPath:function(ie){return te[Wr(ie)]}};return te[":id"]=ee.primaryKey,H!=null&&(te[Wr(H)]=ee.primaryKey),ee})},hasGetAll:0<W.length&&"getAll"in B.objectStore(W[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),q=J.schema,X=J.hasGetAll,J=q.tables.map(R),K={};return J.forEach(function(re){return K[re.name]=re}),{stack:"dbcore",transaction:m.transaction.bind(m),table:function(re){if(!K[re])throw new Error("Table '".concat(re,"' not found"));return K[re]},MIN_KEY:-1/0,MAX_KEY:us(y),schema:q}}function Yb(m,y,P,I){var R=P.IDBKeyRange;return P.indexedDB,{dbcore:(I=qm(y,R,I),m.dbcore.reduce(function(F,B){return B=B.create,r(r({},F),B(F))},I))}}function La(m,I){var P=I.db,I=Yb(m._middlewares,P,m._deps,I);m.core=I.dbcore,m.tables.forEach(function(R){var F=R.name;m.core.schema.tables.some(function(B){return B.name===F})&&(R.core=m.core.table(F),m[F]instanceof m.Table&&(m[F].core=R.core))})}function Al(m,y,P,I){P.forEach(function(R){var F=I[R];y.forEach(function(B){var W=function q(X,J){return w(X,J)||(X=c(X))&&q(X,J)}(B,R);(!W||"value"in W&&W.value===void 0)&&(B===m.Transaction.prototype||B instanceof m.Transaction?b(B,R,{get:function(){return this.table(R)},set:function(q){g(this,R,{value:q,writable:!0,configurable:!0,enumerable:!0})}}):B[R]=new m.Table(R,F))})})}function Tl(m,y){y.forEach(function(P){for(var I in P)P[I]instanceof m.Table&&delete P[I]})}function qc(m,y){return m._cfg.version-y._cfg.version}function Hm(m,y,P,I){var R=m._dbSchema;P.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=Ed("$meta",Yc("")[0],[]),m._storeNames.push("$meta"));var F=m._createTransaction("readwrite",m._storeNames,R);F.create(P),F._completion.catch(I);var B=F._reject.bind(F),W=Re.transless||Re;ia(function(){return Re.trans=F,Re.transless=W,y!==0?(La(m,P),X=y,((q=F).storeNames.includes("$meta")?q.table("$meta").get("version").then(function(J){return J??X}):be.resolve(X)).then(function(J){return re=J,H=F,Z=P,te=[],J=(K=m)._versions,ee=K._dbSchema=Cl(0,K.idbdb,Z),(J=J.filter(function(ie){return ie._cfg.version>=re})).length!==0?(J.forEach(function(ie){te.push(function(){var fe=ee,de=ie._cfg.dbschema;ds(K,fe,Z),ds(K,de,Z),ee=K._dbSchema=de;var he=Td(fe,de);he.add.forEach(function(Ne){Gc(Z,Ne[0],Ne[1].primKey,Ne[1].indexes)}),he.change.forEach(function(Ne){if(Ne.recreate)throw new oe.Upgrade("Not yet support for changing primary key");var Ie=Z.objectStore(Ne.name);Ne.add.forEach(function(Me){return Pl(Ie,Me)}),Ne.change.forEach(function(Me){Ie.deleteIndex(Me.name),Pl(Ie,Me)}),Ne.del.forEach(function(Me){return Ie.deleteIndex(Me)})});var we=ie._cfg.contentUpgrade;if(we&&ie._cfg.version>re){La(K,Z),H._memoizedTables={};var ke=T(de);he.del.forEach(function(Ne){ke[Ne]=fe[Ne]}),Tl(K,[K.Transaction.prototype]),Al(K,[K.Transaction.prototype],o(ke),ke),H.schema=ke;var Ee,Te=Se(we);return Te&&Na(),he=be.follow(function(){var Ne;(Ee=we(H))&&Te&&(Ne=Ni.bind(null,null),Ee.then(Ne,Ne))}),Ee&&typeof Ee.then=="function"?be.resolve(Ee):he.then(function(){return Ee})}}),te.push(function(fe){var de,he,we=ie._cfg.dbschema;de=we,he=fe,[].slice.call(he.db.objectStoreNames).forEach(function(ke){return de[ke]==null&&he.db.deleteObjectStore(ke)}),Tl(K,[K.Transaction.prototype]),Al(K,[K.Transaction.prototype],K._storeNames,K._dbSchema),H.schema=K._dbSchema}),te.push(function(fe){K.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(K.idbdb.version/10)===ie._cfg.version?(K.idbdb.deleteObjectStore("$meta"),delete K._dbSchema.$meta,K._storeNames=K._storeNames.filter(function(de){return de!=="$meta"})):fe.objectStore("$meta").put(ie._cfg.version,"version"))})}),function ie(){return te.length?be.resolve(te.shift()(H.idbtrans)).then(ie):be.resolve()}().then(function(){fs(ee,Z)})):be.resolve();var K,re,H,Z,te,ee}).catch(B)):(o(R).forEach(function(J){Gc(P,J,R[J].primKey,R[J].indexes)}),La(m,P),void be.follow(function(){return m.on.populate.fire(F)}).catch(B));var q,X})}function Hc(m,y){fs(m._dbSchema,y),y.db.version%10!=0||y.objectStoreNames.contains("$meta")||y.db.createObjectStore("$meta").add(Math.ceil(y.db.version/10-1),"version");var P=Cl(0,m.idbdb,y);ds(m,m._dbSchema,y);for(var I=0,R=Td(P,m._dbSchema).change;I<R.length;I++){var F=function(B){if(B.change.length||B.recreate)return console.warn("Unable to patch indexes of table ".concat(B.name," because it has changes on the type of index or primary key.")),{value:void 0};var W=y.objectStore(B.name);B.add.forEach(function(q){rt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(B.name,".").concat(q.src)),Pl(W,q)})}(R[I]);if(typeof F=="object")return F.value}}function Td(m,y){var P,I={del:[],add:[],change:[]};for(P in m)y[P]||I.del.push(P);for(P in y){var R=m[P],F=y[P];if(R){var B={name:P,def:F,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(F.primKey.keyPath||"")||R.primKey.auto!==F.primKey.auto)B.recreate=!0,I.change.push(B);else{var W=R.idxByName,q=F.idxByName,X=void 0;for(X in W)q[X]||B.del.push(X);for(X in q){var J=W[X],K=q[X];J?J.src!==K.src&&B.change.push(K):B.add.push(K)}(0<B.del.length||0<B.add.length||0<B.change.length)&&I.change.push(B)}}else I.add.push([P,F])}return I}function Gc(m,y,P,I){var R=m.db.createObjectStore(y,P.keyPath?{keyPath:P.keyPath,autoIncrement:P.auto}:{autoIncrement:P.auto});return I.forEach(function(F){return Pl(R,F)}),R}function fs(m,y){o(m).forEach(function(P){y.db.objectStoreNames.contains(P)||(rt&&console.debug("Dexie: Creating missing table",P),Gc(y,P,m[P].primKey,m[P].indexes))})}function Pl(m,y){m.createIndex(y.name,y.keyPath,{unique:y.unique,multiEntry:y.multi})}function Cl(m,y,P){var I={};return _(y.objectStoreNames,0).forEach(function(R){for(var F=P.objectStore(R),B=Gt(Km(X=F.keyPath),X||"",!0,!1,!!F.autoIncrement,X&&typeof X!="string",!0),W=[],q=0;q<F.indexNames.length;++q){var J=F.index(F.indexNames[q]),X=J.keyPath,J=Gt(J.name,X,!!J.unique,!!J.multiEntry,!1,X&&typeof X!="string",!1);W.push(J)}I[R]=Ed(R,B,W)}),I}function ds(m,y,P){for(var I=P.db.objectStoreNames,R=0;R<I.length;++R){var F=I[R],B=P.objectStore(F);m._hasGetAll="getAll"in B;for(var W=0;W<B.indexNames.length;++W){var q=B.indexNames[W],X=B.index(q).keyPath,J=typeof X=="string"?X:"["+_(X).join("+")+"]";!y[F]||(X=y[F].idxByName[J])&&(X.name=q,delete y[F].idxByName[J],y[F].idxByName[q]=X)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(m._hasGetAll=!1)}function Yc(m){return m.split(",").map(function(y,P){var F=y.split(":"),I=(R=F[1])===null||R===void 0?void 0:R.trim(),R=(y=F[0].trim()).replace(/([&*]|\+\+)/g,""),F=/^\[/.test(R)?R.match(/^\[(.*)\]$/)[1].split("+"):R;return Gt(R,F||null,/\&/.test(y),/\*/.test(y),/\+\+/.test(y),s(F),P===0,I)})}var Gm=(ca.prototype._createTableSchema=Ed,ca.prototype._parseIndexSyntax=Yc,ca.prototype._parseStoresSpec=function(m,y){var P=this;o(m).forEach(function(I){if(m[I]!==null){var R=P._parseIndexSyntax(m[I]),F=R.shift();if(!F)throw new oe.Schema("Invalid schema for table "+I+": "+m[I]);if(F.unique=!0,F.multi)throw new oe.Schema("Primary key cannot be multiEntry*");R.forEach(function(B){if(B.auto)throw new oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!B.keyPath)throw new oe.Schema("Index must have a name and cannot be an empty string")}),R=P._createTableSchema(I,F,R),y[I]=R}})},ca.prototype.stores=function(P){var y=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,P):P;var P=y._versions,I={},R={};return P.forEach(function(F){l(I,F._cfg.storesSource),R=F._cfg.dbschema={},F._parseStoresSpec(I,R)}),y._dbSchema=R,Tl(y,[y._allTables,y,y.Transaction.prototype]),Al(y,[y._allTables,y,y.Transaction.prototype,this._cfg.tables],o(R),R),y._storeNames=o(R),this},ca.prototype.upgrade=function(m){return this._cfg.contentUpgrade=Ct(this._cfg.contentUpgrade||se,m),this},ca);function ca(){}function Xc(m,y){var P=m._dbNamesDB;return P||(P=m._dbNamesDB=new So(xl,{addons:[],indexedDB:m,IDBKeyRange:y})).version(1).stores({dbnames:"name"}),P.table("dbnames")}function Qc(m){return m&&typeof m.databases=="function"}function ua(m){return ia(function(){return Re.letThrough=!0,m()})}function Zc(m){return!("from"in m)}var $n=function(m,y){if(!this){var P=new $n;return m&&"d"in m&&l(P,m),P}l(this,arguments.length?{d:1,from:m,to:1<arguments.length?y:m}:{d:0})};function hs(m,y,P){var I=mt(y,P);if(!isNaN(I)){if(0<I)throw RangeError();if(Zc(m))return l(m,{from:y,to:P,d:1});var R=m.l,I=m.r;if(mt(P,m.from)<0)return R?hs(R,y,P):m.l={from:y,to:P,d:1,l:null,r:null},Pd(m);if(0<mt(y,m.to))return I?hs(I,y,P):m.r={from:y,to:P,d:1,l:null,r:null},Pd(m);mt(y,m.from)<0&&(m.from=y,m.l=null,m.d=I?I.d+1:1),0<mt(P,m.to)&&(m.to=P,m.r=null,m.d=m.l?m.l.d+1:1),P=!m.r,R&&!m.l&&ps(m,R),I&&P&&ps(m,I)}}function ps(m,y){Zc(y)||function P(I,q){var F=q.from,B=q.to,W=q.l,q=q.r;hs(I,F,B),W&&P(I,W),q&&P(I,q)}(m,y)}function Ol(m,y){var P=Hn(y),I=P.next();if(I.done)return!1;for(var R=I.value,F=Hn(m),B=F.next(R.from),W=B.value;!I.done&&!B.done;){if(mt(W.from,R.to)<=0&&0<=mt(W.to,R.from))return!0;mt(R.from,W.from)<0?R=(I=P.next(W.from)).value:W=(B=F.next(R.from)).value}return!1}function Hn(m){var y=Zc(m)?null:{s:0,n:m};return{next:function(P){for(var I=0<arguments.length;y;)switch(y.s){case 0:if(y.s=1,I)for(;y.n.l&&mt(P,y.n.from)<0;)y={up:y,n:y.n.l,s:1};else for(;y.n.l;)y={up:y,n:y.n.l,s:1};case 1:if(y.s=2,!I||mt(P,y.n.to)<=0)return{value:y.n,done:!1};case 2:if(y.n.r){y.s=3,y={up:y,n:y.n.r,s:0};continue}case 3:y=y.up}return{done:!0}}}}function Pd(m){var y,P,I=(((y=m.r)===null||y===void 0?void 0:y.d)||0)-(((P=m.l)===null||P===void 0?void 0:P.d)||0),R=1<I?"r":I<-1?"l":"";R&&(y=R=="r"?"l":"r",P=r({},m),I=m[R],m.from=I.from,m.to=I.to,m[R]=I[R],P[R]=I[y],(m[y]=P).d=Cd(P)),m.d=Cd(m)}function Cd(P){var y=P.r,P=P.l;return(y?P?Math.max(y.d,P.d):y.d:P?P.d:0)+1}function fa(m,y){return o(y).forEach(function(P){m[P]?ps(m[P],y[P]):m[P]=function I(R){var F,B,W={};for(F in R)d(R,F)&&(B=R[F],W[F]=!B||typeof B!="object"||N.has(B.constructor)?B:I(B));return W}(y[P])}),m}function p(m,y){return m.all||y.all||Object.keys(m).some(function(P){return y[P]&&Ol(y[P],m[P])})}h($n.prototype,((Ri={add:function(m){return ps(this,m),this},addKey:function(m){return hs(this,m,m),this},addKeys:function(m){var y=this;return m.forEach(function(P){return hs(y,P,P)}),this},hasKey:function(m){var y=Hn(this).next(m).value;return y&&mt(y.from,m)<=0&&0<=mt(y.to,m)}})[ce]=function(){return Hn(this)},Ri));var O={},M={},z=!1;function ae(m){fa(M,m),z||(z=!0,setTimeout(function(){z=!1,ue(M,!(M={}))},0))}function ue(m,y){y===void 0&&(y=!1);var P=new Set;if(m.all)for(var I=0,R=Object.values(O);I<R.length;I++)Oe(B=R[I],m,P,y);else for(var F in m){var B,W=/^idb\:\/\/(.*)\/(.*)\//.exec(F);W&&(F=W[1],W=W[2],(B=O["idb://".concat(F,"/").concat(W)])&&Oe(B,m,P,y))}P.forEach(function(q){return q()})}function Oe(m,y,P,I){for(var R=[],F=0,B=Object.entries(m.queries.query);F<B.length;F++){for(var W=B[F],q=W[0],X=[],J=0,K=W[1];J<K.length;J++){var re=K[J];p(y,re.obsSet)?re.subscribers.forEach(function(ee){return P.add(ee)}):I&&X.push(re)}I&&R.push([q,X])}if(I)for(var H=0,Z=R;H<Z.length;H++){var te=Z[H],q=te[0],X=te[1];m.queries.query[q]=X}}function ot(m){var y=m._state,P=m._deps.indexedDB;if(y.isBeingOpened||m.idbdb)return y.dbReadyPromise.then(function(){return y.dbOpenError?qt(y.dbOpenError):m});y.isBeingOpened=!0,y.dbOpenError=null,y.openComplete=!1;var I=y.openCanceller,R=Math.round(10*m.verno),F=!1;function B(){if(y.openCanceller!==I)throw new oe.DatabaseClosed("db.open() was cancelled")}function W(){return new be(function(re,H){if(B(),!P)throw new oe.MissingAPI;var Z=m.name,te=y.autoSchema||!R?P.open(Z):P.open(Z,R);if(!te)throw new oe.MissingAPI;te.onerror=zr(H),te.onblocked=Kt(m._fireOnBlocked),te.onupgradeneeded=Kt(function(ee){var ie;J=te.transaction,y.autoSchema&&!m._options.allowEmptyDB?(te.onerror=$a,J.abort(),te.result.close(),(ie=P.deleteDatabase(Z)).onsuccess=ie.onerror=Kt(function(){H(new oe.NoSuchDatabase("Database ".concat(Z," doesnt exist")))})):(J.onerror=zr(H),ee=ee.oldVersion>Math.pow(2,62)?0:ee.oldVersion,K=ee<1,m.idbdb=te.result,F&&Hc(m,J),Hm(m,ee/10,J,H))},H),te.onsuccess=Kt(function(){J=null;var ee,ie,fe,de,he,we=m.idbdb=te.result,ke=_(we.objectStoreNames);if(0<ke.length)try{var Ee=we.transaction((de=ke).length===1?de[0]:de,"readonly");if(y.autoSchema)ie=we,fe=Ee,(ee=m).verno=ie.version/10,fe=ee._dbSchema=Cl(0,ie,fe),ee._storeNames=_(ie.objectStoreNames,0),Al(ee,[ee._allTables],o(fe),fe);else if(ds(m,m._dbSchema,Ee),((he=Td(Cl(0,(he=m).idbdb,Ee),he._dbSchema)).add.length||he.change.some(function(Te){return Te.add.length||Te.change.length}))&&!F)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),we.close(),R=we.version+1,F=!0,re(W());La(m,Ee)}catch{}bo.push(m),we.onversionchange=Kt(function(Te){y.vcFired=!0,m.on("versionchange").fire(Te)}),we.onclose=Kt(function(Te){m.on("close").fire(Te)}),K&&(he=m._deps,Ee=Z,we=he.indexedDB,he=he.IDBKeyRange,Qc(we)||Ee===xl||Xc(we,he).put({name:Ee}).catch(se)),re()},H)}).catch(function(re){switch(re==null?void 0:re.name){case"UnknownError":if(0<y.PR1398_maxLoop)return y.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),W();break;case"VersionError":if(0<R)return R=0,W()}return be.reject(re)})}var q,X=y.dbReadyResolve,J=null,K=!1;return be.race([I,(typeof navigator>"u"?be.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(re){function H(){return indexedDB.databases().finally(re)}q=setInterval(H,100),H()}).finally(function(){return clearInterval(q)}):Promise.resolve()).then(W)]).then(function(){return B(),y.onReadyBeingFired=[],be.resolve(ua(function(){return m.on.ready.fire(m.vip)})).then(function re(){if(0<y.onReadyBeingFired.length){var H=y.onReadyBeingFired.reduce(Ct,se);return y.onReadyBeingFired=[],be.resolve(ua(function(){return H(m.vip)})).then(re)}})}).finally(function(){y.openCanceller===I&&(y.onReadyBeingFired=null,y.isBeingOpened=!1)}).catch(function(re){y.dbOpenError=re;try{J&&J.abort()}catch{}return I===y.openCanceller&&m._close(),qt(re)}).finally(function(){y.openComplete=!0,X()}).then(function(){var re;return K&&(re={},m.tables.forEach(function(H){H.schema.indexes.forEach(function(Z){Z.name&&(re["idb://".concat(m.name,"/").concat(H.name,"/").concat(Z.name)]=new $n(-1/0,[[[]]]))}),re["idb://".concat(m.name,"/").concat(H.name,"/")]=re["idb://".concat(m.name,"/").concat(H.name,"/:dels")]=new $n(-1/0,[[[]]])}),Br(cs).fire(re),ue(re,!0)),m})}function un(m){function y(F){return m.next(F)}var P=R(y),I=R(function(F){return m.throw(F)});function R(F){return function(q){var W=F(q),q=W.value;return W.done?q:q&&typeof q.then=="function"?q.then(P,I):s(q)?Promise.all(q).then(P,I):P(q)}}return R(y)()}function Ot(m,y,P){for(var I=s(m)?m.slice():[m],R=0;R<P;++R)I.push(y);return I}var kn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(m){return r(r({},m),{table:function(y){var P=m.table(y),I=P.schema,R={},F=[];function B(K,re,H){var Z=Wr(K),te=R[Z]=R[Z]||[],ee=K==null?0:typeof K=="string"?1:K.length,ie=0<re,ie=r(r({},H),{name:ie?"".concat(Z,"(virtual-from:").concat(H.name,")"):H.name,lowLevelIndex:H,isVirtual:ie,keyTail:re,keyLength:ee,extractKey:Wc(K),unique:!ie&&H.unique});return te.push(ie),ie.isPrimaryKey||F.push(ie),1<ee&&B(ee===2?K[0]:K.slice(0,ee-1),re+1,H),te.sort(function(fe,de){return fe.keyTail-de.keyTail}),ie}y=B(I.primaryKey.keyPath,0,I.primaryKey),R[":id"]=[y];for(var W=0,q=I.indexes;W<q.length;W++){var X=q[W];B(X.keyPath,0,X)}function J(K){var re,H=K.query.index;return H.isVirtual?r(r({},K),{query:{index:H.lowLevelIndex,range:(re=K.query.range,H=H.keyTail,{type:re.type===1?2:re.type,lower:Ot(re.lower,re.lowerOpen?m.MAX_KEY:m.MIN_KEY,H),lowerOpen:!0,upper:Ot(re.upper,re.upperOpen?m.MIN_KEY:m.MAX_KEY,H),upperOpen:!0})}}):K}return r(r({},P),{schema:r(r({},I),{primaryKey:y,indexes:F,getIndexByKeyPath:function(K){return(K=R[Wr(K)])&&K[0]}}),count:function(K){return P.count(J(K))},query:function(K){return P.query(J(K))},openCursor:function(K){var re=K.query.index,H=re.keyTail,Z=re.isVirtual,te=re.keyLength;return Z?P.openCursor(J(K)).then(function(ie){return ie&&ee(ie)}):P.openCursor(K);function ee(ie){return Object.create(ie,{continue:{value:function(fe){fe!=null?ie.continue(Ot(fe,K.reverse?m.MAX_KEY:m.MIN_KEY,H)):K.unique?ie.continue(ie.key.slice(0,te).concat(K.reverse?m.MIN_KEY:m.MAX_KEY,H)):ie.continue()}},continuePrimaryKey:{value:function(fe,de){ie.continuePrimaryKey(Ot(fe,m.MAX_KEY,H),de)}},primaryKey:{get:function(){return ie.primaryKey}},key:{get:function(){var fe=ie.key;return te===1?fe[0]:fe.slice(0,te)}},value:{get:function(){return ie.value}}})}}})}})}};function Kr(m,y,P,I){return P=P||{},I=I||"",o(m).forEach(function(R){var F,B,W;d(y,R)?(F=m[R],B=y[R],typeof F=="object"&&typeof B=="object"&&F&&B?(W=ne(F))!==ne(B)?P[I+R]=y[R]:W==="Object"?Kr(F,B,P,I+R+"."):F!==B&&(P[I+R]=y[R]):F!==B&&(P[I+R]=y[R])):P[I+R]=void 0}),o(y).forEach(function(R){d(m,R)||(P[I+R]=y[R])}),P}function da(m,y){return y.type==="delete"?y.keys:y.keys||y.values.map(m.extractKey)}var Va={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(m){return r(r({},m),{table:function(y){var P=m.table(y),I=P.schema.primaryKey;return r(r({},P),{mutate:function(R){var F=Re.trans,B=F.table(y).hook,W=B.deleting,q=B.creating,X=B.updating;switch(R.type){case"add":if(q.fire===se)break;return F._promise("readwrite",function(){return J(R)},!0);case"put":if(q.fire===se&&X.fire===se)break;return F._promise("readwrite",function(){return J(R)},!0);case"delete":if(W.fire===se)break;return F._promise("readwrite",function(){return J(R)},!0);case"deleteRange":if(W.fire===se)break;return F._promise("readwrite",function(){return function K(re,H,Z){return P.query({trans:re,values:!1,query:{index:I,range:H},limit:Z}).then(function(te){var ee=te.result;return J({type:"delete",keys:ee,trans:re}).then(function(ie){return 0<ie.numFailures?Promise.reject(ie.failures[0]):ee.length<Z?{failures:[],numFailures:0,lastResult:void 0}:K(re,r(r({},H),{lower:ee[ee.length-1],lowerOpen:!0}),Z)})})}(R.trans,R.range,1e4)},!0)}return P.mutate(R);function J(K){var re,H,Z,te=Re.trans,ee=K.keys||da(I,K);if(!ee)throw new Error("Keys missing");return(K=K.type==="add"||K.type==="put"?r(r({},K),{keys:ee}):r({},K)).type!=="delete"&&(K.values=i([],K.values)),K.keys&&(K.keys=i([],K.keys)),re=P,Z=ee,((H=K).type==="add"?Promise.resolve([]):re.getMany({trans:H.trans,keys:Z,cache:"immutable"})).then(function(ie){var fe=ee.map(function(de,he){var we,ke,Ee,Te=ie[he],Ne={onerror:null,onsuccess:null};return K.type==="delete"?W.fire.call(Ne,de,Te,te):K.type==="add"||Te===void 0?(we=q.fire.call(Ne,de,K.values[he],te),de==null&&we!=null&&(K.keys[he]=de=we,I.outbound||E(K.values[he],I.keyPath,de))):(we=Kr(Te,K.values[he]),(ke=X.fire.call(Ne,we,de,Te,te))&&(Ee=K.values[he],Object.keys(ke).forEach(function(Ie){d(Ee,Ie)?Ee[Ie]=ke[Ie]:E(Ee,Ie,ke[Ie])}))),Ne});return P.mutate(K).then(function(de){for(var he=de.failures,we=de.results,ke=de.numFailures,de=de.lastResult,Ee=0;Ee<ee.length;++Ee){var Te=(we||ee)[Ee],Ne=fe[Ee];Te==null?Ne.onerror&&Ne.onerror(he[Ee]):Ne.onsuccess&&Ne.onsuccess(K.type==="put"&&ie[Ee]?K.values[Ee]:Te)}return{failures:he,results:we,numFailures:ke,lastResult:de}}).catch(function(de){return fe.forEach(function(he){return he.onerror&&he.onerror(de)}),Promise.reject(de)})})}}})}})}};function ha(m,y,P){try{if(!y||y.keys.length<m.length)return null;for(var I=[],R=0,F=0;R<y.keys.length&&F<m.length;++R)mt(y.keys[R],m[F])===0&&(I.push(P?L(y.values[R]):y.values[R]),++F);return I.length===m.length?I:null}catch{return null}}var Jc={stack:"dbcore",level:-1,create:function(m){return{table:function(y){var P=m.table(y);return r(r({},P),{getMany:function(I){if(!I.cache)return P.getMany(I);var R=ha(I.keys,I.trans._cache,I.cache==="clone");return R?be.resolve(R):P.getMany(I).then(function(F){return I.trans._cache={keys:I.keys,values:I.cache==="clone"?L(F):F},F})},mutate:function(I){return I.type!=="add"&&(I.trans._cache=null),P.mutate(I)}})}}}};function eu(m,y){return m.trans.mode==="readonly"&&!!m.subscr&&!m.trans.explicit&&m.trans.db._options.cache!=="disabled"&&!y.schema.primaryKey.outbound}function _P(m,y){switch(m){case"query":return y.values&&!y.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var yB={stack:"dbcore",level:0,name:"Observability",create:function(m){var y=m.schema.name,P=new $n(m.MIN_KEY,m.MAX_KEY);return r(r({},m),{transaction:function(I,R,F){if(Re.subscr&&R!=="readonly")throw new oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Re.querier));return m.transaction(I,R,F)},table:function(I){var R=m.table(I),F=R.schema,B=F.primaryKey,K=F.indexes,W=B.extractKey,q=B.outbound,X=B.autoIncrement&&K.filter(function(H){return H.compound&&H.keyPath.includes(B.keyPath)}),J=r(r({},R),{mutate:function(H){function Z(Ie){return Ie="idb://".concat(y,"/").concat(I,"/").concat(Ie),de[Ie]||(de[Ie]=new $n)}var te,ee,ie,fe=H.trans,de=H.mutatedParts||(H.mutatedParts={}),he=Z(""),we=Z(":dels"),ke=H.type,Ne=H.type==="deleteRange"?[H.range]:H.type==="delete"?[H.keys]:H.values.length<50?[da(B,H).filter(function(Ie){return Ie}),H.values]:[],Ee=Ne[0],Te=Ne[1],Ne=H.trans._cache;return s(Ee)?(he.addKeys(Ee),(Ne=ke==="delete"||Ee.length===Te.length?ha(Ee,Ne):null)||we.addKeys(Ee),(Ne||Te)&&(te=Z,ee=Ne,ie=Te,F.indexes.forEach(function(Ie){var Me=te(Ie.name||"");function st(it){return it!=null?Ie.extractKey(it):null}function St(it){return Ie.multiEntry&&s(it)?it.forEach(function(gn){return Me.addKey(gn)}):Me.addKey(it)}(ee||ie).forEach(function(it,mr){var et=ee&&st(ee[mr]),mr=ie&&st(ie[mr]);mt(et,mr)!==0&&(et!=null&&St(et),mr!=null&&St(mr))})}))):Ee?(Te={from:(Te=Ee.lower)!==null&&Te!==void 0?Te:m.MIN_KEY,to:(Te=Ee.upper)!==null&&Te!==void 0?Te:m.MAX_KEY},we.add(Te),he.add(Te)):(he.add(P),we.add(P),F.indexes.forEach(function(Ie){return Z(Ie.name).add(P)})),R.mutate(H).then(function(Ie){return!Ee||H.type!=="add"&&H.type!=="put"||(he.addKeys(Ie.results),X&&X.forEach(function(Me){for(var st=H.values.map(function(et){return Me.extractKey(et)}),St=Me.keyPath.findIndex(function(et){return et===B.keyPath}),it=0,gn=Ie.results.length;it<gn;++it)st[it][St]=Ie.results[it];Z(Me.name).addKeys(st)})),fe.mutatedParts=fa(fe.mutatedParts||{},de),Ie})}}),K=function(Z){var te=Z.query,Z=te.index,te=te.range;return[Z,new $n((Z=te.lower)!==null&&Z!==void 0?Z:m.MIN_KEY,(te=te.upper)!==null&&te!==void 0?te:m.MAX_KEY)]},re={get:function(H){return[B,new $n(H.key)]},getMany:function(H){return[B,new $n().addKeys(H.keys)]},count:K,query:K,openCursor:K};return o(re).forEach(function(H){J[H]=function(Z){var te=Re.subscr,ee=!!te,ie=eu(Re,R)&&_P(H,Z)?Z.obsSet={}:te;if(ee){var fe=function(Te){return Te="idb://".concat(y,"/").concat(I,"/").concat(Te),ie[Te]||(ie[Te]=new $n)},de=fe(""),he=fe(":dels"),te=re[H](Z),ee=te[0],te=te[1];if((H==="query"&&ee.isPrimaryKey&&!Z.values?he:fe(ee.name||"")).add(te),!ee.isPrimaryKey){if(H!=="count"){var we=H==="query"&&q&&Z.values&&R.query(r(r({},Z),{values:!1}));return R[H].apply(this,arguments).then(function(Te){if(H==="query"){if(q&&Z.values)return we.then(function(st){return st=st.result,de.addKeys(st),Te});var Ne=Z.values?Te.result.map(W):Te.result;(Z.values?de:he).addKeys(Ne)}else if(H==="openCursor"){var Ie=Te,Me=Z.values;return Ie&&Object.create(Ie,{key:{get:function(){return he.addKey(Ie.primaryKey),Ie.key}},primaryKey:{get:function(){var st=Ie.primaryKey;return he.addKey(st),st}},value:{get:function(){return Me&&de.addKey(Ie.primaryKey),Ie.value}}})}return Te})}he.add(P)}}return R[H].apply(this,arguments)}}),J}})}};function SP(m,y,P){if(P.numFailures===0)return y;if(y.type==="deleteRange")return null;var I=y.keys?y.keys.length:"values"in y&&y.values?y.values.length:1;return P.numFailures===I?null:(y=r({},y),s(y.keys)&&(y.keys=y.keys.filter(function(R,F){return!(F in P.failures)})),"values"in y&&s(y.values)&&(y.values=y.values.filter(function(R,F){return!(F in P.failures)})),y)}function Xb(m,y){return P=m,((I=y).lower===void 0||(I.lowerOpen?0<mt(P,I.lower):0<=mt(P,I.lower)))&&(m=m,(y=y).upper===void 0||(y.upperOpen?mt(m,y.upper)<0:mt(m,y.upper)<=0));var P,I}function EP(m,y,re,I,R,F){if(!re||re.length===0)return m;var B=y.query.index,W=B.multiEntry,q=y.query.range,X=I.schema.primaryKey.extractKey,J=B.extractKey,K=(B.lowLevelIndex||B).extractKey,re=re.reduce(function(H,Z){var te=H,ee=[];if(Z.type==="add"||Z.type==="put")for(var ie=new $n,fe=Z.values.length-1;0<=fe;--fe){var de,he=Z.values[fe],we=X(he);ie.hasKey(we)||(de=J(he),(W&&s(de)?de.some(function(Ie){return Xb(Ie,q)}):Xb(de,q))&&(ie.addKey(we),ee.push(he)))}switch(Z.type){case"add":var ke=new $n().addKeys(y.values?H.map(function(Me){return X(Me)}):H),te=H.concat(y.values?ee.filter(function(Me){return Me=X(Me),!ke.hasKey(Me)&&(ke.addKey(Me),!0)}):ee.map(function(Me){return X(Me)}).filter(function(Me){return!ke.hasKey(Me)&&(ke.addKey(Me),!0)}));break;case"put":var Ee=new $n().addKeys(Z.values.map(function(Me){return X(Me)}));te=H.filter(function(Me){return!Ee.hasKey(y.values?X(Me):Me)}).concat(y.values?ee:ee.map(function(Me){return X(Me)}));break;case"delete":var Te=new $n().addKeys(Z.keys);te=H.filter(function(Me){return!Te.hasKey(y.values?X(Me):Me)});break;case"deleteRange":var Ne=Z.range;te=H.filter(function(Me){return!Xb(X(Me),Ne)})}return te},m);return re===m?m:(re.sort(function(H,Z){return mt(K(H),K(Z))||mt(X(H),X(Z))}),y.limit&&y.limit<1/0&&(re.length>y.limit?re.length=y.limit:m.length===y.limit&&re.length<y.limit&&(R.dirty=!0)),F?Object.freeze(re):re)}function AP(m,y){return mt(m.lower,y.lower)===0&&mt(m.upper,y.upper)===0&&!!m.lowerOpen==!!y.lowerOpen&&!!m.upperOpen==!!y.upperOpen}function vB(m,y){return function(P,I,R,F){if(P===void 0)return I!==void 0?-1:0;if(I===void 0)return 1;if((I=mt(P,I))===0){if(R&&F)return 0;if(R)return 1;if(F)return-1}return I}(m.lower,y.lower,m.lowerOpen,y.lowerOpen)<=0&&0<=function(P,I,R,F){if(P===void 0)return I!==void 0?1:0;if(I===void 0)return-1;if((I=mt(P,I))===0){if(R&&F)return 0;if(R)return-1;if(F)return 1}return I}(m.upper,y.upper,m.upperOpen,y.upperOpen)}function bB(m,y,P,I){m.subscribers.add(P),I.addEventListener("abort",function(){var R,F;m.subscribers.delete(P),m.subscribers.size===0&&(R=m,F=y,setTimeout(function(){R.subscribers.size===0&&Y(F,R)},3e3))})}var xB={stack:"dbcore",level:0,name:"Cache",create:function(m){var y=m.schema.name;return r(r({},m),{transaction:function(P,I,R){var F,B,W=m.transaction(P,I,R);return I==="readwrite"&&(B=(F=new AbortController).signal,R=function(q){return function(){if(F.abort(),I==="readwrite"){for(var X=new Set,J=0,K=P;J<K.length;J++){var re=K[J],H=O["idb://".concat(y,"/").concat(re)];if(H){var Z=m.table(re),te=H.optimisticOps.filter(function(Me){return Me.trans===W});if(W._explicit&&q&&W.mutatedParts)for(var ee=0,ie=Object.values(H.queries.query);ee<ie.length;ee++)for(var fe=0,de=(ke=ie[ee]).slice();fe<de.length;fe++)p((Ee=de[fe]).obsSet,W.mutatedParts)&&(Y(ke,Ee),Ee.subscribers.forEach(function(Me){return X.add(Me)}));else if(0<te.length){H.optimisticOps=H.optimisticOps.filter(function(Me){return Me.trans!==W});for(var he=0,we=Object.values(H.queries.query);he<we.length;he++)for(var ke,Ee,Te,Ne=0,Ie=(ke=we[he]).slice();Ne<Ie.length;Ne++)(Ee=Ie[Ne]).res!=null&&W.mutatedParts&&(q&&!Ee.dirty?(Te=Object.isFrozen(Ee.res),Te=EP(Ee.res,Ee.req,te,Z,Ee,Te),Ee.dirty?(Y(ke,Ee),Ee.subscribers.forEach(function(Me){return X.add(Me)})):Te!==Ee.res&&(Ee.res=Te,Ee.promise=be.resolve({result:Te}))):(Ee.dirty&&Y(ke,Ee),Ee.subscribers.forEach(function(Me){return X.add(Me)})))}}}X.forEach(function(Me){return Me()})}}},W.addEventListener("abort",R(!1),{signal:B}),W.addEventListener("error",R(!1),{signal:B}),W.addEventListener("complete",R(!0),{signal:B})),W},table:function(P){var I=m.table(P),R=I.schema.primaryKey;return r(r({},I),{mutate:function(F){var B=Re.trans;if(R.outbound||B.db._options.cache==="disabled"||B.explicit||B.idbtrans.mode!=="readwrite")return I.mutate(F);var W=O["idb://".concat(y,"/").concat(P)];return W?(B=I.mutate(F),F.type!=="add"&&F.type!=="put"||!(50<=F.values.length||da(R,F).some(function(q){return q==null}))?(W.optimisticOps.push(F),F.mutatedParts&&ae(F.mutatedParts),B.then(function(q){0<q.numFailures&&(Y(W.optimisticOps,F),(q=SP(0,F,q))&&W.optimisticOps.push(q),F.mutatedParts&&ae(F.mutatedParts))}),B.catch(function(){Y(W.optimisticOps,F),F.mutatedParts&&ae(F.mutatedParts)})):B.then(function(q){var X=SP(0,r(r({},F),{values:F.values.map(function(J,K){var re;return q.failures[K]?J:(J=(re=R.keyPath)!==null&&re!==void 0&&re.includes(".")?L(J):r({},J),E(J,R.keyPath,q.results[K]),J)})}),q);W.optimisticOps.push(X),queueMicrotask(function(){return F.mutatedParts&&ae(F.mutatedParts)})}),B):I.mutate(F)},query:function(F){if(!eu(Re,I)||!_P("query",F))return I.query(F);var B=((X=Re.trans)===null||X===void 0?void 0:X.db._options.cache)==="immutable",K=Re,W=K.requery,q=K.signal,X=function(Z,te,ee,ie){var fe=O["idb://".concat(Z,"/").concat(te)];if(!fe)return[];if(!(te=fe.queries[ee]))return[null,!1,fe,null];var de=te[(ie.query?ie.query.index.name:null)||""];if(!de)return[null,!1,fe,null];switch(ee){case"query":var he=de.find(function(we){return we.req.limit===ie.limit&&we.req.values===ie.values&&AP(we.req.query.range,ie.query.range)});return he?[he,!0,fe,de]:[de.find(function(we){return("limit"in we.req?we.req.limit:1/0)>=ie.limit&&(!ie.values||we.req.values)&&vB(we.req.query.range,ie.query.range)}),!1,fe,de];case"count":return he=de.find(function(we){return AP(we.req.query.range,ie.query.range)}),[he,!!he,fe,de]}}(y,P,"query",F),J=X[0],K=X[1],re=X[2],H=X[3];return J&&K?J.obsSet=F.obsSet:(K=I.query(F).then(function(Z){var te=Z.result;if(J&&(J.res=te),B){for(var ee=0,ie=te.length;ee<ie;++ee)Object.freeze(te[ee]);Object.freeze(te)}else Z.result=L(te);return Z}).catch(function(Z){return H&&J&&Y(H,J),Promise.reject(Z)}),J={obsSet:F.obsSet,promise:K,subscribers:new Set,type:"query",req:F,dirty:!1},H?H.push(J):(H=[J],(re=re||(O["idb://".concat(y,"/").concat(P)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[F.query.index.name||""]=H)),bB(J,H,W,q),J.promise.then(function(Z){return{result:EP(Z.result,F,re==null?void 0:re.optimisticOps,I,J,B)}})}})}})}};function Ym(m,y){return new Proxy(m,{get:function(P,I,R){return I==="db"?y:Reflect.get(P,I,R)}})}var So=(Sn.prototype.version=function(m){if(isNaN(m)||m<.1)throw new oe.Type("Given version is not a positive number");if(m=Math.round(10*m)/10,this.idbdb||this._state.isBeingOpened)throw new oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,m);var y=this._versions,P=y.filter(function(I){return I._cfg.version===m})[0];return P||(P=new this.Version(m),y.push(P),y.sort(qc),P.stores({}),this._state.autoSchema=!1,P)},Sn.prototype._whenReady=function(m){var y=this;return this.idbdb&&(this._state.openComplete||Re.letThrough||this._vip)?m():new be(function(P,I){if(y._state.openComplete)return I(new oe.DatabaseClosed(y._state.dbOpenError));if(!y._state.isBeingOpened){if(!y._state.autoOpen)return void I(new oe.DatabaseClosed);y.open().catch(se)}y._state.dbReadyPromise.then(P,I)}).then(m)},Sn.prototype.use=function(m){var y=m.stack,P=m.create,I=m.level,R=m.name;return R&&this.unuse({stack:y,name:R}),m=this._middlewares[y]||(this._middlewares[y]=[]),m.push({stack:y,create:P,level:I??10,name:R}),m.sort(function(F,B){return F.level-B.level}),this},Sn.prototype.unuse=function(m){var y=m.stack,P=m.name,I=m.create;return y&&this._middlewares[y]&&(this._middlewares[y]=this._middlewares[y].filter(function(R){return I?R.create!==I:!!P&&R.name!==P})),this},Sn.prototype.open=function(){var m=this;return Di(Fr,function(){return ot(m)})},Sn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var m=this._state,y=bo.indexOf(this);if(0<=y&&bo.splice(y,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}m.isBeingOpened||(m.dbReadyPromise=new be(function(P){m.dbReadyResolve=P}),m.openCanceller=new be(function(P,I){m.cancelOpen=I}))},Sn.prototype.close=function(P){var y=(P===void 0?{disableAutoOpen:!0}:P).disableAutoOpen,P=this._state;y?(P.isBeingOpened&&P.cancelOpen(new oe.DatabaseClosed),this._close(),P.autoOpen=!1,P.dbOpenError=new oe.DatabaseClosed):(this._close(),P.autoOpen=this._options.autoOpen||P.isBeingOpened,P.openComplete=!1,P.dbOpenError=null)},Sn.prototype.delete=function(m){var y=this;m===void 0&&(m={disableAutoOpen:!0});var P=0<arguments.length&&typeof arguments[0]!="object",I=this._state;return new be(function(R,F){function B(){y.close(m);var W=y._deps.indexedDB.deleteDatabase(y.name);W.onsuccess=Kt(function(){var q,X,J;q=y._deps,X=y.name,J=q.indexedDB,q=q.IDBKeyRange,Qc(J)||X===xl||Xc(J,q).delete(X).catch(se),R()}),W.onerror=zr(F),W.onblocked=y._fireOnBlocked}if(P)throw new oe.InvalidArgument("Invalid closeOptions argument to db.delete()");I.isBeingOpened?I.dbReadyPromise.then(B):B()})},Sn.prototype.backendDB=function(){return this.idbdb},Sn.prototype.isOpen=function(){return this.idbdb!==null},Sn.prototype.hasBeenClosed=function(){var m=this._state.dbOpenError;return m&&m.name==="DatabaseClosed"},Sn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Sn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Sn.prototype,"tables",{get:function(){var m=this;return o(this._allTables).map(function(y){return m._allTables[y]})},enumerable:!1,configurable:!0}),Sn.prototype.transaction=function(){var m=(function(y,P,I){var R=arguments.length;if(R<2)throw new oe.InvalidArgument("Too few arguments");for(var F=new Array(R-1);--R;)F[R-1]=arguments[R];return I=F.pop(),[y,D(F),I]}).apply(this,arguments);return this._transaction.apply(this,m)},Sn.prototype._transaction=function(m,y,P){var I=this,R=Re.trans;R&&R.db===this&&m.indexOf("!")===-1||(R=null);var F,B,W=m.indexOf("?")!==-1;m=m.replace("!","").replace("?","");try{if(B=y.map(function(X){if(X=X instanceof I.Table?X.name:X,typeof X!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return X}),m=="r"||m===zc)F=zc;else{if(m!="rw"&&m!=wl)throw new oe.InvalidArgument("Invalid transaction mode: "+m);F=wl}if(R){if(R.mode===zc&&F===wl){if(!W)throw new oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");R=null}R&&B.forEach(function(X){if(R&&R.storeNames.indexOf(X)===-1){if(!W)throw new oe.SubTransaction("Table "+X+" not included in parent transaction.");R=null}}),W&&R&&!R.active&&(R=null)}}catch(X){return R?R._promise(null,function(J,K){K(X)}):qt(X)}var q=(function X(J,K,re,H,Z){return be.resolve().then(function(){var te=Re.transless||Re,ee=J._createTransaction(K,re,J._dbSchema,H);if(ee.explicit=!0,te={trans:ee,transless:te},H)ee.idbtrans=H.idbtrans;else try{ee.create(),ee.idbtrans._explicit=!0,J._state.PR1398_maxLoop=3}catch(de){return de.name===Ce.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return X(J,K,re,null,Z)})):qt(de)}var ie,fe=Se(Z);return fe&&Na(),te=be.follow(function(){var de;(ie=Z.call(ee,ee))&&(fe?(de=Ni.bind(null,null),ie.then(de,de)):typeof ie.next=="function"&&typeof ie.throw=="function"&&(ie=un(ie)))},te),(ie&&typeof ie.then=="function"?be.resolve(ie).then(function(de){return ee.active?de:qt(new oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):te.then(function(){return ie})).then(function(de){return H&&ee._resolve(),ee._completion.then(function(){return de})}).catch(function(de){return ee._reject(de),qt(de)})})}).bind(null,this,F,B,R,P);return R?R._promise(F,q,"lock"):Re.trans?Di(Re.transless,function(){return I._whenReady(q)}):this._whenReady(q)},Sn.prototype.table=function(m){if(!d(this._allTables,m))throw new oe.InvalidTable("Table ".concat(m," does not exist"));return this._allTables[m]},Sn);function Sn(m,y){var P=this;this._middlewares={},this.verno=0;var I=Sn.dependencies;this._options=y=r({addons:Sn.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},y),this._deps={indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange},I=y.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var R,F,B,W,q,X={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:se,dbReadyPromise:null,cancelOpen:se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:y.autoOpen};X.dbReadyPromise=new be(function(K){X.dbReadyResolve=K}),X.openCanceller=new be(function(K,re){X.cancelOpen=re}),this._state=X,this.name=m,this.on=jt(this,"populate","blocked","versionchange","close",{ready:[Ct,se]}),this.once=function(K,re){var H=function(){for(var Z=[],te=0;te<arguments.length;te++)Z[te]=arguments[te];P.on(K).unsubscribe(H),re.apply(P,Z)};return P.on(K,H)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(K){return function(re,H){Sn.vip(function(){var Z,te=P._state;te.openComplete?(te.dbOpenError||be.resolve().then(re),H&&K(re)):te.onReadyBeingFired?(te.onReadyBeingFired.push(re),H&&K(re)):(K(re),Z=P,H||K(function ee(){Z.on.ready.unsubscribe(re),Z.on.ready.unsubscribe(ee)}))})}}),this.Collection=(R=this,Ma(wo.prototype,function(ie,ee){this.db=R;var H=xd,Z=null;if(ee)try{H=ee()}catch(fe){Z=fe}var te=ie._ctx,ee=te.table,ie=ee.hook.reading.fire;this._ctx={table:ee,index:te.index,isPrimKey:!te.index||ee.schema.primKey.keyPath&&te.index===ee.schema.primKey.name,range:H,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Z,or:te.or,valueMapper:ie!==Be?ie:null}})),this.Table=(F=this,Ma(ss.prototype,function(K,re,H){this.db=F,this._tx=H,this.name=K,this.schema=re,this.hook=F._allTables[K]?F._allTables[K].hook:jt(null,{creating:[nt,se],reading:[ze,Be],updating:[on,se],deleting:[At,se]})})),this.Transaction=(B=this,Ma(Wm.prototype,function(K,re,H,Z,te){var ee=this;K!=="readonly"&&re.forEach(function(ie){ie=(ie=H[ie])===null||ie===void 0?void 0:ie.yProps,ie&&(re=re.concat(ie.map(function(fe){return fe.updatesTable})))}),this.db=B,this.mode=K,this.storeNames=re,this.schema=H,this.chromeTransactionDurability=Z,this.idbtrans=null,this.on=jt(this,"complete","error","abort"),this.parent=te||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new be(function(ie,fe){ee._resolve=ie,ee._reject=fe}),this._completion.then(function(){ee.active=!1,ee.on.complete.fire()},function(ie){var fe=ee.active;return ee.active=!1,ee.on.error.fire(ie),ee.parent?ee.parent._reject(ie):fe&&ee.idbtrans&&ee.idbtrans.abort(),qt(ie)})})),this.Version=(W=this,Ma(Gm.prototype,function(K){this.db=W,this._cfg={version:K,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(q=this,Ma(la.prototype,function(K,re,H){if(this.db=q,this._ctx={table:K,index:re===":id"?null:re,or:H},this._cmp=this._ascending=mt,this._descending=function(Z,te){return mt(te,Z)},this._max=function(Z,te){return 0<mt(Z,te)?Z:te},this._min=function(Z,te){return mt(Z,te)<0?Z:te},this._IDBKeyRange=q._deps.IDBKeyRange,!this._IDBKeyRange)throw new oe.MissingAPI})),this.on("versionchange",function(K){0<K.newVersion?console.warn("Another connection wants to upgrade database '".concat(P.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(P.name,"'. Closing db now to resume the delete request.")),P.close({disableAutoOpen:!1})}),this.on("blocked",function(K){!K.newVersion||K.newVersion<K.oldVersion?console.warn("Dexie.delete('".concat(P.name,"') was blocked")):console.warn("Upgrade '".concat(P.name,"' blocked by other connection holding version ").concat(K.oldVersion/10))}),this._maxKey=us(y.IDBKeyRange),this._createTransaction=function(K,re,H,Z){return new P.Transaction(K,re,H,P._options.chromeTransactionDurability,Z)},this._fireOnBlocked=function(K){P.on("blocked").fire(K),bo.filter(function(re){return re.name===P.name&&re!==P&&!re._state.vcFired}).map(function(re){return re.on("versionchange").fire(K)})},this.use(Jc),this.use(xB),this.use(yB),this.use(kn),this.use(Va);var J=new Proxy(this,{get:function(K,re,H){if(re==="_vip")return!0;if(re==="table")return function(te){return Ym(P.table(te),J)};var Z=Reflect.get(K,re,H);return Z instanceof ss?Ym(Z,J):re==="tables"?Z.map(function(te){return Ym(te,J)}):re==="_createTransaction"?function(){return Ym(Z.apply(this,arguments),J)}:Z}});this.vip=J,I.forEach(function(K){return K(P)})}var Xm,Ri=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",wB=(Qb.prototype.subscribe=function(m,y,P){return this._subscribe(m&&typeof m!="function"?m:{next:m,error:y,complete:P})},Qb.prototype[Ri]=function(){return this},Qb);function Qb(m){this._subscribe=m}try{Xm={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Xm={indexedDB:null,IDBKeyRange:null}}function TP(m){var y,P=!1,I=new wB(function(R){var F=Se(m),B,W=!1,q={},X={},J={get closed(){return W},unsubscribe:function(){W||(W=!0,B&&B.abort(),K&&Br.storagemutated.unsubscribe(H))}};R.start&&R.start(J);var K=!1,re=function(){return bl(Z)},H=function(te){fa(q,te),p(X,q)&&re()},Z=function(){var te,ee,ie;!W&&Xm.indexedDB&&(q={},te={},B&&B.abort(),B=new AbortController,ie=function(fe){var de=nr();try{F&&Na();var he=ia(m,fe);return he=F?he.finally(Ni):he}finally{de&&ji()}}(ee={subscr:te,signal:B.signal,requery:re,querier:m,trans:null}),Promise.resolve(ie).then(function(fe){P=!0,y=fe,W||ee.signal.aborted||(q={},function(de){for(var he in de)if(d(de,he))return;return 1}(X=te)||K||(Br(cs,H),K=!0),bl(function(){return!W&&R.next&&R.next(fe)}))},function(fe){P=!1,["DatabaseClosedError","AbortError"].includes(fe==null?void 0:fe.name)||W||bl(function(){W||R.error&&R.error(fe)})}))};return setTimeout(re,0),J});return I.hasValue=function(){return P},I.getValue=function(){return y},I}var kl=So;function Zb(m){var y=ms;try{ms=!0,Br.storagemutated.fire(m),ue(m,!0)}finally{ms=y}}h(kl,r(r({},Ae),{delete:function(m){return new kl(m,{addons:[]}).delete()},exists:function(m){return new kl(m,{addons:[]}).open().then(function(y){return y.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(m){try{return y=kl.dependencies,P=y.indexedDB,y=y.IDBKeyRange,(Qc(P)?Promise.resolve(P.databases()).then(function(I){return I.map(function(R){return R.name}).filter(function(R){return R!==xl})}):Xc(P,y).toCollection().primaryKeys()).then(m)}catch{return qt(new oe.MissingAPI)}var y,P},defineClass:function(){return function(m){l(this,m)}},ignoreTransaction:function(m){return Re.trans?Di(Re.transless,m):m()},vip:ua,async:function(m){return function(){try{var y=un(m.apply(this,arguments));return y&&typeof y.then=="function"?y:be.resolve(y)}catch(P){return qt(P)}}},spawn:function(m,y,P){try{var I=un(m.apply(P,y||[]));return I&&typeof I.then=="function"?I:be.resolve(I)}catch(R){return qt(R)}},currentTransaction:{get:function(){return Re.trans||null}},waitFor:function(m,y){return y=be.resolve(typeof m=="function"?kl.ignoreTransaction(m):m).timeout(y||6e4),Re.trans?Re.trans.waitFor(y):y},Promise:be,debug:{get:function(){return rt},set:function(m){Wt(m)}},derive:v,extend:l,props:h,override:A,Events:jt,on:Br,liveQuery:TP,extendObservabilitySet:fa,getByKeyPath:C,setByKeyPath:E,delByKeyPath:function(m,y){typeof y=="string"?E(m,y,void 0):"length"in y&&[].map.call(y,function(P){E(m,P,void 0)})},shallowClone:T,deepClone:L,getObjectDiff:Kr,cmp:mt,asap:S,minKey:-1/0,addons:[],connections:bo,errnames:Ce,dependencies:Xm,cache:O,semVer:"4.2.0",version:"4.2.0".split(".").map(function(m){return parseInt(m)}).reduce(function(m,y,P){return m+y/Math.pow(10,2*P)})})),kl.maxKey=us(kl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Br(cs,function(m){ms||(m=new CustomEvent(_o,{detail:m}),ms=!0,dispatchEvent(m),ms=!1)}),addEventListener(_o,function(m){m=m.detail,ms||Zb(m)}));var tu,ms=!1,PP=function(){};return typeof BroadcastChannel<"u"&&((PP=function(){(tu=new BroadcastChannel(_o)).onmessage=function(m){return m.data&&Zb(m.data)}})(),typeof tu.unref=="function"&&tu.unref(),Br(cs,function(m){ms||tu.postMessage(m)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(m){if(!So.disableBfCache&&m.persisted){rt&&console.debug("Dexie: handling persisted pagehide"),tu!=null&&tu.close();for(var y=0,P=bo;y<P.length;y++)P[y].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(m){!So.disableBfCache&&m.persisted&&(rt&&console.debug("Dexie: handling persisted pageshow"),PP(),Zb({all:new $n(-1/0,[[]])}))})),be.rejectionMapper=function(m,y){return!m||m instanceof je||m instanceof TypeError||m instanceof SyntaxError||!m.name||!ye[m.name]?m:(y=new ye[m.name](y||m.message,m),"stack"in m&&b(y,"stack",{get:function(){return this.inner.stack}}),y)},Wt(rt),r(So,Object.freeze({__proto__:null,Dexie:So,liveQuery:TP,Entity:wd,cmp:mt,PropModification:El,replacePrefix:function(m,y){return new El({replacePrefix:[m,y]})},add:function(m){return new El({add:m})},remove:function(m){return new El({remove:m})},default:So,RangeSet:$n,mergeRanges:ps,rangesOverlap:Ol}),{default:So}),So})})(v4);var MH=v4.exports;const Z1=Ut(MH),oO=Symbol.for("Dexie"),up=globalThis[oO]||(globalThis[oO]=Z1);if(Z1.semVer!==up.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Z1.semVer} and ${up.semVer}`);const{liveQuery:XCe,mergeRanges:QCe,rangesOverlap:ZCe,RangeSet:JCe,cmp:e2e,Entity:t2e,PropModification:n2e,replacePrefix:r2e,add:i2e,remove:a2e,DexieYProvider:o2e}=up,RH=()=>{const[t,e]=V.useState(!0),[n,r]=V.useState(""),[i,a]=V.useState(""),[o,s]=V.useState(null),[l,c]=V.useState(!1),u=async()=>{if(window.confirm("¿Estás seguro de que quieres forzar la eliminación de la base de datos local? Esto no afectará tus datos en la nube."))try{await up.delete("LactoKeeperDB_v6"),alert("Base de datos local eliminada con éxito. La página se recargará."),window.location.reload()}catch(g){alert("Error al eliminar la base de datos."),console.error(g)}},d=g=>{switch(g.code){case"auth/invalid-email":return"El formato del correo electrónico no es válido.";case"auth/user-not-found":case"auth/wrong-password":return"Correo electrónico o contraseña incorrectos.";case"auth/email-already-in-use":return"Este correo electrónico ya está registrado.";case"auth/weak-password":return"La contraseña debe tener al menos 6 caracteres.";default:return"Ocurrió un error. Por favor, intenta de nuevo."}},h=async g=>{g.preventDefault(),s(null),c(!0);try{t?await jW(lf,n,i):await IW(lf,n,i)}catch(b){s(d(b))}finally{c(!1)}};return f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:f.jsxs("div",{className:"w-full max-w-sm",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[f.jsx(gm,{className:"w-10 h-10 text-brand-orange"}),f.jsx("h1",{className:"text-4xl font-bold text-white",children:"LactoKeeper"})]}),f.jsx("p",{className:"text-zinc-400",children:"Tu gestión de rebaño, en la nube."})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-6 border border-brand-border",children:[f.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full mb-6",children:[f.jsx("button",{onClick:()=>e(!0),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"bg-zinc-700 text-white":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Iniciar Sesión"}),f.jsx("button",{onClick:()=>e(!1),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t?"text-zinc-400 hover:bg-zinc-800/50":"bg-zinc-700 text-white"}`,children:"Registrarse"})]}),f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsx("input",{type:"email",value:n,onChange:g=>r(g.target.value),placeholder:"Correo electrónico",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),f.jsx("input",{type:"password",value:i,onChange:g=>a(g.target.value),placeholder:"Contraseña",required:!0,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),o&&f.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg text-sm bg-red-500/20 text-brand-red",children:[f.jsx(_i,{size:18}),f.jsx("span",{children:o})]}),f.jsx("button",{type:"submit",disabled:l,className:"w-full bg-brand-orange text-white font-bold py-3 rounded-xl transition-colors hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Procesando...":t?"Iniciar Sesión":"Crear Cuenta"})]})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("button",{onClick:u,className:"flex items-center justify-center gap-2 mx-auto bg-brand-red/20 text-brand-red font-semibold py-2 px-4 rounded-lg border border-brand-red/50 hover:bg-brand-red/30 transition-colors",children:[f.jsx(bm,{size:16}),"Forzar Reinicio de DB Local"]})})]})})},Nt=({isOpen:t,onClose:e,title:n,children:r,size:i="default"})=>{if(!t)return null;const a=i==="fullscreen"?"items-end":"items-center",o={default:"max-w-md m-4 rounded-2xl",large:"max-w-xl m-4 rounded-2xl",fullscreen:"w-full h-[95vh] rounded-t-2xl flex flex-col"};return f.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center z-50 animate-fade-in ${a}`,onClick:e,children:f.jsxs("div",{className:`bg-ios-modal-bg border border-zinc-700/80 shadow-2xl text-white transform transition-all animate-slide-up ${o[i]}`,onClick:s=>s.stopPropagation(),children:[f.jsxs("header",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-zinc-800/80",children:[f.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:n}),f.jsx("button",{onClick:e,className:"p-1 rounded-full text-zinc-500 hover:text-white hover:bg-zinc-700/50 transition-colors",children:f.jsx(jc,{size:20})})]}),f.jsx("div",{className:i==="fullscreen"?"flex-1 overflow-y-auto p-4":"p-6",children:r})]})})};class $H extends up{constructor(){super("LactoKeeperDB_v6");$i(this,"animals");$i(this,"fathers");$i(this,"parturitions");$i(this,"weighings");$i(this,"lots");$i(this,"origins");$i(this,"breedingGroups");$i(this,"serviceRecords");$i(this,"events");$i(this,"feedingPlans");$i(this,"bodyWeighings");this.version(2).stores({animals:"&id, createdAt, motherId, fatherId, status, lifecycleStage, location, isReference, reproductiveStatus, breedingGroupId",fathers:"&id",parturitions:"&id, goatId, sireId, status",weighings:"++id, goatId, date",lots:"&id, name",origins:"&id, name",breedingGroups:"&id, sireId, status",serviceRecords:"++id, breedingGroupId, femaleId, serviceDate",events:"++id, animalId, date, type, lotName",feedingPlans:"++id, lotName",bodyWeighings:"++id, animalId, date"})}}const gt=new $H,b4=V.createContext({animals:[],fathers:[],weighings:[],parturitions:[],lots:[],origins:[],breedingGroups:[],serviceRecords:[],events:[],feedingPlans:[],bodyWeighings:[],isLoading:!0,addAnimal:async()=>{},updateAnimal:async()=>{},startDryingProcess:async()=>{},setLactationAsDry:async()=>{},addLot:async()=>{},deleteLot:async()=>{},addOrigin:async()=>{},deleteOrigin:async()=>{},addBreedingGroup:async()=>"",updateBreedingGroup:async()=>{},deleteBreedingGroup:async()=>{},addServiceRecord:async()=>{},addFeedingPlan:async()=>{},addBatchEvent:async()=>{},addWeighing:async()=>{},addBodyWeighing:async()=>{},addParturition:async()=>{},fetchData:async()=>{},addFather:async()=>{}}),It=()=>V.useContext(b4),LH=({children:t})=>{const{currentUser:e}=n4(),[n,r]=V.useState([]),[i,a]=V.useState([]),[o,s]=V.useState([]),[l,c]=V.useState([]),[u,d]=V.useState([]),[h,g]=V.useState([]),[b,v]=V.useState([]),[w,x]=V.useState([]),[_,A]=V.useState([]),[k,S]=V.useState([]),[C,E]=V.useState([]),[T,j]=V.useState(!0),D=V.useCallback(async()=>{try{const[ye,Ae,se,Be,ze,qe,nt,At,on,pt,Ct]=await Promise.all([gt.animals.toArray(),gt.fathers.toArray(),gt.weighings.toArray(),gt.parturitions.toArray(),gt.lots.toArray(),gt.origins.toArray(),gt.breedingGroups.toArray(),gt.serviceRecords.toArray(),gt.events.toArray(),gt.feedingPlans.toArray(),gt.bodyWeighings.toArray()]);r(ye),a(Ae),s(se),c(Be),d(ze),g(qe),v(nt),x(At),A(on),S(pt),E(Ct)}catch(ye){console.error("Error al cargar datos locales:",ye)}finally{j(!1)}},[]);V.useEffect(()=>{if(!e){j(!1),Promise.all([gt.animals.clear(),gt.fathers.clear(),gt.weighings.clear(),gt.parturitions.clear(),gt.lots.clear(),gt.origins.clear(),gt.breedingGroups.clear(),gt.serviceRecords.clear(),gt.events.clear(),gt.feedingPlans.clear(),gt.bodyWeighings.clear()]).then(()=>{r([]),a([]),s([]),c([]),d([]),g([]),v([]),x([]),A([]),S([]),E([])});return}let ye=[];return(async()=>{try{gt.isOpen()||await gt.open();const se=ze=>Gq(qr(Ft,ze),Yq("userId","==",e.uid)),Be=(ze,qe)=>{const nt=eH(se(ze),async At=>{let on=!1;for(const pt of At.docChanges()){on=!0;const Ct={...pt.doc.data(),id:pt.doc.id};(pt.type==="added"||pt.type==="modified")&&await qe.put(Ct),pt.type==="removed"&&await qe.delete(pt.doc.id)}on&&D()},At=>{At.code!=="permission-denied"&&console.error(`Error sincronizando ${ze}:`,At)});ye.push(nt)};Be("animals",gt.animals),Be("fathers",gt.fathers),Be("parturitions",gt.parturitions),Be("weighings",gt.weighings),Be("lots",gt.lots),Be("origins",gt.origins),Be("breedingGroups",gt.breedingGroups),Be("serviceRecords",gt.serviceRecords),Be("events",gt.events),Be("feedingPlans",gt.feedingPlans),Be("bodyWeighings",gt.bodyWeighings)}catch(se){console.error("Fallo al abrir o sincronizar la base de datos local:",se)}})(),()=>{ye.forEach(se=>se())}},[e,D]);const N=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Eo(qr(Ft,"events"),{...ye,userId:e.uid})},$=async ye=>{if(!e)throw new Error("Usuario no autenticado");const Ae=jr(Ft,"animals",ye.id.toUpperCase());await Jq(Ae,{...ye,id:ye.id.toUpperCase(),userId:e.uid,createdAt:Date.now()})},L=async(ye,Ae)=>{if(!e)throw new Error("Usuario no autenticado");const se=jr(Ft,"animals",ye),Be=await Zq(se);if(!Be.exists())throw new Error("El animal no existe.");const ze=Be.data(),qe=new Date().toISOString().split("T")[0];if(Ae.location!==void 0&&Ae.location!==ze.location&&await N({animalId:ye,date:qe,type:"Movimiento",details:`Movido del lote '${ze.location||"N/A"}' al lote '${Ae.location||"Sin Asignar"}'`}),Ae.status&&Ae.status!==ze.status){let nt=`Estado cambiado de '${ze.status}' a '${Ae.status}'`;Ae.status==="Venta"&&Ae.salePrice&&(nt=`Vendido por $${Ae.salePrice}`),Ae.status==="Muerte"&&Ae.deathReason&&(nt=`Muerte. Causa: ${Ae.deathReason}`),await N({animalId:ye,date:qe,type:"Cambio de Estado",details:nt})}await wg(se,Ae)},Q=async ye=>{if(!e)throw new Error("Usuario no autenticado");const Ae=jr(Ft,"parturitions",ye);await wg(Ae,{status:"en-secado",dryingStartDate:new Date().toISOString().split("T")[0]})},ne=async ye=>{if(!e)throw new Error("Usuario no autenticado");const Ae=jr(Ft,"parturitions",ye);await wg(Ae,{status:"seca"})},ce=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Eo(qr(Ft,"lots"),{name:ye,userId:e.uid})},le=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Lx(jr(Ft,"lots",ye))},Y=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Eo(qr(Ft,"origins"),{name:ye,userId:e.uid})},G=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Lx(jr(Ft,"origins",ye))},pe=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Eo(qr(Ft,"weighings"),{...ye,userId:e.uid})},Se=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Eo(qr(Ft,"bodyWeighings"),{...ye,userId:e.uid})},xe=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Eo(qr(Ft,"fathers"),{...ye,userId:e.uid})},je=async ye=>{if(!e)throw new Error("Usuario no autenticado");const Ae=ev(Ft),se=ye.motherId.toUpperCase(),Be=jr(Ft,"animals",se);Ae.set(Be,{id:se,sex:"Hembra",status:"Activo",birthDate:"N/A",userId:e.uid},{merge:!0});const ze=jr(qr(Ft,"parturitions"));Ae.set(ze,{goatId:se,parturitionDate:ye.parturitionDate,sireId:ye.sireId,offspringCount:ye.offspring.length,parturitionType:ye.parturitionType,status:"activa",userId:e.uid}),ye.offspring.forEach(qe=>{const nt=qe.id.toUpperCase(),At=jr(Ft,"animals",nt),on={id:nt,sex:qe.sex,status:qe.sex==="Macho"?"Descartado":"Activo",birthDate:ye.parturitionDate,motherId:se,fatherId:ye.sireId,birthWeight:parseFloat(qe.birthWeight),userId:e.uid,createdAt:Date.now()};Ae.set(At,on,{merge:!0})}),await Ae.commit()},Ke=async ye=>{if(!e)throw new Error("Usuario no autenticado");return(await Eo(qr(Ft,"breedingGroups"),{...ye,userId:e.uid})).id},ft=async(ye,Ae)=>{if(!e)throw new Error("Usuario no autenticado");const se=jr(Ft,"breedingGroups",ye);await wg(se,Ae)},ct=async ye=>{if(!e)throw new Error("Usuario no autenticado");const Ae=jr(Ft,"breedingGroups",ye);await Lx(Ae)},Ce=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Eo(qr(Ft,"serviceRecords"),{...ye,userId:e.uid})},Ye=async ye=>{if(!e)throw new Error("Usuario no autenticado");const Ae=n.filter(ze=>ze.location===ye.lotName);if(Ae.length===0){console.warn(`No se encontraron animales en el lote "${ye.lotName}" para registrar el evento.`);return}const se=ev(Ft),Be=qr(Ft,"events");Ae.forEach(ze=>{const qe=jr(Be),nt={animalId:ze.id,date:ye.date,type:ye.type,details:ye.details,lotName:ye.lotName,notes:`Evento aplicado a todo el lote: ${ye.lotName}`};se.set(qe,{...nt,userId:e.uid})}),await se.commit()},oe=async ye=>{if(!e)throw new Error("Usuario no autenticado");await Eo(qr(Ft,"feedingPlans"),{...ye,userId:e.uid})};return f.jsx(b4.Provider,{value:{animals:n,fathers:i,weighings:o,parturitions:l,lots:u,origins:h,breedingGroups:b,serviceRecords:w,events:_,feedingPlans:k,bodyWeighings:C,isLoading:T,addAnimal:$,updateAnimal:L,startDryingProcess:Q,setLactationAsDry:ne,addLot:ce,deleteLot:le,addOrigin:Y,deleteOrigin:G,addBreedingGroup:Ke,updateBreedingGroup:ft,deleteBreedingGroup:ct,addServiceRecord:Ce,addFeedingPlan:oe,addBatchEvent:Ye,addWeighing:pe,addBodyWeighing:Se,addParturition:je,fetchData:D,addFather:xe},children:t})},x4=({isOpen:t,onClose:e})=>{const{addLot:n}=It(),[r,i]=V.useState(""),[a,o]=V.useState(""),s=async()=>{if(r.trim()===""){o("El nombre del lote no puede estar vacío.");return}try{await n(r),i(""),o(""),e()}catch(c){o("No se pudo guardar el lote."),console.error(c)}},l=()=>{i(""),o(""),e()};return f.jsx(Nt,{isOpen:t,onClose:l,title:"Crear Nuevo Lote",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la nueva ubicación o lote en tu finca."}),f.jsx("div",{children:f.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:"Ej: Cabritonas Servicio",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})}),a&&f.jsx("p",{className:"text-sm text-brand-red",children:a}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[f.jsx("button",{onClick:l,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:s,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})})},w4=V.createContext({});function Nc(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const OA=V.createContext(null),kA=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function VH(t=!0){const e=V.useContext(OA);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=V.useId();V.useEffect(()=>{t&&i(a)},[t]);const o=V.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const IA=typeof window<"u",jA=IA?V.useLayoutEffect:V.useEffect,bi=t=>t;let _4=bi;function NA(t){let e;return()=>(e===void 0&&(e=t()),e)}const uf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},$o=t=>t*1e3,Lo=t=>t/1e3,FH={useManualTiming:!1};function zH(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(c){a.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const g=d&&r?e:n;return u&&a.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(s),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const _g=["read","resolveKeyframes","update","preRender","render","postRender"],BH=40;function S4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=_g.reduce((x,_)=>(x[_]=zH(a),x),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,g=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,BH),1),i.timestamp=x,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},b=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:_g.reduce((x,_)=>{const A=o[_];return x[_]=(k,S=!1,C=!1)=>(n||b(),A.schedule(k,S,C)),x},{}),cancel:x=>{for(let _=0;_<_g.length;_++)o[_g[_]].cancel(x)},state:i,steps:o}}const{schedule:Jt,cancel:Xo,state:ar,steps:Fx}=S4(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0),E4=V.createContext({strict:!1}),sO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ff={};for(const t in sO)ff[t]={isEnabled:e=>sO[t].some(n=>!!e[n])};function UH(t){for(const e in t)ff[e]={...ff[e],...t[e]}}const WH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WH.has(t)}let A4=t=>!rv(t);function KH(t){t&&(A4=e=>e.startsWith("on")?!rv(e):t(e))}try{KH(require("@emotion/is-prop-valid").default)}catch{}function qH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(A4(i)||n===!0&&rv(i)||!e&&!rv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function HH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const eb=V.createContext({});function fp(t){return typeof t=="string"||Array.isArray(t)}function tb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const DA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],MA=["initial",...DA];function nb(t){return tb(t.animate)||MA.some(e=>fp(t[e]))}function T4(t){return!!(nb(t)||t.variants)}function GH(t,e){if(nb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fp(n)?n:void 0,animate:fp(r)?r:void 0}}return t.inherit!==!1?e:{}}function YH(t){const{initial:e,animate:n}=GH(t,V.useContext(eb));return V.useMemo(()=>({initial:e,animate:n}),[lO(e),lO(n)])}function lO(t){return Array.isArray(t)?t.join(" "):t}const XH=Symbol.for("motionComponentSymbol");function Au(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QH(t,e,n){return V.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Au(n)&&(n.current=r))},[e])}const RA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZH="framerAppearId",P4="data-"+RA(ZH),{schedule:$A}=S4(queueMicrotask,!1),C4=V.createContext({});function JH(t,e,n,r,i){var a,o;const{visualElement:s}=V.useContext(eb),l=V.useContext(E4),c=V.useContext(OA),u=V.useContext(kA).reducedMotion,d=V.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,g=V.useContext(C4);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&eG(d.current,n,i,g);const b=V.useRef(!1);V.useInsertionEffect(()=>{h&&b.current&&h.update(n,c)});const v=n[P4],w=V.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return jA(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),$A.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),V.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,v)}),w.current=!1))}),h}function eG(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:O4(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&Au(s),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function O4(t){if(t)return t.options.allowProjection!==!1?t.projection:O4(t.parent)}function tG({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,o;t&&UH(t);function s(c,u){let d;const h={...V.useContext(kA),...c,layoutId:nG(c)},{isStatic:g}=h,b=YH(c),v=r(c,g);if(!g&&IA){rG();const w=iG(h);d=w.MeasureLayout,b.visualElement=JH(i,v,h,e,w.ProjectionNode)}return f.jsxs(eb.Provider,{value:b,children:[d&&b.visualElement?f.jsx(d,{visualElement:b.visualElement,...h}):null,n(i,c,QH(v,b.visualElement,u),v,g,b.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const l=V.forwardRef(s);return l[XH]=i,l}function nG({layoutId:t}){const e=V.useContext(w4).id;return e&&t!==void 0?e+"-"+t:t}function rG(t,e){V.useContext(E4).strict}function iG(t){const{drag:e,layout:n}=ff;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const aG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LA(t){return typeof t!="string"||t.includes("-")?!1:!!(aG.indexOf(t)>-1||/[A-Z]/u.test(t))}function cO(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function VA(t,e,n,r){if(typeof e=="function"){const[i,a]=cO(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=cO(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const J1=t=>Array.isArray(t),oG=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sG=t=>J1(t)?t[t.length-1]||0:t,cr=t=>!!(t&&t.getVelocity);function ly(t){const e=cr(t)?t.get():t;return oG(e)?e.toValue():e}function lG({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const o={latestValues:cG(r,i,a,t),renderState:e()};return n&&(o.onMount=s=>n({props:r,current:s,...o}),o.onUpdate=s=>n(s)),o}const k4=t=>(e,n)=>{const r=V.useContext(eb),i=V.useContext(OA),a=()=>lG(t,e,r,i);return n?a():Nc(a)};function cG(t,e,n,r){const i={},a=r(t,{});for(const h in a)i[h]=ly(a[h]);let{initial:o,animate:s}=t;const l=nb(t),c=T4(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?s:o;if(d&&typeof d!="boolean"&&!tb(d)){const h=Array.isArray(d)?d:[d];for(let g=0;g<h.length;g++){const b=VA(t,h[g]);if(b){const{transitionEnd:v,transition:w,...x}=b;for(const _ in x){let A=x[_];if(Array.isArray(A)){const k=u?A.length-1:0;A=A[k]}A!==null&&(i[_]=A)}for(const _ in v)i[_]=v[_]}}}return i}const Xf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dc=new Set(Xf),I4=t=>e=>typeof e=="string"&&e.startsWith(t),j4=I4("--"),uG=I4("var(--"),FA=t=>uG(t)?fG.test(t.split("/*")[0].trim()):!1,fG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,N4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qo=(t,e,n)=>n>e?e:n<t?t:n,Qf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dp={...Qf,transform:t=>Qo(0,1,t)},Sg={...Qf,default:1},xm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bs=xm("deg"),ro=xm("%"),Ge=xm("px"),dG=xm("vh"),hG=xm("vw"),uO={...ro,parse:t=>ro.parse(t)/100,transform:t=>ro.transform(t*100)},pG={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge},mG={rotate:bs,rotateX:bs,rotateY:bs,rotateZ:bs,scale:Sg,scaleX:Sg,scaleY:Sg,scaleZ:Sg,skew:bs,skewX:bs,skewY:bs,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:dp,originX:uO,originY:uO,originZ:Ge},fO={...Qf,transform:Math.round},zA={...pG,...mG,zIndex:fO,size:Ge,fillOpacity:dp,strokeOpacity:dp,numOctaves:fO},gG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yG=Xf.length;function vG(t,e,n){let r="",i=!0;for(let a=0;a<yG;a++){const o=Xf[a],s=t[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const c=N4(s,zA[o]);if(!l){i=!1;const u=gG[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function BA(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,s=!1;for(const l in e){const c=e[l];if(Dc.has(l)){o=!0;continue}else if(j4(l)){i[l]=c;continue}else{const u=N4(c,zA[l]);l.startsWith("origin")?(s=!0,a[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=vG(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;r.transformOrigin=`${l} ${c} ${u}`}}const bG={offset:"stroke-dashoffset",array:"stroke-dasharray"},xG={offset:"strokeDashoffset",array:"strokeDasharray"};function wG(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?bG:xG;t[a.offset]=Ge.transform(-r);const o=Ge.transform(e),s=Ge.transform(n);t[a.array]=`${o} ${s}`}function dO(t,e,n){return typeof t=="string"?t:Ge.transform(e+n*t)}function _G(t,e,n){const r=dO(e,t.x,t.width),i=dO(n,t.y,t.height);return`${r} ${i}`}function UA(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},u,d){if(BA(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g,dimensions:b}=t;h.transform&&(b&&(g.transform=h.transform),delete h.transform),b&&(i!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=_G(b,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&wG(h,o,s,l,!1)}const WA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),D4=()=>({...WA(),attrs:{}}),KA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function M4(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const R4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $4(t,e,n,r){M4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(R4.has(i)?i:RA(i),e.attrs[i])}const iv={};function SG(t){Object.assign(iv,t)}function L4(t,{layout:e,layoutId:n}){return Dc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!iv[t]||t==="opacity")}function qA(t,e,n){var r;const{style:i}=t,a={};for(const o in i)(cr(i[o])||e.style&&cr(e.style[o])||L4(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function V4(t,e,n){const r=qA(t,e,n);for(const i in t)if(cr(t[i])||cr(e[i])){const a=Xf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function EG(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hO=["x","y","width","height","cx","cy","r"],AG={useVisualState:k4({scrapeMotionValuesFromProps:V4,createRenderState:D4,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const s in i)if(Dc.has(s)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let s=0;s<hO.length;s++){const l=hO[s];t[l]!==e[l]&&(o=!0)}o&&Jt.read(()=>{EG(n,r),Jt.render(()=>{UA(r,i,KA(n.tagName),t.transformTemplate),$4(n,r)})})}})},TG={useVisualState:k4({scrapeMotionValuesFromProps:qA,createRenderState:WA})};function F4(t,e,n){for(const r in e)!cr(e[r])&&!L4(r,n)&&(t[r]=e[r])}function PG({transformTemplate:t},e){return V.useMemo(()=>{const n=WA();return BA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function CG(t,e){const n=t.style||{},r={};return F4(r,n,t),Object.assign(r,PG(t,e)),r}function OG(t,e){const n={},r=CG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function kG(t,e,n,r){const i=V.useMemo(()=>{const a=D4();return UA(a,e,KA(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};F4(a,t.style,t),i.style={...a,...i.style}}return i}function IG(t=!1){return(n,r,i,{latestValues:a},o)=>{const l=(LA(n)?kG:OG)(r,a,o,n),c=qH(r,typeof n=="string",t),u=n!==V.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=V.useMemo(()=>cr(d)?d.get():d,[d]);return V.createElement(n,{...u,children:h})}}function jG(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...LA(r)?AG:TG,preloadedFeatures:t,useRender:IG(i),createVisualElement:e,Component:r};return tG(o)}}function z4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function rb(t,e,n){const r=t.getProps();return VA(r,e,n!==void 0?n:r.custom,t)}const NG=NA(()=>window.ScrollTimeline!==void 0);class DG{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(NG()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class MG extends DG{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function HA(t,e){return t?t[e]||t.default||t:void 0}const e_=2e4;function B4(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<e_;)e+=n,r=t.next(e);return e>=e_?1/0:e}function GA(t){return typeof t=="function"}function pO(t,e){t.timeline=e,t.onfinish=null}const YA=t=>Array.isArray(t)&&typeof t[0]=="number",RG={linearEasing:void 0};function $G(t,e){const n=NA(t);return()=>{var r;return(r=RG[e])!==null&&r!==void 0?r:n()}}const av=$G(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),U4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(uf(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function W4(t){return!!(typeof t=="function"&&av()||!t||typeof t=="string"&&(t in t_||av())||YA(t)||Array.isArray(t)&&t.every(W4))}const oh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,t_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oh([0,.65,.55,1]),circOut:oh([.55,0,1,.45]),backIn:oh([.31,.01,.66,-.59]),backOut:oh([.33,1.53,.69,.99])};function K4(t,e){if(t)return typeof t=="function"&&av()?U4(t,e):YA(t)?oh(t):Array.isArray(t)?t.map(n=>K4(n,e)||t_.easeOut):t_[t]}const ga={x:!1,y:!1};function q4(){return ga.x||ga.y}function LG(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function H4(t,e){const n=LG(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function mO(t){return e=>{e.pointerType==="touch"||q4()||t(e)}}function VG(t,e,n={}){const[r,i,a]=H4(t,n),o=mO(s=>{const{target:l}=s,c=e(s);if(typeof c!="function"||!l)return;const u=mO(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const G4=(t,e)=>e?t===e?!0:G4(t,e.parentElement):!1,XA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zG(t){return FG.has(t.tagName)||t.tabIndex!==-1}const sh=new WeakSet;function gO(t){return e=>{e.key==="Enter"&&t(e)}}function zx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gO(()=>{if(sh.has(n))return;zx(n,"down");const i=gO(()=>{zx(n,"up")}),a=()=>zx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yO(t){return XA(t)&&!q4()}function UG(t,e,n={}){const[r,i,a]=H4(t,n),o=s=>{const l=s.currentTarget;if(!yO(s)||sh.has(l))return;sh.add(l);const c=e(s),u=(g,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!yO(g)||!sh.has(l))&&(sh.delete(l),typeof c=="function"&&c(g,{success:b}))},d=g=>{u(g,n.useGlobalTarget||G4(l,g.target))},h=g=>{u(g,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(s=>{!zG(s)&&s.getAttribute("tabindex")===null&&(s.tabIndex=0),(n.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),s.addEventListener("focus",c=>BG(c,i),i)}),a}function WG(t){return t==="x"||t==="y"?ga[t]?null:(ga[t]=!0,()=>{ga[t]=!1}):ga.x||ga.y?null:(ga.x=ga.y=!0,()=>{ga.x=ga.y=!1})}const Y4=new Set(["width","height","top","left","right","bottom",...Xf]);let cy;function KG(){cy=void 0}const io={now:()=>(cy===void 0&&io.set(ar.isProcessing||FH.useManualTiming?ar.timestamp:performance.now()),cy),set:t=>{cy=t,queueMicrotask(KG)}};function QA(t,e){t.indexOf(e)===-1&&t.push(e)}function ZA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function qG([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[a]=t.splice(e,1);t.splice(i,0,a)}return t}class JA{constructor(){this.subscriptions=[]}add(e){return QA(this.subscriptions,e),()=>ZA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function X4(t,e){return e?t*(1e3/e):0}const vO=30,HG=t=>!isNaN(parseFloat(t)),Ah={current:void 0};class GG{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=io.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=io.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new JA);const r=this.events[e].add(n);return e==="change"?()=>{r(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ah.current&&Ah.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=io.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vO);return X4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function df(t,e){return new GG(t,e)}function YG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,df(n))}function eT(t,e){const n=rb(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const s=sG(a[o]);YG(t,o,s)}}function XG(t){return!!(cr(t)&&t.add)}function n_(t,e){const n=t.getValue("willChange");if(XG(n))return n.add(e)}function Q4(t){return t.props[P4]}const Z4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QG=1e-7,ZG=12;function JG(t,e,n,r,i){let a,o,s=0;do o=e+(n-e)/2,a=Z4(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>QG&&++s<ZG);return o}function wm(t,e,n,r){if(t===e&&n===r)return bi;const i=a=>JG(a,0,1,t,n);return a=>a===0||a===1?a:Z4(i(a),e,r)}const J4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eV=t=>e=>1-t(1-e),tV=wm(.33,1.53,.69,.99),tT=eV(tV),nV=J4(tT),rV=t=>(t*=2)<1?.5*tT(t):.5*(2-Math.pow(2,-10*(t-1))),nT=t=>1-Math.sin(Math.acos(t)),iV=eV(nT),aV=J4(nT),oV=t=>/^0[^.\s]+$/u.test(t);function eY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oV(t):!0}const Th=t=>Math.round(t*1e5)/1e5,rT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tY(t){return t==null}const nY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iT=(t,e)=>n=>!!(typeof n=="string"&&nY.test(n)&&n.startsWith(t)||e&&!tY(n)&&Object.prototype.hasOwnProperty.call(n,e)),sV=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,s]=r.match(rT);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},rY=t=>Qo(0,255,t),Bx={...Qf,transform:t=>Math.round(rY(t))},Xl={test:iT("rgb","red"),parse:sV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bx.transform(t)+", "+Bx.transform(e)+", "+Bx.transform(n)+", "+Th(dp.transform(r))+")"};function iY(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const r_={test:iT("#"),parse:iY,transform:Xl.transform},Tu={test:iT("hsl","hue"),parse:sV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ro.transform(Th(e))+", "+ro.transform(Th(n))+", "+Th(dp.transform(r))+")"},xr={test:t=>Xl.test(t)||r_.test(t)||Tu.test(t),parse:t=>Xl.test(t)?Xl.parse(t):Tu.test(t)?Tu.parse(t):r_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xl.transform(t):Tu.transform(t)},aY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(rT))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(aY))===null||n===void 0?void 0:n.length)||0)>0}const lV="number",cV="color",sY="var",lY="var(",bO="${}",cY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=e.replace(cY,l=>(xr.test(l)?(r.color.push(a),i.push(cV),n.push(xr.parse(l))):l.startsWith(lY)?(r.var.push(a),i.push(sY),n.push(l)):(r.number.push(a),i.push(lV),n.push(parseFloat(l))),++a,bO)).split(bO);return{values:n,split:s,indexes:r,types:i}}function uV(t){return hp(t).values}function fV(t){const{split:e,types:n}=hp(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const s=n[o];s===lV?a+=Th(i[o]):s===cV?a+=xr.transform(i[o]):a+=i[o]}return a}}const uY=t=>typeof t=="number"?0:t;function fY(t){const e=uV(t);return fV(t)(e.map(uY))}const nl={test:oY,parse:uV,createTransformer:fV,getAnimatableNone:fY},dY=new Set(["brightness","contrast","saturate","opacity"]);function hY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(rT)||[];if(!r)return t;const i=n.replace(r,"");let a=dY.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const pY=/\b([a-z-]*)\(.*?\)/gu,i_={...nl,getAnimatableNone:t=>{const e=t.match(pY);return e?e.map(hY).join(" "):t}},mY={...zA,color:xr,backgroundColor:xr,outlineColor:xr,fill:xr,stroke:xr,borderColor:xr,borderTopColor:xr,borderRightColor:xr,borderBottomColor:xr,borderLeftColor:xr,filter:i_,WebkitFilter:i_},aT=t=>mY[t];function dV(t,e){let n=aT(t);return n!==i_&&(n=nl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gY=new Set(["auto","none","0"]);function yY(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!gY.has(a)&&hp(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=dV(n,i)}const xO=t=>t===Qf||t===Ge,wO=(t,e)=>parseFloat(t.split(", ")[e]),_O=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return wO(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?wO(a[1],t):0}},vY=new Set(["x","y","z"]),bY=Xf.filter(t=>!vY.has(t));function xY(t){const e=[];return bY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const hf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_O(4,13),y:_O(5,14)};hf.translateX=hf.x;hf.translateY=hf.y;const lc=new Set;let a_=!1,o_=!1;function hV(){if(o_){const t=Array.from(lc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=xY(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var s;(s=r.getValue(a))===null||s===void 0||s.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}o_=!1,a_=!1,lc.forEach(t=>t.complete()),lc.clear()}function pV(){lc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(o_=!0)})}function wY(){pV(),hV()}class oT{constructor(e,n,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(lc.add(this),a_||(a_=!0,Jt.read(pV),Jt.resolveKeyframes(hV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),lc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,lc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_Y=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SY(t){const e=_Y.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function gV(t,e,n=1){const[r,i]=SY(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return mV(o)?parseFloat(o):o}return FA(i)?gV(i,e,n+1):i}const yV=t=>e=>e.test(t),EY={test:t=>t==="auto",parse:t=>t},vV=[Qf,Ge,ro,bs,hG,dG,EY],SO=t=>vV.find(yV(t));class bV extends oT{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),FA(c))){const u=gV(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Y4.has(r)||e.length!==2)return;const[i,a]=e,o=SO(i),s=SO(a);if(o!==s)if(xO(o)&&xO(s))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)eY(e[i])&&r.push(i);r.length&&yY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hf[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,s=i[o];i[o]=hf[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const EO=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nl.test(t)||t==="0")&&!t.startsWith("url("));function AY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function TY(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=EO(i,e),s=EO(a,e);return!o||!s?!1:AY(t)||(n==="spring"||GA(n))&&r}const PY=t=>t!==null;function ib(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(PY),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const CY=40;class xV{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=io.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wY(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=io.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:s,onUpdate:l,isGenerator:c}=this.options;if(!c&&!TY(e,r,i,a))if(o)this.options.duration=0;else{l&&l(ib(e,this.options,n)),s&&s(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ln=(t,e,n)=>t+(e-t)*n;function Ux(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=Ux(l,s,t+1/3),a=Ux(l,s,t),o=Ux(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function ov(t,e){return n=>n>0?e:t}const Wx=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kY=[r_,Xl,Tu],IY=t=>kY.find(e=>e.test(t));function AO(t){const e=IY(t);if(!e)return!1;let n=e.parse(t);return e===Tu&&(n=OY(n)),n}const TO=(t,e)=>{const n=AO(t),r=AO(e);if(!n||!r)return ov(t,e);const i={...n};return a=>(i.red=Wx(n.red,r.red,a),i.green=Wx(n.green,r.green,a),i.blue=Wx(n.blue,r.blue,a),i.alpha=ln(n.alpha,r.alpha,a),Xl.transform(i))},jY=(t,e)=>n=>e(t(n)),_m=(...t)=>t.reduce(jY),s_=new Set(["none","hidden"]);function NY(t,e){return s_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DY(t,e){return n=>ln(t,e,n)}function sT(t){return typeof t=="number"?DY:typeof t=="string"?FA(t)?ov:xr.test(t)?TO:$Y:Array.isArray(t)?wV:typeof t=="object"?xr.test(t)?TO:MY:ov}function wV(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>sT(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function MY(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=sT(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function RY(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],s=t.indexes[o][i[o]],l=(n=t.values[s])!==null&&n!==void 0?n:0;r[a]=l,i[o]++}return r}const $Y=(t,e)=>{const n=nl.createTransformer(e),r=hp(t),i=hp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?s_.has(t)&&!i.values.length||s_.has(e)&&!r.values.length?NY(t,e):_m(wV(RY(r,i),i.values),n):ov(t,e)};function _V(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ln(t,e,n):sT(t)(t,e)}const LY=5;function SV(t,e,n){const r=Math.max(e-LY,0);return X4(n-t(r),e-r)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kx=.001;function VY({duration:t=yn.duration,bounce:e=yn.bounce,velocity:n=yn.velocity,mass:r=yn.mass}){let i,a,o=1-e;o=Qo(yn.minDamping,yn.maxDamping,o),t=Qo(yn.minDuration,yn.maxDuration,Lo(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,g=l_(c,o),b=Math.exp(-d);return Kx-h/g*b},a=c=>{const d=c*o*t,h=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,b=Math.exp(-d),v=l_(Math.pow(c,2),o);return(-i(c)+Kx>0?-1:1)*((h-g)*b)/v}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Kx+u*d},a=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const s=5/t,l=zY(i,a,s);if(t=$o(t),isNaN(l))return{stiffness:yn.stiffness,damping:yn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const FY=12;function zY(t,e,n){let r=n;for(let i=1;i<FY;i++)r=r-t(r)/e(r);return r}function l_(t,e){return t*Math.sqrt(1-e*e)}const BY=["duration","bounce"],UY=["stiffness","damping","mass"];function PO(t,e){return e.some(n=>t[n]!==void 0)}function WY(t){let e={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...t};if(!PO(t,UY)&&PO(t,BY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Qo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yn.mass,stiffness:i,damping:a}}else{const n=VY(t);e={...e,...n,mass:yn.mass},e.isResolvedFromDuration=!0}return e}function EV(t=yn.visualDuration,e=yn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:g}=WY({...n,velocity:-Lo(n.velocity||0)}),b=h||0,v=c/(2*Math.sqrt(l*u)),w=o-a,x=Lo(Math.sqrt(l/u)),_=Math.abs(w)<5;r||(r=_?yn.restSpeed.granular:yn.restSpeed.default),i||(i=_?yn.restDelta.granular:yn.restDelta.default);let A;if(v<1){const S=l_(x,v);A=C=>{const E=Math.exp(-v*x*C);return o-E*((b+v*x*w)/S*Math.sin(S*C)+w*Math.cos(S*C))}}else if(v===1)A=S=>o-Math.exp(-x*S)*(w+(b+x*w)*S);else{const S=x*Math.sqrt(v*v-1);A=C=>{const E=Math.exp(-v*x*C),T=Math.min(S*C,300);return o-E*((b+v*x*w)*Math.sinh(T)+S*w*Math.cosh(T))/S}}const k={calculatedDuration:g&&d||null,next:S=>{const C=A(S);if(g)s.done=S>=d;else{let E=0;v<1&&(E=S===0?$o(b):SV(A,S,C));const T=Math.abs(E)<=r,j=Math.abs(o-C)<=i;s.done=T&&j}return s.value=s.done?o:C,s},toString:()=>{const S=Math.min(B4(k),e_),C=U4(E=>k.next(S*E).value,S,30);return S+"ms "+C}};return k}function CO({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},g=T=>s!==void 0&&T<s||l!==void 0&&T>l,b=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let v=n*e;const w=d+v,x=o===void 0?w:o(w);x!==w&&(v=x-d);const _=T=>-v*Math.exp(-T/r),A=T=>x+_(T),k=T=>{const j=_(T),D=A(T);h.done=Math.abs(j)<=c,h.value=h.done?x:D};let S,C;const E=T=>{g(h.value)&&(S=T,C=EV({keyframes:[h.value,b(h.value)],velocity:SV(A,T,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:T=>{let j=!1;return!C&&S===void 0&&(j=!0,k(T),E(T)),S!==void 0&&T>=S?C.next(T-S):(!j&&k(T),h)}}}const KY=wm(.42,0,1,1),qY=wm(0,0,.58,1),AV=wm(.42,0,.58,1),HY=t=>Array.isArray(t)&&typeof t[0]!="number",GY={linear:bi,easeIn:KY,easeInOut:AV,easeOut:qY,circIn:nT,circInOut:aV,circOut:iV,backIn:tT,backInOut:nV,backOut:tV,anticipate:rV},OO=t=>{if(YA(t)){_4(t.length===4);const[e,n,r,i]=t;return wm(e,n,r,i)}else if(typeof t=="string")return GY[t];return t};function YY(t,e,n){const r=[],i=n||_V,a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||bi:e;s=_m(l,s)}r.push(s)}return r}function TV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(_4(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=YY(e,r,i),l=s.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=uf(t[d],t[d+1],u);return s[d](h)};return n?u=>c(Qo(t[0],t[a-1],u)):c}function XY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=uf(0,e,r);t.push(ln(n,1,i))}}function QY(t){const e=[0];return XY(e,t.length-1),e}function ZY(t,e){return t.map(n=>n*e)}function JY(t,e){return t.map(()=>e||AV).splice(0,t.length-1)}function sv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=HY(r)?r.map(OO):OO(r),a={done:!1,value:e[0]},o=ZY(n&&n.length===e.length?n:QY(e),t),s=TV(o,e,{ease:Array.isArray(i)?i:JY(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}const eX=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Jt.update(e,!0),stop:()=>Xo(e),now:()=>ar.isProcessing?ar.timestamp:io.now()}},tX={decay:CO,inertia:CO,tween:sv,keyframes:sv,spring:EV},nX=t=>t/100;class lT extends xV{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||oT,s=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(a,s,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,s=GA(n)?n:tX[n]||sv;let l,c;s!==sv&&typeof e[0]!="number"&&(l=_m(nX,_V(e[0],e[1])),e=[0,100]);const u=s({...this.options,keyframes:e});a==="mirror"&&(c=s({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=B4(u));const{calculatedDuration:d}=u,h=d+i,g=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:g,repeatType:b,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),_=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let A=this.currentTime,k=a;if(g){const T=Math.min(this.currentTime,u)/d;let j=Math.floor(T),D=T%1;!D&&T>=1&&(D=1),D===1&&j--,j=Math.min(j,g+1),!!(j%2)&&(b==="reverse"?(D=1-D,v&&(D-=v/d)):b==="mirror"&&(k=o)),A=Qo(0,1,D)*d}const S=_?{done:!1,value:l[0]}:k.next(A);s&&(S.value=s(S.value));let{done:C}=S;!_&&c!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&i!==void 0&&(S.value=ib(l,this.options,i)),w&&w(S.value),E&&this.finish(),S}get duration(){const{resolved:e}=this;return e?Lo(e.calculatedDuration):0}get time(){return Lo(this.currentTime)}set time(e){e=$o(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Lo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=eX,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const rX=new Set(["opacity","clipPath","filter","transform"]);function iX(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=K4(s,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const aX=NA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lv=10,oX=2e4;function sX(t){return GA(t.type)||t.type==="spring"||!W4(t.ease)}function lX(t,e){const n=new lT({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<oX;)r=n.sample(a),i.push(r.value),a+=lv;return{times:void 0,keyframes:i,duration:a-lv,ease:"linear"}}const PV={anticipate:rV,backInOut:nV,circInOut:aV};function cX(t){return t in PV}class kO extends xV{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new bV(a,(o,s)=>this.onKeyframesResolved(o,s),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:o,motionValue:s,name:l,startTime:c}=this.options;if(!s.owner||!s.owner.current)return!1;if(typeof a=="string"&&av()&&cX(a)&&(a=PV[a]),sX(this.options)){const{onComplete:d,onUpdate:h,motionValue:g,element:b,...v}=this.options,w=lX(e,v);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,i=w.times,a=w.ease,o="keyframes"}const u=iX(s.owner.current,l,e,{...this.options,duration:r,times:i,ease:a});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(pO(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;s.set(ib(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Lo(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Lo(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=$o(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return bi;const{animation:r}=n;pO(r,e)}return bi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:o,times:s}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...g}=this.options,b=new lT({...g,keyframes:r,duration:i,type:a,ease:o,times:s,isGenerator:!0}),v=$o(this.time);c.setWithVelocity(b.sample(v-lv).value,b.sample(v).value,lv)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:s}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return aX()&&r&&rX.has(r)&&!l&&!c&&!i&&a!=="mirror"&&o!==0&&s!=="inertia"}}const uX={type:"spring",stiffness:500,damping:25,restSpeed:10},fX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dX={type:"keyframes",duration:.8},hX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pX=(t,{keyframes:e})=>e.length>2?dX:Dc.has(t)?t.startsWith("scale")?fX(e[1]):uX:hX;function mX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const cT=(t,e,n,r={},i,a)=>o=>{const s=HA(r,t)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-$o(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:h=>{e.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:a?void 0:i};mX(s)||(u={...u,...pX(t,u)}),u.duration&&(u.duration=$o(u.duration)),u.repeatDelay&&(u.repeatDelay=$o(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!a&&e.get()!==void 0){const h=ib(u.keyframes,s);if(h!==void 0)return Jt.update(()=>{u.onUpdate(h),u.onComplete()}),new MG([])}return!a&&kO.supports(u)?new kO(u):new lT(u)};function gX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function CV(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:s,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,(a=t.latestValues[d])!==null&&a!==void 0?a:null),g=l[d];if(g===void 0||u&&gX(u,d))continue;const b={delay:n,...HA(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const x=Q4(t);if(x){const _=window.MotionHandoffAnimation(x,d,Jt);_!==null&&(b.startTime=_,v=!0)}}n_(t,d),h.start(cT(d,h,g,t.shouldReduceMotion&&Y4.has(d)?{type:!1}:b,t,v));const w=h.animation;w&&c.push(w)}return s&&Promise.all(c).then(()=>{Jt.update(()=>{s&&eT(t,s)})}),c}function c_(t,e,n={}){var r;const i=rb(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(CV(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=a;return yX(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[o,s]:[s,o];return c().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function yX(t,e,n=0,r=0,i=1,a){const o=[],s=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(t.variantChildren).sort(vX).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(c_(c,e,{...a,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function vX(t,e){return t.sortNodePosition(e)}function OV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>c_(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=c_(t,e,n);else{const i=typeof e=="function"?rb(t,e,n.custom):e;r=Promise.all(CV(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const bX=MA.length;function kV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?kV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bX;n++){const r=MA[n],i=t.props[r];(fp(i)||i===!1)&&(e[r]=i)}return e}const xX=[...DA].reverse(),wX=DA.length;function _X(t){return e=>Promise.all(e.map(({animation:n,options:r})=>OV(t,n,r)))}function SX(t){let e=_X(t),n=IO(),r=!0;const i=l=>(c,u)=>{var d;const h=rb(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:g,transitionEnd:b,...v}=h;c={...c,...v,...b}}return c};function a(l){e=l(t)}function o(l){const{props:c}=t,u=kV(t.parent)||{},d=[],h=new Set;let g={},b=1/0;for(let w=0;w<wX;w++){const x=xX[w],_=n[x],A=c[x]!==void 0?c[x]:u[x],k=fp(A),S=x===l?_.isActive:null;S===!1&&(b=w);let C=A===u[x]&&A!==c[x]&&k;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...g},!_.isActive&&S===null||!A&&!_.prevProp||tb(A)||typeof A=="boolean")continue;const E=EX(_.prevProp,A);let T=E||x===l&&_.isActive&&!C&&k||w>b&&k,j=!1;const D=Array.isArray(A)?A:[A];let N=D.reduce(i(x),{});S===!1&&(N={});const{prevResolvedValues:$={}}=_,L={...$,...N},Q=le=>{T=!0,h.has(le)&&(j=!0,h.delete(le)),_.needsAnimating[le]=!0;const Y=t.getValue(le);Y&&(Y.liveStyle=!1)};for(const le in L){const Y=N[le],G=$[le];if(g.hasOwnProperty(le))continue;let pe=!1;J1(Y)&&J1(G)?pe=!z4(Y,G):pe=Y!==G,pe?Y!=null?Q(le):h.add(le):Y!==void 0&&h.has(le)?Q(le):_.protectedKeys[le]=!0}_.prevProp=A,_.prevResolvedValues=N,_.isActive&&(g={...g,...N}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(C&&E)||j)&&d.push(...D.map(le=>({animation:le,options:{type:x}})))}if(h.size){const w={};h.forEach(x=>{const _=t.getBaseTarget(x),A=t.getValue(x);A&&(A.liveStyle=!0),w[x]=_??null}),d.push({animation:w})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function s(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=IO(),r=!0}}}function EX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!z4(e,t):!1}function jl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IO(){return{animate:jl(!0),whileInView:jl(),whileHover:jl(),whileTap:jl(),whileDrag:jl(),whileFocus:jl(),exit:jl()}}class ul{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AX extends ul{constructor(e){super(e),e.animationState||(e.animationState=SX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let TX=0;class PX extends ul{constructor(){super(...arguments),this.id=TX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const CX={animation:{Feature:AX},exit:{Feature:PX}};function pp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Sm(t){return{point:{x:t.pageX,y:t.pageY}}}const OX=t=>e=>XA(e)&&t(e,Sm(e));function Ph(t,e,n,r){return pp(t,e,OX(n),r)}const jO=(t,e)=>Math.abs(t-e);function kX(t,e){const n=jO(t.x,e.x),r=jO(t.y,e.y);return Math.sqrt(n**2+r**2)}class IV{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Hx(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=kX(d.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:b}=d,{timestamp:v}=ar;this.history.push({...b,timestamp:v});const{onStart:w,onMove:x}=this.handlers;h||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=qx(h,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Hx(d.type==="pointercancel"?this.lastMoveEventInfo:qx(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,w),b&&b(d,w)},!XA(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Sm(e),s=qx(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=ar;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Hx(s,this.history)),this.removeListeners=_m(Ph(this.contextWindow,"pointermove",this.handlePointerMove),Ph(this.contextWindow,"pointerup",this.handlePointerUp),Ph(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xo(this.updatePoint)}}function qx(t,e){return e?{point:e(t.point)}:t}function NO(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hx({point:t},e){return{point:t,delta:NO(t,jV(e)),offset:NO(t,IX(e)),velocity:jX(e,.1)}}function IX(t){return t[0]}function jV(t){return t[t.length-1]}function jX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=jV(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$o(e)));)n--;if(!r)return{x:0,y:0};const a=Lo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const NV=1e-4,NX=1-NV,DX=1+NV,DV=.01,MX=0-DV,RX=0+DV;function Si(t){return t.max-t.min}function $X(t,e,n){return Math.abs(t-e)<=n}function DO(t,e,n,r=.5){t.origin=r,t.originPoint=ln(e.min,e.max,t.origin),t.scale=Si(n)/Si(e),t.translate=ln(n.min,n.max,t.origin)-t.originPoint,(t.scale>=NX&&t.scale<=DX||isNaN(t.scale))&&(t.scale=1),(t.translate>=MX&&t.translate<=RX||isNaN(t.translate))&&(t.translate=0)}function Ch(t,e,n,r){DO(t.x,e.x,n.x,r?r.originX:void 0),DO(t.y,e.y,n.y,r?r.originY:void 0)}function MO(t,e,n){t.min=n.min+e.min,t.max=t.min+Si(e)}function LX(t,e,n){MO(t.x,e.x,n.x),MO(t.y,e.y,n.y)}function RO(t,e,n){t.min=e.min-n.min,t.max=t.min+Si(e)}function Oh(t,e,n){RO(t.x,e.x,n.x),RO(t.y,e.y,n.y)}function VX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ln(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ln(n,t,r.max):Math.min(t,n)),t}function $O(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FX(t,{top:e,left:n,bottom:r,right:i}){return{x:$O(t.x,n,i),y:$O(t.y,e,r)}}function LO(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zX(t,e){return{x:LO(t.x,e.x),y:LO(t.y,e.y)}}function BX(t,e){let n=.5;const r=Si(t),i=Si(e);return i>r?n=uf(e.min,e.max-r,t.min):r>i&&(n=uf(t.min,t.max-i,e.min)),Qo(0,1,n)}function UX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const u_=.35;function WX(t=u_){return t===!1?t=0:t===!0&&(t=u_),{x:VO(t,"left","right"),y:VO(t,"top","bottom")}}function VO(t,e,n){return{min:FO(t,e),max:FO(t,n)}}function FO(t,e){return typeof t=="number"?t:t[e]||0}const zO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pu=()=>({x:zO(),y:zO()}),BO=()=>({min:0,max:0}),En=()=>({x:BO(),y:BO()});function Bi(t){return[t("x"),t("y")]}function MV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function KX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gx(t){return t===void 0||t===1}function f_({scale:t,scaleX:e,scaleY:n}){return!Gx(t)||!Gx(e)||!Gx(n)}function Vl(t){return f_(t)||RV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RV(t){return UO(t.x)||UO(t.y)}function UO(t){return t&&t!=="0%"}function cv(t,e,n){const r=t-n,i=e*r;return n+i}function WO(t,e,n,r,i){return i!==void 0&&(t=cv(t,i,r)),cv(t,n,r)+e}function d_(t,e=0,n=1,r,i){t.min=WO(t.min,e,n,r,i),t.max=WO(t.max,e,n,r,i)}function $V(t,{x:e,y:n}){d_(t.x,e.translate,e.scale,e.originPoint),d_(t.y,n.translate,n.scale,n.originPoint)}const KO=.999999999999,qO=1.0000000000001;function HX(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ou(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$V(t,o)),r&&Vl(a.latestValues)&&Ou(t,a.latestValues))}e.x<qO&&e.x>KO&&(e.x=1),e.y<qO&&e.y>KO&&(e.y=1)}function Cu(t,e){t.min=t.min+e,t.max=t.max+e}function HO(t,e,n,r,i=.5){const a=ln(t.min,t.max,i);d_(t,e,n,a,r)}function Ou(t,e){HO(t.x,e.x,e.scaleX,e.scale,e.originX),HO(t.y,e.y,e.scaleY,e.scale,e.originY)}function LV(t,e){return MV(qX(t.getBoundingClientRect(),e))}function GX(t,e,n){const r=LV(t,n),{scroll:i}=e;return i&&(Cu(r.x,i.offset.x),Cu(r.y,i.offset.y)),r}const VV=({current:t})=>t?t.ownerDocument.defaultView:null,YX=new WeakMap;class XX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=En(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sm(u).point)},a=(u,d)=>{const{drag:h,dragPropagation:g,onDragStart:b}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WG(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bi(w=>{let x=this.getAxisMotionValue(w).get()||0;if(ro.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const A=_.layout.layoutBox[w];A&&(x=Si(A)*(parseFloat(x)/100))}}this.originPoint[w]=x}),b&&Jt.postRender(()=>b(u,d)),n_(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:b,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=d;if(g&&this.currentDirection===null){this.currentDirection=QX(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),v&&v(u,d)},s=(u,d)=>this.stop(u,d),l=()=>Bi(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new IV(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:VV(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Jt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Eg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=VX(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Au(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=FX(i.layoutBox,n):this.constraints=!1,this.elastic=WX(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=UX(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Au(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=GX(r,i.root,this.visualElement.getTransformPagePoint());let o=zX(i.layout.layoutBox,a);if(n){const s=n(KX(o));this.hasMutatedConstraints=!!s,s&&(o=MV(s))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Bi(u=>{if(!Eg(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(u,b)});return Promise.all(c).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return n_(this.visualElement,e),r.start(cT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bi(n=>{const{drag:r}=this.getProps();if(!Eg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];a.set(e[n]-ln(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Au(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bi(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=BX({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bi(o=>{if(!Eg(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(ln(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;YX.set(this.visualElement,this);const e=this.visualElement.current,n=Ph(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Au(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Jt.read(r);const o=pp(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Bi(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=u_,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function Eg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZX extends ul{constructor(e){super(e),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new XX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const GO=t=>(e,n)=>{t&&Jt.postRender(()=>t(e,n))};class JX extends ul{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(e){this.session=new IV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:GO(e),onStart:GO(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Jt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ph(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YO(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $d={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ge.test(t))t=parseFloat(t);else return t;const n=YO(t,e.target.x),r=YO(t,e.target.y);return`${n}% ${r}%`}},eQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=nl.parse(t);if(i.length>5)return r;const a=nl.createTransformer(t),o=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const c=ln(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}};class tQ extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;SG(nQ),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),uy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Jt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$A.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FV(t){const[e,n]=VH(),r=V.useContext(w4);return f.jsx(tQ,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(C4),isPresent:e,safeToRemove:n})}const nQ={borderRadius:{...$d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$d,borderTopRightRadius:$d,borderBottomLeftRadius:$d,borderBottomRightRadius:$d,boxShadow:eQ};function rQ(t,e,n){const r=cr(t)?t:df(t);return r.start(cT("",r,e,n)),r.animation}function iQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const aQ=(t,e)=>t.depth-e.depth;class oQ{constructor(){this.children=[],this.isDirty=!1}add(e){QA(this.children,e),this.isDirty=!0}remove(e){ZA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aQ),this.isDirty=!1,this.children.forEach(e)}}function sQ(t,e){const n=io.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Xo(r),t(a-e))};return Jt.read(r,!0),()=>Xo(r)}const zV=["TopLeft","TopRight","BottomLeft","BottomRight"],lQ=zV.length,XO=t=>typeof t=="string"?parseFloat(t):t,QO=t=>typeof t=="number"||Ge.test(t);function cQ(t,e,n,r,i,a){i?(t.opacity=ln(0,n.opacity!==void 0?n.opacity:1,uQ(r)),t.opacityExit=ln(e.opacity!==void 0?e.opacity:1,0,fQ(r))):a&&(t.opacity=ln(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<lQ;o++){const s=`border${zV[o]}Radius`;let l=ZO(e,s),c=ZO(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||QO(l)===QO(c)?(t[s]=Math.max(ln(XO(l),XO(c),r),0),(ro.test(c)||ro.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||n.rotate)&&(t.rotate=ln(e.rotate||0,n.rotate||0,r))}function ZO(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uQ=BV(0,.5,iV),fQ=BV(.5,.95,bi);function BV(t,e,n){return r=>r<t?0:r>e?1:n(uf(t,e,r))}function JO(t,e){t.min=e.min,t.max=e.max}function Li(t,e){JO(t.x,e.x),JO(t.y,e.y)}function ek(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tk(t,e,n,r,i){return t-=e,t=cv(t,1/n,r),i!==void 0&&(t=cv(t,1/i,r)),t}function dQ(t,e=0,n=1,r=.5,i,a=t,o=t){if(ro.test(e)&&(e=parseFloat(e),e=ln(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=ln(a.min,a.max,r);t===a&&(s-=e),t.min=tk(t.min,e,n,s,i),t.max=tk(t.max,e,n,s,i)}function nk(t,e,[n,r,i],a,o){dQ(t,e[n],e[r],e[i],e.scale,a,o)}const hQ=["x","scaleX","originX"],pQ=["y","scaleY","originY"];function rk(t,e,n,r){nk(t.x,e,hQ,n?n.x:void 0,r?r.x:void 0),nk(t.y,e,pQ,n?n.y:void 0,r?r.y:void 0)}function ik(t){return t.translate===0&&t.scale===1}function UV(t){return ik(t.x)&&ik(t.y)}function ak(t,e){return t.min===e.min&&t.max===e.max}function mQ(t,e){return ak(t.x,e.x)&&ak(t.y,e.y)}function ok(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WV(t,e){return ok(t.x,e.x)&&ok(t.y,e.y)}function sk(t){return Si(t.x)/Si(t.y)}function lk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gQ{constructor(){this.members=[]}add(e){QA(this.members,e),e.scheduleRender()}remove(e){if(ZA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yQ(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:g,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),g&&(r+=`skewX(${g}deg) `),b&&(r+=`skewY(${b}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const Fl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lh=typeof window<"u"&&window.MotionDebug!==void 0,Yx=["","X","Y","Z"],vQ={visibility:"hidden"},ck=1e3;let bQ=0;function Xx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function KV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Q4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Jt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&KV(r)}function qV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=bQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lh&&(Fl.totalNodes=Fl.resolvedTargetDeltas=Fl.recalculatedProjection=0),this.nodes.forEach(_Q),this.nodes.forEach(PQ),this.nodes.forEach(CQ),this.nodes.forEach(SQ),lh&&window.MotionDebug.record(Fl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oQ)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new JA),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iQ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=sQ(h,250),uy.hasAnimatedSinceResize&&(uy.hasAnimatedSinceResize=!1,this.nodes.forEach(fk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||NQ,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=u.getProps(),_=!this.targetLayout||!WV(this.targetLayout,b)||g,A=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,A);const k={...HA(v,"layout"),onPlay:w,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||fk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uk);return}this.isUpdating||this.nodes.forEach(AQ),this.isUpdating=!1,this.nodes.forEach(TQ),this.nodes.forEach(xQ),this.nodes.forEach(wQ),this.clearAllSnapshots();const s=io.now();ar.delta=Qo(0,1e3/60,s-ar.timestamp),ar.timestamp=s,ar.isProcessing=!0,Fx.update.process(ar),Fx.preRender.process(ar),Fx.render.process(ar),ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$A.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EQ),this.sharedNodes.forEach(kQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=En(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!UV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(s||Vl(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),DQ(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:s}=this.options;if(!s)return En();const l=s.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(MQ))){const{scroll:u}=this.root;u&&(Cu(l.x,u.offset.x),Cu(l.y,u.offset.y))}return l}removeElementScroll(o){var s;const l=En();if(Li(l,o),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Li(l,o),Cu(l.x,d.offset.x),Cu(l.y,d.offset.y))}return l}applyTransform(o,s=!1){const l=En();Li(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ou(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Vl(u.latestValues)&&Ou(l,u.latestValues)}return Vl(this.latestValues)&&Ou(l,this.latestValues),l}removeTransform(o){const s=En();Li(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Vl(c.latestValues))continue;f_(c.latestValues)&&c.updateSnapshot();const u=En(),d=c.measurePageBox();Li(u,d),rk(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Vl(this.latestValues)&&rk(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=ar.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),Oh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=En(),this.targetWithTransforms=En()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),$V(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),Oh(this.relativeTargetOrigin,this.target,g.target),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lh&&Fl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||f_(this.parent.latestValues)||RV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ar.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Li(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;HX(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=En());const{target:b}=s;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ek(this.prevProjectionDelta.x,this.projectionDelta.x),ek(this.prevProjectionDelta.y,this.projectionDelta.y)),Ch(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!lk(this.projectionDelta.x,this.prevProjectionDelta.x)||!lk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),lh&&Fl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pu(),this.projectionDelta=Pu(),this.projectionDeltaWithTransform=Pu()}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Pu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=En(),g=l?l.source:void 0,b=this.layout?this.layout.source:void 0,v=g!==b,w=this.getStack(),x=!w||w.members.length<=1,_=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(jQ));this.animationProgress=0;let A;this.mixTargetDelta=k=>{const S=k/1e3;dk(d.x,o.x,S),dk(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IQ(this.relativeTarget,this.relativeTargetOrigin,h,S),A&&mQ(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=En()),Li(A,this.relativeTarget)),v&&(this.animationValues=u,cQ(u,c,this.latestValues,S,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{uy.hasAnimatedSinceResize=!0,this.currentAnimation=rQ(0,ck,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ck),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:u}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&HV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||En();const d=Si(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Si(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Li(s,l),Ou(s,u),Ch(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gQ),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&Xx("z",o,c,this.animationValues);for(let u=0;u<Yx.length;u++)Xx(`rotate${Yx[u]}`,o,c,this.animationValues),Xx(`skew${Yx[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vQ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ly(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ly(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Vl(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=yQ(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in iv){if(h[v]===void 0)continue;const{correct:w,applyTo:x}=iv[v],_=c.transform==="none"?h[v]:w(h[v],d);if(x){const A=x.length;for(let k=0;k<A;k++)c[x[k]]=_}else c[v]=_}return this.options.layoutId&&(c.pointerEvents=d===this?ly(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(uk),this.root.sharedNodes.clear()}}}function xQ(t){t.updateLayout()}function wQ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?Bi(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],g=Si(h);h.min=r[d].min,h.max=h.min+g}):HV(a,n.layoutBox,r)&&Bi(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],g=Si(r[d]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const s=Pu();Ch(s,r,n.layoutBox);const l=Pu();o?Ch(l,t.applyTransform(i,!0),n.measuredBox):Ch(l,r,n.layoutBox);const c=!UV(s);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:g}=d;if(h&&g){const b=En();Oh(b,n.layoutBox,h.layoutBox);const v=En();Oh(v,r,g.layoutBox),WV(b,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=b,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _Q(t){lh&&Fl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function EQ(t){t.clearSnapshot()}function uk(t){t.clearMeasurements()}function AQ(t){t.isLayoutDirty=!1}function TQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function PQ(t){t.resolveTargetDelta()}function CQ(t){t.calcProjection()}function OQ(t){t.resetSkewAndRotation()}function kQ(t){t.removeLeadSnapshot()}function dk(t,e,n){t.translate=ln(e.translate,0,n),t.scale=ln(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hk(t,e,n,r){t.min=ln(e.min,n.min,r),t.max=ln(e.max,n.max,r)}function IQ(t,e,n,r){hk(t.x,e.x,n.x,r),hk(t.y,e.y,n.y,r)}function jQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NQ={duration:.45,ease:[.4,0,.1,1]},pk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mk=pk("applewebkit/")&&!pk("chrome/")?Math.round:bi;function gk(t){t.min=mk(t.min),t.max=mk(t.max)}function DQ(t){gk(t.x),gk(t.y)}function HV(t,e,n){return t==="position"||t==="preserve-aspect"&&!$X(sk(e),sk(n),.2)}function MQ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const RQ=qV({attachResizeListener:(t,e)=>pp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qx={current:void 0},GV=qV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qx.current){const t=new RQ({});t.mount(window),t.setOptions({layoutScroll:!0}),Qx.current=t}return Qx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$Q={pan:{Feature:JX},drag:{Feature:ZX,ProjectionNode:GV,MeasureLayout:FV}};function yk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Jt.postRender(()=>a(e,Sm(e)))}class LQ extends ul{mount(){const{current:e}=this.node;e&&(this.unmount=VG(e,n=>(yk(this.node,n,"Start"),r=>yk(this.node,r,"End"))))}unmount(){}}class VQ extends ul{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_m(pp(this.node.current,"focus",()=>this.onFocus()),pp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vk(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Jt.postRender(()=>a(e,Sm(e)))}class FQ extends ul{mount(){const{current:e}=this.node;e&&(this.unmount=UG(e,n=>(vk(this.node,n,"Start"),(r,{success:i})=>vk(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const h_=new WeakMap,Zx=new WeakMap,zQ=t=>{const e=h_.get(t.target);e&&e(t)},BQ=t=>{t.forEach(zQ)};function UQ({root:t,...e}){const n=t||document;Zx.has(n)||Zx.set(n,{});const r=Zx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(BQ,{root:t,...e})),r[i]}function WQ(t,e,n){const r=UQ(e);return h_.set(t,n),r.observe(t),()=>{h_.delete(t),r.unobserve(t)}}const KQ={some:0,all:1};class qQ extends ul{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:KQ[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return WQ(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HQ(e,n))&&this.startObserver()}unmount(){}}function HQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GQ={inView:{Feature:qQ},tap:{Feature:FQ},focus:{Feature:VQ},hover:{Feature:LQ}},YQ={layout:{ProjectionNode:GV,MeasureLayout:FV}},p_={current:null},YV={current:!1};function XQ(){if(YV.current=!0,!!IA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>p_.current=t.matches;t.addListener(e),e()}else p_.current=!1}const QQ=[...vV,xr,nl],ZQ=t=>QQ.find(yV(t)),bk=new WeakMap;function JQ(t,e,n){for(const r in e){const i=e[r],a=n[r];if(cr(i))t.addValue(r,i);else if(cr(a))t.addValue(r,df(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,df(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=io.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Jt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=nb(n),this.isVariantNode=T4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in h){const b=h[g];l[g]!==void 0&&cr(b)&&b.set(l[g],!1)}}mount(e){this.current=e,bk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),YV.current||XQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:p_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bk.delete(this.current),this.projection&&this.projection.unmount(),Xo(this.notifyUpdate),Xo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Dc.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ff){const n=ff[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xk.length;r++){const i=xk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=JQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=df(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(mV(i)||oV(i))?i=parseFloat(i):!ZQ(i)&&nl.test(n)&&(i=dV(e,n)),this.setBaseTarget(e,cr(i)?i.get():i)),cr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=VA(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new JA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class XV extends eZ{constructor(){super(...arguments),this.KeyframeResolver=bV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function tZ(t){return window.getComputedStyle(t)}class nZ extends XV{constructor(){super(...arguments),this.type="html",this.renderInstance=M4}readValueFromInstance(e,n){if(Dc.has(n)){const r=aT(n);return r&&r.default||0}else{const r=tZ(e),i=(j4(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return LV(e,n)}build(e,n,r){BA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qA(e,n,r)}}class rZ extends XV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=En}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dc.has(n)){const r=aT(n);return r&&r.default||0}return n=R4.has(n)?n:RA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return V4(e,n,r)}build(e,n,r){UA(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){$4(e,n,r,i)}mount(e){this.isSVGTag=KA(e.tagName),super.mount(e)}}const iZ=(t,e)=>LA(t)?new rZ(e):new nZ(e,{allowProjection:t!==V.Fragment}),aZ=jG({...CX,...GQ,...$Q,...YQ},iZ),ab=HH(aZ);function QV(t){const e=Nc(()=>df(t)),{isStatic:n}=V.useContext(kA);if(n){const[,r]=V.useState(t);V.useEffect(()=>e.on("change",r),[])}return e}function ZV(t,e){const n=QV(e()),r=()=>n.set(e());return r(),jA(()=>{const i=()=>Jt.preRender(r,!1,!0),a=t.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Xo(r)}}),n}const oZ=t=>t&&typeof t=="object"&&t.mix,sZ=t=>oZ(t)?t.mix:void 0;function lZ(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],o=t[3+n],s=TV(i,a,{mixer:sZ(a[0]),...o});return e?s(r):s}function cZ(t){Ah.current=[],t();const e=ZV(Ah.current,t);return Ah.current=void 0,e}function uZ(t,e,n,r){if(typeof t=="function")return cZ(t);const i=typeof e=="function"?e:lZ(e,n,r);return Array.isArray(t)?wk(t,i):wk([t],([a])=>i(a))}function wk(t,e){const n=Nc(()=>[]);return ZV(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function fZ(t){t.values.forEach(e=>e.stop())}function m_(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&eT(t,i),t.variantChildren&&t.variantChildren.forEach(a=>{m_(a,e)})})}function dZ(t,e){if(Array.isArray(e))return m_(t,e);if(typeof e=="string")return m_(t,[e]);eT(t,e)}function hZ(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(a=>{i.push(OV(a,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{dZ(r,n)})},stop(){t.forEach(n=>{fZ(n)})},mount(){return()=>{e.stop()}}};return e}function pZ(){const t=Nc(hZ);return jA(t.mount,[]),t}const JV=pZ;class mZ{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const gZ=()=>new mZ;function e5(){return Nc(gZ)}const t5=V.createContext(null);function yZ(t,e,n,r){if(!r)return t;const i=t.findIndex(u=>u.value===e);if(i===-1)return t;const a=r>0?1:-1,o=t[i+a];if(!o)return t;const s=t[i],l=o.layout,c=ln(l.min,l.max,.5);return a===1&&s.layout.max+n>c||a===-1&&s.layout.min+n<c?qG(t,i,i+a):t}function vZ({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...a},o){const s=Nc(()=>ab[e]),l=[],c=V.useRef(!1),u={axis:n,registerItem:(d,h)=>{const g=l.findIndex(b=>d===b.value);g!==-1?l[g].layout=h[n]:l.push({value:d,layout:h[n]}),l.sort(xZ)},updateOrder:(d,h,g)=>{if(c.current)return;const b=yZ(l,d,h,g);l!==b&&(c.current=!0,r(b.map(bZ).filter(v=>i.indexOf(v)!==-1)))}};return V.useEffect(()=>{c.current=!1}),f.jsx(s,{...a,ref:o,ignoreStrict:!0,children:f.jsx(t5.Provider,{value:u,children:t})})}const n5=V.forwardRef(vZ);function bZ(t){return t.value}function xZ(t,e){return t.layout.min-e.layout.min}function _k(t,e=0){return cr(t)?t:QV(e)}function wZ({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:a=!0,...o},s){const l=Nc(()=>ab[r]),c=V.useContext(t5),u={x:_k(e.x),y:_k(e.y)},d=uZ([u.x,u.y],([v,w])=>v||w?1:"unset"),{axis:h,registerItem:g,updateOrder:b}=c;return f.jsx(l,{drag:h,...o,dragSnapToOrigin:!0,style:{...e,x:u.x,y:u.y,zIndex:d},layout:a,onDrag:(v,w)=>{const{velocity:x}=w;x[h]&&b(n,u[h].get(),x[h]),i&&i(v,w)},onLayoutMeasure:v=>g(n,v),ref:s,ignoreStrict:!0,children:t})}const r5=V.forwardRef(wZ),i5=({isOpen:t,onClose:e,title:n,actions:r})=>t?f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-end sm:items-center z-50 animate-fade-in",onClick:e,children:f.jsxs("div",{className:"w-full max-w-sm bg-ios-modal-bg rounded-t-2xl sm:rounded-2xl shadow-2xl text-white animate-slide-up",onClick:i=>i.stopPropagation(),children:[f.jsx("div",{className:"p-2",children:f.jsx("header",{className:"text-center p-2 rounded-lg bg-zinc-800/50",children:f.jsx("h2",{className:"text-sm font-semibold text-brand-light-gray",children:n})})}),f.jsx("div",{className:"p-2",children:f.jsx("div",{className:"bg-zinc-800/50 rounded-lg",children:r.map((i,a)=>f.jsxs("button",{onClick:()=>{i.onClick(),e()},className:`w-full flex items-center p-3 text-left transition-colors hover:bg-white/10 ${i.color||"text-brand-blue"} ${a>0?"border-t border-zinc-700/80":""}`,children:[f.jsx(i.icon,{size:22,className:"mr-4"}),f.jsx("span",{className:"text-lg font-medium text-white",children:i.label})]},a))})}),f.jsx("div",{className:"p-2 mt-1",children:f.jsx("button",{onClick:e,className:"w-full bg-zinc-700 p-3 text-lg font-bold text-white rounded-xl hover:bg-zinc-600 transition-colors",children:"Cancelar"})})]})}):null,_Z=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?f.jsxs(Nt,{isOpen:t,onClose:e,title:r,children:[" ",f.jsxs("div",{className:"space-y-6",children:[" ",f.jsx("p",{className:"text-zinc-300",children:i})," ",f.jsxs("div",{className:"flex justify-end gap-4",children:[f.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Confirmar"})]})," "]})," "]}):null,SZ=({lotName:t,count:e,dragControls:n})=>f.jsxs("div",{className:"w-full p-4 flex items-center",children:[f.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:r=>n.start(r),children:f.jsx(s4,{className:"text-zinc-500"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"font-bold text-lg text-white",children:t}),f.jsxs("p",{className:"text-sm text-zinc-400",children:[f.jsx("span",{className:"font-semibold text-brand-orange",children:e})," ",e===1?"animal":"animales"]})]})]}),EZ=({lot:t,onEdit:e,onDelete:n,onClick:r,dragControls:i})=>{const a=JV(),o=V.useRef(!1),s=t.count>0,l=t.name!=="Sin Asignar",c=(s?80:0)+(l?80:0),u=(d,h)=>{const g=h.offset.x,b=h.velocity.x;if(Math.abs(g)<2){r();return}g<-c/2||b<-500?a.start({x:-c}):a.start({x:0}),setTimeout(()=>{o.current=!1},100)};return f.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[f.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[s&&f.jsxs("button",{onClick:e,onPointerDown:d=>d.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-orange text-white",children:[f.jsx(Z0,{size:22}),f.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Editar"})]}),l&&f.jsxs("button",{onClick:n,onPointerDown:d=>d.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[f.jsx(bm,{size:22}),f.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Borrar"})]})]}),f.jsx(ab.div,{drag:"x",dragConstraints:{left:-c,right:0},dragElastic:.1,onDragStart:()=>{o.current=!0},onDragEnd:u,onTap:()=>{o.current||r()},animate:a,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:f.jsx(SZ,{lotName:t.name,count:t.count,dragControls:i})})]})},AZ=({lot:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=e5();return f.jsxs(r5,{value:t,dragListener:!1,dragControls:i,children:[" ",f.jsx(EZ,{lot:t,dragControls:i,onClick:()=>e({name:"lot-detail",lotName:t.name}),onEdit:()=>n(t),onDelete:()=>r(t)})," "]},t.id)};function TZ({navigateTo:t}){const{animals:e,lots:n,deleteLot:r}=It(),[i,a]=V.useState(!1),[o,s]=V.useState(null),[l,c]=V.useState(null),u=V.useMemo(()=>{const v=new Map;return n.forEach(x=>v.set(x.name,0)),(e||[]).forEach(x=>{const _=x.location||"Sin Asignar";v.set(_,(v.get(_)||0)+1)}),Array.from(new Set([...n.map(x=>x.name),...e.map(x=>x.location||"Sin Asignar")])).map(x=>{const _=n.find(A=>A.name===x);return{id:(_==null?void 0:_.id)||x,name:x,count:v.get(x)||0}}).sort((x,_)=>x.name.localeCompare(_.name))},[e,n]),[d,h]=V.useState(u);V.useEffect(()=>{h(u)},[u]);const g=[{label:"Mover Animales",icon:d4,onClick:()=>t({name:"lot-detail",lotName:(o==null?void 0:o.name)||""})},{label:"Asignar Alimentación",icon:o4,onClick:()=>t({name:"feeding-plan",lotName:(o==null?void 0:o.name)||""})},{label:"Asignar Tratamiento",icon:g4,onClick:()=>t({name:"batch-treatment",lotName:(o==null?void 0:o.name)||""})},{label:"Convertir en Lote de Monta",icon:cp,onClick:()=>alert(`FUNCIONALIDAD FUTURA: Convertir ${o==null?void 0:o.name} en Lote de Monta`)}],b=()=>{l&&r(l.id)};return f.jsxs(f.Fragment,{children:[f.jsx(n5,{as:"div",axis:"y",values:d,onReorder:h,className:"space-y-3",children:d.map(v=>f.jsx(AZ,{lot:v,navigateTo:t,onEdit:w=>{s(w),a(!0)},onDelete:w=>c(w)},v.id))}),f.jsx(i5,{isOpen:i,onClose:()=>a(!1),title:`Acciones para "${o==null?void 0:o.name}"`,actions:g}),f.jsx(_Z,{isOpen:!!l,onClose:()=>c(null),onConfirm:b,title:"Eliminar Lote",message:`¿Estás seguro de que quieres eliminar el lote "${l==null?void 0:l.name}"? Esta acción no se puede deshacer.`})]})}const PZ=({activeFilter:t,setActiveFilter:e})=>f.jsxs("div",{className:"flex bg-zinc-800 rounded-xl p-1 w-full",children:[f.jsx("button",{onClick:()=>e("Activo"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Activo"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"Animales Activos"}),f.jsx("button",{onClick:()=>e("Referencia"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Referencia"?"bg-zinc-600 text-white":"text-zinc-400"}`,children:"De Referencia"})]}),g_=({isOpen:t,onClose:e,onSelect:n,animals:r,title:i,filterSex:a})=>{const[o,s]=V.useState(""),[l,c]=V.useState("Activo"),u=V.useMemo(()=>r.filter(h=>{if(a&&h.sex!==a)return!1;const g=h.isReference||!1;return l==="Referencia"?g:!g}).filter(h=>o?h.id.toLowerCase().includes(o.toLowerCase()):!0),[r,o,l,a]),d=h=>{n(h),s("")};return f.jsx(Nt,{isOpen:t,onClose:e,title:i,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),f.jsx("input",{type:"search",placeholder:"Buscar por ID...",value:o,onChange:h=>s(h.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),f.jsx(PZ,{activeFilter:l,setActiveFilter:c}),f.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:u.length>0?u.map(h=>f.jsxs("button",{onClick:()=>d(h.id),className:"w-full text-left p-3 bg-zinc-800/50 hover:bg-zinc-700 rounded-lg transition-colors",children:[f.jsx("p",{className:"font-bold text-white",children:h.id}),f.jsx("p",{className:"text-xs text-zinc-400",children:h.race||h.racialComposition||"Mestizo"})]},h.id)):f.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No se encontraron animales con estos filtros."})})]})})};function CZ(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const Jx={},ch={};function Ql(t,e){try{const r=(Jx[t]||(Jx[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return r in ch?ch[r]:Sk(r,r.split(":"))}catch{if(t in ch)return ch[t];const n=t==null?void 0:t.match(OZ);return n?Sk(t,n.slice(1)):NaN}}const OZ=/([+-]\d\d):?(\d\d)?/;function Sk(t,e){const n=+(e[0]||0),r=+(e[1]||0),i=+(e[2]||0)/60;return ch[t]=n*60+r>0?n*60+r+i:n*60-r-i}class Ha extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Ql(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),a5(this),y_(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Ha(...n,e):new Ha(Date.now(),e)}withTimeZone(e){return new Ha(+this,e)}getTimezoneOffset(){const e=-Ql(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),y_(this),+this}[Symbol.for("constructDateFrom")](e){return new Ha(+new Date(e),this.timeZone)}}const Ek=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Ek.test(t))return;const e=t.replace(Ek,"$1UTC");Ha.prototype[e]&&(t.startsWith("get")?Ha.prototype[t]=function(){return this.internal[e]()}:(Ha.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),kZ(this),+this},Ha.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),y_(this),+this}))});function y_(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Ql(t.timeZone,t)*60))}function kZ(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),a5(t)}function a5(t){const e=Ql(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+t).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),o=i-a,s=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&s&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const l=i-n;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);const c=new Date(+t);c.setUTCSeconds(0);const u=i>0?c.getSeconds():(c.getSeconds()-60)%60,d=Math.round(-(Ql(t.timeZone,t)*60))%60;(d||u)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+d+u));const h=Ql(t.timeZone,t),g=h>0?Math.floor(h):Math.ceil(h),v=-new Date(+t).getTimezoneOffset()-g,w=g!==n,x=v-l;if(w&&x){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+x);const _=Ql(t.timeZone,t),A=_>0?Math.floor(_):Math.ceil(_),k=g-A;k&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+k),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+k))}}class _r extends Ha{static tz(e,...n){return n.length?new _r(...n,e):new _r(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${CZ(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new _r(+this,e)}[Symbol.for("constructDateFrom")](e){return new _r(+new Date(e),this.timeZone)}}const o5=6048e5,IZ=864e5,Ak=Symbol.for("constructDateFrom");function Wn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Ak in t?t[Ak](e):t instanceof Date?new t.constructor(e):new Date(e)}function Bt(t,e){return Wn(e||t,t)}function s5(t,e,n){const r=Bt(t,n==null?void 0:n.in);return isNaN(e)?Wn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function l5(t,e,n){const r=Bt(t,n==null?void 0:n.in);if(isNaN(e))return Wn(t,NaN);if(!e)return r;const i=r.getDate(),a=Wn(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let jZ={};function Em(){return jZ}function pf(t,e){var s,l,c,u;const n=Em(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Bt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function mp(t,e){return pf(t,{...e,weekStartsOn:1})}function c5(t,e){const n=Bt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Wn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=mp(i),o=Wn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=mp(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Tk(t){const e=Bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Zf(t,...e){const n=Wn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function gp(t,e){const n=Bt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function u5(t,e,n){const[r,i]=Zf(n==null?void 0:n.in,t,e),a=gp(r),o=gp(i),s=+a-Tk(a),l=+o-Tk(o);return Math.round((s-l)/IZ)}function NZ(t,e){const n=c5(t,e),r=Wn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),mp(r)}function DZ(t,e,n){return s5(t,e*7,n)}function MZ(t,e,n){return l5(t,e*12,n)}function RZ(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Wn.bind(null,i));const a=Bt(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),Wn(r,n||NaN)}function $Z(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Wn.bind(null,i));const a=Bt(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),Wn(r,n||NaN)}function LZ(t,e,n){const[r,i]=Zf(n==null?void 0:n.in,t,e);return+gp(r)==+gp(i)}function f5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function VZ(t){return!(!f5(t)&&typeof t!="number"||isNaN(+Bt(t)))}function FZ(t,e,n){const[r,i]=Zf(n==null?void 0:n.in,t,e),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function zZ(t,e){const n=Bt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function BZ(t,e){const[n,r]=Zf(t,e.start,e.end);return{start:n,end:r}}function UZ(t,e){const{start:n,end:r}=BZ(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let s=1;const l=[];for(;+o<=a;)l.push(Wn(n,o)),o.setMonth(o.getMonth()+s);return i?l.reverse():l}function WZ(t,e){const n=Bt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function KZ(t,e){const n=Bt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function d5(t,e){const n=Bt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function h5(t,e){var s,l,c,u;const n=Em(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Bt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function qZ(t,e){return h5(t,{...e,weekStartsOn:1})}const HZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GZ=(t,e,n)=>{let r;const i=HZ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ew(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const YZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZZ={date:ew({formats:YZ,defaultWidth:"full"}),time:ew({formats:XZ,defaultWidth:"full"}),dateTime:ew({formats:QZ,defaultWidth:"full"})},JZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eJ=(t,e,n,r)=>JZ[t];function Ld(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const tJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sJ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lJ={ordinalNumber:sJ,era:Ld({values:tJ,defaultWidth:"wide"}),quarter:Ld({values:nJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ld({values:rJ,defaultWidth:"wide"}),day:Ld({values:iJ,defaultWidth:"wide"}),dayPeriod:Ld({values:aJ,defaultWidth:"wide",formattingValues:oJ,defaultFormattingWidth:"wide"})};function Vd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?uJ(s,d=>d.test(o)):cJ(s,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function cJ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function uJ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fJ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const dJ=/^(\d+)(th|st|nd|rd)?/i,hJ=/\d+/i,pJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mJ={any:[/^b/i,/^(a|c)/i]},gJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yJ={any:[/1/i,/2/i,/3/i,/4/i]},vJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_J={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EJ={ordinalNumber:fJ({matchPattern:dJ,parsePattern:hJ,valueCallback:t=>parseInt(t,10)}),era:Vd({matchPatterns:pJ,defaultMatchWidth:"wide",parsePatterns:mJ,defaultParseWidth:"any"}),quarter:Vd({matchPatterns:gJ,defaultMatchWidth:"wide",parsePatterns:yJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vd({matchPatterns:vJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any"}),day:Vd({matchPatterns:xJ,defaultMatchWidth:"wide",parsePatterns:wJ,defaultParseWidth:"any"}),dayPeriod:Vd({matchPatterns:_J,defaultMatchWidth:"any",parsePatterns:SJ,defaultParseWidth:"any"})},uT={code:"en-US",formatDistance:GZ,formatLong:ZZ,formatRelative:eJ,localize:lJ,match:EJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AJ(t,e){const n=Bt(t,e==null?void 0:e.in);return u5(n,d5(n))+1}function p5(t,e){const n=Bt(t,e==null?void 0:e.in),r=+mp(n)-+NZ(n);return Math.round(r/o5)+1}function m5(t,e){var u,d,h,g;const n=Bt(t,e==null?void 0:e.in),r=n.getFullYear(),i=Em(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(h=i.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=Wn((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=pf(o,e),l=Wn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=pf(l,e);return+n>=+s?r+1:+n>=+c?r:r-1}function TJ(t,e){var s,l,c,u;const n=Em(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=m5(t,e),a=Wn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),pf(a,e)}function g5(t,e){const n=Bt(t,e==null?void 0:e.in),r=+pf(n,e)-+TJ(n,e);return Math.round(r/o5)+1}function $t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const vs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,e.length)}},ru={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pk={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return vs.y(t,e)},Y:function(t,e,n,r){const i=m5(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return $t(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):$t(a,e.length)},R:function(t,e){const n=c5(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return vs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=g5(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){const r=p5(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):vs.d(t,e)},D:function(t,e,n){const r=AJ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return $t(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return $t(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ru.noon:r===0?i=ru.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ru.evening:r>=12?i=ru.afternoon:r>=4?i=ru.morning:i=ru.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):vs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):vs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):vs.s(t,e)},S:function(t,e){return vs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Ok(r);case"XXXX":case"XX":return zl(r);case"XXXXX":case"XXX":default:return zl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Ok(r);case"xxxx":case"xx":return zl(r);case"xxxxx":case"xxx":default:return zl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ck(r,":");case"OOOO":default:return"GMT"+zl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ck(r,":");case"zzzz":default:return"GMT"+zl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return $t(r,e.length)},T:function(t,e,n){return $t(+t,e.length)}};function Ck(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+$t(a,2)}function Ok(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):zl(t,e)}function zl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$t(Math.trunc(r/60),2),a=$t(r%60,2);return n+i+e+a}const kk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},y5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},PJ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return kk(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",kk(r,e)).replace("{{time}}",y5(i,e))},CJ={p:y5,P:PJ},OJ=/^D+$/,kJ=/^Y+$/,IJ=["D","DD","YY","YYYY"];function jJ(t){return OJ.test(t)}function NJ(t){return kJ.test(t)}function DJ(t,e,n){const r=MJ(t,e,n);if(console.warn(r),IJ.includes(t))throw new RangeError(r)}function MJ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$J=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LJ=/^'([^]*?)'?$/,VJ=/''/g,FJ=/[a-zA-Z]/;function zJ(t,e,n){var u,d,h,g,b,v,w,x;const r=Em(),i=(n==null?void 0:n.locale)??r.locale??uT,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((x=(w=r.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,s=Bt(t,n==null?void 0:n.in);if(!VZ(s))throw new RangeError("Invalid time value");let l=e.match($J).map(_=>{const A=_[0];if(A==="p"||A==="P"){const k=CJ[A];return k(_,i.formatLong)}return _}).join("").match(RJ).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const A=_[0];if(A==="'")return{isToken:!1,value:BJ(_)};if(Pk[A])return{isToken:!0,value:_};if(A.match(FJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const A=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&NJ(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jJ(A))&&DJ(A,e,String(t));const k=Pk[A[0]];return k(s,A,i.localize,c)}).join("")}function BJ(t){const e=t.match(LJ);return e?e[1].replace(VJ,"'"):t}function UJ(t,e){const n=Bt(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),a=Wn(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function WJ(t,e){return Bt(t,e==null?void 0:e.in).getMonth()}function KJ(t,e){return Bt(t,e==null?void 0:e.in).getFullYear()}function qJ(t,e){return+Bt(t)>+Bt(e)}function HJ(t,e){return+Bt(t)<+Bt(e)}function GJ(t,e,n){const[r,i]=Zf(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function YJ(t,e,n){const[r,i]=Zf(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function XJ(t,e,n){const r=Bt(t,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),o=Wn(t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const s=UJ(o);return r.setMonth(e,Math.min(a,s)),r}function QJ(t,e,n){const r=Bt(t,n==null?void 0:n.in);return isNaN(+r)?Wn(t,NaN):(r.setFullYear(e),r)}const Ik=5,ZJ=4;function JJ(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,i=e.addDays(t,-r+1),a=e.addDays(i,Ik*7-1);return e.getMonth(t)===e.getMonth(a)?Ik:ZJ}function v5(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function eee(t,e){const n=v5(t,e),r=JJ(t,e);return e.addDays(n,r*7-1)}class Ei{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?_r.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,a)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,i,a):this.options.timeZone?new _r(r,i,a,this.options.timeZone):new Date(r,i,a)},this.addDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,i):s5(r,i)},this.addMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,i):l5(r,i)},this.addWeeks=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,i):DZ(r,i)},this.addYears=(r,i)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,i):MZ(r,i)},this.differenceInCalendarDays=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):u5(r,i)},this.differenceInCalendarMonths=(r,i)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):FZ(r,i)},this.eachMonthOfInterval=r=>{var i;return(i=this.overrides)!=null&&i.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):UZ(r)},this.endOfBroadcastWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):eee(r,this)},this.endOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfISOWeek?this.overrides.endOfISOWeek(r):qZ(r)},this.endOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.endOfMonth?this.overrides.endOfMonth(r):zZ(r)},this.endOfWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,i):h5(r,this.options)},this.endOfYear=r=>{var i;return(i=this.overrides)!=null&&i.endOfYear?this.overrides.endOfYear(r):KZ(r)},this.format=(r,i,a)=>{var s;const o=(s=this.overrides)!=null&&s.format?this.overrides.format(r,i,this.options):zJ(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.getISOWeek?this.overrides.getISOWeek(r):p5(r)},this.getMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(r,this.options):WJ(r,this.options)},this.getYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(r,this.options):KJ(r,this.options)},this.getWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):g5(r,this.options)},this.isAfter=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,i):qJ(r,i)},this.isBefore=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,i):HJ(r,i)},this.isDate=r=>{var i;return(i=this.overrides)!=null&&i.isDate?this.overrides.isDate(r):f5(r)},this.isSameDay=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,i):LZ(r,i)},this.isSameMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,i):GJ(r,i)},this.isSameYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,i):YJ(r,i)},this.max=r=>{var i;return(i=this.overrides)!=null&&i.max?this.overrides.max(r):RZ(r)},this.min=r=>{var i;return(i=this.overrides)!=null&&i.min?this.overrides.min(r):$Z(r)},this.setMonth=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,i):XJ(r,i)},this.setYear=(r,i)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,i):QJ(r,i)},this.startOfBroadcastWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):v5(r,this)},this.startOfDay=r=>{var i;return(i=this.overrides)!=null&&i.startOfDay?this.overrides.startOfDay(r):gp(r)},this.startOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfISOWeek?this.overrides.startOfISOWeek(r):mp(r)},this.startOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.startOfMonth?this.overrides.startOfMonth(r):WZ(r)},this.startOfWeek=(r,i)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):pf(r,this.options)},this.startOfYear=r=>{var i;return(i=this.overrides)!=null&&i.startOfYear?this.overrides.startOfYear(r):d5(r)},this.options={locale:uT,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var n;const e=(n=this.options.locale)==null?void 0:n.code;return e&&Ei.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:r,numerals:i}=this.options,a=n==null?void 0:n.code;if(a&&Ei.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(e)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,o)}}Ei.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const fo=new Ei;class b5{constructor(e,n,r=fo){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class tee{constructor(e,n){this.date=e,this.weeks=n}}class nee{constructor(e,n){this.days=n,this.weekNumber=e}}function ree(t){return U.createElement("button",{...t})}function iee(t){return U.createElement("span",{...t})}function aee(t){const{size:e=24,orientation:n="left",className:r}=t;return U.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&U.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&U.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&U.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&U.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function oee(t){const{day:e,modifiers:n,...r}=t;return U.createElement("td",{...r})}function see(t){const{day:e,modifiers:n,...r}=t,i=U.useRef(null);return U.useEffect(()=>{var a;n.focused&&((a=i.current)==null||a.focus())},[n.focused]),U.createElement("button",{ref:i,...r})}var Ue;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Ue||(Ue={}));var fn;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(fn||(fn={}));var Ea;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Ea||(Ea={}));var di;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(di||(di={}));function lee(t){const{options:e,className:n,components:r,classNames:i,...a}=t,o=[i[Ue.Dropdown],n].join(" "),s=e==null?void 0:e.find(({value:l})=>l===a.value);return U.createElement("span",{"data-disabled":a.disabled,className:i[Ue.DropdownRoot]},U.createElement(r.Select,{className:o,...a},e==null?void 0:e.map(({value:l,label:c,disabled:u})=>U.createElement(r.Option,{key:l,value:l,disabled:u},c))),U.createElement("span",{className:i[Ue.CaptionLabel],"aria-hidden":!0},s==null?void 0:s.label,U.createElement(r.Chevron,{orientation:"down",size:18,className:i[Ue.Chevron]})))}function cee(t){return U.createElement("div",{...t})}function uee(t){return U.createElement("div",{...t})}function fee(t){const{calendarMonth:e,displayIndex:n,...r}=t;return U.createElement("div",{...r},t.children)}function dee(t){const{calendarMonth:e,displayIndex:n,...r}=t;return U.createElement("div",{...r})}function hee(t){return U.createElement("table",{...t})}function pee(t){return U.createElement("div",{...t})}const x5=V.createContext(void 0);function Am(){const t=V.useContext(x5);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function mee(t){const{components:e}=Am();return U.createElement(e.Dropdown,{...t})}function gee(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:i,...a}=t,{components:o,classNames:s,labels:{labelPrevious:l,labelNext:c}}=Am(),u=V.useCallback(h=>{i&&(n==null||n(h))},[i,n]),d=V.useCallback(h=>{r&&(e==null||e(h))},[r,e]);return U.createElement("nav",{...a},U.createElement(o.PreviousMonthButton,{type:"button",className:s[Ue.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:d},U.createElement(o.Chevron,{disabled:r?void 0:!0,className:s[Ue.Chevron],orientation:"left"})),U.createElement(o.NextMonthButton,{type:"button",className:s[Ue.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":c(i),onClick:u},U.createElement(o.Chevron,{disabled:i?void 0:!0,orientation:"right",className:s[Ue.Chevron]})))}function yee(t){const{components:e}=Am();return U.createElement(e.Button,{...t})}function vee(t){return U.createElement("option",{...t})}function bee(t){const{components:e}=Am();return U.createElement(e.Button,{...t})}function xee(t){const{rootRef:e,...n}=t;return U.createElement("div",{...n,ref:e})}function wee(t){return U.createElement("select",{...t})}function _ee(t){const{week:e,...n}=t;return U.createElement("tr",{...n})}function See(t){return U.createElement("th",{...t})}function Eee(t){return U.createElement("thead",{"aria-hidden":!0},U.createElement("tr",{...t}))}function Aee(t){const{week:e,...n}=t;return U.createElement("th",{...n})}function Tee(t){return U.createElement("th",{...t})}function Pee(t){return U.createElement("tbody",{...t})}function Cee(t){const{components:e}=Am();return U.createElement(e.Dropdown,{...t})}const Oee=Object.freeze(Object.defineProperty({__proto__:null,Button:ree,CaptionLabel:iee,Chevron:aee,Day:oee,DayButton:see,Dropdown:lee,DropdownNav:cee,Footer:uee,Month:fee,MonthCaption:dee,MonthGrid:hee,Months:pee,MonthsDropdown:mee,Nav:gee,NextMonthButton:yee,Option:vee,PreviousMonthButton:bee,Root:xee,Select:wee,Week:_ee,WeekNumber:Aee,WeekNumberHeader:Tee,Weekday:See,Weekdays:Eee,Weeks:Pee,YearsDropdown:Cee},Symbol.toStringTag,{value:"Module"}));function Io(t,e,n=!1,r=fo){let{from:i,to:a}=t;const{differenceInCalendarDays:o,isSameDay:s}=r;return i&&a?(o(a,i)<0&&([i,a]=[a,i]),o(e,i)>=(n?1:0)&&o(a,e)>=(n?1:0)):!n&&a?s(a,e):!n&&i?s(i,e):!1}function w5(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function fT(t){return!!(t&&typeof t=="object"&&"from"in t)}function _5(t){return!!(t&&typeof t=="object"&&"after"in t)}function S5(t){return!!(t&&typeof t=="object"&&"before"in t)}function E5(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function A5(t,e){return Array.isArray(t)&&t.every(e.isDate)}function jo(t,e,n=fo){const r=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:a,isAfter:o}=n;return r.some(s=>{if(typeof s=="boolean")return s;if(n.isDate(s))return i(t,s);if(A5(s,n))return s.includes(t);if(fT(s))return Io(s,t,!1,n);if(E5(s))return Array.isArray(s.dayOfWeek)?s.dayOfWeek.includes(t.getDay()):s.dayOfWeek===t.getDay();if(w5(s)){const l=a(s.before,t),c=a(s.after,t),u=l>0,d=c<0;return o(s.before,s.after)?d&&u:u||d}return _5(s)?a(t,s.after)>0:S5(s)?a(s.before,t)>0:typeof s=="function"?s(t):!1})}function kee(t,e,n,r,i){const{disabled:a,hidden:o,modifiers:s,showOutsideDays:l,broadcastCalendar:c,today:u}=e,{isSameDay:d,isSameMonth:h,startOfMonth:g,isBefore:b,endOfMonth:v,isAfter:w}=i,x=n&&g(n),_=r&&v(r),A={[fn.focused]:[],[fn.outside]:[],[fn.disabled]:[],[fn.hidden]:[],[fn.today]:[]},k={};for(const S of t){const{date:C,displayMonth:E}=S,T=!!(E&&!h(C,E)),j=!!(x&&b(C,x)),D=!!(_&&w(C,_)),N=!!(a&&jo(C,a,i)),$=!!(o&&jo(C,o,i))||j||D||!c&&!l&&T||c&&l===!1&&T,L=d(C,u??i.today());T&&A.outside.push(S),N&&A.disabled.push(S),$&&A.hidden.push(S),L&&A.today.push(S),s&&Object.keys(s).forEach(Q=>{const ne=s==null?void 0:s[Q];ne&&jo(C,ne,i)&&(k[Q]?k[Q].push(S):k[Q]=[S])})}return S=>{const C={[fn.focused]:!1,[fn.disabled]:!1,[fn.hidden]:!1,[fn.outside]:!1,[fn.today]:!1},E={};for(const T in A){const j=A[T];C[T]=j.some(D=>D===S)}for(const T in k)E[T]=k[T].some(j=>j===S);return{...C,...E}}}function Iee(t,e,n={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[a])=>(n[a]?i.push(n[a]):e[fn[a]]?i.push(e[fn[a]]):e[Ea[a]]&&i.push(e[Ea[a]]),i),[e[Ue.Day]])}function jee(t){return{...Oee,...t}}function Nee(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function Dee(){const t={};for(const e in Ue)t[Ue[e]]=`rdp-${Ue[e]}`;for(const e in fn)t[fn[e]]=`rdp-${fn[e]}`;for(const e in Ea)t[Ea[e]]=`rdp-${Ea[e]}`;for(const e in di)t[di[e]]=`rdp-${di[e]}`;return t}function T5(t,e,n){return(n??new Ei(e)).formatMonthYear(t)}const Mee=T5;function Ree(t,e,n){return(n??new Ei(e)).format(t,"d")}function $ee(t,e=fo){return e.format(t,"LLLL")}function Lee(t,e,n){return(n??new Ei(e)).format(t,"cccccc")}function Vee(t,e=fo){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function Fee(){return""}function P5(t,e=fo){return e.format(t,"yyyy")}const zee=P5,Bee=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:T5,formatDay:Ree,formatMonthCaption:Mee,formatMonthDropdown:$ee,formatWeekNumber:Vee,formatWeekNumberHeader:Fee,formatWeekdayName:Lee,formatYearCaption:zee,formatYearDropdown:P5},Symbol.toStringTag,{value:"Module"}));function Uee(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...Bee,...t}}function Wee(t,e,n,r,i){const{startOfMonth:a,startOfYear:o,endOfYear:s,eachMonthOfInterval:l,getMonth:c}=i;return l({start:o(t),end:s(t)}).map(h=>{const g=r.formatMonthDropdown(h,i),b=c(h),v=e&&h<a(e)||n&&h>a(n)||!1;return{value:b,label:g,disabled:v}})}function Kee(t,e={},n={}){let r={...e==null?void 0:e[Ue.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function qee(t,e,n){const r=t.today(),i=e?t.startOfISOWeek(r):t.startOfWeek(r),a=[];for(let o=0;o<7;o++){const s=t.addDays(i,o);a.push(s)}return a}function Hee(t,e,n,r,i=!1){if(!t||!e)return;const{startOfYear:a,endOfYear:o,addYears:s,getYear:l,isBefore:c,isSameYear:u}=r,d=a(t),h=o(e),g=[];let b=d;for(;c(b,h)||u(b,h);)g.push(b),b=s(b,1);return i&&g.reverse(),g.map(v=>{const w=n.formatYearDropdown(v,r);return{value:l(v),label:w,disabled:!1}})}function C5(t,e,n,r){let i=(r??new Ei(n)).format(t,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const Gee=C5;function O5(t,e,n){return(n??new Ei(e)).formatMonthYear(t)}const Yee=O5;function Xee(t,e,n,r){let i=(r??new Ei(n)).format(t,"PPPP");return e!=null&&e.today&&(i=`Today, ${i}`),i}function Qee(t){return"Choose the Month"}function Zee(){return""}function Jee(t){return"Go to the Next Month"}function ete(t){return"Go to the Previous Month"}function tte(t,e,n){return(n??new Ei(e)).format(t,"cccc")}function nte(t,e){return`Week ${t}`}function rte(t){return"Week Number"}function ite(t){return"Choose the Year"}const ate=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Yee,labelDay:Gee,labelDayButton:C5,labelGrid:O5,labelGridcell:Xee,labelMonthDropdown:Qee,labelNav:Zee,labelNext:Jee,labelPrevious:ete,labelWeekNumber:nte,labelWeekNumberHeader:rte,labelWeekday:tte,labelYearDropdown:ite},Symbol.toStringTag,{value:"Module"})),Tm=t=>t instanceof HTMLElement?t:null,tw=t=>[...t.querySelectorAll("[data-animated-month]")??[]],ote=t=>Tm(t.querySelector("[data-animated-month]")),nw=t=>Tm(t.querySelector("[data-animated-caption]")),rw=t=>Tm(t.querySelector("[data-animated-weeks]")),ste=t=>Tm(t.querySelector("[data-animated-nav]")),lte=t=>Tm(t.querySelector("[data-animated-weekdays]"));function cte(t,e,{classNames:n,months:r,focused:i,dateLib:a}){const o=V.useRef(null),s=V.useRef(r),l=V.useRef(!1);V.useLayoutEffect(()=>{const c=s.current;if(s.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||c.length===0||r.length!==c.length)return;const u=a.isSameMonth(r[0].date,c[0].date),d=a.isAfter(r[0].date,c[0].date),h=d?n[di.caption_after_enter]:n[di.caption_before_enter],g=d?n[di.weeks_after_enter]:n[di.weeks_before_enter],b=o.current,v=t.current.cloneNode(!0);if(v instanceof HTMLElement?(tw(v).forEach(A=>{if(!(A instanceof HTMLElement))return;const k=ote(A);k&&A.contains(k)&&A.removeChild(k);const S=nw(A);S&&S.classList.remove(h);const C=rw(A);C&&C.classList.remove(g)}),o.current=v):o.current=null,l.current||u||i)return;const w=b instanceof HTMLElement?tw(b):[],x=tw(t.current);if(x!=null&&x.every(_=>_ instanceof HTMLElement)&&w&&w.every(_=>_ instanceof HTMLElement)){l.current=!0,t.current.style.isolation="isolate";const _=ste(t.current);_&&(_.style.zIndex="1"),x.forEach((A,k)=>{const S=w[k];if(!S)return;A.style.position="relative",A.style.overflow="hidden";const C=nw(A);C&&C.classList.add(h);const E=rw(A);E&&E.classList.add(g);const T=()=>{l.current=!1,t.current&&(t.current.style.isolation=""),_&&(_.style.zIndex=""),C&&C.classList.remove(h),E&&E.classList.remove(g),A.style.position="",A.style.overflow="",A.contains(S)&&A.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const j=lte(S);j&&(j.style.opacity="0");const D=nw(S);D&&(D.classList.add(d?n[di.caption_before_exit]:n[di.caption_after_exit]),D.addEventListener("animationend",T));const N=rw(S);N&&N.classList.add(d?n[di.weeks_before_exit]:n[di.weeks_after_exit]),A.insertBefore(S,A.firstChild)})}})}function ute(t,e,n,r){const i=t[0],a=t[t.length-1],{ISOWeek:o,fixedWeeks:s,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:h,endOfISOWeek:g,endOfMonth:b,endOfWeek:v,isAfter:w,startOfBroadcastWeek:x,startOfISOWeek:_,startOfWeek:A}=r,k=l?x(i,r):o?_(i):A(i),S=l?h(a):o?g(b(a)):v(b(a)),C=u(S,k),E=d(a,i)+1,T=[];for(let N=0;N<=C;N++){const $=c(k,N);if(e&&w($,e))break;T.push($)}const D=(l?35:42)*E;if(s&&T.length<D){const N=D-T.length;for(let $=0;$<N;$++){const L=c(T[T.length-1],1);T.push(L)}}return T}function fte(t){const e=[];return t.reduce((n,r)=>{const i=r.weeks.reduce((a,o)=>a.concat(o.days.slice()),e.slice());return n.concat(i.slice())},e.slice())}function dte(t,e,n,r){const{numberOfMonths:i=1}=n,a=[];for(let o=0;o<i;o++){const s=r.addMonths(t,o);if(e&&s>e)break;a.push(s)}return a}function jk(t,e,n,r){const{month:i,defaultMonth:a,today:o=r.today(),numberOfMonths:s=1}=t;let l=i||a||o;const{differenceInCalendarMonths:c,addMonths:u,startOfMonth:d}=r;if(n&&c(n,l)<s-1){const h=-1*(s-1);l=u(n,h)}return e&&c(l,e)<0&&(l=e),d(l)}function hte(t,e,n,r){const{addDays:i,endOfBroadcastWeek:a,endOfISOWeek:o,endOfMonth:s,endOfWeek:l,getISOWeek:c,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:h,startOfWeek:g}=r,b=t.reduce((v,w)=>{const x=n.broadcastCalendar?d(w,r):n.ISOWeek?h(w):g(w),_=n.broadcastCalendar?a(w):n.ISOWeek?o(s(w)):l(s(w)),A=e.filter(E=>E>=x&&E<=_),k=n.broadcastCalendar?35:42;if(n.fixedWeeks&&A.length<k){const E=e.filter(T=>{const j=k-A.length;return T>_&&T<=i(_,j)});A.push(...E)}const S=A.reduce((E,T)=>{const j=n.ISOWeek?c(T):u(T),D=E.find($=>$.weekNumber===j),N=new b5(T,w,r);return D?D.days.push(N):E.push(new nee(j,[N])),E},[]),C=new tee(w,S);return v.push(C),v},[]);return n.reverseMonths?b.reverse():b}function pte(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:i,startOfDay:a,startOfMonth:o,endOfMonth:s,addYears:l,endOfYear:c,newDate:u,today:d}=e,{fromYear:h,toYear:g,fromMonth:b,toMonth:v}=t;!n&&b&&(n=b),!n&&h&&(n=e.newDate(h,0,1)),!r&&v&&(r=v),!r&&g&&(r=u(g,11,31));const w=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):h?n=u(h,0,1):!n&&w&&(n=i(l(t.today??d(),-100))),r?r=s(r):g?r=u(g,11,31):!r&&w&&(r=c(t.today??d())),[n&&a(n),r&&a(r)]}function mte(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a=1}=n,{startOfMonth:o,addMonths:s,differenceInCalendarMonths:l}=r,c=i?a:1,u=o(t);if(!e)return s(u,c);if(!(l(e,t)<a))return s(u,c)}function gte(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a}=n,{startOfMonth:o,addMonths:s,differenceInCalendarMonths:l}=r,c=i?a??1:1,u=o(t);if(!e)return s(u,-c);if(!(l(u,e)<=0))return s(u,-c)}function yte(t){const e=[];return t.reduce((n,r)=>n.concat(r.weeks.slice()),e.slice())}function ob(t,e){const[n,r]=V.useState(t);return[e===void 0?n:e,r]}function vte(t,e){const[n,r]=pte(t,e),{startOfMonth:i,endOfMonth:a}=e,o=jk(t,n,r,e),[s,l]=ob(o,t.month?o:void 0);V.useEffect(()=>{const C=jk(t,n,r,e);l(C)},[t.timeZone]);const c=dte(s,r,t,e),u=ute(c,t.endMonth?a(t.endMonth):void 0,t,e),d=hte(c,u,t,e),h=yte(d),g=fte(d),b=gte(s,n,t,e),v=mte(s,r,t,e),{disableNavigation:w,onMonthChange:x}=t,_=C=>h.some(E=>E.days.some(T=>T.isEqualTo(C))),A=C=>{if(w)return;let E=i(C);n&&E<i(n)&&(E=i(n)),r&&E>i(r)&&(E=i(r)),l(E),x==null||x(E)};return{months:d,weeks:h,days:g,navStart:n,navEnd:r,previousMonth:b,nextMonth:v,goToMonth:A,goToDay:C=>{_(C)||A(C.date)}}}var Ba;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Ba||(Ba={}));function Nk(t){return!t[fn.disabled]&&!t[fn.hidden]&&!t[fn.outside]}function bte(t,e,n,r){let i,a=-1;for(const o of t){const s=e(o);Nk(s)&&(s[fn.focused]&&a<Ba.FocusedModifier?(i=o,a=Ba.FocusedModifier):r!=null&&r.isEqualTo(o)&&a<Ba.LastFocused?(i=o,a=Ba.LastFocused):n(o.date)&&a<Ba.Selected?(i=o,a=Ba.Selected):s[fn.today]&&a<Ba.Today&&(i=o,a=Ba.Today))}return i||(i=t.find(o=>Nk(e(o)))),i}function xte(t,e,n,r,i,a,o){const{ISOWeek:s,broadcastCalendar:l}=a,{addDays:c,addMonths:u,addWeeks:d,addYears:h,endOfBroadcastWeek:g,endOfISOWeek:b,endOfWeek:v,max:w,min:x,startOfBroadcastWeek:_,startOfISOWeek:A,startOfWeek:k}=o;let C={day:c,week:d,month:u,year:h,startOfWeek:E=>l?_(E,o):s?A(E):k(E),endOfWeek:E=>l?g(E):s?b(E):v(E)}[t](n,e==="after"?1:-1);return e==="before"&&r?C=w([r,C]):e==="after"&&i&&(C=x([i,C])),C}function k5(t,e,n,r,i,a,o,s=0){if(s>365)return;const l=xte(t,e,n.date,r,i,a,o),c=!!(a.disabled&&jo(l,a.disabled,o)),u=!!(a.hidden&&jo(l,a.hidden,o)),d=l,h=new b5(l,d,o);return!c&&!u?h:k5(t,e,h,r,i,a,o,s+1)}function wte(t,e,n,r,i){const{autoFocus:a}=t,[o,s]=V.useState(),l=bte(e.days,n,r||(()=>!1),o),[c,u]=V.useState(a?l:void 0);return{isFocusTarget:v=>!!(l!=null&&l.isEqualTo(v)),setFocused:u,focused:c,blur:()=>{s(c),u(void 0)},moveFocus:(v,w)=>{if(!c)return;const x=k5(v,w,c,e.navStart,e.navEnd,t,i);x&&(e.goToDay(x),u(x))}}}function _te(t,e){const{selected:n,required:r,onSelect:i}=t,[a,o]=ob(n,i?n:void 0),s=i?n:a,{isSameDay:l}=e,c=g=>(s==null?void 0:s.some(b=>l(b,g)))??!1,{min:u,max:d}=t;return{selected:s,select:(g,b,v)=>{let w=[...s??[]];if(c(g)){if((s==null?void 0:s.length)===u||r&&(s==null?void 0:s.length)===1)return;w=s==null?void 0:s.filter(x=>!l(x,g))}else(s==null?void 0:s.length)===d?w=[g]:w=[...w,g];return i||o(w),i==null||i(w,g,b,v),w},isSelected:c}}function Ste(t,e,n=0,r=0,i=!1,a=fo){const{from:o,to:s}=e||{},{isSameDay:l,isAfter:c,isBefore:u}=a;let d;if(!o&&!s)d={from:t,to:n>0?void 0:t};else if(o&&!s)l(o,t)?n===0?d={from:o,to:t}:i?d={from:o,to:void 0}:d=void 0:u(t,o)?d={from:t,to:o}:d={from:o,to:t};else if(o&&s)if(l(o,t)&&l(s,t))i?d={from:o,to:s}:d=void 0;else if(l(o,t))d={from:o,to:n>0?void 0:t};else if(l(s,t))d={from:t,to:n>0?void 0:t};else if(u(t,o))d={from:t,to:s};else if(c(t,o))d={from:o,to:t};else if(c(t,s))d={from:o,to:t};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const h=a.differenceInCalendarDays(d.to,d.from);r>0&&h>r?d={from:t,to:void 0}:n>1&&h<n&&(d={from:t,to:void 0})}return d}function Ete(t,e,n=fo){const r=Array.isArray(e)?e:[e];let i=t.from;const a=n.differenceInCalendarDays(t.to,t.from),o=Math.min(a,6);for(let s=0;s<=o;s++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function Dk(t,e,n=fo){return Io(t,e.from,!1,n)||Io(t,e.to,!1,n)||Io(e,t.from,!1,n)||Io(e,t.to,!1,n)}function Ate(t,e,n=fo){const r=Array.isArray(e)?e:[e];if(r.filter(s=>typeof s!="function").some(s=>typeof s=="boolean"?s:n.isDate(s)?Io(t,s,!1,n):A5(s,n)?s.some(l=>Io(t,l,!1,n)):fT(s)?s.from&&s.to?Dk(t,{from:s.from,to:s.to},n):!1:E5(s)?Ete(t,s.dayOfWeek,n):w5(s)?n.isAfter(s.before,s.after)?Dk(t,{from:n.addDays(s.after,1),to:n.addDays(s.before,-1)},n):jo(t.from,s,n)||jo(t.to,s,n):_5(s)||S5(s)?jo(t.from,s,n)||jo(t.to,s,n):!1))return!0;const o=r.filter(s=>typeof s=="function");if(o.length){let s=t.from;const l=n.differenceInCalendarDays(t.to,t.from);for(let c=0;c<=l;c++){if(o.some(u=>u(s)))return!0;s=n.addDays(s,1)}}return!1}function Tte(t,e){const{disabled:n,excludeDisabled:r,selected:i,required:a,onSelect:o}=t,[s,l]=ob(i,o?i:void 0),c=o?i:s;return{selected:c,select:(h,g,b)=>{const{min:v,max:w}=t,x=h?Ste(h,c,v,w,a,e):void 0;return r&&n&&(x!=null&&x.from)&&x.to&&Ate({from:x.from,to:x.to},n,e)&&(x.from=h,x.to=void 0),o||l(x),o==null||o(x,h,g,b),x},isSelected:h=>c&&Io(c,h,!1,e)}}function Pte(t,e){const{selected:n,required:r,onSelect:i}=t,[a,o]=ob(n,i?n:void 0),s=i?n:a,{isSameDay:l}=e;return{selected:s,select:(d,h,g)=>{let b=d;return!r&&s&&s&&l(d,s)&&(b=void 0),i||o(b),i==null||i(b,d,h,g),b},isSelected:d=>s?l(s,d):!1}}function Cte(t,e){const n=Pte(t,e),r=_te(t,e),i=Tte(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function dT(t){var Or;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new _r(e.today,e.timeZone)),e.month&&(e.month=new _r(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new _r(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new _r(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new _r(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new _r(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Or=e.selected)==null?void 0:Or.map(Ze=>new _r(Ze,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new _r(e.selected.from,e.timeZone):void 0,to:e.selected.to?new _r(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:i,dateLib:a,locale:o,classNames:s}=V.useMemo(()=>{const Ze={...uT,...e.locale};return{dateLib:new Ei({locale:Ze,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:jee(e.components),formatters:Uee(e.formatters),labels:{...ate,...e.labels},locale:Ze,classNames:{...Dee(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:c,navLayout:u,numberOfMonths:d=1,onDayBlur:h,onDayClick:g,onDayFocus:b,onDayKeyDown:v,onDayMouseEnter:w,onDayMouseLeave:x,onNextClick:_,onPrevClick:A,showWeekNumber:k,styles:S}=e,{formatCaption:C,formatDay:E,formatMonthDropdown:T,formatWeekNumber:j,formatWeekNumberHeader:D,formatWeekdayName:N,formatYearDropdown:$}=r,L=vte(e,a),{days:Q,months:ne,navStart:ce,navEnd:le,previousMonth:Y,nextMonth:G,goToMonth:pe}=L,Se=kee(Q,e,ce,le,a),{isSelected:xe,select:je,selected:Ke}=Cte(e,a)??{},{blur:ft,focused:ct,isFocusTarget:Ce,moveFocus:Ye,setFocused:oe}=wte(e,L,Se,xe??(()=>!1),a),{labelDayButton:ye,labelGridcell:Ae,labelGrid:se,labelMonthDropdown:Be,labelNav:ze,labelPrevious:qe,labelNext:nt,labelWeekday:At,labelWeekNumber:on,labelWeekNumberHeader:pt,labelYearDropdown:Ct}=i,rt=V.useMemo(()=>qee(a,e.ISOWeek),[a,e.ISOWeek]),Wt=c!==void 0||g!==void 0,Pn=V.useCallback(()=>{Y&&(pe(Y),A==null||A(Y))},[Y,pe,A]),ii=V.useCallback(()=>{G&&(pe(G),_==null||_(G))},[pe,G,_]),qn=V.useCallback((Ze,be)=>Xe=>{Xe.preventDefault(),Xe.stopPropagation(),oe(Ze),je==null||je(Ze.date,be,Xe),g==null||g(Ze.date,be,Xe)},[je,g,oe]),Ci=V.useCallback((Ze,be)=>Xe=>{oe(Ze),b==null||b(Ze.date,be,Xe)},[b,oe]),Oi=V.useCallback((Ze,be)=>Xe=>{ft(),h==null||h(Ze.date,be,Xe)},[ft,h]),po=V.useCallback((Ze,be)=>Xe=>{const Je={ArrowLeft:[Xe.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Xe.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Xe.shiftKey?"year":"week","after"],ArrowUp:[Xe.shiftKey?"year":"week","before"],PageUp:[Xe.shiftKey?"year":"month","before"],PageDown:[Xe.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Je[Xe.key]){Xe.preventDefault(),Xe.stopPropagation();const[Cn,dt]=Je[Xe.key];Ye(Cn,dt)}v==null||v(Ze.date,be,Xe)},[Ye,v,e.dir]),mo=V.useCallback((Ze,be)=>Xe=>{w==null||w(Ze.date,be,Xe)},[w]),yl=V.useCallback((Ze,be)=>Xe=>{x==null||x(Ze.date,be,Xe)},[x]),go=V.useCallback(Ze=>be=>{const Xe=Number(be.target.value),Je=a.setMonth(a.startOfMonth(Ze),Xe);pe(Je)},[a,pe]),ki=V.useCallback(Ze=>be=>{const Xe=Number(be.target.value),Je=a.setYear(a.startOfMonth(Ze),Xe);pe(Je)},[a,pe]),{className:Ii,style:yo}=V.useMemo(()=>({className:[s[Ue.Root],e.className].filter(Boolean).join(" "),style:{...S==null?void 0:S[Ue.Root],...e.style}}),[s,e.className,e.style,S]),Fr=Nee(e),Re=V.useRef(null);cte(Re,!!e.animate,{classNames:s,months:ne,focused:ct,dateLib:a});const Ia={dayPickerProps:e,selected:Ke,select:je,isSelected:xe,months:ne,nextMonth:G,previousMonth:Y,goToMonth:pe,getModifiers:Se,components:n,classNames:s,styles:S,labels:i,formatters:r};return U.createElement(x5.Provider,{value:Ia},U.createElement(n.Root,{rootRef:e.animate?Re:void 0,className:Ii,style:yo,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Fr},U.createElement(n.Months,{className:s[Ue.Months],style:S==null?void 0:S[Ue.Months]},!e.hideNavigation&&!u&&U.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:s[Ue.Nav],style:S==null?void 0:S[Ue.Nav],"aria-label":ze(),onPreviousClick:Pn,onNextClick:ii,previousMonth:Y,nextMonth:G}),ne.map((Ze,be)=>U.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:s[Ue.Month],style:S==null?void 0:S[Ue.Month],key:be,displayIndex:be,calendarMonth:Ze},u==="around"&&!e.hideNavigation&&be===0&&U.createElement(n.PreviousMonthButton,{type:"button",className:s[Ue.PreviousMonthButton],tabIndex:Y?void 0:-1,"aria-disabled":Y?void 0:!0,"aria-label":qe(Y),onClick:Pn,"data-animated-button":e.animate?"true":void 0},U.createElement(n.Chevron,{disabled:Y?void 0:!0,className:s[Ue.Chevron],orientation:e.dir==="rtl"?"right":"left"})),U.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:s[Ue.MonthCaption],style:S==null?void 0:S[Ue.MonthCaption],calendarMonth:Ze,displayIndex:be},l!=null&&l.startsWith("dropdown")?U.createElement(n.DropdownNav,{className:s[Ue.Dropdowns],style:S==null?void 0:S[Ue.Dropdowns]},(()=>{const Xe=l==="dropdown"||l==="dropdown-months"?U.createElement(n.MonthsDropdown,{key:"month",className:s[Ue.MonthsDropdown],"aria-label":Be(),classNames:s,components:n,disabled:!!e.disableNavigation,onChange:go(Ze.date),options:Wee(Ze.date,ce,le,r,a),style:S==null?void 0:S[Ue.Dropdown],value:a.getMonth(Ze.date)}):U.createElement("span",{key:"month"},T(Ze.date,a)),Je=l==="dropdown"||l==="dropdown-years"?U.createElement(n.YearsDropdown,{key:"year",className:s[Ue.YearsDropdown],"aria-label":Ct(a.options),classNames:s,components:n,disabled:!!e.disableNavigation,onChange:ki(Ze.date),options:Hee(ce,le,r,a,!!e.reverseYears),style:S==null?void 0:S[Ue.Dropdown],value:a.getYear(Ze.date)}):U.createElement("span",{key:"year"},$(Ze.date,a));return a.getMonthYearOrder()==="year-first"?[Je,Xe]:[Xe,Je]})(),U.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(Ze.date,a.options,a))):U.createElement(n.CaptionLabel,{className:s[Ue.CaptionLabel],role:"status","aria-live":"polite"},C(Ze.date,a.options,a))),u==="around"&&!e.hideNavigation&&be===d-1&&U.createElement(n.NextMonthButton,{type:"button",className:s[Ue.NextMonthButton],tabIndex:G?void 0:-1,"aria-disabled":G?void 0:!0,"aria-label":nt(G),onClick:ii,"data-animated-button":e.animate?"true":void 0},U.createElement(n.Chevron,{disabled:G?void 0:!0,className:s[Ue.Chevron],orientation:e.dir==="rtl"?"left":"right"})),be===d-1&&u==="after"&&!e.hideNavigation&&U.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:s[Ue.Nav],style:S==null?void 0:S[Ue.Nav],"aria-label":ze(),onPreviousClick:Pn,onNextClick:ii,previousMonth:Y,nextMonth:G}),U.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":se(Ze.date,a.options,a)||void 0,className:s[Ue.MonthGrid],style:S==null?void 0:S[Ue.MonthGrid]},!e.hideWeekdays&&U.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:s[Ue.Weekdays],style:S==null?void 0:S[Ue.Weekdays]},k&&U.createElement(n.WeekNumberHeader,{"aria-label":pt(a.options),className:s[Ue.WeekNumberHeader],style:S==null?void 0:S[Ue.WeekNumberHeader],scope:"col"},D()),rt.map(Xe=>U.createElement(n.Weekday,{"aria-label":At(Xe,a.options,a),className:s[Ue.Weekday],key:String(Xe),style:S==null?void 0:S[Ue.Weekday],scope:"col"},N(Xe,a.options,a)))),U.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:s[Ue.Weeks],style:S==null?void 0:S[Ue.Weeks]},Ze.weeks.map(Xe=>U.createElement(n.Week,{className:s[Ue.Week],key:Xe.weekNumber,style:S==null?void 0:S[Ue.Week],week:Xe},k&&U.createElement(n.WeekNumber,{week:Xe,style:S==null?void 0:S[Ue.WeekNumber],"aria-label":on(Xe.weekNumber,{locale:o}),className:s[Ue.WeekNumber],scope:"row",role:"rowheader"},j(Xe.weekNumber,a)),Xe.days.map(Je=>{const{date:Cn}=Je,dt=Se(Je);if(dt[fn.focused]=!dt.hidden&&!!(ct!=null&&ct.isEqualTo(Je)),dt[Ea.selected]=(xe==null?void 0:xe(Cn))||dt.selected,fT(Ke)){const{from:nr,to:ji}=Ke;dt[Ea.range_start]=!!(nr&&ji&&a.isSameDay(Cn,nr)),dt[Ea.range_end]=!!(nr&&ji&&a.isSameDay(Cn,ji)),dt[Ea.range_middle]=Io(Ke,Cn,!0,a)}const ra=Kee(dt,S,e.modifiersStyles),md=Iee(dt,s,e.modifiersClassNames),gd=!Wt&&!dt.hidden?Ae(Cn,dt,a.options,a):void 0;return U.createElement(n.Day,{key:`${a.format(Cn,"yyyy-MM-dd")}_${a.format(Je.displayMonth,"yyyy-MM")}`,day:Je,modifiers:dt,className:md.join(" "),style:ra,role:"gridcell","aria-selected":dt.selected||void 0,"aria-label":gd,"data-day":a.format(Cn,"yyyy-MM-dd"),"data-month":Je.outside?a.format(Cn,"yyyy-MM"):void 0,"data-selected":dt.selected||void 0,"data-disabled":dt.disabled||void 0,"data-hidden":dt.hidden||void 0,"data-outside":Je.outside||void 0,"data-focused":dt.focused||void 0,"data-today":dt.today||void 0},!dt.hidden&&Wt?U.createElement(n.DayButton,{className:s[Ue.DayButton],style:S==null?void 0:S[Ue.DayButton],type:"button",day:Je,modifiers:dt,disabled:dt.disabled||void 0,tabIndex:Ce(Je)?0:-1,"aria-label":ye(Cn,dt,a.options,a),onClick:qn(Je,dt),onBlur:Oi(Je,dt),onFocus:Ci(Je,dt),onKeyDown:po(Je,dt),onMouseEnter:mo(Je,dt),onMouseLeave:yl(Je,dt)},E(Cn,a.options,a)):!dt.hidden&&E(Je.date,a.options,a))})))))))),e.footer&&U.createElement(n.Footer,{className:s[Ue.Footer],style:S==null?void 0:S[Ue.Footer],role:"status","aria-live":"polite"},e.footer)))}const Ote=(t,e)=>{if(!t||!e)return"Indefinido";const n=new Date,r=new Date(t);if(isNaN(r.getTime()))return"Indefinido";const i=(n.getTime()-r.getTime())/(1e3*60*60*24);return e==="Hembra"?i<=60?"Cabrita":i<=365?"Cabritona":"Cabra Primípara":i<=60?"Cabrito":i<=365?"Macho de Levante":"Macho Cabrío (Reproductor)"},Ag=({legend:t,children:e})=>f.jsxs("fieldset",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-800/50 space-y-4",children:[f.jsx("legend",{className:"px-2 text-sm font-semibold text-zinc-400",children:t}),e]}),Mk=({labelOn:t,labelOff:e,value:n,onChange:r})=>f.jsxs("div",{onClick:()=>r(!n),className:"w-full bg-zinc-800/80 rounded-xl p-1 flex cursor-pointer",children:[f.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"bg-zinc-600 text-white":"text-zinc-400"}`,children:t}),f.jsx("span",{className:`w-1/2 text-center font-semibold p-2 rounded-lg transition-all ${n?"text-zinc-400":"bg-zinc-600 text-white"}`,children:e})]}),I5=({onSaveSuccess:t,onCancel:e})=>{const{addAnimal:n,animals:r,lots:i}=It(),[a,o]=V.useState("Hembra"),[s,l]=V.useState(!1),[c,u]=V.useState(""),[d,h]=V.useState(""),[g,b]=V.useState(""),[v,w]=V.useState(""),[x,_]=V.useState(""),[A,k]=V.useState(""),[S,C]=V.useState(""),[E,T]=V.useState(""),[j,D]=V.useState(null),[N,$]=V.useState(!1),[L,Q]=V.useState(!1),[ne,ce]=V.useState(!1),le=V.useMemo(()=>Ote(d,a),[d,a]),Y=async G=>{if(G.preventDefault(),D(null),!c||!d){D({type:"error",text:"El ID y la Fecha de Nacimiento son obligatorios."});return}const pe={sex:a,isReference:s,birthDate:d,lifecycleStage:le,conceptionMethod:g,birthWeight:v?parseFloat(v):void 0,fatherId:x||void 0,motherId:A||void 0,racialComposition:S||void 0,location:E||"",status:"Activo",reproductiveStatus:"No Aplica"};try{await n({id:c.toUpperCase(),...pe}),D({type:"success",text:`Animal ${c.toUpperCase()} agregado con éxito.`}),setTimeout(t,1500)}catch(Se){D({type:"error",text:Se.message||"No se pudo guardar el animal."}),console.error("Error al guardar animal:",Se)}};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:Y,className:"w-full space-y-6",children:[f.jsxs(Ag,{legend:"Categoría",children:[f.jsx(Mk,{labelOn:"Hembra",labelOff:"Macho",value:a==="Hembra",onChange:G=>o(G?"Hembra":"Macho")}),f.jsx(Mk,{labelOn:"Activo",labelOff:"Referencia",value:!s,onChange:G=>l(!G)})]}),f.jsxs(Ag,{legend:"Identificación",children:[f.jsx("input",{autoFocus:!0,value:c,onChange:G=>u(G.target.value),placeholder:"Identificación del Animal (ID)",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",required:!0}),f.jsxs("button",{type:"button",onClick:()=>$(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[f.jsx("span",{className:d?"text-white":"text-zinc-500",children:d?new Date(d+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Fecha de Nacimiento"}),f.jsx(cf,{className:"text-zinc-400",size:20})]}),f.jsxs("div",{className:"bg-zinc-800/80 p-3 rounded-xl text-lg flex justify-between items-center",children:[f.jsx("span",{className:"text-zinc-400",children:"Estado:"}),f.jsx("span",{className:"font-semibold text-white",children:le})]})]}),f.jsxs(Ag,{legend:"Genética y Nacimiento",children:[f.jsxs("select",{value:g,onChange:G=>b(G.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",children:[f.jsx("option",{value:"",children:"Origen / Concepción..."}),f.jsx("option",{value:"MN",children:"Monta Natural (MN)"}),f.jsx("option",{value:"IA",children:"Inseminación Artificial (IA)"}),f.jsx("option",{value:"TE",children:"Transferencia de Embriones (TE)"})]}),f.jsx("input",{type:"number",step:"0.1",value:v,onChange:G=>w(G.target.value),placeholder:"Peso al Nacer (Kg)",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"}),f.jsxs("button",{type:"button",onClick:()=>ce(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[f.jsx("span",{className:x?"text-white":"text-zinc-500",children:x||"Padre (Semental)"}),f.jsx(bc,{className:"text-zinc-400",size:20})]}),f.jsxs("button",{type:"button",onClick:()=>Q(!0),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[f.jsx("span",{className:A?"text-white":"text-zinc-500",children:A||"Madre"}),f.jsx(bc,{className:"text-zinc-400",size:20})]}),f.jsx("input",{value:S,onChange:G=>C(G.target.value),placeholder:"Composición Racial (Ej: 50%A 50%S)",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),f.jsxs(Ag,{legend:"Manejo",children:[f.jsxs("select",{value:E,onChange:G=>T(G.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg",children:[f.jsx("option",{value:"",children:"Ubicación / Lote (Opcional)..."}),i.map(G=>f.jsx("option",{value:G.name,children:G.name},G.id))]}),f.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'Si no se asigna un lote, se podrá encontrar en el filtro "Última Carga".'})]}),f.jsxs("div",{className:"space-y-3 pt-4",children:[j&&f.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${j.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",j.type==="success"?f.jsx(rs,{size:18}):f.jsx(_i,{size:18})," ",f.jsx("span",{children:j.text})," "]}),f.jsx("button",{type:"submit",className:"w-full bg-brand-green hover:bg-green-600 text-white font-bold py-4 rounded-xl text-lg",children:"Guardar Animal"}),f.jsx("button",{type:"button",onClick:e,className:"w-full bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-3 rounded-xl text-lg",children:"Cancelar"})]})]}),f.jsx(Nt,{isOpen:N,onClose:()=>$(!1),title:"Seleccionar Fecha de Nacimiento",children:f.jsx("div",{className:"flex justify-center",children:f.jsx(dT,{mode:"single",selected:d?new Date(d+"T00:00:00"):void 0,onSelect:G=>{G&&h(G.toISOString().split("T")[0]),$(!1)},captionLayout:"dropdown",fromYear:new Date().getFullYear()-20,toYear:new Date().getFullYear()})})}),f.jsx(g_,{isOpen:L,onClose:()=>Q(!1),onSelect:G=>{k(G),Q(!1)},animals:r,title:"Seleccionar Madre",filterSex:"Hembra"}),f.jsx(g_,{isOpen:ne,onClose:()=>ce(!1),onSelect:G=>{_(G),ce(!1)},animals:r,title:"Seleccionar Padre",filterSex:"Macho"})]})},kte=({isOpen:t,onClose:e})=>{const{addBreedingGroup:n,animals:r}=It(),[i,a]=V.useState(""),[o,s]=V.useState(""),[l,c]=V.useState(new Date().toISOString().split("T")[0]),[u,d]=V.useState("45"),[h,g]=V.useState(!1),[b,v]=V.useState(!1),[w,x]=V.useState(""),_=async()=>{if(!i||!o||!l||!u){x("Todos los campos son obligatorios.");return}try{const S=new Date(l+"T00:00:00");S.setDate(S.getDate()+parseInt(u,10));const C=S.toISOString().split("T")[0];await n({name:i,sireId:o,startDate:l,endDate:C,status:"Activo"}),A()}catch(S){x("No se pudo guardar el lote de monta."),console.error(S)}},A=()=>{a(""),s(""),c(new Date().toISOString().split("T")[0]),d("45"),x(""),e()},k=V.useMemo(()=>{const S=r.find(C=>C.id===o);return S?`${o} (${S.race||"Mestizo"})`:o},[o,r]);return f.jsxs(f.Fragment,{children:[f.jsx(Nt,{isOpen:t,onClose:A,title:"Activar Nuevo Lote de Monta",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre del Lote de Monta"}),f.jsx("input",{type:"text",value:i,onChange:S=>a(S.target.value),placeholder:"Ej: Monta Otoño 2025",className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Reproductor"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{type:"button",onClick:()=>g(!0),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg text-left flex justify-between items-center",children:[f.jsx("span",{className:o?"text-white":"text-zinc-500",children:k||"Seleccionar..."}),f.jsx(bc,{className:"text-zinc-400",size:20})]}),f.jsx("button",{type:"button",onClick:()=>v(!0),className:"flex-shrink-0 p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:f.jsx(uo,{size:24})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),f.jsx("input",{type:"date",value:l,onChange:S=>c(S.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Duración (días)"}),f.jsx("input",{type:"number",value:u,onChange:S=>d(S.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg"})]})]}),w&&f.jsx("p",{className:"text-sm text-red-400",children:w}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[f.jsx("button",{onClick:A,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:_,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Lote"})]})]})}),f.jsx(g_,{isOpen:h,onClose:()=>g(!1),onSelect:S=>{s(S),g(!1)},animals:r,title:"Seleccionar Reproductor",filterSex:"Macho"}),f.jsx(Nt,{isOpen:b,onClose:()=>v(!1),title:"Registrar Nuevo Reproductor",children:f.jsx(I5,{onSaveSuccess:()=>{v(!1)},onCancel:()=>v(!1)})})]})},Ite=152,jte=21,Nte=Ite+jte,Dte=()=>{const{breedingGroups:t,serviceRecords:e,parturitions:n,animals:r,updateAnimal:i}=It(),a=V.useMemo(()=>{const o=new Date;o.setHours(0,0,0,0);const s=t.filter(d=>d.status==="Activo"),l=[],c=new Set,u=[];for(const d of s){const h=new Date(d.startDate),g=new Set(e.filter(v=>v.breedingGroupId===d.id).map(v=>v.femaleId));if(g.size===0)continue;let b=!0;for(const v of g){if(n.some(_=>_.goatId===v&&new Date(_.parturitionDate)>=h))continue;b=!1;const x=e.filter(_=>_.femaleId===v&&_.breedingGroupId===d.id).sort((_,A)=>new Date(A.serviceDate).getTime()-new Date(_.serviceDate).getTime())[0];if(x){const _=new Date(x.serviceDate);_.setDate(_.getDate()+Nte),o>_&&(c.add(d.id),u.push({femaleId:v,groupId:d.id}))}}b&&l.push(d)}return{concludedGroups:l,groupsWithAlerts:c,femalesToFlag:u}},[t,e,n]);return V.useEffect(()=>{a.femalesToFlag.length>0&&(console.log("Detectadas hembras con posible fallo reproductivo:",a.femalesToFlag),(async()=>{for(const{femaleId:o}of a.femalesToFlag){const s=r.find(l=>l.id===o);if(s){const l=s.breedingFailures||0;console.log(`Incrementando fallo para ${o}. Total anterior: ${l}. Nuevo total: ${l+1}`),await i(o,{breedingFailures:l+1})}}})())},[a.femalesToFlag,r,i]),{concludedGroups:a.concludedGroups,groupsWithAlerts:a.groupsWithAlerts}},Mte=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?f.jsxs(Nt,{isOpen:t,onClose:e,title:r,children:[" ",f.jsxs("div",{className:"space-y-6",children:[" ",f.jsx("p",{className:"text-zinc-300",children:i})," ",f.jsxs("div",{className:"flex justify-end gap-4",children:[f.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:()=>{n(),e()},className:"bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Confirmar"})]})," "]})," "]}):null,Rte=({group:t,dragControls:e})=>f.jsxs("div",{className:"w-full p-4 flex items-center",children:[f.jsx("div",{className:"pl-2 pr-4 cursor-grab touch-none self-stretch flex items-center",onPointerDown:n=>e.start(n),children:f.jsx(s4,{className:"text-zinc-500"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsxs("p",{className:"font-bold text-lg text-white flex items-center gap-2",children:[" ",t.name," ",t.hasAlert&&f.jsx(_i,{className:"text-brand-red",size:16})," "]}),f.jsxs("p",{className:"text-sm text-zinc-400",children:["Semental: ",t.sireId," | ",f.jsx("span",{className:"font-semibold text-brand-orange",children:t.animalCount})," ",t.animalCount===1?"hembra":"hembras"]})]}),f.jsx(ll,{className:"text-zinc-600"})]}),$te=({group:t,onEdit:e,onDelete:n,onClick:r,dragControls:i})=>{const a=JV(),o=V.useRef(!1),s=(l,c)=>{const u=c.offset.x,d=c.velocity.x;if(Math.abs(u)<2){r();return}u<-160/2||d<-500?a.start({x:-160}):a.start({x:0}),setTimeout(()=>{o.current=!1},100)};return f.jsxs("div",{className:"relative w-full overflow-hidden rounded-2xl bg-brand-glass border border-brand-border",children:[f.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center z-0 h-full",children:[f.jsxs("button",{onClick:e,onPointerDown:l=>l.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-orange text-white",children:[f.jsx(Z0,{size:22}),f.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Opciones"})]}),f.jsxs("button",{onClick:n,onPointerDown:l=>l.stopPropagation(),className:"h-full w-[80px] flex flex-col items-center justify-center bg-brand-red text-white",children:[f.jsx(bm,{size:22}),f.jsx("span",{className:"text-xs mt-1 font-semibold",children:"Eliminar"})]})]}),f.jsx(ab.div,{drag:"x",dragConstraints:{left:-160,right:0},dragElastic:.1,onDragStart:()=>{o.current=!0},onDragEnd:s,onTap:()=>{o.current||r()},animate:a,transition:{type:"spring",stiffness:400,damping:40},className:"relative w-full z-10 cursor-pointer bg-ios-modal-bg",children:f.jsx(Rte,{group:t,dragControls:i})})]})},Rk=({group:t,navigateTo:e,onEdit:n,onDelete:r})=>{const i=e5();return f.jsxs(r5,{value:t,dragListener:!1,dragControls:i,children:[" ",f.jsx($te,{group:t,dragControls:i,onClick:()=>e({name:"breeding-group-detail",groupId:t.id}),onEdit:()=>n(t),onDelete:()=>r(t)})," "]},t.id)};function Lte({navigateTo:t}){const{breedingGroups:e,animals:n,updateBreedingGroup:r,deleteBreedingGroup:i}=It(),[a,o]=V.useState(!1),{concludedGroups:s,groupsWithAlerts:l}=Dte(),[c,u]=V.useState(!1),[d,h]=V.useState(null),[g,b]=V.useState(null),v=V.useMemo(()=>{const k=E=>({...E,animalCount:n.filter(T=>T.breedingGroupId===E.id).length,hasAlert:l.has(E.id)}),S=e.filter(E=>E.status==="Activo"&&!s.some(T=>T.id===E.id)).map(k).sort((E,T)=>new Date(T.startDate).getTime()-new Date(E.startDate).getTime()),C=s.map(k);return{active:S,concluded:C}},[e,n,s,l]),[w,x]=V.useState(v.active);V.useEffect(()=>{x(v.active)},[v.active]);const _=()=>{g&&i(g.id)},A=[{label:"Cerrar Temporada",icon:Y0,onClick:()=>{d&&r(d.id,{status:"Cerrado"})}}];return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-lg",children:[f.jsx(uo,{size:20})," Activar Temporada de Monta"]}),f.jsxs("div",{className:"space-y-2 pt-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-zinc-300",children:"Temporadas Activas"}),w.length>0?f.jsx(n5,{as:"div",axis:"y",values:w,onReorder:x,className:"space-y-3",children:w.map(k=>f.jsx(Rk,{group:k,navigateTo:t,onEdit:S=>{h(S),u(!0)},onDelete:S=>b(S)},k.id))}):f.jsxs("div",{className:"text-center py-6 bg-brand-glass rounded-2xl",children:[" ",f.jsx("p",{className:"text-zinc-500",children:"No hay temporadas de monta activas."})," "]})]}),f.jsxs("div",{className:"space-y-2 pt-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-zinc-300",children:"Temporadas Concluidas"}),v.concluded.length>0?v.concluded.map(k=>f.jsx(Rk,{group:{...k,hasAlert:!1},navigateTo:t,onEdit:S=>{h(S),u(!0)},onDelete:S=>alert(`El lote concluido '${S.name}' no se puede eliminar permanentemente.`)},k.id)):f.jsxs("div",{className:"text-center py-6 bg-brand-glass rounded-2xl",children:[" ",f.jsx("p",{className:"text-zinc-500",children:"Aún no hay temporadas concluidas."})," "]})]}),f.jsx(kte,{isOpen:a,onClose:()=>o(!1)}),f.jsx(i5,{isOpen:c,onClose:()=>u(!1),title:`Opciones para "${d==null?void 0:d.name}"`,actions:A}),f.jsx(Mte,{isOpen:!!g,onClose:()=>b(null),onConfirm:_,title:"Eliminar Lote de Monta",message:`¿Estás seguro de que quieres ELIMINAR PERMANENTEMENTE el lote "${g==null?void 0:g.name}"? Esta acción no se puede deshacer.`})]})}function $k({navigateTo:t}){const[e,n]=V.useState("physical"),[r,i]=V.useState(!1);return f.jsxs("div",{className:"w-full max-w-lg mx-auto space-y-4 pb-24",children:[f.jsxs("header",{className:"text-center pt-8 pb-4 px-0",children:[f.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Lotes"}),f.jsx("p",{className:"text-xl text-zinc-400",children:"Gestión de Grupos"})]}),f.jsx("div",{className:"px-4",children:f.jsxs("div",{className:"relative bg-brand-glass rounded-xl p-1 border border-brand-border flex items-center",children:[f.jsxs("button",{onClick:()=>n("physical"),className:`w-1/2 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="physical"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[f.jsx(Yf,{size:16})," ",f.jsx("span",{className:"text-sm font-semibold",children:"Lotes Físicos"}),f.jsx("span",{onClick:a=>{a.stopPropagation(),i(!0)},className:"ml-2 p-1 rounded-full hover:bg-brand-orange/50",children:f.jsx(uo,{size:18})})]}),f.jsxs("button",{onClick:()=>n("breeding"),className:`w-1/2 py-2 text-sm font-semibold rounded-lg transition-colors flex items-center justify-center gap-2 ${e==="breeding"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:[f.jsx(cp,{size:16})," Lotes de Monta"]})]})}),f.jsx("div",{className:"pt-0",children:f.jsxs("div",{className:"px-0",children:[e==="physical"&&f.jsx(TZ,{navigateTo:t}),e==="breeding"&&f.jsx(Lte,{navigateTo:t})]})}),f.jsx(x4,{isOpen:r,onClose:()=>i(!1)})]})}const Vte=()=>({isRelated:V.useCallback((e,n,r)=>{if(!e||!n)return!1;const i=r.find(a=>a.id===e);if(!i)return!1;if(i.fatherId===n)return!0;if(i.motherId){const a=r.find(o=>o.id===i.motherId);if(a&&a.fatherId===n)return!0}return!1},[])}),Ks=t=>{if(!t||t==="N/A")return-1;const e=new Date(t+"T00:00:00Z"),n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));if(isNaN(e.getTime()))return-1;const i=r.getTime()-e.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},Jf=t=>{const e=Ks(t);if(e<0)return"N/A";if(e<=60)return`${e} día${e!==1?"s":""}`;const n=30.4375,r=Math.floor(e/n);if(r<12){const o=Math.round(e%n);return`${r} mes${r!==1?"es":""}${o>0?` y ${o} día${o!==1?"s":""}`:""}`}const i=Math.floor(r/12),a=Math.round(r%12);return`${i} año${i!==1?"s":""}${a>0?` y ${a} mes${a!==1?"es":""}`:""}`},Wa=(t,e)=>{const n=Ks(t.birthDate);return n<0?"Indefinido":t.sex==="Hembra"?t.weaningDate||n>60?e.some(i=>i.goatId===t.id)?"Cabra":"Cabritona":"Cabrita":n>=365?"Macho Cabrío":t.weaningDate||n>60?"Macho de Levante":"Cabrito"},Pm=(t,e)=>{const n=new Date(t+"T00:00:00Z"),r=new Date(e+"T00:00:00Z");if(isNaN(n.getTime())||isNaN(r.getTime()))return 0;const i=r.getTime()-n.getTime(),a=Math.floor(i/(1e3*60*60*24));return Math.max(0,a)},Fte=(t,e)=>{const r=1+(e-50)/(e+50),i=t*Math.max(.5,r);return parseFloat(i.toFixed(2))},j5=(t,e)=>{if(e.length===0)return{overall:null,recent:null};const n=[...e].sort((o,s)=>new Date(o.date).getTime()-new Date(s.date).getTime()),r=n[n.length-1];let i=null;if(t&&t>0){const o=Ks(n[0].date);o>0&&(i=(r.kg-t)/o)}let a=null;if(n.length>=2){const o=r,s=n[n.length-2],l=Ks(s.date)-Ks(o.date);l>0&&(a=(o.kg-s.kg)/l)}return{overall:i,recent:a}},zte=(t,e,n)=>{if(t.length<2)return null;const r=t.map(u=>({age:Ks(e),kg:u.kg})).sort((u,d)=>u.age-d.age),i=r.filter(u=>u.age<=n).pop(),a=r.find(u=>u.age>=n);if(!i||!a)return null;if(i.age===a.age)return i.kg;const o=a.age-i.age;if(o===0)return i.kg;const s=a.kg-i.kg,l=n-i.age,c=i.kg+l/o*s;return parseFloat(c.toFixed(2))},Bte=(t,e,n)=>{if(e===0)return 100;const r=t/e*100,i=1+(180-Math.min(n,180))/180*.1;return Math.round(r*i)},Ute={PREGNANT:{key:"PREGNANT",Icon:i4,color:"text-pink-400",label:"Preñada"},IN_SERVICE_CONFIRMED:{key:"IN_SERVICE_CONFIRMED",Icon:l4,color:"text-pink-500",label:"Servicio Visto"},IN_SERVICE:{key:"IN_SERVICE",Icon:PA,color:"text-red-400",label:"En Monta"},EMPTY:{key:"EMPTY",Icon:a4,color:"text-zinc-500",label:"Vacía"},SIRE_IN_SERVICE:{key:"SIRE_IN_SERVICE",Icon:y4,color:"text-blue-400",label:"Reproductor Activo"},MILKING:{key:"MILKING",Icon:ym,color:"text-blue-300",label:"En Ordeño"},DRYING_OFF:{key:"DRYING_OFF",Icon:J0,color:"text-yellow-400",label:"Secando"},DRY:{key:"DRY",Icon:Y0,color:"text-zinc-400",label:"Seca"}},Wte=(t,e,n,r)=>{const i=[];if(!t)return[];if(t.sex==="Hembra"){const a=e.filter(o=>o.goatId===t.id&&o.status!=="finalizada").sort((o,s)=>new Date(s.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];a&&(a.status==="activa"?i.push("MILKING"):a.status==="en-secado"?i.push("DRYING_OFF"):a.status==="seca"&&i.push("DRY"))}return t.reproductiveStatus==="Preñada"?i.push("PREGNANT"):t.reproductiveStatus==="En Servicio"?n.some(a=>a.femaleId===t.id&&a.breedingGroupId===t.breedingGroupId)?i.push("IN_SERVICE_CONFIRMED"):i.push("IN_SERVICE"):(t.reproductiveStatus==="Vacía"||t.reproductiveStatus==="Post-Parto")&&i.push("EMPTY"),t.sex==="Macho"&&r.some(a=>a.sireId===t.id&&a.status==="Activo")&&i.push("SIRE_IN_SERVICE"),Array.from(new Set(i))},Kte=["Cabrita","Cabritona","Cabra","Cabrito","Macho de Levante","Macho Cabrío"],Lk=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-zinc-400 mb-2",children:t}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{type:"button",onClick:()=>r("ALL"),className:`px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const{Icon:a,label:o}=Ute[i];return f.jsxs("button",{type:"button",onClick:()=>r(i),className:`flex items-center gap-1.5 px-2 py-1 text-xs font-semibold rounded-full transition-colors ${n===i?"bg-brand-blue text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[f.jsx(a,{size:14}),o]},i)})]})]}),hT=({isOpen:t,onClose:e,onSelect:n,animals:r,parturitions:i,serviceRecords:a,breedingGroups:o,title:s,sireIdForInbreedingCheck:l})=>{const[c,u]=V.useState(""),[d,h]=V.useState(new Set),{isRelated:g}=Vte(),[b,v]=V.useState(!1),[w,x]=V.useState("Todos"),[_,A]=V.useState(!1),[k,S]=V.useState("ALL"),[C,E]=V.useState("ALL"),T=V.useMemo(()=>r.map(L=>({...L,statuses:Wte(L,i,a,o),formattedAge:Jf(L.birthDate),zootecnicCategory:Wa(L,i)})),[r,i,a,o]),j=V.useMemo(()=>{let L=T;return _?L.sort((Q,ne)=>(ne.createdAt||0)-(Q.createdAt||0)).slice(0,25):(w!=="Todos"&&(L=L.filter(Q=>Q.zootecnicCategory===w)),k!=="ALL"&&(L=L.filter(Q=>Q.statuses.includes(k))),C!=="ALL"&&(L=L.filter(Q=>Q.statuses.includes(C))),c&&(L=L.filter(Q=>Q.id.toLowerCase().includes(c.toLowerCase()))),L)},[T,w,_,k,C,c]),D=()=>{j.every(L=>d.has(L.id))?h(new Set):h(new Set(j.map(L=>L.id)))},N=()=>{n(Array.from(d)),e()},$=()=>{x("Todos"),A(!1),S("ALL"),E("ALL"),u("")};return f.jsx(Nt,{isOpen:t,onClose:e,title:s,size:"fullscreen",children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex-shrink-0 space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),f.jsx("input",{type:"search",placeholder:"Buscar por ID...",value:c,onChange:L=>u(L.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl pl-10 pr-4 py-2.5 text-white focus:ring-2 focus:ring-brand-orange"})]}),f.jsxs("button",{onClick:()=>v(!b),className:"w-full flex justify-between items-center text-zinc-400 hover:text-white",children:[f.jsx("span",{className:"text-sm font-semibold",children:"Filtros Avanzados"}),f.jsx(tv,{className:`transition-transform ${b?"rotate-180":""}`})]}),b&&f.jsxs("div",{className:"space-y-4 p-4 bg-black/20 rounded-2xl animate-fade-in",children:[f.jsx(Lk,{title:"Filtros Productivos",filters:["MILKING","DRYING_OFF","DRY"],activeFilter:k,onFilterChange:S}),f.jsx(Lk,{title:"Filtros Reproductivos",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"],activeFilter:C,onFilterChange:E}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-brand-border",children:[f.jsxs("select",{value:w,onChange:L=>x(L.target.value),className:"w-full bg-zinc-800 p-2 rounded-xl text-white border border-zinc-700 text-sm",children:[f.jsx("option",{value:"Todos",children:"Categoría Zootécnica..."}),Kte.map(L=>f.jsx("option",{value:L,children:L},L))]}),f.jsxs("button",{onClick:()=>A(!_),className:`flex-shrink-0 flex items-center gap-2 p-2 rounded-xl border text-sm transition-colors ${_?"bg-brand-orange border-brand-orange text-white":"border-zinc-700 bg-zinc-800 text-zinc-300"}`,children:[f.jsx(c4,{size:16})," Última Carga"]}),f.jsx("button",{onClick:$,className:"flex-shrink-0 p-2 rounded-xl border border-zinc-700 bg-zinc-800 text-zinc-300",children:f.jsx(TA,{size:16})})]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 py-4 min-h-[10rem]",children:j.length>0?j.map(L=>{const Q=l?g(L.id,l,r):!1;return f.jsxs("div",{onClick:()=>h(ne=>{const ce=new Set(ne);return ce.has(L.id)?ce.delete(L.id):ce.add(L.id),ce}),className:`w-full text-left p-3 flex items-center gap-4 rounded-lg cursor-pointer transition-colors ${Q?"bg-yellow-900/50 border border-yellow-500/60 hover:bg-yellow-800/50":"bg-zinc-800/50 hover:bg-zinc-700"}`,children:[d.has(L.id)?f.jsx(h4,{className:"text-brand-orange flex-shrink-0"}):f.jsx(p4,{className:"text-zinc-500 flex-shrink-0"}),f.jsxs("div",{className:"flex-grow",children:[f.jsxs("p",{className:"font-bold text-white flex items-center gap-2",children:[L.id," ",Q&&f.jsx(_i,{className:"text-yellow-400",size:16})]}),f.jsxs("p",{className:"text-xs text-zinc-400",children:[L.sex," | ",L.formattedAge," | ",L.zootecnicCategory," ",L.location&&`| Lote: ${L.location}`]})]})]},L.id)}):f.jsx("div",{className:"flex-grow flex items-center justify-center",children:f.jsx("p",{className:"text-zinc-500 text-center",children:"No se encontraron animales."})})}),f.jsxs("div",{className:"flex-shrink-0 grid grid-cols-3 items-center pt-4 border-t border-brand-border gap-2",children:[f.jsx("button",{type:"button",onClick:D,disabled:j.length===0,className:"bg-zinc-700 hover:bg-zinc-600 text-white font-bold py-3 px-2 rounded-lg disabled:opacity-50 text-sm",children:j.every(L=>d.has(L.id))?"Deseleccionar":"Sel. Todos"}),f.jsx("button",{onClick:e,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-3 px-2 rounded-lg text-sm",children:"Cancelar"}),f.jsxs("button",{onClick:N,className:"bg-brand-green hover:bg-green-600 text-white font-bold py-3 px-2 rounded-lg disabled:opacity-50 text-sm",children:["Seleccionar (",d.size,")"]})]})]})})},qte=({isOpen:t,onClose:e,animalsToTransfer:n,fromLot:r})=>{const{lots:i,updateAnimal:a}=It(),[o,s]=V.useState(""),l=V.useMemo(()=>i.filter(u=>u.name!==r),[i,r]),c=async()=>{if(!o||n.length===0)return;const u=n.map(d=>a(d,{location:o}));try{await Promise.all(u),e()}catch(d){console.error("Error al transferir animales:",d)}};return f.jsx(Nt,{isOpen:t,onClose:e,title:`Transferir ${n.length} animales`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:["Transferir desde: ",f.jsx("span",{className:"font-semibold text-white",children:r})]}),f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1 mt-4",children:"Hacia el lote:"}),f.jsxs("select",{value:o,onChange:u=>s(u.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[f.jsx("option",{value:"",children:"Seleccionar lote de destino..."}),l.map(u=>f.jsx("option",{value:u.name,children:u.name},u.id))]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:c,disabled:!o,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg disabled:opacity-50",children:"Confirmar Transferencia"})]})]})})},Hte=({animal:t,onSelect:e,isEditing:n,isSelected:r})=>{const{parturitions:i}=It(),a=Jf(t.birthDate),o=Wa(t,i);return f.jsx("div",{onClick:()=>e(t.id),className:`w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border flex justify-between items-center transition-all ${n?"cursor-pointer border-transparent":"hover:border-brand-orange"}`,children:f.jsxs("div",{className:"flex items-center gap-4",children:[n&&(r?f.jsx(h4,{className:"text-brand-orange flex-shrink-0",size:24}):f.jsx(p4,{className:"text-zinc-500 flex-shrink-0",size:24})),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),f.jsxs("p",{className:"text-sm text-zinc-400",children:[t.sex," | ",a," | ",o]})]})]})})};function Gte({lotName:t,onBack:e,navigateTo:n}){const{animals:r,parturitions:i,serviceRecords:a,breedingGroups:o,updateAnimal:s}=It(),[l,c]=V.useState(!1),[u,d]=V.useState(!1),[h,g]=V.useState(new Set),[b,v]=V.useState(!1),w=V.useMemo(()=>r.filter(k=>(k.location||"Sin Asignar")===t).sort((k,S)=>k.id.localeCompare(S.id)),[r,t]),x=k=>{g(S=>{const C=new Set(S);return C.has(k)?C.delete(k):C.add(k),C})},_=async()=>{const k=Array.from(h).map(S=>s(S,{location:""}));try{await Promise.all(k),d(!1),g(new Set)}catch(S){console.error("Error al quitar animales del lote:",S)}},A=async k=>{const S=k.map(C=>s(C,{location:t}));await Promise.all(S)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-24 animate-fade-in",children:[f.jsxs("header",{className:"flex items-center justify-between pt-8 pb-4 px-4",children:[f.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:t}),f.jsxs("p",{className:"text-lg text-zinc-400",children:[w.length," ",w.length===1?"animal":"animales"]})]}),u?f.jsx("button",{onClick:()=>{d(!1),g(new Set)},className:"text-brand-orange font-semibold px-2 py-1",children:"Listo"}):f.jsx("button",{onClick:()=>d(!0),className:"p-2 -mr-2 text-zinc-400 hover:text-white",children:f.jsx(Z0,{size:20})})]}),!u&&f.jsx("div",{className:"px-4",children:f.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[f.jsx(uo,{size:20})," Añadir Animales"]})}),f.jsx("div",{className:"space-y-2 pt-4 px-4",children:w.map(k=>f.jsx(Hte,{animal:k,isEditing:u,isSelected:h.has(k.id),onSelect:S=>u?x(S):n({name:"rebano-profile",animalId:S})},k.id))})]}),u&&h.size>0&&f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/50 backdrop-blur-md p-4 border-t border-brand-border animate-slide-up z-20",children:f.jsxs("div",{className:"max-w-2xl mx-auto flex gap-4",children:[f.jsxs("button",{onClick:_,className:"flex-1 flex items-center justify-center gap-2 bg-brand-red text-white font-bold py-3 rounded-xl",children:[f.jsx(bm,{size:18})," Quitar del Lote"]}),f.jsxs("button",{onClick:()=>v(!0),className:"flex-1 flex items-center justify-center gap-2 bg-brand-blue text-white font-bold py-3 rounded-xl",children:[f.jsx(_H,{size:18})," Transferir"]})]})}),f.jsx(hT,{isOpen:l,onClose:()=>c(!1),onSelect:A,animals:r,parturitions:i,serviceRecords:a,breedingGroups:o,title:`Añadir animales a: ${t}`}),f.jsx(qte,{isOpen:b,onClose:()=>{v(!1),d(!1),g(new Set)},animalsToTransfer:Array.from(h),fromLot:t})]})}function Yte({onBack:t}){return f.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex flex-col justify-end animate-fade-in",onClick:t,children:f.jsxs("div",{className:"bg-ios-modal-bg w-full max-w-4xl mx-auto h-[95vh] rounded-t-2xl flex flex-col animate-slide-up",onClick:e=>e.stopPropagation(),children:[f.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-brand-border",children:[f.jsx("div",{className:"w-10"})," ",f.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Ingresar Nuevo Animal"}),f.jsx("button",{onClick:t,className:"p-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700/50 transition-colors","aria-label":"Cerrar",children:f.jsx(jc,{size:24})})]}),f.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:f.jsx("div",{className:"max-w-2xl mx-auto",children:f.jsx(I5,{onSaveSuccess:t,onCancel:t})})})]})})}const N5=(t,e)=>{const[n,r]=V.useState(""),i=V.useMemo(()=>n?t.filter(a=>e.some(o=>{const s=a[o];return typeof s=="string"||typeof s=="number"?s.toString().toLowerCase().includes(n.toLowerCase()):!1})):t,[t,n,e]);return{searchTerm:n,setSearchTerm:r,filteredItems:i}},D5=({title:t,subtitle:e,searchTerm:n,setSearchTerm:r})=>{const[i,a]=V.useState(!1),o=V.useRef(null);V.useEffect(()=>{var l;i&&((l=o.current)==null||l.focus())},[i]);const s=()=>{r(""),a(!1)};return f.jsxs("header",{className:"text-center pt-4 pb-4 relative overflow-hidden",children:[f.jsxs("div",{className:`transition-transform duration-300 ${i?"-translate-y-20":"translate-y-0"}`,children:[f.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:t}),f.jsx("p",{className:"text-md text-zinc-400",children:e})]}),f.jsx("div",{className:`absolute inset-0 transition-transform duration-300 flex items-center pt-2 ${i?"translate-y-0":"translate-y-20"}`,children:f.jsx("input",{ref:o,type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Buscar por ID...",className:"w-full bg-zinc-800 text-white text-lg placeholder-zinc-500 p-3 rounded-xl border-2 border-transparent focus:border-amber-500 focus:ring-0 focus:outline-none"})}),f.jsx("div",{className:"absolute top-4 right-0 pt-1",children:f.jsx("button",{onClick:i?s:()=>a(!0),className:"p-2 text-zinc-400 hover:text-white transition-colors",children:i?f.jsx(jc,{size:22}):f.jsx(bc,{size:22})})})]})},Xte=({statuses:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((n,r)=>{const i=["MILKING","DRYING_OFF","DRY","PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"];return i.indexOf(n.key)-i.indexOf(r.key)});return f.jsx("div",{className:"flex items-center space-x-1.5",children:e.map(({key:n,Icon:r,color:i,label:a})=>f.jsx("span",{title:a,children:f.jsx(r,{className:i,size:16,strokeWidth:2.5})},n))})},M5={PREGNANT:{key:"PREGNANT",Icon:i4,color:"text-pink-400",label:"Preñada"},IN_SERVICE_CONFIRMED:{key:"IN_SERVICE_CONFIRMED",Icon:l4,color:"text-pink-500",label:"Servicio Visto"},IN_SERVICE:{key:"IN_SERVICE",Icon:PA,color:"text-red-400",label:"En Monta"},EMPTY:{key:"EMPTY",Icon:a4,color:"text-zinc-500",label:"Vacía"},SIRE_IN_SERVICE:{key:"SIRE_IN_SERVICE",Icon:y4,color:"text-blue-400",label:"Reproductor Activo"},MILKING:{key:"MILKING",Icon:ym,color:"text-blue-300",label:"En Ordeño"},DRYING_OFF:{key:"DRYING_OFF",Icon:J0,color:"text-yellow-400",label:"Secando"},DRY:{key:"DRY",Icon:Y0,color:"text-zinc-400",label:"Seca"}},Qte=(t,e,n,r)=>{const i=[];if(!t)return[];if(t.sex==="Hembra"){const a=e.filter(o=>o.goatId===t.id&&o.status!=="finalizada").sort((o,s)=>new Date(s.parturitionDate).getTime()-new Date(o.parturitionDate).getTime())[0];a&&(a.status==="activa"?i.push("MILKING"):a.status==="en-secado"?i.push("DRYING_OFF"):a.status==="seca"&&i.push("DRY"))}return t.reproductiveStatus==="Preñada"?i.push("PREGNANT"):t.reproductiveStatus==="En Servicio"?n.some(o=>o.femaleId===t.id&&o.breedingGroupId===t.breedingGroupId)?i.push("IN_SERVICE_CONFIRMED"):i.push("IN_SERVICE"):(t.reproductiveStatus==="Vacía"||t.reproductiveStatus==="Post-Parto")&&i.push("EMPTY"),t.sex==="Macho"&&r.some(o=>o.sireId===t.id&&o.status==="Activo")&&i.push("SIRE_IN_SERVICE"),Array.from(new Set(i))},Zte={Cabras:(t,e)=>Wa(t,e)==="Cabra",Cabritonas:(t,e)=>Wa(t,e)==="Cabritona",Cabritas:(t,e)=>Wa(t,e)==="Cabrita","Machos Cabríos":(t,e)=>Wa(t,e)==="Macho Cabrío","Machos de Levante":(t,e)=>Wa(t,e)==="Macho de Levante",Cabritos:(t,e)=>Wa(t,e)==="Cabrito"},Jte=({animal:t,onSelect:e})=>{const n=t.statuses.map(r=>M5[r]);return f.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:[t.sex," | ",t.formattedAge," | ",t.zootecnicCategory]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Xte,{statuses:n}),f.jsxs("p",{className:"hidden sm:block text-sm text-zinc-500 font-medium w-24 text-right",children:["Lote: ",t.location||"N/A"]}),f.jsx(ll,{className:"text-zinc-600"})]})]})},Vk=({title:t,filters:e,activeFilter:n,onFilterChange:r})=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-zinc-400 mb-2",children:t}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>r("ALL"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n==="ALL"?"bg-zinc-600 text-white":"bg-zinc-800/80 text-zinc-300"}`,children:"Todos"}),e.map(i=>{const{Icon:a,label:o}=M5[i];return f.jsxs("button",{onClick:()=>r(i),className:`flex items-center gap-1.5 px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===i?"bg-brand-blue text-white":"bg-zinc-800/80 text-zinc-300"}`,children:[f.jsx(a,{size:14}),o]},i)})]})]});function ene({navigateTo:t,locationFilter:e}){const{animals:n,parturitions:r,serviceRecords:i,breedingGroups:a,isLoading:o}=It(),[s,l]=V.useState("Todos"),[c,u]=V.useState(!1),[d,h]=V.useState("ALL"),[g,b]=V.useState("ALL"),[v,w]=V.useState(!1),[x,_]=V.useState(!1),A=V.useMemo(()=>n.map(N=>({...N,statuses:Qte(N,r,i,a),formattedAge:Jf(N.birthDate),zootecnicCategory:Wa(N,r)})),[n,r,i,a]),k=V.useMemo(()=>{let N=A;return c?N.sort(($,L)=>(L.createdAt||0)-($.createdAt||0)).slice(0,25):(e&&(N=N.filter($=>($.location||"Sin Asignar")===e)),s!=="Todos"&&(N=N.filter($=>$.zootecnicCategory===s)),d!=="ALL"&&(N=N.filter($=>$.statuses.includes(d))),g!=="ALL"&&(N=N.filter($=>$.statuses.includes(g))),N)},[A,s,e,c,d,g]),{searchTerm:S,setSearchTerm:C,filteredItems:E}=N5(k,["id"]),T=N=>{u(!1),l(N.target.value)},j=()=>{const N=!c;u(N),N&&l("Todos")},D=()=>{l("Todos"),u(!1),h("ALL"),b("ALL"),C("")};return o?f.jsx("div",{className:"text-center p-10",children:f.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando rebaño..."})}):f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[f.jsx(D5,{title:e||"Mi Rebaño",subtitle:c?`Últimos ${E.length} animales cargados`:`${E.length} animales en la vista`,searchTerm:S,setSearchTerm:C}),f.jsxs("div",{className:"space-y-4 px-4",children:[f.jsxs("button",{onClick:()=>t({name:"add-animal"}),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl transition-colors text-base",children:[f.jsx(uo,{size:18})," Ingresar Nuevo Animal"]}),f.jsxs("div",{className:"space-y-4 bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>w(!v),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[f.jsx("span",{children:"Filtros Productivos"}),f.jsx(tv,{className:`transition-transform ${v?"rotate-180":""}`,size:18})]}),v&&f.jsx("div",{className:"animate-fade-in",children:f.jsx(Vk,{title:"",filters:["MILKING","DRYING_OFF","DRY"],activeFilter:d,onFilterChange:h})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>_(!x),className:"w-full flex justify-between items-center text-sm font-semibold text-zinc-400 hover:text-white transition-colors",children:[f.jsx("span",{children:"Filtros Reproductivos"}),f.jsx(tv,{className:`transition-transform ${x?"rotate-180":""}`,size:18})]}),x&&f.jsx("div",{className:"animate-fade-in",children:f.jsx(Vk,{title:"",filters:["PREGNANT","IN_SERVICE_CONFIRMED","IN_SERVICE","EMPTY","SIRE_IN_SERVICE"],activeFilter:g,onFilterChange:b})})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:j,title:"Última Carga",className:`flex items-center gap-2 py-1 px-3 text-sm font-semibold rounded-lg transition-colors ${c?"text-brand-orange":"text-zinc-400 hover:text-brand-orange"}`,children:[f.jsx(c4,{size:16})," Última Carga"]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:()=>t({name:"manage-lots"}),className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[f.jsx(TH,{size:14})," Gestionar Lotes"]}),f.jsxs("button",{onClick:D,className:"flex items-center gap-2 text-zinc-400 hover:text-brand-orange text-sm font-semibold py-1 px-3",children:[f.jsx(TA,{size:14})," Limpiar"]})]})]}),f.jsxs("select",{value:s,onChange:T,className:"w-full bg-brand-glass p-3 rounded-xl text-white border border-brand-border focus:border-brand-orange focus:ring-0",children:[f.jsx("option",{value:"Todos",children:"Todas las Categorías Zootécnicas"}),Object.keys(Zte).map(N=>f.jsx("option",{value:N,children:N},N))]})]}),f.jsx("div",{className:"space-y-2 pt-4",children:E.length>0?E.map(N=>f.jsx(Jte,{animal:N,onSelect:()=>t({name:"rebano-profile",animalId:N.id})},N.id)):f.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl mx-4",children:f.jsx("p",{className:"text-zinc-400",children:S?`No se encontraron resultados para "${S}"`:"No hay animales que coincidan con los filtros actuales."})})})]})}const tne=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=V.useState(""),[a,o]=V.useState(""),[s,l]=V.useState(""),{fathers:c}=It(),u=()=>{l("");const d=r.trim().toUpperCase(),h=a.trim();if(!d||!h){l("Ambos campos son obligatorios.");return}if(c.some(g=>g.id===d)){l("Este ID ya está en uso. Por favor, elige otro.");return}n({id:d,name:h}),i(""),o("")};return f.jsx(Nt,{isOpen:t,onClose:e,title:"Añadir Nuevo Padre",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce un ID único y el nombre del nuevo semental."}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"ID del Padre (ej. P002)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"}),f.jsx("input",{type:"text",value:a,onChange:d=>o(d.target.value),placeholder:"Nombre del Padre (ej. Sansón)",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})]}),s&&f.jsx("p",{className:"text-sm text-brand-red",children:s}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[f.jsx("button",{onClick:e,className:"px-5 py-2 bg-zinc-600 rounded-lg hover:bg-zinc-500 font-semibold",children:"Cancelar"}),f.jsx("button",{onClick:u,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Padre"})]})]})})},Fk=[{count:1,name:"Simple"},{count:2,name:"Doble"},{count:3,name:"Triple"},{count:4,name:"Cuádruple"},{count:5,name:"Quíntuple"}],nne=({value:t,onChange:e})=>f.jsxs("div",{className:"flex bg-zinc-800/80 rounded-xl p-1 w-full",children:[f.jsx("button",{type:"button",onClick:()=>e("Hembra"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Hembra"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Hembra"}),f.jsx("button",{type:"button",onClick:()=>e("Macho"),className:`w-1/2 rounded-lg py-2 text-sm font-semibold transition-colors ${t==="Macho"?"bg-zinc-600 text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Macho"})]}),Tg=t=>f.jsx("input",{...t,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none placeholder-zinc-400"}),rne=t=>f.jsx("select",{...t,className:"w-full bg-zinc-800/80 text-white p-3 rounded-xl border border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none"}),pT=({motherId:t,onSaveSuccess:e,onCancel:n})=>{const{fathers:r,addParturition:i,addFather:a}=It(),[o,s]=V.useState(t||""),[l,c]=V.useState(new Date().toISOString().split("T")[0]),[u,d]=V.useState(""),[h,g]=V.useState(1),[b,v]=V.useState([]),[w,x]=V.useState(null),[_,A]=V.useState(!1),[k,S]=V.useState(!1);V.useEffect(()=>{v($=>{const L=[...$];for(;L.length<h;)L.push({sex:"Hembra",correlative:"",birthWeight:""});return L.slice(0,h)})},[h]);const C=($,L,Q)=>{const ne=[...b];ne[$]={...ne[$],[L]:Q},v(ne)},E=async $=>{var Q;$.preventDefault(),x(null);const L=b.every(ne=>ne.correlative&&ne.birthWeight);if(!o||!l||!u||!L){x({type:"error",text:"Por favor, completa todos los campos requeridos."});return}try{const ne=r.find(le=>le.id===u),ce=b.map(le=>{const Y=le.sex==="Macho"?"X":ne.name.charAt(0).toUpperCase();return{...le,id:`${Y}${le.correlative}`}});await i({motherId:o.toUpperCase(),parturitionDate:l,sireId:u,parturitionType:(Q=Fk.find(le=>le.count===h))==null?void 0:Q.name,offspring:ce}),x({type:"success",text:"Parto y crías registrados con éxito."}),setTimeout(()=>{e()},1500)}catch(ne){x({type:"error",text:"Error al registrar el parto."}),console.error(ne)}},T=$=>{const L=r.find(ne=>ne.id===u);return!$.correlative||!L?"ID se genera aquí":`${$.sex==="Macho"?"X":L.name.charAt(0).toUpperCase()}${$.correlative}`},j=async $=>{await a($),d($.id),A(!1)},D=V.useMemo(()=>{var $;return($=r.find(L=>L.id===u))==null?void 0:$.name},[u,r]),N=$=>{d($),S(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:E,className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[f.jsxs("h2",{className:"text-lg font-semibold text-zinc-300 tracking-tight flex items-center gap-2",children:[f.jsx(DH,{size:20})," Datos del Parto"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Tg,{type:"text",value:o,onChange:$=>s($.target.value),placeholder:"ID de la Madre",required:!0,disabled:!0}),f.jsx(Tg,{type:"date",value:l,onChange:$=>c($.target.value),required:!0}),f.jsxs("div",{className:"relative md:col-span-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{type:"button",onClick:()=>S(!k),className:"w-full flex justify-between items-center text-left bg-zinc-800/80 text-white p-3 rounded-xl",children:[f.jsx("span",{className:D?"text-white":"text-zinc-400",children:D||"Seleccione el Padre"}),f.jsx(tv,{className:`transition-transform ${k?"rotate-180":""}`,size:20})]}),f.jsx("button",{type:"button",onClick:()=>A(!0),className:"h-full aspect-square flex-shrink-0 bg-brand-orange/80 text-white rounded-xl flex items-center justify-center hover:bg-brand-orange","aria-label":"Añadir nuevo padre",children:f.jsx(uo,{size:20})})]}),k&&f.jsx("div",{className:"absolute z-20 top-full mt-2 w-full bg-zinc-800 border border-zinc-700 rounded-xl max-h-48 overflow-y-auto",children:r.map($=>f.jsx("button",{type:"button",onClick:()=>N($.id),className:"w-full text-left p-3 hover:bg-zinc-700",children:$.name},$.id))})]}),f.jsx(rne,{value:h,onChange:$=>g(Number($.target.value)),required:!0,children:Fk.map($=>f.jsxs("option",{value:$.count,children:["Parto ",$.name," (",$.count,")"]},$.count))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h2",{className:"text-lg font-semibold text-zinc-300 tracking-tight flex items-center gap-2 ml-1",children:[f.jsx(Yf,{size:20})," Registro de Crías"]}),b.map(($,L)=>f.jsxs("div",{className:"bg-black/20 rounded-2xl p-4 border border-zinc-800/50 space-y-4",children:[f.jsxs("p",{className:"font-semibold text-brand-orange",children:["Cría ",L+1]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[f.jsx(nne,{value:$.sex,onChange:Q=>C(L,"sex",Q)}),f.jsx(Tg,{type:"text",value:$.correlative,onChange:Q=>C(L,"correlative",Q.target.value),placeholder:"Nº Correlativo",required:!0}),f.jsxs("div",{className:"bg-zinc-800/80 p-3 rounded-xl h-full flex items-center",children:[f.jsx("span",{className:"text-sm font-semibold text-zinc-400 mr-2",children:"ID:"}),f.jsx("span",{className:"font-mono text-indigo-300 font-bold",children:T($)})]}),f.jsx(Tg,{type:"number",step:"0.1",value:$.birthWeight,onChange:Q=>C(L,"birthWeight",Q.target.value),placeholder:"Peso al Nacer (Kg)",required:!0})]})]},L))]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{type:"submit",className:"w-full bg-brand-green hover:bg-green-600 text-white font-bold py-3 rounded-xl text-lg",children:"Guardar Registro"}),n&&f.jsx("button",{type:"button",onClick:n,className:"w-full bg-zinc-600 text-white font-bold py-3 rounded-xl text-lg",children:"Cancelar"}),w&&f.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${w.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[w.type==="success"?f.jsx(rs,{size:18}):f.jsx(_i,{size:18}),f.jsx("span",{children:w.text})]})]})]}),f.jsx(tne,{isOpen:_,onClose:()=>A(!1),onSave:j})]})},ine=({isOpen:t,onClose:e})=>{const{addOrigin:n}=It(),[r,i]=V.useState(""),[a,o]=V.useState(""),s=async()=>{if(r.trim()===""){o("El nombre del origen no puede estar vacío.");return}try{await n(r),i(""),o(""),e()}catch(c){o("No se pudo guardar el origen."),console.error(c)}},l=()=>{i(""),o(""),e()};return f.jsx(Nt,{isOpen:t,onClose:l,title:"Crear Nuevo Origen",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-zinc-400",children:"Introduce el nombre de la ganadería o finca de origen."}),f.jsx("div",{children:f.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:"Ej: Agropecuaria La Bendición",className:"w-full bg-zinc-800 text-white p-3 rounded-xl focus:border-brand-orange focus:ring-0"})}),a&&f.jsx("p",{className:"text-sm text-brand-red",children:a}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[f.jsx("button",{onClick:l,className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:s,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Origen"})]})]})})},ane=t=>{const{events:e}=It();return V.useMemo(()=>t?e.filter(a=>a.animalId===t).sort((a,o)=>new Date(o.date).getTime()-new Date(a.date).getTime()):[],[e,t])},one=t=>{const{animals:e}=It(),n=V.useMemo(()=>{const i=new Map;return e.forEach(a=>i.set(a.id,a)),i},[e]);return V.useMemo(()=>{const i=(o,s)=>{if(!o||s>2)return;const l=n.get(o);if(!l)return;const c=i(l.fatherId,s+1),u=i(l.motherId,s+1);return{animal:l,sire:c,dam:u}};return i(t,0)||null},[t,n])},Nl=({animal:t})=>{const e="bg-zinc-800/80 p-3 rounded-lg border border-zinc-700/80 w-36 text-center shadow-md";if(!t)return f.jsx("div",{className:`${e} bg-zinc-900/50 border-dashed`,children:f.jsx("p",{className:"font-semibold text-sm text-zinc-500",children:"Desconocido"})});const n=t.sex==="Hembra"?"text-pink-400":"text-blue-400";return f.jsxs("div",{className:e,children:[f.jsx("p",{className:`font-bold text-base truncate ${n}`,children:t.id}),f.jsx("p",{className:"text-xs text-zinc-400",children:t.sex})]})},sne=({rootNode:t})=>{var e,n,r,i,a,o,s,l,c,u;return t?f.jsxs("div",{className:"flex items-center justify-center space-x-4 overflow-x-auto p-2",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(Nl,{animal:t.animal})}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-6 border-t-2 border-b-2 border-l-2 border-zinc-600 h-16 rounded-l-md"}),f.jsxs("div",{className:"flex flex-col space-y-8",children:[f.jsx(Nl,{animal:(e=t.sire)==null?void 0:e.animal}),f.jsx(Nl,{animal:(n=t.dam)==null?void 0:n.animal})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx("div",{className:"w-6 border-t-2 border-b-2 border-l-2 border-zinc-600 h-12 rounded-l-md"}),f.jsx("div",{className:"w-6 border-t-2 border-b-2 border-l-2 border-zinc-600 h-12 rounded-l-md mt-6"})]}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx(Nl,{animal:(i=(r=t.sire)==null?void 0:r.sire)==null?void 0:i.animal}),f.jsx(Nl,{animal:(o=(a=t.sire)==null?void 0:a.dam)==null?void 0:o.animal}),f.jsx(Nl,{animal:(l=(s=t.dam)==null?void 0:s.sire)==null?void 0:l.animal}),f.jsx(Nl,{animal:(u=(c=t.dam)==null?void 0:c.dam)==null?void 0:u.animal})]})]})]}):f.jsx("div",{className:"text-center p-8 text-zinc-500",children:"No hay datos de genealogía suficientes para mostrar el pedigrí."})},Dl=({label:t,value:e,isEditing:n,children:r})=>f.jsxs("div",{children:[f.jsx("dt",{className:"text-sm font-medium text-zinc-400",children:t}),n&&r?r:f.jsx("dd",{className:"mt-1 text-lg font-semibold text-white",children:e||"N/A"})]}),lne=({animalId:t})=>{const e=one(t);return f.jsx(sne,{rootNode:e})},cne={Nacimiento:{icon:Q0,color:"bg-green-500/20 text-brand-green"},Movimiento:{icon:d4,color:"bg-blue-500/20 text-brand-blue"},"Cambio de Estado":{icon:IH,color:"bg-yellow-500/20 text-amber-400"},"Pesaje Lechero":{icon:wH,color:"bg-gray-500/20 text-gray-300"},"Pesaje Corporal":{icon:vm,color:"bg-purple-500/20 text-purple-300"},Servicio:{icon:gH,color:"bg-pink-500/20 text-pink-300"},Tratamiento:{icon:m4,color:"bg-red-500/20 text-brand-red"},Diagnóstico:{icon:rs,color:"bg-teal-500/20 text-teal-300"}},une=({animalId:t})=>{const e=ane(t);return e.length===0?f.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene eventos registrados."}):f.jsx("div",{className:"space-y-3",children:e.map(n=>{const r=cne[n.type]||{icon:hH,color:"bg-gray-500/20 text-gray-300"},i=r.icon;return f.jsxs("div",{className:"flex items-start gap-4 p-3 bg-black/20 rounded-lg",children:[f.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${r.color}`,children:f.jsx(i,{size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-white",children:n.type}),f.jsx("p",{className:"text-sm text-zinc-300",children:n.details}),f.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:new Date(n.date+"T00:00:00").toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"})})]})]},n.id)})})},fne=({offspring:t,navigateTo:e})=>t.length===0?f.jsx("div",{className:"text-center p-8 text-zinc-500",children:"Este animal no tiene descendencia registrada."}):f.jsx("div",{className:"space-y-2",children:t.map(n=>f.jsxs("button",{onClick:()=>e({name:"rebano-profile",animalId:n.id}),className:"w-full text-left p-3 bg-black/20 hover:bg-zinc-800/60 rounded-lg transition-colors flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-lg text-white",children:n.id}),f.jsxs("p",{className:"text-sm text-zinc-400",children:[n.sex," | Nacimiento: ",n.birthDate]})]}),f.jsx(ll,{className:"text-zinc-600"})]},n.id))}),dne=({animal:t,parturitions:e,isEditing:n,editedData:r,setEditedData:i,origins:a,onAddOriginClick:o,onLocationClick:s})=>{const l=(d,h)=>{i(g=>({...g,[d]:h}))},c=Jf(t.birthDate),u=Wa(t,e);return f.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:[f.jsx(Dl,{label:"ID",value:t.id}),f.jsx(Dl,{label:"Sexo",value:t.sex}),f.jsx(Dl,{label:"Fecha Nacimiento",value:t.birthDate,isEditing:n,children:f.jsx("input",{type:"date",value:r.birthDate||"",onChange:d=>l("birthDate",d.target.value),className:"w-full bg-zinc-700 p-2 rounded-md mt-1"})}),f.jsx(Dl,{label:"Edad",value:c}),f.jsx(Dl,{label:"Ubicación / Lote",children:!n&&f.jsx("dd",{className:"mt-1 text-lg",children:f.jsx("button",{onClick:s,className:"font-semibold text-brand-orange hover:underline text-left",children:t.location||"Sin Asignar"})})}),f.jsx(Dl,{label:"Estado Fisiológico",value:u}),f.jsx(Dl,{label:"Origen",value:t.origin,isEditing:n,children:f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsxs("select",{value:r.origin||"",onChange:d=>l("origin",d.target.value),className:"w-full bg-zinc-700 p-2 rounded-md",children:[f.jsx("option",{value:"Finca Masparrito",children:"Finca Masparrito"}),a.map(d=>f.jsx("option",{value:d.name,children:d.name},d.id))]}),f.jsx("button",{type:"button",onClick:o,className:"p-2 bg-brand-orange hover:bg-orange-600 text-white rounded-md",children:f.jsx(cl,{size:20})})]})})]})};function hne({animalId:t,onBack:e,navigateTo:n}){const{animals:r,lots:i,origins:a,parturitions:o,updateAnimal:s}=It(),[l,c]=V.useState("main"),[u,d]=V.useState(!1),[h,g]=V.useState({}),[b,v]=V.useState("idle"),[w,x]=V.useState(!1),[_,A]=V.useState(!1),[k,S]=V.useState(!1),[C,E]=V.useState(!1),[T,j]=V.useState(""),D=V.useMemo(()=>r.find(le=>le.id===t),[r,t]),N=V.useMemo(()=>D?D.sex==="Hembra"?r.filter(le=>le.motherId===D.id).sort((le,Y)=>new Date(Y.birthDate).getTime()-new Date(le.birthDate).getTime()):D.sex==="Macho"?r.filter(le=>le.fatherId===D.id).sort((le,Y)=>new Date(Y.birthDate).getTime()-new Date(le.birthDate).getTime()):[]:[],[r,D]),$=(D==null?void 0:D.breedingFailures)||0,L=$>=2?"border-brand-red ring-2 ring-brand-red/80":"border-brand-border";V.useEffect(()=>{D&&(u&&g({birthDate:D.birthDate,origin:D.origin}),j(D.location||""))},[D,u]);const Q=async()=>{if(D){v("saving");try{await s(D.id,h),v("success"),setTimeout(()=>{d(!1),v("idle")},1500)}catch(le){console.error("Error al actualizar el animal:",le),v("idle")}}},ne=()=>{d(!1)},ce=async()=>{if(D)try{await s(D.id,{location:T}),E(!1)}catch(le){console.error("Error al actualizar la ubicación:",le)}};return D?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[f.jsxs("header",{className:`bg-brand-glass backdrop-blur-xl rounded-b-2xl p-4 border-b border-x sticky top-0 z-10 transition-all ${L}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("h1",{className:"text-2xl font-bold tracking-tight text-white flex items-center gap-2",children:[D.id," ",$===1&&f.jsx("span",{title:"1 fallo reproductivo reportado",children:f.jsx(_i,{className:"text-yellow-400",size:20})})," ",$>=2&&f.jsx("span",{title:`${$} fallos reproductivos reportados`,children:f.jsx(_i,{className:"text-brand-red",size:20})})]}),f.jsx("div",{className:"w-8"})]}),f.jsx("p",{className:"text-center text-brand-orange font-semibold text-sm -mt-1 mb-3",children:D.location||"Sin Asignar"}),f.jsxs("div",{className:"flex justify-around bg-black/20 rounded-xl p-1",children:[D.sex==="Hembra"&&f.jsxs(f.Fragment,{children:[" ",f.jsxs("button",{onClick:()=>n({name:"lactation-profile",animalId:D.id}),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-orange w-full rounded-lg",children:[f.jsx(ym,{size:22}),f.jsx("span",{className:"text-xs mt-1",children:"Leche"})]})," ",f.jsxs("button",{onClick:()=>S(!0),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-orange w-full rounded-lg",children:[f.jsx(Q0,{size:22}),f.jsx("span",{className:"text-xs mt-1",children:"Parto"})]})," "]}),f.jsxs("button",{onClick:()=>n({name:"growth-profile",animalId:D.id}),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-orange w-full rounded-lg",children:[f.jsx(vm,{size:22}),f.jsx("span",{className:"text-xs mt-1",children:"Peso"})]}),f.jsxs("button",{onClick:()=>alert("Función en desarrollo"),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-orange w-full rounded-lg",children:[f.jsx(m4,{size:22}),f.jsx("span",{className:"text-xs mt-1",children:"Sanidad"})]}),f.jsxs("button",{onClick:()=>E(!0),className:"flex flex-col items-center p-2 text-zinc-400 hover:text-brand-orange w-full rounded-lg",children:[f.jsx(EH,{size:22}),f.jsx("span",{className:"text-xs mt-1",children:"Mover"})]}),f.jsxs("button",{onClick:()=>d(!u),className:`flex flex-col items-center p-2 w-full rounded-lg transition-colors ${u?"text-brand-green":"text-zinc-400 hover:text-brand-orange"}`,children:[f.jsx(Z0,{size:22}),f.jsx("span",{className:"text-xs mt-1",children:"Editar"})]})]})]}),f.jsxs("main",{className:"p-4 space-y-4",children:[f.jsxs("div",{className:"flex bg-brand-glass rounded-xl p-1 border border-brand-border",children:[f.jsx("button",{onClick:()=>c("main"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${l==="main"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Ficha"}),f.jsx("button",{onClick:()=>c("genetics"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${l==="genetics"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Genealogía"}),f.jsx("button",{onClick:()=>c("progeny"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${l==="progeny"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Progenie"}),f.jsx("button",{onClick:()=>c("events"),className:`w-1/4 py-2 text-sm font-semibold rounded-lg transition-colors ${l==="events"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:"Eventos"})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[l==="main"&&f.jsxs("div",{className:"space-y-6",children:[" ",f.jsx(dne,{animal:D,parturitions:o,isEditing:u,editedData:h,setEditedData:g,origins:a,onAddOriginClick:()=>A(!0),onLocationClick:()=>E(!0)})," ",u&&f.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-zinc-700",children:[" ",f.jsxs("button",{onClick:ne,className:"bg-zinc-600 hover:bg-zinc-500 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2",children:[f.jsx(jc,{size:18})," Cancelar"]})," ",f.jsxs("button",{onClick:Q,disabled:b!=="idle",className:"bg-brand-green hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 disabled:opacity-50 min-w-[130px] justify-center",children:[" ",b==="saving"&&f.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-current border-t-transparent rounded-full"})," ",b==="success"&&f.jsx(rs,{size:18})," ",b==="idle"&&f.jsx(CA,{size:18})," ",f.jsx("span",{className:"ml-2",children:b==="success"?"Guardado":"Guardar"})," "]})," "]})," "]}),l==="genetics"&&f.jsx(lne,{animalId:D.id}),l==="progeny"&&f.jsx(fne,{offspring:N,navigateTo:n}),l==="events"&&f.jsx(une,{animalId:D.id})]})]})]}),f.jsx(Nt,{isOpen:C,onClose:()=>E(!1),title:`Cambiar Lote para ${D.id}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Seleccionar nuevo lote"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{value:T,onChange:le=>j(le.target.value),className:"w-full bg-zinc-800 p-3 rounded-xl text-lg",children:[f.jsx("option",{value:"",children:"Sin Asignar"}),i.map(le=>f.jsx("option",{value:le.name,children:le.name},le.id))]}),f.jsx("button",{type:"button",onClick:()=>{E(!1),x(!0)},className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:f.jsx(cl,{size:24})})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{onClick:()=>E(!1),className:"px-5 py-2 bg-zinc-600 hover:bg-zinc-500 font-semibold rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:ce,className:"px-5 py-2 bg-brand-green hover:bg-green-600 text-white font-bold rounded-lg",children:"Guardar Cambio"})]})]})}),f.jsx(x4,{isOpen:w,onClose:()=>x(!1)}),f.jsx(ine,{isOpen:_,onClose:()=>A(!1)}),f.jsx(Nt,{isOpen:k,onClose:()=>S(!1),title:`Registrar Parto para ${D.id}`,children:f.jsx(pT,{motherId:D.id,onSaveSuccess:()=>S(!1),onCancel:()=>S(!1)})})]}):f.jsxs("div",{className:"text-center p-10",children:[f.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."}),f.jsx("button",{onClick:e,className:"mt-4 text-brand-orange",children:"Volver"})]})}const pne=({animal:t,parturition:e,onSelectAnimal:n})=>f.jsxs("div",{onClick:()=>n(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-amber-400 transition-colors",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),f.jsxs("p",{className:"text-sm text-zinc-400",children:[e.status==="en-secado"&&`Secado desde: ${new Date(e.dryingStartDate).toLocaleDateString()}`,e.status==="seca"&&"Lactancia finalizada"]})]}),f.jsx(ll,{className:"text-zinc-600"})]});function R5({onSelectAnimal:t,defaultView:e="drying"}){const{animals:n,parturitions:r,isLoading:i}=It(),[a,o]=V.useState(e);V.useEffect(()=>{o(e)},[e]);const s=V.useMemo(()=>{const c=h=>n.find(g=>g.id===h),u=r.filter(h=>h.status==="en-secado").map(h=>({animal:c(h.goatId),parturition:h})).filter(h=>h.animal),d=r.filter(h=>h.status==="seca").map(h=>({animal:c(h.goatId),parturition:h})).filter(h=>h.animal);return{drying:u,dry:d}},[n,r]),l=s[a]||[];return i?f.jsx("div",{className:"text-center p-10",children:f.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos..."})}):f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[f.jsxs("header",{className:"text-center pt-8 pb-4",children:[f.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Gestión de Rebaño"}),f.jsx("p",{className:"text-xl text-zinc-400",children:"Animales por Estado de Lactancia"})]}),f.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border flex justify-between items-center",children:f.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[f.jsxs("button",{onClick:()=>o("drying"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="drying"?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["En Secado (",s.drying.length,")"]}),f.jsxs("button",{onClick:()=>o("dry"),className:`w-1/2 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${a==="dry"?"bg-gray-600 text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:["Secas (",s.dry.length,")"]})]})}),f.jsx("div",{className:"space-y-2",children:l.length>0?l.map(({animal:c,parturition:u})=>f.jsx(pne,{animal:c,parturition:u,onSelectAnimal:t},u.id)):f.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:f.jsx("p",{className:"text-zinc-400",children:"No hay animales en este estado."})})})]})}function mne({onBack:t}){const{lots:e,animals:n,parturitions:r,serviceRecords:i,breedingGroups:a,addLot:o,deleteLot:s,updateAnimal:l}=It(),[c,u]=V.useState(""),[d,h]=V.useState(!1),[g,b]=V.useState(null),v=async()=>{c.trim()!==""&&(await o(c),u(""))},w=_=>{b(_),h(!0)},x=async _=>{if(!g)return;const A=_.map(k=>l(k,{location:g}));await Promise.all(A),h(!1),b(null)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[f.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[f.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"text-center flex-grow",children:[f.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Gestionar Lotes"}),f.jsx("p",{className:"text-md text-zinc-400",children:"Crea ubicaciones y asigna animales"})]}),f.jsx("div",{className:"w-8"})]}),f.jsx("div",{className:"px-4",children:f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:"Añadir Nuevo Lote"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:c,onChange:_=>u(_.target.value),placeholder:"Nombre del lote...",className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"}),f.jsx("button",{onClick:v,className:"p-3 bg-brand-orange hover:bg-orange-600 text-white rounded-xl",children:f.jsx(uo,{size:24})})]})]})}),f.jsxs("div",{className:"space-y-2 pt-4 px-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-zinc-300 px-2",children:"Lotes Existentes"}),e.length>0?e.map(_=>f.jsxs("div",{className:"w-full text-left bg-brand-glass rounded-2xl p-4 flex justify-between items-center",children:[f.jsx("p",{className:"font-semibold text-white",children:_.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>w(_.name),className:"flex items-center gap-2 bg-zinc-700/80 text-white font-semibold py-2 px-3 rounded-lg hover:bg-zinc-600/80 transition-colors",children:[f.jsx(Yf,{size:16})," Asignar"]}),f.jsx("button",{onClick:()=>s(_.id),className:"p-2 text-zinc-500 hover:text-brand-red transition-colors",children:f.jsx(bm,{size:18})})]})]},_.id)):f.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:f.jsx("p",{className:"text-zinc-500",children:"Aún no has creado ningún lote."})})]})]}),f.jsx(hT,{isOpen:d,onClose:()=>h(!1),onSelect:x,animals:n,parturitions:r,serviceRecords:i,breedingGroups:a,title:`Asignar animales a: ${g}`})]})}const gne=" .rdp { --rdp-cell-size: 40px; --rdp-accent-color: #FBBF24; --rdp-background-color: #3a3a3c; --rdp-accent-color-dark: #FBBF24; --rdp-background-color-dark: #3a3a3c; --rdp-outline: 2px solid var(--rdp-accent-color); --rdp-outline-selected: 3px solid var(--rdp-accent-color); --rdp-border-radius: 6px; color: #FFF; margin: 1em; } .rdp-caption_label, .rdp-nav_button { color: #FBBF24; } .rdp-head_cell { color: #8e8e93; } .rdp-day_selected { background-color: var(--rdp-accent-color); color: #000; font-weight: bold; } ",yne=({animal:t,services:e,onDeclareService:n,onDeclareParturition:r,onSelect:i})=>{const a=e.length,o=a>0?new Date(e[e.length-1].serviceDate+"T00:00:00").toLocaleDateString("es-VE"):null;return f.jsxs("div",{className:"w-full text-left bg-zinc-800/50 rounded-2xl p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[f.jsxs("button",{onClick:()=>i(t.id),className:"w-full sm:w-auto text-left",children:[f.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),f.jsx("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:a>0?f.jsxs("div",{className:"flex items-center gap-1 text-pink-400 font-semibold",children:[f.jsx(PA,{size:14,fill:"currentColor"}),f.jsxs("span",{children:[a," ",a>1?"Servicios":"Servicio"," (",o,")"]})]}):f.jsx("span",{children:"Sin servicios reportados"})})]}),f.jsxs("div",{className:"w-full sm:w-auto flex flex-shrink-0 gap-2",children:[f.jsx("button",{onClick:()=>n(t.id),className:"flex-1 sm:flex-initial bg-indigo-600/80 hover:bg-indigo-500/100 text-white font-semibold py-2 px-3 rounded-lg transition-colors text-sm",children:"Servicio"}),f.jsxs("button",{onClick:()=>r(t.id),className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 bg-green-600/80 hover:bg-green-500/100 text-white font-semibold py-2 px-3 rounded-lg transition-colors text-sm",children:[f.jsx(Q0,{size:14})," Parto"]})]})]})};function vne({groupId:t,navigateTo:e,onBack:n}){const{breedingGroups:r,animals:i,parturitions:a,serviceRecords:o,updateAnimal:s,addServiceRecord:l}=It(),[c,u]=V.useState(!1),[d,h]=V.useState(""),[g,b]=V.useState({isOpen:!1,femaleId:null}),[v,w]=V.useState({isOpen:!1,femaleId:null}),x=V.useMemo(()=>r.find(C=>C.id===t),[r,t]),_=V.useMemo(()=>x?i.filter(C=>C.breedingGroupId===x.id).sort((C,E)=>C.id.localeCompare(E.id)):[],[i,x]),A=V.useMemo(()=>d?_.filter(C=>C.id.toLowerCase().includes(d.toLowerCase())):_,[_,d]),k=async C=>{if(!x)return;const E=C.map(T=>s(T,{breedingGroupId:x.id,reproductiveStatus:"En Servicio"}));await Promise.all(E)},S=async C=>{!C||!g.femaleId||!x||(await l({breedingGroupId:x.id,femaleId:g.femaleId,serviceDate:C.toISOString().split("T")[0]}),b({isOpen:!1,femaleId:null}))};return x?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[f.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[f.jsx("button",{onClick:n,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"text-center flex-grow",children:[f.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:x.name}),f.jsxs("p",{className:"text-md text-zinc-400",children:["Reproductor: ",x.sireId]})]}),f.jsx("div",{className:"w-8"})]}),f.jsxs("button",{onClick:()=>u(!0),className:"w-full flex items-center justify-center gap-2 bg-brand-orange hover:bg-orange-600 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[f.jsx(uo,{size:20})," Asignar Hembras"]}),f.jsxs("div",{className:"space-y-4 pt-4",children:[f.jsxs("div",{className:"flex justify-between items-center px-2",children:[f.jsxs("h3",{className:"text-lg font-semibold text-zinc-300",children:["Hembras Asignadas (",A.length,")"]}),f.jsxs("div",{className:"relative",children:[f.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),f.jsx("input",{type:"search",value:d,onChange:C=>h(C.target.value),placeholder:"Buscar...",className:"w-full bg-zinc-800/80 rounded-lg pl-10 pr-4 py-2 text-white border-transparent focus:border-brand-amber focus:ring-0"})]})]}),f.jsx("div",{className:"space-y-2",children:A.length>0?A.map(C=>{const E=o.filter(T=>T.femaleId===C.id&&T.breedingGroupId===x.id).sort((T,j)=>new Date(T.serviceDate).getTime()-new Date(j.serviceDate).getTime());return f.jsx(yne,{animal:C,services:E,onDeclareService:T=>b({isOpen:!0,femaleId:T}),onDeclareParturition:T=>w({isOpen:!0,femaleId:T}),onSelect:T=>e({name:"rebano-profile",animalId:T})},C.id)}):f.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:f.jsx("p",{className:"text-zinc-500",children:d?"No se encontraron coincidencias.":"Aún no has asignado hembras a este lote."})})})]})]}),f.jsx(hT,{isOpen:c,onClose:()=>u(!1),onSelect:k,animals:i,parturitions:a,serviceRecords:o,breedingGroups:r,title:`Asignar Hembras a: ${x.name}`,sireIdForInbreedingCheck:x.sireId}),f.jsxs(Nt,{isOpen:g.isOpen,onClose:()=>b({isOpen:!1,femaleId:null}),title:`Declarar Servicio para ${g.femaleId}`,children:[f.jsx("style",{children:gne}),f.jsx("div",{className:"flex justify-center",children:f.jsx(dT,{mode:"single",onSelect:S})})]}),f.jsx(Nt,{isOpen:v.isOpen,onClose:()=>w({isOpen:!1,femaleId:null}),title:`Registrar Parto para ${v.femaleId}`,children:f.jsx(pT,{motherId:v.femaleId||"",onSaveSuccess:()=>w({isOpen:!1,femaleId:null}),onCancel:()=>w({isOpen:!1,femaleId:null})})})]}):f.jsxs("div",{className:"text-center p-10",children:[f.jsx("h1",{className:"text-2xl text-zinc-400",children:"Lote de Monta no encontrado."}),f.jsx("button",{onClick:n,className:"mt-4 text-brand-amber",children:"Volver"})]})}function $5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _t(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$5(t))&&(r&&(r+=" "),r+=e);return r}var bne=Array.isArray,ri=bne,xne=typeof du=="object"&&du&&du.Object===Object&&du,L5=xne,wne=L5,_ne=typeof self=="object"&&self&&self.Object===Object&&self,Sne=wne||_ne||Function("return this")(),ho=Sne,Ene=ho,Ane=Ene.Symbol,Cm=Ane,zk=Cm,V5=Object.prototype,Tne=V5.hasOwnProperty,Pne=V5.toString,Fd=zk?zk.toStringTag:void 0;function Cne(t){var e=Tne.call(t,Fd),n=t[Fd];try{t[Fd]=void 0;var r=!0}catch{}var i=Pne.call(t);return r&&(e?t[Fd]=n:delete t[Fd]),i}var One=Cne,kne=Object.prototype,Ine=kne.toString;function jne(t){return Ine.call(t)}var Nne=jne,Bk=Cm,Dne=One,Mne=Nne,Rne="[object Null]",$ne="[object Undefined]",Uk=Bk?Bk.toStringTag:void 0;function Lne(t){return t==null?t===void 0?$ne:Rne:Uk&&Uk in Object(t)?Dne(t):Mne(t)}var is=Lne;function Vne(t){return t!=null&&typeof t=="object"}var as=Vne,Fne=is,zne=as,Bne="[object Symbol]";function Une(t){return typeof t=="symbol"||zne(t)&&Fne(t)==Bne}var ed=Une,Wne=ri,Kne=ed,qne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hne=/^\w*$/;function Gne(t,e){if(Wne(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Kne(t)?!0:Hne.test(t)||!qne.test(t)||e!=null&&t in Object(e)}var mT=Gne;function Yne(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fl=Yne;const td=Ut(fl);var Xne=is,Qne=fl,Zne="[object AsyncFunction]",Jne="[object Function]",ere="[object GeneratorFunction]",tre="[object Proxy]";function nre(t){if(!Qne(t))return!1;var e=Xne(t);return e==Jne||e==ere||e==Zne||e==tre}var gT=nre;const lt=Ut(gT);var rre=ho,ire=rre["__core-js_shared__"],are=ire,iw=are,Wk=function(){var t=/[^.]+$/.exec(iw&&iw.keys&&iw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ore(t){return!!Wk&&Wk in t}var sre=ore,lre=Function.prototype,cre=lre.toString;function ure(t){if(t!=null){try{return cre.call(t)}catch{}try{return t+""}catch{}}return""}var F5=ure,fre=gT,dre=sre,hre=fl,pre=F5,mre=/[\\^$.*+?()[\]{}|]/g,gre=/^\[object .+?Constructor\]$/,yre=Function.prototype,vre=Object.prototype,bre=yre.toString,xre=vre.hasOwnProperty,wre=RegExp("^"+bre.call(xre).replace(mre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _re(t){if(!hre(t)||dre(t))return!1;var e=fre(t)?wre:gre;return e.test(pre(t))}var Sre=_re;function Ere(t,e){return t==null?void 0:t[e]}var Are=Ere,Tre=Sre,Pre=Are;function Cre(t,e){var n=Pre(t,e);return Tre(n)?n:void 0}var Mc=Cre,Ore=Mc,kre=Ore(Object,"create"),sb=kre,Kk=sb;function Ire(){this.__data__=Kk?Kk(null):{},this.size=0}var jre=Ire;function Nre(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Dre=Nre,Mre=sb,Rre="__lodash_hash_undefined__",$re=Object.prototype,Lre=$re.hasOwnProperty;function Vre(t){var e=this.__data__;if(Mre){var n=e[t];return n===Rre?void 0:n}return Lre.call(e,t)?e[t]:void 0}var Fre=Vre,zre=sb,Bre=Object.prototype,Ure=Bre.hasOwnProperty;function Wre(t){var e=this.__data__;return zre?e[t]!==void 0:Ure.call(e,t)}var Kre=Wre,qre=sb,Hre="__lodash_hash_undefined__";function Gre(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qre&&e===void 0?Hre:e,this}var Yre=Gre,Xre=jre,Qre=Dre,Zre=Fre,Jre=Kre,eie=Yre;function nd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nd.prototype.clear=Xre;nd.prototype.delete=Qre;nd.prototype.get=Zre;nd.prototype.has=Jre;nd.prototype.set=eie;var tie=nd;function nie(){this.__data__=[],this.size=0}var rie=nie;function iie(t,e){return t===e||t!==t&&e!==e}var yT=iie,aie=yT;function oie(t,e){for(var n=t.length;n--;)if(aie(t[n][0],e))return n;return-1}var lb=oie,sie=lb,lie=Array.prototype,cie=lie.splice;function uie(t){var e=this.__data__,n=sie(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():cie.call(e,n,1),--this.size,!0}var fie=uie,die=lb;function hie(t){var e=this.__data__,n=die(e,t);return n<0?void 0:e[n][1]}var pie=hie,mie=lb;function gie(t){return mie(this.__data__,t)>-1}var yie=gie,vie=lb;function bie(t,e){var n=this.__data__,r=vie(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xie=bie,wie=rie,_ie=fie,Sie=pie,Eie=yie,Aie=xie;function rd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rd.prototype.clear=wie;rd.prototype.delete=_ie;rd.prototype.get=Sie;rd.prototype.has=Eie;rd.prototype.set=Aie;var cb=rd,Tie=Mc,Pie=ho,Cie=Tie(Pie,"Map"),vT=Cie,qk=tie,Oie=cb,kie=vT;function Iie(){this.size=0,this.__data__={hash:new qk,map:new(kie||Oie),string:new qk}}var jie=Iie;function Nie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Die=Nie,Mie=Die;function Rie(t,e){var n=t.__data__;return Mie(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ub=Rie,$ie=ub;function Lie(t){var e=$ie(this,t).delete(t);return this.size-=e?1:0,e}var Vie=Lie,Fie=ub;function zie(t){return Fie(this,t).get(t)}var Bie=zie,Uie=ub;function Wie(t){return Uie(this,t).has(t)}var Kie=Wie,qie=ub;function Hie(t,e){var n=qie(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Gie=Hie,Yie=jie,Xie=Vie,Qie=Bie,Zie=Kie,Jie=Gie;function id(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}id.prototype.clear=Yie;id.prototype.delete=Xie;id.prototype.get=Qie;id.prototype.has=Zie;id.prototype.set=Jie;var bT=id,z5=bT,eae="Expected a function";function xT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(eae);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(xT.Cache||z5),n}xT.Cache=z5;var B5=xT;const tae=Ut(B5);var nae=B5,rae=500;function iae(t){var e=nae(t,function(r){return n.size===rae&&n.clear(),r}),n=e.cache;return e}var aae=iae,oae=aae,sae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lae=/\\(\\)?/g,cae=oae(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sae,function(n,r,i,a){e.push(i?a.replace(lae,"$1"):r||n)}),e}),uae=cae;function fae(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var wT=fae,Hk=Cm,dae=wT,hae=ri,pae=ed,Gk=Hk?Hk.prototype:void 0,Yk=Gk?Gk.toString:void 0;function U5(t){if(typeof t=="string")return t;if(hae(t))return dae(t,U5)+"";if(pae(t))return Yk?Yk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var mae=U5,gae=mae;function yae(t){return t==null?"":gae(t)}var W5=yae,vae=ri,bae=mT,xae=uae,wae=W5;function _ae(t,e){return vae(t)?t:bae(t,e)?[t]:xae(wae(t))}var K5=_ae,Sae=ed;function Eae(t){if(typeof t=="string"||Sae(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var fb=Eae,Aae=K5,Tae=fb;function Pae(t,e){e=Aae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Tae(e[n++])];return n&&n==r?t:void 0}var _T=Pae,Cae=_T;function Oae(t,e,n){var r=t==null?void 0:Cae(t,e);return r===void 0?n:r}var q5=Oae;const Xi=Ut(q5);function kae(t){return t==null}var Iae=kae;const ht=Ut(Iae);var jae=is,Nae=ri,Dae=as,Mae="[object String]";function Rae(t){return typeof t=="string"||!Nae(t)&&Dae(t)&&jae(t)==Mae}var $ae=Rae;const xc=Ut($ae);var H5={exports:{}},Vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST=Symbol.for("react.element"),ET=Symbol.for("react.portal"),db=Symbol.for("react.fragment"),hb=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),Lae=Symbol.for("react.server_context"),yb=Symbol.for("react.forward_ref"),vb=Symbol.for("react.suspense"),bb=Symbol.for("react.suspense_list"),xb=Symbol.for("react.memo"),wb=Symbol.for("react.lazy"),Vae=Symbol.for("react.offscreen"),G5;G5=Symbol.for("react.module.reference");function ta(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ST:switch(t=t.type,t){case db:case pb:case hb:case vb:case bb:return t;default:switch(t=t&&t.$$typeof,t){case Lae:case gb:case yb:case wb:case xb:case mb:return t;default:return e}}case ET:return e}}}Vt.ContextConsumer=gb;Vt.ContextProvider=mb;Vt.Element=ST;Vt.ForwardRef=yb;Vt.Fragment=db;Vt.Lazy=wb;Vt.Memo=xb;Vt.Portal=ET;Vt.Profiler=pb;Vt.StrictMode=hb;Vt.Suspense=vb;Vt.SuspenseList=bb;Vt.isAsyncMode=function(){return!1};Vt.isConcurrentMode=function(){return!1};Vt.isContextConsumer=function(t){return ta(t)===gb};Vt.isContextProvider=function(t){return ta(t)===mb};Vt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ST};Vt.isForwardRef=function(t){return ta(t)===yb};Vt.isFragment=function(t){return ta(t)===db};Vt.isLazy=function(t){return ta(t)===wb};Vt.isMemo=function(t){return ta(t)===xb};Vt.isPortal=function(t){return ta(t)===ET};Vt.isProfiler=function(t){return ta(t)===pb};Vt.isStrictMode=function(t){return ta(t)===hb};Vt.isSuspense=function(t){return ta(t)===vb};Vt.isSuspenseList=function(t){return ta(t)===bb};Vt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===db||t===pb||t===hb||t===vb||t===bb||t===Vae||typeof t=="object"&&t!==null&&(t.$$typeof===wb||t.$$typeof===xb||t.$$typeof===mb||t.$$typeof===gb||t.$$typeof===yb||t.$$typeof===G5||t.getModuleId!==void 0)};Vt.typeOf=ta;H5.exports=Vt;var Fae=H5.exports,zae=is,Bae=as,Uae="[object Number]";function Wae(t){return typeof t=="number"||Bae(t)&&zae(t)==Uae}var Y5=Wae;const Kae=Ut(Y5);var qae=Y5;function Hae(t){return qae(t)&&t!=+t}var Gae=Hae;const ad=Ut(Gae);var Aa=function(e){return e===0?0:e>0?1:-1},Zl=function(e){return xc(e)&&e.indexOf("%")===e.length-1},Pe=function(e){return Kae(e)&&!ad(e)},Yae=function(e){return ht(e)},Bn=function(e){return Pe(e)||xc(e)},Xae=0,od=function(e){var n=++Xae;return"".concat(e||"").concat(n)},wc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&!xc(e))return r;var a;if(Zl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return ad(a)&&(a=r),i&&a>n&&(a=n),a},Ts=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Qae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},sr=function(e,n){return Pe(e)&&Pe(n)?function(r){return e+r*(n-e)}:function(){return n}};function uv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Xi(r,e))===n})}var Zae=function(e,n){return Pe(e)&&Pe(n)?e-n:xc(e)&&xc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Uu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function v_(t){"@babel/helpers - typeof";return v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(t)}var Jae=["viewBox","children"],eoe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xk=["points","pathLength"],aw={svg:Jae,polygon:Xk,polyline:Xk},AT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(V.isValidElement(e)&&(r=e.props),!td(r))return null;var i={};return Object.keys(r).forEach(function(a){AT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},toe=function(e,n,r){return function(i){return e(n,r,i),null}},dv=function(e,n,r){if(!td(e)||v_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];AT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=toe(o,n,r))}),i},noe=["children"],roe=["children"];function Qk(t,e){if(t==null)return{};var n=ioe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ioe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b_(t){"@babel/helpers - typeof";return b_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(t)}var Zk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Jk=null,ow=null,TT=function t(e){if(e===Jk&&Array.isArray(ow))return ow;var n=[];return V.Children.forEach(e,function(r){ht(r)||(Fae.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ow=n,Jk=e,n};function Qi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vo(i)}):r=[Vo(e)],TT(t).forEach(function(i){var a=Xi(i,"type.displayName")||Xi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function hi(t,e){var n=Qi(t,e);return n&&n[0]}var eI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Pe(r)||r<=0||!Pe(i)||i<=0)},aoe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ooe=function(e){return e&&e.type&&xc(e.type)&&aoe.indexOf(e.type)>=0},X5=function(e){return e&&b_(e)==="object"&&"clipDot"in e},soe=function(e,n,r,i){var a,o=(a=aw==null?void 0:aw[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!lt(e)&&(i&&o.includes(n)||eoe.includes(n))||r&&AT.includes(n)},ut=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(V.isValidElement(e)&&(i=e.props),!td(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;soe((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},x_=function t(e,n){if(e===n)return!0;var r=V.Children.count(e);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return tI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!tI(a,o))return!1}return!0},tI=function(e,n){if(ht(e)&&ht(n))return!0;if(!ht(e)&&!ht(n)){var r=e.props||{},i=r.children,a=Qk(r,noe),o=n.props||{},s=o.children,l=Qk(o,roe);return i&&s?Uu(a,l)&&x_(i,s):!i&&!s?Uu(a,l):!1}return!1},nI=function(e,n){var r=[],i={};return TT(e).forEach(function(a,o){if(ooe(a))r.push(a);else if(a){var s=Vo(a.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(a,s,o);r.push(d),i[s]=!0}}}),r},loe=function(e){var n=e&&e.type;return n&&Zk[n]?Zk[n]:null},coe=function(e,n){return TT(n).indexOf(e)},uoe=["children","width","height","viewBox","className","style","title","desc"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function foe(t,e){if(t==null)return{};var n=doe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function doe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function __(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=foe(t,uoe),u=i||{width:n,height:r,x:0,y:0},d=_t("recharts-surface",a);return U.createElement("svg",w_({},ut(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),U.createElement("title",null,s),U.createElement("desc",null,l),e)}var hoe=["children","className"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function poe(t,e){if(t==null)return{};var n=moe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function moe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zt=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=poe(t,hoe),a=_t("recharts-layer",r);return U.createElement("g",S_({className:a},ut(i,!0),{ref:e}),n)}),Fo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function goe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var yoe=goe,voe=yoe;function boe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:voe(t,e,n)}var xoe=boe,woe="\\ud800-\\udfff",_oe="\\u0300-\\u036f",Soe="\\ufe20-\\ufe2f",Eoe="\\u20d0-\\u20ff",Aoe=_oe+Soe+Eoe,Toe="\\ufe0e\\ufe0f",Poe="\\u200d",Coe=RegExp("["+Poe+woe+Aoe+Toe+"]");function Ooe(t){return Coe.test(t)}var Q5=Ooe;function koe(t){return t.split("")}var Ioe=koe,Z5="\\ud800-\\udfff",joe="\\u0300-\\u036f",Noe="\\ufe20-\\ufe2f",Doe="\\u20d0-\\u20ff",Moe=joe+Noe+Doe,Roe="\\ufe0e\\ufe0f",$oe="["+Z5+"]",E_="["+Moe+"]",A_="\\ud83c[\\udffb-\\udfff]",Loe="(?:"+E_+"|"+A_+")",J5="[^"+Z5+"]",eF="(?:\\ud83c[\\udde6-\\uddff]){2}",tF="[\\ud800-\\udbff][\\udc00-\\udfff]",Voe="\\u200d",nF=Loe+"?",rF="["+Roe+"]?",Foe="(?:"+Voe+"(?:"+[J5,eF,tF].join("|")+")"+rF+nF+")*",zoe=rF+nF+Foe,Boe="(?:"+[J5+E_+"?",E_,eF,tF,$oe].join("|")+")",Uoe=RegExp(A_+"(?="+A_+")|"+Boe+zoe,"g");function Woe(t){return t.match(Uoe)||[]}var Koe=Woe,qoe=Ioe,Hoe=Q5,Goe=Koe;function Yoe(t){return Hoe(t)?Goe(t):qoe(t)}var Xoe=Yoe,Qoe=xoe,Zoe=Q5,Joe=Xoe,ese=W5;function tse(t){return function(e){e=ese(e);var n=Zoe(e)?Joe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Qoe(n,1).join(""):e.slice(1);return r[t]()+i}}var nse=tse,rse=nse,ise=rse("toUpperCase"),ase=ise;const _b=Ut(ase);function Yt(t){return function(){return t}}const iF=Math.cos,hv=Math.sin,ka=Math.sqrt,pv=Math.PI,Sb=2*pv,T_=Math.PI,P_=2*T_,Bl=1e-6,ose=P_-Bl;function aF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function sse(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aF;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lse{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aF:sse(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,u=o-e,d=s-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Bl)if(!(Math.abs(d*l-c*u)>Bl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,b=i-s,v=l*l+c*c,w=g*g+b*b,x=Math.sqrt(v),_=Math.sqrt(h),A=a*Math.tan((T_-Math.acos((v+h-w)/(2*x*_)))/2),k=A/_,S=A/x;Math.abs(k-1)>Bl&&this._append`L${e+k*u},${n+k*d}`,this._append`A${a},${a},0,0,${+(d*g>u*b)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Bl||Math.abs(this._y1-u)>Bl)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%P_+P_),h>ose?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>Bl&&this._append`A${r},${r},0,${+(h>=T_)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function PT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lse(e)}function CT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oF(t){this._context=t}oF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Eb(t){return new oF(t)}function sF(t){return t[0]}function lF(t){return t[1]}function cF(t,e){var n=Yt(!0),r=null,i=Eb,a=null,o=PT(s);t=typeof t=="function"?t:t===void 0?sF:Yt(t),e=typeof e=="function"?e:e===void 0?lF:Yt(e);function s(l){var c,u=(l=CT(l)).length,d,h=!1,g;for(r==null&&(a=i(g=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(g)return a=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Yt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Yt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Yt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Pg(t,e,n){var r=null,i=Yt(!0),a=null,o=Eb,s=null,l=PT(c);t=typeof t=="function"?t:t===void 0?sF:Yt(+t),e=typeof e=="function"?e:Yt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lF:Yt(+n);function c(d){var h,g,b,v=(d=CT(d)).length,w,x=!1,_,A=new Array(v),k=new Array(v);for(a==null&&(s=o(_=l())),h=0;h<=v;++h){if(!(h<v&&i(w=d[h],h,d))===x)if(x=!x)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=h-1;b>=g;--b)s.point(A[b],k[b]);s.lineEnd(),s.areaEnd()}x&&(A[h]=+t(w,h,d),k[h]=+e(w,h,d),s.point(r?+r(w,h,d):A[h],n?+n(w,h,d):k[h]))}if(_)return s=null,_+""||null}function u(){return cF().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Yt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Yt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Yt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Yt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Yt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Yt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Yt(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class uF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function cse(t){return new uF(t,!0)}function use(t){return new uF(t,!1)}const OT={draw(t,e){const n=ka(e/pv);t.moveTo(n,0),t.arc(0,0,n,0,Sb)}},fse={draw(t,e){const n=ka(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fF=ka(1/3),dse=fF*2,hse={draw(t,e){const n=ka(e/dse),r=n*fF;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pse={draw(t,e){const n=ka(e),r=-n/2;t.rect(r,r,n,n)}},mse=.8908130915292852,dF=hv(pv/10)/hv(7*pv/10),gse=hv(Sb/10)*dF,yse=-iF(Sb/10)*dF,vse={draw(t,e){const n=ka(e*mse),r=gse*n,i=yse*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Sb*a/5,s=iF(o),l=hv(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},sw=ka(3),bse={draw(t,e){const n=-ka(e/(sw*3));t.moveTo(0,n*2),t.lineTo(-sw*n,-n),t.lineTo(sw*n,-n),t.closePath()}},Vi=-.5,Fi=ka(3)/2,C_=1/ka(12),xse=(C_/2+1)*3,wse={draw(t,e){const n=ka(e/xse),r=n/2,i=n*C_,a=r,o=n*C_+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Vi*r-Fi*i,Fi*r+Vi*i),t.lineTo(Vi*a-Fi*o,Fi*a+Vi*o),t.lineTo(Vi*s-Fi*l,Fi*s+Vi*l),t.lineTo(Vi*r+Fi*i,Vi*i-Fi*r),t.lineTo(Vi*a+Fi*o,Vi*o-Fi*a),t.lineTo(Vi*s+Fi*l,Vi*l-Fi*s),t.closePath()}};function _se(t,e){let n=null,r=PT(i);t=typeof t=="function"?t:Yt(t||OT),e=typeof e=="function"?e:Yt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Yt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Yt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function mv(){}function gv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hF(t){this._context=t}hF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sse(t){return new hF(t)}function pF(t){this._context=t}pF.prototype={areaStart:mv,areaEnd:mv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ese(t){return new pF(t)}function mF(t){this._context=t}mF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ase(t){return new mF(t)}function gF(t){this._context=t}gF.prototype={areaStart:mv,areaEnd:mv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Tse(t){return new gF(t)}function rI(t){return t<0?-1:1}function iI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(rI(a)+rI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function aI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function yv(t){this._context=t}yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lw(this,this._t0,aI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lw(this,aI(this,n=iI(this,t,e)),n);break;default:lw(this,this._t0,n=iI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function yF(t){this._context=new vF(t)}(yF.prototype=Object.create(yv.prototype)).point=function(t,e){yv.prototype.point.call(this,e,t)};function vF(t){this._context=t}vF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Pse(t){return new yv(t)}function Cse(t){return new yF(t)}function bF(t){this._context=t}bF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=oI(t),i=oI(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Ose(t){return new bF(t)}function Ab(t,e){this._context=t,this._t=e}Ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function kse(t){return new Ab(t,.5)}function Ise(t){return new Ab(t,0)}function jse(t){return new Ab(t,1)}function mf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function O_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Nse(t,e){return t[e]}function Dse(t){const e=[];return e.key=t,e}function Mse(){var t=Yt([]),e=O_,n=mf,r=Nse;function i(a){var o=Array.from(t.apply(this,arguments),Dse),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,a)]).data=d;for(s=0,u=CT(e(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Yt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Yt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?O_:typeof a=="function"?a:Yt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??mf,i):n},i}function Rse(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}mf(t,e)}}function $se(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}mf(t,e)}}function Lse(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],d=u[r][1]||0,h=u[r-1][1]||0,g=(d-h)/2,b=0;b<s;++b){var v=t[e[b]],w=v[r][1]||0,x=v[r-1][1]||0;g+=w-x}l+=d,c+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,mf(t,e)}}function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}var Vse=["type","size","sizeType"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fse(t,e,n){return e=zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=Bse(t,"string");return yp(e)=="symbol"?e:e+""}function Bse(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Use(t,e){if(t==null)return{};var n=Wse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xF={symbolCircle:OT,symbolCross:fse,symbolDiamond:hse,symbolSquare:pse,symbolStar:vse,symbolTriangle:bse,symbolWye:wse},Kse=Math.PI/180,qse=function(e){var n="symbol".concat(_b(e));return xF[n]||OT},Hse=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Kse;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Gse=function(e,n){xF["symbol".concat(_b(e))]=n},kT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Use(e,Vse),c=lI(lI({},l),{},{type:r,size:a,sizeType:s}),u=function(){var w=qse(r),x=_se().type(w).size(Hse(a,s,r));return x()},d=c.className,h=c.cx,g=c.cy,b=ut(c,!0);return h===+h&&g===+g&&a===+a?U.createElement("path",k_({},b,{className:_t("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:u()})):null};kT.registerSymbol=Gse;function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){vp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_F(r.key),r)}}function Zse(t,e,n){return e&&Qse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jse(t,e,n){return e=vv(e),ele(t,wF()?Reflect.construct(e,n||[],vv(t).constructor):e.apply(t,n))}function ele(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tle(t)}function tle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}function nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function vp(t,e,n){return e=_F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _F(t){var e=rle(t,"string");return gf(e)=="symbol"?e:e+""}function rle(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zi=32,IT=function(t){function e(){return Xse(this,e),Jse(this,e,arguments)}return nle(e,t),Zse(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=zi/2,o=zi/6,s=zi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:zi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(zi,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(zi/8,"h").concat(zi,"v").concat(zi*3/4,"h").concat(-zi,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var c=Yse({},r);return delete c.legendIcon,U.cloneElement(r.legendIcon,c)}return U.createElement(kT,{fill:l,cx:a,cy:a,size:zi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:zi,height:zi},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,b){var v=g.formatter||l,w=_t(vp(vp({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=lt(g.value)?null:g.value;Fo(!lt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=g.inactive?c:g.color;return U.createElement("li",I_({className:w,style:d,key:"legend-item-".concat(b)},dv(r.props,g,b)),U.createElement(__,{width:o,height:o,viewBox:u,style:h},r.renderIcon(g)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(x,g,b):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(V.PureComponent);vp(IT,"displayName","Legend");vp(IT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ile=cb;function ale(){this.__data__=new ile,this.size=0}var ole=ale;function sle(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var lle=sle;function cle(t){return this.__data__.get(t)}var ule=cle;function fle(t){return this.__data__.has(t)}var dle=fle,hle=cb,ple=vT,mle=bT,gle=200;function yle(t,e){var n=this.__data__;if(n instanceof hle){var r=n.__data__;if(!ple||r.length<gle-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mle(r)}return n.set(t,e),this.size=n.size,this}var vle=yle,ble=cb,xle=ole,wle=lle,_le=ule,Sle=dle,Ele=vle;function sd(t){var e=this.__data__=new ble(t);this.size=e.size}sd.prototype.clear=xle;sd.prototype.delete=wle;sd.prototype.get=_le;sd.prototype.has=Sle;sd.prototype.set=Ele;var SF=sd,Ale="__lodash_hash_undefined__";function Tle(t){return this.__data__.set(t,Ale),this}var Ple=Tle;function Cle(t){return this.__data__.has(t)}var Ole=Cle,kle=bT,Ile=Ple,jle=Ole;function bv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new kle;++e<n;)this.add(t[e])}bv.prototype.add=bv.prototype.push=Ile;bv.prototype.has=jle;var EF=bv;function Nle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var AF=Nle;function Dle(t,e){return t.has(e)}var TF=Dle,Mle=EF,Rle=AF,$le=TF,Lle=1,Vle=2;function Fle(t,e,n,r,i,a){var o=n&Lle,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,g=n&Vle?new Mle:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var b=t[d],v=e[d];if(r)var w=o?r(v,b,d,e,t,a):r(b,v,d,t,e,a);if(w!==void 0){if(w)continue;h=!1;break}if(g){if(!Rle(e,function(x,_){if(!$le(g,_)&&(b===x||i(b,x,n,r,a)))return g.push(_)})){h=!1;break}}else if(!(b===v||i(b,v,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var PF=Fle,zle=ho,Ble=zle.Uint8Array,Ule=Ble;function Wle(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Kle=Wle;function qle(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var jT=qle,uI=Cm,fI=Ule,Hle=yT,Gle=PF,Yle=Kle,Xle=jT,Qle=1,Zle=2,Jle="[object Boolean]",ece="[object Date]",tce="[object Error]",nce="[object Map]",rce="[object Number]",ice="[object RegExp]",ace="[object Set]",oce="[object String]",sce="[object Symbol]",lce="[object ArrayBuffer]",cce="[object DataView]",dI=uI?uI.prototype:void 0,cw=dI?dI.valueOf:void 0;function uce(t,e,n,r,i,a,o){switch(n){case cce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lce:return!(t.byteLength!=e.byteLength||!a(new fI(t),new fI(e)));case Jle:case ece:case rce:return Hle(+t,+e);case tce:return t.name==e.name&&t.message==e.message;case ice:case oce:return t==e+"";case nce:var s=Yle;case ace:var l=r&Qle;if(s||(s=Xle),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Zle,o.set(t,e);var u=Gle(s(t),s(e),r,i,a,o);return o.delete(t),u;case sce:if(cw)return cw.call(t)==cw.call(e)}return!1}var fce=uce;function dce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var CF=dce,hce=CF,pce=ri;function mce(t,e,n){var r=e(t);return pce(t)?r:hce(r,n(t))}var gce=mce;function yce(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var vce=yce;function bce(){return[]}var xce=bce,wce=vce,_ce=xce,Sce=Object.prototype,Ece=Sce.propertyIsEnumerable,hI=Object.getOwnPropertySymbols,Ace=hI?function(t){return t==null?[]:(t=Object(t),wce(hI(t),function(e){return Ece.call(t,e)}))}:_ce,Tce=Ace;function Pce(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Cce=Pce,Oce=is,kce=as,Ice="[object Arguments]";function jce(t){return kce(t)&&Oce(t)==Ice}var Nce=jce,pI=Nce,Dce=as,OF=Object.prototype,Mce=OF.hasOwnProperty,Rce=OF.propertyIsEnumerable,$ce=pI(function(){return arguments}())?pI:function(t){return Dce(t)&&Mce.call(t,"callee")&&!Rce.call(t,"callee")},NT=$ce,xv={exports:{}};function Lce(){return!1}var Vce=Lce;xv.exports;(function(t,e){var n=ho,r=Vce,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(xv,xv.exports);var kF=xv.exports,Fce=9007199254740991,zce=/^(?:0|[1-9]\d*)$/;function Bce(t,e){var n=typeof t;return e=e??Fce,!!e&&(n=="number"||n!="symbol"&&zce.test(t))&&t>-1&&t%1==0&&t<e}var DT=Bce,Uce=9007199254740991;function Wce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Uce}var MT=Wce,Kce=is,qce=MT,Hce=as,Gce="[object Arguments]",Yce="[object Array]",Xce="[object Boolean]",Qce="[object Date]",Zce="[object Error]",Jce="[object Function]",eue="[object Map]",tue="[object Number]",nue="[object Object]",rue="[object RegExp]",iue="[object Set]",aue="[object String]",oue="[object WeakMap]",sue="[object ArrayBuffer]",lue="[object DataView]",cue="[object Float32Array]",uue="[object Float64Array]",fue="[object Int8Array]",due="[object Int16Array]",hue="[object Int32Array]",pue="[object Uint8Array]",mue="[object Uint8ClampedArray]",gue="[object Uint16Array]",yue="[object Uint32Array]",tn={};tn[cue]=tn[uue]=tn[fue]=tn[due]=tn[hue]=tn[pue]=tn[mue]=tn[gue]=tn[yue]=!0;tn[Gce]=tn[Yce]=tn[sue]=tn[Xce]=tn[lue]=tn[Qce]=tn[Zce]=tn[Jce]=tn[eue]=tn[tue]=tn[nue]=tn[rue]=tn[iue]=tn[aue]=tn[oue]=!1;function vue(t){return Hce(t)&&qce(t.length)&&!!tn[Kce(t)]}var bue=vue;function xue(t){return function(e){return t(e)}}var IF=xue,wv={exports:{}};wv.exports;(function(t,e){var n=L5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(wv,wv.exports);var wue=wv.exports,_ue=bue,Sue=IF,mI=wue,gI=mI&&mI.isTypedArray,Eue=gI?Sue(gI):_ue,jF=Eue,Aue=Cce,Tue=NT,Pue=ri,Cue=kF,Oue=DT,kue=jF,Iue=Object.prototype,jue=Iue.hasOwnProperty;function Nue(t,e){var n=Pue(t),r=!n&&Tue(t),i=!n&&!r&&Cue(t),a=!n&&!r&&!i&&kue(t),o=n||r||i||a,s=o?Aue(t.length,String):[],l=s.length;for(var c in t)(e||jue.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Oue(c,l)))&&s.push(c);return s}var Due=Nue,Mue=Object.prototype;function Rue(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Mue;return t===n}var $ue=Rue;function Lue(t,e){return function(n){return t(e(n))}}var NF=Lue,Vue=NF,Fue=Vue(Object.keys,Object),zue=Fue,Bue=$ue,Uue=zue,Wue=Object.prototype,Kue=Wue.hasOwnProperty;function que(t){if(!Bue(t))return Uue(t);var e=[];for(var n in Object(t))Kue.call(t,n)&&n!="constructor"&&e.push(n);return e}var Hue=que,Gue=gT,Yue=MT;function Xue(t){return t!=null&&Yue(t.length)&&!Gue(t)}var Om=Xue,Que=Due,Zue=Hue,Jue=Om;function efe(t){return Jue(t)?Que(t):Zue(t)}var Tb=efe,tfe=gce,nfe=Tce,rfe=Tb;function ife(t){return tfe(t,rfe,nfe)}var afe=ife,yI=afe,ofe=1,sfe=Object.prototype,lfe=sfe.hasOwnProperty;function cfe(t,e,n,r,i,a){var o=n&ofe,s=yI(t),l=s.length,c=yI(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in e:lfe.call(e,h)))return!1}var g=a.get(t),b=a.get(e);if(g&&b)return g==e&&b==t;var v=!0;a.set(t,e),a.set(e,t);for(var w=o;++d<l;){h=s[d];var x=t[h],_=e[h];if(r)var A=o?r(_,x,h,e,t,a):r(x,_,h,t,e,a);if(!(A===void 0?x===_||i(x,_,n,r,a):A)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var k=t.constructor,S=e.constructor;k!=S&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof S=="function"&&S instanceof S)&&(v=!1)}return a.delete(t),a.delete(e),v}var ufe=cfe,ffe=Mc,dfe=ho,hfe=ffe(dfe,"DataView"),pfe=hfe,mfe=Mc,gfe=ho,yfe=mfe(gfe,"Promise"),vfe=yfe,bfe=Mc,xfe=ho,wfe=bfe(xfe,"Set"),DF=wfe,_fe=Mc,Sfe=ho,Efe=_fe(Sfe,"WeakMap"),Afe=Efe,N_=pfe,D_=vT,M_=vfe,R_=DF,$_=Afe,MF=is,ld=F5,vI="[object Map]",Tfe="[object Object]",bI="[object Promise]",xI="[object Set]",wI="[object WeakMap]",_I="[object DataView]",Pfe=ld(N_),Cfe=ld(D_),Ofe=ld(M_),kfe=ld(R_),Ife=ld($_),Ul=MF;(N_&&Ul(new N_(new ArrayBuffer(1)))!=_I||D_&&Ul(new D_)!=vI||M_&&Ul(M_.resolve())!=bI||R_&&Ul(new R_)!=xI||$_&&Ul(new $_)!=wI)&&(Ul=function(t){var e=MF(t),n=e==Tfe?t.constructor:void 0,r=n?ld(n):"";if(r)switch(r){case Pfe:return _I;case Cfe:return vI;case Ofe:return bI;case kfe:return xI;case Ife:return wI}return e});var jfe=Ul,uw=SF,Nfe=PF,Dfe=fce,Mfe=ufe,SI=jfe,EI=ri,AI=kF,Rfe=jF,$fe=1,TI="[object Arguments]",PI="[object Array]",Cg="[object Object]",Lfe=Object.prototype,CI=Lfe.hasOwnProperty;function Vfe(t,e,n,r,i,a){var o=EI(t),s=EI(e),l=o?PI:SI(t),c=s?PI:SI(e);l=l==TI?Cg:l,c=c==TI?Cg:c;var u=l==Cg,d=c==Cg,h=l==c;if(h&&AI(t)){if(!AI(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new uw),o||Rfe(t)?Nfe(t,e,n,r,i,a):Dfe(t,e,l,n,r,i,a);if(!(n&$fe)){var g=u&&CI.call(t,"__wrapped__"),b=d&&CI.call(e,"__wrapped__");if(g||b){var v=g?t.value():t,w=b?e.value():e;return a||(a=new uw),i(v,w,n,r,a)}}return h?(a||(a=new uw),Mfe(t,e,n,r,i,a)):!1}var Ffe=Vfe,zfe=Ffe,OI=as;function RF(t,e,n,r,i){return t===e?!0:t==null||e==null||!OI(t)&&!OI(e)?t!==t&&e!==e:zfe(t,e,n,r,RF,i)}var RT=RF,Bfe=SF,Ufe=RT,Wfe=1,Kfe=2;function qfe(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Bfe;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?Ufe(u,c,Wfe|Kfe,r,d):h))return!1}}return!0}var Hfe=qfe,Gfe=fl;function Yfe(t){return t===t&&!Gfe(t)}var $F=Yfe,Xfe=$F,Qfe=Tb;function Zfe(t){for(var e=Qfe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xfe(i)]}return e}var Jfe=Zfe;function ede(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var LF=ede,tde=Hfe,nde=Jfe,rde=LF;function ide(t){var e=nde(t);return e.length==1&&e[0][2]?rde(e[0][0],e[0][1]):function(n){return n===t||tde(n,t,e)}}var ade=ide;function ode(t,e){return t!=null&&e in Object(t)}var sde=ode,lde=K5,cde=NT,ude=ri,fde=DT,dde=MT,hde=fb;function pde(t,e,n){e=lde(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=hde(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&dde(i)&&fde(o,i)&&(ude(t)||cde(t)))}var mde=pde,gde=sde,yde=mde;function vde(t,e){return t!=null&&yde(t,e,gde)}var bde=vde,xde=RT,wde=q5,_de=bde,Sde=mT,Ede=$F,Ade=LF,Tde=fb,Pde=1,Cde=2;function Ode(t,e){return Sde(t)&&Ede(e)?Ade(Tde(t),e):function(n){var r=wde(n,t);return r===void 0&&r===e?_de(n,t):xde(e,r,Pde|Cde)}}var kde=Ode;function Ide(t){return t}var cd=Ide;function jde(t){return function(e){return e==null?void 0:e[t]}}var Nde=jde,Dde=_T;function Mde(t){return function(e){return Dde(e,t)}}var Rde=Mde,$de=Nde,Lde=Rde,Vde=mT,Fde=fb;function zde(t){return Vde(t)?$de(Fde(t)):Lde(t)}var Bde=zde,Ude=ade,Wde=kde,Kde=cd,qde=ri,Hde=Bde;function Gde(t){return typeof t=="function"?t:t==null?Kde:typeof t=="object"?qde(t)?Wde(t[0],t[1]):Ude(t):Hde(t)}var dl=Gde;function Yde(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var VF=Yde;function Xde(t){return t!==t}var Qde=Xde;function Zde(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Jde=Zde,ehe=VF,the=Qde,nhe=Jde;function rhe(t,e,n){return e===e?nhe(t,e,n):ehe(t,the,n)}var ihe=rhe,ahe=ihe;function ohe(t,e){var n=t==null?0:t.length;return!!n&&ahe(t,e,0)>-1}var she=ohe;function lhe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var che=lhe;function uhe(){}var fhe=uhe,fw=DF,dhe=fhe,hhe=jT,phe=1/0,mhe=fw&&1/hhe(new fw([,-0]))[1]==phe?function(t){return new fw(t)}:dhe,ghe=mhe,yhe=EF,vhe=she,bhe=che,xhe=TF,whe=ghe,_he=jT,She=200;function Ehe(t,e,n){var r=-1,i=vhe,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=bhe;else if(a>=She){var c=e?null:whe(t);if(c)return _he(c);o=!1,i=xhe,l=new yhe}else l=e?[]:s;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}var Ahe=Ehe,The=dl,Phe=Ahe;function Che(t,e){return t&&t.length?Phe(t,The(e)):[]}var Ohe=Che;const kI=Ut(Ohe);function FF(t,e,n){return e===!0?kI(t,n):lt(e)?kI(t,e):t}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var khe=["ref"];function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){Pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BF(r.key),r)}}function jhe(t,e,n){return e&&jI(t.prototype,e),n&&jI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nhe(t,e,n){return e=_v(e),Dhe(t,zF()?Reflect.construct(e,n||[],_v(t).constructor):e.apply(t,n))}function Dhe(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mhe(t)}function Mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zF=function(){return!!t})()}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_v(t)}function Rhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function Pb(t,e,n){return e=BF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BF(t){var e=$he(t,"string");return yf(e)=="symbol"?e:e+""}function $he(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lhe(t,e){if(t==null)return{};var n=Vhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fhe(t){return t.value}function zhe(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=Lhe(e,khe);return U.createElement(IT,n)}var NI=1,qs=function(t){function e(){var n;Ihe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Nhe(this,e,[].concat(i)),Pb(n,"lastBoundingBox",{width:-1,height:-1}),n}return Rhe(e,t),jhe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>NI||Math.abs(i.height-this.lastBoundingBox.height)>NI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ao({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();d={left:((c||0)-g.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();h={top:((u||0)-b.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ao(Ao({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Ao(Ao({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},zhe(a,Ao(Ao({},this.props),{},{payload:FF(u,c,Fhe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ao(Ao({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Pe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(V.PureComponent);Pb(qs,"displayName","Legend");Pb(qs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DI=Cm,Bhe=NT,Uhe=ri,MI=DI?DI.isConcatSpreadable:void 0;function Whe(t){return Uhe(t)||Bhe(t)||!!(MI&&t&&t[MI])}var Khe=Whe,qhe=CF,Hhe=Khe;function UF(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Hhe),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?UF(s,e-1,n,r,i):qhe(i,s):r||(i[i.length]=s)}return i}var WF=UF;function Ghe(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Yhe=Ghe,Xhe=Yhe,Qhe=Xhe(),Zhe=Qhe,Jhe=Zhe,epe=Tb;function tpe(t,e){return t&&Jhe(t,e,epe)}var KF=tpe,npe=Om;function rpe(t,e){return function(n,r){if(n==null)return n;if(!npe(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var ipe=rpe,ape=KF,ope=ipe,spe=ope(ape),$T=spe,lpe=$T,cpe=Om;function upe(t,e){var n=-1,r=cpe(t)?Array(t.length):[];return lpe(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var qF=upe;function fpe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var dpe=fpe,RI=ed;function hpe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=RI(t),o=e!==void 0,s=e===null,l=e===e,c=RI(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var ppe=hpe,mpe=ppe;function gpe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=mpe(i[r],a[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var ype=gpe,dw=wT,vpe=_T,bpe=dl,xpe=qF,wpe=dpe,_pe=IF,Spe=ype,Epe=cd,Ape=ri;function Tpe(t,e,n){e.length?e=dw(e,function(a){return Ape(a)?function(o){return vpe(o,a.length===1?a[0]:a)}:a}):e=[Epe];var r=-1;e=dw(e,_pe(bpe));var i=xpe(t,function(a,o,s){var l=dw(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return wpe(i,function(a,o){return Spe(a,o,n)})}var Ppe=Tpe;function Cpe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ope=Cpe,kpe=Ope,$I=Math.max;function Ipe(t,e,n){return e=$I(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=$I(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),kpe(t,this,s)}}var jpe=Ipe;function Npe(t){return function(){return t}}var Dpe=Npe,Mpe=Mc,Rpe=function(){try{var t=Mpe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),HF=Rpe,$pe=Dpe,LI=HF,Lpe=cd,Vpe=LI?function(t,e){return LI(t,"toString",{configurable:!0,enumerable:!1,value:$pe(e),writable:!0})}:Lpe,Fpe=Vpe,zpe=800,Bpe=16,Upe=Date.now;function Wpe(t){var e=0,n=0;return function(){var r=Upe(),i=Bpe-(r-n);if(n=r,i>0){if(++e>=zpe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Kpe=Wpe,qpe=Fpe,Hpe=Kpe,Gpe=Hpe(qpe),Ype=Gpe,Xpe=cd,Qpe=jpe,Zpe=Ype;function Jpe(t,e){return Zpe(Qpe(t,e,Xpe),t+"")}var eme=Jpe,tme=yT,nme=Om,rme=DT,ime=fl;function ame(t,e,n){if(!ime(n))return!1;var r=typeof e;return(r=="number"?nme(n)&&rme(e,n.length):r=="string"&&e in n)?tme(n[e],t):!1}var Cb=ame,ome=WF,sme=Ppe,lme=eme,VI=Cb,cme=lme(function(t,e){if(t==null)return[];var n=e.length;return n>1&&VI(t,e[0],e[1])?e=[]:n>2&&VI(e[0],e[1],e[2])&&(e=[e[0]]),sme(t,ome(e,1),[])}),ume=cme;const LT=Ut(ume);function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}function fme(t,e){return mme(t)||pme(t,e)||hme(t,e)||dme()}function dme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(t,e){if(t){if(typeof t=="string")return FI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FI(t,e)}}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function mme(t){if(Array.isArray(t))return t}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return e=yme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=vme(t,"string");return bp(e)=="symbol"?e:e+""}function vme(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bme(t){return Array.isArray(t)&&Bn(t[0])&&Bn(t[1])?t.join(" ~ "):t}var xme=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,b=e.labelClassName,v=e.label,w=e.labelFormatter,x=e.accessibilityLayer,_=x===void 0?!1:x,A=function(){if(u&&u.length){var $={padding:0,margin:0},L=(h?LT(u,h):u).map(function(Q,ne){if(Q.type==="none")return null;var ce=hw({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},s),le=Q.formatter||d||bme,Y=Q.value,G=Q.name,pe=Y,Se=G;if(le&&pe!=null&&Se!=null){var xe=le(Y,G,Q,ne,u);if(Array.isArray(xe)){var je=fme(xe,2);pe=je[0],Se=je[1]}else pe=xe}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:ce},Bn(Se)?U.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,Bn(Se)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},pe),U.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},k=hw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=hw({margin:0},c),C=!ht(v),E=C?v:"",T=_t("recharts-default-tooltip",g),j=_t("recharts-tooltip-label",b);C&&w&&u!==void 0&&u!==null&&(E=w(v,u));var D=_?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",V_({className:T,style:k},D),U.createElement("p",{className:j,style:S},U.isValidElement(E)?E:"".concat(E)),A())};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function Og(t,e,n){return e=wme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wme(t){var e=_me(t,"string");return xp(e)=="symbol"?e:e+""}function _me(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zd="recharts-tooltip-wrapper",Sme={visibility:"hidden"};function Eme(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return _t(zd,Og(Og(Og(Og({},"".concat(zd,"-right"),Pe(n)&&e&&Pe(e.x)&&n>=e.x),"".concat(zd,"-left"),Pe(n)&&e&&Pe(e.x)&&n<e.x),"".concat(zd,"-bottom"),Pe(r)&&e&&Pe(e.y)&&r>=e.y),"".concat(zd,"-top"),Pe(r)&&e&&Pe(e.y)&&r<e.y))}function BI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Pe(a[r]))return a[r];var u=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?u:d;if(o[r]){var h=u,g=l[r];return h<g?Math.max(d,l[r]):Math.max(u,l[r])}var b=d+s,v=l[r]+c;return b>v?Math.max(u,l[r]):Math.max(d,l[r])}function Ame(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Tme(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,d;return o.height>0&&o.width>0&&n?(u=BI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=BI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Ame({translateX:u,translateY:d,useTranslate3d:s})):c=Sme,{cssProperties:c,cssClasses:Eme({translateX:u,translateY:d,coordinate:n})}}function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){z_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YF(r.key),r)}}function Ome(t,e,n){return e&&Cme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kme(t,e,n){return e=Sv(e),Ime(t,GF()?Reflect.construct(e,n||[],Sv(t).constructor):e.apply(t,n))}function Ime(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jme(t)}function jme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!t})()}function Sv(t){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sv(t)}function Nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function z_(t,e,n){return e=YF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YF(t){var e=Dme(t,"string");return vf(e)=="symbol"?e:e+""}function Dme(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KI=1,Mme=function(t){function e(){var n;Pme(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=kme(this,e,[].concat(i)),z_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),z_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return Nme(e,t),Ome(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>KI||Math.abs(r.height-this.state.lastBoundingBox.height)>KI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,A=Tme({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:g,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:x}),k=A.cssClasses,S=A.cssProperties,C=WI(WI({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},_);return U.createElement("div",{tabIndex:-1,className:k,style:C,ref:function(T){r.wrapperNode=T}},c)}}])}(V.PureComponent),Rme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rc={isSsr:Rme()};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){VT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QF(r.key),r)}}function Vme(t,e,n){return e&&Lme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fme(t,e,n){return e=Ev(e),zme(t,XF()?Reflect.construct(e,n||[],Ev(t).constructor):e.apply(t,n))}function zme(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bme(t)}function Bme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function Ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function VT(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=Wme(t,"string");return bf(e)=="symbol"?e:e+""}function Wme(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kme(t){return t.dataKey}function qme(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(xme,e)}var xn=function(t){function e(){return $me(this,e),Fme(this,e,arguments)}return Ume(e,t),Vme(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,b=i.payload,v=i.payloadUniqBy,w=i.position,x=i.reverseDirection,_=i.useTranslate3d,A=i.viewBox,k=i.wrapperStyle,S=b??[];d&&S.length&&(S=FF(b.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),v,Kme));var C=S.length>0;return U.createElement(Mme,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:C,offset:g,position:w,reverseDirection:x,useTranslate3d:_,viewBox:A,wrapperStyle:k},qme(c,HI(HI({},this.props),{},{payload:S})))}}])}(V.PureComponent);VT(xn,"displayName","Tooltip");VT(xn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Hme=ho,Gme=function(){return Hme.Date.now()},Yme=Gme,Xme=/\s/;function Qme(t){for(var e=t.length;e--&&Xme.test(t.charAt(e)););return e}var Zme=Qme,Jme=Zme,ege=/^\s+/;function tge(t){return t&&t.slice(0,Jme(t)+1).replace(ege,"")}var nge=tge,rge=nge,GI=fl,ige=ed,YI=NaN,age=/^[-+]0x[0-9a-f]+$/i,oge=/^0b[01]+$/i,sge=/^0o[0-7]+$/i,lge=parseInt;function cge(t){if(typeof t=="number")return t;if(ige(t))return YI;if(GI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=GI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rge(t);var n=oge.test(t);return n||sge.test(t)?lge(t.slice(2),n?2:8):age.test(t)?YI:+t}var ZF=cge,uge=fl,pw=Yme,XI=ZF,fge="Expected a function",dge=Math.max,hge=Math.min;function pge(t,e,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(fge);e=XI(e)||0,uge(n)&&(u=!!n.leading,d="maxWait"in n,a=d?dge(XI(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function g(C){var E=r,T=i;return r=i=void 0,c=C,o=t.apply(T,E),o}function b(C){return c=C,s=setTimeout(x,e),u?g(C):o}function v(C){var E=C-l,T=C-c,j=e-E;return d?hge(j,a-T):j}function w(C){var E=C-l,T=C-c;return l===void 0||E>=e||E<0||d&&T>=a}function x(){var C=pw();if(w(C))return _(C);s=setTimeout(x,v(C))}function _(C){return s=void 0,h&&r?g(C):(r=i=void 0,o)}function A(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function k(){return s===void 0?o:_(pw())}function S(){var C=pw(),E=w(C);if(r=arguments,i=this,l=C,E){if(s===void 0)return b(l);if(d)return clearTimeout(s),s=setTimeout(x,e),g(l)}return s===void 0&&(s=setTimeout(x,e)),o}return S.cancel=A,S.flush=k,S}var mge=pge,gge=mge,yge=fl,vge="Expected a function";function bge(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(vge);return yge(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),gge(t,e,{leading:r,maxWait:e,trailing:i})}var xge=bge;const JF=Ut(xge);function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){wge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wge(t,e,n){return e=_ge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ge(t){var e=Sge(t,"string");return wp(e)=="symbol"?e:e+""}function Sge(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ege(t,e){return Cge(t)||Pge(t,e)||Tge(t,e)||Age()}function Age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tge(t,e){if(t){if(typeof t=="string")return ZI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZI(t,e)}}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Cge(t){if(Array.isArray(t))return t}var pi=V.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,g=t.children,b=t.debounce,v=b===void 0?0:b,w=t.id,x=t.className,_=t.onResize,A=t.style,k=A===void 0?{}:A,S=V.useRef(null),C=V.useRef();C.current=_,V.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=V.useState({containerWidth:i.width,containerHeight:i.height}),T=Ege(E,2),j=T[0],D=T[1],N=V.useCallback(function(L,Q){D(function(ne){var ce=Math.round(L),le=Math.round(Q);return ne.containerWidth===ce&&ne.containerHeight===le?ne:{containerWidth:ce,containerHeight:le}})},[]);V.useEffect(function(){var L=function(G){var pe,Se=G[0].contentRect,xe=Se.width,je=Se.height;N(xe,je),(pe=C.current)===null||pe===void 0||pe.call(C,xe,je)};v>0&&(L=JF(L,v,{trailing:!0,leading:!1}));var Q=new ResizeObserver(L),ne=S.current.getBoundingClientRect(),ce=ne.width,le=ne.height;return N(ce,le),Q.observe(S.current),function(){Q.disconnect()}},[N,v]);var $=V.useMemo(function(){var L=j.containerWidth,Q=j.containerHeight;if(L<0||Q<0)return null;Fo(Zl(o)||Zl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Fo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ne=Zl(o)?L:o,ce=Zl(l)?Q:l;n&&n>0&&(ne?ce=ne/n:ce&&(ne=ce*n),h&&ce>h&&(ce=h)),Fo(ne>0||ce>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,ce,o,l,u,d,n);var le=!Array.isArray(g)&&Vo(g.type).endsWith("Chart");return U.Children.map(g,function(Y){return U.isValidElement(Y)?V.cloneElement(Y,kg({width:ne,height:ce},le?{style:kg({height:"100%",width:"100%",maxHeight:ce,maxWidth:ne},Y.props.style)}:{})):Y})},[n,g,l,h,d,u,j,o]);return U.createElement("div",{id:w?"".concat(w):void 0,className:_t("recharts-responsive-container",x),style:kg(kg({},k),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:S},$)}),ud=function(e){return null};ud.displayName="Cell";function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){Oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oge(t,e,n){return e=kge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=Ige(t,"string");return _p(e)=="symbol"?e:e+""}function Ige(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu={widthCache:{},cacheCount:0},jge=2e3,Nge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ej="recharts_measurement_span";function Dge(t){var e=U_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var kh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rc.isSsr)return{width:0,height:0};var r=Dge(n),i=JSON.stringify({text:e,copyStyle:r});if(iu.widthCache[i])return iu.widthCache[i];try{var a=document.getElementById(ej);a||(a=document.createElement("span"),a.setAttribute("id",ej),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=U_(U_({},Nge),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return iu.widthCache[i]=l,++iu.cacheCount>jge&&(iu.cacheCount=0,iu.widthCache={}),l}catch{return{width:0,height:0}}},Mge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Av(t,e){return Vge(t)||Lge(t,e)||$ge(t,e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(t,e){if(t){if(typeof t=="string")return tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tj(t,e)}}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Vge(t){if(Array.isArray(t))return t}function Fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bge(r.key),r)}}function zge(t,e,n){return e&&nj(t.prototype,e),n&&nj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bge(t){var e=Uge(t,"string");return Sp(e)=="symbol"?e:e+""}function Uge(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ij=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ez={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qge=Object.keys(ez),ku="NaN";function Hge(t,e){return t*ez[e]}var Ig=function(){function t(e,n){Fge(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Wge.test(n)&&(this.num=NaN,this.unit=""),qge.includes(n)&&(this.num=Hge(e,n),this.unit="px")}return zge(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Kge.exec(n))!==null&&r!==void 0?r:[],a=Av(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function tz(t){if(t.includes(ku))return ku;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=rj.exec(e))!==null&&n!==void 0?n:[],i=Av(r,4),a=i[1],o=i[2],s=i[3],l=Ig.parse(a??""),c=Ig.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return ku;e=e.replace(rj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=ij.exec(e))!==null&&d!==void 0?d:[],g=Av(h,4),b=g[1],v=g[2],w=g[3],x=Ig.parse(b??""),_=Ig.parse(w??""),A=v==="+"?x.add(_):x.subtract(_);if(A.isNaN())return ku;e=e.replace(ij,A.toString())}return e}var aj=/\(([^()]*)\)/;function Gge(t){for(var e=t;e.includes("(");){var n=aj.exec(e),r=Av(n,2),i=r[1];e=e.replace(aj,tz(i))}return e}function Yge(t){var e=t.replace(/\s+/g,"");return e=Gge(e),e=tz(e),e}function Xge(t){try{return Yge(t)}catch{return ku}}function mw(t){var e=Xge(t.slice(5,-1));return e===ku?"":e}var Qge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zge=["dx","dy","angle","className","breakAll"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function oj(t,e){if(t==null)return{};var n=Jge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sj(t,e){return rye(t)||nye(t,e)||tye(t,e)||eye()}function eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tye(t,e){if(t){if(typeof t=="string")return lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lj(t,e)}}function lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function rye(t){if(Array.isArray(t))return t}var nz=/[ \f\n\r\t\v\u2028\u2029]+/,rz=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ht(n)||(r?a=n.toString().split(""):a=n.toString().split(nz));var o=a.map(function(l){return{word:l,width:kh(l,i).width}}),s=r?0:kh(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},iye=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=Pe(o),d=s,h=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce(function(ce,le){var Y=le.word,G=le.width,pe=ce[ce.length-1];if(pe&&(i==null||a||pe.width+G+r<Number(i)))pe.words.push(Y),pe.width+=G+r;else{var Se={words:[Y],width:G};ce.push(Se)}return ce},[])},g=h(n),b=function(ne){return ne.reduce(function(ce,le){return ce.width>le.width?ce:le})};if(!u)return g;for(var v="…",w=function(ne){var ce=d.slice(0,ne),le=rz({breakAll:c,style:l,children:ce+v}).wordsWithComputedWidth,Y=h(le),G=Y.length>o||b(Y).width>Number(i);return[G,Y]},x=0,_=d.length-1,A=0,k;x<=_&&A<=d.length-1;){var S=Math.floor((x+_)/2),C=S-1,E=w(C),T=sj(E,2),j=T[0],D=T[1],N=w(S),$=sj(N,1),L=$[0];if(!j&&!L&&(x=S+1),j&&L&&(_=S-1),!j&&L){k=D;break}A++}return k||g},cj=function(e){var n=ht(e)?[]:e.toString().split(nz);return[{words:n}]},aye=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Rc.isSsr){var l,c,u=rz({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return cj(i);return iye({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return cj(i)},uj="#808080",Tv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,g=h===void 0?"start":h,b=e.verticalAnchor,v=b===void 0?"end":b,w=e.fill,x=w===void 0?uj:w,_=oj(e,Qge),A=V.useMemo(function(){return aye({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:d,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,d,_.style,_.width]),k=_.dx,S=_.dy,C=_.angle,E=_.className,T=_.breakAll,j=oj(_,Zge);if(!Bn(r)||!Bn(a))return null;var D=r+(Pe(k)?k:0),N=a+(Pe(S)?S:0),$;switch(v){case"start":$=mw("calc(".concat(c,")"));break;case"middle":$=mw("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:$=mw("calc(".concat(A.length-1," * -").concat(s,")"));break}var L=[];if(d){var Q=A[0].width,ne=_.width;L.push("scale(".concat((Pe(ne)?ne/Q:1)/Q,")"))}return C&&L.push("rotate(".concat(C,", ").concat(D,", ").concat(N,")")),L.length&&(j.transform=L.join(" ")),U.createElement("text",W_({},ut(j,!0),{x:D,y:N,className:_t("recharts-text",E),textAnchor:g,fill:x.includes("url")?uj:x}),A.map(function(ce,le){var Y=ce.words.join(T?"":" ");return U.createElement("tspan",{x:D,dy:le===0?$:s,key:"".concat(Y,"-").concat(le)},Y)}))};function Hs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FT(t){let e,n,r;t.length!==2?(e=Hs,n=(s,l)=>Hs(t(s),l),r=(s,l)=>t(s)-l):(e=t===Hs||t===oye?t:sye,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function sye(){return 0}function iz(t){return t===null?NaN:+t}function*lye(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const cye=FT(Hs),km=cye.right;FT(iz).center;class fj extends Map{constructor(e,n=dye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dj(this,e))}has(e){return super.has(dj(this,e))}set(e,n){return super.set(uye(this,e),n)}delete(e){return super.delete(fye(this,e))}}function dj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function uye({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function fye({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dye(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hye(t=Hs){if(t===Hs)return az;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function az(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const pye=Math.sqrt(50),mye=Math.sqrt(10),gye=Math.sqrt(2);function Pv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=pye?10:a>=mye?5:a>=gye?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Pv(t,e,n*2):[s,l,c]}function K_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Pv(e,t,n):Pv(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function q_(t,e,n){return e=+e,t=+t,n=+n,Pv(t,e,n)[2]}function H_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?q_(e,t,n):q_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function hj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?az:hye(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*d/l+h)),b=Math.min(r,Math.floor(e+(l-c)*d/l+h));oz(t,e,g,b,i)}const a=t[e];let o=n,s=r;for(Bd(t,n,e),i(t[r],a)>0&&Bd(t,n,r);o<s;){for(Bd(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Bd(t,n,s):(++s,Bd(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Bd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yye(t,e,n){if(t=Float64Array.from(lye(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pj(t);if(e>=1)return hj(t);var r,i=(r-1)*e,a=Math.floor(i),o=hj(oz(t,a).subarray(0,a+1)),s=pj(t.subarray(a+1));return o+(s-o)*(i-a)}}function vye(t,e,n=iz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function bye(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function na(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function os(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const G_=Symbol("implicit");function zT(){var t=new fj,e=[],n=[],r=G_;function i(a){let o=t.get(a);if(o===void 0){if(r!==G_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new fj;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return zT(e,n).unknown(r)},na.apply(i,arguments),i}function Ep(){var t=zT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,g=i<r,b=g?i:r,v=g?r:i;a=(v-b)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),b+=(v-b-a*(h-l))*u,o=a*(1-l),s&&(b=Math.round(b),o=Math.round(o));var w=bye(h).map(function(x){return b+a*x});return n(g?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return Ep(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},na.apply(d(),arguments)}function sz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sz(e())},t}function Ih(){return sz(Ep.apply(null,arguments).paddingInner(1))}function BT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Im(){}var Ap=.7,Cv=1/Ap,Wu="\\s*([+-]?\\d+)\\s*",Tp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xye=/^#([0-9a-f]{3,8})$/,wye=new RegExp(`^rgb\\(${Wu},${Wu},${Wu}\\)$`),_ye=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),Sye=new RegExp(`^rgba\\(${Wu},${Wu},${Wu},${Tp}\\)$`),Eye=new RegExp(`^rgba\\(${ao},${ao},${ao},${Tp}\\)$`),Aye=new RegExp(`^hsl\\(${Tp},${ao},${ao}\\)$`),Tye=new RegExp(`^hsla\\(${Tp},${ao},${ao},${Tp}\\)$`),mj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BT(Im,Pp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gj,formatHex:gj,formatHex8:Pye,formatHsl:Cye,formatRgb:yj,toString:yj});function gj(){return this.rgb().formatHex()}function Pye(){return this.rgb().formatHex8()}function Cye(){return cz(this).formatHsl()}function yj(){return this.rgb().formatRgb()}function Pp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vj(e):n===3?new Zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wye.exec(t))?new Zr(e[1],e[2],e[3],1):(e=_ye.exec(t))?new Zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Sye.exec(t))?jg(e[1],e[2],e[3],e[4]):(e=Eye.exec(t))?jg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Aye.exec(t))?wj(e[1],e[2]/100,e[3]/100,1):(e=Tye.exec(t))?wj(e[1],e[2]/100,e[3]/100,e[4]):mj.hasOwnProperty(t)?vj(mj[t]):t==="transparent"?new Zr(NaN,NaN,NaN,0):null}function vj(t){return new Zr(t>>16&255,t>>8&255,t&255,1)}function jg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zr(t,e,n,r)}function Oye(t){return t instanceof Im||(t=Pp(t)),t?(t=t.rgb(),new Zr(t.r,t.g,t.b,t.opacity)):new Zr}function Y_(t,e,n,r){return arguments.length===1?Oye(t):new Zr(t,e,n,r??1)}function Zr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BT(Zr,Y_,lz(Im,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ap:Math.pow(Ap,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zr(cc(this.r),cc(this.g),cc(this.b),Ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bj,formatHex:bj,formatHex8:kye,formatRgb:xj,toString:xj}));function bj(){return`#${Jl(this.r)}${Jl(this.g)}${Jl(this.b)}`}function kye(){return`#${Jl(this.r)}${Jl(this.g)}${Jl(this.b)}${Jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function xj(){const t=Ov(this.opacity);return`${t===1?"rgb(":"rgba("}${cc(this.r)}, ${cc(this.g)}, ${cc(this.b)}${t===1?")":`, ${t})`}`}function Ov(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jl(t){return t=cc(t),(t<16?"0":"")+t.toString(16)}function wj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _a(t,e,n,r)}function cz(t){if(t instanceof _a)return new _a(t.h,t.s,t.l,t.opacity);if(t instanceof Im||(t=Pp(t)),!t)return new _a;if(t instanceof _a)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new _a(o,s,l,t.opacity)}function Iye(t,e,n,r){return arguments.length===1?cz(t):new _a(t,e,n,r??1)}function _a(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BT(_a,Iye,lz(Im,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new _a(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ap:Math.pow(Ap,t),new _a(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zr(gw(t>=240?t-240:t+120,i,r),gw(t,i,r),gw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _a(_j(this.h),Ng(this.s),Ng(this.l),Ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ov(this.opacity);return`${t===1?"hsl(":"hsla("}${_j(this.h)}, ${Ng(this.s)*100}%, ${Ng(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _j(t){return t=(t||0)%360,t<0?t+360:t}function Ng(t){return Math.max(0,Math.min(1,t||0))}function gw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const UT=t=>()=>t;function jye(t,e){return function(n){return t+n*e}}function Nye(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Dye(t){return(t=+t)==1?uz:function(e,n){return n-e?Nye(e,n,t):UT(isNaN(e)?n:e)}}function uz(t,e){var n=e-t;return n?jye(t,n):UT(isNaN(t)?e:t)}const Sj=function t(e){var n=Dye(e);function r(i,a){var o=n((i=Y_(i)).r,(a=Y_(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=uz(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Mye(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Rye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $ye(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=fd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Lye(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function kv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Vye(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var X_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yw=new RegExp(X_.source,"g");function Fye(t){return function(){return t}}function zye(t){return function(e){return t(e)+""}}function Bye(t,e){var n=X_.lastIndex=yw.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=X_.exec(t))&&(i=yw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:kv(r,i)})),n=yw.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?zye(l[0].x):Fye(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function fd(t,e){var n=typeof e,r;return e==null||n==="boolean"?UT(e):(n==="number"?kv:n==="string"?(r=Pp(e))?(e=r,Sj):Bye:e instanceof Pp?Sj:e instanceof Date?Lye:Rye(e)?Mye:Array.isArray(e)?$ye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vye:kv)(t,e)}function WT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Uye(t,e){e===void 0&&(e=t,t=fd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Wye(t){return function(){return t}}function Iv(t){return+t}var Ej=[0,1];function Dr(t){return t}function Q_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Wye(isNaN(e)?NaN:.5)}function Kye(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qye(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Q_(i,r),a=n(o,a)):(r=Q_(r,i),a=n(a,o)),function(s){return a(r(s))}}function Hye(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Q_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=km(t,s,1,r)-1;return a[l](i[l](s))}}function jm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ob(){var t=Ej,e=Ej,n=fd,r,i,a,o=Dr,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Dr&&(o=Kye(t[0],t[h-1])),s=h>2?Hye:qye,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=s(e,t.map(r),kv)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Iv),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=WT,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Dr,u()):o!==Dr},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,g){return r=h,i=g,u()}}function KT(){return Ob()(Dr,Dr)}function Gye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function xf(t){return t=jv(Math.abs(t)),t?t[1]:NaN}function Yye(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Xye(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cp(t){if(!(e=Qye.exec(t)))throw new Error("invalid format: "+t);var e;return new qT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cp.prototype=qT.prototype;function qT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zye(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var fz;function Jye(t,e){var n=jv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(fz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+jv(t,Math.max(0,e+a-1))[0]}function Aj(t,e){var n=jv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Aj(t*100,e),r:Aj,s:Jye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pj(t){return t}var Cj=Array.prototype.map,Oj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eve(t){var e=t.grouping===void 0||t.thousands===void 0?Pj:Yye(Cj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Pj:Xye(Cj.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Cp(d);var h=d.fill,g=d.align,b=d.sign,v=d.symbol,w=d.zero,x=d.width,_=d.comma,A=d.precision,k=d.trim,S=d.type;S==="n"?(_=!0,S="g"):Tj[S]||(A===void 0&&(A=12),k=!0,S="g"),(w||h==="0"&&g==="=")&&(w=!0,h="0",g="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=v==="$"?r:/[%p]/.test(S)?o:"",T=Tj[S],j=/[defgprs%]/.test(S);A=A===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(N){var $=C,L=E,Q,ne,ce;if(S==="c")L=T(N)+L,N="";else{N=+N;var le=N<0||1/N<0;if(N=isNaN(N)?l:T(Math.abs(N),A),k&&(N=Zye(N)),le&&+N==0&&b!=="+"&&(le=!1),$=(le?b==="("?b:s:b==="-"||b==="("?"":b)+$,L=(S==="s"?Oj[8+fz/3]:"")+L+(le&&b==="("?")":""),j){for(Q=-1,ne=N.length;++Q<ne;)if(ce=N.charCodeAt(Q),48>ce||ce>57){L=(ce===46?i+N.slice(Q+1):N.slice(Q))+L,N=N.slice(0,Q);break}}}_&&!w&&(N=e(N,1/0));var Y=$.length+N.length+L.length,G=Y<x?new Array(x-Y+1).join(h):"";switch(_&&w&&(N=e(G+N,G.length?x-L.length:1/0),G=""),g){case"<":N=$+N+L+G;break;case"=":N=$+G+N+L;break;case"^":N=G.slice(0,Y=G.length>>1)+$+N+L+G.slice(Y);break;default:N=G+$+N+L;break}return a(N)}return D.toString=function(){return d+""},D}function u(d,h){var g=c((d=Cp(d),d.type="f",d)),b=Math.max(-8,Math.min(8,Math.floor(xf(h)/3)))*3,v=Math.pow(10,-b),w=Oj[8+b/3];return function(x){return g(v*x)+w}}return{format:c,formatPrefix:u}}var Dg,HT,dz;tve({thousands:",",grouping:[3],currency:["$",""]});function tve(t){return Dg=eve(t),HT=Dg.format,dz=Dg.formatPrefix,Dg}function nve(t){return Math.max(0,-xf(Math.abs(t)))}function rve(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xf(e)/3)))*3-xf(Math.abs(t)))}function ive(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xf(e)-xf(t))+1}function hz(t,e,n,r){var i=H_(t,e,n),a;switch(r=Cp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=rve(i,o))&&(r.precision=a),dz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ive(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=nve(i))&&(r.precision=a-(r.type==="%")*2);break}}return HT(r)}function hl(t){var e=t.domain;return t.ticks=function(n){var r=e();return K_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return hz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=q_(o,s,n),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Nv(){var t=KT();return t.copy=function(){return jm(t,Nv())},na.apply(t,arguments),hl(t)}function pz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pz(t).unknown(e)},t=arguments.length?Array.from(t,Iv):[0,1],hl(n)}function mz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function kj(t){return Math.log(t)}function Ij(t){return Math.exp(t)}function ave(t){return-Math.log(-t)}function ove(t){return-Math.exp(-t)}function sve(t){return isFinite(t)?+("1e"+t):t<0?0:t}function lve(t){return t===10?sve:t===Math.E?Math.exp:e=>Math.pow(t,e)}function cve(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jj(t){return(e,n)=>-t(-e,n)}function GT(t){const e=t(kj,Ij),n=e.domain;let r=10,i,a;function o(){return i=cve(r),a=lve(r),n()[0]<0?(i=jj(i),a=jj(a),t(ave,ove)):t(kj,Ij),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),g=i(u),b,v;const w=s==null?10:+s;let x=[];if(!(r%1)&&g-h<w){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(b=1;b<r;++b)if(v=h<0?b/a(-h):b*a(h),!(v<c)){if(v>u)break;x.push(v)}}else for(;h<=g;++h)for(b=r-1;b>=1;--b)if(v=h>0?b/a(-h):b*a(h),!(v<c)){if(v>u)break;x.push(v)}x.length*2<w&&(x=K_(c,u,w))}else x=K_(h,g,Math.min(g-h,w)).map(a);return d?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Cp(l)).precision==null&&(l.trim=!0),l=HT(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(mz(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function gz(){const t=GT(Ob()).domain([1,10]);return t.copy=()=>jm(t,gz()).base(t.base()),na.apply(t,arguments),t}function Nj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Dj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function YT(t){var e=1,n=t(Nj(e),Dj(e));return n.constant=function(r){return arguments.length?t(Nj(e=+r),Dj(e)):e},hl(n)}function yz(){var t=YT(Ob());return t.copy=function(){return jm(t,yz()).constant(t.constant())},na.apply(t,arguments)}function Mj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uve(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fve(t){return t<0?-t*t:t*t}function XT(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(uve,fve):t(Mj(n),Mj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},hl(e)}function QT(){var t=XT(Ob());return t.copy=function(){return jm(t,QT()).exponent(t.exponent())},na.apply(t,arguments),t}function dve(){return QT.apply(null,arguments).exponent(.5)}function Rj(t){return Math.sign(t)*t*t}function hve(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vz(){var t=KT(),e=[0,1],n=!1,r;function i(a){var o=hve(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(Rj(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Iv)).map(Rj)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return vz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},na.apply(i,arguments),hl(i)}function bz(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=vye(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[km(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Hs),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return bz().domain(t).range(e).unknown(r)},na.apply(a,arguments)}function xz(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[km(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return xz().domain([t,e]).range(i).unknown(a)},na.apply(hl(o),arguments)}function wz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[km(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return wz().domain(t).range(e).unknown(n)},na.apply(i,arguments)}const vw=new Date,bw=new Date;function Kn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Kn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(vw.setTime(+a),bw.setTime(+o),t(vw),t(bw),Math.floor(n(vw,bw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Dv=Kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dv);Dv.range;const No=1e3,Hi=No*60,Do=Hi*60,Zo=Do*24,ZT=Zo*7,$j=Zo*30,xw=Zo*365,ec=Kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*No)},(t,e)=>(e-t)/No,t=>t.getUTCSeconds());ec.range;const JT=Kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*No)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getMinutes());JT.range;const eP=Kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getUTCMinutes());eP.range;const tP=Kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*No-t.getMinutes()*Hi)},(t,e)=>{t.setTime(+t+e*Do)},(t,e)=>(e-t)/Do,t=>t.getHours());tP.range;const nP=Kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Do)},(t,e)=>(e-t)/Do,t=>t.getUTCHours());nP.range;const Nm=Kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hi)/Zo,t=>t.getDate()-1);Nm.range;const kb=Kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>t.getUTCDate()-1);kb.range;const _z=Kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>Math.floor(t/Zo));_z.range;function $c(t){return Kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hi)/ZT)}const Ib=$c(0),Mv=$c(1),pve=$c(2),mve=$c(3),wf=$c(4),gve=$c(5),yve=$c(6);Ib.range;Mv.range;pve.range;mve.range;wf.range;gve.range;yve.range;function Lc(t){return Kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ZT)}const jb=Lc(0),Rv=Lc(1),vve=Lc(2),bve=Lc(3),_f=Lc(4),xve=Lc(5),wve=Lc(6);jb.range;Rv.range;vve.range;bve.range;_f.range;xve.range;wve.range;const rP=Kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rP.range;const iP=Kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iP.range;const Jo=Kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jo.range;const es=Kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});es.range;function Sz(t,e,n,r,i,a){const o=[[ec,1,No],[ec,5,5*No],[ec,15,15*No],[ec,30,30*No],[a,1,Hi],[a,5,5*Hi],[a,15,15*Hi],[a,30,30*Hi],[i,1,Do],[i,3,3*Do],[i,6,6*Do],[i,12,12*Do],[r,1,Zo],[r,2,2*Zo],[n,1,ZT],[e,1,$j],[e,3,3*$j],[t,1,xw]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const g=d&&typeof d.range=="function"?d:l(c,u,d),b=g?g.range(c,+u+1):[];return h?b.reverse():b}function l(c,u,d){const h=Math.abs(u-c)/d,g=FT(([,,w])=>w).right(o,h);if(g===o.length)return t.every(H_(c/xw,u/xw,d));if(g===0)return Dv.every(Math.max(H_(c,u,d),1));const[b,v]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return b.every(v)}return[s,l]}const[_ve,Sve]=Sz(es,iP,jb,_z,nP,eP),[Eve,Ave]=Sz(Jo,rP,Ib,Nm,tP,JT);function ww(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _w(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ud(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Tve(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Wd(i),u=Kd(i),d=Wd(a),h=Kd(a),g=Wd(o),b=Kd(o),v=Wd(s),w=Kd(s),x=Wd(l),_=Kd(l),A={a:le,A:Y,b:G,B:pe,c:null,d:Uj,e:Uj,f:Yve,g:a0e,G:s0e,H:qve,I:Hve,j:Gve,L:Ez,m:Xve,M:Qve,p:Se,q:xe,Q:qj,s:Hj,S:Zve,u:Jve,U:e0e,V:t0e,w:n0e,W:r0e,x:null,X:null,y:i0e,Y:o0e,Z:l0e,"%":Kj},k={a:je,A:Ke,b:ft,B:ct,c:null,d:Wj,e:Wj,f:d0e,g:_0e,G:E0e,H:c0e,I:u0e,j:f0e,L:Tz,m:h0e,M:p0e,p:Ce,q:Ye,Q:qj,s:Hj,S:m0e,u:g0e,U:y0e,V:v0e,w:b0e,W:x0e,x:null,X:null,y:w0e,Y:S0e,Z:A0e,"%":Kj},S={a:D,A:N,b:$,B:L,c:Q,d:zj,e:zj,f:Bve,g:Fj,G:Vj,H:Bj,I:Bj,j:Lve,L:zve,m:$ve,M:Vve,p:j,q:Rve,Q:Wve,s:Kve,S:Fve,u:Ive,U:jve,V:Nve,w:kve,W:Dve,x:ne,X:ce,y:Fj,Y:Vj,Z:Mve,"%":Uve};A.x=C(n,A),A.X=C(r,A),A.c=C(e,A),k.x=C(n,k),k.X=C(r,k),k.c=C(e,k);function C(oe,ye){return function(Ae){var se=[],Be=-1,ze=0,qe=oe.length,nt,At,on;for(Ae instanceof Date||(Ae=new Date(+Ae));++Be<qe;)oe.charCodeAt(Be)===37&&(se.push(oe.slice(ze,Be)),(At=Lj[nt=oe.charAt(++Be)])!=null?nt=oe.charAt(++Be):At=nt==="e"?" ":"0",(on=ye[nt])&&(nt=on(Ae,At)),se.push(nt),ze=Be+1);return se.push(oe.slice(ze,Be)),se.join("")}}function E(oe,ye){return function(Ae){var se=Ud(1900,void 0,1),Be=T(se,oe,Ae+="",0),ze,qe;if(Be!=Ae.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ye&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(ze=_w(Ud(se.y,0,1)),qe=ze.getUTCDay(),ze=qe>4||qe===0?Rv.ceil(ze):Rv(ze),ze=kb.offset(ze,(se.V-1)*7),se.y=ze.getUTCFullYear(),se.m=ze.getUTCMonth(),se.d=ze.getUTCDate()+(se.w+6)%7):(ze=ww(Ud(se.y,0,1)),qe=ze.getDay(),ze=qe>4||qe===0?Mv.ceil(ze):Mv(ze),ze=Nm.offset(ze,(se.V-1)*7),se.y=ze.getFullYear(),se.m=ze.getMonth(),se.d=ze.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),qe="Z"in se?_w(Ud(se.y,0,1)).getUTCDay():ww(Ud(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(qe+5)%7:se.w+se.U*7-(qe+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,_w(se)):ww(se)}}function T(oe,ye,Ae,se){for(var Be=0,ze=ye.length,qe=Ae.length,nt,At;Be<ze;){if(se>=qe)return-1;if(nt=ye.charCodeAt(Be++),nt===37){if(nt=ye.charAt(Be++),At=S[nt in Lj?ye.charAt(Be++):nt],!At||(se=At(oe,Ae,se))<0)return-1}else if(nt!=Ae.charCodeAt(se++))return-1}return se}function j(oe,ye,Ae){var se=c.exec(ye.slice(Ae));return se?(oe.p=u.get(se[0].toLowerCase()),Ae+se[0].length):-1}function D(oe,ye,Ae){var se=g.exec(ye.slice(Ae));return se?(oe.w=b.get(se[0].toLowerCase()),Ae+se[0].length):-1}function N(oe,ye,Ae){var se=d.exec(ye.slice(Ae));return se?(oe.w=h.get(se[0].toLowerCase()),Ae+se[0].length):-1}function $(oe,ye,Ae){var se=x.exec(ye.slice(Ae));return se?(oe.m=_.get(se[0].toLowerCase()),Ae+se[0].length):-1}function L(oe,ye,Ae){var se=v.exec(ye.slice(Ae));return se?(oe.m=w.get(se[0].toLowerCase()),Ae+se[0].length):-1}function Q(oe,ye,Ae){return T(oe,e,ye,Ae)}function ne(oe,ye,Ae){return T(oe,n,ye,Ae)}function ce(oe,ye,Ae){return T(oe,r,ye,Ae)}function le(oe){return o[oe.getDay()]}function Y(oe){return a[oe.getDay()]}function G(oe){return l[oe.getMonth()]}function pe(oe){return s[oe.getMonth()]}function Se(oe){return i[+(oe.getHours()>=12)]}function xe(oe){return 1+~~(oe.getMonth()/3)}function je(oe){return o[oe.getUTCDay()]}function Ke(oe){return a[oe.getUTCDay()]}function ft(oe){return l[oe.getUTCMonth()]}function ct(oe){return s[oe.getUTCMonth()]}function Ce(oe){return i[+(oe.getUTCHours()>=12)]}function Ye(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ye=C(oe+="",A);return ye.toString=function(){return oe},ye},parse:function(oe){var ye=E(oe+="",!1);return ye.toString=function(){return oe},ye},utcFormat:function(oe){var ye=C(oe+="",k);return ye.toString=function(){return oe},ye},utcParse:function(oe){var ye=E(oe+="",!0);return ye.toString=function(){return oe},ye}}}var Lj={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,Pve=/^%/,Cve=/[\\^$*+?|[\]().{}]/g;function kt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ove(t){return t.replace(Cve,"\\$&")}function Wd(t){return new RegExp("^(?:"+t.map(Ove).join("|")+")","i")}function Kd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function kve(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ive(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jve(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Nve(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Dve(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vj(t,e,n){var r=tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fj(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mve(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rve(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $ve(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zj(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Lve(t,e,n){var r=tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Bj(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Vve(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fve(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zve(t,e,n){var r=tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Bve(t,e,n){var r=tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Uve(t,e,n){var r=Pve.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Wve(t,e,n){var r=tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Kve(t,e,n){var r=tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Uj(t,e){return kt(t.getDate(),e,2)}function qve(t,e){return kt(t.getHours(),e,2)}function Hve(t,e){return kt(t.getHours()%12||12,e,2)}function Gve(t,e){return kt(1+Nm.count(Jo(t),t),e,3)}function Ez(t,e){return kt(t.getMilliseconds(),e,3)}function Yve(t,e){return Ez(t,e)+"000"}function Xve(t,e){return kt(t.getMonth()+1,e,2)}function Qve(t,e){return kt(t.getMinutes(),e,2)}function Zve(t,e){return kt(t.getSeconds(),e,2)}function Jve(t){var e=t.getDay();return e===0?7:e}function e0e(t,e){return kt(Ib.count(Jo(t)-1,t),e,2)}function Az(t){var e=t.getDay();return e>=4||e===0?wf(t):wf.ceil(t)}function t0e(t,e){return t=Az(t),kt(wf.count(Jo(t),t)+(Jo(t).getDay()===4),e,2)}function n0e(t){return t.getDay()}function r0e(t,e){return kt(Mv.count(Jo(t)-1,t),e,2)}function i0e(t,e){return kt(t.getFullYear()%100,e,2)}function a0e(t,e){return t=Az(t),kt(t.getFullYear()%100,e,2)}function o0e(t,e){return kt(t.getFullYear()%1e4,e,4)}function s0e(t,e){var n=t.getDay();return t=n>=4||n===0?wf(t):wf.ceil(t),kt(t.getFullYear()%1e4,e,4)}function l0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kt(e/60|0,"0",2)+kt(e%60,"0",2)}function Wj(t,e){return kt(t.getUTCDate(),e,2)}function c0e(t,e){return kt(t.getUTCHours(),e,2)}function u0e(t,e){return kt(t.getUTCHours()%12||12,e,2)}function f0e(t,e){return kt(1+kb.count(es(t),t),e,3)}function Tz(t,e){return kt(t.getUTCMilliseconds(),e,3)}function d0e(t,e){return Tz(t,e)+"000"}function h0e(t,e){return kt(t.getUTCMonth()+1,e,2)}function p0e(t,e){return kt(t.getUTCMinutes(),e,2)}function m0e(t,e){return kt(t.getUTCSeconds(),e,2)}function g0e(t){var e=t.getUTCDay();return e===0?7:e}function y0e(t,e){return kt(jb.count(es(t)-1,t),e,2)}function Pz(t){var e=t.getUTCDay();return e>=4||e===0?_f(t):_f.ceil(t)}function v0e(t,e){return t=Pz(t),kt(_f.count(es(t),t)+(es(t).getUTCDay()===4),e,2)}function b0e(t){return t.getUTCDay()}function x0e(t,e){return kt(Rv.count(es(t)-1,t),e,2)}function w0e(t,e){return kt(t.getUTCFullYear()%100,e,2)}function _0e(t,e){return t=Pz(t),kt(t.getUTCFullYear()%100,e,2)}function S0e(t,e){return kt(t.getUTCFullYear()%1e4,e,4)}function E0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_f(t):_f.ceil(t),kt(t.getUTCFullYear()%1e4,e,4)}function A0e(){return"+0000"}function Kj(){return"%"}function qj(t){return+t}function Hj(t){return Math.floor(+t/1e3)}var au,Cz,Oz;T0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function T0e(t){return au=Tve(t),Cz=au.format,au.parse,Oz=au.utcFormat,au.utcParse,au}function P0e(t){return new Date(t)}function C0e(t){return t instanceof Date?+t:+new Date(+t)}function aP(t,e,n,r,i,a,o,s,l,c){var u=KT(),d=u.invert,h=u.domain,g=c(".%L"),b=c(":%S"),v=c("%I:%M"),w=c("%I %p"),x=c("%a %d"),_=c("%b %d"),A=c("%B"),k=c("%Y");function S(C){return(l(C)<C?g:s(C)<C?b:o(C)<C?v:a(C)<C?w:r(C)<C?i(C)<C?x:_:n(C)<C?A:k)(C)}return u.invert=function(C){return new Date(d(C))},u.domain=function(C){return arguments.length?h(Array.from(C,C0e)):h().map(P0e)},u.ticks=function(C){var E=h();return t(E[0],E[E.length-1],C??10)},u.tickFormat=function(C,E){return E==null?S:c(E)},u.nice=function(C){var E=h();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?h(mz(E,C)):u},u.copy=function(){return jm(u,aP(t,e,n,r,i,a,o,s,l,c))},u}function O0e(){return na.apply(aP(Eve,Ave,Jo,rP,Ib,Nm,tP,JT,ec,Cz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k0e(){return na.apply(aP(_ve,Sve,es,iP,jb,kb,nP,eP,ec,Oz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nb(){var t=0,e=1,n,r,i,a,o=Dr,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var g,b;return arguments.length?([g,b]=h,o=d(g,b),c):[o(0),o(1)]}}return c.range=u(fd),c.rangeRound=u(WT),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function pl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kz(){var t=hl(Nb()(Dr));return t.copy=function(){return pl(t,kz())},os.apply(t,arguments)}function Iz(){var t=GT(Nb()).domain([1,10]);return t.copy=function(){return pl(t,Iz()).base(t.base())},os.apply(t,arguments)}function jz(){var t=YT(Nb());return t.copy=function(){return pl(t,jz()).constant(t.constant())},os.apply(t,arguments)}function oP(){var t=XT(Nb());return t.copy=function(){return pl(t,oP()).exponent(t.exponent())},os.apply(t,arguments)}function I0e(){return oP.apply(null,arguments).exponent(.5)}function Nz(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((km(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Hs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>yye(t,a/r))},n.copy=function(){return Nz(e).domain(t)},os.apply(n,arguments)}function Db(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,c=Dr,u,d=!1,h;function g(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-a)*(r*v<r*a?s:l),c(d?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=u(t=+t),a=u(e=+e),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(d=!!v,g):d},g.interpolator=function(v){return arguments.length?(c=v,g):c};function b(v){return function(w){var x,_,A;return arguments.length?([x,_,A]=w,c=Uye(v,[x,_,A]),g):[c(0),c(.5),c(1)]}}return g.range=b(fd),g.rangeRound=b(WT),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return u=v,i=v(t),a=v(e),o=v(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g}}function Dz(){var t=hl(Db()(Dr));return t.copy=function(){return pl(t,Dz())},os.apply(t,arguments)}function Mz(){var t=GT(Db()).domain([.1,1,10]);return t.copy=function(){return pl(t,Mz()).base(t.base())},os.apply(t,arguments)}function Rz(){var t=YT(Db());return t.copy=function(){return pl(t,Rz()).constant(t.constant())},os.apply(t,arguments)}function sP(){var t=XT(Db());return t.copy=function(){return pl(t,sP()).exponent(t.exponent())},os.apply(t,arguments)}function j0e(){return sP.apply(null,arguments).exponent(.5)}const Gj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ep,scaleDiverging:Dz,scaleDivergingLog:Mz,scaleDivergingPow:sP,scaleDivergingSqrt:j0e,scaleDivergingSymlog:Rz,scaleIdentity:pz,scaleImplicit:G_,scaleLinear:Nv,scaleLog:gz,scaleOrdinal:zT,scalePoint:Ih,scalePow:QT,scaleQuantile:bz,scaleQuantize:xz,scaleRadial:vz,scaleSequential:kz,scaleSequentialLog:Iz,scaleSequentialPow:oP,scaleSequentialQuantile:Nz,scaleSequentialSqrt:I0e,scaleSequentialSymlog:jz,scaleSqrt:dve,scaleSymlog:yz,scaleThreshold:wz,scaleTime:O0e,scaleUtc:k0e,tickFormat:hz},Symbol.toStringTag,{value:"Module"}));var N0e=ed;function D0e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!N0e(o):n(o,s)))var s=o,l=a}return l}var $z=D0e;function M0e(t,e){return t>e}var R0e=M0e,$0e=$z,L0e=R0e,V0e=cd;function F0e(t){return t&&t.length?$0e(t,V0e,L0e):void 0}var z0e=F0e;const ks=Ut(z0e);function B0e(t,e){return t<e}var U0e=B0e,W0e=$z,K0e=U0e,q0e=cd;function H0e(t){return t&&t.length?W0e(t,q0e,K0e):void 0}var G0e=H0e;const Mb=Ut(G0e);var Y0e=wT,X0e=dl,Q0e=qF,Z0e=ri;function J0e(t,e){var n=Z0e(t)?Y0e:Q0e;return n(t,X0e(e))}var ebe=J0e,tbe=WF,nbe=ebe;function rbe(t,e){return tbe(nbe(t,e),1)}var ibe=rbe;const abe=Ut(ibe);var obe=RT;function sbe(t,e){return obe(t,e)}var lbe=sbe;const Sf=Ut(lbe);var dd=1e9,cbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cP,cn=!0,ea="[DecimalError] ",uc=ea+"Invalid argument: ",lP=ea+"Exponent out of range: ",hd=Math.floor,Wl=Math.pow,ube=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,Yn=1e7,nn=7,Lz=9007199254740991,$v=hd(Lz/nn),Fe={};Fe.absoluteValue=Fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Fe.comparedTo=Fe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(t){return zo(this,new this.constructor(t))};Fe.dividedToIntegerBy=Fe.idiv=function(t){var e=this,n=e.constructor;return Ht(zo(e,new n(t),0,1),n.precision)};Fe.equals=Fe.eq=function(t){return!this.cmp(t)};Fe.exponent=function(){return Rn(this)};Fe.greaterThan=Fe.gt=function(t){return this.cmp(t)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(t){return this.cmp(t)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(t){return this.cmp(t)<0};Fe.lessThanOrEqualTo=Fe.lte=function(t){return this.cmp(t)<1};Fe.logarithm=Fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mi))throw Error(ea+"NaN");if(n.s<1)throw Error(ea+(n.s?"NaN":"-Infinity"));return n.eq(mi)?new r(0):(cn=!1,e=zo(Op(n,a),Op(t,a),a),cn=!0,Ht(e,i))};Fe.minus=Fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zz(e,t):Vz(e,(t.s=-t.s,t))};Fe.modulo=Fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ea+"NaN");return n.s?(cn=!1,e=zo(n,t,0,1).times(t),cn=!0,n.minus(e)):Ht(new r(n),i)};Fe.naturalExponential=Fe.exp=function(){return Fz(this)};Fe.naturalLogarithm=Fe.ln=function(){return Op(this)};Fe.negated=Fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Fe.plus=Fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Vz(e,t):zz(e,(t.s=-t.s,t))};Fe.precision=Fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uc+t);if(e=Rn(i)+1,r=i.d.length-1,n=r*nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Fe.squareRoot=Fe.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ea+"NaN")}for(t=Rn(s),cn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ga(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=hd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(zo(s,a,o+2)).times(.5),Ga(a.d).slice(0,o)===(e=Ga(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ht(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return cn=!0,Ht(r,n)};Fe.times=Fe.mul=function(t){var e,n,r,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,g=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=g.length,l<c&&(a=h,h=g,g=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+g[r]*h[i-r-1]+e,a[i--]=s%Yn|0,e=s/Yn|0;a[i]=(a[i]+e)%Yn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,cn?Ht(t,d.precision):t};Fe.toDecimalPlaces=Fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(lo(t,0,dd),e===void 0?e=r.rounding:lo(e,0,8),Ht(n,t+Rn(n)+1,e))};Fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=_c(r,!0):(lo(t,0,dd),e===void 0?e=i.rounding:lo(e,0,8),r=Ht(new i(r),t+1,e),n=_c(r,!0,t+1)),n};Fe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?_c(i):(lo(t,0,dd),e===void 0?e=a.rounding:lo(e,0,8),r=Ht(new a(i),t+Rn(i)+1,e),n=_c(r.abs(),!1,t+Rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var t=this,e=t.constructor;return Ht(new e(t),Rn(t)+1,e.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(mi);if(s=new l(s),!s.s){if(t.s<1)throw Error(ea+"Infinity");return s}if(s.eq(mi))return s;if(r=l.precision,t.eq(mi))return Ht(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=u<0?-u:u)<=Lz){for(i=new l(mi),e=Math.ceil(r/nn+4),cn=!1;n%2&&(i=i.times(s),Xj(i.d,e)),n=hd(n/2),n!==0;)s=s.times(s),Xj(s.d,e);return cn=!0,t.s<0?new l(mi).div(i):Ht(i,r)}}else if(a<0)throw Error(ea+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,cn=!1,i=t.times(Op(s,r+c)),cn=!0,i=Fz(i),i.s=a,i};Fe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Rn(i),r=_c(i,n<=a.toExpNeg||n>=a.toExpPos)):(lo(t,1,dd),e===void 0?e=a.rounding:lo(e,0,8),i=Ht(new a(i),t,e),n=Rn(i),r=_c(i,t<=n||n<=a.toExpNeg,t)),r};Fe.toSignificantDigits=Fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(lo(t,1,dd),e===void 0?e=r.rounding:lo(e,0,8)),Ht(new r(n),t,e)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rn(t),n=t.constructor;return _c(t,e<=n.toExpNeg||e>=n.toExpPos)};function Vz(t,e){var n,r,i,a,o,s,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),cn?Ht(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(d/nn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Yn|0,l[a]%=Yn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,cn?Ht(e,d):e}function lo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uc+t)}function Ga(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=nn-r.length,n&&(a+=Ss(n)),a+=r;o=t[e],r=o+"",n=nn-r.length,n&&(a+=Ss(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var zo=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Yn|0,o=a/Yn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Yn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,d,h,g,b,v,w,x,_,A,k,S,C,E,T,j=r.constructor,D=r.s==i.s?1:-1,N=r.d,$=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(ea+"Division by zero");for(l=r.e-i.e,E=$.length,S=N.length,g=new j(D),b=g.d=[],c=0;$[c]==(N[c]||0);)++c;if($[c]>(N[c]||0)&&--l,a==null?_=a=j.precision:o?_=a+(Rn(r)-Rn(i))+1:_=a,_<0)return new j(0);if(_=_/nn+2|0,c=0,E==1)for(u=0,$=$[0],_++;(c<S||u)&&_--;c++)A=u*Yn+(N[c]||0),b[c]=A/$|0,u=A%$|0;else{for(u=Yn/($[0]+1)|0,u>1&&($=t($,u),N=t(N,u),E=$.length,S=N.length),k=E,v=N.slice(0,E),w=v.length;w<E;)v[w++]=0;T=$.slice(),T.unshift(0),C=$[0],$[1]>=Yn/2&&++C;do u=0,s=e($,v,E,w),s<0?(x=v[0],E!=w&&(x=x*Yn+(v[1]||0)),u=x/C|0,u>1?(u>=Yn&&(u=Yn-1),d=t($,u),h=d.length,w=v.length,s=e(d,v,h,w),s==1&&(u--,n(d,E<h?T:$,h))):(u==0&&(s=u=1),d=$.slice()),h=d.length,h<w&&d.unshift(0),n(v,d,w),s==-1&&(w=v.length,s=e($,v,E,w),s<1&&(u++,n(v,E<w?T:$,w))),w=v.length):s===0&&(u++,v=[0]),b[c++]=u,s&&v[0]?v[w++]=N[k]||0:(v=[N[k]],w=1);while((k++<S||v[0]!==void 0)&&_--)}return b[0]||b.shift(),g.e=l,Ht(g,o?a+Rn(g)+1:a)}}();function Fz(t,e){var n,r,i,a,o,s,l=0,c=0,u=t.constructor,d=u.precision;if(Rn(t)>16)throw Error(lP+Rn(t));if(!t.s)return new u(mi);for(cn=!1,s=d,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(Wl(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(mi),u.precision=s;;){if(i=Ht(i.times(t),s),n=n.times(++l),o=a.plus(zo(i,n,s)),Ga(o.d).slice(0,s)===Ga(a.d).slice(0,s)){for(;c--;)a=Ht(a.times(a),s);return u.precision=d,e==null?(cn=!0,Ht(a,d)):a}a=o}}function Rn(t){for(var e=t.e*nn,n=t.d[0];n>=10;n/=10)e++;return e}function Sw(t,e,n){if(e>t.LN10.sd())throw cn=!0,n&&(t.precision=n),Error(ea+"LN10 precision limit exceeded");return Ht(new t(t.LN10),e)}function Ss(t){for(var e="";t--;)e+="0";return e}function Op(t,e){var n,r,i,a,o,s,l,c,u,d=1,h=10,g=t,b=g.d,v=g.constructor,w=v.precision;if(g.s<1)throw Error(ea+(g.s?"NaN":"-Infinity"));if(g.eq(mi))return new v(0);if(e==null?(cn=!1,c=w):c=e,g.eq(10))return e==null&&(cn=!0),Sw(v,c);if(c+=h,v.precision=c,n=Ga(b),r=n.charAt(0),a=Rn(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Ga(g.d),r=n.charAt(0),d++;a=Rn(g),r>1?(g=new v("0."+n),a++):g=new v(r+"."+n.slice(1))}else return l=Sw(v,c+2,w).times(a+""),g=Op(new v(r+"."+n.slice(1)),c-h).plus(l),v.precision=w,e==null?(cn=!0,Ht(g,w)):g;for(s=o=g=zo(g.minus(mi),g.plus(mi),c),u=Ht(g.times(g),c),i=3;;){if(o=Ht(o.times(u),c),l=s.plus(zo(o,new v(i),c)),Ga(l.d).slice(0,c)===Ga(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Sw(v,c+2,w).times(a+""))),s=zo(s,new v(d),c),v.precision=w,e==null?(cn=!0,Ht(s,w)):s;s=l,i+=2}}function Yj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=hd(n/nn),t.d=[],r=(n+1)%nn,n<0&&(r+=nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nn;r<i;)t.d.push(+e.slice(r,r+=nn));e=e.slice(r),r=nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),cn&&(t.e>$v||t.e<-$v))throw Error(lP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ht(t,e,n){var r,i,a,o,s,l,c,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=nn,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/nn),a=d.length,u>=a)return t;for(c=a=d[u],o=1;a>=10;a/=10)o++;r%=nn,i=r-nn+o}if(n!==void 0&&(a=Wl(10,o-i-1),s=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Wl(10,o-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Rn(t),d.length=1,e=e-a-1,d[0]=Wl(10,(nn-e%nn)%nn),t.e=hd(-e/nn)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=Wl(10,nn-r),d[u]=i>0?(c/Wl(10,o-i)%Wl(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Yn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=Yn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(cn&&(t.e>$v||t.e<-$v))throw Error(lP+Rn(t));return t}function zz(t,e){var n,r,i,a,o,s,l,c,u,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),cn?Ht(e,g):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(g/nn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Yn-1;--l[a],l[i]+=Yn}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,cn?Ht(e,g):e):new h(0)}function _c(t,e,n){var r,i=Rn(t),a=Ga(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ss(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ss(-i-1)+a,n&&(r=n-o)>0&&(a+=Ss(r))):i>=o?(a+=Ss(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ss(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ss(r))),t.s<0?"-"+a:a}function Xj(t,e){if(t.length>e)return t.length=e,!0}function Bz(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(uc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Yj(o,a.toString())}else if(typeof a!="string")throw Error(uc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ube.test(a))Yj(o,a);else throw Error(uc+a)}if(i.prototype=Fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Bz,i.config=i.set=fbe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fbe(t){if(!t||typeof t!="object")throw Error(ea+"Object expected");var e,n,r,i=["precision",1,dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(hd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uc+n+": "+r);return this}var cP=Bz(cbe);mi=new cP(1);const zt=cP;function dbe(t){return gbe(t)||mbe(t)||pbe(t)||hbe()}function hbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pbe(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function mbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gbe(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ybe=function(e){return e},Uz={},Wz=function(e){return e===Uz},Qj=function(e){return function n(){return arguments.length===0||arguments.length===1&&Wz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},vbe=function t(e,n){return e===1?n:Qj(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Uz}).length;return o>=e?n.apply(void 0,i):t(e-o,Qj(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return Wz(d)?l.shift():d});return n.apply(void 0,dbe(u).concat(l))}))})},Rb=function(e){return vbe(e.length,e)},J_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},bbe=Rb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),xbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ybe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},eS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Kz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function wbe(t){var e;return t===0?e=1:e=Math.floor(new zt(t).abs().log(10).toNumber())+1,e}function _be(t,e,n){for(var r=new zt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Sbe=Rb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ebe=Rb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Abe=Rb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const $b={rangeStep:_be,getDigitCount:wbe,interpolateNumber:Sbe,uninterpolateNumber:Ebe,uninterpolateTruncation:Abe};function tS(t){return Cbe(t)||Pbe(t)||qz(t)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cbe(t){if(Array.isArray(t))return nS(t)}function kp(t,e){return Ibe(t)||kbe(t,e)||qz(t,e)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qz(t,e){if(t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kbe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Ibe(t){if(Array.isArray(t))return t}function Hz(t){var e=kp(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Gz(t,e,n){if(t.lte(0))return new zt(0);var r=$b.getDigitCount(t.toNumber()),i=new zt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new zt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new zt(Math.ceil(l))}function jbe(t,e,n){var r=1,i=new zt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new zt(10).pow($b.getDigitCount(t)-1),i=new zt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new zt(Math.floor(t)))}else t===0?i=new zt(Math.floor((e-1)/2)):n||(i=new zt(Math.floor(t)));var o=Math.floor((e-1)/2),s=xbe(bbe(function(l){return i.add(new zt(l-o).mul(r)).toNumber()}),J_);return s(0,e)}function Yz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var a=Gz(new zt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new zt(0):(o=new zt(t).add(e).div(2),o=o.sub(new zt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new zt(e).sub(o).div(a).toNumber()),c=s+l+1;return c>n?Yz(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:a,tickMin:o.sub(new zt(s).mul(a)),tickMax:o.add(new zt(l).mul(a))})}function Nbe(t){var e=kp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=Hz([n,r]),l=kp(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(tS(J_(0,i-1).map(function(){return 1/0}))):[].concat(tS(J_(0,i-1).map(function(){return-1/0})),[u]);return n>r?eS(d):d}if(c===u)return jbe(c,i,a);var h=Yz(c,u,o,a),g=h.step,b=h.tickMin,v=h.tickMax,w=$b.rangeStep(b,v.add(new zt(.1).mul(g)),g);return n>r?eS(w):w}function Dbe(t,e){var n=kp(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Hz([r,i]),s=kp(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=Gz(new zt(c).sub(l).div(u-1),a,0),h=[].concat(tS($b.rangeStep(new zt(l),new zt(c).sub(new zt(.99).mul(d)),d)),[c]);return r>i?eS(h):h}var Mbe=Kz(Nbe),Rbe=Kz(Dbe),$be="Invariant failed";function Sc(t,e){throw new Error($be)}var Lbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function Vbe(t,e){return Ube(t)||Bbe(t,e)||zbe(t,e)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zbe(t,e){if(t){if(typeof t=="string")return Zj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zj(t,e)}}function Zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ube(t){if(Array.isArray(t))return t}function Wbe(t,e){if(t==null)return{};var n=Kbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zz(r.key),r)}}function Gbe(t,e,n){return e&&Hbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ybe(t,e,n){return e=Vv(e),Xbe(t,Xz()?Reflect.construct(e,n||[],Vv(t).constructor):e.apply(t,n))}function Xbe(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qbe(t)}function Qbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xz=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}function Zbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rS(t,e)}function rS(t,e){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rS(t,e)}function Qz(t,e,n){return e=Zz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zz(t){var e=Jbe(t,"string");return Ef(e)=="symbol"?e:e+""}function Jbe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dm=function(t){function e(){return qbe(this,e),Ybe(this,e,arguments)}return Zbe(e,t),Gbe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=Wbe(r,Lbe),g=ut(h,!1);this.props.direction==="x"&&u.type!=="number"&&Sc();var b=l.map(function(v){var w=c(v,s),x=w.x,_=w.y,A=w.value,k=w.errorVal;if(!k)return null;var S=[],C,E;if(Array.isArray(k)){var T=Vbe(k,2);C=T[0],E=T[1]}else C=E=k;if(a==="vertical"){var j=u.scale,D=_+i,N=D+o,$=D-o,L=j(A-C),Q=j(A+E);S.push({x1:Q,y1:N,x2:Q,y2:$}),S.push({x1:L,y1:D,x2:Q,y2:D}),S.push({x1:L,y1:N,x2:L,y2:$})}else if(a==="horizontal"){var ne=d.scale,ce=x+i,le=ce-o,Y=ce+o,G=ne(A-C),pe=ne(A+E);S.push({x1:le,y1:pe,x2:Y,y2:pe}),S.push({x1:ce,y1:G,x2:ce,y2:pe}),S.push({x1:le,y1:G,x2:Y,y2:G})}return U.createElement(Zt,Lv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Se){return"".concat(Se.x1,"-").concat(Se.x2,"-").concat(Se.y1,"-").concat(Se.y2)}))},g),S.map(function(Se){return U.createElement("line",Lv({},Se,{key:"line-".concat(Se.x1,"-").concat(Se.x2,"-").concat(Se.y1,"-").concat(Se.y2)}))}))});return U.createElement(Zt,{className:"recharts-errorBars"},b)}}])}(U.Component);Qz(Dm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Qz(Dm,"displayName","ErrorBar");function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){exe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function exe(t,e,n){return e=txe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function txe(t){var e=nxe(t,"string");return Ip(e)=="symbol"?e:e+""}function nxe(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=hi(n,qs);if(!o)return null;var s=qs.defaultProps,l=s!==void 0?Ml(Ml({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,g=d.props,b=g.sectors||g.data||[];return u.concat(b.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,g=h!==void 0?Ml(Ml({},h),d.props):{},b=g.dataKey,v=g.name,w=g.legendType,x=g.hide;return{inactive:x,dataKey:b,type:l.iconType||w||"square",color:uP(d),value:v||b,payload:g}}),Ml(Ml(Ml({},l),qs.getWithHeight(o,i)),{},{payload:c,item:o})};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function eN(t){return oxe(t)||axe(t)||ixe(t)||rxe()}function rxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ixe(t,e){if(t){if(typeof t=="string")return iS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(t,e)}}function axe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oxe(t){if(Array.isArray(t))return iS(t)}function iS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){Ku(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ku(t,e,n){return e=sxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sxe(t){var e=lxe(t,"string");return jp(e)=="symbol"?e:e+""}function lxe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $r(t,e,n){return ht(t)||ht(e)?n:Bn(e)?Xi(t,e,n):lt(e)?e(t):n}function jh(t,e,n,r){var i=abe(t,function(s){return $r(s,e)});if(n==="number"){var a=i.filter(function(s){return Pe(s)||parseFloat(s)});return a.length?[Mb(a),ks(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!ht(s)}):i;return o.map(function(s){return Bn(s)||s instanceof Date?s:""})}var cxe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(Aa(d-u)!==Aa(h-d)){var b=[];if(Aa(h-d)===Aa(l[1]-l[0])){g=h;var v=d+l[1]-l[0];b[0]=Math.min(v,(v+u)/2),b[1]=Math.max(v,(v+u)/2)}else{g=u;var w=h+l[1]-l[0];b[0]=Math.min(d,(w+d)/2),b[1]=Math.max(d,(w+d)/2)}var x=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>x[0]&&e<=x[1]||e>=b[0]&&e<=b[1]){o=i[c].index;break}}else{var _=Math.min(u,h),A=Math.max(u,h);if(e>(_+d)/2&&e<=(A+d)/2){o=i[c].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){o=r[k].index;break}return o},uP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bn(bn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},uxe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,d=Object.keys(u),h=0,g=d.length;h<g;h++){var b=u[d[h]],v=b.items,w=b.cateAxisId,x=v.filter(function(E){return Vo(E.type).indexOf("Bar")>=0});if(x&&x.length){var _=x[0].type.defaultProps,A=_!==void 0?bn(bn({},_),x[0].props):x[0].props,k=A.barSize,S=A[w];o[S]||(o[S]=[]);var C=ht(k)?n:k;o[S].push({item:x[0],stackList:x.slice(1),barSize:ht(C)?void 0:wc(C,r,0)})}}return o},fxe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=wc(n,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,g=i/l,b=o.reduce(function(k,S){return k+S.barSize||0},0);b+=(l-1)*c,b>=i&&(b-=(l-1)*c,c=0),b>=i&&g>0&&(h=!0,g*=.9,b=l*g);var v=(i-b)/2>>0,w={offset:v-c,size:0};u=o.reduce(function(k,S){var C={item:S.item,position:{offset:w.offset+w.size+c,size:h?g:S.barSize}},E=[].concat(eN(k),[C]);return w=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){E.push({item:T,position:w})}),E},d)}else{var x=wc(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var _=(i-2*x-(l-1)*c)/l;_>1&&(_>>=0);var A=s===+s?Math.min(_,s):_;u=o.reduce(function(k,S,C){var E=[].concat(eN(k),[{item:S.item,position:{offset:x+(_+c)*C+(_-A)/2,size:A}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},d)}return u},dxe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=Jz({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,g=c.align,b=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&g!=="center"&&Pe(e[g]))return bn(bn({},e),{},Ku({},g,e[g]+(d||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&b!=="middle"&&Pe(e[b]))return bn(bn({},e),{},Ku({},b,e[b]+(h||0)))}return e},hxe=function(e,n,r){return ht(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},e3=function(e,n,r,i,a){var o=n.props.children,s=Qi(o,Dm).filter(function(c){return hxe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=$r(u,r);if(ht(d))return c;var h=Array.isArray(d)?[Mb(d),ks(d)]:[d,d],g=l.reduce(function(b,v){var w=$r(u,v,0),x=h[0]-Math.abs(Array.isArray(w)?w[0]:w),_=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(x,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},pxe=function(e,n,r,i,a){var o=n.map(function(s){return e3(e,s,r,a,i)}).filter(function(s){return!ht(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},t3=function(e,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&e3(e,l,c,i)||jh(e,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},n3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},r3=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Mo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Aa(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!ad(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},Ew=new WeakMap,Mg=function(e,n){if(typeof n!="function")return e;Ew.has(e)||Ew.set(e,new WeakMap);var r=Ew.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},mxe=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Ep(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Nv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ih(),realScaleType:"point"}:a==="category"?{scale:Ep(),realScaleType:"band"}:{scale:Nv(),realScaleType:"linear"};if(xc(i)){var l="scale".concat(_b(i));return{scale:(Gj[l]||Ih)(),realScaleType:Gj[l]?l:"point"}}return lt(i)?{scale:i}:{scale:Ih(),realScaleType:"point"}},nN=1e-4,gxe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-nN,o=Math.max(i[0],i[1])+nN,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},yxe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},vxe=function(e,n){if(!n||n.length!==2||!Pe(n[0])||!Pe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Pe(e[0])||e[0]<r)&&(a[0]=r),(!Pe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},bxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=ad(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},xxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=ad(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},wxe={sign:bxe,expand:Rse,none:mf,silhouette:$se,wiggle:Lse,positive:xxe},_xe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=wxe[r],o=Mse().keys(i).value(function(s,l){return+$r(s,l,0)}).order(O_).offset(a);return o(e)},Sxe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(d,h){var g,b=(g=h.type)!==null&&g!==void 0&&g.defaultProps?bn(bn({},h.type.defaultProps),h.props):h.props,v=b.stackId,w=b.hide;if(w)return d;var x=b[r],_=d[x]||{hasStack:!1,stackGroups:{}};if(Bn(v)){var A=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(h),_.hasStack=!0,_.stackGroups[v]=A}else _.stackGroups[od("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return bn(bn({},d),{},Ku({},x,_))},l),u={};return Object.keys(c).reduce(function(d,h){var g=c[h];if(g.hasStack){var b={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,w){var x=g.stackGroups[w];return bn(bn({},v),{},Ku({},w,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:_xe(e,x.items,a)}))},b)}return bn(bn({},d),{},Ku({},h,g))},u)},Exe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Mbe(c,a,s);return e.domain([Mb(u),ks(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=Rbe(d,a,s);return{niceTicks:h}}return null};function Fv(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ht(i[e.dataKey])){var s=uv(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=$r(i,ht(o)?e.dataKey:o);return ht(l)?null:e.scale(l)}var rN=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=$r(o,n.dataKey,n.domain[s]);return ht(l)?null:n.scale(l)-a/2+i},Axe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Txe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bn(bn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Bn(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Pxe=function(e){return e.reduce(function(n,r){return[Mb(r.concat([n[0]]).filter(Pe)),ks(r.concat([n[1]]).filter(Pe))]},[1/0,-1/0])},i3=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var d=Pxe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},iN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aS=function(e,n,r){if(lt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Pe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(iN.test(e[0])){var a=+iN.exec(e[0])[1];i[0]=n[0]-a}else lt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Pe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(aN.test(e[1])){var o=+aN.exec(e[1])[1];i[1]=n[1]+o}else lt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},zv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=LT(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},oN=function(e,n,r){return!e||!e.length||Sf(e,Xi(r,"type.defaultProps.domain"))?n:e},a3=function(e,n){var r=e.type.defaultProps?bn(bn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return bn(bn({},ut(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:uP(e),value:$r(n,i),type:l,payload:n,chartType:c,hide:u})};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){Cxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cxe(t,e,n){return e=Oxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oxe(t){var e=kxe(t,"string");return Np(e)=="symbol"?e:e+""}function kxe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bv=Math.PI/180,Ixe=function(e){return e*180/Math.PI},ur=function(e,n,r,i){return{x:e+Math.cos(-Bv*i)*r,y:n+Math.sin(-Bv*i)*r}},jxe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Nxe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=jxe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:Ixe(c),angleInRadian:c}},Dxe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Mxe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},cN=function(e,n){var r=e.x,i=e.y,a=Nxe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Dxe(n),d=u.startAngle,h=u.endAngle,g=s,b;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;b=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;b=g>=h&&g<=d}return b?lN(lN({},n),{},{radius:o,angle:Mxe(g,n)}):null};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var Rxe=["offset"];function $xe(t){return zxe(t)||Fxe(t)||Vxe(t)||Lxe()}function Lxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vxe(t,e){if(t){if(typeof t=="string")return oS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oS(t,e)}}function Fxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zxe(t){if(Array.isArray(t))return oS(t)}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bxe(t,e){if(t==null)return{};var n=Uxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){Wxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wxe(t,e,n){return e=Kxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kxe(t){var e=qxe(t,"string");return Dp(e)=="symbol"?e:e+""}function qxe(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}var Hxe=function(e){var n=e.value,r=e.formatter,i=ht(e.children)?n:e.children;return lt(r)?r(i):i},Gxe=function(e,n){var r=Aa(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Yxe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,b=l.endAngle,v=l.clockWise,w=(d+h)/2,x=Gxe(g,b),_=x>=0?1:-1,A,k;i==="insideStart"?(A=g+_*o,k=v):i==="insideEnd"?(A=b-_*o,k=!v):i==="end"&&(A=b+_*o,k=v),k=x<=0?k:!k;var S=ur(c,u,w,A),C=ur(c,u,w,A+(k?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),T=ht(e.id)?od("recharts-radial-line-"):e.id;return U.createElement("text",Mp({},r,{dominantBaseline:"central",className:_t("recharts-radial-bar-label",s)}),U.createElement("defs",null,U.createElement("path",{id:T,d:E})),U.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Xxe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var g=ur(o,s,c+r,h),b=g.x,v=g.y;return{x:b,y:v,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,x=ur(o,s,w,h),_=x.x,A=x.y;return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Qxe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,h=d*i,g=d>0?"end":"start",b=d>0?"start":"end",v=c>=0?1:-1,w=v*i,x=v>0?"end":"start",_=v>0?"start":"end";if(a==="top"){var A={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return Vn(Vn({},A),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var k={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:b};return Vn(Vn({},k),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:s-w,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Vn(Vn({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(a==="right"){var C={x:s+c+w,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return Vn(Vn({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:u}:{})}var E=r?{width:c,height:u}:{};return a==="insideLeft"?Vn({x:s+w,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideRight"?Vn({x:s+c-w,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideTop"?Vn({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:b},E):a==="insideBottom"?Vn({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:g},E):a==="insideTopLeft"?Vn({x:s+w,y:l+h,textAnchor:_,verticalAnchor:b},E):a==="insideTopRight"?Vn({x:s+c-w,y:l+h,textAnchor:x,verticalAnchor:b},E):a==="insideBottomLeft"?Vn({x:s+w,y:l+u-h,textAnchor:_,verticalAnchor:g},E):a==="insideBottomRight"?Vn({x:s+c-w,y:l+u-h,textAnchor:x,verticalAnchor:g},E):td(a)&&(Pe(a.x)||Zl(a.x))&&(Pe(a.y)||Zl(a.y))?Vn({x:s+wc(a.x,c),y:l+wc(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):Vn({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Zxe=function(e){return"cx"in e&&Pe(e.cx)};function Ar(t){var e=t.offset,n=e===void 0?5:e,r=Bxe(t,Rxe),i=Vn({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||ht(s)&&ht(l)&&!V.isValidElement(c)&&!lt(c))return null;if(V.isValidElement(c))return V.cloneElement(c,i);var g;if(lt(c)){if(g=V.createElement(c,i),V.isValidElement(g))return g}else g=Hxe(i);var b=Zxe(a),v=ut(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Yxe(i,g,v);var w=b?Xxe(i):Qxe(i);return U.createElement(Tv,Mp({className:_t("recharts-label",d)},v,w,{breakAll:h}),g)}Ar.displayName="Label";var o3=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,g=e.top,b=e.left,v=e.width,w=e.height,x=e.clockWise,_=e.labelViewBox;if(_)return _;if(Pe(v)&&Pe(w)){if(Pe(d)&&Pe(h))return{x:d,y:h,width:v,height:w};if(Pe(g)&&Pe(b))return{x:g,y:b,width:v,height:w}}return Pe(d)&&Pe(h)?{x:d,y:h,width:0,height:0}:Pe(n)&&Pe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},Jxe=function(e,n){return e?e===!0?U.createElement(Ar,{key:"label-implicit",viewBox:n}):Bn(e)?U.createElement(Ar,{key:"label-implicit",viewBox:n,value:e}):V.isValidElement(e)?e.type===Ar?V.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Ar,{key:"label-implicit",content:e,viewBox:n}):lt(e)?U.createElement(Ar,{key:"label-implicit",content:e,viewBox:n}):td(e)?U.createElement(Ar,Mp({viewBox:n},e,{key:"label-implicit"})):null:null},ewe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=o3(e),o=Qi(i,Ar).map(function(l,c){return V.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=Jxe(e.label,n||a);return[s].concat($xe(o))};Ar.parseViewBox=o3;Ar.renderCallByParent=ewe;function twe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nwe=twe;const rwe=Ut(nwe);function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}var iwe=["valueAccessor"],awe=["data","dataKey","clockWise","id","textBreakAll"];function owe(t){return uwe(t)||cwe(t)||lwe(t)||swe()}function swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lwe(t,e){if(t){if(typeof t=="string")return sS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sS(t,e)}}function cwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uwe(t){if(Array.isArray(t))return sS(t)}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function fN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(n),!0).forEach(function(r){fwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fwe(t,e,n){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dwe(t){var e=hwe(t,"string");return Rp(e)=="symbol"?e:e+""}function hwe(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hN(t,e){if(t==null)return{};var n=pwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mwe=function(e){return Array.isArray(e.value)?rwe(e.value):e.value};function xi(t){var e=t.valueAccessor,n=e===void 0?mwe:e,r=hN(t,iwe),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=hN(r,awe);return!i||!i.length?null:U.createElement(Zt,{className:"recharts-label-list"},i.map(function(u,d){var h=ht(a)?n(u,d):$r(u&&u.payload,a),g=ht(s)?{}:{id:"".concat(s,"-").concat(d)};return U.createElement(Ar,Uv({},ut(u,!0),c,g,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ar.parseViewBox(ht(o)?u:dN(dN({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}xi.displayName="LabelList";function gwe(t,e){return t?t===!0?U.createElement(xi,{key:"labelList-implicit",data:e}):U.isValidElement(t)||lt(t)?U.createElement(xi,{key:"labelList-implicit",data:e,content:t}):td(t)?U.createElement(xi,Uv({data:e},t,{key:"labelList-implicit"})):null:null}function ywe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Qi(r,xi).map(function(o,s){return V.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=gwe(t.label,e);return[a].concat(owe(i))}xi.renderCallByParent=ywe;function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(this,arguments)}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){vwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vwe(t,e,n){return e=bwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bwe(t){var e=xwe(t,"string");return $p(e)=="symbol"?e:e+""}function xwe(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wwe=function(e,n){var r=Aa(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Rg=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/Bv,h=c?a:a+o*d,g=ur(n,r,u,h),b=ur(n,r,i,h),v=c?a-o*d:a,w=ur(n,r,u*Math.cos(d*Bv),v);return{center:g,circleTangency:b,lineTangency:w,theta:d}},s3=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=wwe(o,s),c=o+l,u=ur(n,r,a,o),d=ur(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=ur(n,r,i,o),b=ur(n,r,i,c);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},_we=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Aa(u-c),h=Rg({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),g=h.circleTangency,b=h.lineTangency,v=h.theta,w=Rg({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),x=w.circleTangency,_=w.lineTangency,A=w.theta,k=l?Math.abs(c-u):Math.abs(c-u)-v-A;if(k<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):s3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var C=Rg({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=C.circleTangency,T=C.lineTangency,j=C.theta,D=Rg({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=D.circleTangency,$=D.lineTangency,L=D.theta,Q=l?Math.abs(c-u):Math.abs(c-u)-j-L;if(Q<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Swe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},l3=function(e){var n=mN(mN({},Swe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(o<a||u===d)return null;var g=_t("recharts-sector",h),b=o-a,v=wc(s,b,0,!0),w;return v>0&&Math.abs(u-d)<360?w=_we({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,b/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):w=s3({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),U.createElement("path",lS({},ut(n,!0),{className:g,d:w,role:"img"}))};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){Ewe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ewe(t,e,n){return e=Awe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Awe(t){var e=Twe(t,"string");return Lp(e)=="symbol"?e:e+""}function Twe(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vN={curveBasisClosed:Ese,curveBasisOpen:Ase,curveBasis:Sse,curveBumpX:cse,curveBumpY:use,curveLinearClosed:Tse,curveLinear:Eb,curveMonotoneX:Pse,curveMonotoneY:Cse,curveNatural:Ose,curveStep:kse,curveStepAfter:jse,curveStepBefore:Ise},$g=function(e){return e.x===+e.x&&e.y===+e.y},qd=function(e){return e.x},Hd=function(e){return e.y},Pwe=function(e,n){if(lt(e))return e;var r="curve".concat(_b(e));return(r==="curveMonotone"||r==="curveBump")&&n?vN["".concat(r).concat(n==="vertical"?"Y":"X")]:vN[r]||Eb},Cwe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Pwe(r,s),d=c?a.filter(function(v){return $g(v)}):a,h;if(Array.isArray(o)){var g=c?o.filter(function(v){return $g(v)}):o,b=d.map(function(v,w){return yN(yN({},v),{},{base:g[w]})});return s==="vertical"?h=Pg().y(Hd).x1(qd).x0(function(v){return v.base.x}):h=Pg().x(qd).y1(Hd).y0(function(v){return v.base.y}),h.defined($g).curve(u),h(b)}return s==="vertical"&&Pe(o)?h=Pg().y(Hd).x1(qd).x0(o):Pe(o)?h=Pg().x(qd).y1(Hd).y0(o):h=cF().x(qd).y(Hd),h.defined($g).curve(u),h(d)},qu=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Cwe(e):i;return V.createElement("path",cS({},ut(e,!1),fv(e),{className:_t("recharts-curve",n),d:o,ref:a}))},c3={exports:{}},Owe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kwe=Owe,Iwe=kwe;function u3(){}function f3(){}f3.resetWarningCache=u3;var jwe=function(){function t(r,i,a,o,s,l){if(l!==Iwe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:f3,resetWarningCache:u3};return n.PropTypes=n,n};c3.exports=jwe();var Nwe=c3.exports;const Dt=Ut(Nwe);var Dwe=Object.getOwnPropertyNames,Mwe=Object.getOwnPropertySymbols,Rwe=Object.prototype.hasOwnProperty;function bN(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Lg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function $we(t){return t!=null?t[Symbol.toStringTag]:void 0}function xN(t){return Dwe(t).concat(Mwe(t))}var Lwe=Object.hasOwn||function(t,e){return Rwe.call(t,e)};function Vc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Vwe="__v",Fwe="__o",zwe="_owner",wN=Object.getOwnPropertyDescriptor,_N=Object.keys;function Bwe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Uwe(t,e){return Vc(t.getTime(),e.getTime())}function Wwe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Kwe(t,e){return t===e}function SN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var h=o.value,g=s.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var qwe=Vc;function Hwe(t,e,n){var r=_N(t),i=r.length;if(_N(e).length!==i)return!1;for(;i-- >0;)if(!d3(t,e,n,r[i]))return!1;return!0}function Gd(t,e,n){var r=xN(t),i=r.length;if(xN(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!d3(t,e,n,a)||(o=wN(t,a),s=wN(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Gwe(t,e){return Vc(t.valueOf(),e.valueOf())}function Ywe(t,e){return t.source===e.source&&t.flags===e.flags}function EN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Xwe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Qwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function d3(t,e,n,r){return(r===zwe||r===Fwe||r===Vwe)&&(t.$$typeof||e.$$typeof)?!0:Lwe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Zwe="[object Arguments]",Jwe="[object Boolean]",e1e="[object Date]",t1e="[object Error]",n1e="[object Map]",r1e="[object Number]",i1e="[object Object]",a1e="[object RegExp]",o1e="[object Set]",s1e="[object String]",l1e="[object URL]",c1e=Array.isArray,AN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,TN=Object.assign,u1e=Object.prototype.toString.call.bind(Object.prototype.toString);function f1e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(v,w,x){if(v===w)return!0;if(v==null||w==null)return!1;var _=typeof v;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?o(v,w,x):_==="function"?i(v,w,x):!1;var A=v.constructor;if(A!==w.constructor)return!1;if(A===Object)return s(v,w,x);if(c1e(v))return e(v,w,x);if(AN!=null&&AN(v))return d(v,w,x);if(A===Date)return n(v,w,x);if(A===RegExp)return c(v,w,x);if(A===Map)return a(v,w,x);if(A===Set)return u(v,w,x);var k=u1e(v);if(k===e1e)return n(v,w,x);if(k===a1e)return c(v,w,x);if(k===n1e)return a(v,w,x);if(k===o1e)return u(v,w,x);if(k===i1e)return typeof v.then!="function"&&typeof w.then!="function"&&s(v,w,x);if(k===l1e)return h(v,w,x);if(k===t1e)return r(v,w,x);if(k===Zwe)return s(v,w,x);if(k===Jwe||k===r1e||k===s1e)return l(v,w,x);if(g){var S=g[k];if(!S){var C=$we(v);C&&(S=g[C])}if(S)return S(v,w,x)}return!1}}function d1e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Gd:Bwe,areDatesEqual:Uwe,areErrorsEqual:Wwe,areFunctionsEqual:Kwe,areMapsEqual:r?bN(SN,Gd):SN,areNumbersEqual:qwe,areObjectsEqual:r?Gd:Hwe,arePrimitiveWrappersEqual:Gwe,areRegExpsEqual:Ywe,areSetsEqual:r?bN(EN,Gd):EN,areTypedArraysEqual:r?Gd:Xwe,areUrlsEqual:Qwe,unknownTagComparators:void 0};if(n&&(i=TN({},i,n(i))),e){var a=Lg(i.areArraysEqual),o=Lg(i.areMapsEqual),s=Lg(i.areObjectsEqual),l=Lg(i.areSetsEqual);i=TN({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function h1e(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function p1e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var u=r(),d=u.cache,h=d===void 0?e?new WeakMap:void 0:d,g=u.meta;return n(l,c,{cache:h,equals:i,meta:g,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,o)}}var m1e=ml();ml({strict:!0});ml({circular:!0});ml({circular:!0,strict:!0});ml({createInternalComparator:function(){return Vc}});ml({strict:!0,createInternalComparator:function(){return Vc}});ml({circular:!0,createInternalComparator:function(){return Vc}});ml({circular:!0,createInternalComparator:function(){return Vc},strict:!0});function ml(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=d1e(t),l=f1e(s),c=r?r(l):h1e(l);return p1e({circular:n,comparator:l,createState:i,equals:c,strict:o})}function g1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function PN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):g1e(i)};requestAnimationFrame(r)}function uS(t){"@babel/helpers - typeof";return uS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uS(t)}function y1e(t){return w1e(t)||x1e(t)||b1e(t)||v1e()}function v1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1e(t,e){if(t){if(typeof t=="string")return CN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CN(t,e)}}function CN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w1e(t){if(Array.isArray(t))return t}function _1e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=y1e(o),l=s[0],c=s.slice(1);if(typeof l=="number"){PN(i.bind(null,c),l);return}i(l),PN(i.bind(null,c));return}uS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){h3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h3(t,e,n){return e=S1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S1e(t){var e=E1e(t,"string");return Vp(e)==="symbol"?e:String(e)}function E1e(t,e){if(Vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A1e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},T1e=function(e){return e},P1e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Nh=function(e,n){return Object.keys(n).reduce(function(r,i){return kN(kN({},r),{},h3({},i,e(i,n[i])))},{})},IN=function(e,n,r){return e.map(function(i){return"".concat(P1e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function C1e(t,e){return I1e(t)||k1e(t,e)||p3(t,e)||O1e()}function O1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function I1e(t){if(Array.isArray(t))return t}function j1e(t){return M1e(t)||D1e(t)||p3(t)||N1e()}function N1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p3(t,e){if(t){if(typeof t=="string")return fS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(t,e)}}function D1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M1e(t){if(Array.isArray(t))return fS(t)}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wv=1e-4,m3=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},g3=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},jN=function(e,n){return function(r){var i=m3(e,n);return g3(i,r)}},R1e=function(e,n){return function(r){var i=m3(e,n),a=[].concat(j1e(i.map(function(o,s){return o*s}).slice(1)),[0]);return g3(a,r)}},NN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),u=C1e(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=jN(i,o),h=jN(a,s),g=R1e(i,o),b=function(x){return x>1?1:x<0?0:x},v=function(x){for(var _=x>1?1:x,A=_,k=0;k<8;++k){var S=d(A)-_,C=g(A);if(Math.abs(S-_)<Wv||C<Wv)return h(A);A=b(A-S/C)}return h(A)};return v.isStepper=!1,v},$1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,d,h){var g=-(u-d)*r,b=h*a,v=h+(g-b)*s/1e3,w=h*s/1e3+u;return Math.abs(w-d)<Wv&&Math.abs(v)<Wv?[d,0]:[w,v]};return l.isStepper=!0,l.dt=s,l},L1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NN(i);case"spring":return $1e();default:if(i.split("(")[0]==="cubic-bezier")return NN(i)}return typeof i=="function"?i:null};function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function DN(t){return z1e(t)||F1e(t)||y3(t)||V1e()}function V1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z1e(t){if(Array.isArray(t))return hS(t)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){dS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dS(t,e,n){return e=B1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B1e(t){var e=U1e(t,"string");return Fp(e)==="symbol"?e:String(e)}function U1e(t,e){if(Fp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W1e(t,e){return H1e(t)||q1e(t,e)||y3(t,e)||K1e()}function K1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3(t,e){if(t){if(typeof t=="string")return hS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hS(t,e)}}function hS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function H1e(t){if(Array.isArray(t))return t}var Kv=function(e,n,r){return e+(n-e)*r},pS=function(e){var n=e.from,r=e.to;return n!==r},G1e=function t(e,n,r){var i=Nh(function(a,o){if(pS(o)){var s=e(o.from,o.to,o.velocity),l=W1e(s,2),c=l[0],u=l[1];return rr(rr({},o),{},{from:c,velocity:u})}return o},n);return r<1?Nh(function(a,o){return pS(o)?rr(rr({},o),{},{velocity:Kv(o.velocity,i[a].velocity,r),from:Kv(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Y1e=function(t,e,n,r,i){var a=A1e(t,e),o=a.reduce(function(w,x){return rr(rr({},w),{},dS({},x,[t[x],e[x]]))},{}),s=a.reduce(function(w,x){return rr(rr({},w),{},dS({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Nh(function(x,_){return _.from},s)},g=function(){return!Object.values(s).filter(pS).length},b=function(x){c||(c=x);var _=x-c,A=_/n.dt;s=G1e(n,s,A),i(rr(rr(rr({},t),e),h())),c=x,g()||(l=requestAnimationFrame(d))},v=function(x){u||(u=x);var _=(x-u)/r,A=Nh(function(S,C){return Kv.apply(void 0,DN(C).concat([n(_)]))},o);if(i(rr(rr(rr({},t),e),A)),_<1)l=requestAnimationFrame(d);else{var k=Nh(function(S,C){return Kv.apply(void 0,DN(C).concat([n(1)]))},o);i(rr(rr(rr({},t),e),k))}};return d=n.isStepper?b:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var X1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Q1e(t,e){if(t==null)return{};var n=Z1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Aw(t){return n_e(t)||t_e(t)||e_e(t)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_e(t,e){if(t){if(typeof t=="string")return mS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mS(t,e)}}function t_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n_e(t){if(Array.isArray(t))return mS(t)}function mS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uh(t,e,n){return e=v3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v3(r.key),r)}}function a_e(t,e,n){return e&&i_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v3(t){var e=o_e(t,"string");return Af(e)==="symbol"?e:String(e)}function o_e(t,e){if(Af(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gS(t,e)}function l_e(t){var e=c_e();return function(){var r=qv(t),i;if(e){var a=qv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return yS(this,i)}}function yS(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vS(t)}function vS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}var co=function(t){s_e(n,t);var e=l_e(n);function n(r,i){var a;r_e(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,h=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(vS(a)),a.changeStyle=a.changeStyle.bind(vS(a)),!s||g<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),yS(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},yS(a);a.state={style:l?uh({},l,c):c}}else a.state={style:{}};return a}return a_e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(s){if(!o){var g={style:l?uh({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(g);return}if(!(m1e(i.to,u)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||c?d:i.to;if(this.state&&h){var w={style:l?uh({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(w)}this.runAnimation(ma(ma({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=Y1e(o,s,L1e(c),l,this.changeStyle),b=function(){a.stopJSAnimation=g()};this.manager.start([h,u,b,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,h=d===void 0?0:d,g=function(v,w,x){if(x===0)return v;var _=w.duration,A=w.easing,k=A===void 0?"ease":A,S=w.style,C=w.properties,E=w.onAnimationEnd,T=x>0?o[x-1]:w,j=C||Object.keys(S);if(typeof k=="function"||k==="spring")return[].concat(Aw(v),[a.runJSAnimation.bind(a,{from:T.style,to:S,duration:_,easing:k}),_]);var D=IN(j,_,k),N=ma(ma(ma({},T.style),S),{},{transition:D});return[].concat(Aw(v),[N,_,E]).filter(T1e)};return this.manager.start([l].concat(Aw(o.reduce(g,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_1e());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?uh({},s,l):l,w=IN(Object.keys(v),o,c);b.start([u,a,ma(ma({},v),{},{transition:w}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Q1e(i,X1e),c=V.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var d=function(g){var b=g.props,v=b.style,w=v===void 0?{}:v,x=b.className,_=V.cloneElement(g,ma(ma({},l),{},{style:ma(ma({},w),u),className:x}));return _};return c===1?d(V.Children.only(a)):U.createElement("div",null,V.Children.map(a,function(h){return d(h)}))}}]),n}(V.PureComponent);co.displayName="Animate";co.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};co.propTypes={from:Dt.oneOfType([Dt.object,Dt.string]),to:Dt.oneOfType([Dt.object,Dt.string]),attributeName:Dt.string,duration:Dt.number,begin:Dt.number,easing:Dt.oneOfType([Dt.string,Dt.func]),steps:Dt.arrayOf(Dt.shape({duration:Dt.number.isRequired,style:Dt.object.isRequired,easing:Dt.oneOfType([Dt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Dt.func]),properties:Dt.arrayOf("string"),onAnimationEnd:Dt.func})),children:Dt.oneOfType([Dt.node,Dt.func]),isActive:Dt.bool,canBegin:Dt.bool,onAnimationEnd:Dt.func,shouldReAnimate:Dt.bool,onAnimationStart:Dt.func,onAnimationReStart:Dt.func};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}function u_e(t,e){return p_e(t)||h_e(t,e)||d_e(t,e)||f_e()}function f_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_e(t,e){if(t){if(typeof t=="string")return $N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $N(t,e)}}function $N(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function p_e(t){if(Array.isArray(t))return t}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){m_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_e(t,e,n){return e=g_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g_e(t){var e=y_e(t,"string");return zp(e)=="symbol"?e:e+""}function y_e(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FN=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*d[1])),u+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);u="M ".concat(e,",").concat(n+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+l*b,",").concat(n,`
            L `).concat(e+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*b,`
            L `).concat(e+r,",").concat(n+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r-l*b,",").concat(n+i,`
            L `).concat(e+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*b," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},v_e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},b_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fP=function(e){var n=VN(VN({},b_e),e),r=V.useRef(),i=V.useState(-1),a=u_e(i,2),o=a[0],s=a[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,g=n.className,b=n.animationEasing,v=n.animationDuration,w=n.animationBegin,x=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var A=_t("recharts-rectangle",g);return _?U.createElement(co,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:v,animationEasing:b,isActive:_},function(k){var S=k.width,C=k.height,E=k.x,T=k.y;return U.createElement(co,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:x,easing:b},U.createElement("path",Hv({},ut(n,!0),{className:A,d:FN(E,T,S,C,h),ref:r})))}):U.createElement("path",Hv({},ut(n,!0),{className:A,d:FN(l,c,u,d,h)}))};function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bS.apply(this,arguments)}var Lb=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=_t("recharts-dot",a);return n===+n&&r===+r&&i===+i?V.createElement("circle",bS({},ut(e,!1),fv(e),{className:o,cx:n,cy:r,r:i})):null};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}var x_e=["x","y","top","left","width","height","className"];function xS(){return xS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xS.apply(this,arguments)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){__e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function __e(t,e,n){return e=S_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_e(t){var e=E_e(t,"string");return Bp(e)=="symbol"?e:e+""}function E_e(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A_e(t,e){if(t==null)return{};var n=T_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P_e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},C_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,g=h===void 0?0:h,b=e.className,v=A_e(e,x_e),w=w_e({x:r,y:a,top:s,left:c,width:d,height:g},v);return!Pe(r)||!Pe(a)||!Pe(d)||!Pe(g)||!Pe(s)||!Pe(c)?null:U.createElement("path",xS({},ut(w,!0),{className:_t("recharts-cross",b),d:P_e(r,a,d,g,s,c)}))},O_e=NF,k_e=O_e(Object.getPrototypeOf,Object),I_e=k_e,j_e=is,N_e=I_e,D_e=as,M_e="[object Object]",R_e=Function.prototype,$_e=Object.prototype,b3=R_e.toString,L_e=$_e.hasOwnProperty,V_e=b3.call(Object);function F_e(t){if(!D_e(t)||j_e(t)!=M_e)return!1;var e=N_e(t);if(e===null)return!0;var n=L_e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&b3.call(n)==V_e}var z_e=F_e;const B_e=Ut(z_e);var U_e=is,W_e=as,K_e="[object Boolean]";function q_e(t){return t===!0||t===!1||W_e(t)&&U_e(t)==K_e}var H_e=q_e;const G_e=Ut(H_e);function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(this,arguments)}function Y_e(t,e){return J_e(t)||Z_e(t,e)||Q_e(t,e)||X_e()}function X_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(t,e){if(t){if(typeof t=="string")return BN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BN(t,e)}}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function J_e(t){if(Array.isArray(t))return t}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){eSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eSe(t,e,n){return e=tSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tSe(t){var e=nSe(t,"string");return Up(e)=="symbol"?e:e+""}function nSe(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KN=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},rSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iSe=function(e){var n=WN(WN({},rSe),e),r=V.useRef(),i=V.useState(-1),a=Y_e(i,2),o=a[0],s=a[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,b=n.animationEasing,v=n.animationDuration,w=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var _=_t("recharts-trapezoid",g);return x?U.createElement(co,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:b,isActive:x},function(A){var k=A.upperWidth,S=A.lowerWidth,C=A.height,E=A.x,T=A.y;return U.createElement(co,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:b},U.createElement("path",Gv({},ut(n,!0),{className:_,d:KN(E,T,k,S,C),ref:r})))}):U.createElement("g",null,U.createElement("path",Gv({},ut(n,!0),{className:_,d:KN(l,c,u,d,h)})))},aSe=["option","shapeType","propTransformer","activeClassName","isActive"];function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function oSe(t,e){if(t==null)return{};var n=sSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){lSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lSe(t,e,n){return e=cSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cSe(t){var e=uSe(t,"string");return Wp(e)=="symbol"?e:e+""}function uSe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fSe(t,e){return Yv(Yv({},e),t)}function dSe(t,e){return t==="symbols"}function HN(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(fP,n);case"trapezoid":return U.createElement(iSe,n);case"sector":return U.createElement(l3,n);case"symbols":if(dSe(e))return U.createElement(kT,n);break;default:return null}}function hSe(t){return V.isValidElement(t)?t.props:t}function pSe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?fSe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=oSe(t,aSe),c;if(V.isValidElement(e))c=V.cloneElement(e,Yv(Yv({},l),hSe(e)));else if(lt(e))c=e(l);else if(B_e(e)&&!G_e(e)){var u=i(e,l);c=U.createElement(HN,{shapeType:n,elementProps:u})}else{var d=l;c=U.createElement(HN,{shapeType:n,elementProps:d})}return s?U.createElement(Zt,{className:o},c):c}function Vb(t,e){return e!=null&&"trapezoids"in t.props}function Fb(t,e){return e!=null&&"sectors"in t.props}function Kp(t,e){return e!=null&&"points"in t.props}function mSe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function gSe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ySe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function vSe(t,e){var n;return Vb(t,e)?n=mSe:Fb(t,e)?n=gSe:Kp(t,e)&&(n=ySe),n}function bSe(t,e){var n;return Vb(t,e)?n="trapezoids":Fb(t,e)?n="sectors":Kp(t,e)&&(n="points"),n}function xSe(t,e){if(Vb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Fb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Kp(t,e)?e.payload:{}}function wSe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=bSe(n,e),a=xSe(n,e),o=r.filter(function(l,c){var u=Sf(a,l),d=n.props[i].filter(function(b){var v=vSe(n,e);return v(b,e)}),h=n.props[i].indexOf(d[d.length-1]),g=c===h;return u&&g}),s=r.indexOf(o[o.length-1]);return s}var _Se=Math.ceil,SSe=Math.max;function ESe(t,e,n,r){for(var i=-1,a=SSe(_Se((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var ASe=ESe,TSe=ZF,GN=1/0,PSe=17976931348623157e292;function CSe(t){if(!t)return t===0?t:0;if(t=TSe(t),t===GN||t===-GN){var e=t<0?-1:1;return e*PSe}return t===t?t:0}var x3=CSe,OSe=ASe,kSe=Cb,Tw=x3;function ISe(t){return function(e,n,r){return r&&typeof r!="number"&&kSe(e,n,r)&&(n=r=void 0),e=Tw(e),n===void 0?(n=e,e=0):n=Tw(n),r=r===void 0?e<n?1:-1:Tw(r),OSe(e,n,r,t)}}var jSe=ISe,NSe=jSe,DSe=NSe(),MSe=DSe;const Xv=Ut(MSe);function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){w3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w3(t,e,n){return e=RSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RSe(t){var e=$Se(t,"string");return qp(e)=="symbol"?e:e+""}function $Se(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LSe=["Webkit","Moz","O","ms"],VSe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=LSe.reduce(function(a,o){return XN(XN({},a),{},w3({},o+r,n))},{});return i[e]=n,i};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(this,arguments)}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S3(r.key),r)}}function zSe(t,e,n){return e&&ZN(t.prototype,e),n&&ZN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BSe(t,e,n){return e=Zv(e),USe(t,_3()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function USe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WSe(t)}function WSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function KSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(t,e)}function ui(t,e,n){return e=S3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S3(t){var e=qSe(t,"string");return Tf(e)=="symbol"?e:e+""}function qSe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HSe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Ih().domain(Xv(0,l)).range([a,a+o-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},JN=function(e){return e.changedTouches&&!!e.changedTouches.length},Pf=function(t){function e(n){var r;return FSe(this,e),r=BSe(this,e,[n]),ui(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ui(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ui(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),ui(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ui(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ui(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ui(r,"handleSlideDragStart",function(i){var a=JN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return KSe(e,t),zSe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),g=e.getIndexInRange(o,d),b=e.getIndexInRange(o,h);return{startIndex:g-g%l,endIndex:b===u?u:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=$r(a[r],s,r);return lt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,b=l.onChange,v=r.pageX-a;v>0?v=Math.min(v,c+u-d-s,c+u-d-o):v<0&&(v=Math.max(v,c-o,c-s));var w=this.getIndex({startX:o+v,endX:s+v});(w.startIndex!==h||w.endIndex!==g)&&b&&b(w),this.setState({startX:o+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=JN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,h=u.width,g=u.travellerWidth,b=u.onChange,v=u.gap,w=u.data,x={startX:this.state.startX,endX:this.state.endX},_=r.pageX-a;_>0?_=Math.min(_,d+h-g-c):_<0&&(_=Math.max(_,d-c)),x[o]=c+_;var A=this.getIndex(x),k=A.startIndex,S=A.endIndex,C=function(){var T=w.length-1;return o==="startX"&&(s>l?k%v===0:S%v===0)||s<l&&S===T||o==="endX"&&(s>l?S%v===0:k%v===0)||s>l&&S===T};this.setState(ui(ui({},o,c+_),"brushMoveStartX",r.pageX),function(){b&&C()&&b(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(ui({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return U.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,d=V.Children.only(c);return d?U.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,b=l.data,v=l.startIndex,w=l.endIndex,x=Math.max(r,this.props.x),_=Pw(Pw({},ut(this.props,!1)),{},{x,y:c,width:u,height:d}),A=g||"Min value: ".concat((a=b[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[w])===null||o===void 0?void 0:o.name);return U.createElement(Zt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,g=5,b={pointerEvents:"none",fill:c};return U.createElement(Zt,{className:"recharts-brush-texts"},U.createElement(Tv,Qv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:o+s/2},b),this.getTextOfTick(i)),U.createElement(Tv,Qv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:o+s/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,b=h.endX,v=h.isTextActive,w=h.isSlideMoving,x=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!Pe(s)||!Pe(l)||!Pe(c)||!Pe(u)||c<=0||u<=0)return null;var A=_t("recharts-brush",a),k=U.Children.count(o)===1,S=VSe("userSelect","none");return U.createElement(Zt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(v||w||x||_||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return U.isValidElement(r)?a=U.cloneElement(r,i):lt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return Pw({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?HSe({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(V.PureComponent);ui(Pf,"displayName","Brush");ui(Pf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GSe=$T;function YSe(t,e){var n;return GSe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var XSe=YSe,QSe=AF,ZSe=dl,JSe=XSe,eEe=ri,tEe=Cb;function nEe(t,e,n){var r=eEe(t)?QSe:JSe;return n&&tEe(t,e,n)&&(e=void 0),r(t,ZSe(e))}var rEe=nEe;const iEe=Ut(rEe);var oo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},eD=HF;function aEe(t,e,n){e=="__proto__"&&eD?eD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var oEe=aEe,sEe=oEe,lEe=KF,cEe=dl;function uEe(t,e){var n={};return e=cEe(e),lEe(t,function(r,i,a){sEe(n,i,e(r,i,a))}),n}var fEe=uEe;const dEe=Ut(fEe);function hEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var pEe=hEe,mEe=$T;function gEe(t,e){var n=!0;return mEe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var yEe=gEe,vEe=pEe,bEe=yEe,xEe=dl,wEe=ri,_Ee=Cb;function SEe(t,e,n){var r=wEe(t)?vEe:bEe;return n&&_Ee(t,e,n)&&(e=void 0),r(t,xEe(e))}var EEe=SEe;const E3=Ut(EEe);var AEe=["x","y"];function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){TEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TEe(t,e,n){return e=PEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PEe(t){var e=CEe(t,"string");return Hp(e)=="symbol"?e:e+""}function CEe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OEe(t,e){if(t==null)return{};var n=kEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IEe(t,e){var n=t.x,r=t.y,i=OEe(t,AEe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Yd(Yd(Yd(Yd(Yd({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function nD(t){return U.createElement(pSe,_S({shapeType:"rectangle",propTransformer:IEe,activeClassName:"recharts-active-bar"},t))}var jEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Pe(r)||Yae(r);return a?e(r,i):(a||Sc(),n)}},NEe=["value","background"],A3;function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function DEe(t,e){if(t==null)return{};var n=MEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(this,arguments)}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function REe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P3(r.key),r)}}function $Ee(t,e,n){return e&&iD(t.prototype,e),n&&iD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LEe(t,e,n){return e=e0(e),VEe(t,T3()?Reflect.construct(e,n||[],e0(t).constructor):e.apply(t,n))}function VEe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FEe(t)}function FEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T3=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(t)}function zEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SS(t,e)}function SS(t,e){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SS(t,e)}function Is(t,e,n){return e=P3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P3(t){var e=BEe(t,"string");return Cf(e)=="symbol"?e:e+""}function BEe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pr=function(t){function e(){var n;REe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=LEe(this,e,[].concat(i)),Is(n,"state",{isAnimationFinished:!1}),Is(n,"id",od("recharts-bar-")),Is(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Is(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return zEe(e,t),$Ee(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ut(this.props,!1);return r&&r.map(function(d,h){var g=h===l,b=g?c:o,v=jn(jn(jn({},u),d),{},{isActive:g,option:b,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Zt,Jv({className:"recharts-bar-rectangle"},dv(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),U.createElement(nD,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return U.createElement(co,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t,v=a.map(function(w,x){var _=h&&h[x];if(_){var A=sr(_.x,w.x),k=sr(_.y,w.y),S=sr(_.width,w.width),C=sr(_.height,w.height);return jn(jn({},w),{},{x:A(b),y:k(b),width:S(b),height:C(b)})}if(o==="horizontal"){var E=sr(0,w.height),T=E(b);return jn(jn({},w),{},{y:w.y+w.height-T,height:T})}var j=sr(0,w.width),D=j(b);return jn(jn({},w),{},{width:D})});return U.createElement(Zt,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Sf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=ut(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=DEe(c,NEe);if(!d)return null;var g=jn(jn(jn(jn(jn({},h),{},{fill:"#eee"},d),l),dv(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return U.createElement(nD,Jv({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=Qi(u,Dm);if(!d)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,g=function(w,x){var _=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:_,errorVal:$r(w,x)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Zt,b,d.map(function(v){return U.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,g=r.isAnimationActive,b=r.background,v=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,x=_t("recharts-bar",o),_=s&&s.allowDataOverflow,A=l&&l.allowDataOverflow,k=_||A,S=ht(v)?this.id:v;return U.createElement(Zt,{className:x},_||A?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(S)},U.createElement("rect",{x:_?c:c-d/2,y:A?u:u-h/2,width:_?d:d*2,height:A?h:h*2}))):null,U.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(S,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,S),(!g||w)&&xi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(V.PureComponent);A3=Pr;Is(Pr,"displayName","Bar");Is(Pr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Is(Pr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,g=yxe(r,n);if(!g)return null;var b=e.layout,v=n.type.defaultProps,w=v!==void 0?jn(jn({},v),n.props):n.props,x=w.dataKey,_=w.children,A=w.minPointSize,k=b==="horizontal"?o:a,S=c?k.scale.domain():null,C=Axe({numericAxis:k}),E=Qi(_,ud),T=d.map(function(j,D){var N,$,L,Q,ne,ce;c?N=vxe(c[u+D],S):(N=$r(j,x),Array.isArray(N)||(N=[C,N]));var le=jEe(A,A3.defaultProps.minPointSize)(N[1],D);if(b==="horizontal"){var Y,G=[o.scale(N[0]),o.scale(N[1])],pe=G[0],Se=G[1];$=rN({axis:a,ticks:s,bandSize:i,offset:g.offset,entry:j,index:D}),L=(Y=Se??pe)!==null&&Y!==void 0?Y:void 0,Q=g.size;var xe=pe-Se;if(ne=Number.isNaN(xe)?0:xe,ce={x:$,y:o.y,width:Q,height:o.height},Math.abs(le)>0&&Math.abs(ne)<Math.abs(le)){var je=Aa(ne||le)*(Math.abs(le)-Math.abs(ne));L-=je,ne+=je}}else{var Ke=[a.scale(N[0]),a.scale(N[1])],ft=Ke[0],ct=Ke[1];if($=ft,L=rN({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:j,index:D}),Q=ct-ft,ne=g.size,ce={x:a.x,y:L,width:a.width,height:ne},Math.abs(le)>0&&Math.abs(Q)<Math.abs(le)){var Ce=Aa(Q||le)*(Math.abs(le)-Math.abs(Q));Q+=Ce}}return jn(jn(jn({},j),{},{x:$,y:L,width:Q,height:ne,value:c?N:N[1],payload:j,background:ce},E&&E[D]&&E[D].props),{},{tooltipPayload:[a3(n,j)],tooltipPosition:{x:$+Q/2,y:L+ne/2}})});return jn({data:T,layout:b},h)});function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function UEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C3(r.key),r)}}function WEe(t,e,n){return e&&aD(t.prototype,e),n&&aD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){zb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zb(t,e,n){return e=C3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C3(t){var e=KEe(t,"string");return Gp(e)=="symbol"?e:e+""}function KEe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dP=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!hi(c,Pr);return u.reduce(function(g,b){var v=n[b],w=v.orientation,x=v.domain,_=v.padding,A=_===void 0?{}:_,k=v.mirror,S=v.reversed,C="".concat(w).concat(k?"Mirror":""),E,T,j,D,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var $=x[1]-x[0],L=1/0,Q=v.categoricalDomain.sort(Zae);if(Q.forEach(function(Ke,ft){ft>0&&(L=Math.min((Ke||0)-(Q[ft-1]||0),L))}),Number.isFinite(L)){var ne=L/$,ce=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(E=ne*ce/2),v.padding==="no-gap"){var le=wc(e.barCategoryGap,ne*ce),Y=ne*ce/2;E=Y-le-(Y-le)/ce*le}}}i==="xAxis"?T=[r.left+(A.left||0)+(E||0),r.left+r.width-(A.right||0)-(E||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(E||0),r.top+r.height-(A.bottom||0)-(E||0)]:T=v.range,S&&(T=[T[1],T[0]]);var G=mxe(v,a,h),pe=G.scale,Se=G.realScaleType;pe.domain(x).range(T),gxe(pe);var xe=Exe(pe,ba(ba({},v),{},{realScaleType:Se}));i==="xAxis"?(N=w==="top"&&!k||w==="bottom"&&k,j=r.left,D=d[C]-N*v.height):i==="yAxis"&&(N=w==="left"&&!k||w==="right"&&k,j=d[C]-N*v.width,D=r.top);var je=ba(ba(ba({},v),xe),{},{realScaleType:Se,x:j,y:D,scale:pe,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return je.bandSize=zv(je,xe),!v.hide&&i==="xAxis"?d[C]+=(N?-1:1)*je.height:v.hide||(d[C]+=(N?-1:1)*je.width),ba(ba({},g),{},zb({},b,je))},{})},O3=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},qEe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return O3({x:n,y:r},{x:i,y:a})},k3=function(){function t(e){UEe(this,t),this.scale=e}return WEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();zb(k3,"EPS",1e-4);var hP=function(e){var n=Object.keys(e).reduce(function(r,i){return ba(ba({},r),{},zb({},i,k3.create(e[i])))},{});return ba(ba({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return dEe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return E3(i,function(a,o){return n[o].isInRange(a)})}})};function HEe(t){return(t%180+180)%180}var GEe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=HEe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},YEe=dl,XEe=Om,QEe=Tb;function ZEe(t){return function(e,n,r){var i=Object(e);if(!XEe(e)){var a=YEe(n);e=QEe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var JEe=ZEe,eAe=x3;function tAe(t){var e=eAe(t),n=e%1;return e===e?n?e-n:e:0}var nAe=tAe,rAe=VF,iAe=dl,aAe=nAe,oAe=Math.max;function sAe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:aAe(n);return i<0&&(i=oAe(r+i,0)),rAe(t,iAe(e),i)}var lAe=sAe,cAe=JEe,uAe=lAe,fAe=cAe(uAe),dAe=fAe;const hAe=Ut(dAe);var pAe=tae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pP=V.createContext(void 0),mP=V.createContext(void 0),I3=V.createContext(void 0),j3=V.createContext({}),N3=V.createContext(void 0),D3=V.createContext(0),M3=V.createContext(0),sD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=pAe(a);return U.createElement(pP.Provider,{value:r},U.createElement(mP.Provider,{value:i},U.createElement(j3.Provider,{value:a},U.createElement(I3.Provider,{value:u},U.createElement(N3.Provider,{value:o},U.createElement(D3.Provider,{value:c},U.createElement(M3.Provider,{value:l},s)))))))},mAe=function(){return V.useContext(N3)},R3=function(e){var n=V.useContext(pP);n==null&&Sc();var r=n[e];return r==null&&Sc(),r},gAe=function(){var e=V.useContext(pP);return Ts(e)},yAe=function(){var e=V.useContext(mP),n=hAe(e,function(r){return E3(r.domain,Number.isFinite)});return n||Ts(e)},$3=function(e){var n=V.useContext(mP);n==null&&Sc();var r=n[e];return r==null&&Sc(),r},vAe=function(){var e=V.useContext(I3);return e},bAe=function(){return V.useContext(j3)},gP=function(){return V.useContext(M3)},yP=function(){return V.useContext(D3)};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function xAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V3(r.key),r)}}function _Ae(t,e,n){return e&&wAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SAe(t,e,n){return e=t0(e),EAe(t,L3()?Reflect.construct(e,n||[],t0(t).constructor):e.apply(t,n))}function EAe(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AAe(t)}function AAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}function TAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){vP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vP(t,e,n){return e=V3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V3(t){var e=PAe(t,"string");return Of(e)=="symbol"?e:e+""}function PAe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CAe(t,e){return jAe(t)||IAe(t,e)||kAe(t,e)||OAe()}function OAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kAe(t,e){if(t){if(typeof t=="string")return uD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uD(t,e)}}function uD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function jAe(t){if(Array.isArray(t))return t}function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(this,arguments)}var NAe=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):lt(e)?r=e(n):r=U.createElement("line",AS({},n,{className:"recharts-reference-line-line"})),r},DAe=function(e,n,r,i,a,o,s,l,c){var u=a.x,d=a.y,h=a.width,g=a.height;if(r){var b=c.y,v=e.y.apply(b,{position:o});if(oo(c,"discard")&&!e.y.isInRange(v))return null;var w=[{x:u+h,y:v},{x:u,y:v}];return l==="left"?w.reverse():w}if(n){var x=c.x,_=e.x.apply(x,{position:o});if(oo(c,"discard")&&!e.x.isInRange(_))return null;var A=[{x:_,y:d+g},{x:_,y:d}];return s==="top"?A.reverse():A}if(i){var k=c.segment,S=k.map(function(C){return e.apply(C,{position:o})});return oo(c,"discard")&&iEe(S,function(C){return!e.isInRange(C)})?null:S}return null};function MAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=mAe(),u=R3(i),d=$3(a),h=vAe();if(!c||!h)return null;Fo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=hP({x:u.scale,y:d.scale}),b=Bn(e),v=Bn(n),w=r&&r.length===2,x=DAe(g,b,v,w,h,t.position,u.orientation,d.orientation,t);if(!x)return null;var _=CAe(x,2),A=_[0],k=A.x,S=A.y,C=_[1],E=C.x,T=C.y,j=oo(t,"hidden")?"url(#".concat(c,")"):void 0,D=cD(cD({clipPath:j},ut(t,!0)),{},{x1:k,y1:S,x2:E,y2:T});return U.createElement(Zt,{className:_t("recharts-reference-line",s)},NAe(o,D),Ar.renderCallByParent(t,qEe({x1:k,y1:S,x2:E,y2:T})))}var Bb=function(t){function e(){return xAe(this,e),SAe(this,e,arguments)}return TAe(e,t),_Ae(e,[{key:"render",value:function(){return U.createElement(MAe,this.props)}}])}(U.Component);vP(Bb,"displayName","ReferenceLine");vP(Bb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Ub(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z3(r.key),r)}}function LAe(t,e,n){return e&&$Ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VAe(t,e,n){return e=n0(e),FAe(t,F3()?Reflect.construct(e,n||[],n0(t).constructor):e.apply(t,n))}function FAe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zAe(t)}function zAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F3=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(t)}function BAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PS(t,e)}function PS(t,e){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PS(t,e)}function Ub(t,e,n){return e=z3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z3(t){var e=UAe(t,"string");return kf(e)=="symbol"?e:e+""}function UAe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WAe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=hP({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return oo(e,"discard")&&!o.isInRange(s)?null:s},Wb=function(t){function e(){return RAe(this,e),VAe(this,e,arguments)}return BAe(e,t),LAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=Bn(i),u=Bn(a);if(Fo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=WAe(this.props);if(!d)return null;var h=d.x,g=d.y,b=this.props,v=b.shape,w=b.className,x=oo(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=dD(dD({clipPath:x},ut(this.props,!0)),{},{cx:h,cy:g});return U.createElement(Zt,{className:_t("recharts-reference-dot",w)},e.renderDot(v,_),Ar.renderCallByParent(this.props,{x:h-o,y:g-o,width:2*o,height:2*o}))}}])}(U.Component);Ub(Wb,"displayName","ReferenceDot");Ub(Wb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ub(Wb,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):lt(t)?n=t(e):n=U.createElement(Lb,TS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CS.apply(this,arguments)}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Kb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U3(r.key),r)}}function HAe(t,e,n){return e&&qAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GAe(t,e,n){return e=r0(e),YAe(t,B3()?Reflect.construct(e,n||[],r0(t).constructor):e.apply(t,n))}function YAe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XAe(t)}function XAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B3=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function QAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OS(t,e)}function Kb(t,e,n){return e=U3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U3(t){var e=ZAe(t,"string");return If(e)=="symbol"?e:e+""}function ZAe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JAe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=hP({x:u.scale,y:d.scale}),g={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},b={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return oo(a,"discard")&&(!h.isInRange(g)||!h.isInRange(b))?null:O3(g,b)},qb=function(t){function e(){return KAe(this,e),GAe(this,e,arguments)}return QAe(e,t),HAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Fo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Bn(i),h=Bn(a),g=Bn(o),b=Bn(s),v=this.props.shape;if(!d&&!h&&!g&&!b&&!v)return null;var w=JAe(d,h,g,b,this.props);if(!w&&!v)return null;var x=oo(this.props,"hidden")?"url(#".concat(u,")"):void 0;return U.createElement(Zt,{className:_t("recharts-reference-area",l)},e.renderRect(v,pD(pD({clipPath:x},ut(this.props,!0)),w)),Ar.renderCallByParent(this.props,w))}}])}(U.Component);Kb(qb,"displayName","ReferenceArea");Kb(qb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kb(qb,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):lt(t)?n=t(e):n=U.createElement(fP,CS({},e,{className:"recharts-reference-area-rect"})),n});function W3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function eTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return GEe(r,n)}function tTe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function i0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function nTe(t,e){return W3(t,e+1)}function rTe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,d=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:W3(r,c)};var v=l,w,x=function(){return w===void 0&&(w=n(b,v)),w},_=b.coordinate,A=l===0||i0(t,_,x,u,s);A||(l=0,u=o,c+=1),A&&(u=_+t*(x()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){iTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iTe(t,e,n){return e=aTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=oTe(t,"string");return Yp(e)=="symbol"?e:e+""}function oTe(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sTe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var g=a[h],b,v=function(){return b===void 0&&(b=n(g,h)),b};if(h===o-1){var w=t*(g.coordinate+t*v()/2-l);a[h]=g=wr(wr({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else a[h]=g=wr(wr({},g),{},{tickCoord:g.coordinate});var x=i0(t,g.tickCoord,v,s,l);x&&(l=g.tickCoord-t*(v()/2+i),a[h]=wr(wr({},g),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function lTe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=r[s-1],d=n(u,s-1),h=t*(u.coordinate+t*d/2-c);o[s-1]=u=wr(wr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var g=i0(t,u.tickCoord,function(){return d},l,c);g&&(c=u.tickCoord-t*(d/2+i),o[s-1]=wr(wr({},u),{},{isShow:!0}))}for(var b=a?s-1:s,v=function(_){var A=o[_],k,S=function(){return k===void 0&&(k=n(A,_)),k};if(_===0){var C=t*(A.coordinate-t*S()/2-l);o[_]=A=wr(wr({},A),{},{tickCoord:C<0?A.coordinate-C*t:A.coordinate})}else o[_]=A=wr(wr({},A),{},{tickCoord:A.coordinate});var E=i0(t,A.tickCoord,S,l,c);E&&(l=A.tickCoord+t*(S()/2+i),o[_]=wr(wr({},A),{},{isShow:!0}))},w=0;w<b;w++)v(w);return o}function bP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Pe(l)||Rc.isSsr)return nTe(i,typeof l=="number"&&Pe(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",b=u&&g==="width"?kh(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(A,k){var S=lt(c)?c(A.value,k):A.value;return g==="width"?eTe(kh(S,{fontSize:e,letterSpacing:n}),b,d):kh(S,{fontSize:e,letterSpacing:n})[g]},w=i.length>=2?Aa(i[1].coordinate-i[0].coordinate):1,x=tTe(a,w,g);return l==="equidistantPreserveStart"?rTe(w,x,v,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=lTe(w,x,v,i,o,l==="preserveStartEnd"):h=sTe(w,x,v,i,o),h.filter(function(_){return _.isShow}))}var cTe=["viewBox"],uTe=["viewBox"],fTe=["ticks"];function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){xP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cw(t,e){if(t==null)return{};var n=dTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q3(r.key),r)}}function pTe(t,e,n){return e&&yD(t.prototype,e),n&&yD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mTe(t,e,n){return e=a0(e),gTe(t,K3()?Reflect.construct(e,n||[],a0(t).constructor):e.apply(t,n))}function gTe(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(t)}function yTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K3=function(){return!!t})()}function a0(t){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a0(t)}function vTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kS(t,e)}function xP(t,e,n){return e=q3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q3(t){var e=bTe(t,"string");return jf(e)=="symbol"?e:e+""}function bTe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pd=function(t){function e(n){var r;return hTe(this,e),r=mTe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vTe(e,t),pTe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Cw(r,cTe),s=this.props,l=s.viewBox,c=Cw(s,uTe);return!Uu(a,l)||!Uu(o,c)||!Uu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,g,b,v,w,x,_,A=d?-1:1,k=r.tickSize||u,S=Pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=b=r.coordinate,w=o+ +!d*l,v=w-A*k,_=v-A*h,x=S;break;case"left":v=w=r.coordinate,b=a+ +!d*s,g=b-A*k,x=g-A*h,_=S;break;case"right":v=w=r.coordinate,b=a+ +d*s,g=b+A*k,x=g+A*h,_=S;break;default:g=b=r.coordinate,w=o+ +d*l,v=w+A*k,_=v+A*h,x=S;break}return{line:{x1:g,y1:v,x2:b,y2:w},tick:{x,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Ln(Ln(Ln({},ut(this.props,!1)),ut(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Ln(Ln({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);d=Ln(Ln({},d),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+s})}return U.createElement("line",Iu({},d,{className:_t("recharts-cartesian-axis-line",Xi(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,h=s.unit,g=bP(Ln(Ln({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=ut(this.props,!1),x=ut(u,!1),_=Ln(Ln({},w),{},{fill:"none"},ut(l,!1)),A=g.map(function(k,S){var C=o.getTickLineCoord(k),E=C.line,T=C.tick,j=Ln(Ln(Ln(Ln({textAnchor:b,verticalAnchor:v},w),{},{stroke:"none",fill:c},x),T),{},{index:S,payload:k,visibleTicksCount:g.length,tickFormatter:d});return U.createElement(Zt,Iu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},dv(o.props,k,S)),l&&U.createElement("line",Iu({},_,E,{className:_t("recharts-cartesian-axis-tick-line",Xi(l,"className"))})),u&&e.renderTickItem(u,j,"".concat(lt(d)?d(k.value,S):k.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,g=Cw(d,fTe),b=h;return lt(l)&&(b=h&&h.length>0?l(this.props):l(g)),o<=0||s<=0||!b||!b.length?null:U.createElement(Zt,{className:_t("recharts-cartesian-axis",c),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Ar.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=_t(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?o=U.cloneElement(r,Ln(Ln({},i),{},{className:s})):lt(r)?o=r(Ln(Ln({},i),{},{className:s})):o=U.createElement(Tv,Iu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(V.Component);xP(pd,"displayName","CartesianAxis");xP(pd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xTe=["x1","y1","x2","y2","key"],wTe=["offset"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){_Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Te(t,e,n){return e=STe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function STe(t){var e=ETe(t,"string");return Ec(e)=="symbol"?e:e+""}function ETe(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}function bD(t,e){if(t==null)return{};var n=ATe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ATe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TTe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return U.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function H3(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(lt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=bD(e,xTe),c=ut(l,!1);c.offset;var u=bD(c,wTe);n=U.createElement("line",tc({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function PTe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Tr(Tr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return H3(i,c)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function CTe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Tr(Tr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return H3(i,c)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function OTe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==u[0]&&u.unshift(0);var d=u.map(function(h,g){var b=!u[g+1],v=b?i+o-h:u[g+1]-h;if(v<=0)return null;var w=g%e.length;return U.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:v,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function kTe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==u[0]&&u.unshift(0);var d=u.map(function(h,g){var b=!u[g+1],v=b?a+s-h:u[g+1]-h;if(v<=0)return null;var w=g%r.length;return U.createElement("rect",{key:"react-".concat(g),x:h,y:o,width:v,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ITe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return r3(bP(Tr(Tr(Tr({},pd.defaultProps),r),{},{ticks:Mo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},jTe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return r3(bP(Tr(Tr(Tr({},pd.defaultProps),r),{},{ticks:Mo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},ou={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mm(t){var e,n,r,i,a,o,s=gP(),l=yP(),c=bAe(),u=Tr(Tr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ou.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ou.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ou.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ou.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ou.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ou.verticalFill,x:Pe(t.x)?t.x:c.left,y:Pe(t.y)?t.y:c.top,width:Pe(t.width)?t.width:c.width,height:Pe(t.height)?t.height:c.height}),d=u.x,h=u.y,g=u.width,b=u.height,v=u.syncWithTicks,w=u.horizontalValues,x=u.verticalValues,_=gAe(),A=yAe();if(!Pe(g)||g<=0||!Pe(b)||b<=0||!Pe(d)||d!==+d||!Pe(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||ITe,S=u.horizontalCoordinatesGenerator||jTe,C=u.horizontalPoints,E=u.verticalPoints;if((!C||!C.length)&&lt(S)){var T=w&&w.length,j=S({yAxis:A?Tr(Tr({},A),{},{ticks:T?w:A.ticks}):void 0,width:s,height:l,offset:c},T?!0:v);Fo(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ec(j),"]")),Array.isArray(j)&&(C=j)}if((!E||!E.length)&&lt(k)){var D=x&&x.length,N=k({xAxis:_?Tr(Tr({},_),{},{ticks:D?x:_.ticks}):void 0,width:s,height:l,offset:c},D?!0:v);Fo(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ec(N),"]")),Array.isArray(N)&&(E=N)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(TTe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),U.createElement(PTe,tc({},u,{offset:c,horizontalPoints:C,xAxis:_,yAxis:A})),U.createElement(CTe,tc({},u,{offset:c,verticalPoints:E,xAxis:_,yAxis:A})),U.createElement(OTe,tc({},u,{horizontalPoints:C})),U.createElement(kTe,tc({},u,{verticalPoints:E})))}Mm.displayName="CartesianGrid";var NTe=["type","layout","connectNulls","ref"],DTe=["key"];function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function xD(t,e){if(t==null)return{};var n=MTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(this,arguments)}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){xa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function su(t){return VTe(t)||LTe(t)||$Te(t)||RTe()}function RTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Te(t,e){if(t){if(typeof t=="string")return IS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(t,e)}}function LTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VTe(t){if(Array.isArray(t))return IS(t)}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y3(r.key),r)}}function zTe(t,e,n){return e&&_D(t.prototype,e),n&&_D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BTe(t,e,n){return e=o0(e),UTe(t,G3()?Reflect.construct(e,n||[],o0(t).constructor):e.apply(t,n))}function UTe(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WTe(t)}function WTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G3=function(){return!!t})()}function o0(t){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o0(t)}function KTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jS(t,e)}function xa(t,e,n){return e=Y3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y3(t){var e=qTe(t,"string");return Nf(e)=="symbol"?e:e+""}function qTe(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ac=function(t){function e(){var n;FTe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=BTe(this,e,[].concat(i)),xa(n,"state",{isAnimationFinished:!0,totalLength:0}),xa(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),xa(n,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(x,_){return x+_});if(!c)return n.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),d=o%c,h=s-o,g=[],b=0,v=0;b<l.length;v+=l[b],++b)if(v+l[b]>d){g=[].concat(su(l.slice(0,b)),[d-v]);break}var w=g.length%2===0?[0,h]:[h];return[].concat(su(e.repeat(l,u)),su(g),w).map(function(x){return"".concat(x,"px")}).join(", ")}),xa(n,"id",od("recharts-line-")),xa(n,"pathRef",function(o){n.mainCurve=o}),xa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),xa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return KTe(e,t),zTe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=Qi(u,Dm);if(!d)return null;var h=function(v,w){return{x:v.x,y:v.y,value:v.value,errorVal:$r(v.payload,w)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Zt,g,d.map(function(b){return U.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=ut(this.props,!1),h=ut(l,!0),g=c.map(function(v,w){var x=ci(ci(ci({key:"dot-".concat(w),r:3},d),h),{},{index:w,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return e.renderDotItem(l,x)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Zt,Dh({className:"recharts-line-dots",key:"dots"},b),g)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=xD(s,NTe),h=ci(ci(ci({},ut(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:u});return U.createElement(qu,Dh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,g=o.animationId,b=o.animateNewValues,v=o.width,w=o.height,x=this.state,_=x.prevPoints,A=x.totalLength;return U.createElement(co,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var S=k.t;if(_){var C=_.length/s.length,E=s.map(function($,L){var Q=Math.floor(L*C);if(_[Q]){var ne=_[Q],ce=sr(ne.x,$.x),le=sr(ne.y,$.y);return ci(ci({},$),{},{x:ce(S),y:le(S)})}if(b){var Y=sr(v*2,$.x),G=sr(w/2,$.y);return ci(ci({},$),{},{x:Y(S),y:G(S)})}return ci(ci({},$),{},{x:$.x,y:$.y})});return a.renderCurveStatically(E,r,i)}var T=sr(0,A),j=T(S),D;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});D=a.getStrokeDasharray(j,A,N)}else D=a.generateSimpleStrokeDasharray(A,j);return a.renderCurveStatically(s,r,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!Sf(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,h=i.left,g=i.width,b=i.height,v=i.isAnimationActive,w=i.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,_=s.length===1,A=_t("recharts-line",l),k=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,C=k||S,E=ht(w)?this.id:w,T=(r=ut(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=T.r,D=j===void 0?3:j,N=T.strokeWidth,$=N===void 0?2:N,L=X5(o)?o:{},Q=L.clipDot,ne=Q===void 0?!0:Q,ce=D*2+$;return U.createElement(Zt,{className:A},k||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(E)},U.createElement("rect",{x:k?h:h-g/2,y:S?d:d-b/2,width:k?g:g*2,height:S?b:b*2})),!ne&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:h-ce/2,y:d-ce/2,width:g+ce,height:b+ce}))):null,!_&&this.renderCurve(C,E),this.renderErrorBar(C,E),(_||o)&&this.renderDots(C,ne,E),(!v||x)&&xi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(su(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(su(o),su(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(U.isValidElement(r))a=U.cloneElement(r,i);else if(lt(r))a=r(i);else{var o=i.key,s=xD(i,DTe),l=_t("recharts-line-dot",typeof r!="boolean"?r.className:"");a=U.createElement(Lb,Dh({key:o},s,{className:l}))}return a}}])}(V.PureComponent);xa(Ac,"displayName","Line");xa(Ac,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});xa(Ac,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(h,g){var b=$r(h,o);return u==="horizontal"?{x:Fv({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:ht(b)?null:r.scale(b),value:b,payload:h}:{x:ht(b)?null:n.scale(b),y:Fv({axis:r,ticks:a,bandSize:s,entry:h,index:g}),value:b,payload:h}});return ci({points:d,layout:u},c)});var HTe=["layout","type","stroke","connectNulls","isRange","ref"],GTe=["key"],X3;function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Q3(t,e){if(t==null)return{};var n=YTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Ya(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ED(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J3(r.key),r)}}function QTe(t,e,n){return e&&ED(t.prototype,e),n&&ED(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZTe(t,e,n){return e=s0(e),JTe(t,Z3()?Reflect.construct(e,n||[],s0(t).constructor):e.apply(t,n))}function JTe(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ePe(t)}function ePe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z3=function(){return!!t})()}function s0(t){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s0(t)}function tPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NS(t,e)}function Ya(t,e,n){return e=J3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J3(t){var e=nPe(t,"string");return Df(e)=="symbol"?e:e+""}function nPe(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gl=function(t){function e(){var n;XTe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ZTe(this,e,[].concat(i)),Ya(n,"state",{isAnimationFinished:!0}),Ya(n,"id",od("recharts-area-")),Ya(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),lt(o)&&o()}),Ya(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),lt(o)&&o()}),n}return tPe(e,t),QTe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=ut(this.props,!1),g=ut(c,!0),b=u.map(function(w,x){var _=xs(xs(xs({key:"dot-".concat(x),r:3},h),g),{},{index:x,cx:w.x,cy:w.y,dataKey:d,value:w.value,payload:w.payload,points:u});return e.renderDotItem(c,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(Zt,nc({className:"recharts-area-dots"},v),b)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=r*Math.abs(l-c),d=ks(o.map(function(h){return h.y||0}));return Pe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(ks(a.map(function(h){return h.y||0})),d)),Pe(d)?U.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=r*Math.abs(l-c),d=ks(o.map(function(h){return h.x||0}));return Pe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(ks(a.map(function(h){return h.x||0})),d)),Pe(d)?U.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var g=Q3(s,HTe);return U.createElement(Zt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},U.createElement(qu,nc({},ut(g,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&U.createElement(qu,nc({},ut(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&U.createElement(qu,nc({},ut(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,g=o.animationId,b=this.state,v=b.prevPoints,w=b.prevBaseLine;return U.createElement(co,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var _=x.t;if(v){var A=v.length/s.length,k=s.map(function(T,j){var D=Math.floor(j*A);if(v[D]){var N=v[D],$=sr(N.x,T.x),L=sr(N.y,T.y);return xs(xs({},T),{},{x:$(_),y:L(_)})}return T}),S;if(Pe(l)&&typeof l=="number"){var C=sr(w,l);S=C(_)}else if(ht(l)||ad(l)){var E=sr(w,0);S=E(_)}else S=l.map(function(T,j){var D=Math.floor(j*A);if(w[D]){var N=w[D],$=sr(N.x,T.x),L=sr(N.y,T.y);return xs(xs({},T),{},{x:$(_),y:L(_)})}return T});return a.renderAreaStatically(k,S,r,i)}return U.createElement(Zt,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(_))),U.createElement(Zt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!Sf(u,o)||!Sf(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,g=i.width,b=i.height,v=i.isAnimationActive,w=i.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,_=s.length===1,A=_t("recharts-area",l),k=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,C=k||S,E=ht(w)?this.id:w,T=(r=ut(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=T.r,D=j===void 0?3:j,N=T.strokeWidth,$=N===void 0?2:N,L=X5(o)?o:{},Q=L.clipDot,ne=Q===void 0?!0:Q,ce=D*2+$;return U.createElement(Zt,{className:A},k||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(E)},U.createElement("rect",{x:k?u:u-g/2,y:S?c:c-b/2,width:k?g:g*2,height:S?b:b*2})),!ne&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:u-ce/2,y:c-ce/2,width:g+ce,height:b+ce}))):null,_?null:this.renderArea(C,E),(o||_)&&this.renderDots(C,ne,E),(!v||x)&&xi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(V.PureComponent);X3=gl;Ya(gl,"displayName","Area");Ya(gl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Rc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ya(gl,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(Pe(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Ya(gl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,g=e.layout,b=c&&c.length,v=X3.getBaseValue(e,n,r,i),w=g==="horizontal",x=!1,_=d.map(function(k,S){var C;b?C=c[u+S]:(C=$r(k,l),Array.isArray(C)?x=!0:C=[v,C]);var E=C[1]==null||b&&$r(k,l)==null;return w?{x:Fv({axis:r,ticks:a,bandSize:s,entry:k,index:S}),y:E?null:i.scale(C[1]),value:C,payload:k}:{x:E?null:r.scale(C[1]),y:Fv({axis:i,ticks:o,bandSize:s,entry:k,index:S}),value:C,payload:k}}),A;return b||x?A=_.map(function(k){var S=Array.isArray(k.value)?k.value[0]:null;return w?{x:k.x,y:S!=null&&k.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:k.y}}):A=w?i.scale(v):r.scale(v),xs({points:_,baseLine:A,layout:g,isRange:x},h)});Ya(gl,"renderDotItem",function(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(lt(t))n=t(e);else{var r=_t("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Q3(e,GTe);n=U.createElement(Lb,nc({},a,{key:i,className:r}))}return n});function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function rPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nB(r.key),r)}}function aPe(t,e,n){return e&&iPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oPe(t,e,n){return e=l0(e),sPe(t,eB()?Reflect.construct(e,n||[],l0(t).constructor):e.apply(t,n))}function sPe(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lPe(t)}function lPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}function cPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DS(t,e)}function tB(t,e,n){return e=nB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nB(t){var e=uPe(t,"string");return Mf(e)=="symbol"?e:e+""}function uPe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(this,arguments)}function fPe(t){var e=t.xAxisId,n=gP(),r=yP(),i=R3(e);return i==null?null:V.createElement(pd,MS({},i,{className:_t("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Mo(o,!0)}}))}var Qn=function(t){function e(){return rPe(this,e),oPe(this,e,arguments)}return cPe(e,t),aPe(e,[{key:"render",value:function(){return V.createElement(fPe,this.props)}}])}(V.Component);tB(Qn,"displayName","XAxis");tB(Qn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function dPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aB(r.key),r)}}function pPe(t,e,n){return e&&hPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mPe(t,e,n){return e=c0(e),gPe(t,rB()?Reflect.construct(e,n||[],c0(t).constructor):e.apply(t,n))}function gPe(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yPe(t)}function yPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!t})()}function c0(t){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c0(t)}function vPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RS(t,e)}function iB(t,e,n){return e=aB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aB(t){var e=bPe(t,"string");return Rf(e)=="symbol"?e:e+""}function bPe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(this,arguments)}var xPe=function(e){var n=e.yAxisId,r=gP(),i=yP(),a=$3(n);return a==null?null:V.createElement(pd,$S({},a,{className:_t("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Mo(s,!0)}}))},Zn=function(t){function e(){return dPe(this,e),mPe(this,e,arguments)}return vPe(e,t),pPe(e,[{key:"render",value:function(){return V.createElement(xPe,this.props)}}])}(V.Component);iB(Zn,"displayName","YAxis");iB(Zn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AD(t){return EPe(t)||SPe(t)||_Pe(t)||wPe()}function wPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(t,e){if(t){if(typeof t=="string")return LS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(t,e)}}function SPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EPe(t){if(Array.isArray(t))return LS(t)}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var VS=function(e,n,r,i,a){var o=Qi(e,Bb),s=Qi(e,Wb),l=[].concat(AD(o),AD(s)),c=Qi(e,qb),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(v,w){if(w.props[u]===r&&oo(w.props,"extendDomain")&&Pe(w.props[d])){var x=w.props[d];return[Math.min(v[0],x),Math.max(v[1],x)]}return v},h)),c.length){var g="".concat(d,"1"),b="".concat(d,"2");h=c.reduce(function(v,w){if(w.props[u]===r&&oo(w.props,"extendDomain")&&Pe(w.props[g])&&Pe(w.props[b])){var x=w.props[g],_=w.props[b];return[Math.min(v[0],x,_),Math.max(v[1],x,_)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,w){return Pe(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},h)),h},oB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,d||l,h),b=n?n+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],g]:l._events[b].push(g):(l._events[b]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,b=new Array(g);h<g;h++)b[h]=d[h].fn;return b},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,g,b){var v=n?n+c:c;if(!this._events[v])return!1;var w=this._events[v],x=arguments.length,_,A;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,h),!0;case 5:return w.fn.call(w.context,u,d,h,g),!0;case 6:return w.fn.call(w.context,u,d,h,g,b),!0}for(A=1,_=new Array(x-1);A<x;A++)_[A-1]=arguments[A];w.fn.apply(w.context,_)}else{var k=w.length,S;for(A=0;A<k;A++)switch(w[A].once&&this.removeListener(c,w[A].fn,void 0,!0),x){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,u);break;case 3:w[A].fn.call(w[A].context,u,d);break;case 4:w[A].fn.call(w[A].context,u,d,h);break;default:if(!_)for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];w[A].fn.apply(w[A].context,_)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var g=n?n+c:c;if(!this._events[g])return this;if(!u)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===u&&(!h||b.once)&&(!d||b.context===d)&&o(this,g);else{for(var v=0,w=[],x=b.length;v<x;v++)(b[v].fn!==u||h&&!b[v].once||d&&b[v].context!==d)&&w.push(b[v]);w.length?this._events[g]=w.length===1?w[0]:w:o(this,g)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(oB);var APe=oB.exports;const TPe=Ut(APe);var Ow=new TPe,kw="recharts.syncMouseEvents";function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function PPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sB(r.key),r)}}function OPe(t,e,n){return e&&CPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iw(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=kPe(t,"string");return Xp(e)=="symbol"?e:e+""}function kPe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IPe=function(){function t(){PPe(this,t),Iw(this,"activeIndex",0),Iw(this,"coordinateList",[]),Iw(this,"layout","horizontal")}return OPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function jPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Pe(r)&&Pe(i))return!0}return!1}function NPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function lB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=ur(e,n,r,i),s=ur(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function DPe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=ur(s,l,c,d),g=ur(s,l,u,d);r=h.x,i=h.y,a=g.x,o=g.y}else return lB(e);return[{x:r,y:i},{x:a,y:o}]}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){MPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MPe(t,e,n){return e=RPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RPe(t){var e=$Pe(t,"string");return Qp(e)=="symbol"?e:e+""}function $Pe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LPe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var b,v=qu;if(h==="ScatterChart")b=o,v=C_e;else if(h==="BarChart")b=NPe(d,o,l,u),v=fP;else if(d==="radial"){var w=lB(o),x=w.cx,_=w.cy,A=w.radius,k=w.startAngle,S=w.endAngle;b={cx:x,cy:_,startAngle:k,endAngle:S,innerRadius:A,outerRadius:A},v=l3}else b={points:DPe(d,o,l)},v=qu;var C=Vg(Vg(Vg(Vg({stroke:"#ccc",pointerEvents:"none"},l),b),ut(g,!1)),{},{payload:s,payloadIndex:c,className:_t("recharts-tooltip-cursor",g.className)});return V.isValidElement(g)?V.cloneElement(g,C):V.createElement(v,C)}var VPe=["item"],FPe=["children","className","width","height","style","compact","title","desc"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}function PD(t,e){return UPe(t)||BPe(t,e)||uB(t,e)||zPe()}function zPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function UPe(t){if(Array.isArray(t))return t}function CD(t,e){if(t==null)return{};var n=WPe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fB(r.key),r)}}function HPe(t,e,n){return e&&qPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GPe(t,e,n){return e=u0(e),YPe(t,cB()?Reflect.construct(e,n||[],u0(t).constructor):e.apply(t,n))}function YPe(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XPe(t)}function XPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cB=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function QPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FS(t,e)}function Lf(t){return eCe(t)||JPe(t)||uB(t)||ZPe()}function ZPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uB(t,e){if(t){if(typeof t=="string")return zS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zS(t,e)}}function JPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eCe(t){if(Array.isArray(t))return zS(t)}function zS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){He(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function He(t,e,n){return e=fB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=tCe(t,"string");return $f(e)=="symbol"?e:e+""}function tCe(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nCe={xAxis:["bottom","top"],yAxis:["left","right"]},rCe={width:"100%",height:"100%"},dB={x:0,y:0};function Fg(t){return t}var iCe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},aCe=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return me(me(me({},i),ur(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return me(me(me({},i),ur(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return dB},Hb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Lf(s),Lf(c)):s},[]);return o.length>0?o:e&&e.length&&Pe(i)&&Pe(a)?e.slice(i,a+1):[]};function hB(t){return t==="number"?[0,"auto"]:void 0}var BS=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Hb(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=d===void 0?s:d;h=uv(g,o.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Lf(l),[a3(c,h)]):l},[])},kD=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=iCe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=cxe(o,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=BS(e,n,u,d),g=aCe(r,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},oCe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,g=n3(u,a);return r.reduce(function(b,v){var w,x=v.type.defaultProps!==void 0?me(me({},v.type.defaultProps),v.props):v.props,_=x.type,A=x.dataKey,k=x.allowDataOverflow,S=x.allowDuplicatedCategory,C=x.scale,E=x.ticks,T=x.includeHidden,j=x[o];if(b[j])return b;var D=Hb(e.data,{graphicalItems:i.filter(function(xe){var je,Ke=o in xe.props?xe.props[o]:(je=xe.type.defaultProps)===null||je===void 0?void 0:je[o];return Ke===j}),dataStartIndex:l,dataEndIndex:c}),N=D.length,$,L,Q;jPe(x.domain,k,_)&&($=aS(x.domain,null,k),g&&(_==="number"||C!=="auto")&&(Q=jh(D,A,"category")));var ne=hB(_);if(!$||$.length===0){var ce,le=(ce=x.domain)!==null&&ce!==void 0?ce:ne;if(A){if($=jh(D,A,_),_==="category"&&g){var Y=Qae($);S&&Y?(L=$,$=Xv(0,N)):S||($=oN(le,$,v).reduce(function(xe,je){return xe.indexOf(je)>=0?xe:[].concat(Lf(xe),[je])},[]))}else if(_==="category")S?$=$.filter(function(xe){return xe!==""&&!ht(xe)}):$=oN(le,$,v).reduce(function(xe,je){return xe.indexOf(je)>=0||je===""||ht(je)?xe:[].concat(Lf(xe),[je])},[]);else if(_==="number"){var G=pxe(D,i.filter(function(xe){var je,Ke,ft=o in xe.props?xe.props[o]:(je=xe.type.defaultProps)===null||je===void 0?void 0:je[o],ct="hide"in xe.props?xe.props.hide:(Ke=xe.type.defaultProps)===null||Ke===void 0?void 0:Ke.hide;return ft===j&&(T||!ct)}),A,a,u);G&&($=G)}g&&(_==="number"||C!=="auto")&&(Q=jh(D,A,"category"))}else g?$=Xv(0,N):s&&s[j]&&s[j].hasStack&&_==="number"?$=h==="expand"?[0,1]:i3(s[j].stackGroups,l,c):$=t3(D,i.filter(function(xe){var je=o in xe.props?xe.props[o]:xe.type.defaultProps[o],Ke="hide"in xe.props?xe.props.hide:xe.type.defaultProps.hide;return je===j&&(T||!Ke)}),_,u,!0);if(_==="number")$=VS(d,$,j,a,E),le&&($=aS(le,$,k));else if(_==="category"&&le){var pe=le,Se=$.every(function(xe){return pe.indexOf(xe)>=0});Se&&($=pe)}}return me(me({},b),{},He({},j,me(me({},x),{},{axisType:a,domain:$,categoricalDomain:Q,duplicateDomain:L,originalDomain:(w=x.domain)!==null&&w!==void 0?w:ne,isCategorical:g,layout:u})))},{})},sCe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=Hb(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=h.length,b=n3(u,a),v=-1;return r.reduce(function(w,x){var _=x.type.defaultProps!==void 0?me(me({},x.type.defaultProps),x.props):x.props,A=_[o],k=hB("number");if(!w[A]){v++;var S;return b?S=Xv(0,g):s&&s[A]&&s[A].hasStack?(S=i3(s[A].stackGroups,l,c),S=VS(d,S,A,a)):(S=aS(k,t3(h,r.filter(function(C){var E,T,j=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],D="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return j===A&&!D}),"number",u),i.defaultProps.allowDataOverflow),S=VS(d,S,A,a)),me(me({},w),{},He({},A,me(me({axisType:a},i.defaultProps),{},{hide:!0,orientation:Xi(nCe,"".concat(a,".").concat(v%2),null),domain:S,originalDomain:k,isCategorical:b,layout:u})))}return w},{})},lCe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=Qi(u,a),g={};return h&&h.length?g=oCe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(g=sCe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),g},cCe=function(e){var n=Ts(e),r=Mo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:LT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:zv(n,r)}},ID=function(e){var n=e.children,r=e.defaultShowTooltip,i=hi(n,Pf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},uCe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vo(n&&n.type);return r&&r.indexOf("Bar")>=0})},jD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fCe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,d=r.children,h=r.margin||{},g=hi(d,Pf),b=hi(d,qs),v=Object.keys(l).reduce(function(S,C){var E=l[C],T=E.orientation;return!E.mirror&&!E.hide?me(me({},S),{},He({},T,S[T]+E.width)):S},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(S,C){var E=o[C],T=E.orientation;return!E.mirror&&!E.hide?me(me({},S),{},He({},T,Xi(S,"".concat(T))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=me(me({},w),v),_=x.bottom;g&&(x.bottom+=g.props.height||Pf.defaultProps.height),b&&n&&(x=dxe(x,i,r,n));var A=c-x.left-x.right,k=u-x.top-x.bottom;return me(me({brushBottom:_},x),{},{width:Math.max(A,0),height:Math.max(k,0)})},dCe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},wP=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(x,_){var A=_.graphicalItems,k=_.stackGroups,S=_.offset,C=_.updateId,E=_.dataStartIndex,T=_.dataEndIndex,j=x.barSize,D=x.layout,N=x.barGap,$=x.barCategoryGap,L=x.maxBarSize,Q=jD(D),ne=Q.numericAxisName,ce=Q.cateAxisName,le=uCe(A),Y=[];return A.forEach(function(G,pe){var Se=Hb(x.data,{graphicalItems:[G],dataStartIndex:E,dataEndIndex:T}),xe=G.type.defaultProps!==void 0?me(me({},G.type.defaultProps),G.props):G.props,je=xe.dataKey,Ke=xe.maxBarSize,ft=xe["".concat(ne,"Id")],ct=xe["".concat(ce,"Id")],Ce={},Ye=l.reduce(function(rt,Wt){var Pn=_["".concat(Wt.axisType,"Map")],ii=xe["".concat(Wt.axisType,"Id")];Pn&&Pn[ii]||Wt.axisType==="zAxis"||Sc();var qn=Pn[ii];return me(me({},rt),{},He(He({},Wt.axisType,qn),"".concat(Wt.axisType,"Ticks"),Mo(qn)))},Ce),oe=Ye[ce],ye=Ye["".concat(ce,"Ticks")],Ae=k&&k[ft]&&k[ft].hasStack&&Txe(G,k[ft].stackGroups),se=Vo(G.type).indexOf("Bar")>=0,Be=zv(oe,ye),ze=[],qe=le&&uxe({barSize:j,stackGroups:k,totalSize:dCe(Ye,ce)});if(se){var nt,At,on=ht(Ke)?L:Ke,pt=(nt=(At=zv(oe,ye,!0))!==null&&At!==void 0?At:on)!==null&&nt!==void 0?nt:0;ze=fxe({barGap:N,barCategoryGap:$,bandSize:pt!==Be?pt:Be,sizeList:qe[ct],maxBarSize:on}),pt!==Be&&(ze=ze.map(function(rt){return me(me({},rt),{},{position:me(me({},rt.position),{},{offset:rt.position.offset-pt/2})})}))}var Ct=G&&G.type&&G.type.getComposedData;Ct&&Y.push({props:me(me({},Ct(me(me({},Ye),{},{displayedData:Se,props:x,dataKey:je,item:G,bandSize:Be,barPosition:ze,offset:S,stackedData:Ae,layout:D,dataStartIndex:E,dataEndIndex:T}))),{},He(He(He({key:G.key||"item-".concat(pe)},ne,Ye[ne]),ce,Ye[ce]),"animationId",C)),childIndex:coe(G,x.children),item:G})}),Y},g=function(x,_){var A=x.props,k=x.dataStartIndex,S=x.dataEndIndex,C=x.updateId;if(!eI({props:A}))return null;var E=A.children,T=A.layout,j=A.stackOffset,D=A.data,N=A.reverseStackOrder,$=jD(T),L=$.numericAxisName,Q=$.cateAxisName,ne=Qi(E,r),ce=Sxe(D,ne,"".concat(L,"Id"),"".concat(Q,"Id"),j,N),le=l.reduce(function(xe,je){var Ke="".concat(je.axisType,"Map");return me(me({},xe),{},He({},Ke,lCe(A,me(me({},je),{},{graphicalItems:ne,stackGroups:je.axisType===L&&ce,dataStartIndex:k,dataEndIndex:S}))))},{}),Y=fCe(me(me({},le),{},{props:A,graphicalItems:ne}),_==null?void 0:_.legendBBox);Object.keys(le).forEach(function(xe){le[xe]=u(A,le[xe],Y,xe.replace("Map",""),n)});var G=le["".concat(Q,"Map")],pe=cCe(G),Se=h(A,me(me({},le),{},{dataStartIndex:k,dataEndIndex:S,updateId:C,graphicalItems:ne,stackGroups:ce,offset:Y}));return me(me({formattedGraphicalItems:Se,graphicalItems:ne,offset:Y,stackGroups:ce},pe),le)},b=function(w){function x(_){var A,k,S;return KPe(this,x),S=GPe(this,x,[_]),He(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(S,"accessibilityManager",new IPe),He(S,"handleLegendBBoxUpdate",function(C){if(C){var E=S.state,T=E.dataStartIndex,j=E.dataEndIndex,D=E.updateId;S.setState(me({legendBBox:C},g({props:S.props,dataStartIndex:T,dataEndIndex:j,updateId:D},me(me({},S.state),{},{legendBBox:C}))))}}),He(S,"handleReceiveSyncEvent",function(C,E,T){if(S.props.syncId===C){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),He(S,"handleBrushChange",function(C){var E=C.startIndex,T=C.endIndex;if(E!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var j=S.state.updateId;S.setState(function(){return me({dataStartIndex:E,dataEndIndex:T},g({props:S.props,dataStartIndex:E,dataEndIndex:T,updateId:j},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),He(S,"handleMouseEnter",function(C){var E=S.getMouseInfo(C);if(E){var T=me(me({},E),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var j=S.props.onMouseEnter;lt(j)&&j(T,C)}}),He(S,"triggeredAfterMouseMove",function(C){var E=S.getMouseInfo(C),T=E?me(me({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var j=S.props.onMouseMove;lt(j)&&j(T,C)}),He(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),He(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),He(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),He(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var T=S.props.onMouseLeave;lt(T)&&T(E,C)}),He(S,"handleOuterEvent",function(C){var E=loe(C),T=Xi(S.props,"".concat(E));if(E&&lt(T)){var j,D;/.*touch.*/i.test(E)?D=S.getMouseInfo(C.changedTouches[0]):D=S.getMouseInfo(C),T((j=D)!==null&&j!==void 0?j:{},C)}}),He(S,"handleClick",function(C){var E=S.getMouseInfo(C);if(E){var T=me(me({},E),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var j=S.props.onClick;lt(j)&&j(T,C)}}),He(S,"handleMouseDown",function(C){var E=S.props.onMouseDown;if(lt(E)){var T=S.getMouseInfo(C);E(T,C)}}),He(S,"handleMouseUp",function(C){var E=S.props.onMouseUp;if(lt(E)){var T=S.getMouseInfo(C);E(T,C)}}),He(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),He(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),He(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),He(S,"handleDoubleClick",function(C){var E=S.props.onDoubleClick;if(lt(E)){var T=S.getMouseInfo(C);E(T,C)}}),He(S,"handleContextMenu",function(C){var E=S.props.onContextMenu;if(lt(E)){var T=S.getMouseInfo(C);E(T,C)}}),He(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&Ow.emit(kw,S.props.syncId,C,S.eventEmitterSymbol)}),He(S,"applySyncEvent",function(C){var E=S.props,T=E.layout,j=E.syncMethod,D=S.state.updateId,N=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(me({dataStartIndex:N,dataEndIndex:$},g({props:S.props,dataStartIndex:N,dataEndIndex:$,updateId:D},S.state)));else if(C.activeTooltipIndex!==void 0){var L=C.chartX,Q=C.chartY,ne=C.activeTooltipIndex,ce=S.state,le=ce.offset,Y=ce.tooltipTicks;if(!le)return;if(typeof j=="function")ne=j(Y,C);else if(j==="value"){ne=-1;for(var G=0;G<Y.length;G++)if(Y[G].value===C.activeLabel){ne=G;break}}var pe=me(me({},le),{},{x:le.left,y:le.top}),Se=Math.min(L,pe.x+pe.width),xe=Math.min(Q,pe.y+pe.height),je=Y[ne]&&Y[ne].value,Ke=BS(S.state,S.props.data,ne),ft=Y[ne]?{x:T==="horizontal"?Y[ne].coordinate:Se,y:T==="horizontal"?xe:Y[ne].coordinate}:dB;S.setState(me(me({},C),{},{activeLabel:je,activeCoordinate:ft,activePayload:Ke,activeTooltipIndex:ne}))}else S.setState(C)}),He(S,"renderCursor",function(C){var E,T=S.state,j=T.isTooltipActive,D=T.activeCoordinate,N=T.activePayload,$=T.offset,L=T.activeTooltipIndex,Q=T.tooltipAxisBandSize,ne=S.getTooltipEventType(),ce=(E=C.props.active)!==null&&E!==void 0?E:j,le=S.props.layout,Y=C.key||"_recharts-cursor";return U.createElement(LPe,{key:Y,activeCoordinate:D,activePayload:N,activeTooltipIndex:L,chartName:n,element:C,isActive:ce,layout:le,offset:$,tooltipAxisBandSize:Q,tooltipEventType:ne})}),He(S,"renderPolarAxis",function(C,E,T){var j=Xi(C,"type.axisType"),D=Xi(S.state,"".concat(j,"Map")),N=C.type.defaultProps,$=N!==void 0?me(me({},N),C.props):C.props,L=D&&D[$["".concat(j,"Id")]];return V.cloneElement(C,me(me({},L),{},{className:_t(j,L.className),key:C.key||"".concat(E,"-").concat(T),ticks:Mo(L,!0)}))}),He(S,"renderPolarGrid",function(C){var E=C.props,T=E.radialLines,j=E.polarAngles,D=E.polarRadius,N=S.state,$=N.radiusAxisMap,L=N.angleAxisMap,Q=Ts($),ne=Ts(L),ce=ne.cx,le=ne.cy,Y=ne.innerRadius,G=ne.outerRadius;return V.cloneElement(C,{polarAngles:Array.isArray(j)?j:Mo(ne,!0).map(function(pe){return pe.coordinate}),polarRadius:Array.isArray(D)?D:Mo(Q,!0).map(function(pe){return pe.coordinate}),cx:ce,cy:le,innerRadius:Y,outerRadius:G,key:C.key||"polar-grid",radialLines:T})}),He(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,E=S.props,T=E.children,j=E.width,D=E.height,N=S.props.margin||{},$=j-(N.left||0)-(N.right||0),L=Jz({children:T,formattedGraphicalItems:C,legendWidth:$,legendContent:c});if(!L)return null;var Q=L.item,ne=CD(L,VPe);return V.cloneElement(Q,me(me({},ne),{},{chartWidth:j,chartHeight:D,margin:N,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),He(S,"renderTooltip",function(){var C,E=S.props,T=E.children,j=E.accessibilityLayer,D=hi(T,xn);if(!D)return null;var N=S.state,$=N.isTooltipActive,L=N.activeCoordinate,Q=N.activePayload,ne=N.activeLabel,ce=N.offset,le=(C=D.props.active)!==null&&C!==void 0?C:$;return V.cloneElement(D,{viewBox:me(me({},ce),{},{x:ce.left,y:ce.top}),active:le,label:ne,payload:le?Q:[],coordinate:L,accessibilityLayer:j})}),He(S,"renderBrush",function(C){var E=S.props,T=E.margin,j=E.data,D=S.state,N=D.offset,$=D.dataStartIndex,L=D.dataEndIndex,Q=D.updateId;return V.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Mg(S.handleBrushChange,C.props.onChange),data:j,x:Pe(C.props.x)?C.props.x:N.left,y:Pe(C.props.y)?C.props.y:N.top+N.height+N.brushBottom-(T.bottom||0),width:Pe(C.props.width)?C.props.width:N.width,startIndex:$,endIndex:L,updateId:"brush-".concat(Q)})}),He(S,"renderReferenceElement",function(C,E,T){if(!C)return null;var j=S,D=j.clipPathId,N=S.state,$=N.xAxisMap,L=N.yAxisMap,Q=N.offset,ne=C.type.defaultProps||{},ce=C.props,le=ce.xAxisId,Y=le===void 0?ne.xAxisId:le,G=ce.yAxisId,pe=G===void 0?ne.yAxisId:G;return V.cloneElement(C,{key:C.key||"".concat(E,"-").concat(T),xAxis:$[Y],yAxis:L[pe],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:D})}),He(S,"renderActivePoints",function(C){var E=C.item,T=C.activePoint,j=C.basePoint,D=C.childIndex,N=C.isRange,$=[],L=E.props.key,Q=E.item.type.defaultProps!==void 0?me(me({},E.item.type.defaultProps),E.item.props):E.item.props,ne=Q.activeDot,ce=Q.dataKey,le=me(me({index:D,dataKey:ce,cx:T.x,cy:T.y,r:4,fill:uP(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ut(ne,!1)),fv(ne));return $.push(x.renderActiveDot(ne,le,"".concat(L,"-activePoint-").concat(D))),j?$.push(x.renderActiveDot(ne,me(me({},le),{},{cx:j.x,cy:j.y}),"".concat(L,"-basePoint-").concat(D))):N&&$.push(null),$}),He(S,"renderGraphicChild",function(C,E,T){var j=S.filterFormatItem(C,E,T);if(!j)return null;var D=S.getTooltipEventType(),N=S.state,$=N.isTooltipActive,L=N.tooltipAxis,Q=N.activeTooltipIndex,ne=N.activeLabel,ce=S.props.children,le=hi(ce,xn),Y=j.props,G=Y.points,pe=Y.isRange,Se=Y.baseLine,xe=j.item.type.defaultProps!==void 0?me(me({},j.item.type.defaultProps),j.item.props):j.item.props,je=xe.activeDot,Ke=xe.hide,ft=xe.activeBar,ct=xe.activeShape,Ce=!!(!Ke&&$&&le&&(je||ft||ct)),Ye={};D!=="axis"&&le&&le.props.trigger==="click"?Ye={onClick:Mg(S.handleItemMouseEnter,C.props.onClick)}:D!=="axis"&&(Ye={onMouseLeave:Mg(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Mg(S.handleItemMouseEnter,C.props.onMouseEnter)});var oe=V.cloneElement(C,me(me({},j.props),Ye));function ye(Wt){return typeof L.dataKey=="function"?L.dataKey(Wt.payload):null}if(Ce)if(Q>=0){var Ae,se;if(L.dataKey&&!L.allowDuplicatedCategory){var Be=typeof L.dataKey=="function"?ye:"payload.".concat(L.dataKey.toString());Ae=uv(G,Be,ne),se=pe&&Se&&uv(Se,Be,ne)}else Ae=G==null?void 0:G[Q],se=pe&&Se&&Se[Q];if(ct||ft){var ze=C.props.activeIndex!==void 0?C.props.activeIndex:Q;return[V.cloneElement(C,me(me(me({},j.props),Ye),{},{activeIndex:ze})),null,null]}if(!ht(Ae))return[oe].concat(Lf(S.renderActivePoints({item:j,activePoint:Ae,basePoint:se,childIndex:Q,isRange:pe})))}else{var qe,nt=(qe=S.getItemByXY(S.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:oe},At=nt.graphicalItem,on=At.item,pt=on===void 0?C:on,Ct=At.childIndex,rt=me(me(me({},j.props),Ye),{},{activeIndex:Ct});return[V.cloneElement(pt,rt),null,null]}return pe?[oe,null,null]:[oe,null]}),He(S,"renderCustomized",function(C,E,T){return V.cloneElement(C,me(me({key:"recharts-customized-".concat(T)},S.props),S.state))}),He(S,"renderMap",{CartesianGrid:{handler:Fg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Fg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Fg},YAxis:{handler:Fg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((A=_.id)!==null&&A!==void 0?A:od("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=JF(S.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),S.state={},S}return QPe(x,w),HPe(x,[{key:"componentDidMount",value:function(){var A,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,k=A.children,S=A.data,C=A.height,E=A.layout,T=hi(k,xn);if(T){var j=T.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,N=BS(this.state,S,j,D),$=this.state.tooltipTicks[j].coordinate,L=(this.state.offset.top+C)/2,Q=E==="horizontal",ne=Q?{x:$,y:L}:{y:$,x:L},ce=this.state.formattedGraphicalItems.find(function(Y){var G=Y.item;return G.type.name==="Scatter"});ce&&(ne=me(me({},ne),ce.props.points[j].tooltipPosition),N=ce.props.points[j].tooltipPayload);var le={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:D,activePayload:N,activeCoordinate:ne};this.setState(le),this.renderCursor(T),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(A){x_([hi(A.children,xn)],[hi(this.props.children,xn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=hi(this.props.children,xn);if(A&&typeof A.props.shared=="boolean"){var k=A.props.shared?"axis":"item";return s.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var k=this.container,S=k.getBoundingClientRect(),C=Mge(S),E={chartX:Math.round(A.pageX-C.left),chartY:Math.round(A.pageY-C.top)},T=S.width/k.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,T);if(!j)return null;var D=this.state,N=D.xAxisMap,$=D.yAxisMap,L=this.getTooltipEventType(),Q=kD(this.state,this.props.data,this.props.layout,j);if(L!=="axis"&&N&&$){var ne=Ts(N).scale,ce=Ts($).scale,le=ne&&ne.invert?ne.invert(E.chartX):null,Y=ce&&ce.invert?ce.invert(E.chartY):null;return me(me({},E),{},{xValue:le,yValue:Y},Q)}return Q?me(me({},E),Q):null}},{key:"inRange",value:function(A,k){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=A/S,T=k/S;if(C==="horizontal"||C==="vertical"){var j=this.state.offset,D=E>=j.left&&E<=j.left+j.width&&T>=j.top&&T<=j.top+j.height;return D?{x:E,y:T}:null}var N=this.state,$=N.angleAxisMap,L=N.radiusAxisMap;if($&&L){var Q=Ts($);return cN({x:E,y:T},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,k=this.getTooltipEventType(),S=hi(A,xn),C={};S&&k==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=fv(this.props,this.handleOuterEvent);return me(me({},E),C)}},{key:"addListener",value:function(){Ow.on(kw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ow.removeListener(kw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,k,S){for(var C=this.state.formattedGraphicalItems,E=0,T=C.length;E<T;E++){var j=C[E];if(j.item===A||j.props.key===A.key||k===Vo(j.item.type)&&S===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,k=this.state.offset,S=k.left,C=k.top,E=k.height,T=k.width;return U.createElement("defs",null,U.createElement("clipPath",{id:A},U.createElement("rect",{x:S,y:C,height:E,width:T})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(k,S){var C=PD(S,2),E=C[0],T=C[1];return me(me({},k),{},He({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(k,S){var C=PD(S,2),E=C[0],T=C[1];return me(me({},k),{},He({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[A])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(A){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[A])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(A){var k=this.state,S=k.formattedGraphicalItems,C=k.activeItem;if(S&&S.length)for(var E=0,T=S.length;E<T;E++){var j=S[E],D=j.props,N=j.item,$=N.type.defaultProps!==void 0?me(me({},N.type.defaultProps),N.props):N.props,L=Vo(N.type);if(L==="Bar"){var Q=(D.data||[]).find(function(Y){return v_e(A,Y)});if(Q)return{graphicalItem:j,payload:Q}}else if(L==="RadialBar"){var ne=(D.data||[]).find(function(Y){return cN(A,Y)});if(ne)return{graphicalItem:j,payload:ne}}else if(Vb(j,C)||Fb(j,C)||Kp(j,C)){var ce=wSe({graphicalItem:j,activeTooltipItem:C,itemData:$.data}),le=$.activeIndex===void 0?ce:$.activeIndex;return{graphicalItem:me(me({},j),{},{childIndex:le}),payload:Kp(j,C)?$.data[ce]:j.props.data[ce]}}}return null}},{key:"render",value:function(){var A=this;if(!eI(this))return null;var k=this.props,S=k.children,C=k.className,E=k.width,T=k.height,j=k.style,D=k.compact,N=k.title,$=k.desc,L=CD(k,FPe),Q=ut(L,!1);if(D)return U.createElement(sD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(__,ju({},Q,{width:E,height:T,title:N,desc:$}),this.renderClipPath(),nI(S,this.renderMap)));if(this.props.accessibilityLayer){var ne,ce;Q.tabIndex=(ne=this.props.tabIndex)!==null&&ne!==void 0?ne:0,Q.role=(ce=this.props.role)!==null&&ce!==void 0?ce:"application",Q.onKeyDown=function(Y){A.accessibilityManager.keyboardEvent(Y)},Q.onFocus=function(){A.accessibilityManager.focus()}}var le=this.parseEventsOfWrapper();return U.createElement(sD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",ju({className:_t("recharts-wrapper",C),style:me({position:"relative",cursor:"default",width:E,height:T},j)},le,{ref:function(G){A.container=G}}),U.createElement(__,ju({},Q,{width:E,height:T,title:N,desc:$,style:rCe}),this.renderClipPath(),nI(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(V.Component);He(b,"displayName",n),He(b,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),He(b,"getDerivedStateFromProps",function(w,x){var _=w.dataKey,A=w.data,k=w.children,S=w.width,C=w.height,E=w.layout,T=w.stackOffset,j=w.margin,D=x.dataStartIndex,N=x.dataEndIndex;if(x.updateId===void 0){var $=ID(w);return me(me(me({},$),{},{updateId:0},g(me(me({props:w},$),{},{updateId:0}),x)),{},{prevDataKey:_,prevData:A,prevWidth:S,prevHeight:C,prevLayout:E,prevStackOffset:T,prevMargin:j,prevChildren:k})}if(_!==x.prevDataKey||A!==x.prevData||S!==x.prevWidth||C!==x.prevHeight||E!==x.prevLayout||T!==x.prevStackOffset||!Uu(j,x.prevMargin)){var L=ID(w),Q={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},ne=me(me({},kD(x,A,E)),{},{updateId:x.updateId+1}),ce=me(me(me({},L),Q),ne);return me(me(me({},ce),g(me({props:w},ce),x)),{},{prevDataKey:_,prevData:A,prevWidth:S,prevHeight:C,prevLayout:E,prevStackOffset:T,prevMargin:j,prevChildren:k})}if(!x_(k,x.prevChildren)){var le,Y,G,pe,Se=hi(k,Pf),xe=Se&&(le=(Y=Se.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&le!==void 0?le:D,je=Se&&(G=(pe=Se.props)===null||pe===void 0?void 0:pe.endIndex)!==null&&G!==void 0?G:N,Ke=xe!==D||je!==N,ft=!ht(A),ct=ft&&!Ke?x.updateId:x.updateId+1;return me(me({updateId:ct},g(me(me({props:w},x),{},{updateId:ct,dataStartIndex:xe,dataEndIndex:je}),x)),{},{prevChildren:k,dataStartIndex:xe,dataEndIndex:je})}return null}),He(b,"renderActiveDot",function(w,x,_){var A;return V.isValidElement(w)?A=V.cloneElement(w,x):lt(w)?A=w(x):A=U.createElement(Lb,x),U.createElement(Zt,{className:"recharts-active-dot",key:_},A)});var v=V.forwardRef(function(x,_){return U.createElement(b,ju({},x,{ref:_}))});return v.displayName=b.displayName,v},pB=wP({chartName:"LineChart",GraphicalChild:Ac,axisComponents:[{axisType:"xAxis",AxisComp:Qn},{axisType:"yAxis",AxisComp:Zn}],formatAxisMap:dP}),Xa=wP({chartName:"BarChart",GraphicalChild:Pr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qn},{axisType:"yAxis",AxisComp:Zn}],formatAxisMap:dP}),hCe=wP({chartName:"AreaChart",GraphicalChild:gl,axisComponents:[{axisType:"xAxis",AxisComp:Qn},{axisType:"yAxis",AxisComp:Zn}],formatAxisMap:dP});const pCe=t=>{const[e,n]=V.useState([]),[r,i]=V.useState([]),[a,o]=V.useState(!0);return V.useEffect(()=>{if(!t)return;(async()=>{o(!0);try{const[c,u]=await Promise.all([gt.weighings.where("goatId").equals(t).toArray(),gt.parturitions.where("goatId").equals(t).toArray()]);n(c),i(u.sort((d,h)=>new Date(d.parturitionDate).getTime()-new Date(h.parturitionDate).getTime()))}catch(c){console.error(`Error al cargar datos para ${t}:`,c)}finally{o(!1)}})()},[t]),{...V.useMemo(()=>{if(r.length===0)return{allLactations:[],parturitionIntervals:[],lastWeighingDate:null};const l=r.map((d,h)=>{const g=new Date(d.parturitionDate),b=h<r.length-1?new Date(r[h+1].parturitionDate):new Date,v=e.filter(C=>{const E=new Date(C.date);return E>=g&&E<b}),w=v.map(C=>({del:Pm(d.parturitionDate,C.date),kg:C.kg})).sort((C,E)=>C.del-E.del),x=v.reduce((C,E)=>C+E.kg,0),_=v.length>0?x/v.length:0,A=w.reduce((C,E)=>E.kg>C.kg?E:C,{kg:0,del:0}),k=w[w.length-1],S=k?k.del:0;return{parturitionDate:d.parturitionDate,weighings:v,lactationCurve:w,averageProduction:_,peakProduction:A,totalDays:S}}),c=r.slice(1).map((d,h)=>{const g=r[h],b=new Date(d.parturitionDate).getTime()-new Date(g.parturitionDate).getTime();return{period:`${g.parturitionDate.substring(0,4)} - ${d.parturitionDate.substring(0,4)}`,days:Math.round(b/(1e3*60*60*24))}}),u=e.sort((d,h)=>new Date(h.date).getTime()-new Date(d.date).getTime())[0];return{allLactations:l,parturitionIntervals:c,lastWeighingDate:(u==null?void 0:u.date)||null}},[e,r]),isLoading:a}},mCe=(t,e,n,r)=>{const[i,a]=V.useState([]),[o,s]=V.useState(!1);return V.useEffect(()=>{if(!t||!e.length){a([]);return}(()=>{s(!0);let c=[];if(t==="PRIMIPARAS_HISTORICAL"){const g=n.reduce((b,v)=>(b[v.goatId]=(b[v.goatId]||0)+1,b),{});c=e.filter(b=>g[b.id]===1).map(b=>b.id)}else if(t==="MULTIPARAS_HISTORICAL"){const g=n.reduce((b,v)=>(b[v.goatId]=(b[v.goatId]||0)+1,b),{});c=e.filter(b=>g[b.id]>1).map(b=>b.id)}const u=r.filter(g=>c.includes(g.goatId)),d={};u.forEach(g=>{const b=n.filter(w=>w.goatId===g.goatId&&new Date(g.date)>=new Date(w.parturitionDate)).sort((w,x)=>new Date(x.parturitionDate).getTime()-new Date(w.parturitionDate).getTime())[0];if(!b)return;const v=Pm(b.parturitionDate,g.date);d[v]||(d[v]={totalKg:0,count:0}),d[v].totalKg+=g.kg,d[v].count++});const h=Object.entries(d).map(([g,b])=>({del:parseInt(g),kg:b.totalKg/b.count})).sort((g,b)=>g.del-b.del);a(h),s(!1)})()},[t,e,n,r]),{comparativeCurve:i,isLoading:o}},f0=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload.name==="Promedio Rebaño";return"range"in e[0].payload?f.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[f.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Rango: ",e[0].payload.range," Kg"]}),f.jsxs("p",{className:"font-bold text-base",children:["Nº de Cabras: ",e[0].value]})]}):f.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[f.jsx("p",{className:"label text-brand-light-gray text-sm",children:r?`Días en Leche (DEL): ${n}`:`DEL: ${n}`}),f.jsx("p",{className:"font-bold text-base",children:r?`Promedio: ${e[0].value.toFixed(2)} Kg`:`Producción: ${e[0].value.toFixed(2)} Kg`})]})}return null},zg=({active:t,payload:e,label:n,context:r})=>{if(t&&e&&e.length){let i="",a="";switch(r){case"average":i=`Lactancia del ${n}`,a=`Promedio: ${e[0].value.toFixed(2)} Kg`;break;case"peak":i=`Lactancia del ${n}`,a=`Pico: ${e[0].value.toFixed(2)} Kg`;break;case"del":i=`Lactancia del ${n}`,a=`Duración: ${e[0].value} días`;break;case"interval":i=`Período ${n}`,a=`Intervalo: ${e[0].value} días`;break}return f.jsxs("div",{className:"bg-black/60 backdrop-blur-xl p-3 rounded-lg border border-zinc-700 text-white",children:[f.jsx("p",{className:"label text-zinc-400 text-sm font-medium",children:i}),f.jsx("p",{className:"font-semibold text-base",children:a})]})}return null};function gCe({animalId:t,onBack:e}){const{animals:n,parturitions:r,weighings:i,startDryingProcess:a,setLactationAsDry:o}=It(),{allLactations:s,parturitionIntervals:l,lastWeighingDate:c,isLoading:u}=pCe(t),[d,h]=V.useState(null),[g,b]=V.useState(null),[v,w]=V.useState(!1),{comparativeCurve:x,isLoading:_}=mCe(g,n,r,i),A=V.useMemo(()=>{if(s.length===0)return null;const N=s[s.length-1],$=r.find(L=>L.parturitionDate===N.parturitionDate&&L.goatId===t);return{...N,id:$==null?void 0:$.id,status:$==null?void 0:$.status}},[s,r,t]),k=V.useMemo(()=>A?Pm(A.parturitionDate,new Date().toISOString().split("T")[0]):"N/A",[A]),S=V.useMemo(()=>({average:s.map(N=>({name:new Date(N.parturitionDate).getFullYear().toString(),value:N.averageProduction})),peak:s.map(N=>({name:new Date(N.parturitionDate).getFullYear().toString(),value:N.peakProduction.kg})),del:s.map(N=>({name:new Date(N.parturitionDate).getFullYear().toString(),value:N.totalDays})),interval:l.map(N=>({name:N.period,value:N.days}))}),[s,l]);if(u)return f.jsx("div",{className:"text-center p-10",children:f.jsxs("h1",{className:"text-2xl text-zinc-400",children:["Cargando perfil de lactancia de ",t,"..."]})});const C=s.length>0?s[s.length-1]:null,E=l.length>0?l[l.length-1].days:0,T=s.length===1,j=()=>{const N=!v;w(N),N||b(null)},D=N=>{b($=>$===N?null:N)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4 animate-fade-in",children:[f.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[f.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"text-center flex-grow",children:[f.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:t}),f.jsx("p",{className:"text-xl text-zinc-400",children:"Perfil de Lactancia"})]}),f.jsx("div",{className:"w-8"})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[f.jsxs("button",{onClick:()=>h("average"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[f.jsx(gm,{size:14}),f.jsx("span",{children:"Promedio"})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[(C==null?void 0:C.averageProduction.toFixed(2))||"N/A"," ",f.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),f.jsxs("button",{onClick:()=>h("peak"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[f.jsx(Gf,{size:14}),f.jsx("span",{children:"Pico Prod."})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[(C==null?void 0:C.peakProduction.kg.toFixed(2))||"N/A"," ",f.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),f.jsxs("button",{onClick:()=>h("del"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[f.jsx(fH,{size:14}),f.jsx("span",{children:"DEL"})]}),f.jsx("p",{className:"text-2xl font-bold text-white",children:k})]}),f.jsxs("button",{onClick:()=>h("interval"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-amber transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[f.jsx(SH,{size:14}),f.jsx("span",{children:"Int. Partos"})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[E," ",f.jsx("span",{className:"text-lg text-zinc-400",children:"días"})]})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-1 text-xs uppercase",children:[f.jsx(cH,{size:14}),f.jsx("span",{children:"Últ. Pesaje"})]}),f.jsx("p",{className:"text-xl font-bold text-white",children:c?new Date(c).toLocaleDateString():"N/A"})]})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border relative",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center border-b border-brand-border pb-2 mb-4 gap-2",children:[f.jsxs("h3",{className:"text-zinc-400 font-semibold text-xs uppercase",children:["Curva de Lactancia Actual (Parto: ",(C==null?void 0:C.parturitionDate)||"N/A",")"]}),f.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-center",children:[f.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:"Comparar:"}),f.jsx("button",{onClick:j,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${v?"bg-amber-500":"bg-zinc-700"}`,children:f.jsx("span",{"aria-hidden":"true",className:`inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${v?"translate-x-5":"translate-x-0"}`})}),v&&f.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[f.jsx("button",{onClick:()=>D("PRIMIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${g==="PRIMIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${T?"ring-2 ring-amber-400":""}`,children:"vs Primíparas"}),f.jsx("button",{onClick:()=>D("MULTIPARAS_HISTORICAL"),className:`px-2 py-1 text-xs rounded-md transition-colors ${g==="MULTIPARAS_HISTORICAL"?"bg-amber-500 text-black font-semibold":"bg-zinc-700/50 text-zinc-300 hover:bg-zinc-600/50"} ${T?"":"ring-2 ring-amber-400"}`,children:"vs Multíparas"})]})]})]}),f.jsxs("div",{className:"w-full h-56 -ml-4",children:[f.jsx(pi,{children:f.jsxs(pB,{margin:{top:5,right:20,left:-10,bottom:5},children:[f.jsx(Mm,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),f.jsx(Qn,{dataKey:"del",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(Zn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(xn,{content:f.jsx(f0,{})}),f.jsx(qs,{verticalAlign:"top",height:36,iconType:"plainline"}),f.jsx(Ac,{type:"monotone",data:C==null?void 0:C.lactationCurve,dataKey:"kg",name:t,stroke:"#FBBF24",strokeWidth:2.5,dot:!1}),g&&!_&&f.jsx(Ac,{type:"monotone",data:x,dataKey:"kg",name:"Promedio del Grupo",stroke:"#34d399",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})}),_&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-xl text-white",children:"Calculando comparación..."})]})]}),(A==null?void 0:A.id)&&f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsx("h3",{className:"text-zinc-400 font-semibold text-xs uppercase mb-3",children:"Gestión de Lactancia Actual"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[A.status==="activa"&&f.jsxs("button",{onClick:()=>a(A.id),className:"w-full flex items-center justify-center space-x-2 bg-blue-600/80 hover:bg-blue-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[f.jsx(J0,{size:20}),f.jsx("span",{children:"Iniciar Proceso de Secado"})]}),A.status==="en-secado"&&f.jsxs("button",{onClick:()=>o(A.id),className:"w-full flex items-center justify-center space-x-2 bg-gray-600/80 hover:bg-gray-500/80 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:[f.jsx(Y0,{size:20}),f.jsx("span",{children:"Declarar Lactancia como Seca"})]}),A.status==="seca"&&f.jsx("div",{className:"w-full text-center p-3 bg-black/20 rounded-xl",children:f.jsx("p",{className:"font-semibold text-green-400",children:"Esta lactancia ha finalizado."})})]}),A.status==="en-secado"&&f.jsx("p",{className:"text-center text-xs text-zinc-400 mt-2",children:"El animal está en su período de secado."})]})]}),f.jsx(Nt,{isOpen:d==="average",onClose:()=>h(null),title:"Historial de Promedios",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"w-full h-48 -ml-4",children:f.jsx(pi,{children:f.jsxs(Xa,{data:S.average,margin:{top:5,right:20,left:-20,bottom:0},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"modalBarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#FBBF24",stopOpacity:.8}),f.jsx("stop",{offset:"100%",stopColor:"#FBBF24",stopOpacity:.2})]})}),f.jsx(Qn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),f.jsx(Zn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),f.jsx(xn,{content:f.jsx(zg,{context:"average"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),f.jsx(Pr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradient)"})]})})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),f.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(N=>f.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[f.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",N.parturitionDate]}),f.jsxs("span",{className:"text-base font-semibold text-white",children:[N.averageProduction.toFixed(2)," Kg"]})]},N.parturitionDate))})]})]})}),f.jsx(Nt,{isOpen:d==="peak",onClose:()=>h(null),title:"Historial de Picos de Producción",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"w-full h-48 -ml-4",children:f.jsx(pi,{children:f.jsxs(Xa,{data:S.peak,margin:{top:5,right:20,left:-20,bottom:0},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"modalBarGradientPeak",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),f.jsx("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:.2})]})}),f.jsx(Qn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),f.jsx(Zn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),f.jsx(xn,{content:f.jsx(zg,{context:"peak"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),f.jsx(Pr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientPeak)"})]})})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),f.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(N=>f.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[f.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",N.parturitionDate]}),f.jsxs("span",{className:"text-base font-semibold text-white",children:[N.peakProduction.kg.toFixed(2)," Kg ",f.jsxs("span",{className:"font-normal text-zinc-400",children:["(Día ",N.peakProduction.del,")"]})]})]},N.parturitionDate))})]})]})}),f.jsx(Nt,{isOpen:d==="del",onClose:()=>h(null),title:"Historial de Duración de Lactancias",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"w-full h-48 -ml-4",children:f.jsx(pi,{children:f.jsxs(Xa,{data:S.del,margin:{top:5,right:20,left:-20,bottom:0},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"modalBarGradientDel",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:.8}),f.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.2})]})}),f.jsx(Qn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),f.jsx(Zn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),f.jsx(xn,{content:f.jsx(zg,{context:"del"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),f.jsx(Pr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientDel)"})]})})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles por Lactancia"}),f.jsx("ul",{className:"space-y-1",children:s.slice().reverse().map(N=>f.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[f.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Parto del ",N.parturitionDate]}),f.jsxs("span",{className:"text-base font-semibold text-white",children:[N.totalDays," días"]})]},N.parturitionDate))})]})]})}),f.jsx(Nt,{isOpen:d==="interval",onClose:()=>h(null),title:"Historial de Intervalos entre Partos",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"w-full h-48 -ml-4",children:f.jsx(pi,{children:f.jsxs(Xa,{data:S.interval,margin:{top:5,right:20,left:-20,bottom:0},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"modalBarGradientInt",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:.8}),f.jsx("stop",{offset:"100%",stopColor:"#8B5CF6",stopOpacity:.2})]})}),f.jsx(Qn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1}),f.jsx(Zn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.5)",fontSize:12},stroke:"transparent",tickLine:!1,width:40}),f.jsx(xn,{content:f.jsx(zg,{context:"interval"}),cursor:{fill:"rgba(255, 255, 255, 0.1)"}}),f.jsx(Pr,{dataKey:"value",radius:[4,4,0,0],fill:"url(#modalBarGradientInt)"})]})})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Detalles de Intervalos"}),f.jsx("ul",{className:"space-y-1",children:l.slice().reverse().map(N=>f.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-white/5",children:[f.jsxs("span",{className:"text-base font-medium text-zinc-200",children:["Período ",N.period]}),f.jsxs("span",{className:"text-base font-semibold text-white",children:[N.days," días"]})]},N.period))})]})]})})]})}const yCe=({plan:t})=>f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsx("p",{className:"font-semibold text-white",children:t.details}),f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Iniciado el: ",new Date(t.startDate+"T00:00:00").toLocaleDateString("es-VE")]})]});function vCe({lotName:t,onBack:e}){const{feedingPlans:n,addFeedingPlan:r}=It(),[i,a]=V.useState(""),[o,s]=V.useState(new Date().toISOString().split("T")[0]),[l,c]=V.useState(null),u=V.useMemo(()=>n.filter(h=>h.lotName===t).sort((h,g)=>new Date(g.startDate).getTime()-new Date(h.startDate).getTime()),[n,t]),d=async h=>{if(h.preventDefault(),!i.trim()){c({type:"error",text:"Los detalles del plan no pueden estar vacíos."});return}try{await r({lotName:t,details:i,startDate:o}),c({type:"success",text:"Plan de alimentación guardado con éxito."}),a("")}catch(g){c({type:"error",text:"No se pudo guardar el plan."}),console.error(g)}};return f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[f.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[f.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"text-center flex-grow",children:[f.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Alimentación: ",t]}),f.jsx("p",{className:"text-lg text-zinc-400",children:"Planes de Nutrición del Lote"})]}),f.jsx("div",{className:"w-8"})]}),f.jsxs("form",{onSubmit:d,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[f.jsx(uo,{size:20})," Asignar Nuevo Plan"]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"planDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Plan (Ej: 2kg de concentrado/día)"}),f.jsx("textarea",{id:"planDetails",rows:3,value:i,onChange:h=>a(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"planStartDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Inicio"}),f.jsx("input",{id:"planStartDate",type:"date",value:o,onChange:h=>s(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),f.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Plan"}),l&&f.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?f.jsx(rs,{size:18}):f.jsx(_i,{size:18}),f.jsx("span",{children:l.text})]})]}),f.jsxs("div",{className:"space-y-4 pt-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[f.jsx(o4,{size:20})," Historial de Planes"]}),u.length>0?f.jsx("div",{className:"space-y-2",children:u.map(h=>f.jsx(yCe,{plan:h},h.id))}):f.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:f.jsx("p",{className:"text-zinc-500",children:"No hay planes de alimentación registrados para este lote."})})]})]})}const bCe=({event:t})=>f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsx("p",{className:"font-semibold text-white",children:t.details}),f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Aplicado el: ",new Date(t.date+"T00:00:00").toLocaleDateString("es-VE")]})]});function xCe({lotName:t,onBack:e}){const{events:n,addBatchEvent:r}=It(),[i,a]=V.useState(""),[o,s]=V.useState(new Date().toISOString().split("T")[0]),[l,c]=V.useState(null),u=V.useMemo(()=>{const h=n.filter(g=>g.lotName===t&&g.type==="Tratamiento").reduce((g,b)=>{const v=`${b.date}-${b.details}`;return g[v]||(g[v]=b),g},{});return Object.values(h).sort((g,b)=>new Date(b.date).getTime()-new Date(g.date).getTime())},[n,t]),d=async h=>{if(h.preventDefault(),c(null),!i.trim()){c({type:"error",text:"Los detalles del tratamiento no pueden estar vacíos."});return}try{await r({lotName:t,details:i,date:o,type:"Tratamiento"}),c({type:"success",text:"Tratamiento registrado con éxito para todo el lote."}),a("")}catch(g){c({type:"error",text:"No se pudo registrar el tratamiento."}),console.error(g)}};return f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6 pb-12 animate-fade-in",children:[f.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[f.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"text-center flex-grow",children:[f.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Tratamientos: ",t]}),f.jsx("p",{className:"text-lg text-zinc-400",children:"Sanidad Colectiva del Lote"})]}),f.jsx("div",{className:"w-8"})]}),f.jsxs("form",{onSubmit:d,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border space-y-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[f.jsx(uo,{size:20})," Registrar Tratamiento al Lote"]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"treatmentDetails",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Detalles del Tratamiento (Ej: Vacuna Triple)"}),f.jsx("textarea",{id:"treatmentDetails",rows:3,value:i,onChange:h=>a(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"treatmentDate",className:"block text-sm font-medium text-zinc-400 mb-1",children:"Fecha de Aplicación"}),f.jsx("input",{id:"treatmentDate",type:"date",value:o,onChange:h=>s(h.target.value),className:"w-full bg-zinc-800/80 p-3 rounded-xl text-lg"})]}),f.jsx("button",{type:"submit",className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl text-lg transition-colors",children:"Guardar Tratamiento"}),l&&f.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[l.type==="success"?f.jsx(rs,{size:18}):f.jsx(_i,{size:18}),f.jsx("span",{children:l.text})]})]}),f.jsxs("div",{className:"space-y-4 pt-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 px-2 flex items-center gap-2",children:[f.jsx(g4,{size:20})," Historial de Tratamientos del Lote"]}),u.length>0?f.jsx("div",{className:"space-y-2",children:u.map(h=>f.jsx(bCe,{event:h},h.id))}):f.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:f.jsx("p",{className:"text-zinc-500",children:"No hay tratamientos registrados para este lote."})})]})]})}const Bg=({icon:t,label:e,value:n,unit:r})=>f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[f.jsx(t,{size:14}),f.jsx("span",{children:e})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[n," ",f.jsx("span",{className:"text-lg text-zinc-400",children:r})]})]}),wCe=({active:t,payload:e,label:n})=>t&&e&&e.length?f.jsxs("div",{className:"bg-black/50 backdrop-blur-xl p-3 rounded-lg border border-brand-border text-white",children:[f.jsxs("p",{className:"label text-brand-light-gray text-sm",children:["Edad: ",n," días"]}),e.map(r=>f.jsxs("p",{style:{color:r.color},className:"font-bold text-base",children:[r.name,": ",r.value.toFixed(2)," Kg"]},r.name))]}):null;function _Ce({animalId:t,onBack:e}){const{animals:n,bodyWeighings:r}=It(),i=V.useMemo(()=>{const d=n.find(A=>A.id===t);if(!d)return null;const h=r.filter(A=>A.animalId===d.id).sort((A,k)=>new Date(A.date).getTime()-new Date(k.date).getTime()),g=j5(d.birthWeight,h),b=Jf(d.birthDate),v=h.length>0?h[h.length-1].kg:d.birthWeight||0,w=h.map(A=>({age:Ks(d.birthDate),[d.id]:A.kg}));d.birthWeight&&w.unshift({age:0,[d.id]:d.birthWeight});const _=[60,90,180,270].map(A=>({days:A,weight:zte(h,d.birthDate,A)}));return{animal:d,gdp:g,formattedAge:b,latestWeight:v,chartData:w,interpolatedWeights:_}},[t,n,r]);if(!i)return f.jsx("div",{className:"text-center p-10",children:f.jsx("h1",{className:"text-2xl text-zinc-400",children:"Animal no encontrado."})});const{animal:a,gdp:o,formattedAge:s,latestWeight:l,chartData:c,interpolatedWeights:u}=i;return f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in pb-12",children:[f.jsxs("header",{className:"flex items-center pt-8 pb-4 px-4",children:[f.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"text-center flex-grow",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:a.id}),f.jsx("p",{className:"text-lg text-zinc-400",children:"Perfil de Crecimiento"})]}),f.jsx("div",{className:"w-8"})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 px-4",children:[f.jsx(Bg,{icon:vm,label:"Peso Actual",value:l.toFixed(2),unit:"Kg"}),f.jsx(Bg,{icon:Gf,label:"GDP General",value:o.overall?(o.overall*1e3).toFixed(0):"N/A",unit:"g/día"}),f.jsx(Bg,{icon:cf,label:"Edad Actual",value:s}),f.jsx(Bg,{icon:mH,label:"Nº Pesajes",value:c.length})]}),f.jsx("div",{className:"px-4",children:f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Curva de Crecimiento"}),f.jsx("div",{className:"w-full h-64",children:f.jsx(pi,{children:f.jsxs(pB,{data:c,margin:{top:5,right:20,left:-10,bottom:5},children:[f.jsx(Mm,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),f.jsx(Qn,{dataKey:"age",type:"number",domain:["dataMin","dataMax"],tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Edad (días)",position:"insideBottom",offset:-5,fill:"rgba(255,255,255,0.5)"}}),f.jsx(Zn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},label:{value:"Peso (Kg)",angle:-90,position:"insideRight",fill:"rgba(255,255,255,0.5)"}}),f.jsx(xn,{content:f.jsx(wCe,{})}),f.jsx(qs,{verticalAlign:"top",height:36}),f.jsx(Ac,{type:"monotone",dataKey:a.id,stroke:"#34C759",strokeWidth:2.5,dot:{r:4},activeDot:{r:6}})]})})})]})}),f.jsx("div",{className:"px-4",children:f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hitos de Crecimiento (Pesos Estimados)"}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(({days:d,weight:h})=>f.jsxs("div",{className:"bg-black/20 p-3 rounded-lg text-center",children:[f.jsxs("p",{className:"text-sm text-zinc-400",children:["Peso a los ",d," días"]}),f.jsx("p",{className:"text-xl font-bold text-white",children:h?`${h} Kg`:"---"})]},d))})]})})]})}const SCe=[{id:"lactokeeper",name:"LactoKeeper",icon:ym,color:"bg-brand-blue"},{id:"kilos",name:"Kilos",icon:vm,color:"bg-brand-green"}],ECe=({onSwitchModule:t})=>{const[e,n]=V.useState(!1),r=i=>{n(!1),t(i)};return f.jsxs("div",{className:"fixed bottom-24 right-4 z-40 flex flex-col items-end gap-4 pointer-events-none",children:[f.jsx("div",{className:`flex flex-col items-end gap-4 transition-all duration-300 ease-in-out ${e?"opacity-100":"opacity-0 translate-y-4"}`,children:SCe.map(i=>f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-sm font-semibold px-3 py-1 rounded-md shadow-lg",children:i.name}),f.jsx("button",{onClick:()=>r(i.id),className:`w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg ${i.color} transform transition-transform hover:scale-110 pointer-events-auto`,"aria-label":`Cambiar al módulo ${i.name}`,children:f.jsx(i.icon,{size:28})})]},i.id))}),f.jsx("button",{onClick:()=>n(!e),className:"w-16 h-16 rounded-full flex items-center justify-center text-black bg-brand-amber shadow-2xl shadow-black/50 transform transition-transform duration-200 hover:scale-110 pointer-events-auto","aria-label":"Seleccionar módulo",children:f.jsx("div",{className:`transform transition-transform duration-300 ${e?"rotate-180 scale-75":"rotate-0"}`,children:e?f.jsx(jc,{size:32}):f.jsx(yH,{size:32})})})]})},ACe=({initialPage:t,onSwitchModule:e})=>{const[n,r]=V.useState({name:"lots-dashboard"}),[i,a]=V.useState([]);V.useEffect(()=>{t&&r(t)},[t]);const o=[{page:{name:"lots-dashboard"},label:"Lotes",icon:vH},{page:{name:"herd"},label:"Rebaño",icon:Yf},{page:{name:"add-animal"},label:"Añadir",icon:cl}],s=u=>{a(d=>[...d,n]),r(u)},l=()=>{const u=i[i.length-1];u?(a(d=>d.slice(0,-1)),r(u)):r({name:"lots-dashboard"})},c=()=>{switch(n.name){case"lots-dashboard":return f.jsx($k,{navigateTo:s});case"lot-detail":return f.jsx(Gte,{lotName:n.lotName,onBack:l,navigateTo:s});case"breeding-group-detail":return f.jsx(vne,{groupId:n.groupId,onBack:l,navigateTo:s});case"herd":return f.jsx(ene,{navigateTo:s,locationFilter:n.locationFilter});case"manage-lots":return f.jsx(mne,{onBack:()=>r({name:"herd"})});case"management":return f.jsx(R5,{onSelectAnimal:u=>s({name:"rebano-profile",animalId:u})});case"add-animal":return f.jsx(Yte,{onBack:()=>r({name:"herd"})});case"rebano-profile":return f.jsx(hne,{animalId:n.animalId,onBack:l,navigateTo:s});case"lactation-profile":return f.jsx(gCe,{animalId:n.animalId,onBack:l});case"growth-profile":return f.jsx(_Ce,{animalId:n.animalId,onBack:l});case"feeding-plan":return f.jsx(vCe,{lotName:n.lotName,onBack:l});case"batch-treatment":return f.jsx(xCe,{lotName:n.lotName,onBack:l});default:return f.jsx($k,{navigateTo:s})}};return f.jsxs("div",{className:"font-sans text-gray-200 min-h-screen animate-fade-in",children:[f.jsx("div",{className:"pb-24",children:c()}),f.jsx(ECe,{onSwitchModule:e}),f.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:[o.map(u=>{let d=!1;return u.label==="Lotes"?d=["lots-dashboard","lot-detail","breeding-group-detail","feeding-plan","batch-treatment"].includes(n.name):(u.label==="Rebaño"||u.label==="Añadir")&&(d=["herd","rebano-profile","manage-lots","add-animal","lactation-profile","growth-profile"].includes(n.name)),f.jsxs("button",{onClick:()=>{a([]),r(u.page)},className:`relative flex flex-col items-center justify-center pt-3 pb-2 w-full transition-colors ${d?"text-amber-400":"text-gray-500 hover:text-white"}`,children:[f.jsx(u.icon,{}),f.jsx("span",{className:"text-xs font-semibold mt-1",children:u.label})]},u.label)}),f.jsxs("button",{onClick:()=>lf.signOut(),className:"relative flex flex-col items-center justify-center pt-3 pb-2 w-full text-gray-500 hover:text-red-400 transition-colors",children:[f.jsx(u4,{}),f.jsx("span",{className:"text-xs font-semibold mt-1",children:"Salir"})]})]})]})};function ND({onNavigateToAnalysis:t}){const{animals:e,weighings:n,parturitions:r,isLoading:i}=It(),[a,o]=V.useState("current"),[s,l]=V.useState(!1),[c,u]=V.useState(!1),d=V.useMemo(()=>{if(i||!n.length||!e.length)return{herdAverage:0,activeGoats:0,herdLactationCurve:[],gaussData:{distribution:[],mean:0,stdDev:0}};let h=0;if(n.length>0){const C=n.reduce((E,T)=>T.date>E?T.date:E,n[0].date);h=new Set(n.filter(E=>E.date===C).map(E=>E.goatId)).size}let g=n;if(a==="current"){const C=new Set(r.filter(E=>E.status==="activa").map(E=>E.goatId));g=n.filter(E=>C.has(E.goatId))}const b={};g.forEach(C=>{const E=r.filter(j=>j.goatId===C.goatId&&new Date(C.date)>=new Date(j.parturitionDate)).sort((j,D)=>new Date(D.parturitionDate).getTime()-new Date(j.parturitionDate).getTime())[0];if(!E)return;const T=Pm(E.parturitionDate,C.date);b[T]||(b[T]={totalKg:0,count:0}),b[T].totalKg+=C.kg,b[T].count++});const v=Object.entries(b).map(([C,E])=>({del:parseInt(C),kg:E.totalKg/E.count,name:"Promedio Rebaño"})).sort((C,E)=>C.del-E.del),w=e.map(C=>{const E=n.filter(j=>j.goatId===C.id);return E.length===0?null:{avg:E.reduce((j,D)=>j+D.kg,0)/E.length}}).filter(Boolean),x=w.length>0?w.reduce((C,E)=>C+E.avg,0)/w.length:0,_=w.length>0?Math.sqrt(w.reduce((C,E)=>C+Math.pow(E.avg-x,2),0)/w.length):0,A=[];if(w.length>0){const C=Math.floor(Math.min(...w.map(T=>T.avg))*4)/4,E=Math.ceil(Math.max(...w.map(T=>T.avg))*4)/4;for(let T=C;T<=E;T+=.25){const j=T,D=T+.25,N=w.filter($=>$.avg>=j&&$.avg<D).length;N>0&&A.push({range:`${j.toFixed(2)}`,count:N})}}const k={distribution:A,mean:x,stdDev:_};return{herdAverage:n.length>0?n.reduce((C,E)=>C+E.kg,0)/n.length:0,activeGoats:h,herdLactationCurve:v,gaussData:k}},[e,n,r,i,a]);return i?f.jsx("div",{className:"text-center p-10",children:f.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando datos del rebaño..."})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[f.jsxs("header",{className:"text-center pt-8 pb-4",children:[f.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Dashboard"}),f.jsx("p",{className:"text-xl text-zinc-400",children:"Análisis de LactoKeeper"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[f.jsx(gm,{size:14})," ",f.jsx("span",{children:"Promedio Global"})]}),f.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[d.herdAverage.toFixed(2)," ",f.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"Kg"})]})]}),f.jsxs("button",{onClick:t,className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border text-left hover:border-brand-orange transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[f.jsx(kH,{}),f.jsx("span",{children:"Animales en Ordeño"})]}),f.jsx("p",{className:"text-4xl font-bold tracking-tight text-white",children:d.activeGoats})]})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[f.jsx(aO,{size:16}),f.jsx("span",{children:"Curva de Lactancia"}),f.jsx("button",{onClick:()=>l(!0),className:"text-zinc-500 hover:text-white transition-colors",children:f.jsx(nv,{size:14})})]}),f.jsxs("div",{className:"flex bg-zinc-900/80 rounded-lg p-0.5",children:[f.jsx("button",{onClick:()=>o("current"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="current"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Actual"}),f.jsx("button",{onClick:()=>o("historical"),className:`px-2 py-0.5 text-xs font-semibold rounded-md transition-colors ${a==="historical"?"bg-brand-orange text-white":"text-zinc-400 hover:bg-zinc-700/50"}`,children:"Histórico"})]})]}),f.jsx("div",{className:"w-full h-48",children:f.jsx(pi,{children:f.jsxs(hCe,{data:d.herdLactationCurve,margin:{top:5,right:10,left:0,bottom:5},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"lactationGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#FF9500",stopOpacity:.7}),f.jsx("stop",{offset:"80%",stopColor:"#34C759",stopOpacity:.1})]})}),f.jsx(Qn,{dataKey:"del",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),f.jsx(Zn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,domain:["dataMin - 0.5","dataMax + 0.5"],width:30}),f.jsx(xn,{content:f.jsx(f0,{})}),f.jsx(gl,{type:"monotone",dataKey:"kg",stroke:"#FF9500",strokeWidth:2.5,fill:"url(#lactationGradient)"})]})})})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsx("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase tracking-wider",children:[f.jsx(aO,{size:16}),f.jsx("span",{children:"Distribución del Rebaño"}),f.jsx("button",{onClick:()=>u(!0),className:"text-zinc-500 hover:text-white transition-colors",children:f.jsx(nv,{size:14})})]})}),f.jsx("div",{className:"w-full h-48",children:f.jsx(pi,{children:f.jsxs(Xa,{data:d.gaussData.distribution,margin:{top:10,right:10,left:0,bottom:0},children:[f.jsx(Mm,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)"}),f.jsx(Qn,{dataKey:"range",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1}),f.jsx(Zn,{orientation:"right",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12},stroke:"rgba(255,255,255,0.3)",tickLine:!1,axisLine:!1,allowDecimals:!1,width:30}),f.jsx(xn,{content:f.jsx(f0,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),f.jsx(Pr,{dataKey:"count",fill:"rgba(255, 255, 255, 0.4)",name:"Nº de Cabras"}),f.jsx(Bb,{x:d.gaussData.mean.toFixed(2),stroke:"#34C759",strokeWidth:2,label:{value:"μ",fill:"#34C759",position:"insideTopLeft"}})]})})})]})]}),f.jsx(Nt,{isOpen:s,onClose:()=>l(!1),title:"¿Qué es la Curva de Lactancia del Rebaño?",children:f.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[f.jsx("p",{children:'Este gráfico revela la **"personalidad productiva"** de tu rebaño. No es un promedio simple, sino una línea de tiempo del rendimiento promedio.'}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-white mb-1",children:"¿Cómo se Calcula?"}),f.jsx("p",{className:"text-sm",children:'Para cada "Día en Leche" (DEL) en el eje horizontal, el sistema agrupa los pesajes de **todos los animales** que han pasado por ese día de su ciclo y calcula el promedio.'}),f.jsxs("p",{className:"text-sm mt-2 bg-black/20 p-2 rounded-md",children:[f.jsx("strong",{children:"Ejemplo:"}),' El punto en "DEL 50" es el promedio de todos los pesajes que se hicieron a cualquier animal cuando estaba exactamente en su día 50 de lactancia.']})]}),f.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Te permite responder visualmente a preguntas clave como: ¿Cuándo ocurre el pico de producción del rebaño? y ¿Qué tan persistente es la lactancia después del pico?"})]})}),f.jsx(Nt,{isOpen:c,onClose:()=>u(!1),title:"¿Qué es la Distribución del Rebaño?",children:f.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[f.jsx("p",{children:"Este gráfico, conocido como Campana de Gauss o distribución normal, clasifica el rendimiento promedio de cada animal en el rebaño."}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-white mb-1",children:"Media (μ)"}),f.jsx("p",{className:"text-sm",children:"La línea verde marcada como **μ** representa el **promedio de producción de todo el rebaño**. Es el punto de referencia central."})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-white mb-1",children:"Las Barras"}),f.jsx("p",{className:"text-sm",children:"Cada barra muestra cuántos animales caen dentro de un rango específico de producción. Una barra alta en el centro (cerca de μ) indica que la mayoría de tu rebaño tiene un rendimiento promedio y consistente."})]}),f.jsx("p",{className:"pt-2 border-t border-zinc-700/80",children:"Esta herramienta es clave para identificar rápidamente a los animales de élite (extremo derecho) y a los que podrían necesitar atención (extremo izquierdo)."})]})})]})}const d0=(t,e,n,r,i)=>V.useMemo(()=>{if(!t.length||!e.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const a=t.reduce((v,w)=>{const x=e.find(j=>j.id===w.goatId);if(!x)return v;const _=r.filter(j=>j.goatId===x.id&&new Date(j.parturitionDate)<=new Date(w.date)).sort((j,D)=>new Date(D.parturitionDate).getTime()-new Date(j.parturitionDate).getTime())[0];if(!_)return v;const A=n.filter(j=>j.goatId===x.id).sort((j,D)=>new Date(D.date).getTime()-new Date(j.date).getTime()),k=Pm(_.parturitionDate,w.date),S=i?Fte(w.kg,k):w.kg;let C="single";const E=.15,T=A.findIndex(j=>j.id===w.id);if(T>0){const j=A[T-1],D=w.kg-j.kg;D>E?C="up":D<-E?C="down":C="stable"}return v.push({...x,latestWeighing:w.kg,weighingId:w.id,del:k,score:S,trend:C,date:w.date}),v},[]);if(!a.length)return{classifiedAnimals:[],distribution:[],mean:0,stdDev:0,weightedMean:0};const o=i?"score":"latestWeighing",s=a.reduce((v,w)=>v+w[o],0)/a.length,l=Math.sqrt(a.reduce((v,w)=>v+Math.pow(w[o]-s,2),0)/a.length),c=s-.4*l,u=s+.4*l,d=a.map(v=>{const w=v[o];let x="Promedio";return l>.1&&(w<c?x="Pobre":w>u&&(x="Sobresaliente")),{...v,classification:x}}),h=[{name:"Pobre",count:d.filter(v=>v.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:d.filter(v=>v.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:d.filter(v=>v.classification==="Sobresaliente").length,fill:"#34C759"}],g=a.length>0?a.reduce((v,w)=>v+w.latestWeighing,0)/a.length:0,b=a.length>0?a.reduce((v,w)=>v+w.score,0)/a.length:0;return{classifiedAnimals:d,distribution:h,mean:g,stdDev:l,weightedMean:b}},[t,e,n,r,i]),TCe=({trend:t,isLongTrend:e})=>{if(!t||t==="single")return null;const n={up:"text-green-400",down:"text-red-400",stable:"text-zinc-500"};return f.jsxs("div",{className:`flex items-center font-semibold text-sm ${n[t]}`,children:[t==="up"&&f.jsx(AA,{size:16}),t==="down"&&f.jsx(EA,{size:16}),t==="stable"&&f.jsx(f4,{size:16}),e&&f.jsx("span",{className:"ml-0.5 font-bold",children:"+"})]})},PCe=(t,e)=>{const[n,r]=V.useState(null),[i,a]=V.useState(0),[o,s]=V.useState(!1),[l,c]=V.useState([]);return V.useEffect(()=>{const u=e.filter(w=>w.goatId===t).sort((w,x)=>new Date(x.date).getTime()-new Date(w.date).getTime());if(u.length<2){r(u.length===1?"single":null),c(u),a(0),s(!1);return}const d=u[0].kg,h=u[1].kg,g=d-h,b=.15;a(g),c([u[0],u[1]]);let v="stable";if(g>b&&(v="up"),g<-b&&(v="down"),r(v),u.length>=3){const w=u[2].kg,x=h-w;g>b&&x>b||g<-b&&x<-b?s(!0):s(!1)}else s(!1)},[t,e]),{trend:n,difference:i,isLongTrend:o,lastTwoWeighings:l}},CCe=t=>{const{x:e,y:n,width:r,height:i,value:a,total:o}=t;if(o===0||a===0)return null;const s=(a/o*100).toFixed(0);return f.jsx("text",{x:e+r/2,y:n+i/2,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",fontSize:"14px",fontWeight:"bold",opacity:.8,children:`${s}%`})},jw=({animal:t,onSelectAnimal:e})=>{var c,u;const{weighings:n}=It(),{isLongTrend:r,lastTwoWeighings:i,difference:a}=PCe(t.id,n),[o,s]=V.useState(!1),l=d=>{d.stopPropagation(),t.trend&&t.trend!=="single"&&s(!0)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{onClick:()=>e(t.id),className:"w-full cursor-pointer text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),f.jsxs("p",{className:"text-sm text-zinc-400",children:["DEL: ",t.del," | Score: ",t.score.toFixed(2)," | ",f.jsxs("span",{className:"font-semibold text-brand-orange",children:[" Pesaje: ",t.latestWeighing.toFixed(2)," Kg"]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors disabled:cursor-not-allowed",disabled:!t.trend||t.trend==="single",children:f.jsx(TCe,{trend:t.trend,isLongTrend:r})}),f.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-brand-red/80":t.classification==="Sobresaliente"?"bg-brand-green/80":"bg-gray-500/80"}`,children:t.classification}),f.jsx(ll,{className:"text-zinc-600"})]})]}),f.jsx(Nt,{isOpen:o,onClose:()=>s(!1),title:`Tendencia de ${t.id}`,children:f.jsxs("div",{className:"text-center text-white space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-sm text-zinc-400",children:["Pesaje Anterior (",i[1]?new Date(i[1].date).toLocaleDateString():"N/A",")"]}),f.jsxs("p",{className:"text-2xl font-semibold",children:[((c=i[1])==null?void 0:c.kg.toFixed(2))||"N/A"," Kg"]})]}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-sm text-zinc-400",children:["Último Pesaje (",i[0]?new Date(i[0].date).toLocaleDateString():"N/A",")"]}),f.jsxs("p",{className:"text-2xl font-semibold",children:[((u=i[0])==null?void 0:u.kg.toFixed(2))||"N/A"," Kg"]})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-zinc-400 text-base mb-1",children:"Diferencia"}),f.jsxs("p",{className:`text-3xl font-bold ${a>0?"text-brand-green":a<0?"text-brand-red":"text-zinc-400"}`,children:[a>0?"+":"",a.toFixed(2)," Kg"]})]})]})})]})};function OCe({onSelectAnimal:t,selectedDate:e}){const{animals:n,parturitions:r,weighings:i,isLoading:a}=It(),[o,s]=V.useState(!1),[l,c]=V.useState("all"),[u,d]=V.useState("all"),[h,g]=V.useState("all"),[b,v]=V.useState(null),[w,x]=V.useState("all"),[_,A]=V.useState(!1),[k,S]=V.useState(!1),{weighingsByDate:C,availableDates:E}=V.useMemo(()=>{const Ce={};i.forEach(oe=>{Ce[oe.date]||(Ce[oe.date]=[]),Ce[oe.date].push(oe)});const Ye=Object.keys(Ce).sort((oe,ye)=>new Date(ye).getTime()-new Date(oe).getTime());return{weighingsByDate:Ce,availableDates:Ye}},[i]),[T,j]=V.useState(0);V.useEffect(()=>{if(e&&E.length>0){const Ce=E.indexOf(e);Ce!==-1&&j(Ce)}},[e,E]);const D=E[T],N=V.useMemo(()=>{const Ce=C[D]||[],Ye=new Map;return Ce.forEach(oe=>{Ye.set(oe.goatId,oe)}),Array.from(Ye.values())},[D,C]),{classifiedAnimals:$,distribution:L,mean:Q,stdDev:ne,weightedMean:ce}=d0(N,n,i,r,o),le=V.useMemo(()=>{if(T+1<E.length){const Ce=E[T+1];return C[Ce]||[]}return[]},[T,E,C]),Y=d0(le,n,i,r,!1),G=V.useMemo(()=>{const Ce=new Set($.map(rt=>rt.id));let Ye=new Set,oe=new Set;const ye=new Set(Y.classifiedAnimals.map(rt=>rt.id));T===E.length-1&&E.length>0?Ye=Ce:(Ye=new Set([...Ce].filter(rt=>!ye.has(rt))),oe=new Set([...ye].filter(rt=>!Ce.has(rt))));const Ae=E.slice(0,3).map(rt=>{const Wt=C[rt]||[];if(Wt.length===0)return{date:rt,avg:0};const Pn=Wt.reduce((ii,qn)=>ii+qn.kg,0);return{date:new Date(rt).toLocaleDateString("es-VE",{month:"short",day:"numeric"}),avg:Pn/Wt.length}}).reverse();let se=null,Be=null,ze=0,qe=0,nt=0;if($.length>0){const rt=$.map(Wt=>Wt.latestWeighing);ze=rt.reduce((Wt,Pn)=>Wt+Pn,0),qe=Math.max(...rt),nt=Math.min(...rt),se=$.find(Wt=>Wt.latestWeighing===qe)||null,Be=$.find(Wt=>Wt.latestWeighing===nt)||null}const At=Q-ne,on=Q+ne,pt=$.filter(rt=>rt.latestWeighing>=At&&rt.latestWeighing<=on).length,Ct=$.length>0?pt/$.length*100:0;return{trendData:Ae,kpi:{total:ze,max:qe,min:nt},topPerformer:se,bottomPerformer:Be,consistency:{percentage:Ct},newAnimalIds:Ye,exitingAnimalIds:oe}},[$,Y.classifiedAnimals,E,T,C,Q,ne]),pe=V.useMemo(()=>{let Ce=[...$];return l!=="all"&&(Ce=Ce.filter(Ye=>Ye.classification===l)),w==="new"&&(Ce=Ce.filter(Ye=>G.newAnimalIds.has(Ye.id))),u!=="all"&&(Ce=Ce.filter(Ye=>Ye.trend===u)),h!=="all"&&(Ce=Ce.filter(Ye=>{const oe=Ye.del;return h==="first"?oe>0&&oe<=100:h==="second"?oe>100&&oe<=200:h==="third"?oe>200&&oe<270:h==="drying"?oe>=270:!0})),Ce.sort((Ye,oe)=>Ye.id.localeCompare(oe.id))},[$,l,u,h,w,G.newAnimalIds]),{searchTerm:Se,setSearchTerm:xe,filteredItems:je}=N5(pe,["id"]),Ke=V.useMemo(()=>{const Ce=$.length;if(Ce===0)return{up:0,down:0,new:0,stable:0,total:0};const Ye=$.filter(se=>se.trend==="up").length,oe=$.filter(se=>se.trend==="down").length,ye=$.filter(se=>se.trend==="stable").length,Ae=$.filter(se=>se.trend==="single").length;return{up:Ye/Ce*100,down:oe/Ce*100,stable:ye/Ce*100,new:Ae/Ce*100,total:Ce}},[$]),ft=()=>{c("all"),d("all"),g("all"),x("all")},ct=Ce=>{if(Ce!=null&&Ce.name){const Ye=Ce.name;c(oe=>oe===Ye?"all":Ye)}};return a?f.jsx("div",{className:"text-center p-10",children:f.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando animales..."})}):f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[f.jsx(D5,{title:"Análisis de Rebaño",subtitle:"Animales en Ordeño",searchTerm:Se,setSearchTerm:xe}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border flex justify-between items-center",children:[f.jsx("button",{onClick:()=>j(Ce=>Math.min(Ce+1,E.length-1)),disabled:T>=E.length-1,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:f.jsx(dH,{})}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-lg font-semibold text-white",children:D?new Date(D).toLocaleDateString("es-VE",{year:"numeric",month:"long",day:"numeric"}):"Sin Datos"}),f.jsxs("p",{className:"text-sm text-zinc-400",children:[N.length," animales pesados"]})]}),f.jsx("button",{onClick:()=>j(Ce=>Math.max(Ce-1,0)),disabled:T===0,className:"p-2 rounded-full hover:bg-zinc-700/50 disabled:opacity-30",children:f.jsx(ll,{})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("button",{onClick:()=>v("media"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-orange transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[f.jsx(ym,{size:14}),f.jsx("span",{children:o?"Media Ponderada":"Media de Prod."})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[(o?ce:Q).toFixed(2)," ",f.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[f.jsx(CH,{size:14}),f.jsx("span",{children:"Prod. Total"})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[G.kpi.total.toFixed(2)," ",f.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]}),f.jsxs("button",{onClick:()=>v("stdDev"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-orange transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[f.jsx(jH,{size:14}),f.jsx("span",{children:"Consistencia"})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[ne.toFixed(2)," ",f.jsx("span",{className:"text-lg text-zinc-400",children:"σ"})]})]}),f.jsxs("button",{onClick:()=>v("rango"),className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-3 border border-brand-border text-left hover:border-brand-orange transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold text-xs uppercase",children:[f.jsx(Gf,{size:14}),f.jsx("span",{children:"Rango Prod."})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[G.kpi.min.toFixed(2)," - ",G.kpi.max.toFixed(2)," ",f.jsx("span",{className:"text-lg text-zinc-400",children:"Kg"})]})]})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-brand-border pb-2 mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(X0,{className:"text-brand-orange",size:18}),f.jsx("h3",{className:"text-lg font-semibold text-white",children:"Análisis del Día"}),f.jsx("button",{onClick:()=>A(!0),className:"text-zinc-500 hover:text-white",children:f.jsx(nv,{size:14})})]}),f.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-300 cursor-pointer",children:[f.jsx(cp,{size:14,className:o?"text-brand-orange":"text-zinc-500"}),f.jsx("span",{children:"Ponderado a DEL"}),f.jsx("button",{type:"button",onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),S(!0)},className:"text-zinc-500 hover:text-white -ml-1",children:f.jsx(nv,{size:14})}),f.jsx("input",{type:"checkbox",checked:o,onChange:Ce=>s(Ce.target.checked),className:"form-checkbox h-4 w-4 bg-zinc-700 border-zinc-600 rounded text-brand-orange focus:ring-brand-orange focus:ring-offset-0"})]})]}),f.jsx("div",{className:"w-full h-48",children:f.jsx(pi,{children:f.jsxs(Xa,{data:L,margin:{top:20,right:10,left:-20,bottom:0},children:[f.jsx(Qn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(Zn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(xn,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),f.jsxs(Pr,{dataKey:"count",onClick:ct,cursor:"pointer",children:[L.map(Ce=>f.jsx(ud,{fill:Ce.fill,className:`${l!=="all"&&l!==Ce.name?"opacity-30":"opacity-100"} transition-opacity`},Ce.name)),f.jsx(xi,{dataKey:"count",content:f.jsx(CCe,{total:$.length})})]})]})})}),f.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[f.jsxs("span",{children:["μ = ",Q.toFixed(2)]})," | ",f.jsxs("span",{children:["σ = ",ne.toFixed(2)]})]})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center px-2 pt-2",children:[f.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[f.jsx("button",{onClick:()=>d("all"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors ${u==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),f.jsxs("button",{onClick:()=>d("up"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${u==="up"?"bg-brand-green/80 text-white":"bg-zinc-800/50 text-brand-green"}`,children:[f.jsx(AA,{size:14})," ",f.jsxs("span",{children:[Ke.up.toFixed(0),"%"]})]}),f.jsxs("button",{onClick:()=>d("down"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${u==="down"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"}`,children:[f.jsx(EA,{size:14})," ",f.jsxs("span",{children:[Ke.down.toFixed(0),"%"]})]}),f.jsxs("button",{onClick:()=>d("single"),className:`px-2 py-1 text-xs font-semibold rounded-md transition-colors flex items-center space-x-1 ${u==="single"?"bg-brand-blue/80 text-white":"bg-zinc-800/50 text-brand-blue"}`,children:[f.jsx(OH,{size:14})," ",f.jsxs("span",{children:[Ke.new.toFixed(0),"%"]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("div",{className:"text-sm font-medium text-zinc-500",children:[je.length," / ",$.length]}),f.jsx("button",{onClick:ft,title:"Limpiar todos los filtros",className:"text-zinc-500 hover:text-white",children:f.jsx(TA,{size:16})})]})]}),f.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[f.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Fase Lactancia:"}),f.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[f.jsx("button",{onClick:()=>g("all"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="all"?"bg-zinc-600 text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"Todos"}),f.jsx("button",{onClick:()=>g("first"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="first"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"1er T"}),f.jsx("button",{onClick:()=>g("second"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="second"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"2do T"}),f.jsx("button",{onClick:()=>g("third"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="third"?"bg-brand-blue text-white":"bg-zinc-800/50 text-zinc-300"}`,children:"3er T"}),f.jsx("button",{onClick:()=>g("drying"),className:`px-2 py-1 text-xs font-semibold rounded-md ${h==="drying"?"bg-brand-red/80 text-white":"bg-zinc-800/50 text-brand-red"}`,children:"A Secado"})]})]}),f.jsxs("div",{className:"flex justify-between items-center p-2 border-t border-brand-border",children:[f.jsx("div",{className:"text-xs font-semibold text-zinc-400",children:"Movimientos:"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("button",{onClick:()=>x(Ce=>Ce==="new"?"all":"new"),disabled:G.newAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${w==="new"?"bg-brand-green text-white shadow-lg shadow-green-500/20":"bg-zinc-800/50 text-zinc-300"} ${G.newAnimalIds.size>0&&w!=="new"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[f.jsx(xH,{size:14})," ",f.jsxs("span",{children:["Ingresos (",G.newAnimalIds.size,")"]})]}),f.jsxs("button",{onClick:()=>alert(`Animales que salieron del ordeño:
${[...G.exitingAnimalIds].join(`
`)}`),disabled:G.exitingAnimalIds.size===0,className:`px-3 py-1 text-xs font-semibold rounded-md flex items-center gap-1.5 transition-all ${w==="exiting"?"bg-brand-red text-white shadow-lg shadow-red-500/20":"bg-zinc-800/50 text-zinc-300"} ${G.exitingAnimalIds.size>0&&w!=="exiting"&&"animate-pulse"} disabled:opacity-40 disabled:cursor-not-allowed`,children:[f.jsx(u4,{size:14})," ",f.jsxs("span",{children:["Salidas (",G.exitingAnimalIds.size,")"]})]})]})]})]}),f.jsx("div",{className:"space-y-2",children:je.length>0?je.map(Ce=>f.jsx(jw,{animal:Ce,onSelectAnimal:t},Ce.weighingId||Ce.id)):f.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:f.jsx("p",{className:"text-zinc-400",children:Se?`No se encontraron resultados para "${Se}"`:"No se encontraron animales con los filtros actuales."})})}),f.jsx(Nt,{isOpen:b==="media",onClose:()=>v(null),title:"Tendencia de Producción Promedio",children:f.jsx("div",{className:"w-full h-56 -ml-4",children:f.jsx(pi,{width:"100%",height:"100%",children:f.jsxs(Xa,{data:G.trendData,margin:{top:20,right:20,left:-20,bottom:5},children:[f.jsx(Mm,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),f.jsx(Qn,{dataKey:"date",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(Zn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(xn,{cursor:{fill:"rgba(255, 255, 255, 0.05)"},contentStyle:{backgroundColor:"rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.2)"}}),f.jsx(Pr,{dataKey:"avg",name:"Promedio Kg",fill:"#FF9500",radius:[4,4,0,0],children:f.jsx(xi,{dataKey:"avg",position:"top",formatter:Ce=>Ce.toFixed(2),fill:"#FFF",fontSize:12})})]})})})}),f.jsx(Nt,{isOpen:b==="rango",onClose:()=>v(null),title:"Extremos de Producción del Día",children:f.jsxs("div",{className:"space-y-4",children:[G.topPerformer&&f.jsxs("div",{className:"bg-green-900/40 border border-green-500/50 rounded-2xl p-4",children:[f.jsx("h3",{className:"font-semibold text-brand-green mb-2",children:"Animal Estrella (Producción Máxima)"}),f.jsx(jw,{animal:G.topPerformer,onSelectAnimal:()=>{v(null),t(G.topPerformer.id)}})]}),G.bottomPerformer&&f.jsxs("div",{className:"bg-red-900/40 border border-red-500/50 rounded-2xl p-4",children:[f.jsx("h3",{className:"font-semibold text-brand-red mb-2",children:"Animal a Observar (Producción Mínima)"}),f.jsx(jw,{animal:G.bottomPerformer,onSelectAnimal:()=>{v(null),t(G.bottomPerformer.id)}})]})]})}),f.jsx(Nt,{isOpen:b==="stdDev",onClose:()=>v(null),title:"Análisis de Consistencia (σ)",children:f.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[f.jsx("p",{children:"La Desviación Estándar (σ) mide qué tan dispersa está la producción de tu rebaño. Un valor **bajo** es ideal, ya que indica un rebaño consistente y predecible."}),f.jsxs("div",{className:"bg-black/30 p-4 rounded-lg text-center",children:[f.jsx("p",{className:"text-sm uppercase text-zinc-400",children:"Rebaño dentro de 1σ de la media"}),f.jsxs("p",{className:"text-4xl font-bold text-brand-orange my-1",children:[G.consistency.percentage.toFixed(0),"%"]}),f.jsxs("p",{className:"text-sm text-zinc-400",children:["Esto significa que la mayoría de tu rebaño tiene un rendimiento muy cercano al promedio de ",f.jsxs("span",{className:"font-bold text-white",children:[Q.toFixed(2)," Kg"]}),"."]})]}),f.jsx("p",{className:"text-xs text-zinc-500 pt-2 border-t border-zinc-700",children:"En una distribución normal perfecta, este valor es del 68%. Un valor superior indica una consistencia excepcional."})]})}),f.jsx(Nt,{isOpen:_,onClose:()=>A(!1),title:"¿Qué es el Análisis del Ordeño?",children:f.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[f.jsx("p",{children:"Este panel clasifica a los animales en ordeño según su rendimiento, permitiéndote identificar rápidamente a los individuos de mayor y menor producción."}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-white mb-1",children:"Clasificación (Pobre, Promedio, Sobresaliente)"}),f.jsx("p",{className:"text-sm",children:"Se calcula usando la media (μ) y la desviación estándar (σ) de la producción. Los animales que se desvían significativamente del promedio se marcan como pobres o sobresalientes."})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-white mb-1",children:"Ponderado a DEL"}),f.jsxs("p",{className:"text-sm",children:["Al activar este interruptor (",f.jsx(cp,{size:12,className:"inline-block mb-0.5"}),'), el análisis se vuelve más inteligente. Otorga un mayor "score" a los animales que producen bien al inicio de su lactancia, ya que es más valioso que la misma producción en una etapa tardía.']})]})]})}),f.jsx(Nt,{isOpen:k,onClose:()=>S(!1),title:"¿Qué es el Score Ponderado?",children:f.jsxs("div",{className:"text-zinc-300 space-y-4 text-base",children:[f.jsx("p",{children:"El Score Ponderado ajusta la producción de un animal para premiar la **persistencia lechera**, un indicador clave de la calidad genética y la eficiencia."}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-white mb-1",children:"Fórmula Aplicada"}),f.jsx("div",{className:"bg-black/30 p-3 rounded-lg text-sm font-mono text-center text-orange-300",children:"Score = Kg × (1 + ((DEL - 50) / (DEL + 50)))"})]}),f.jsx("p",{className:"pt-2 border-t border-zinc-700/80 text-sm",children:"Esto significa que 2 Kg en el día **200** de lactancia obtendrán un score **mucho más alto** que 2 Kg en el día 40, ayudándote a identificar a tus animales más eficientes y persistentes."})]})})]})}const kCe=t=>V.useMemo(()=>{if(t.length===0)return{monthlyData:[]};const n=t.reduce((i,a)=>{const o=a.date.substring(0,7);return i[o]||(i[o]=[]),i[o].push(a),i},{});let r=Object.entries(n).map(([i,a])=>{const o=new Date(`${i}-02T12:00:00Z`),s=o.toLocaleString("es-VE",{month:"long",timeZone:"UTC"}),l=o.getUTCFullYear(),c=a.length,u=a.reduce((d,h)=>d+h.kg,0);return{periodLabel:`${s.charAt(0).toUpperCase()+s.slice(1)} ${l}`,periodId:i,totalKg:u,averageKg:c>0?u/c:0,weighingCount:c,animalCount:new Set(a.map(d=>d.goatId)).size,weighingEvents:new Set(a.map(d=>d.date)).size,weighings:a,newAnimalsWeighings:[]}}).sort((i,a)=>a.periodId.localeCompare(i.periodId));return r=r.map((i,a,o)=>{const s=o[a+1];if(s){const l=s.averageKg?(i.averageKg-s.averageKg)/s.averageKg*100:void 0,c=s.animalCount?(i.animalCount-s.animalCount)/s.animalCount*100:void 0,u=new Set(s.weighings.map(v=>v.goatId)),d=new Set(i.weighings.map(v=>v.goatId)),h=new Set([...d].filter(v=>!u.has(v))),g=i.weighings.filter(v=>h.has(v.goatId)),b=[...u].filter(v=>!d.has(v)).length;return{...i,avgKgChange:l,animalCountChange:c,newAnimalsWeighings:g,previousAnimalCount:s.animalCount,exitingAnimalCount:b}}return{...i,newAnimalsWeighings:i.weighings,previousAnimalCount:0,exitingAnimalCount:0}}),{monthlyData:r,quarterlyData:[],yearlyData:[]}},[t]),fy=({value:t})=>{if(t===void 0||isNaN(t))return null;const e=t>0,n=e?"text-brand-green":"text-brand-red",r=e?AA:EA;return f.jsxs("span",{className:`flex items-center text-sm font-bold ${n}`,children:[f.jsx(r,{size:16,className:"mr-0.5"}),t.toFixed(1),"%"]})},ICe=({stats:t,onClick:e})=>f.jsxs("button",{onClick:e,className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-orange transition-colors",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-lg text-white",children:t.periodLabel}),f.jsxs("p",{className:"text-sm text-zinc-400",children:["Prom: ",t.averageKg.toFixed(2)," Kg | ",t.animalCount," animales"]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(fy,{value:t.avgKgChange}),f.jsx(ll,{className:"text-zinc-600"})]})]}),mB=({weighing:t,onSelectAnimal:e})=>f.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-black/20 rounded-lg p-3 border border-zinc-700/50 flex justify-between items-center hover:border-orange-400/50",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsx("div",{children:f.jsxs("p",{className:"font-bold text-base text-white flex items-center gap-2",children:[t.id,f.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full text-white ${t.classification==="Pobre"?"bg-brand-red/80":t.classification==="Sobresaliente"?"bg-brand-green/80":"bg-gray-500/80"}`,children:t.classification})]})})}),f.jsxs("p",{className:"font-semibold text-lg text-white",children:[t.latestWeighing.toFixed(2)," ",f.jsx("span",{className:"text-base font-medium text-zinc-400",children:"Kg"})]})]}),gB=t=>{const{x:e,y:n,width:r,value:i,total:a}=t;if(a===0||i===0)return null;const o=(i/a*100).toFixed(0);return f.jsx("text",{x:e+r/2,y:n+20,fill:"#fff",textAnchor:"middle",fontSize:"12px",fontWeight:"bold",children:`${o}%`})},jCe=({isOpen:t,onClose:e,data:n,periodLabel:r,onSelectAnimal:i})=>{const{animals:a,weighings:o,parturitions:s}=It(),[l,c]=V.useState("all"),u=d0((n==null?void 0:n.weighings)||[],a,o,s,!1),d=V.useMemo(()=>l==="all"?u.classifiedAnimals:u.classifiedAnimals.filter(g=>g.classification===l),[u.classifiedAnimals,l]),h=g=>{if(g!=null&&g.name){const b=g.name;c(v=>v===b?"all":b)}};return!t||!n?null:f.jsx(Nt,{isOpen:t,onClose:e,title:`Análisis de Nuevos Ingresos - ${r}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[f.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[f.jsx(gm,{size:14}),"Promedio"]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[u.mean.toFixed(2),f.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]}),f.jsxs("div",{className:"bg-black/20 p-3 rounded-2xl",children:[f.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[f.jsx(Yf,{size:14}),"Animales"]}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.classifiedAnimals.length})]})]}),f.jsx("div",{className:"bg-black/20 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:f.jsx("div",{className:"w-full h-48",children:f.jsx(pi,{children:f.jsxs(Xa,{data:u.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[f.jsx(Qn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(Zn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(xn,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),f.jsxs(Pr,{dataKey:"count",onClick:h,cursor:"pointer",children:[u.distribution.map(g=>f.jsx(ud,{fill:g.fill,className:`${l!=="all"&&l!==g.name?"opacity-30":"opacity-100"}`},g.name)),f.jsx(xi,{dataKey:"count",content:f.jsx(gB,{total:u.classifiedAnimals.length})})]})]})})})}),f.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:d.sort((g,b)=>b.latestWeighing-g.latestWeighing).map(g=>f.jsx(mB,{weighing:g,onSelectAnimal:i},g.weighingId||g.id))})]})})};function NCe({onSelectAnimal:t,selectedPeriod:e,setSelectedPeriod:n}){const{animals:r,weighings:i,parturitions:a,isLoading:o}=It(),[s,l]=V.useState("monthly"),[c,u]=V.useState(!1),[d,h]=V.useState(null),[g,b]=V.useState("all"),{monthlyData:v}=kCe(i),w=d0((e==null?void 0:e.weighings)||[],r,i,a,!1),x=V.useMemo(()=>g==="all"?w.classifiedAnimals:w.classifiedAnimals.filter(S=>S.classification===g),[w.classifiedAnimals,g]),_=S=>{if(S!=null&&S.name){const C=S.name;b(E=>E===C?"all":C)}},k={monthly:v,quarterly:[],yearly:[]}[s];return o?f.jsx("div",{className:"text-center p-10",children:f.jsx("h1",{className:"text-2xl text-zinc-400",children:"Cargando historial..."})}):e?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12 animate-fade-in",children:[f.jsxs("header",{className:"flex items-center pt-8 pb-4",children:[f.jsx("button",{onClick:()=>{n(null),b("all")},className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"text-center flex-grow",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:e.periodLabel}),f.jsx("p",{className:"text-lg text-zinc-400",children:"Análisis del Período"})]}),f.jsx("div",{className:"w-8"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[f.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[f.jsx(gm,{size:14}),"Promedio / Animal"]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.averageKg.toFixed(2),f.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]}),f.jsx(fy,{value:e.avgKgChange})]})]}),f.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[f.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[f.jsx(cf,{size:14}),"Eventos de Pesaje"]}),f.jsx("p",{className:"text-2xl font-bold text-white",children:e.weighingEvents})]}),f.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[f.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[f.jsx(Yf,{size:14}),"Animales Ordeñados"]}),f.jsxs("button",{onClick:()=>u(!0),className:"flex items-baseline gap-2 w-full text-left",children:[f.jsx("p",{className:"text-2xl font-bold text-white",children:e.animalCount}),f.jsx(fy,{value:e.animalCountChange})]})]}),f.jsxs("div",{className:"bg-brand-glass p-3 rounded-2xl",children:[f.jsxs("div",{className:"text-xs uppercase text-zinc-400 mb-1 flex items-center gap-1",children:[f.jsx(Gf,{size:14}),"Total Registrado"]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.totalKg.toFixed(0),f.jsx("span",{className:"text-lg ml-1 text-zinc-400",children:"Kg"})]})]})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsxs("div",{className:"flex items-center space-x-2 border-b border-brand-border pb-2 mb-4",children:[f.jsx(X0,{className:"text-brand-orange",size:18}),f.jsx("h3",{className:"text-lg font-semibold text-white",children:"Distribución del Período"})]}),f.jsx("div",{className:"w-full h-48",children:f.jsx(pi,{children:f.jsxs(Xa,{data:w.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[f.jsx(Qn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(Zn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(xn,{cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),f.jsxs(Pr,{dataKey:"count",onClick:_,cursor:"pointer",children:[w.distribution.map(S=>f.jsx(ud,{fill:S.fill,className:`${g!=="all"&&g!==S.name?"opacity-30":"opacity-100"} transition-opacity`},S.name)),f.jsx(xi,{dataKey:"count",content:f.jsx(gB,{total:w.classifiedAnimals.length})})]})]})})}),f.jsxs("div",{className:"text-center text-xs text-zinc-400 mt-2",children:[f.jsxs("span",{children:["μ = ",w.mean.toFixed(2)," Kg"]})," | ",f.jsxs("span",{children:["σ = ",w.stdDev.toFixed(2)]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1 mt-4",children:["Pesajes del Período (",x.length,")"]}),x.sort((S,C)=>C.latestWeighing-S.latestWeighing).map(S=>f.jsx(mB,{weighing:S,onSelectAnimal:t},S.weighingId||S.id))]})]}),f.jsx(Nt,{isOpen:c,onClose:()=>u(!1),title:"Variación de Animales en Ordeño",children:f.jsxs("div",{className:"text-zinc-300 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"font-semibold text-white mb-1",children:[e.periodLabel," vs Mes Anterior"]}),f.jsxs("p",{className:"text-sm text-zinc-400",children:["El mes anterior tenías ",f.jsx("span",{className:"font-bold text-white",children:e.previousAnimalCount})," animales en ordeño. Este mes tienes ",f.jsx("span",{className:"font-bold text-white",children:e.animalCount}),"."]}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsxs("p",{children:["El cambio neto es de ",f.jsx("span",{className:"font-bold text-white",children:e.animalCount-e.previousAnimalCount})," animales"]}),f.jsx(fy,{value:e.animalCountChange})]})]}),f.jsxs("div",{className:"pt-4 border-t border-zinc-700/80",children:[e.exitingAnimalCount>0&&f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Salieron del ordeño: ",f.jsx("span",{className:"font-bold text-brand-red",children:e.exitingAnimalCount})," animales."]}),e.newAnimalsWeighings.length>0&&f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Nuevos ingresos: ",f.jsx("span",{className:"font-bold text-brand-green",children:new Set(e.newAnimalsWeighings.map(S=>S.goatId)).size})," animales."]}),e.newAnimalsWeighings.length>0&&f.jsxs("button",{onClick:()=>{h({...e,weighings:e.newAnimalsWeighings}),u(!1)},className:"w-full mt-4 bg-brand-orange text-white font-semibold py-2 rounded-lg hover:bg-orange-600 transition-colors",children:["Analizar los ",new Set(e.newAnimalsWeighings.map(S=>S.goatId)).size," Nuevos Ingresos"]})]})]})}),f.jsx(jCe,{isOpen:!!d,onClose:()=>h(null),data:d,periodLabel:e.periodLabel,onSelectAnimal:t})]}):f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 pb-12",children:[f.jsxs("header",{className:"text-center pt-8 pb-4",children:[f.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Historial de Producción"}),f.jsx("p",{className:"text-xl text-zinc-400",children:"La película de tu rebaño"})]}),f.jsx("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-2 border border-brand-border",children:f.jsxs("div",{className:"flex bg-zinc-900/80 rounded-xl p-1 w-full",children:[f.jsx("button",{onClick:()=>l("monthly"),className:`w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg transition-colors ${s==="monthly"?"bg-brand-orange text-white":"text-zinc-300 hover:bg-zinc-700/50"}`,children:"Mensual"}),f.jsx("button",{disabled:!0,className:"w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed",children:"Trimestral"}),f.jsx("button",{disabled:!0,className:"w-1/3 px-4 py-1.5 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed",children:"Anual"})]})}),f.jsx("div",{className:"space-y-2",children:(k||[]).map(S=>f.jsx(ICe,{stats:S,onClick:()=>n(S)},S.periodId))})]})}const DCe=({onBack:t})=>{const{addWeighing:e,fetchData:n}=It(),[r,i]=V.useState(""),[a,o]=V.useState(""),[s,l]=V.useState(null),c=async u=>{if(u.preventDefault(),!r||!a){l({type:"error",text:"El ID y los Kg son obligatorios."});return}const d={goatId:r.toUpperCase().trim(),kg:parseFloat(a),date:new Date().toISOString().split("T")[0]};try{await e(d),l({type:"success",text:`Pesaje para ${r.toUpperCase().trim()} añadido.`}),i(""),o(""),await n()}catch(h){l({type:"error",text:"No se pudo guardar el pesaje."}),console.error(h)}setTimeout(()=>l(null),3e3)};return f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in",children:[f.jsxs("div",{className:"flex items-center border-b border-brand-border pb-2 mb-4",children:[f.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:20})}),f.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mx-auto pr-8",children:"Entrada Individual"})]}),f.jsxs("form",{onSubmit:c,className:"space-y-4",children:[f.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"ID del Animal",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none transition-colors"}),f.jsx("input",{type:"number",step:"0.01",value:a,onChange:u=>o(u.target.value),placeholder:"Producción en Kg",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none transition-colors"}),f.jsx("button",{type:"submit",className:"w-full bg-brand-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:"Guardar Pesaje"}),s&&f.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${s.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[s.type==="success"?f.jsx(rs,{size:18}):f.jsx(_i,{size:18}),f.jsx("span",{children:s.text})]})]})]})},MCe=({entry:t,onDelete:e,onRegister:n})=>{const r=t.isUnrecognized;return f.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${r?"bg-amber-900/40 border border-amber-500/50":"bg-black/20"}`,children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[r&&f.jsx(_i,{className:"text-amber-400 flex-shrink-0",size:18}),f.jsx("span",{className:"font-semibold text-white",children:t.goatId})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[r?f.jsx("button",{onClick:()=>n(t.goatId),className:"text-xs font-semibold bg-brand-orange text-white px-2 py-1 rounded-md hover:bg-orange-600",children:"Registrar Parto"}):f.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),f.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(jc,{size:16})})]})]})},RCe=({onBack:t,onNavigate:e})=>{const{animals:n,fetchData:r}=It(),[i,a]=V.useState(""),[o,s]=V.useState(""),[l,c]=V.useState([]),[u,d]=V.useState(null),[h,g]=V.useState(new Date().toISOString().split("T")[0]),[b,v]=V.useState({isOpen:!1,motherId:""}),w=V.useRef(null),x=V.useRef(null),_=V.useMemo(()=>new Set(n.map(D=>D.id)),[n]);V.useEffect(()=>{var D;(D=w.current)==null||D.focus()},[]);const A=()=>{var $;if(!i||!o)return;const D=i.toUpperCase().trim(),N={tempId:Date.now(),goatId:D,kg:parseFloat(o),date:h,isUnrecognized:!_.has(D)};c(L=>[N,...L]),a(""),s(""),($=w.current)==null||$.focus()},k=async()=>{d(null);const{currentUser:D}=lf;if(!D){d({type:"error",text:"Error de autenticación. No se pueden guardar los datos."});return}const N=l.filter($=>$.isUnrecognized).length;if(N>0){d({type:"error",text:`No se puede guardar. Tienes ${N} animal(es) sin registrar.`});return}if(l.length===0){d({type:"error",text:"No hay pesajes en la lista para guardar."});return}try{const $=ev(Ft),L=qr(Ft,"weighings");l.forEach(Q=>{const ne=jr(L),ce={goatId:Q.goatId,kg:Q.kg,date:Q.date,userId:D.uid};$.set(ne,ce)}),await $.commit(),d({type:"success",text:`${l.length} pesajes guardados y sincronizados con éxito.`}),c([]),setTimeout(()=>{e("analysis",{selectedDate:h})},1e3)}catch($){d({type:"error",text:"Ocurrió un error al guardar en la nube."}),console.error("Error en escritura por lote:",$)}},S=D=>{var N;D.key==="Enter"&&i&&(D.preventDefault(),(N=x.current)==null||N.focus())},C=D=>{D.key==="Enter"&&o&&(D.preventDefault(),A())},E=D=>{c(N=>N.filter($=>$.tempId!==D))},T=D=>{v({isOpen:!0,motherId:D})},j=()=>{c(D=>D.map(N=>N.goatId===b.motherId?{...N,isUnrecognized:!1}:N)),r(),v({isOpen:!1,motherId:""})};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border animate-fade-in space-y-4",children:[f.jsxs("div",{className:"flex items-center border-b border-brand-border pb-2",children:[f.jsx("button",{onClick:t,className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:f.jsx(Pi,{size:20})}),f.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mx-auto pr-8",children:"Entrada Rápida"})]}),f.jsxs("div",{className:"space-y-2 pt-2",children:[f.jsxs("label",{htmlFor:"session-date",className:"flex items-center gap-2 text-sm font-semibold text-zinc-400",children:[f.jsx(cf,{size:16}),"Fecha del Pesaje"]}),f.jsx("input",{id:"session-date",type:"date",value:h,onChange:D=>g(D.target.value),className:"w-full bg-black/20 text-white text-lg p-3 rounded-xl border-2 border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{ref:w,type:"text",value:i,onChange:D=>a(D.target.value),onKeyDown:S,placeholder:"ID Animal",className:"w-full bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none"}),f.jsx("input",{ref:x,type:"number",step:"0.01",value:o,onChange:D=>s(D.target.value),onKeyDown:C,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-black/20 text-white text-lg placeholder-zinc-500 p-4 rounded-xl border-2 border-transparent focus:border-brand-orange focus:ring-0 focus:outline-none"}),f.jsx("button",{onClick:A,disabled:!i||!o,"aria-label":"Añadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40 disabled:cursor-not-allowed",children:f.jsx(cl,{size:24})})]}),f.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2 border-t border-b border-brand-border py-2",children:[l.length===0&&f.jsx("p",{className:"text-center text-zinc-500 text-sm",children:"Los pesajes añadidos aparecerán aquí."}),l.map(D=>f.jsx(MCe,{entry:D,onDelete:E,onRegister:T},D.tempId))]}),f.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 bg-brand-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[f.jsx(CA,{size:20})," Guardar ",l.length>0?`(${l.length})`:""," Pesajes"]}),u&&f.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg text-sm ${u.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",u.type==="success"?f.jsx(rs,{size:18}):f.jsx(PH,{size:18})," ",f.jsx("span",{children:u.text})," "]})]}),f.jsx(Nt,{isOpen:b.isOpen,onClose:()=>v({isOpen:!1,motherId:""}),title:`Registrar Parto para: ${b.motherId}`,children:f.jsx(pT,{motherId:b.motherId,onSaveSuccess:j,onCancel:()=>v({isOpen:!1,motherId:""})})})]})};function $Ce({onNavigate:t}){const[e,n]=V.useState("options"),r=e==="options"?"options":"form";return f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[f.jsxs("header",{className:"text-center pt-8 pb-4",children:[f.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white",children:"Añadir Datos"}),f.jsx("p",{className:"text-xl text-zinc-400",children:"Captura de Producción"})]}),f.jsxs("div",{children:[e==="options"&&f.jsxs("div",{className:"space-y-4 animate-fade-in",children:[f.jsxs("button",{onClick:()=>n("rapid"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-orange text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[f.jsx(cp,{className:"w-12 h-12 mb-2 text-brand-orange"}),f.jsx("span",{className:"text-lg font-semibold",children:"Entrada Rápida"}),f.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Para carga masiva con teclado"})]}),f.jsxs("button",{onClick:()=>t("add-parturition"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-orange text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[f.jsx(Q0,{className:"w-12 h-12 mb-2 text-brand-green"}),f.jsx("span",{className:"text-lg font-semibold",children:"Registrar Parto"}),f.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Inicia una nueva lactancia"})]}),f.jsxs("button",{onClick:()=>t("ocr"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-orange text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[f.jsx(AH,{className:"w-12 h-12 mb-2 text-brand-blue"}),f.jsx("span",{className:"text-lg font-semibold",children:"Escanear Cuaderno"}),f.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Digitalización asistida por IA"})]}),f.jsxs("button",{onClick:()=>n("manual"),className:"w-full bg-brand-glass backdrop-blur-xl border border-brand-border hover:border-brand-orange text-white font-bold p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-all transform hover:scale-105",children:[f.jsx(cl,{className:"w-12 h-12 mb-2"}),f.jsx("span",{className:"text-lg font-semibold",children:"Entrada Individual"}),f.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"Formulario tradicional"})]})]}),e==="rapid"&&f.jsx(RCe,{onBack:()=>n("options"),onNavigate:t}),e==="manual"&&f.jsx(DCe,{onBack:()=>n("options")})]},r)]})}function LCe({navigateToRebano:t,onExitModule:e}){const[n,r]=V.useState("dashboard"),[i,a]=V.useState(null),o=[{id:"dashboard",label:"Dashboard",icon:X0},{id:"analysis",label:"Análisis",icon:bH},{id:"history",label:"Historial",icon:uH},{id:"add-data",label:"Añadir",icon:cl},{id:"drying",label:"Secado",icon:J0}],s=()=>{switch(n){case"dashboard":return f.jsx(ND,{onNavigateToAnalysis:()=>r("analysis")});case"analysis":return f.jsx(OCe,{onSelectAnimal:l=>t({name:"rebano-profile",animalId:l})});case"history":return f.jsx(NCe,{onSelectAnimal:l=>t({name:"rebano-profile",animalId:l}),selectedPeriod:i,setSelectedPeriod:a});case"add-data":return f.jsx($Ce,{onNavigate:(l,c)=>t({name:l,...c})});case"drying":return f.jsx(R5,{onSelectAnimal:l=>t({name:"rebano-profile",animalId:l})});default:return f.jsx(ND,{onNavigateToAnalysis:()=>r("analysis")})}};return f.jsxs("div",{className:"min-h-screen animate-fade-in",children:[f.jsx("button",{onClick:e,className:"fixed top-4 left-4 z-50 w-12 h-12 bg-zinc-800/80 backdrop-blur-md text-white rounded-full flex items-center justify-center shadow-lg hover:bg-zinc-700","aria-label":"Volver a Rebaño",children:f.jsx(Pi,{size:24})}),f.jsx("main",{className:"pb-24",children:s()}),f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:o.map(l=>f.jsxs("button",{onClick:()=>r(l.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${n===l.id?"text-brand-orange":"text-gray-400 hover:text-brand-orange"}`,children:[f.jsx(l.icon,{className:"w-6 h-6 mb-1"}),f.jsx("span",{className:"text-xs font-semibold",children:l.label})]},l.id))})]})}const VCe=({selectedDate:t,onDateChange:e,onOpenCalendar:n})=>{const r=V.useMemo(()=>{const a=new Date;return a.setHours(0,0,0,0),Array.from({length:7},(o,s)=>{const l=new Date(a);return l.setDate(a.getDate()-s),l})},[]),i=(a,o)=>{if(a.getTime()===o.getTime())return"Hoy";const s=new Date(o);return s.setDate(o.getDate()-1),a.getTime()===s.getTime()?"Ayer":a.toLocaleDateString("es-VE",{weekday:"short"}).replace(".","")};return f.jsxs("div",{className:"px-4",children:[f.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-zinc-400 mb-2",children:[f.jsx(cf,{size:16}),"Fecha del Pesaje"]}),f.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},children:[f.jsxs("button",{type:"button",onClick:n,className:"flex flex-col items-center justify-center bg-zinc-800/80 rounded-lg p-2 w-16 h-16 flex-shrink-0 text-zinc-300 hover:bg-zinc-700 transition-colors",children:[f.jsx(cf,{size:20}),f.jsx("span",{className:"text-xs mt-1",children:"Calendario"})]}),r.map(a=>{const o=a.getTime()===t.getTime();return f.jsxs("button",{type:"button",onClick:()=>e(a),className:`flex flex-col items-center justify-center rounded-lg p-2 w-16 h-16 flex-shrink-0 transition-colors ${o?"bg-brand-green text-white":"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700"}`,children:[f.jsx("span",{className:"text-xs capitalize",children:i(a,r[0])}),f.jsx("span",{className:"font-bold text-2xl",children:a.getDate()}),f.jsx("span",{className:"text-xs",children:a.toLocaleDateString("es-VE",{month:"short"}).replace(".","")})]},a.toISOString())})]})]})},FCe=({entry:t,onDelete:e})=>{const n=!t.isRecognized;return f.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center animate-fade-in group ${n?"bg-amber-900/40 border border-amber-500/50":"bg-zinc-800/50"}`,children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[n&&f.jsx(_i,{className:"text-amber-400 flex-shrink-0",size:18}),f.jsx("span",{className:"font-semibold text-white",children:t.animalId})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("span",{className:"text-zinc-300 font-semibold",children:[t.kg.toFixed(2)," Kg"]}),f.jsx("button",{onClick:()=>e(t.tempId),className:"p-1 text-zinc-400 hover:text-brand-red opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(jc,{size:16})})]})]})};function zCe({onSaveSuccess:t}){const{animals:e}=It(),[n,r]=V.useState(""),[i,a]=V.useState(""),[o,s]=V.useState([]),[l,c]=V.useState(null),[u,d]=V.useState(()=>{const E=new Date;return E.setHours(0,0,0,0),E}),[h,g]=V.useState(!1),b=V.useRef(null),v=V.useRef(null),w=V.useMemo(()=>new Set(e.map(E=>E.id)),[e]),x=()=>{var j;if(!n||!i)return;const E=n.toUpperCase().trim(),T={tempId:Date.now(),animalId:E,kg:parseFloat(i),date:u.toISOString().split("T")[0],isRecognized:w.has(E)};s(D=>[T,...D]),r(""),a(""),(j=b.current)==null||j.focus()},_=async()=>{c(null);const{currentUser:E}=lf;if(!E){c({type:"error",text:"Error de autenticación."});return}if(o.length===0){c({type:"error",text:"No hay pesajes para guardar."});return}try{const T=ev(Ft),j=qr(Ft,"bodyWeighings");o.forEach(D=>{const N=jr(j),$={animalId:D.animalId,kg:D.kg,date:D.date,userId:E.uid};T.set(N,$)}),await T.commit(),c({type:"success",text:`${o.length} pesajes guardados con éxito.`}),s([]),setTimeout(()=>{t(u.toISOString().split("T")[0])},1500)}catch(T){c({type:"error",text:"Ocurrió un error al guardar en la nube."}),console.error("Error en escritura por lote:",T)}},A=E=>{var T;E.key==="Enter"&&n&&(E.preventDefault(),(T=v.current)==null||T.focus())},k=E=>{E.key==="Enter"&&i&&(E.preventDefault(),x())},S=E=>{s(T=>T.filter(j=>j.tempId!==E))},C=E=>{E&&(E.setHours(0,0,0,0),d(E)),g(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-col h-full animate-fade-in",children:[f.jsxs("div",{className:"flex-shrink-0 space-y-4",children:[f.jsxs("header",{className:"text-center px-4",children:[f.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Añadir Pesaje Corporal"}),f.jsx("p",{className:"text-md text-zinc-400",children:"Entrada Rápida"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(VCe,{selectedDate:u,onDateChange:d,onOpenCalendar:()=>g(!0)}),f.jsxs("div",{className:"flex items-center gap-2 px-4",children:[f.jsx("input",{ref:b,type:"text",value:n,onChange:E=>r(E.target.value),onKeyDown:A,placeholder:"ID Animal",className:"w-full bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),f.jsx("input",{ref:v,type:"number",step:"0.01",value:i,onChange:E=>a(E.target.value),onKeyDown:k,placeholder:"Kg",className:"w-32 flex-shrink-0 bg-brand-glass p-4 rounded-xl text-lg placeholder-zinc-500 border-2 border-transparent focus:border-brand-green focus:ring-0"}),f.jsx("button",{onClick:x,disabled:!n||!i,"aria-label":"Añadir a la lista",className:"aspect-square h-full bg-brand-orange text-white rounded-xl flex items-center justify-center transition-all hover:bg-orange-600 disabled:opacity-40",children:f.jsx(cl,{size:24})})]})]})]}),f.jsxs("div",{className:"flex-grow overflow-y-auto px-4 space-y-2 py-4",children:[o.length===0&&f.jsx("p",{className:"text-center text-zinc-500 text-sm pt-8",children:"Los pesajes añadidos aparecerán aquí."}),o.map(E=>f.jsx(FCe,{entry:E,onDelete:S},E.tempId))]}),f.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-brand-border bg-gray-900/80 backdrop-blur-sm",children:[l&&f.jsxs("div",{className:`mb-3 flex items-center space-x-2 p-3 rounded-lg text-sm ${l.type==="success"?"bg-green-500/20 text-brand-green":"bg-red-500/20 text-brand-red"}`,children:[" ",l.type==="success"?f.jsx(rs,{size:18}):f.jsx(_i,{size:18})," ",f.jsx("span",{children:l.text})," "]}),f.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center gap-2 bg-brand-green/20 border border-brand-green text-brand-green hover:bg-brand-green/30 font-bold py-4 px-4 rounded-xl transition-colors text-lg",children:[f.jsx(CA,{size:20})," Guardar ",o.length>0?`(${o.length})`:""," Pesajes"]})]})]}),f.jsx(Nt,{isOpen:h,onClose:()=>g(!1),title:"Seleccionar Fecha",children:f.jsx("div",{className:"flex justify-center",children:f.jsx(dT,{mode:"single",selected:u,onSelect:C})})})]})}const BCe=({gdp:t,averageGdp:e})=>{if(!t||!e||e===0)return null;const n=t/e;return n>1.1?f.jsx(Gf,{size:18,className:"text-brand-green"}):n<.9?f.jsx(NH,{size:18,className:"text-brand-red"}):f.jsx(f4,{size:18,className:"text-zinc-500"})},UCe=({animal:t,onSelect:e,averageGdp:n})=>f.jsxs("button",{onClick:()=>e(t.id),className:"w-full text-left bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border flex justify-between items-center hover:border-brand-green transition-colors",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-lg text-white",children:t.id}),f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:[t.sex," | ",t.formattedAge," | Lote: ",t.location||"N/A"]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"font-semibold text-white",children:[(t.gdp.overall*1e3).toFixed(0)," ",f.jsx("span",{className:"text-sm text-zinc-400",children:"g/día"})]}),f.jsx("p",{className:`font-bold text-sm ${t.classification==="Sobresaliente"?"text-brand-green":t.classification==="Pobre"?"text-brand-red":"text-zinc-400"}`,children:t.classification})]}),f.jsx(BCe,{gdp:t.gdp.overall,averageGdp:n}),f.jsx(ll,{className:"text-zinc-600"})]})]});function DD({onSelectAnimal:t}){const{animals:e,bodyWeighings:n}=It(),r=V.useMemo(()=>{const i=e.filter(x=>["Cabrita","Cabritona","Cabrito","Macho de Levante"].includes(x.lifecycleStage));if(i.length===0)return{analyzedAnimals:[],distribution:[],averageGdp:0};let a=0,o=0;const s=i.map(x=>{const _=n.filter(k=>k.animalId===x.id),A=j5(x.birthWeight,_);return A.overall&&A.overall>0&&(a+=A.overall,o++),{...x,formattedAge:Jf(x.birthDate),gdp:A}}),l=o>0?a/o:0,c=s.map(x=>({...x,score:x.gdp.overall?Bte(x.gdp.overall,l,Ks(x.birthDate)):0})),u=c.filter(x=>x.score>0).map(x=>x.score),d=u.length>0?u.reduce((x,_)=>x+_,0)/u.length:0,h=u.length>0?Math.sqrt(u.reduce((x,_)=>x+Math.pow(_-d,2),0)/u.length):0,g=d-.4*h,b=d+.4*h,v=c.map(x=>{let _="Promedio";return x.score>0&&h>1&&(x.score<g?_="Pobre":x.score>b&&(_="Sobresaliente")),{...x,classification:_}}),w=[{name:"Pobre",count:v.filter(x=>x.classification==="Pobre").length,fill:"#FF3B30"},{name:"Promedio",count:v.filter(x=>x.classification==="Promedio").length,fill:"#6B7280"},{name:"Sobresaliente",count:v.filter(x=>x.classification==="Sobresaliente").length,fill:"#34C759"}];return{analyzedAnimals:v.sort((x,_)=>_.score-x.score),distribution:w,averageGdp:l}},[e,n]);return f.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4 animate-fade-in",children:[f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-zinc-400 font-semibold mb-2 text-xs uppercase tracking-wider",children:[f.jsx(Gf,{}),f.jsx("span",{children:"GDP Promedio del Levante"})]}),f.jsxs("p",{className:"text-4xl font-bold tracking-tight text-white",children:[(r.averageGdp*1e3).toFixed(0)," ",f.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"g/día"})]})]}),f.jsxs("div",{className:"bg-brand-glass backdrop-blur-xl rounded-2xl p-4 border border-brand-border",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Distribución del Crecimiento"}),f.jsx("div",{className:"w-full h-48",children:f.jsx(pi,{children:f.jsxs(Xa,{data:r.distribution,margin:{top:20,right:10,left:-20,bottom:0},children:[f.jsx(Qn,{dataKey:"name",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(Zn,{orientation:"left",tick:{fill:"rgba(255,255,255,0.7)",fontSize:12}}),f.jsx(xn,{content:f.jsx(f0,{}),cursor:{fill:"rgba(255, 255, 255, 0.05)"}}),f.jsx(Pr,{dataKey:"count",children:r.distribution.map(i=>f.jsx(ud,{fill:i.fill},i.name))})]})})})]}),f.jsxs("div",{className:"space-y-2 pt-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-zinc-300 ml-1",children:["Animales en Levante (",r.analyzedAnimals.length,")"]}),r.analyzedAnimals.length>0?r.analyzedAnimals.map(i=>f.jsx(UCe,{animal:i,onSelect:()=>t(i.id),averageGdp:r.averageGdp},i.id)):f.jsx("div",{className:"text-center py-10 bg-brand-glass rounded-2xl",children:f.jsx("p",{className:"text-zinc-500",children:"No hay animales en fase de levante o no se han registrado pesajes."})})]})]})}const WCe=()=>f.jsxs("div",{className:"text-center p-8 animate-fade-in",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Análisis de GDP"}),f.jsx("p",{className:"text-zinc-400 mt-2",children:"Aquí estará la Campana de Gauss y análisis de precocidad."})]});function KCe({navigateToRebano:t,onExitModule:e}){const[n,r]=V.useState("dashboard"),i=[{id:"dashboard",label:"Dashboard",icon:X0},{id:"analysis",label:"Análisis",icon:pH},{id:"add-data",label:"Añadir",icon:cl}],a=()=>{switch(n){case"dashboard":return f.jsx(DD,{onSelectAnimal:o=>t({name:"rebano-profile",animalId:o})});case"analysis":return f.jsx(WCe,{});case"add-data":return f.jsx(zCe,{onSaveSuccess:()=>r("dashboard")});default:return f.jsx(DD,{onSelectAnimal:o=>t({name:"rebano-profile",animalId:o})})}};return f.jsxs("div",{className:"min-h-screen animate-fade-in text-white flex flex-col",children:[f.jsx("header",{className:"flex-shrink-0 fixed top-0 left-0 right-0 z-20 bg-gray-900/80 backdrop-blur-lg border-b border-brand-border",children:f.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4",children:[f.jsx("button",{onClick:e,className:"p-2 -ml-2 text-zinc-400 hover:text-white","aria-label":"Volver a Rebaño",children:f.jsx(Pi,{size:24})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(vm,{className:"text-brand-green"}),f.jsx("h1",{className:"text-xl font-bold",children:"Kilos"})]}),f.jsx("div",{className:"w-8"})]})}),f.jsx("main",{className:"flex-grow pt-20 pb-24",children:a()}),f.jsx("nav",{className:"flex-shrink-0 fixed bottom-0 left-0 right-0 bg-black/30 backdrop-blur-xl border-t border-white/20 flex justify-around",children:i.map(o=>f.jsxs("button",{onClick:()=>r(o.id),className:`flex flex-col items-center justify-center p-3 w-full transition-colors ${n===o.id?"text-brand-green":"text-gray-400 hover:text-brand-green"}`,children:[f.jsx(o.icon,{className:"w-6 h-6 mb-1"}),f.jsx("span",{className:"text-xs font-semibold",children:o.label})]},o.id))})]})}function qCe(){const{currentUser:t}=n4(),[e,n]=V.useState("rebano"),[r,i]=V.useState(null),a=l=>{i(null),n(l)},o=()=>{n("rebano")},s=l=>{i(l),n("rebano")};if(!t)return f.jsx(RH,{});switch(e){case"lactokeeper":return f.jsx(LCe,{onExitModule:o,navigateToRebano:s});case"kilos":return f.jsx(KCe,{onExitModule:o,navigateToRebano:s});case"rebano":default:return f.jsx(ACe,{initialPage:r,onSwitchModule:a})}}Nw.createRoot(document.getElementById("root")).render(f.jsx(U.StrictMode,{children:f.jsx(aH,{children:f.jsx(LH,{children:f.jsx(qCe,{})})})}));
